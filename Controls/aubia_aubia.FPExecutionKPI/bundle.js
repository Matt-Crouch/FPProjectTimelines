/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
var pcf_tools_652ac3f36e1e4bca82eb3c1dc44e6fad;
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./FPExecutionKPI/index.ts":
/*!*********************************!*\
  !*** ./FPExecutionKPI/index.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FPExecutionKPI: () => (/* binding */ FPExecutionKPI)\n/* harmony export */ });\n/* harmony import */ var ag_grid_community__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ag-grid-community */ \"./node_modules/ag-grid-community/dist/package/main.esm.mjs\");\n/* harmony import */ var ag_grid_enterprise__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ag-grid-enterprise */ \"./node_modules/ag-grid-enterprise/dist/package/main.esm.mjs\");\n/*\n * Data Architecture:\n * 1. METRICS TABLE: Contains Impact KPI definitions (name, baseline values) - used for dropdown population\n * 2. METRIC DATA TABLE: Contains monthly baseline and actual values for each Impact KPI - used for actual value lookups\n * 3. BENEFITS TABLE: Contains generated ramp-up data with targets and planned values - used for AG Grid display and edits\n *\n * Data Flow:\n * - User selects Impact KPIs from Metrics table\n * - Component generates ramp-up data and saves to Benefits table\n * - Component fetches actual values from Metric Data table\n * - AG Grid displays and allows editing of Benefits table data\n * - Cell edits are saved back to Benefits table\n */\nvar __awaiter = undefined && undefined.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\n\n// Register AG Grid modules\nag_grid_community__WEBPACK_IMPORTED_MODULE_0__.ModuleRegistry.registerModules([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AllCommunityModule, ag_grid_enterprise__WEBPACK_IMPORTED_MODULE_1__.AllEnterpriseModule]);\nclass FPExecutionKPI {\n  /**\n   * Empty constructor.\n   */\n  constructor() {\n    this._kpiRows = [];\n    this._selectedKPIs = \"\";\n    this._hasGeneratedData = false; // Flag to prevent overwriting generated data\n    this._existingDataFound = false; // Flag to track if existing KPI Performance data was found\n    this._currentKPIData = []; // Store current KPI data for status calculations\n    // Component version from manifest\n    this._componentVersion = \"1.5.0\";\n    // Empty\n  }\n  /**\n   * Used to initialize the control instance. Controls can kick off remote server calls and other initialization actions here.\n   * Data-set values are not initialized here, use updateView.\n   * @param context The entire property bag available to control via Context Object; It contains values as set up by the customizer mapped to property names defined in the manifest, as well as utility functions.\n   * @param notifyOutputChanged A callback method to alert the framework that the control has new outputs ready to be retrieved asynchronously.\n   * @param state A piece of data that persists in one session for a single user. Can be set at any point in a controls life cycle by calling 'setControlState' in the Mode interface.\n   * @param container If a control is marked control-type='standard', it will receive an empty div element within which it can render its content.\n   */\n  init(context, notifyOutputChanged, state, container) {\n    this._context = context;\n    this._container = container;\n    this._notifyOutputChanged = notifyOutputChanged;\n    console.log('[ExecutionKPI] Component initializing...');\n    // Initialize with one KPI row (only one allowed)\n    this._kpiRows = [{\n      id: \"kpi-0\",\n      description: \"\",\n      hasBaseline: \"\",\n      baselineValue: 0,\n      monthlyTarget: 0,\n      startDate: \"\",\n      endDate: \"\",\n      higherIsBetter: \"\"\n    }];\n    console.log('[ExecutionKPI] Creating UI...');\n    this.createUI();\n    console.log('[ExecutionKPI] Binding events...');\n    this.bindEvents();\n    // No longer populating dropdowns - using direct form inputs\n    console.log('[ExecutionKPI] Loading existing KPI data...');\n    // Load existing KPI data for this project after dropdowns are populated\n    setTimeout(() => {\n      console.log('[ExecutionKPI] About to call loadExistingKPIData...');\n      this.loadExistingKPIData();\n    }, 1000); // Wait for dropdowns to be populated first\n    console.log('[ExecutionKPI] Component initialized successfully');\n    console.log('[ExecutionKPI] Current KPI rows state:', this._kpiRows);\n  }\n  createUI() {\n    console.log('[ExecutionKPI] Creating UI - container:', this._container);\n    // Clear container\n    this._container.innerHTML = \"\";\n    // Main container\n    this._mainContainer = document.createElement(\"div\");\n    this._mainContainer.className = \"impact-kpi-container\";\n    this._mainContainer.style.position = \"relative\"; // For positioning the version display\n    this._container.appendChild(this._mainContainer);\n    console.log('[ExecutionKPI] Main container created');\n    // Version display in top right corner\n    this.createVersionDisplay();\n    console.log('[ExecutionKPI] Version display created');\n    // KPI Selection Section\n    this.createKPISelectionSection();\n    console.log('[ExecutionKPI] KPI section created');\n    // Grid Section\n    this.createGridSection();\n    console.log('[ExecutionKPI] Grid section created');\n    console.log('[ExecutionKPI] UI creation complete');\n  }\n  createKPISelectionSection() {\n    this._kpiSection = document.createElement(\"div\");\n    this._kpiSection.className = \"kpi-selection-section\";\n    this._kpiSection.setAttribute(\"role\", \"region\");\n    this._kpiSection.setAttribute(\"aria-label\", \"Execution KPI Selection\");\n    // Header\n    var header = document.createElement(\"h2\");\n    header.textContent = \"Execution KPI Selection\";\n    this._kpiSection.appendChild(header);\n    // Screen reader description\n    var description = document.createElement(\"p\");\n    description.className = \"sr-only\";\n    description.textContent = \"Define up to 5 Execution KPIs and configure their targets and timelines\";\n    this._kpiSection.appendChild(description);\n    // No column headers needed - form fields have their own labels\n    // Container for dynamic KPI rows\n    var rowsContainer = document.createElement(\"div\");\n    rowsContainer.className = \"kpi-rows-container\";\n    rowsContainer.id = \"kpi-rows-container\";\n    // Create initial KPI row\n    this._kpiRows.forEach((kpiRow, index) => {\n      var row = this.createKPIRow(kpiRow, index);\n      rowsContainer.appendChild(row);\n    });\n    this._kpiSection.appendChild(rowsContainer);\n    // No Add New KPI button - users should only have one Execution KPI\n    // Save button container\n    var saveContainer = document.createElement(\"div\");\n    saveContainer.className = \"save-button-container\";\n    this._saveButton = document.createElement(\"button\");\n    this._saveButton.className = \"button button-primary\";\n    this._saveButton.textContent = \"Save & Generate Data\";\n    this._saveButton.setAttribute(\"aria-label\", \"Save KPI selections and generate monthly data\");\n    saveContainer.appendChild(this._saveButton);\n    this._kpiSection.appendChild(saveContainer);\n    // Status message with live region for screen readers\n    this._statusMessage = document.createElement(\"div\");\n    this._statusMessage.className = \"status-message\";\n    this._statusMessage.setAttribute(\"role\", \"status\");\n    this._statusMessage.setAttribute(\"aria-live\", \"polite\");\n    this._statusMessage.style.display = \"none\";\n    this._kpiSection.appendChild(this._statusMessage);\n    this._mainContainer.appendChild(this._kpiSection);\n  }\n  logDebug(message, data) {\n    console.log(\"[ExecutionKPI] \".concat(message), data);\n  }\n  logError(message, error) {\n    console.error(\"[ExecutionKPI] \".concat(message), error);\n  }\n  createFormField(label, id, type, options) {\n    var field = document.createElement(\"div\");\n    field.className = \"form-field\";\n    // Create label\n    var labelElement = document.createElement(\"label\");\n    labelElement.htmlFor = id;\n    labelElement.innerHTML = label;\n    // Removed required asterisks - all fields are required\n    field.appendChild(labelElement);\n    // Create input/select element\n    var inputElement;\n    if (type === \"select\") {\n      inputElement = document.createElement(\"select\");\n    } else {\n      inputElement = document.createElement(\"input\");\n      inputElement.type = type;\n    }\n    inputElement.id = id;\n    inputElement.name = id;\n    // Apply options\n    if (options) {\n      if (options.placeholder) {\n        if (type === \"select\") {\n          // Placeholder handled via first option\n        } else {\n          inputElement.placeholder = options.placeholder;\n        }\n      }\n      if (options.readOnly && inputElement instanceof HTMLInputElement) {\n        inputElement.readOnly = true;\n        inputElement.setAttribute(\"aria-readonly\", \"true\");\n      }\n      if (options.min !== undefined && inputElement instanceof HTMLInputElement) {\n        inputElement.min = options.min.toString();\n      }\n      if (options.max !== undefined && inputElement instanceof HTMLInputElement) {\n        inputElement.max = options.max.toString();\n      }\n      if (options.step !== undefined && inputElement instanceof HTMLInputElement) {\n        inputElement.step = options.step.toString();\n      }\n      if (options.required) {\n        inputElement.setAttribute(\"aria-required\", \"true\");\n      }\n      if (options.ariaDescription) {\n        var descId = \"\".concat(id, \"-desc\");\n        inputElement.setAttribute(\"aria-describedby\", descId);\n        var helpText = document.createElement(\"span\");\n        helpText.id = descId;\n        helpText.className = \"sr-only\";\n        helpText.textContent = options.ariaDescription;\n        field.appendChild(helpText);\n      }\n    }\n    field.appendChild(inputElement);\n    // Add error message container\n    var errorContainer = document.createElement(\"div\");\n    errorContainer.className = \"error-message\";\n    errorContainer.id = \"\".concat(id, \"-error\");\n    errorContainer.style.display = \"none\";\n    errorContainer.setAttribute(\"role\", \"alert\");\n    field.appendChild(errorContainer);\n    return field;\n  }\n  // Removed addNewKPIRow method - users can only have one Execution KPI\n  // Removed: populateMetricDropdown method - no longer using dropdown controls\n  // Removed: createHeaderBanner method - banner removed per user request\n  createVersionDisplay() {\n    this._versionDisplay = document.createElement(\"div\");\n    this._versionDisplay.className = \"version-display\";\n    this._versionDisplay.textContent = \"v\".concat(this._componentVersion);\n    this._versionDisplay.style.cssText = \"\\n            position: absolute;\\n            top: 8px;\\n            right: 8px;\\n            background-color: #f8f9fa;\\n            color: #6c757d;\\n            padding: 4px 8px;\\n            border-radius: 4px;\\n            font-size: 11px;\\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\\n            border: 1px solid #dee2e6;\\n            z-index: 1000;\\n            user-select: none;\\n            pointer-events: none;\\n        \";\n    this._mainContainer.appendChild(this._versionDisplay);\n  }\n  createKPIRow(kpiRow, index) {\n    var card = document.createElement(\"div\");\n    card.className = \"kpi-card\";\n    card.setAttribute(\"data-kpi-index\", index.toString());\n    var row = document.createElement(\"div\");\n    row.className = \"kpi-row\";\n    // Execution KPI Description (text input)\n    var descriptionField = this.createFormField(\"Execution KPI Description\", \"description-\".concat(index), \"text\", {\n      required: true,\n      placeholder: \"Enter KPI description (e.g., Reduce response time to under 2 hours)\",\n      ariaDescription: \"Describe your execution KPI using SMART criteria\"\n    });\n    // Baseline Available? (Yes/No select)\n    var baselineField = this.createFormField(\"Baseline Available?\", \"baseline-\".concat(index), \"select\", {\n      required: true,\n      ariaDescription: \"Is a baseline measurement available for this KPI?\"\n    });\n    var baselineSelect = baselineField.querySelector(\"select\");\n    baselineSelect.innerHTML = \"\\n            <option value=\\\"\\\">Select...</option>\\n            <option value=\\\"yes\\\">Yes</option>\\n            <option value=\\\"no\\\">No</option>\\n        \";\n    // Add change listener to show/hide baseline value field\n    baselineSelect.addEventListener('change', () => {\n      var baselineValueField = document.getElementById(\"baseline-value-container-\".concat(index));\n      if (baselineValueField) {\n        baselineValueField.style.display = baselineSelect.value === 'yes' ? 'block' : 'none';\n      }\n    });\n    // Baseline Value field (initially hidden)\n    var baselineValueContainer = document.createElement('div');\n    baselineValueContainer.id = \"baseline-value-container-\".concat(index);\n    baselineValueContainer.style.display = 'none';\n    var baselineValueField = this.createFormField(\"Baseline Value\", \"baseline-value-\".concat(index), \"number\", {\n      required: false,\n      step: 0.01,\n      placeholder: \"Enter baseline value\",\n      ariaDescription: \"Enter the baseline value for this KPI\"\n    });\n    baselineValueContainer.appendChild(baselineValueField);\n    // Monthly Target\n    var targetField = this.createFormField(\"Monthly Target\", \"target-\".concat(index), \"number\", {\n      required: true,\n      step: 0.01,\n      placeholder: \"Enter target value\",\n      ariaDescription: \"Enter the target value you want to achieve monthly\"\n    });\n    // Start Date\n    var startDateField = this.createDateField(\"start-date-\".concat(index), \"Start Date\");\n    // End Date\n    var endDateField = this.createDateField(\"end-date-\".concat(index), \"End Date\");\n    // Higher is Better? (Toggle)\n    var directionField = this.createFormField(\"Higher is Better?\", \"direction-\".concat(index), \"select\", {\n      required: true,\n      ariaDescription: \"Is a higher number better or worse for this KPI?\"\n    });\n    var directionSelect = directionField.querySelector(\"select\");\n    directionSelect.innerHTML = \"\\n            <option value=\\\"\\\">Select...</option>\\n            <option value=\\\"higher\\\">Higher is Better</option>\\n            <option value=\\\"lower\\\">Lower is Better</option>\\n        \";\n    // Clear button container\n    var clearButtonContainer = document.createElement(\"div\");\n    clearButtonContainer.className = \"clear-button-container\";\n    clearButtonContainer.style.cssText = \"\\n            display: flex;\\n            flex-direction: column;\\n            align-items: center;\\n            gap: 4px;\\n        \";\n    var clearButton = document.createElement(\"button\");\n    clearButton.textContent = \"Clear\";\n    clearButton.className = \"button button-ghost clear-kpi-btn\";\n    clearButton.setAttribute(\"aria-label\", \"Clear KPI \".concat(index + 1));\n    clearButton.style.backgroundColor = \"#d13438\";\n    clearButton.style.width = \"60px\";\n    clearButton.onclick = () => this.clearKPIRow(index);\n    clearButtonContainer.appendChild(clearButton);\n    // Date loaded display\n    var dateLoadedDisplay = document.createElement(\"div\");\n    dateLoadedDisplay.className = \"date-loaded-display\";\n    dateLoadedDisplay.id = \"date-loaded-\".concat(index);\n    dateLoadedDisplay.style.cssText = \"\\n            font-size: 10px;\\n            color: var(--neutral-600);\\n            text-align: center;\\n            white-space: nowrap;\\n            display: none;\\n        \";\n    clearButtonContainer.appendChild(dateLoadedDisplay);\n    row.appendChild(descriptionField);\n    row.appendChild(baselineField);\n    row.appendChild(baselineValueContainer);\n    row.appendChild(targetField);\n    row.appendChild(startDateField);\n    row.appendChild(endDateField);\n    row.appendChild(directionField);\n    row.appendChild(clearButtonContainer);\n    card.appendChild(row);\n    return card;\n  }\n  createDateField(id, label) {\n    var field = document.createElement(\"div\");\n    field.className = \"form-field\";\n    field.style.position = \"relative\";\n    var labelElement = document.createElement(\"label\");\n    labelElement.htmlFor = id;\n    labelElement.textContent = label;\n    field.appendChild(labelElement);\n    var input = document.createElement(\"input\");\n    input.type = \"date\";\n    input.id = id;\n    input.style.color = \"transparent\";\n    var placeholder = document.createElement(\"span\");\n    placeholder.textContent = \"Select Date\";\n    placeholder.style.cssText = \"\\n            position: absolute;\\n            left: 8px;\\n            top: 50%;\\n            transform: translateY(-50%);\\n            color: #999;\\n            pointer-events: none;\\n            font-size: 12px;\\n            font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;\\n            line-height: 1;\\n            height: 12px;\\n            display: flex;\\n            align-items: center;\\n            z-index: 1;\\n        \";\n    placeholder.id = \"\".concat(id, \"-placeholder\");\n    input.addEventListener('focus', () => {\n      input.style.color = \"#000\";\n      placeholder.style.display = \"none\";\n    });\n    input.addEventListener('blur', () => {\n      if (!input.value) {\n        input.style.color = \"transparent\";\n        placeholder.style.display = \"block\";\n      }\n    });\n    input.addEventListener('change', () => {\n      if (input.value) {\n        input.style.color = \"#000\";\n        placeholder.style.display = \"none\";\n      } else {\n        input.style.color = \"transparent\";\n        placeholder.style.display = \"block\";\n      }\n    });\n    field.appendChild(input);\n    field.appendChild(placeholder);\n    return field;\n  }\n  createGridSection() {\n    console.log('[ExecutionKPI] Creating grid section...');\n    this._gridSection = document.createElement(\"div\");\n    this._gridSection.className = \"grid-section\";\n    this._gridSection.setAttribute(\"role\", \"region\");\n    this._gridSection.setAttribute(\"aria-label\", \"Monthly Data Grid\");\n    // Header\n    var header = document.createElement(\"h2\");\n    header.textContent = \"Execution KPI Profile\";\n    this._gridSection.appendChild(header);\n    // Grid controls container (for buttons above grid)\n    var gridControlsContainer = document.createElement(\"div\");\n    gridControlsContainer.className = \"grid-controls-container\";\n    gridControlsContainer.style.cssText = \"\\n            display: flex;\\n            justify-content: flex-end;\\n            margin-bottom: 16px;\\n            gap: 12px;\\n        \";\n    // Add Next Month button\n    var addNextMonthBtn = document.createElement(\"button\");\n    addNextMonthBtn.className = \"button button-secondary add-month-btn\";\n    addNextMonthBtn.innerHTML = '<span>+</span> Add Next Month';\n    addNextMonthBtn.setAttribute(\"aria-label\", \"Add data row for next month\");\n    addNextMonthBtn.onclick = () => this.addNextMonthRow();\n    gridControlsContainer.appendChild(addNextMonthBtn);\n    this._gridSection.appendChild(gridControlsContainer);\n    // Grid container\n    this._gridContainer = document.createElement(\"div\");\n    this._gridContainer.className = \"ag-grid-container ag-theme-alpine\";\n    this._gridContainer.setAttribute(\"role\", \"grid\");\n    this._gridContainer.setAttribute(\"aria-label\", \"Monthly KPI data table\");\n    this._gridSection.appendChild(this._gridContainer);\n    this._mainContainer.appendChild(this._gridSection);\n    console.log('[ExecutionKPI] Grid section appended to main container');\n    console.log('[ExecutionKPI] Grid container element:', this._gridContainer);\n    // Initialize AG Grid\n    this.initializeGrid();\n  }\n  initializeGrid() {\n    console.log('[ExecutionKPI] Initializing AG Grid...');\n    var columnDefs = [{\n      headerName: \"Month\",\n      field: \"month\",\n      flex: 0.8,\n      minWidth: 80,\n      editable: false,\n      cellStyle: {\n        textAlign: 'center',\n        backgroundColor: '#f5f5f5',\n        color: '#666'\n      },\n      headerClass: 'text-center'\n    }, {\n      headerName: \"Year\",\n      field: \"year\",\n      flex: 0.6,\n      minWidth: 70,\n      editable: false,\n      cellStyle: {\n        textAlign: 'center',\n        backgroundColor: '#f5f5f5',\n        color: '#666'\n      },\n      headerClass: 'text-center'\n    }, {\n      headerName: \"Date\",\n      field: \"date\",\n      flex: 0.8,\n      minWidth: 90,\n      editable: false,\n      cellStyle: {\n        textAlign: 'center',\n        backgroundColor: '#f5f5f5',\n        color: '#666'\n      },\n      headerClass: 'text-center',\n      sort: 'asc',\n      // Default sort ascending by date\n      sortIndex: 0,\n      // Primary sort column\n      valueFormatter: params => {\n        if (!params.value) {\n          console.log('[ExecutionKPI] Date formatter: No value', {\n            params: params\n          });\n          return '';\n        }\n        // Format date as DD/MM/YYYY (Australian format)\n        var date = new Date(params.value);\n        if (isNaN(date.getTime())) {\n          console.log('[ExecutionKPI] Date formatter: Invalid date', {\n            value: params.value\n          });\n          return params.value; // Return raw value if date is invalid\n        }\n        console.log('[ExecutionKPI] Date formatter: Formatting date', {\n          rawValue: params.value,\n          parsedDate: date\n        });\n        return date.toLocaleDateString('en-AU', {\n          day: '2-digit',\n          month: '2-digit',\n          year: 'numeric'\n        });\n      },\n      comparator: (valueA, valueB) => {\n        // Custom comparator for proper date sorting\n        var dateA = new Date(valueA);\n        var dateB = new Date(valueB);\n        return dateA.getTime() - dateB.getTime();\n      }\n    }, {\n      headerName: \"Baseline\",\n      field: \"baseline\",\n      flex: 0.8,\n      minWidth: 80,\n      editable: true,\n      type: \"numericColumn\",\n      valueFormatter: params => {\n        var _a;\n        return ((_a = params.value) === null || _a === void 0 ? void 0 : _a.toFixed(2)) || \"0.00\";\n      },\n      cellStyle: {\n        textAlign: 'center'\n      },\n      headerClass: 'text-center'\n    }, {\n      headerName: \"Planned Target\",\n      field: \"plannedTarget\",\n      flex: 1,\n      minWidth: 100,\n      editable: true,\n      type: \"numericColumn\",\n      valueFormatter: params => {\n        var _a;\n        return ((_a = params.value) === null || _a === void 0 ? void 0 : _a.toFixed(2)) || \"0.00\";\n      },\n      cellStyle: {\n        textAlign: 'center'\n      },\n      headerClass: 'text-center'\n    }, {\n      headerName: \"Revised Target\",\n      field: \"revisedTarget\",\n      flex: 1,\n      minWidth: 100,\n      editable: true,\n      type: \"numericColumn\",\n      valueFormatter: params => {\n        var _a;\n        return ((_a = params.value) === null || _a === void 0 ? void 0 : _a.toFixed(2)) || \"0.00\";\n      },\n      cellStyle: {\n        textAlign: 'center'\n      },\n      headerClass: 'text-center'\n    }, {\n      headerName: \"Actual\",\n      field: \"actualValue\",\n      flex: 1,\n      minWidth: 100,\n      editable: true,\n      type: \"numericColumn\",\n      valueFormatter: params => {\n        var value = params.value;\n        if (!value) return \"0.00\";\n        // Simple numeric formatting for Execution KPIs\n        return value.toFixed(2);\n      },\n      cellStyle: params => {\n        var _a;\n        var baseStyle = {\n          textAlign: 'center'\n        };\n        // Add performance-based coloring\n        if ((_a = params.data) === null || _a === void 0 ? void 0 : _a.status) {\n          switch (params.data.status) {\n            case 'On Track':\n              return Object.assign(Object.assign({}, baseStyle), {\n                backgroundColor: '#e6f4ea',\n                color: '#107c10'\n              });\n            case 'At Risk':\n              return Object.assign(Object.assign({}, baseStyle), {\n                backgroundColor: '#fff4e5',\n                color: '#ff8c00'\n              });\n            case 'Off Track':\n              return Object.assign(Object.assign({}, baseStyle), {\n                backgroundColor: '#fde7e9',\n                color: '#d13438'\n              });\n          }\n        }\n        return baseStyle;\n      },\n      // Removed cellClass - no longer using valueDriver-specific styling\n      headerClass: 'text-center'\n    }, {\n      headerName: \"Status\",\n      field: \"status\",\n      flex: 1,\n      minWidth: 100,\n      editable: false,\n      cellStyle: {\n        textAlign: 'center',\n        backgroundColor: '#f5f5f5'\n      },\n      headerClass: 'text-center',\n      cellRenderer: params => {\n        if (!params.data) return '-';\n        var status = params.data.status;\n        if (!status) {\n          return '<span style=\"color: #666; font-weight: bold; font-size: 12px;\">-</span>';\n        }\n        // Add icon and color based on status\n        var icon = '';\n        var color = '#666';\n        switch (status) {\n          case 'On Track':\n            icon = 'âœ“';\n            color = '#107c10';\n            break;\n          case 'At Risk':\n            icon = 'âš ';\n            color = '#ff8c00';\n            break;\n          case 'Off Track':\n            icon = 'âœ—';\n            color = '#d13438';\n            break;\n        }\n        return \"<span style=\\\"color: \".concat(color, \"; font-weight: bold; font-size: 12px; display: inline-flex; align-items: center; gap: 4px;\\\"><span>\").concat(icon, \"</span><span>\").concat(status, \"</span></span>\");\n      }\n    }, {\n      headerName: \"Save Status\",\n      field: \"saveStatus\",\n      flex: 0.8,\n      minWidth: 80,\n      editable: false,\n      cellStyle: {\n        textAlign: 'center',\n        backgroundColor: '#f5f5f5'\n      },\n      headerClass: 'text-center',\n      cellRenderer: params => {\n        var _a;\n        // Don't show values for grouped rows\n        if ((_a = params.node) === null || _a === void 0 ? void 0 : _a.group) return '';\n        if (!params.data || !params.data.saveStatus) return '';\n        var status = params.data.saveStatus;\n        if (status === 'saving') {\n          return '<span style=\"color: #0078d4; font-size: 12px;\">ðŸ’¾ Saving...</span>';\n        } else if (status === 'saved') {\n          return '<span style=\"color: #28a745; font-size: 12px;\">âœ“ Saved</span>';\n        } else if (status === 'error') {\n          return '<span style=\"color: #dc3545; font-size: 12px;\">âœ— Error</span>';\n        }\n        return '';\n      }\n    }, {\n      headerName: \"Notes/Comments\",\n      field: \"comments\",\n      flex: 1.5,\n      minWidth: 150,\n      editable: true,\n      cellStyle: {\n        textAlign: 'left',\n        padding: '8px'\n      },\n      headerClass: 'text-center',\n      cellEditor: 'agLargeTextCellEditor',\n      cellEditorParams: {\n        maxLength: 500,\n        rows: 3,\n        cols: 50\n      },\n      tooltipField: \"comments\",\n      wrapText: true,\n      autoHeight: false\n    }, {\n      headerName: \"Date Loaded\",\n      field: \"dateLoaded\",\n      flex: 0.8,\n      minWidth: 90,\n      editable: false,\n      cellStyle: {\n        textAlign: 'center',\n        backgroundColor: '#f5f5f5',\n        color: '#666'\n      },\n      headerClass: 'text-center',\n      valueFormatter: params => {\n        if (!params.value) return '';\n        // Format date as DD/MM/YYYY\n        var date = new Date(params.value);\n        if (isNaN(date.getTime())) {\n          return params.value; // Return raw value if date is invalid\n        }\n        return date.toLocaleDateString('en-AU', {\n          day: '2-digit',\n          month: '2-digit',\n          year: 'numeric'\n        });\n      }\n    }];\n    var gridOptions = {\n      columnDefs: columnDefs,\n      rowData: [],\n      animateRows: true,\n      // Removed enterprise features that require specific modules\n      // enableRangeSelection: true,\n      // enableCharts: true,\n      // sideBar: true,\n      onCellValueChanged: event => this.onCellValueChanged(event),\n      rowSelection: 'multiple',\n      // Auto-size columns to fill container width\n      suppressHorizontalScroll: false,\n      onGridReady: params => {\n        params.api.sizeColumnsToFit();\n      },\n      onGridSizeChanged: params => {\n        params.api.sizeColumnsToFit();\n      }\n    };\n    console.log('[ExecutionKPI] Creating grid with options:', gridOptions);\n    console.log('[ExecutionKPI] Grid container:', this._gridContainer);\n    console.log('[ExecutionKPI] Grid container dimensions:', this._gridContainer.offsetWidth, 'x', this._gridContainer.offsetHeight);\n    // Ensure the grid container has proper dimensions\n    if (this._gridContainer.offsetHeight === 0) {\n      this._gridContainer.style.height = '400px';\n      console.log('[ExecutionKPI] Set grid container height to 400px');\n    }\n    try {\n      this._gridApi = (0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.createGrid)(this._gridContainer, gridOptions);\n      console.log('[ExecutionKPI] Grid created successfully:', this._gridApi);\n      // Load existing project data instead of test data\n      setTimeout(() => {\n        this.loadProjectDataToGrid();\n      }, 500);\n    } catch (error) {\n      console.error('[ExecutionKPI] Error creating grid:', error);\n    }\n  }\n  loadProjectDataToGrid() {\n    return __awaiter(this, void 0, void 0, function* () {\n      try {\n        this.logDebug(\"Starting loadProjectDataToGrid\");\n        // Get the Project ID from form context\n        var projectId = this.getProjectIdFromContext();\n        if (!projectId) {\n          this.logDebug(\"No Project ID found - showing empty grid\");\n          if (this._gridApi) {\n            this._gridApi.setGridOption('rowData', []);\n          }\n          return;\n        }\n        this.logDebug(\"Loading data for Project ID\", {\n          projectId\n        });\n        // Check if we're in test harness\n        if (!this._context.webAPI || this.isTestHarness()) {\n          this.logDebug(\"Test harness detected - showing empty grid\");\n          if (this._gridApi) {\n            this._gridApi.setGridOption('rowData', []);\n          }\n          return;\n        }\n        // Query the KPI performance table for existing records for this project\n        var filter = \"_cr725_relatedproject_value eq \".concat(projectId);\n        var query = \"?$filter=\".concat(encodeURIComponent(filter), \"&$select=cr725_bihub_kpiperformanceid,cr725_year,cr725_month,cr725_kpitarget,cr725_revisedtarget,cr725_kpiactual,cr725_kpibaseline,cr725_ishigherbetter,_cr725_relatedkpi_value,cr725_date,cr725_comment,cr725_dateloaded,cr725_executionkpidescription\");\n        this.logDebug(\"Querying KPI performance table with project filter\", {\n          filter,\n          query\n        });\n        var existingRecords = yield this._context.webAPI.retrieveMultipleRecords(\"cr725_bihub_kpiperformance\", query);\n        this.logDebug(\"Found \".concat(existingRecords.entities.length, \" existing records\"), existingRecords);\n        if (existingRecords.entities.length > 0) {\n          // Set flag to indicate existing data was found\n          this._existingDataFound = true;\n          this._hasGeneratedData = true; // Also set this to prevent new generation\n          // Extract KPI information from the first record to populate form\n          var firstRecord = existingRecords.entities[0];\n          var kpiName = firstRecord.cr725_executionkpidescription || 'Execution KPI';\n          // Convert the records to MetricDataRow format\n          var metricDataRows = existingRecords.entities.map((record, index) => {\n            var monthName = this.getMonthName(record.cr725_month || 1);\n            var metricName = record.cr725_executionkpidescription || 'Execution KPI';\n            var valueDriver = ''; // Not available in this table structure\n            var metricId = record._cr725_relatedkpi_value || \"existing-\".concat(index);\n            // Format the date field for AG Grid if it exists\n            var formattedDate = '';\n            if (record.cr725_date) {\n              try {\n                var dateObj = new Date(record.cr725_date);\n                formattedDate = \"\".concat(record.cr725_year, \"-\").concat(String(record.cr725_month || 1).padStart(2, '0'), \"-01\");\n              } catch (error) {\n                this.logError(\"Error formatting date from database\", error);\n                formattedDate = \"\".concat(record.cr725_year, \"-\").concat(String(record.cr725_month || 1).padStart(2, '0'), \"-01\");\n              }\n            } else {\n              formattedDate = \"\".concat(record.cr725_year, \"-\").concat(String(record.cr725_month || 1).padStart(2, '0'), \"-01\");\n            }\n            // Format date loaded\n            var dateLoadedFormatted = '';\n            if (record.cr725_dateloaded) {\n              try {\n                var dateLoadedObj = new Date(record.cr725_dateloaded);\n                dateLoadedFormatted = dateLoadedObj.toISOString();\n              } catch (error) {\n                this.logError(\"Error formatting date loaded from database\", error);\n              }\n            }\n            return {\n              id: record.cr725_bihub_kpiperformanceid || \"record-\".concat(index),\n              metricId: metricId,\n              metricName: metricName,\n              valueDriver: valueDriver,\n              month: monthName,\n              year: record.cr725_year || new Date().getFullYear(),\n              date: formattedDate,\n              baseline: record.cr725_kpibaseline || 0,\n              upliftPercentage: 0,\n              // Not stored in this table\n              plannedTarget: record.cr725_kpitarget || 0,\n              revisedTarget: record.cr725_revisedtarget || record.cr725_kpitarget || 0,\n              actualValue: record.cr725_kpiactual || 0,\n              dateLoaded: dateLoadedFormatted,\n              comments: record.cr725_comment || '' // Include comments from cr725_comment field\n            };\n          });\n          // Populate form with existing KPI data\n          this.populateFormWithExistingData(kpiName, metricDataRows);\n          this.logDebug(\"Converted records to MetricDataRow format\", metricDataRows);\n          // Update the grid with existing data\n          if (this._gridApi) {\n            this._gridApi.setGridOption('rowData', metricDataRows);\n          }\n          // Update grid title to show KPI name\n          this.updateGridTitle(kpiName);\n          this.logDebug(\"Loaded \".concat(metricDataRows.length, \" existing records into grid\"));\n        } else {\n          this.logDebug(\"No existing records found - showing empty grid\");\n          if (this._gridApi) {\n            this._gridApi.setGridOption('rowData', []);\n          }\n        }\n      } catch (error) {\n        this.logError(\"Error loading project data to grid\", error);\n        // Show empty grid on error\n        if (this._gridApi) {\n          this._gridApi.setGridOption('rowData', []);\n        }\n      }\n    });\n  }\n  getMonthName(monthNumber) {\n    var months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];\n    // Convert from 1-based to 0-based index\n    var index = monthNumber - 1;\n    return index >= 0 && index < 12 ? months[index] : 'January';\n  }\n  loadExistingKPIData() {\n    return __awaiter(this, void 0, void 0, function* () {\n      try {\n        this.logDebug(\"Loading existing Execution KPI data for project\");\n        // For now, keeping the form empty since we're transitioning to the new Execution KPI structure\n        // This method would need to be updated to load data from the new Execution KPI table structure\n        // when that becomes available\n        this.logDebug(\"Keeping form empty - new Execution KPI structure not yet implemented\");\n      } catch (error) {\n        this.logError(\"Error loading existing KPI data\", error);\n        // Keep form empty on error\n      }\n    });\n  }\n  bindEvents() {\n    this._saveButton.onclick = () => this.saveAndGenerateData();\n  }\n  clearKPIRow(index) {\n    if (this._kpiRows.length === 1) {\n      // If there's only one row, clear it but don't remove\n      var descriptionInput = document.getElementById(\"description-\".concat(index));\n      var baselineSelect = document.getElementById(\"baseline-\".concat(index));\n      var baselineValueInput = document.getElementById(\"baseline-value-\".concat(index));\n      var baselineValueContainer = document.getElementById(\"baseline-value-container-\".concat(index));\n      var targetInput = document.getElementById(\"target-\".concat(index));\n      var startDateInput = document.getElementById(\"start-date-\".concat(index));\n      var endDateInput = document.getElementById(\"end-date-\".concat(index));\n      var directionSelect = document.getElementById(\"direction-\".concat(index));\n      if (descriptionInput) descriptionInput.value = \"\";\n      if (baselineSelect) baselineSelect.value = \"\";\n      if (baselineValueInput) baselineValueInput.value = \"\";\n      if (baselineValueContainer) baselineValueContainer.style.display = \"none\";\n      if (targetInput) targetInput.value = \"\";\n      if (startDateInput) startDateInput.value = \"\";\n      if (endDateInput) endDateInput.value = \"\";\n      if (directionSelect) directionSelect.value = \"\";\n      this._kpiRows[index] = {\n        id: \"kpi-\".concat(index),\n        description: \"\",\n        hasBaseline: \"\",\n        baselineValue: 0,\n        monthlyTarget: 0,\n        startDate: \"\",\n        endDate: \"\",\n        higherIsBetter: \"\"\n      };\n      // Clear any validation errors and visual state\n      var card = document.querySelector(\"[data-kpi-index=\\\"\".concat(index, \"\\\"]\"));\n      if (card) {\n        card.classList.remove(\"has-data\");\n        // Clear any error states\n        var errorFields = card.querySelectorAll('.has-error');\n        errorFields.forEach(field => field.classList.remove('has-error'));\n        var errorMessages = card.querySelectorAll('.error-message');\n        errorMessages.forEach(msg => {\n          msg.style.display = 'none';\n        });\n      }\n    } else {\n      // Remove the row entirely and reindex\n      this.removeKPIRow(index);\n    }\n    // Reset the generated data flag so users can generate new data\n    this._hasGeneratedData = false;\n    this.logDebug(\"Cleared/removed KPI row \".concat(index));\n  }\n  removeKPIRow(index) {\n    // Remove from array\n    this._kpiRows.splice(index, 1);\n    // Remove from DOM\n    var rowsContainer = document.getElementById(\"kpi-rows-container\");\n    if (rowsContainer) {\n      var cardToRemove = rowsContainer.querySelector(\"[data-kpi-index=\\\"\".concat(index, \"\\\"]\"));\n      if (cardToRemove) {\n        cardToRemove.remove();\n      }\n      // Update remaining rows' indices and event handlers\n      this.reindexKPIRows();\n    }\n    // Show add button if we're below the limit\n    if (this._kpiRows.length < 5) {\n      var addButton = document.querySelector(\".add-kpi-btn\");\n      if (addButton) {\n        addButton.style.display = \"inline-flex\";\n      }\n    }\n  }\n  reindexKPIRows() {\n    var rowsContainer = document.getElementById(\"kpi-rows-container\");\n    if (!rowsContainer) return;\n    var cards = Array.from(rowsContainer.querySelectorAll(\".kpi-card\"));\n    // Update array and DOM elements\n    cards.forEach((card, newIndex) => {\n      var _a;\n      var oldIndex = parseInt(card.getAttribute(\"data-kpi-index\") || \"0\");\n      // Update the card's data attribute\n      card.setAttribute(\"data-kpi-index\", newIndex.toString());\n      // Update all form element IDs within the card\n      var formElements = card.querySelectorAll(\"[id*='-']\");\n      formElements.forEach(element => {\n        var currentId = element.id;\n        var baseName = currentId.replace(/-\\d+$/, \"\");\n        var newId = \"\".concat(baseName, \"-\").concat(newIndex);\n        element.id = newId;\n        // Update corresponding labels\n        var label = card.querySelector(\"label[for=\\\"\".concat(currentId, \"\\\"]\"));\n        if (label) {\n          label.setAttribute(\"for\", newId);\n        }\n      });\n      // Update aria-describedby attributes\n      var inputsWithDesc = card.querySelectorAll(\"[aria-describedby]\");\n      inputsWithDesc.forEach(input => {\n        var currentDesc = input.getAttribute(\"aria-describedby\");\n        if (currentDesc) {\n          var baseDesc = currentDesc.replace(/-\\d+-desc$/, \"\");\n          input.setAttribute(\"aria-describedby\", \"\".concat(baseDesc, \"-\").concat(newIndex, \"-desc\"));\n        }\n      });\n      // No longer need to re-attach metric dropdown listeners since we're using direct inputs\n      // Re-attach event listeners for the clear button\n      var clearButton = card.querySelector('.clear-kpi-btn');\n      if (clearButton) {\n        // Remove old event listeners by cloning the element\n        var newClearButton = clearButton.cloneNode(true);\n        (_a = clearButton.parentNode) === null || _a === void 0 ? void 0 : _a.replaceChild(newClearButton, clearButton);\n        // Add new event listener with correct index\n        newClearButton.addEventListener('click', () => this.clearKPIRow(newIndex));\n        newClearButton.setAttribute(\"aria-label\", \"Clear KPI \".concat(newIndex + 1));\n      }\n      // Update the KPI row data\n      if (this._kpiRows[newIndex]) {\n        this._kpiRows[newIndex].id = \"kpi-\".concat(newIndex);\n      }\n    });\n    this.logDebug(\"Reindexed \".concat(cards.length, \" KPI rows\"));\n  }\n  saveAndGenerateData() {\n    return __awaiter(this, void 0, void 0, function* () {\n      try {\n        this.logDebug(\"Starting saveAndGenerateData process\");\n        this.showStatus(\"Saving data...\", \"loading\");\n        // Check if existing data found - prevent save if so\n        if (this._existingDataFound) {\n          this.showStatus(\"Existing KPI performance data found for this project. Please clear existing data first to create new KPI data.\", \"error\");\n          return;\n        }\n        // Collect KPI data\n        var kpiData = this.collectKPIData();\n        this.logDebug(\"Collected KPI data\", kpiData);\n        // Validate data\n        if (!this.validateKPIData(kpiData)) {\n          var errorMsg = \"Please fill in all required fields for at least one Execution KPI.\";\n          this.logError(errorMsg);\n          this.showStatus(errorMsg, \"error\");\n          return;\n        }\n        // Store KPI data for status calculations\n        this._currentKPIData = kpiData;\n        // Generate metric data rows (with baseline = 0 initially)\n        var metricDataRows = this.generateMetricDataRows(kpiData);\n        this.logDebug(\"Generated metric data rows (before baseline fetch)\", metricDataRows);\n        // Skip fetching baselines from Metric Data table - we use the form value now\n        this.logDebug(\"Using baseline values from form input\", metricDataRows);\n        // Calculate planned targets now that we have baselines\n        this.logDebug(\"Calculating planned targets...\");\n        this.calculatePlannedTargets(metricDataRows, kpiData);\n        this.logDebug(\"Planned targets calculated\", metricDataRows);\n        // Fetch actual values from linked data table\n        this.logDebug(\"Fetching actual values...\");\n        yield this.fetchActualValuesFromDataverse(metricDataRows);\n        this.logDebug(\"Actual values fetched\", metricDataRows);\n        // Save to Dataverse\n        this.logDebug(\"Saving to Benefits table...\");\n        yield this.saveMetricDataToDataverse(metricDataRows, kpiData);\n        this.logDebug(\"Data saved successfully\");\n        // Update grid\n        this.updateGrid(metricDataRows);\n        // Set flag to prevent overwriting generated data\n        this._hasGeneratedData = true;\n        // Update output\n        this._selectedKPIs = JSON.stringify(kpiData);\n        this._notifyOutputChanged();\n        this.showStatus(\"Data saved successfully!\", \"success\");\n      } catch (error) {\n        console.error('[ExecutionKPI] Error in saveAndGenerateData:', error);\n        console.error('[ExecutionKPI] Error details:', {\n          message: error instanceof Error ? error.message : String(error),\n          stack: error instanceof Error ? error.stack : 'No stack trace',\n          error: error\n        });\n        // Show more detailed error message\n        var errorMessage = 'Unknown error occurred';\n        if (error instanceof Error) {\n          errorMessage = error.message;\n        } else if (typeof error === 'string') {\n          errorMessage = error;\n        } else {\n          errorMessage = JSON.stringify(error);\n        }\n        this.showStatus(\"Error saving data: \".concat(errorMessage), \"error\");\n      }\n    });\n  }\n  collectKPIData() {\n    var kpiData = [];\n    for (var i = 0; i < this._kpiRows.length; i++) {\n      var descriptionInput = document.getElementById(\"description-\".concat(i));\n      var baselineSelect = document.getElementById(\"baseline-\".concat(i));\n      var baselineValueInput = document.getElementById(\"baseline-value-\".concat(i));\n      var targetInput = document.getElementById(\"target-\".concat(i));\n      var startDateInput = document.getElementById(\"start-date-\".concat(i));\n      var endDateInput = document.getElementById(\"end-date-\".concat(i));\n      var directionSelect = document.getElementById(\"direction-\".concat(i));\n      if (descriptionInput.value.trim()) {\n        kpiData.push({\n          id: \"kpi-\".concat(i),\n          description: descriptionInput.value.trim(),\n          hasBaseline: baselineSelect.value,\n          baselineValue: baselineSelect.value === 'yes' ? parseFloat(baselineValueInput.value) || 0 : 0,\n          monthlyTarget: parseFloat(targetInput.value) || 0,\n          startDate: startDateInput.value,\n          endDate: endDateInput.value,\n          higherIsBetter: directionSelect.value\n        });\n      }\n    }\n    return kpiData;\n  }\n  validateKPIData(kpiData) {\n    return kpiData.length > 0 && kpiData.every(kpi => kpi.description && kpi.hasBaseline && kpi.monthlyTarget > 0 && kpi.startDate && kpi.endDate && kpi.higherIsBetter && new Date(kpi.startDate) < new Date(kpi.endDate));\n  }\n  generateMetricDataRows(kpiData) {\n    var metricDataRows = [];\n    kpiData.forEach(kpi => {\n      var startDate = new Date(kpi.startDate);\n      var endDate = new Date(kpi.endDate);\n      // Generate months from start date to end date\n      var currentDate = new Date(startDate);\n      currentDate.setDate(1); // Start from first day of month\n      while (currentDate <= endDate) {\n        // Create the row with monthly target as planned target\n        metricDataRows.push({\n          id: \"\".concat(kpi.id, \"-\").concat(currentDate.getFullYear(), \"-\").concat(currentDate.getMonth() + 1),\n          metricId: kpi.id,\n          // Using KPI id as metricId\n          metricName: kpi.description,\n          // Using description as metric name\n          month: currentDate.toLocaleString('default', {\n            month: 'long'\n          }),\n          year: currentDate.getFullYear(),\n          date: \"\".concat(currentDate.getFullYear(), \"-\").concat((currentDate.getMonth() + 1).toString().padStart(2, '0'), \"-01\"),\n          baseline: kpi.hasBaseline === 'yes' ? kpi.baselineValue : 0,\n          // Use baseline value from form if available\n          upliftPercentage: 0,\n          // Not applicable for execution KPIs\n          plannedTarget: kpi.monthlyTarget,\n          // Use the monthly target\n          revisedTarget: kpi.monthlyTarget,\n          // Initialize to same as planned\n          actualValue: 0,\n          // Will be populated from actual data\n          comments: '' // Initialize empty comments\n        });\n        // Move to next month\n        currentDate.setMonth(currentDate.getMonth() + 1);\n      }\n    });\n    return metricDataRows;\n  }\n  getMonthsDifference(startDate, endDate) {\n    var months = (endDate.getFullYear() - startDate.getFullYear()) * 12;\n    return months + (endDate.getMonth() - startDate.getMonth());\n  }\n  saveMetricDataToDataverse(metricDataRows, kpiData) {\n    return __awaiter(this, void 0, void 0, function* () {\n      // Check if we're in test harness (webAPI might not be available or limited)\n      if (!this._context.webAPI || this.isTestHarness()) {\n        // In test harness, simulate successful save\n        console.log('[ExecutionKPI] Test harness detected - simulating Dataverse save for:', metricDataRows.length, 'rows');\n        yield this.simulateDelay(1000); // Simulate network delay\n        return;\n      }\n      this.logDebug(\"Starting saveMetricDataToDataverse\", {\n        rowCount: metricDataRows.length,\n        sampleRow: metricDataRows[0]\n      });\n      // Test KPI Performance table access only\n      try {\n        this.logDebug(\"Testing KPI Performance table access...\");\n        var kpiPerfTest = yield this._context.webAPI.retrieveMultipleRecords(\"cr725_bihub_kpiperformance\", \"?$select=cr725_bihub_kpiperformanceid&$top=1\");\n        this.logDebug(\"KPI Performance table is accessible\", {\n          recordCount: kpiPerfTest.entities.length\n        });\n      } catch (kpiPerfError) {\n        this.logError(\"Cannot access KPI Performance table (cr725_bihub_kpiperformance)\", kpiPerfError);\n      }\n      // Create records in cr725_bihub_kpiperformance table\n      var promises = metricDataRows.map((row, index) => __awaiter(this, void 0, void 0, function* () {\n        try {\n          // Convert month name to number for choice field\n          var monthNumber = this.getMonthNumber(row.month);\n          var yearNumber = parseInt(String(row.year), 10);\n          console.log(\"[ExecutionKPI] Row \".concat(index + 1, \": Converting month \\\"\").concat(row.month, \"\\\" to \").concat(monthNumber, \", year \\\"\").concat(row.year, \"\\\" to \").concat(yearNumber));\n          console.log(\"[ExecutionKPI] Row \".concat(index + 1, \": Metric ID for lookup: \\\"\").concat(row.metricId, \"\\\"\"));\n          this.logDebug(\"Row \".concat(index + 1, \": Field conversions\"), {\n            month: {\n              original: row.month,\n              converted: monthNumber\n            },\n            year: {\n              original: row.year,\n              converted: yearNumber\n            },\n            metricId: row.metricId\n          });\n          // Get the Project ID from the form context\n          var projectId = this.getProjectIdFromContext();\n          // Find the corresponding KPI data for this metric to get date information\n          var correspondingKPI = kpiData.find(kpi => kpi.id === row.metricId);\n          // Basic fields mapping to cr725_bihub_kpiperformance table\n          var record = {\n            cr725_year: yearNumber,\n            // Convert to number for choice field\n            cr725_month: monthNumber,\n            // Convert to number for choice field\n            cr725_kpitarget: row.plannedTarget || 0,\n            // Target value\n            cr725_revisedtarget: row.revisedTarget || row.plannedTarget || 0,\n            // Revised target\n            cr725_kpiactual: row.actualValue || 0,\n            // Actual measured value\n            cr725_kpibaseline: row.baseline || 0,\n            // Baseline value\n            cr725_comment: row.comments || '',\n            // Comments field\n            cr725_dateloaded: new Date().toISOString(),\n            // Current date when saving\n            cr725_executionkpidescription: row.metricName || (correspondingKPI === null || correspondingKPI === void 0 ? void 0 : correspondingKPI.description) || 'Execution KPI' // KPI description from form\n          };\n          // Add the proper date field based on month and year\n          // Create date string directly to avoid timezone issues\n          var dateString = \"\".concat(yearNumber, \"-\").concat(monthNumber.toString().padStart(2, '0'), \"-01\"); // Format as YYYY-MM-01\n          record['cr725_date'] = dateString;\n          this.logDebug(\"Row \".concat(index + 1, \": Added date field\"), {\n            month: row.month,\n            year: row.year,\n            dateValue: dateString\n          });\n          // Add KPI-specific data if available\n          if (correspondingKPI) {\n            // Map the \"Higher is Better\" setting\n            if (correspondingKPI.higherIsBetter === 'higher') {\n              record['cr725_ishigherbetter'] = 0; // 0 = higher is better\n            } else if (correspondingKPI.higherIsBetter === 'lower') {\n              record['cr725_ishigherbetter'] = 1; // 1 = lower is better\n            }\n            this.logDebug(\"Row \".concat(index + 1, \": Added higher is better setting\"), {\n              higherIsBetter: correspondingKPI.higherIsBetter\n            });\n          }\n          // For ExecutionKPI, we don't need KPI lookup since it's standalone execution tracking\n          // The metric name comes from the form input, not a lookup\n          this.logDebug(\"Row \".concat(index + 1, \": Using standalone KPI tracking (no lookup needed)\"), {\n            metricId: row.metricId,\n            metricName: row.metricName\n          });\n          // Add Project ID lookup field (cr725_relatedproject) only if valid GUID\n          if (projectId && this.isValidGuid(projectId)) {\n            var formattedProjectGuid = this.formatGuid(projectId);\n            record['cr725_RelatedProject@odata.bind'] = \"/cr725_bihub_ideases(\".concat(formattedProjectGuid, \")\");\n            this.logDebug(\"Row \".concat(index + 1, \": Added project lookup\"), {\n              originalId: projectId,\n              formattedId: formattedProjectGuid\n            });\n          } else if (projectId) {\n            this.logDebug(\"Row \".concat(index + 1, \": Project ID not a valid GUID, skipping project lookup\"), {\n              projectId: projectId\n            });\n          } else {\n            this.logDebug(\"Row \".concat(index + 1, \": No project ID found, skipping project lookup\"));\n          }\n          this.logDebug(\"Row \".concat(index + 1, \": Record with both metric and project lookups\"), record);\n          console.log(\"[ExecutionKPI] Row \".concat(index + 1, \": Record with both metric and project lookups:\"), record);\n          this.logDebug(\"Row \".concat(index + 1, \": Record with both metric and project lookups\"), record);\n          var result;\n          try {\n            this.logDebug(\"Row \".concat(index + 1, \": Trying entity name: cr725_bihub_kpiperformance\"));\n            result = yield this._context.webAPI.createRecord(\"cr725_bihub_kpiperformance\", record);\n            this.logDebug(\"Row \".concat(index + 1, \": Success with both lookups\"), {\n              recordId: result.id\n            });\n          } catch (error) {\n            this.logError(\"Row \".concat(index + 1, \": Failed to save record with both lookups\"), error);\n            throw error;\n          }\n          console.log(\"[ExecutionKPI] Row \".concat(index + 1, \": Successfully saved with ID:\"), result.id);\n          this.logDebug(\"Row \".concat(index + 1, \": Save successful\"), {\n            recordId: result.id\n          });\n          return result;\n        } catch (error) {\n          console.error(\"[ExecutionKPI] Error saving row \".concat(index + 1, \":\"), error);\n          console.error(\"[ExecutionKPI] Row \".concat(index + 1, \" data:\"), row);\n          throw new Error(\"Failed to save row \".concat(index + 1, \": \").concat(error instanceof Error ? error.message : String(error)));\n        }\n      }));\n      try {\n        yield Promise.all(promises);\n        console.log('[ExecutionKPI] All rows saved successfully to KPI Performance table');\n      } catch (error) {\n        console.error('[ExecutionKPI] Error in saveMetricDataToDataverse:', error);\n        throw error;\n      }\n    });\n  }\n  getMonthNumber(monthName) {\n    var months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];\n    var monthIndex = months.findIndex(month => month.toLowerCase() === monthName.toLowerCase());\n    // Return 1-based month number (January = 1, December = 12)\n    return monthIndex >= 0 ? monthIndex + 1 : 1;\n  }\n  isValidGuid(guid) {\n    // Check if string is a valid GUID (with or without hyphens)\n    var guidPattern = /^[0-9a-f]{8}-?[0-9a-f]{4}-?[0-9a-f]{4}-?[0-9a-f]{4}-?[0-9a-f]{12}$/i;\n    return guidPattern.test(guid);\n  }\n  formatGuid(guid) {\n    // Remove all hyphens and reformat as proper GUID\n    var cleanGuid = guid.replace(/-/g, '').toLowerCase();\n    if (cleanGuid.length === 32) {\n      return \"\".concat(cleanGuid.substring(0, 8), \"-\").concat(cleanGuid.substring(8, 12), \"-\").concat(cleanGuid.substring(12, 16), \"-\").concat(cleanGuid.substring(16, 20), \"-\").concat(cleanGuid.substring(20));\n    }\n    // Return original if already formatted\n    return guid.toLowerCase();\n  }\n  getProjectIdFromContext() {\n    var _a, _b, _c, _d;\n    // Get the Project ID from the form context\n    try {\n      // In a model-driven app, try to get the entity ID from various context locations\n      var context = this._context;\n      // Try mode.contextInfo.entityId first\n      if ((_b = (_a = context.mode) === null || _a === void 0 ? void 0 : _a.contextInfo) === null || _b === void 0 ? void 0 : _b.entityId) {\n        var projectId = context.mode.contextInfo.entityId;\n        this.logDebug(\"Found Project ID from context.mode.contextInfo\", {\n          projectId\n        });\n        return projectId;\n      }\n      // Try page.entityId\n      if ((_c = context.page) === null || _c === void 0 ? void 0 : _c.entityId) {\n        var _projectId = context.page.entityId;\n        this.logDebug(\"Found Project ID from page context\", {\n          projectId: _projectId\n        });\n        return _projectId;\n      }\n      // Try mode.entityId\n      if ((_d = context.mode) === null || _d === void 0 ? void 0 : _d.entityId) {\n        var _projectId2 = context.mode.entityId;\n        this.logDebug(\"Found Project ID from mode\", {\n          projectId: _projectId2\n        });\n        return _projectId2;\n      }\n      this.logError(\"Could not find Project ID in context\", this._context);\n      return \"\"; // Return empty string if not found\n    } catch (error) {\n      this.logError(\"Error getting Project ID from context\", error);\n      return \"\";\n    }\n  }\n  getProjectSiteFromContext() {\n    return __awaiter(this, void 0, void 0, function* () {\n      try {\n        // Get the project ID first\n        var projectId = this.getProjectIdFromContext();\n        if (!projectId) {\n          this.logDebug(\"No project ID available - cannot get site\");\n          return \"\";\n        }\n        // Check if we're in test harness\n        if (!this._context.webAPI || this.isTestHarness()) {\n          this.logDebug(\"Test harness detected - returning empty site\");\n          return \"\";\n        }\n        // Query the project to get its site choice field value\n        // Since cr725_site is a choice field, we just need to select it directly\n        var query = \"?$select=cr725_site\";\n        this.logDebug(\"Querying project for site choice field\", {\n          projectId,\n          query\n        });\n        var projectData = yield this._context.webAPI.retrieveRecord(\"cr725_bihub_ideas\", projectId, query);\n        this.logDebug(\"Project data retrieved\", projectData);\n        // Extract site choice value\n        var siteValue = \"\";\n        if (projectData.cr725_site !== undefined && projectData.cr725_site !== null) {\n          // For choice fields, we get the display name\n          // Choice fields can be accessed directly, but we might need the formatted value\n          siteValue = projectData[\"cr725_site@OData.Community.Display.V1.FormattedValue\"] || projectData.cr725_site;\n          this.logDebug(\"Found site choice value\", {\n            siteValue,\n            rawValue: projectData.cr725_site\n          });\n        } else {\n          this.logDebug(\"No site value found in project data\", projectData);\n        }\n        return siteValue.toString();\n      } catch (error) {\n        this.logError(\"Error getting project site from context\", error);\n        return \"\";\n      }\n    });\n  }\n  isTestHarness() {\n    // Check if we're running in test harness\n    return !this._context.webAPI || window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1' || this._context.mode.label === 'Test';\n  }\n  simulateDelay(ms) {\n    return new Promise(resolve => setTimeout(resolve, ms));\n  }\n  updateGrid(metricDataRows) {\n    console.log('[ExecutionKPI] updateGrid called with data:', metricDataRows);\n    // Debug: Check if date field is present in the data\n    if (metricDataRows.length > 0) {\n      console.log('[ExecutionKPI] Sample row fields:', Object.keys(metricDataRows[0]));\n      console.log('[ExecutionKPI] Sample row date value:', metricDataRows[0].date);\n      // Update grid title with KPI name\n      var kpiName = metricDataRows[0].metricName || 'Execution KPI';\n      this.updateGridTitle(kpiName);\n    }\n    if (this._gridApi) {\n      this._gridApi.setGridOption('rowData', metricDataRows);\n      console.log('[ExecutionKPI] Grid data set successfully');\n      // Force the grid to refresh and resize\n      setTimeout(() => {\n        this._gridApi.sizeColumnsToFit();\n      }, 100);\n    } else {\n      console.warn('[ExecutionKPI] updateGrid: Grid API not available');\n    }\n  }\n  addNextMonthRow() {\n    return __awaiter(this, void 0, void 0, function* () {\n      try {\n        if (!this._gridApi) {\n          console.warn('[ExecutionKPI] Grid API not available');\n          return;\n        }\n        // Get current data from the grid\n        var currentData = [];\n        this._gridApi.forEachNode(node => {\n          if (node.data) {\n            currentData.push(node.data);\n          }\n        });\n        if (currentData.length === 0) {\n          this.showStatus(\"No existing data found. Please save KPI data first.\", \"warning\");\n          return;\n        }\n        // Find the latest month in the data\n        var latestDate = new Date(currentData[0].date || new Date());\n        var latestRow = currentData[0];\n        currentData.forEach(row => {\n          if (row.date) {\n            var rowDate = new Date(row.date);\n            if (rowDate > latestDate) {\n              latestDate = rowDate;\n              latestRow = row;\n            }\n          }\n        });\n        // Calculate next month\n        var nextDate = new Date(latestDate);\n        nextDate.setMonth(nextDate.getMonth() + 1);\n        var nextMonthName = nextDate.toLocaleString('default', {\n          month: 'long'\n        });\n        var nextYear = nextDate.getFullYear();\n        var nextDateString = \"\".concat(nextYear, \"-\").concat((nextDate.getMonth() + 1).toString().padStart(2, '0'), \"-01\");\n        // Check if next month already exists\n        var existsAlready = currentData.some(row => row.month === nextMonthName && row.year === nextYear);\n        if (existsAlready) {\n          this.showStatus(\"\".concat(nextMonthName, \" \").concat(nextYear, \" already exists in the data.\"), \"warning\");\n          return;\n        }\n        // Create new row based on the latest row\n        var newRow = {\n          id: \"\".concat(latestRow.metricId, \"-\").concat(nextYear, \"-\").concat(nextDate.getMonth() + 1),\n          metricId: latestRow.metricId,\n          metricName: latestRow.metricName,\n          valueDriver: latestRow.valueDriver || '',\n          month: nextMonthName,\n          year: nextYear,\n          date: nextDateString,\n          baseline: latestRow.baseline || 0,\n          upliftPercentage: latestRow.upliftPercentage || 0,\n          plannedTarget: latestRow.plannedTarget || 0,\n          revisedTarget: latestRow.revisedTarget || latestRow.plannedTarget || 0,\n          actualValue: 0,\n          // Default to 0 for new month\n          dateLoaded: new Date().toISOString(),\n          comments: '' // Initialize empty comments for new month\n        };\n        // Add to grid\n        var newData = [...currentData, newRow];\n        // Sort by date to maintain chronological order\n        newData.sort((a, b) => new Date(a.date || 0).getTime() - new Date(b.date || 0).getTime());\n        this._gridApi.setGridOption('rowData', newData);\n        // Save to Dataverse if we have KPI data\n        if (this._currentKPIData && this._currentKPIData.length > 0) {\n          this.showStatus(\"Saving new month...\", \"loading\");\n          yield this.saveMetricDataToDataverse([newRow], this._currentKPIData);\n          this.showStatus(\"Successfully added \".concat(nextMonthName, \" \").concat(nextYear), \"success\");\n        } else {\n          this.showStatus(\"Added \".concat(nextMonthName, \" \").concat(nextYear, \" to grid\"), \"success\");\n        }\n      } catch (error) {\n        console.error('[ExecutionKPI] Error adding next month:', error);\n        this.showStatus(\"Error adding next month\", \"error\");\n      }\n    });\n  }\n  onCellValueChanged(event) {\n    return __awaiter(this, void 0, void 0, function* () {\n      var _a, _b, _c, _d, _e;\n      // Handle cell value changes - only revised target and planned target should be editable\n      console.log('[ExecutionKPI] Cell value changed:', event);\n      // Show saving status immediately\n      this.updateRowSaveStatus(event.data, 'saving');\n      try {\n        // Allow changes to revisedTarget, plannedTarget, baseline, and actualValue columns\n        if (((_a = event.colDef) === null || _a === void 0 ? void 0 : _a.field) === 'revisedTarget') {\n          console.log(\"[ExecutionKPI] Revised target for \".concat(event.data.metricName, \" \").concat(event.data.month, \" \").concat(event.data.year, \" changed from \").concat(event.oldValue, \" to \").concat(event.newValue));\n          // Recalculate status based on new revised target\n          this.recalculateRowStatus(event.data);\n          // Save the revised target back to Dataverse\n          yield this.saveRevisedTargetToDataverse(event.data);\n          this.updateRowSaveStatus(event.data, 'saved');\n          // Clear the saved status after 3 seconds\n          setTimeout(() => {\n            this.updateRowSaveStatus(event.data, undefined);\n          }, 3000);\n        } else if (((_b = event.colDef) === null || _b === void 0 ? void 0 : _b.field) === 'plannedTarget') {\n          console.log(\"[ExecutionKPI] Planned target for \".concat(event.data.metricName, \" \").concat(event.data.month, \" \").concat(event.data.year, \" changed from \").concat(event.oldValue, \" to \").concat(event.newValue));\n          // Recalculate status based on new planned target\n          this.recalculateRowStatus(event.data);\n          // Save the planned target back to Dataverse\n          yield this.savePlannedTargetToDataverse(event.data);\n          this.updateRowSaveStatus(event.data, 'saved');\n          // Clear the saved status after 3 seconds\n          setTimeout(() => {\n            this.updateRowSaveStatus(event.data, undefined);\n          }, 3000);\n        } else if (((_c = event.colDef) === null || _c === void 0 ? void 0 : _c.field) === 'baseline') {\n          console.log(\"[ExecutionKPI] Baseline for \".concat(event.data.metricName, \" \").concat(event.data.month, \" \").concat(event.data.year, \" changed from \").concat(event.oldValue, \" to \").concat(event.newValue));\n          // Save the baseline back to Dataverse\n          yield this.saveBaselineToDataverse(event.data);\n          this.updateRowSaveStatus(event.data, 'saved');\n          // Clear the saved status after 3 seconds\n          setTimeout(() => {\n            this.updateRowSaveStatus(event.data, undefined);\n          }, 3000);\n        } else if (((_d = event.colDef) === null || _d === void 0 ? void 0 : _d.field) === 'actualValue') {\n          console.log(\"[ExecutionKPI] Actual value for \".concat(event.data.metricName, \" \").concat(event.data.month, \" \").concat(event.data.year, \" changed from \").concat(event.oldValue, \" to \").concat(event.newValue));\n          // Recalculate status based on new actual value\n          this.recalculateRowStatus(event.data);\n          // Save the actual value back to Dataverse\n          yield this.saveActualValueToDataverse(event.data);\n          this.updateRowSaveStatus(event.data, 'saved');\n          // Clear the saved status after 3 seconds\n          setTimeout(() => {\n            this.updateRowSaveStatus(event.data, undefined);\n          }, 3000);\n        } else if (((_e = event.colDef) === null || _e === void 0 ? void 0 : _e.field) === 'comments') {\n          console.log(\"[ExecutionKPI] Comments for \".concat(event.data.metricName, \" \").concat(event.data.month, \" \").concat(event.data.year, \" changed from \\\"\").concat(event.oldValue, \"\\\" to \\\"\").concat(event.newValue, \"\\\"\"));\n          // Save the comments back to Dataverse\n          yield this.saveCommentsToDataverse(event.data);\n          this.updateRowSaveStatus(event.data, 'saved');\n          // Clear the saved status after 3 seconds\n          setTimeout(() => {\n            this.updateRowSaveStatus(event.data, undefined);\n          }, 3000);\n        }\n      } catch (error) {\n        console.error('[ExecutionKPI] Failed to save:', error);\n        this.updateRowSaveStatus(event.data, 'error');\n        // Clear the error status after 5 seconds\n        setTimeout(() => {\n          this.updateRowSaveStatus(event.data, undefined);\n        }, 5000);\n      }\n    });\n  }\n  recalculateRowStatus(rowData) {\n    // Find the corresponding KPI data to get the 'Higher is Better' setting\n    var kpi = this._currentKPIData.find(k => k.id === rowData.metricId);\n    if (kpi && rowData.actualValue > 0 && rowData.plannedTarget > 0) {\n      // Use revised target if available, otherwise use planned target\n      var targetValue = rowData.revisedTarget > 0 ? rowData.revisedTarget : rowData.plannedTarget;\n      rowData.status = this.calculateStatus(rowData.actualValue, targetValue, kpi.higherIsBetter);\n      // Update the grid to show the new status\n      if (this._gridApi) {\n        this._gridApi.refreshCells({\n          columns: ['status'],\n          force: true\n        });\n      }\n    }\n  }\n  updateRowSaveStatus(rowData, status) {\n    if (!this._gridApi) return;\n    // Update the row data with the new save status\n    rowData.saveStatus = status;\n    // Find the row node and update it\n    this._gridApi.forEachNode(node => {\n      if (node.data && node.data.id === rowData.id) {\n        node.setData(rowData);\n        return;\n      }\n    });\n    // Refresh the grid to show the updated status\n    this._gridApi.refreshCells({\n      columns: ['saveStatus'],\n      force: true\n    });\n  }\n  showStatus(message, type) {\n    if (!this._statusMessage) return;\n    this._statusMessage.className = \"status-message \".concat(type);\n    this._statusMessage.style.display = 'inline-flex';\n    // Add appropriate icon based on type\n    var icon = type === 'success' ? 'âœ“' : type === 'error' ? 'âœ•' : type === 'warning' ? 'âš ' : 'âŸ³';\n    this._statusMessage.innerHTML = \"<span aria-hidden=\\\"true\\\">\".concat(icon, \"</span> \").concat(message);\n    if (type === \"success\") {\n      setTimeout(() => {\n        this.hideStatus();\n      }, 3000);\n    }\n  }\n  hideStatus() {\n    if (!this._statusMessage) return;\n    setTimeout(() => {\n      this._statusMessage.style.display = 'none';\n    }, 200); // Small delay for animation\n  }\n  // Removed: All dropdown-related methods (loadMetricsFromWebAPI, populateMetricDropdownsFromWebAPI, \n  // populateMetricDropdownsWithMockData, updateDropdownsWithOptions, populateMetricDropdowns, getMockMetricOptions)\n  // Now using direct form inputs for KPI data entry instead of dropdowns\n  /**\n   * Called when any value in the property bag has changed. This includes field values, data-sets, global values such as container height and width, offline status, control metadata values such as label, visible, etc.\n   * @param context The entire property bag available to control via Context Object; It contains values as set up by the customizer mapped to names defined in the manifest, as well as utility functions\n   */\n  updateView(context) {\n    this._context = context;\n    console.log('[ExecutionKPI] updateView called - using WebAPI for all data access');\n    // No longer loading metrics from WebAPI - using direct form inputs\n  }\n  /**\n   * It is called by the framework prior to a control receiving new data.\n   * @returns an object based on nomenclature defined in manifest, expecting object[s] for property marked as \"bound\" or \"output\"\n   */\n  getOutputs() {\n    return {\n      selectedKPIs: this._selectedKPIs\n    };\n  }\n  /**\n   * Called when the control is to be removed from the DOM tree. Controls should use this call for cleanup.\n   * i.e. cancelling any pending remote calls, removing listeners, etc.\n   */\n  destroy() {\n    // Cleanup grid\n    if (this._gridApi) {\n      this._gridApi.destroy();\n    }\n  }\n  // Removed: onMetricSelectionChange method - no longer using dropdown selection\n  // Now using direct form inputs for KPI data entry\n  // Removed: updateUpliftFieldForValueDriver method - no longer using uplift fields\n  // Now using monthly target field instead\n  // Removed: updateColumnHeaders method - no longer dynamically updating headers\n  // Column headers are now static based on new KPI interface\n  fetchActualValuesFromDataverse(metricDataRows) {\n    return __awaiter(this, void 0, void 0, function* () {\n      // For ExecutionKPI, actual values are managed within the KPI Performance table\n      // No need to fetch from external sources - values are entered directly in the grid\n      metricDataRows.forEach(row => {\n        row.actualValue = 0; // Default to 0, user can edit in grid\n      });\n      this.logDebug(\"Actual values initialized to 0 for user input\", {\n        rowCount: metricDataRows.length\n      });\n    });\n  }\n  fetchMonthlyBaselinesFromDataverse(metricDataRows) {\n    return __awaiter(this, void 0, void 0, function* () {\n      // For ExecutionKPI, baselines come from the form input, not external data\n      // The baseline is already set from the form when generating the rows\n      this.logDebug(\"Using baseline values from form input\", {\n        rowCount: metricDataRows.length\n      });\n    });\n  }\n  calculateStatus(actualValue, targetValue, higherIsBetter) {\n    if (!actualValue || !targetValue || actualValue <= 0 || targetValue <= 0) {\n      return 'Off Track';\n    }\n    var isHigherBetter = higherIsBetter === 'higher';\n    if (isHigherBetter) {\n      // Higher actual vs target is better (e.g., revenue, efficiency)\n      if (actualValue >= targetValue * 0.95) {\n        return 'On Track';\n      } else if (actualValue >= targetValue * 0.85) {\n        return 'At Risk';\n      } else {\n        return 'Off Track';\n      }\n    } else {\n      // Lower actual vs target is better (e.g., response time, costs, defects)\n      if (actualValue <= targetValue * 1.05) {\n        return 'On Track';\n      } else if (actualValue <= targetValue * 1.15) {\n        return 'At Risk';\n      } else {\n        return 'Off Track';\n      }\n    }\n  }\n  calculatePlannedTargets(metricDataRows, kpiData) {\n    // For Execution KPIs, we use simple monthly targets (already set in generateMetricDataRows)\n    // This method ensures revised targets match planned targets initially and calculates status\n    var kpiLookup = new Map();\n    kpiData.forEach(kpi => {\n      kpiLookup.set(kpi.id, kpi);\n    });\n    metricDataRows.forEach(row => {\n      var kpi = kpiLookup.get(row.metricId);\n      if (kpi) {\n        // Ensure revised target matches planned target initially\n        row.revisedTarget = row.plannedTarget;\n        // Calculate status based on actual vs planned performance\n        if (row.actualValue && row.actualValue > 0 && row.plannedTarget > 0) {\n          row.actualVsPlanned = row.actualValue - row.plannedTarget;\n          row.actualVsRevised = row.actualValue - row.revisedTarget;\n          // Calculate status using the utility method\n          row.status = this.calculateStatus(row.actualValue, row.plannedTarget, kpi.higherIsBetter);\n        }\n      }\n    });\n  }\n  saveRevisedTargetToDataverse(metricDataRow) {\n    return __awaiter(this, void 0, void 0, function* () {\n      // Check if we're in test harness\n      if (!this._context.webAPI || this.isTestHarness()) {\n        console.log('[ExecutionKPI] Test harness detected - simulating revised target save');\n        return;\n      }\n      try {\n        // Find the record in Benefits table and update the revised target\n        // NOTE: Use actual Dataverse field names in WebAPI calls, not the dataset aliases\n        var filter = \"cr725_metricid eq '\".concat(metricDataRow.metricId, \"' and cr725_month eq '\").concat(metricDataRow.month, \"' and cr725_year eq \").concat(metricDataRow.year);\n        var existingRecords = yield this._context.webAPI.retrieveMultipleRecords(\"cr725_benefits\", \"?$filter=\".concat(filter, \"&$select=cr725_benefitid\"));\n        if (existingRecords.entities.length > 0) {\n          var recordId = existingRecords.entities[0].cr725_benefitid;\n          yield this._context.webAPI.updateRecord(\"cr725_benefits\", recordId, {\n            cr725_revisedtarget: metricDataRow.revisedTarget\n          });\n          console.log(\"[ExecutionKPI] Updated revised target for Benefits record \".concat(recordId));\n        } else {\n          console.warn('[ExecutionKPI] No existing Benefits record found to update revised target');\n        }\n      } catch (error) {\n        console.error('[ExecutionKPI] Error saving revised target to Dataverse:', error);\n      }\n    });\n  }\n  savePlannedTargetToDataverse(metricDataRow) {\n    return __awaiter(this, void 0, void 0, function* () {\n      // Check if we're in test harness\n      if (!this._context.webAPI || this.isTestHarness()) {\n        console.log('[ExecutionKPI] Test harness detected - simulating planned target save');\n        return;\n      }\n      try {\n        // Find the record in Benefits table and update the planned target\n        // NOTE: Use actual Dataverse field names in WebAPI calls, not the dataset aliases\n        var filter = \"cr725_metricid eq '\".concat(metricDataRow.metricId, \"' and cr725_month eq '\").concat(metricDataRow.month, \"' and cr725_year eq \").concat(metricDataRow.year);\n        var existingRecords = yield this._context.webAPI.retrieveMultipleRecords(\"cr725_benefits\", \"?$filter=\".concat(filter, \"&$select=cr725_benefitid\"));\n        if (existingRecords.entities.length > 0) {\n          var recordId = existingRecords.entities[0].cr725_benefitid;\n          yield this._context.webAPI.updateRecord(\"cr725_benefits\", recordId, {\n            cr725_plannedtarget: metricDataRow.plannedTarget\n          });\n          console.log(\"[ExecutionKPI] Updated planned target for Benefits record \".concat(recordId));\n        } else {\n          console.warn('[ExecutionKPI] No existing Benefits record found to update planned target');\n        }\n      } catch (error) {\n        console.error('[ExecutionKPI] Error saving planned target to Dataverse:', error);\n      }\n    });\n  }\n  saveBaselineToDataverse(metricDataRow) {\n    return __awaiter(this, void 0, void 0, function* () {\n      // Check if we're in test harness\n      if (!this._context.webAPI || this.isTestHarness()) {\n        console.log('[ExecutionKPI] Test harness detected - simulating baseline save');\n        return;\n      }\n      try {\n        // Find the record in Benefits table and update the baseline\n        var filter = \"cr725_metricid eq '\".concat(metricDataRow.metricId, \"' and cr725_month eq '\").concat(metricDataRow.month, \"' and cr725_year eq \").concat(metricDataRow.year);\n        var existingRecords = yield this._context.webAPI.retrieveMultipleRecords(\"cr725_benefits\", \"?$filter=\".concat(filter, \"&$select=cr725_benefitid\"));\n        if (existingRecords.entities.length > 0) {\n          var recordId = existingRecords.entities[0].cr725_benefitid;\n          yield this._context.webAPI.updateRecord(\"cr725_benefits\", recordId, {\n            cr725_baseline: metricDataRow.baseline\n          });\n          console.log(\"[ExecutionKPI] Updated baseline for Benefits record \".concat(recordId));\n        } else {\n          console.warn('[ExecutionKPI] No existing Benefits record found to update baseline');\n        }\n      } catch (error) {\n        console.error('[ExecutionKPI] Error saving baseline to Dataverse:', error);\n      }\n    });\n  }\n  saveActualValueToDataverse(metricDataRow) {\n    return __awaiter(this, void 0, void 0, function* () {\n      // Check if we're in test harness\n      if (!this._context.webAPI || this.isTestHarness()) {\n        console.log('[ExecutionKPI] Test harness detected - simulating actual value save');\n        return;\n      }\n      try {\n        // Find the record in KPI Performance table and update the actual value\n        var filter = \"cr725_bihub_kpiperformanceid eq '\".concat(metricDataRow.id, \"'\");\n        var existingRecords = yield this._context.webAPI.retrieveMultipleRecords(\"cr725_bihub_kpiperformance\", \"?$filter=\".concat(filter, \"&$select=cr725_bihub_kpiperformanceid\"));\n        if (existingRecords.entities.length > 0) {\n          var recordId = existingRecords.entities[0].cr725_bihub_kpiperformanceid;\n          yield this._context.webAPI.updateRecord(\"cr725_bihub_kpiperformance\", recordId, {\n            cr725_kpiactual: metricDataRow.actualValue\n          });\n          console.log(\"[ExecutionKPI] Updated actual value for KPI Performance record \".concat(recordId));\n        } else {\n          console.warn('[ExecutionKPI] No existing KPI Performance record found to update actual value');\n        }\n      } catch (error) {\n        console.error('[ExecutionKPI] Error saving actual value to Dataverse:', error);\n      }\n    });\n  }\n  saveCommentsToDataverse(metricDataRow) {\n    return __awaiter(this, void 0, void 0, function* () {\n      // Check if we're in test harness\n      if (!this._context.webAPI || this.isTestHarness()) {\n        console.log('[ExecutionKPI] Test harness detected - simulating comments save');\n        return;\n      }\n      try {\n        // Find the record in KPI Performance table and update the comments\n        var filter = \"cr725_bihub_kpiperformanceid eq '\".concat(metricDataRow.id, \"'\");\n        var existingRecords = yield this._context.webAPI.retrieveMultipleRecords(\"cr725_bihub_kpiperformance\", \"?$filter=\".concat(filter, \"&$select=cr725_bihub_kpiperformanceid\"));\n        if (existingRecords.entities.length > 0) {\n          var recordId = existingRecords.entities[0].cr725_bihub_kpiperformanceid;\n          yield this._context.webAPI.updateRecord(\"cr725_bihub_kpiperformance\", recordId, {\n            cr725_comment: metricDataRow.comments || ''\n          });\n          console.log(\"[ExecutionKPI] Updated comments for KPI Performance record \".concat(recordId));\n        } else {\n          console.warn('[ExecutionKPI] No existing KPI Performance record found to update comments');\n        }\n      } catch (error) {\n        console.error('[ExecutionKPI] Error saving comments to Dataverse:', error);\n      }\n    });\n  }\n  /**\n   * Populate form fields with existing KPI data and lock them\n   */\n  populateFormWithExistingData(kpiName, metricDataRows) {\n    this.logDebug(\"Populating form with existing data\", {\n      kpiName,\n      rowCount: metricDataRows.length\n    });\n    // Find the first row to extract common data\n    if (metricDataRows.length > 0) {\n      var firstRow = metricDataRows[0];\n      var lastRow = metricDataRows[metricDataRows.length - 1];\n      // Populate the first KPI row with existing data\n      if (this._kpiRows.length > 0) {\n        // Find form elements\n        var descriptionInput = document.getElementById('description-0');\n        var baselineValueInput = document.getElementById('baseline-value-0');\n        var targetInput = document.getElementById('target-0');\n        var startDateInput = document.getElementById('start-date-0');\n        var endDateInput = document.getElementById('end-date-0');\n        var directionSelect = document.getElementById('direction-0');\n        var baselineSelect = document.getElementById('baseline-0');\n        if (descriptionInput) {\n          descriptionInput.value = kpiName;\n          descriptionInput.disabled = true;\n          descriptionInput.style.backgroundColor = '#f5f5f5';\n        }\n        if (baselineValueInput && firstRow.baseline) {\n          baselineValueInput.value = firstRow.baseline.toString();\n          baselineValueInput.disabled = true;\n          baselineValueInput.style.backgroundColor = '#f5f5f5';\n        }\n        if (targetInput && firstRow.plannedTarget) {\n          targetInput.value = firstRow.plannedTarget.toString();\n          targetInput.disabled = true;\n          targetInput.style.backgroundColor = '#f5f5f5';\n        }\n        if (baselineSelect) {\n          baselineSelect.value = firstRow.baseline && firstRow.baseline > 0 ? 'yes' : 'no';\n          baselineSelect.disabled = true;\n          baselineSelect.style.backgroundColor = '#f5f5f5';\n        }\n        // Hide start and end date fields for existing data\n        var startDateField = startDateInput === null || startDateInput === void 0 ? void 0 : startDateInput.closest('.form-field');\n        var endDateField = endDateInput === null || endDateInput === void 0 ? void 0 : endDateInput.closest('.form-field');\n        if (startDateField) {\n          startDateField.style.display = 'none';\n        }\n        if (endDateField) {\n          endDateField.style.display = 'none';\n        }\n        if (directionSelect) {\n          directionSelect.value = 'higher'; // Default assumption\n          directionSelect.disabled = true;\n          directionSelect.style.backgroundColor = '#f5f5f5';\n        }\n        // Hide the clear button and show date loaded\n        var clearButton = document.getElementById(\"clear-kpi-btn-0\") || document.querySelector('.clear-kpi-btn');\n        if (clearButton) {\n          clearButton.style.display = 'none';\n        }\n        // Show date loaded if available\n        var dateLoadedDisplay = document.getElementById('date-loaded-0');\n        if (dateLoadedDisplay && metricDataRows.length > 0 && metricDataRows[0].dateLoaded) {\n          var loadedDate = new Date(metricDataRows[0].dateLoaded);\n          var formattedDate = loadedDate.toLocaleDateString('en-AU', {\n            day: '2-digit',\n            month: '2-digit',\n            year: 'numeric',\n            hour: '2-digit',\n            minute: '2-digit'\n          });\n          dateLoadedDisplay.textContent = \"Loaded: \".concat(formattedDate);\n          dateLoadedDisplay.style.display = 'block';\n        }\n      }\n    }\n    // Update save button text and style\n    if (this._saveButton) {\n      this._saveButton.textContent = 'ðŸ—‘ï¸ Clear Data to Create New KPI';\n      this._saveButton.className = 'button button-danger clear-data-btn';\n      this._saveButton.style.backgroundColor = '#d13438';\n      this._saveButton.style.color = 'white';\n      this._saveButton.onclick = () => this.clearExistingData();\n    }\n  }\n  /**\n   * Update the grid title/header\n   */\n  updateGridTitle(kpiName) {\n    var _a;\n    // Find the grid section title and update it\n    var gridTitle = (_a = this._gridSection) === null || _a === void 0 ? void 0 : _a.querySelector('h2');\n    if (gridTitle && kpiName) {\n      gridTitle.innerHTML = \"\\n                Execution KPI Profile\\n                <span class=\\\"kpi-name-badge\\\">\".concat(kpiName, \"</span>\\n            \");\n      gridTitle.style.color = '#333'; // Standard color\n      gridTitle.style.display = 'flex';\n      gridTitle.style.alignItems = 'center';\n      gridTitle.style.gap = '12px';\n      gridTitle.style.flexWrap = 'wrap';\n    }\n  }\n  /**\n   * Clear existing data to allow new KPI creation\n   */\n  clearExistingData() {\n    return __awaiter(this, void 0, void 0, function* () {\n      var _a;\n      if (!confirm('Are you sure you want to clear all existing KPI performance data for this project? This action cannot be undone.')) {\n        return;\n      }\n      this.showStatus(\"Clearing existing data...\", \"loading\");\n      try {\n        // Get project ID\n        var projectId = this.getProjectIdFromContext();\n        if (!projectId) {\n          this.showStatus(\"Unable to identify project\", \"error\");\n          return;\n        }\n        // Get all existing records for this project\n        var filter = \"_cr725_relatedproject_value eq \".concat(projectId);\n        var query = \"?$filter=\".concat(encodeURIComponent(filter), \"&$select=cr725_bihub_kpiperformanceid\");\n        var existingRecords = yield this._context.webAPI.retrieveMultipleRecords(\"cr725_bihub_kpiperformance\", query);\n        // Delete all records\n        var deletePromises = existingRecords.entities.map(record => {\n          return this._context.webAPI.deleteRecord(\"cr725_bihub_kpiperformance\", record.cr725_bihub_kpiperformanceid);\n        });\n        yield Promise.all(deletePromises);\n        // Reset flags and UI\n        this._existingDataFound = false;\n        this._hasGeneratedData = false;\n        // Clear grid\n        if (this._gridApi) {\n          this._gridApi.setGridOption('rowData', []);\n        }\n        // Reset grid title to default\n        var gridTitle = (_a = this._gridSection) === null || _a === void 0 ? void 0 : _a.querySelector('h2');\n        if (gridTitle) {\n          gridTitle.textContent = \"Execution KPI Profile\";\n          gridTitle.style.color = '#333';\n        }\n        // Enable form fields\n        this.enableAllFormFields();\n        // Reset save button\n        if (this._saveButton) {\n          this._saveButton.textContent = 'Save & Generate Data';\n          this._saveButton.className = 'button button-primary';\n          this._saveButton.style.backgroundColor = '#f7941e';\n          this._saveButton.style.color = 'white';\n          this._saveButton.onclick = () => this.saveAndGenerateData();\n        }\n        this.showStatus(\"Successfully cleared \".concat(existingRecords.entities.length, \" existing records\"), \"success\");\n      } catch (error) {\n        console.error('[ExecutionKPI] Error clearing existing data:', error);\n        this.showStatus(\"Error clearing existing data\", \"error\");\n      }\n    });\n  }\n  /**\n   * Enable all form fields\n   */\n  enableAllFormFields() {\n    var _a, _b;\n    var _loop = function _loop(i) {\n      var fields = ['description', 'baseline', 'baseline-value', 'target', 'start-date', 'end-date', 'direction'];\n      fields.forEach(field => {\n        var element = document.getElementById(\"\".concat(field, \"-\").concat(i));\n        if (element) {\n          element.disabled = false;\n          element.style.backgroundColor = '';\n          // Clear values\n          if (field === 'description' || field === 'baseline-value' || field === 'target' || field === 'start-date' || field === 'end-date') {\n            element.value = '';\n          } else if (field === 'baseline' || field === 'direction') {\n            element.selectedIndex = 0;\n          }\n        }\n      });\n      // Show clear button and hide date loaded\n      var clearButton = document.querySelector('.clear-kpi-btn');\n      if (clearButton) {\n        clearButton.style.display = 'inline-block';\n      }\n      var dateLoadedDisplay = document.getElementById(\"date-loaded-\".concat(i));\n      if (dateLoadedDisplay) {\n        dateLoadedDisplay.style.display = 'none';\n      }\n      // Show start and end date fields\n      var startDateField = (_a = document.getElementById(\"start-date-\".concat(i))) === null || _a === void 0 ? void 0 : _a.closest('.form-field');\n      var endDateField = (_b = document.getElementById(\"end-date-\".concat(i))) === null || _b === void 0 ? void 0 : _b.closest('.form-field');\n      if (startDateField) {\n        startDateField.style.display = 'flex';\n      }\n      if (endDateField) {\n        endDateField.style.display = 'flex';\n      }\n    };\n    for (var i = 0; i < this._kpiRows.length; i++) {\n      _loop(i);\n    }\n  }\n}\n\n//# sourceURL=webpack://pcf_tools_652ac3f36e1e4bca82eb3c1dc44e6fad/./FPExecutionKPI/index.ts?\n}");

/***/ }),

/***/ "./node_modules/ag-grid-community/dist/package/main.esm.mjs":
/*!******************************************************************!*\
  !*** ./node_modules/ag-grid-community/dist/package/main.esm.mjs ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ALWAYS_SYNC_GLOBAL_EVENTS: () => (/* binding */ ALWAYS_SYNC_GLOBAL_EVENTS),\n/* harmony export */   AbstractClientSideNodeManager: () => (/* binding */ AbstractClientSideNodeManager),\n/* harmony export */   AgAbstractCellEditor: () => (/* binding */ AgAbstractCellEditor),\n/* harmony export */   AgAbstractInputField: () => (/* binding */ AgAbstractInputField),\n/* harmony export */   AgAbstractLabel: () => (/* binding */ AgAbstractLabel),\n/* harmony export */   AgCheckbox: () => (/* binding */ AgCheckbox),\n/* harmony export */   AgCheckboxSelector: () => (/* binding */ AgCheckboxSelector),\n/* harmony export */   AgColumn: () => (/* binding */ AgColumn),\n/* harmony export */   AgColumnGroup: () => (/* binding */ AgColumnGroup),\n/* harmony export */   AgInputDateField: () => (/* binding */ AgInputDateField),\n/* harmony export */   AgInputNumberField: () => (/* binding */ AgInputNumberField),\n/* harmony export */   AgInputNumberFieldSelector: () => (/* binding */ AgInputNumberFieldSelector),\n/* harmony export */   AgInputTextArea: () => (/* binding */ AgInputTextArea),\n/* harmony export */   AgInputTextField: () => (/* binding */ AgInputTextField),\n/* harmony export */   AgInputTextFieldSelector: () => (/* binding */ AgInputTextFieldSelector),\n/* harmony export */   AgPickerField: () => (/* binding */ AgPickerField),\n/* harmony export */   AgPromise: () => (/* binding */ AgPromise),\n/* harmony export */   AgProvidedColumnGroup: () => (/* binding */ AgProvidedColumnGroup),\n/* harmony export */   AgRadioButton: () => (/* binding */ AgRadioButton),\n/* harmony export */   AgSelect: () => (/* binding */ AgSelect),\n/* harmony export */   AgSelectSelector: () => (/* binding */ AgSelectSelector),\n/* harmony export */   AgToggleButton: () => (/* binding */ AgToggleButton),\n/* harmony export */   AgToggleButtonSelector: () => (/* binding */ AgToggleButtonSelector),\n/* harmony export */   AlignedGridsModule: () => (/* binding */ AlignedGridsModule),\n/* harmony export */   AllCommunityModule: () => (/* binding */ AllCommunityModule),\n/* harmony export */   AutoScrollService: () => (/* binding */ AutoScrollService),\n/* harmony export */   BaseColsService: () => (/* binding */ BaseColsService),\n/* harmony export */   BaseComponentWrapper: () => (/* binding */ BaseComponentWrapper),\n/* harmony export */   BaseCreator: () => (/* binding */ BaseCreator),\n/* harmony export */   BaseGridSerializingSession: () => (/* binding */ BaseGridSerializingSession),\n/* harmony export */   BaseSelectionService: () => (/* binding */ BaseSelectionService),\n/* harmony export */   BeanStub: () => (/* binding */ BeanStub),\n/* harmony export */   CellApiModule: () => (/* binding */ CellApiModule),\n/* harmony export */   CellRangeType: () => (/* binding */ CellRangeType),\n/* harmony export */   CellSpanModule: () => (/* binding */ CellSpanModule),\n/* harmony export */   CellStyleModule: () => (/* binding */ CellStyleModule),\n/* harmony export */   ChangedPath: () => (/* binding */ ChangedPath),\n/* harmony export */   CheckboxEditorModule: () => (/* binding */ CheckboxEditorModule),\n/* harmony export */   ClientSideRowModelApiModule: () => (/* binding */ ClientSideRowModelApiModule),\n/* harmony export */   ClientSideRowModelModule: () => (/* binding */ ClientSideRowModelModule),\n/* harmony export */   ColumnApiModule: () => (/* binding */ ColumnApiModule),\n/* harmony export */   ColumnAutoSizeModule: () => (/* binding */ ColumnAutoSizeModule),\n/* harmony export */   ColumnHoverModule: () => (/* binding */ ColumnHoverModule),\n/* harmony export */   ColumnKeyCreator: () => (/* binding */ ColumnKeyCreator),\n/* harmony export */   Component: () => (/* binding */ Component),\n/* harmony export */   CssClassManager: () => (/* binding */ CssClassManager),\n/* harmony export */   CsvExportModule: () => (/* binding */ CsvExportModule),\n/* harmony export */   CustomEditorModule: () => (/* binding */ CustomEditorModule),\n/* harmony export */   CustomFilterModule: () => (/* binding */ CustomFilterModule),\n/* harmony export */   DateEditorModule: () => (/* binding */ DateEditorModule),\n/* harmony export */   DateFilterModule: () => (/* binding */ DateFilterModule),\n/* harmony export */   DragAndDropModule: () => (/* binding */ DragAndDropModule),\n/* harmony export */   DragSourceType: () => (/* binding */ DragSourceType),\n/* harmony export */   EventApiModule: () => (/* binding */ EventApiModule),\n/* harmony export */   ExternalFilterModule: () => (/* binding */ ExternalFilterModule),\n/* harmony export */   FakeHScrollComp: () => (/* binding */ FakeHScrollComp),\n/* harmony export */   FakeVScrollComp: () => (/* binding */ FakeVScrollComp),\n/* harmony export */   FilterButtonComp: () => (/* binding */ FilterButtonComp),\n/* harmony export */   FilterComp: () => (/* binding */ FilterComp),\n/* harmony export */   FilterWrapperComp: () => (/* binding */ FilterWrapperComp),\n/* harmony export */   GROUP_AUTO_COLUMN_ID: () => (/* binding */ GROUP_AUTO_COLUMN_ID),\n/* harmony export */   GridBodyCtrl: () => (/* binding */ GridBodyCtrl),\n/* harmony export */   GridCoreCreator: () => (/* binding */ GridCoreCreator),\n/* harmony export */   GridCtrl: () => (/* binding */ GridCtrl),\n/* harmony export */   GridHeaderCtrl: () => (/* binding */ GridHeaderCtrl),\n/* harmony export */   GridStateModule: () => (/* binding */ GridStateModule),\n/* harmony export */   GroupInstanceIdCreator: () => (/* binding */ GroupInstanceIdCreator),\n/* harmony export */   HeaderRowContainerCtrl: () => (/* binding */ HeaderRowContainerCtrl),\n/* harmony export */   HighlightChangesModule: () => (/* binding */ HighlightChangesModule),\n/* harmony export */   InfiniteRowModelModule: () => (/* binding */ InfiniteRowModelModule),\n/* harmony export */   KeyCode: () => (/* binding */ KeyCode),\n/* harmony export */   LargeTextEditorModule: () => (/* binding */ LargeTextEditorModule),\n/* harmony export */   LocalEventService: () => (/* binding */ LocalEventService),\n/* harmony export */   LocaleModule: () => (/* binding */ LocaleModule),\n/* harmony export */   LocaleService: () => (/* binding */ LocaleService),\n/* harmony export */   ManagedFocusFeature: () => (/* binding */ ManagedFocusFeature),\n/* harmony export */   ModuleRegistry: () => (/* binding */ ModuleRegistry),\n/* harmony export */   NumberEditorModule: () => (/* binding */ NumberEditorModule),\n/* harmony export */   NumberFilterModule: () => (/* binding */ NumberFilterModule),\n/* harmony export */   PaginationModule: () => (/* binding */ PaginationModule),\n/* harmony export */   PinnedRowModel: () => (/* binding */ PinnedRowModel),\n/* harmony export */   PinnedRowModule: () => (/* binding */ PinnedRowModule),\n/* harmony export */   PopupComponent: () => (/* binding */ PopupComponent),\n/* harmony export */   PositionableFeature: () => (/* binding */ PositionableFeature),\n/* harmony export */   ProvidedFilter: () => (/* binding */ ProvidedFilter),\n/* harmony export */   QuickFilterModule: () => (/* binding */ QuickFilterModule),\n/* harmony export */   ROW_NUMBERS_COLUMN_ID: () => (/* binding */ ROW_NUMBERS_COLUMN_ID),\n/* harmony export */   RefPlaceholder: () => (/* binding */ RefPlaceholder),\n/* harmony export */   RenderApiModule: () => (/* binding */ RenderApiModule),\n/* harmony export */   RowApiModule: () => (/* binding */ RowApiModule),\n/* harmony export */   RowAutoHeightModule: () => (/* binding */ RowAutoHeightModule),\n/* harmony export */   RowContainerCtrl: () => (/* binding */ RowContainerCtrl),\n/* harmony export */   RowDragModule: () => (/* binding */ RowDragModule),\n/* harmony export */   RowNode: () => (/* binding */ RowNode),\n/* harmony export */   RowSelectionModule: () => (/* binding */ RowSelectionModule),\n/* harmony export */   RowStyleModule: () => (/* binding */ RowStyleModule),\n/* harmony export */   SELECTION_COLUMN_ID: () => (/* binding */ SELECTION_COLUMN_ID),\n/* harmony export */   ScrollApiModule: () => (/* binding */ ScrollApiModule),\n/* harmony export */   SelectEditorModule: () => (/* binding */ SelectEditorModule),\n/* harmony export */   ServerSideTransactionResultStatus: () => (/* binding */ ServerSideTransactionResultStatus),\n/* harmony export */   TabGuardClassNames: () => (/* binding */ TabGuardClassNames),\n/* harmony export */   TabGuardComp: () => (/* binding */ TabGuardComp),\n/* harmony export */   TabGuardCtrl: () => (/* binding */ TabGuardCtrl),\n/* harmony export */   TabGuardFeature: () => (/* binding */ TabGuardFeature),\n/* harmony export */   TextEditorModule: () => (/* binding */ TextEditorModule),\n/* harmony export */   TextFilterModule: () => (/* binding */ TextFilterModule),\n/* harmony export */   TooltipFeature: () => (/* binding */ TooltipFeature),\n/* harmony export */   TooltipModule: () => (/* binding */ TooltipModule),\n/* harmony export */   TouchListener: () => (/* binding */ TouchListener),\n/* harmony export */   UndoRedoEditModule: () => (/* binding */ UndoRedoEditModule),\n/* harmony export */   ValidationModule: () => (/* binding */ ValidationModule),\n/* harmony export */   ValueCacheModule: () => (/* binding */ ValueCacheModule),\n/* harmony export */   VanillaFrameworkOverrides: () => (/* binding */ VanillaFrameworkOverrides),\n/* harmony export */   _BOOLEAN_MIXED_GRID_OPTIONS: () => (/* binding */ _BOOLEAN_MIXED_GRID_OPTIONS),\n/* harmony export */   _ColumnFilterModule: () => (/* binding */ ColumnFilterModule),\n/* harmony export */   _ColumnGroupModule: () => (/* binding */ ColumnGroupModule),\n/* harmony export */   _ColumnMoveModule: () => (/* binding */ ColumnMoveModule),\n/* harmony export */   _CsrmSsrmSharedApiModule: () => (/* binding */ CsrmSsrmSharedApiModule),\n/* harmony export */   _DragModule: () => (/* binding */ DragModule),\n/* harmony export */   _EditCoreModule: () => (/* binding */ EditCoreModule),\n/* harmony export */   _EmptyArray: () => (/* binding */ _EmptyArray),\n/* harmony export */   _EmptyBean: () => (/* binding */ EmptyBean),\n/* harmony export */   _FOCUS_MANAGED_CLASS: () => (/* binding */ FOCUS_MANAGED_CLASS),\n/* harmony export */   _FilterCoreModule: () => (/* binding */ FilterCoreModule),\n/* harmony export */   _FilterValueModule: () => (/* binding */ FilterValueModule),\n/* harmony export */   _GET_ALL_EVENTS: () => (/* binding */ _GET_ALL_EVENTS),\n/* harmony export */   _GET_ALL_GRID_OPTIONS: () => (/* binding */ _GET_ALL_GRID_OPTIONS),\n/* harmony export */   _HeaderComp: () => (/* binding */ HeaderComp),\n/* harmony export */   _HorizontalResizeModule: () => (/* binding */ HorizontalResizeModule),\n/* harmony export */   _KeyboardNavigationModule: () => (/* binding */ KeyboardNavigationModule),\n/* harmony export */   _PUBLIC_EVENTS: () => (/* binding */ _PUBLIC_EVENTS),\n/* harmony export */   _PUBLIC_EVENT_HANDLERS_MAP: () => (/* binding */ _PUBLIC_EVENT_HANDLERS_MAP),\n/* harmony export */   _PopupModule: () => (/* binding */ PopupModule),\n/* harmony export */   _ROW_ID_PREFIX_BOTTOM_PINNED: () => (/* binding */ ROW_ID_PREFIX_BOTTOM_PINNED),\n/* harmony export */   _ROW_ID_PREFIX_ROW_GROUP: () => (/* binding */ ROW_ID_PREFIX_ROW_GROUP),\n/* harmony export */   _ROW_ID_PREFIX_TOP_PINNED: () => (/* binding */ ROW_ID_PREFIX_TOP_PINNED),\n/* harmony export */   _SharedDragAndDropModule: () => (/* binding */ SharedDragAndDropModule),\n/* harmony export */   _SharedExportModule: () => (/* binding */ SharedExportModule),\n/* harmony export */   _SharedMenuModule: () => (/* binding */ SharedMenuModule),\n/* harmony export */   _SharedRowSelectionModule: () => (/* binding */ SharedRowSelectionModule),\n/* harmony export */   _SortModule: () => (/* binding */ SortModule),\n/* harmony export */   _SsrmInfiniteSharedApiModule: () => (/* binding */ SsrmInfiniteSharedApiModule),\n/* harmony export */   _addColumnDefaultAndTypes: () => (/* binding */ _addColumnDefaultAndTypes),\n/* harmony export */   _addFocusableContainerListener: () => (/* binding */ _addFocusableContainerListener),\n/* harmony export */   _addGridCommonParams: () => (/* binding */ _addGridCommonParams),\n/* harmony export */   _anchorElementToMouseMoveEvent: () => (/* binding */ _anchorElementToMouseMoveEvent),\n/* harmony export */   _applyColumnState: () => (/* binding */ _applyColumnState),\n/* harmony export */   _areCellsEqual: () => (/* binding */ _areCellsEqual),\n/* harmony export */   _areColIdsEqual: () => (/* binding */ _areColIdsEqual),\n/* harmony export */   _areEqual: () => (/* binding */ _areEqual),\n/* harmony export */   _asThemeImpl: () => (/* binding */ _asThemeImpl),\n/* harmony export */   _batchCall: () => (/* binding */ _batchCall),\n/* harmony export */   _canSkipShowingRowGroup: () => (/* binding */ _canSkipShowingRowGroup),\n/* harmony export */   _clearElement: () => (/* binding */ _clearElement),\n/* harmony export */   _columnsMatch: () => (/* binding */ _columnsMatch),\n/* harmony export */   _combineAttributesAndGridOptions: () => (/* binding */ _combineAttributesAndGridOptions),\n/* harmony export */   _convertColumnEventSourceType: () => (/* binding */ _convertColumnEventSourceType),\n/* harmony export */   _createCellId: () => (/* binding */ _createCellId),\n/* harmony export */   _createColumnTree: () => (/* binding */ _createColumnTree),\n/* harmony export */   _createColumnTreeWithIds: () => (/* binding */ _createColumnTreeWithIds),\n/* harmony export */   _createElement: () => (/* binding */ _createElement),\n/* harmony export */   _createGlobalRowEvent: () => (/* binding */ _createGlobalRowEvent),\n/* harmony export */   _createIcon: () => (/* binding */ _createIcon),\n/* harmony export */   _createIconNoSpan: () => (/* binding */ _createIconNoSpan),\n/* harmony export */   _createRowNodeSibling: () => (/* binding */ _createRowNodeSibling),\n/* harmony export */   _debounce: () => (/* binding */ _debounce),\n/* harmony export */   _defaultComparator: () => (/* binding */ _defaultComparator),\n/* harmony export */   _destroyColumnTree: () => (/* binding */ _destroyColumnTree),\n/* harmony export */   _doOnce: () => (/* binding */ _doOnce),\n/* harmony export */   _downloadFile: () => (/* binding */ _downloadFile),\n/* harmony export */   _errMsg: () => (/* binding */ _errMsg),\n/* harmony export */   _error: () => (/* binding */ _error),\n/* harmony export */   _escapeString: () => (/* binding */ _escapeString),\n/* harmony export */   _exists: () => (/* binding */ _exists),\n/* harmony export */   _findFocusableElements: () => (/* binding */ _findFocusableElements),\n/* harmony export */   _findNextFocusableElement: () => (/* binding */ _findNextFocusableElement),\n/* harmony export */   _findTabbableParent: () => (/* binding */ _findTabbableParent),\n/* harmony export */   _flatten: () => (/* binding */ _flatten),\n/* harmony export */   _focusGridInnerElement: () => (/* binding */ _focusGridInnerElement),\n/* harmony export */   _focusInto: () => (/* binding */ _focusInto),\n/* harmony export */   _focusNextGridCoreContainer: () => (/* binding */ _focusNextGridCoreContainer),\n/* harmony export */   _formatNumberCommas: () => (/* binding */ _formatNumberCommas),\n/* harmony export */   _fuzzySuggestions: () => (/* binding */ _fuzzySuggestions),\n/* harmony export */   _getAbsoluteHeight: () => (/* binding */ _getAbsoluteHeight),\n/* harmony export */   _getAbsoluteWidth: () => (/* binding */ _getAbsoluteWidth),\n/* harmony export */   _getActiveDomElement: () => (/* binding */ _getActiveDomElement),\n/* harmony export */   _getAriaPosInSet: () => (/* binding */ _getAriaPosInSet),\n/* harmony export */   _getCallbackForEvent: () => (/* binding */ _getCallbackForEvent),\n/* harmony export */   _getCellByPosition: () => (/* binding */ _getCellByPosition),\n/* harmony export */   _getCellCtrlForEventTarget: () => (/* binding */ _getCellCtrlForEventTarget),\n/* harmony export */   _getCellPositionForEvent: () => (/* binding */ _getCellPositionForEvent),\n/* harmony export */   _getCellRendererDetails: () => (/* binding */ _getCellRendererDetails),\n/* harmony export */   _getCheckboxLocation: () => (/* binding */ _getCheckboxLocation),\n/* harmony export */   _getCheckboxes: () => (/* binding */ _getCheckboxes),\n/* harmony export */   _getClientSideRowModel: () => (/* binding */ _getClientSideRowModel),\n/* harmony export */   _getColumnState: () => (/* binding */ _getColumnState),\n/* harmony export */   _getColumnsFromTree: () => (/* binding */ _getColumnsFromTree),\n/* harmony export */   _getDateParts: () => (/* binding */ _getDateParts),\n/* harmony export */   _getDefaultFloatingFilterType: () => (/* binding */ _getDefaultFloatingFilterType),\n/* harmony export */   _getDefaultSimpleFilter: () => (/* binding */ _getDefaultSimpleFilter),\n/* harmony export */   _getDocument: () => (/* binding */ _getDocument),\n/* harmony export */   _getEditorRendererDetails: () => (/* binding */ _getEditorRendererDetails),\n/* harmony export */   _getFillHandle: () => (/* binding */ _getFillHandle),\n/* harmony export */   _getFilterDetails: () => (/* binding */ _getFilterDetails),\n/* harmony export */   _getFilterModel: () => (/* binding */ _getFilterModel),\n/* harmony export */   _getFilterParamsForDataType: () => (/* binding */ _getFilterParamsForDataType),\n/* harmony export */   _getFloatingFilterCompDetails: () => (/* binding */ _getFloatingFilterCompDetails),\n/* harmony export */   _getFloatingFiltersHeight: () => (/* binding */ getFloatingFiltersHeight),\n/* harmony export */   _getGlobalGridOption: () => (/* binding */ _getGlobalGridOption),\n/* harmony export */   _getGrandTotalRow: () => (/* binding */ _getGrandTotalRow),\n/* harmony export */   _getGridOption: () => (/* binding */ _getGridOption),\n/* harmony export */   _getGridRegisteredModules: () => (/* binding */ _getGridRegisteredModules),\n/* harmony export */   _getGroupAggFiltering: () => (/* binding */ _getGroupAggFiltering),\n/* harmony export */   _getGroupSelection: () => (/* binding */ _getGroupSelection),\n/* harmony export */   _getGroupSelectsDescendants: () => (/* binding */ _getGroupSelectsDescendants),\n/* harmony export */   _getGroupTotalRowCallback: () => (/* binding */ _getGroupTotalRowCallback),\n/* harmony export */   _getGroupingApproach: () => (/* binding */ _getGroupingApproach),\n/* harmony export */   _getHeaderCheckbox: () => (/* binding */ _getHeaderCheckbox),\n/* harmony export */   _getHeaderClassesFromColDef: () => (/* binding */ _getHeaderClassesFromColDef),\n/* harmony export */   _getHeaderRowCount: () => (/* binding */ getHeaderRowCount),\n/* harmony export */   _getInnerCellRendererDetails: () => (/* binding */ _getInnerCellRendererDetails),\n/* harmony export */   _getInnerHeight: () => (/* binding */ _getInnerHeight),\n/* harmony export */   _getInnerWidth: () => (/* binding */ _getInnerWidth),\n/* harmony export */   _getIsRowSelectable: () => (/* binding */ _getIsRowSelectable),\n/* harmony export */   _getLocaleTextFunc: () => (/* binding */ _getLocaleTextFunc),\n/* harmony export */   _getMaxConcurrentDatasourceRequests: () => (/* binding */ _getMaxConcurrentDatasourceRequests),\n/* harmony export */   _getNormalisedMousePosition: () => (/* binding */ _getNormalisedMousePosition),\n/* harmony export */   _getPageBody: () => (/* binding */ _getPageBody),\n/* harmony export */   _getRootNode: () => (/* binding */ _getRootNode),\n/* harmony export */   _getRowAbove: () => (/* binding */ _getRowAbove),\n/* harmony export */   _getRowBelow: () => (/* binding */ _getRowBelow),\n/* harmony export */   _getRowContainerClass: () => (/* binding */ _getRowContainerClass),\n/* harmony export */   _getRowContainerOptions: () => (/* binding */ _getRowContainerOptions),\n/* harmony export */   _getRowHeightAsNumber: () => (/* binding */ _getRowHeightAsNumber),\n/* harmony export */   _getRowHeightForNode: () => (/* binding */ _getRowHeightForNode),\n/* harmony export */   _getRowIdCallback: () => (/* binding */ _getRowIdCallback),\n/* harmony export */   _getRowNode: () => (/* binding */ _getRowNode),\n/* harmony export */   _getRowSelectionMode: () => (/* binding */ _getRowSelectionMode),\n/* harmony export */   _getRowSpanContainerClass: () => (/* binding */ _getRowSpanContainerClass),\n/* harmony export */   _getRowViewportClass: () => (/* binding */ _getRowViewportClass),\n/* harmony export */   _getServerSideRowModel: () => (/* binding */ _getServerSideRowModel),\n/* harmony export */   _getShouldDisplayTooltip: () => (/* binding */ _getShouldDisplayTooltip),\n/* harmony export */   _getSuppressMultiRanges: () => (/* binding */ _getSuppressMultiRanges),\n/* harmony export */   _getToolPanelClassesFromColDef: () => (/* binding */ _getToolPanelClassesFromColDef),\n/* harmony export */   _interpretAsRightClick: () => (/* binding */ _interpretAsRightClick),\n/* harmony export */   _isAnimateRows: () => (/* binding */ _isAnimateRows),\n/* harmony export */   _isCellSelectionEnabled: () => (/* binding */ _isCellSelectionEnabled),\n/* harmony export */   _isClientSideRowModel: () => (/* binding */ _isClientSideRowModel),\n/* harmony export */   _isColumnMenuAnchoringEnabled: () => (/* binding */ _isColumnMenuAnchoringEnabled),\n/* harmony export */   _isColumnsSortingCoupledToGroup: () => (/* binding */ _isColumnsSortingCoupledToGroup),\n/* harmony export */   _isDomLayout: () => (/* binding */ _isDomLayout),\n/* harmony export */   _isElementInEventPath: () => (/* binding */ _isElementInEventPath),\n/* harmony export */   _isElementOverflowingCallback: () => (/* binding */ _isElementOverflowingCallback),\n/* harmony export */   _isEventFromPrintableCharacter: () => (/* binding */ _isEventFromPrintableCharacter),\n/* harmony export */   _isFullWidthGroupRow: () => (/* binding */ _isFullWidthGroupRow),\n/* harmony export */   _isGetRowHeightFunction: () => (/* binding */ _isGetRowHeightFunction),\n/* harmony export */   _isGroupMultiAutoColumn: () => (/* binding */ _isGroupMultiAutoColumn),\n/* harmony export */   _isGroupRowsSticky: () => (/* binding */ _isGroupRowsSticky),\n/* harmony export */   _isGroupUseEntireRow: () => (/* binding */ _isGroupUseEntireRow),\n/* harmony export */   _isIOSUserAgent: () => (/* binding */ _isIOSUserAgent),\n/* harmony export */   _isKeyboardMode: () => (/* binding */ _isKeyboardMode),\n/* harmony export */   _isLegacyMenuEnabled: () => (/* binding */ _isLegacyMenuEnabled),\n/* harmony export */   _isMultiRowSelection: () => (/* binding */ _isMultiRowSelection),\n/* harmony export */   _isNodeOrElement: () => (/* binding */ _isNodeOrElement),\n/* harmony export */   _isNothingFocused: () => (/* binding */ _isNothingFocused),\n/* harmony export */   _isPromise: () => (/* binding */ _isPromise),\n/* harmony export */   _isRowBefore: () => (/* binding */ _isRowBefore),\n/* harmony export */   _isRowSelection: () => (/* binding */ _isRowSelection),\n/* harmony export */   _isSameRow: () => (/* binding */ _isSameRow),\n/* harmony export */   _isServerSideRowModel: () => (/* binding */ _isServerSideRowModel),\n/* harmony export */   _isSetFilterByDefault: () => (/* binding */ _isSetFilterByDefault),\n/* harmony export */   _isShowTooltipWhenTruncated: () => (/* binding */ _isShowTooltipWhenTruncated),\n/* harmony export */   _isStopPropagationForAgGrid: () => (/* binding */ _isStopPropagationForAgGrid),\n/* harmony export */   _isUseApplyButton: () => (/* binding */ _isUseApplyButton),\n/* harmony export */   _isUsingNewCellSelectionAPI: () => (/* binding */ _isUsingNewCellSelectionAPI),\n/* harmony export */   _isUsingNewRowSelectionAPI: () => (/* binding */ _isUsingNewRowSelectionAPI),\n/* harmony export */   _isVisible: () => (/* binding */ _isVisible),\n/* harmony export */   _jsonEquals: () => (/* binding */ _jsonEquals),\n/* harmony export */   _last: () => (/* binding */ _last),\n/* harmony export */   _loadTemplate: () => (/* binding */ _loadTemplate),\n/* harmony export */   _makeNull: () => (/* binding */ _makeNull),\n/* harmony export */   _mergeDeep: () => (/* binding */ _mergeDeep),\n/* harmony export */   _missing: () => (/* binding */ _missing),\n/* harmony export */   _observeResize: () => (/* binding */ _observeResize),\n/* harmony export */   _parseDateTimeFromString: () => (/* binding */ _parseDateTimeFromString),\n/* harmony export */   _preInitErrMsg: () => (/* binding */ _preInitErrMsg),\n/* harmony export */   _preserveRangesWhile: () => (/* binding */ _preserveRangesWhile),\n/* harmony export */   _processOnChange: () => (/* binding */ _processOnChange),\n/* harmony export */   _radioCssClass: () => (/* binding */ _radioCssClass),\n/* harmony export */   _refreshFilterUi: () => (/* binding */ _refreshFilterUi),\n/* harmony export */   _refreshHandlerAndUi: () => (/* binding */ _refreshHandlerAndUi),\n/* harmony export */   _registerModule: () => (/* binding */ _registerModule),\n/* harmony export */   _removeAriaExpanded: () => (/* binding */ _removeAriaExpanded),\n/* harmony export */   _removeAriaSort: () => (/* binding */ _removeAriaSort),\n/* harmony export */   _removeFromArray: () => (/* binding */ _removeFromArray),\n/* harmony export */   _removeFromParent: () => (/* binding */ _removeFromParent),\n/* harmony export */   _requestAnimationFrame: () => (/* binding */ _requestAnimationFrame),\n/* harmony export */   _resetColumnState: () => (/* binding */ _resetColumnState),\n/* harmony export */   _selectAllCells: () => (/* binding */ _selectAllCells),\n/* harmony export */   _serialiseDate: () => (/* binding */ _serialiseDate),\n/* harmony export */   _setAriaActiveDescendant: () => (/* binding */ _setAriaActiveDescendant),\n/* harmony export */   _setAriaChecked: () => (/* binding */ _setAriaChecked),\n/* harmony export */   _setAriaColCount: () => (/* binding */ _setAriaColCount),\n/* harmony export */   _setAriaColIndex: () => (/* binding */ _setAriaColIndex),\n/* harmony export */   _setAriaColSpan: () => (/* binding */ _setAriaColSpan),\n/* harmony export */   _setAriaControls: () => (/* binding */ _setAriaControls),\n/* harmony export */   _setAriaControlsAndLabel: () => (/* binding */ _setAriaControlsAndLabel),\n/* harmony export */   _setAriaDescribedBy: () => (/* binding */ _setAriaDescribedBy),\n/* harmony export */   _setAriaDisabled: () => (/* binding */ _setAriaDisabled),\n/* harmony export */   _setAriaExpanded: () => (/* binding */ _setAriaExpanded),\n/* harmony export */   _setAriaHasPopup: () => (/* binding */ _setAriaHasPopup),\n/* harmony export */   _setAriaHidden: () => (/* binding */ _setAriaHidden),\n/* harmony export */   _setAriaInvalid: () => (/* binding */ _setAriaInvalid),\n/* harmony export */   _setAriaLabel: () => (/* binding */ _setAriaLabel),\n/* harmony export */   _setAriaLabelledBy: () => (/* binding */ _setAriaLabelledBy),\n/* harmony export */   _setAriaLevel: () => (/* binding */ _setAriaLevel),\n/* harmony export */   _setAriaPosInSet: () => (/* binding */ _setAriaPosInSet),\n/* harmony export */   _setAriaRole: () => (/* binding */ _setAriaRole),\n/* harmony export */   _setAriaRowCount: () => (/* binding */ _setAriaRowCount),\n/* harmony export */   _setAriaRowIndex: () => (/* binding */ _setAriaRowIndex),\n/* harmony export */   _setAriaSelected: () => (/* binding */ _setAriaSelected),\n/* harmony export */   _setAriaSetSize: () => (/* binding */ _setAriaSetSize),\n/* harmony export */   _setAriaSort: () => (/* binding */ _setAriaSort),\n/* harmony export */   _setColMenuVisible: () => (/* binding */ _setColMenuVisible),\n/* harmony export */   _setDisabled: () => (/* binding */ _setDisabled),\n/* harmony export */   _setDisplayed: () => (/* binding */ _setDisplayed),\n/* harmony export */   _setFixedWidth: () => (/* binding */ _setFixedWidth),\n/* harmony export */   _setUmd: () => (/* binding */ _setUmd),\n/* harmony export */   _setVisible: () => (/* binding */ _setVisible),\n/* harmony export */   _shouldUpdateColVisibilityAfterGroup: () => (/* binding */ _shouldUpdateColVisibilityAfterGroup),\n/* harmony export */   _stopPropagationForAgGrid: () => (/* binding */ _stopPropagationForAgGrid),\n/* harmony export */   _toString: () => (/* binding */ _toString),\n/* harmony export */   _toStringOrNull: () => (/* binding */ _toStringOrNull),\n/* harmony export */   _translate: () => (/* binding */ _translate),\n/* harmony export */   _unwrapUserComp: () => (/* binding */ _unwrapUserComp),\n/* harmony export */   _updateColsMap: () => (/* binding */ _updateColsMap),\n/* harmony export */   _updateColumnState: () => (/* binding */ _updateColumnState),\n/* harmony export */   _updateFilterModel: () => (/* binding */ _updateFilterModel),\n/* harmony export */   _waitUntil: () => (/* binding */ _waitUntil),\n/* harmony export */   _warn: () => (/* binding */ _warn),\n/* harmony export */   _warnOnce: () => (/* binding */ _warnOnce),\n/* harmony export */   buttonStyleAlpine: () => (/* binding */ buttonStyleAlpine),\n/* harmony export */   buttonStyleBalham: () => (/* binding */ buttonStyleBalham),\n/* harmony export */   buttonStyleBase: () => (/* binding */ buttonStyleBase),\n/* harmony export */   buttonStyleQuartz: () => (/* binding */ buttonStyleQuartz),\n/* harmony export */   checkboxStyleDefault: () => (/* binding */ checkboxStyleDefault),\n/* harmony export */   colorSchemeDark: () => (/* binding */ colorSchemeDark),\n/* harmony export */   colorSchemeDarkBlue: () => (/* binding */ colorSchemeDarkBlue),\n/* harmony export */   colorSchemeDarkWarm: () => (/* binding */ colorSchemeDarkWarm),\n/* harmony export */   colorSchemeLight: () => (/* binding */ colorSchemeLight),\n/* harmony export */   colorSchemeLightCold: () => (/* binding */ colorSchemeLightCold),\n/* harmony export */   colorSchemeLightWarm: () => (/* binding */ colorSchemeLightWarm),\n/* harmony export */   colorSchemeVariable: () => (/* binding */ colorSchemeVariable),\n/* harmony export */   columnDropStyleBordered: () => (/* binding */ columnDropStyleBordered),\n/* harmony export */   columnDropStylePlain: () => (/* binding */ columnDropStylePlain),\n/* harmony export */   convertColumnGroupState: () => (/* binding */ convertColumnGroupState),\n/* harmony export */   convertColumnState: () => (/* binding */ convertColumnState),\n/* harmony export */   createGrid: () => (/* binding */ createGrid),\n/* harmony export */   createPart: () => (/* binding */ createPart),\n/* harmony export */   createTheme: () => (/* binding */ createTheme),\n/* harmony export */   iconOverrides: () => (/* binding */ iconOverrides),\n/* harmony export */   iconSetAlpine: () => (/* binding */ iconSetAlpine),\n/* harmony export */   iconSetMaterial: () => (/* binding */ iconSetMaterial),\n/* harmony export */   iconSetQuartz: () => (/* binding */ iconSetQuartz),\n/* harmony export */   iconSetQuartzBold: () => (/* binding */ iconSetQuartzBold),\n/* harmony export */   iconSetQuartzLight: () => (/* binding */ iconSetQuartzLight),\n/* harmony export */   iconSetQuartzRegular: () => (/* binding */ iconSetQuartzRegular),\n/* harmony export */   inputStyleBase: () => (/* binding */ inputStyleBase),\n/* harmony export */   inputStyleBordered: () => (/* binding */ inputStyleBordered),\n/* harmony export */   inputStyleUnderlined: () => (/* binding */ inputStyleUnderlined),\n/* harmony export */   isColumn: () => (/* binding */ isColumn),\n/* harmony export */   isColumnGroup: () => (/* binding */ isColumnGroup),\n/* harmony export */   isColumnGroupAutoCol: () => (/* binding */ isColumnGroupAutoCol),\n/* harmony export */   isColumnSelectionCol: () => (/* binding */ isColumnSelectionCol),\n/* harmony export */   isCombinedFilterModel: () => (/* binding */ isCombinedFilterModel),\n/* harmony export */   isProvidedColumnGroup: () => (/* binding */ isProvidedColumnGroup),\n/* harmony export */   isRowNumberCol: () => (/* binding */ isRowNumberCol),\n/* harmony export */   provideGlobalGridOptions: () => (/* binding */ provideGlobalGridOptions),\n/* harmony export */   styleMaterial: () => (/* binding */ styleMaterial),\n/* harmony export */   tabStyleAlpine: () => (/* binding */ tabStyleAlpine),\n/* harmony export */   tabStyleBase: () => (/* binding */ tabStyleBase),\n/* harmony export */   tabStyleMaterial: () => (/* binding */ tabStyleMaterial),\n/* harmony export */   tabStyleQuartz: () => (/* binding */ tabStyleQuartz),\n/* harmony export */   tabStyleRolodex: () => (/* binding */ tabStyleRolodex),\n/* harmony export */   themeAlpine: () => (/* binding */ themeAlpine),\n/* harmony export */   themeBalham: () => (/* binding */ themeBalham),\n/* harmony export */   themeMaterial: () => (/* binding */ themeMaterial),\n/* harmony export */   themeQuartz: () => (/* binding */ themeQuartz)\n/* harmony export */ });\nvar _excluded=[\"rowSpan\",\"spanRows\"],_excluded2=[\"key\"];var _window,_a$agStyleInjectionSt;function _objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=_objectWithoutPropertiesLoose(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++)o=n[r],-1===t.indexOf(o)&&{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o]);}return i;}function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(-1!==e.indexOf(n))continue;t[n]=r[n];}return t;}function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value;}catch(n){return void e(n);}i.done?t(u):Promise.resolve(u).then(r,o);}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,\"next\",n);}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,\"throw\",n);}_next(void 0);});};}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}function _defineProperty(e,r,t){return(r=_toPropertyKey(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e;}function _toPropertyKey(t){var i=_toPrimitive(t,\"string\");return\"symbol\"==typeof i?i:i+\"\";}function _toPrimitive(t,r){if(\"object\"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||\"default\");if(\"object\"!=typeof i)return i;throw new TypeError(\"@@toPrimitive must return a primitive value.\");}return(\"string\"===r?String:Number)(t);}// packages/ag-grid-community/src/localEventService.ts\nvar LocalEventService=class{constructor(){this.allSyncListeners=/* @__PURE__ */new Map();this.allAsyncListeners=/* @__PURE__ */new Map();this.globalSyncListeners=/* @__PURE__ */new Set();this.globalAsyncListeners=/* @__PURE__ */new Set();this.asyncFunctionsQueue=[];this.scheduled=false;// using an object performs better than a Set for the number of different events we have\nthis.firedEvents={};}setFrameworkOverrides(frameworkOverrides){this.frameworkOverrides=frameworkOverrides;}getListeners(eventType,async,autoCreateListenerCollection){var listenerMap=async?this.allAsyncListeners:this.allSyncListeners;var listeners=listenerMap.get(eventType);if(!listeners&&autoCreateListenerCollection){listeners=/* @__PURE__ */new Set();listenerMap.set(eventType,listeners);}return listeners;}noRegisteredListenersExist(){return this.allSyncListeners.size===0&&this.allAsyncListeners.size===0&&this.globalSyncListeners.size===0&&this.globalAsyncListeners.size===0;}addEventListener(eventType,listener){var async=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;this.getListeners(eventType,async,true).add(listener);}removeEventListener(eventType,listener){var async=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var listeners=this.getListeners(eventType,async,false);if(!listeners){return;}listeners.delete(listener);if(listeners.size===0){(async?this.allAsyncListeners:this.allSyncListeners).delete(eventType);}}addGlobalListener(listener){var async=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;this.getGlobalListeners(async).add(listener);}removeGlobalListener(listener){var async=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;this.getGlobalListeners(async).delete(listener);}dispatchEvent(event){this.dispatchToListeners(event,true);this.dispatchToListeners(event,false);this.firedEvents[event.type]=true;}dispatchEventOnce(event){if(!this.firedEvents[event.type]){this.dispatchEvent(event);}}dispatchToListeners(event,async){var _originalListeners$si;var eventType=event.type;if(async&&\"event\"in event){var browserEvent=event.event;if(browserEvent instanceof Event){event.eventPath=browserEvent.composedPath();}}var{frameworkOverrides}=this;var runCallback=func=>{var callback=frameworkOverrides?()=>frameworkOverrides.wrapIncoming(func):func;if(async){this.dispatchAsync(callback);}else{callback();}};var originalListeners=this.getListeners(eventType,async,false);if(((_originalListeners$si=originalListeners===null||originalListeners===void 0?void 0:originalListeners.size)!==null&&_originalListeners$si!==void 0?_originalListeners$si:0)>0){var listeners=new Set(originalListeners);var _loop=function _loop(listener){if(!(originalListeners!==null&&originalListeners!==void 0&&originalListeners.has(listener))){return 1;// continue\n}runCallback(()=>listener(event));};for(var listener of listeners){if(_loop(listener))continue;}}var globalListenersSrc=this.getGlobalListeners(async);if(globalListenersSrc.size>0){var globalListeners=new Set(globalListenersSrc);var _loop2=function _loop2(_listener){runCallback(()=>_listener(eventType,event));};for(var _listener of globalListeners){_loop2(_listener);}}}getGlobalListeners(async){return async?this.globalAsyncListeners:this.globalSyncListeners;}// this gets called inside the grid's thread, for each event that it\n// wants to set async. the grid then batches the events into one setTimeout()\n// because setTimeout() is an expensive operation. ideally we would have\n// each event in it's own setTimeout(), but we batch for performance.\ndispatchAsync(func){this.asyncFunctionsQueue.push(func);if(!this.scheduled){var flush=()=>{window.setTimeout(this.flushAsyncQueue.bind(this),0);};this.frameworkOverrides?this.frameworkOverrides.wrapIncoming(flush):flush();this.scheduled=true;}}// this happens in the next VM turn only, and empties the queue of events\nflushAsyncQueue(){this.scheduled=false;var queueCopy=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[];queueCopy.forEach(func=>func());}};// packages/ag-grid-community/src/misc/locale/localeUtils.ts\nfunction defaultLocaleTextFunc(_key,defaultValue){return defaultValue;}function _getLocaleTextFunc(localeSvc){var _localeSvc$getLocaleT;return(_localeSvc$getLocaleT=localeSvc===null||localeSvc===void 0?void 0:localeSvc.getLocaleTextFunc())!==null&&_localeSvc$getLocaleT!==void 0?_localeSvc$getLocaleT:defaultLocaleTextFunc;}function _translate(bean,localeValues,key,variableValues){var defaultValue=localeValues[key];return bean.getLocaleTextFunc()(key,typeof defaultValue===\"function\"?defaultValue(variableValues):defaultValue,variableValues);}// packages/ag-grid-community/src/utils/generic.ts\nfunction _makeNull(value){if(value==null||value===\"\"){return null;}return value;}function _exists(value){return value!=null&&value!==\"\";}function _missing(value){return!_exists(value);}function _toStringOrNull(value){return value!=null&&typeof value.toString===\"function\"?value.toString():null;}function _jsonEquals(val1,val2){var val1Json=val1?JSON.stringify(val1):null;var val2Json=val2?JSON.stringify(val2):null;return val1Json===val2Json;}function _defaultComparator(valueA,valueB){var accentedCompare=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var valueAMissing=valueA==null;var valueBMissing=valueB==null;if(valueA&&valueA.toNumber){valueA=valueA.toNumber();}if(valueB&&valueB.toNumber){valueB=valueB.toNumber();}if(valueAMissing&&valueBMissing){return 0;}if(valueAMissing){return-1;}if(valueBMissing){return 1;}function doQuickCompare(a,b){return a>b?1:a<b?-1:0;}if(typeof valueA!==\"string\"){return doQuickCompare(valueA,valueB);}if(!accentedCompare){return doQuickCompare(valueA,valueB);}try{return valueA.localeCompare(valueB);}catch(e){return doQuickCompare(valueA,valueB);}}// packages/ag-grid-community/src/utils/object.ts\nvar SKIP_JS_BUILTINS=/* @__PURE__ */new Set([\"__proto__\",\"constructor\",\"prototype\"]);function _iterateObject(object,callback){if(object==null){return;}if(Array.isArray(object)){for(var i=0;i<object.length;i++){callback(i.toString(),object[i]);}return;}for(var key of Object.keys(object)){callback(key,object[key]);}}function _mergeDeep(dest,source){var copyUndefined=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;var makeCopyOfSimpleObjects=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;if(!_exists(source)){return;}_iterateObject(source,(key,sourceValue)=>{if(SKIP_JS_BUILTINS.has(key)){return;}var destValue=dest[key];if(destValue===sourceValue){return;}if(makeCopyOfSimpleObjects){var objectIsDueToBeCopied=destValue==null&&sourceValue!=null;if(objectIsDueToBeCopied){var doNotCopyAsSourceIsSimpleObject=typeof sourceValue===\"object\"&&sourceValue.constructor===Object;if(doNotCopyAsSourceIsSimpleObject){destValue={};dest[key]=destValue;}}}if(_isNonNullObject(sourceValue)&&_isNonNullObject(destValue)&&!Array.isArray(destValue)){_mergeDeep(destValue,sourceValue,copyUndefined,makeCopyOfSimpleObjects);}else if(copyUndefined||sourceValue!==void 0){dest[key]=sourceValue;}});}function _getValueUsingField(data,field,fieldContainsDots){if(!field||!data){return;}if(!fieldContainsDots){return data[field];}var fields=field.split(\".\");var currentObject=data;for(var i=0;i<fields.length;i++){if(currentObject==null){return void 0;}currentObject=currentObject[fields[i]];}return currentObject;}function _isNonNullObject(value){return typeof value===\"object\"&&value!==null;}// packages/ag-grid-community/src/globalGridOptions.ts\nvar _GlobalGridOptions=class _GlobalGridOptions{/**\n   * @param providedOptions\n   * @returns Shallow copy of the provided options with global options merged in.\n   */static applyGlobalGridOptions(providedOptions){if(!_GlobalGridOptions.gridOptions){return _objectSpread({},providedOptions);}var mergedGridOps={};_mergeDeep(mergedGridOps,_GlobalGridOptions.gridOptions,true,true);if(_GlobalGridOptions.mergeStrategy===\"deep\"){_mergeDeep(mergedGridOps,providedOptions,true,true);}else{mergedGridOps=_objectSpread(_objectSpread({},mergedGridOps),providedOptions);}if(_GlobalGridOptions.gridOptions.context){mergedGridOps.context=_GlobalGridOptions.gridOptions.context;}if(providedOptions.context){if(_GlobalGridOptions.mergeStrategy===\"deep\"&&mergedGridOps.context){_mergeDeep(providedOptions.context,mergedGridOps.context,true,true);}mergedGridOps.context=providedOptions.context;}return mergedGridOps;}};_GlobalGridOptions.gridOptions=void 0;_GlobalGridOptions.mergeStrategy=\"shallow\";var GlobalGridOptions=_GlobalGridOptions;function provideGlobalGridOptions(gridOptions){var mergeStrategy=arguments.length>1&&arguments[1]!==undefined?arguments[1]:\"shallow\";GlobalGridOptions.gridOptions=gridOptions;GlobalGridOptions.mergeStrategy=mergeStrategy;}function _getGlobalGridOption(gridOption){var _GlobalGridOptions$gr;return(_GlobalGridOptions$gr=GlobalGridOptions.gridOptions)===null||_GlobalGridOptions$gr===void 0?void 0:_GlobalGridOptions$gr[gridOption];}// packages/ag-grid-community/src/gridOptionsDefault.ts\nvar GRID_OPTION_DEFAULTS={suppressContextMenu:false,preventDefaultOnContextMenu:false,allowContextMenuWithControlKey:false,suppressMenuHide:true,enableBrowserTooltips:false,tooltipTrigger:\"hover\",tooltipShowDelay:2e3,tooltipHideDelay:1e4,tooltipMouseTrack:false,tooltipShowMode:\"standard\",tooltipInteraction:false,copyHeadersToClipboard:false,copyGroupHeadersToClipboard:false,clipboardDelimiter:\"\t\",suppressCopyRowsToClipboard:false,suppressCopySingleCellRanges:false,suppressLastEmptyLineOnPaste:false,suppressClipboardPaste:false,suppressClipboardApi:false,suppressCutToClipboard:false,maintainColumnOrder:false,enableStrictPivotColumnOrder:false,suppressFieldDotNotation:false,allowDragFromColumnsToolPanel:false,suppressMovableColumns:false,suppressColumnMoveAnimation:false,suppressMoveWhenColumnDragging:false,suppressDragLeaveHidesColumns:false,suppressRowGroupHidesColumns:false,suppressAutoSize:false,autoSizePadding:20,skipHeaderOnAutoSize:false,singleClickEdit:false,suppressClickEdit:false,readOnlyEdit:false,stopEditingWhenCellsLoseFocus:false,enterNavigatesVertically:false,enterNavigatesVerticallyAfterEdit:false,enableCellEditingOnBackspace:false,undoRedoCellEditing:false,undoRedoCellEditingLimit:10,suppressCsvExport:false,suppressExcelExport:false,cacheQuickFilter:false,includeHiddenColumnsInQuickFilter:false,excludeChildrenWhenTreeDataFiltering:false,enableAdvancedFilter:false,includeHiddenColumnsInAdvancedFilter:false,enableCharts:false,masterDetail:false,keepDetailRows:false,keepDetailRowsCount:10,detailRowAutoHeight:false,tabIndex:0,rowBuffer:10,valueCache:false,valueCacheNeverExpires:false,enableCellExpressions:false,suppressTouch:false,suppressFocusAfterRefresh:false,suppressBrowserResizeObserver:false,suppressPropertyNamesCheck:false,suppressChangeDetection:false,debug:false,suppressLoadingOverlay:false,suppressNoRowsOverlay:false,pagination:false,paginationPageSize:100,paginationPageSizeSelector:true,paginationAutoPageSize:false,paginateChildRows:false,suppressPaginationPanel:false,pivotMode:false,pivotPanelShow:\"never\",pivotDefaultExpanded:0,pivotSuppressAutoColumn:false,suppressExpandablePivotGroups:false,functionsReadOnly:false,suppressAggFuncInHeader:false,alwaysAggregateAtRootLevel:false,aggregateOnlyChangedColumns:false,suppressAggFilteredOnly:false,removePivotHeaderRowWhenSingleValueColumn:false,animateRows:true,cellFlashDuration:500,cellFadeDuration:1e3,allowShowChangeAfterFilter:false,domLayout:\"normal\",ensureDomOrder:false,enableRtl:false,suppressColumnVirtualisation:false,suppressMaxRenderedRowRestriction:false,suppressRowVirtualisation:false,rowDragManaged:false,rowDragInsertDelay:500,suppressRowDrag:false,suppressMoveWhenRowDragging:false,rowDragEntireRow:false,rowDragMultiRow:false,embedFullWidthRows:false,groupDisplayType:\"singleColumn\",groupDefaultExpanded:0,groupMaintainOrder:false,groupSelectsChildren:false,groupSuppressBlankHeader:false,groupSelectsFiltered:false,showOpenedGroup:false,groupRemoveSingleChildren:false,groupRemoveLowestSingleChildren:false,groupHideOpenParents:false,groupAllowUnbalanced:false,rowGroupPanelShow:\"never\",suppressMakeColumnVisibleAfterUnGroup:false,treeData:false,rowGroupPanelSuppressSort:false,suppressGroupRowsSticky:false,rowModelType:\"clientSide\",asyncTransactionWaitMillis:50,suppressModelUpdateAfterUpdateTransaction:false,cacheOverflowSize:1,infiniteInitialRowCount:1,serverSideInitialRowCount:1,cacheBlockSize:100,maxBlocksInCache:-1,maxConcurrentDatasourceRequests:2,blockLoadDebounceMillis:0,purgeClosedRowNodes:false,serverSideSortAllLevels:false,serverSideOnlyRefreshFilteredGroups:false,serverSidePivotResultFieldSeparator:\"_\",viewportRowModelPageSize:5,viewportRowModelBufferSize:5,alwaysShowHorizontalScroll:false,alwaysShowVerticalScroll:false,debounceVerticalScrollbar:false,suppressHorizontalScroll:false,suppressScrollOnNewData:false,suppressScrollWhenPopupsAreOpen:false,suppressAnimationFrame:false,suppressMiddleClickScrolls:false,suppressPreventDefaultOnMouseWheel:false,rowMultiSelectWithClick:false,suppressRowDeselection:false,suppressRowClickSelection:false,suppressCellFocus:false,suppressHeaderFocus:false,suppressMultiRangeSelection:false,enableCellTextSelection:false,enableRangeSelection:false,enableRangeHandle:false,enableFillHandle:false,fillHandleDirection:\"xy\",suppressClearOnFillReduction:false,accentedSort:false,unSortIcon:false,suppressMultiSort:false,alwaysMultiSort:false,suppressMaintainUnsortedOrder:false,suppressRowHoverHighlight:false,suppressRowTransform:false,columnHoverHighlight:false,deltaSort:false,enableGroupEdit:false,groupLockGroupColumns:0,serverSideEnableClientSideSort:false,suppressServerSideFullWidthLoadingRow:false,pivotMaxGeneratedColumns:-1,columnMenu:\"new\",reactiveCustomComponents:true,suppressSetFilterByDefault:false,rowNumbers:false,enableFilterHandlers:false};// packages/ag-grid-community/src/utils/aria.ts\nfunction _toggleAriaAttribute(element,attribute,value){if(value==null||typeof value===\"string\"&&value==\"\"){_removeAriaAttribute(element,attribute);}else{_setAriaAttribute(element,attribute,value);}}function _setAriaAttribute(element,attribute,value){element.setAttribute(_ariaAttributeName(attribute),value.toString());}function _removeAriaAttribute(element,attribute){element.removeAttribute(_ariaAttributeName(attribute));}function _ariaAttributeName(attribute){return\"aria-\".concat(attribute);}function _setAriaRole(element,role){if(role){element.setAttribute(\"role\",role);}else{element.removeAttribute(\"role\");}}function _getAriaSortState(sortDirection){var sort;if(sortDirection===\"asc\"){sort=\"ascending\";}else if(sortDirection===\"desc\"){sort=\"descending\";}else if(sortDirection===\"mixed\"){sort=\"other\";}else{sort=\"none\";}return sort;}function _getAriaPosInSet(element){return parseInt(element.getAttribute(\"aria-posinset\"),10);}function _getAriaLabel(element){return element.getAttribute(\"aria-label\");}function _setAriaLabel(element,label){_toggleAriaAttribute(element,\"label\",label);}function _setAriaLabelledBy(element,labelledBy){_toggleAriaAttribute(element,\"labelledby\",labelledBy);}function _setAriaDescribedBy(element,describedby){_toggleAriaAttribute(element,\"describedby\",describedby);}function _setAriaLive(element,live){_toggleAriaAttribute(element,\"live\",live);}function _setAriaAtomic(element,atomic){_toggleAriaAttribute(element,\"atomic\",atomic);}function _setAriaRelevant(element,relevant){_toggleAriaAttribute(element,\"relevant\",relevant);}function _setAriaInvalid(element,invalid){_toggleAriaAttribute(element,\"invalid\",invalid);}function _setAriaLevel(element,level){_toggleAriaAttribute(element,\"level\",level);}function _setAriaDisabled(element,disabled){_toggleAriaAttribute(element,\"disabled\",disabled);}function _setAriaHidden(element,hidden){_toggleAriaAttribute(element,\"hidden\",hidden);}function _setAriaActiveDescendant(element,descendantId){_toggleAriaAttribute(element,\"activedescendant\",descendantId);}function _setAriaExpanded(element,expanded){_setAriaAttribute(element,\"expanded\",expanded);}function _removeAriaExpanded(element){_removeAriaAttribute(element,\"expanded\");}function _setAriaSetSize(element,setsize){_setAriaAttribute(element,\"setsize\",setsize);}function _setAriaPosInSet(element,position){_setAriaAttribute(element,\"posinset\",position);}function _setAriaMultiSelectable(element,multiSelectable){_setAriaAttribute(element,\"multiselectable\",multiSelectable);}function _setAriaRowCount(element,rowCount){_setAriaAttribute(element,\"rowcount\",rowCount);}function _setAriaRowIndex(element,rowIndex){_setAriaAttribute(element,\"rowindex\",rowIndex);}function _setAriaRowSpan(element,spanCount){_setAriaAttribute(element,\"rowspan\",spanCount);}function _setAriaColCount(element,colCount){_setAriaAttribute(element,\"colcount\",colCount);}function _setAriaColIndex(element,colIndex){_setAriaAttribute(element,\"colindex\",colIndex);}function _setAriaColSpan(element,colSpan){_setAriaAttribute(element,\"colspan\",colSpan);}function _setAriaSort(element,sort){_setAriaAttribute(element,\"sort\",sort);}function _removeAriaSort(element){_removeAriaAttribute(element,\"sort\");}function _setAriaSelected(element,selected){_toggleAriaAttribute(element,\"selected\",selected);}function _setAriaChecked(element,checked){_setAriaAttribute(element,\"checked\",checked===void 0?\"mixed\":checked);}function _setAriaControls(controllerElement,controlledId){_toggleAriaAttribute(controllerElement,\"controls\",controlledId);}function _setAriaControlsAndLabel(controllerElement,controlledElement){_setAriaControls(controllerElement,controlledElement.id);_setAriaLabelledBy(controlledElement,controllerElement.id);}function _setAriaHasPopup(element,hasPopup){_toggleAriaAttribute(element,\"haspopup\",hasPopup===false?null:hasPopup);}function _getAriaCheckboxStateName(translate,state){return state===void 0?translate(\"ariaIndeterminate\",\"indeterminate\"):state===true?translate(\"ariaChecked\",\"checked\"):translate(\"ariaUnchecked\",\"unchecked\");}// packages/ag-grid-community/src/utils/browser.ts\nvar isSafari;var isFirefox;var isMacOs;var isIOS;var invisibleScrollbar;var browserScrollbarWidth;var maxDivHeight;function _isBrowserSafari(){if(isSafari===void 0){isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);}return isSafari;}function _isBrowserFirefox(){if(isFirefox===void 0){isFirefox=/(firefox)/i.test(navigator.userAgent);}return isFirefox;}function _isMacOsUserAgent(){if(isMacOs===void 0){isMacOs=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform);}return isMacOs;}function _isIOSUserAgent(){if(isIOS===void 0){isIOS=/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform===\"MacIntel\"&&navigator.maxTouchPoints>1;}return isIOS;}function _getTabIndex(el){if(!el){return null;}var numberTabIndex=el.tabIndex;var tabIndex=el.getAttribute(\"tabIndex\");if(numberTabIndex===-1&&(tabIndex===null||tabIndex===\"\"&&!_isBrowserFirefox())){return null;}return numberTabIndex.toString();}function _getMaxDivHeight(){if(maxDivHeight!==void 0){return maxDivHeight;}if(!document.body){return-1;}var res=1e6;var testUpTo=_isBrowserFirefox()?6e6:1e9;var div=document.createElement(\"div\");document.body.appendChild(div);while(true){var test=res*2;div.style.height=test+\"px\";if(test>testUpTo||div.clientHeight!==test){break;}else{res=test;}}document.body.removeChild(div);maxDivHeight=res;return res;}function _getScrollbarWidth(){if(browserScrollbarWidth==null){initScrollbarWidthAndVisibility();}return browserScrollbarWidth;}function initScrollbarWidthAndVisibility(){var body=document.body;var div=document.createElement(\"div\");div.style.width=div.style.height=\"100px\";div.style.opacity=\"0\";div.style.overflow=\"scroll\";div.style.msOverflowStyle=\"scrollbar\";div.style.position=\"absolute\";body.appendChild(div);var width=div.offsetWidth-div.clientWidth;if(width===0&&div.clientWidth===0){width=null;}if(div.parentNode){div.parentNode.removeChild(div);}if(width!=null){browserScrollbarWidth=width;invisibleScrollbar=width===0;}}function _isInvisibleScrollbar(){if(invisibleScrollbar==null){initScrollbarWidthAndVisibility();}return invisibleScrollbar;}// packages/ag-grid-community/src/utils/dom.ts\nfunction _radioCssClass(element,elementClass,otherElementClass){var parent=element.parentElement;var sibling=parent&&parent.firstChild;while(sibling){if(elementClass){sibling.classList.toggle(elementClass,sibling===element);}if(otherElementClass){sibling.classList.toggle(otherElementClass,sibling!==element);}sibling=sibling.nextSibling;}}var FOCUSABLE_SELECTOR=\"[tabindex], input, select, button, textarea, [href]\";var FOCUSABLE_EXCLUDE=\"[disabled], .ag-disabled:not(.ag-button), .ag-disabled *\";function _isFocusableFormField(element){var matches=Element.prototype.matches||Element.prototype.msMatchesSelector;var inputSelector=\"input, select, button, textarea\";var isFocusable=matches.call(element,inputSelector);var isNotFocusable=matches.call(element,FOCUSABLE_EXCLUDE);var isElementVisible=_isVisible(element);var focusable=isFocusable&&!isNotFocusable&&isElementVisible;return focusable;}function _setDisplayed(element,displayed){var options=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var{skipAriaHidden}=options;element.classList.toggle(\"ag-hidden\",!displayed);if(!skipAriaHidden){_setAriaHidden(element,!displayed);}}function _setVisible(element,visible){var options=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var{skipAriaHidden}=options;element.classList.toggle(\"ag-invisible\",!visible);if(!skipAriaHidden){_setAriaHidden(element,!visible);}}function _setDisabled(element,disabled){var _element$querySelecto;var attributeName=\"disabled\";var addOrRemoveDisabledAttribute=disabled?e=>e.setAttribute(attributeName,\"\"):e=>e.removeAttribute(attributeName);addOrRemoveDisabledAttribute(element);var inputs=(_element$querySelecto=element.querySelectorAll(\"input\"))!==null&&_element$querySelecto!==void 0?_element$querySelecto:[];for(var input of inputs){addOrRemoveDisabledAttribute(input);}}function _isElementChildOfClass(element,cls,maxNest){var counter=0;while(element){if(element.classList.contains(cls)){return true;}element=element.parentElement;if(typeof maxNest==\"number\"){if(++counter>maxNest){break;}}else if(element===maxNest){break;}}return false;}function _getElementSize(el){var{height,width,borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth,paddingTop,paddingRight,paddingBottom,paddingLeft,marginTop,marginRight,marginBottom,marginLeft,boxSizing}=window.getComputedStyle(el);return{height:parseFloat(height||\"0\"),width:parseFloat(width||\"0\"),borderTopWidth:parseFloat(borderTopWidth||\"0\"),borderRightWidth:parseFloat(borderRightWidth||\"0\"),borderBottomWidth:parseFloat(borderBottomWidth||\"0\"),borderLeftWidth:parseFloat(borderLeftWidth||\"0\"),paddingTop:parseFloat(paddingTop||\"0\"),paddingRight:parseFloat(paddingRight||\"0\"),paddingBottom:parseFloat(paddingBottom||\"0\"),paddingLeft:parseFloat(paddingLeft||\"0\"),marginTop:parseFloat(marginTop||\"0\"),marginRight:parseFloat(marginRight||\"0\"),marginBottom:parseFloat(marginBottom||\"0\"),marginLeft:parseFloat(marginLeft||\"0\"),boxSizing};}function _getInnerHeight(el){var size=_getElementSize(el);if(size.boxSizing===\"border-box\"){return size.height-size.paddingTop-size.paddingBottom;}return size.height;}function _getInnerWidth(el){var size=_getElementSize(el);if(size.boxSizing===\"border-box\"){return size.width-size.paddingLeft-size.paddingRight;}return size.width;}function _getAbsoluteHeight(el){var{height,marginBottom,marginTop}=_getElementSize(el);return Math.floor(height+marginBottom+marginTop);}function _getAbsoluteWidth(el){var{width,marginLeft,marginRight}=_getElementSize(el);return Math.floor(width+marginLeft+marginRight);}function _getElementRectWithOffset(el){var offsetElementRect=el.getBoundingClientRect();var{borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth}=_getElementSize(el);return{top:offsetElementRect.top+(borderTopWidth||0),left:offsetElementRect.left+(borderLeftWidth||0),right:offsetElementRect.right+(borderRightWidth||0),bottom:offsetElementRect.bottom+(borderBottomWidth||0)};}function _getScrollLeft(element,rtl){var scrollLeft=element.scrollLeft;if(rtl){scrollLeft=Math.abs(scrollLeft);}return scrollLeft;}function _setScrollLeft(element,value,rtl){if(rtl){value*=-1;}element.scrollLeft=value;}function _clearElement(el){while(el&&el.firstChild){el.removeChild(el.firstChild);}}function _removeFromParent(node){if(node&&node.parentNode){node.parentNode.removeChild(node);}}function _isInDOM(element){return!!element.offsetParent;}function _isVisible(element){var el=element;if(el.checkVisibility){return el.checkVisibility({checkVisibilityCSS:true});}var isHidden=!_isInDOM(element)||window.getComputedStyle(element).visibility!==\"visible\";return!isHidden;}function _loadTemplate(template){var tempDiv=document.createElement(\"div\");tempDiv.innerHTML=(template||\"\").trim();return tempDiv.firstChild;}function _ensureDomOrder(eContainer,eChild,eChildBefore){if(eChildBefore&&eChildBefore.nextSibling===eChild){return;}if(!eContainer.firstChild){eContainer.appendChild(eChild);}else if(eChildBefore){if(eChildBefore.nextSibling){eContainer.insertBefore(eChild,eChildBefore.nextSibling);}else{eContainer.appendChild(eChild);}}else if(eContainer.firstChild&&eContainer.firstChild!==eChild){eContainer.insertAdjacentElement(\"afterbegin\",eChild);}}function _setDomChildOrder(eContainer,orderedChildren){for(var i=0;i<orderedChildren.length;i++){var correctCellAtIndex=orderedChildren[i];var actualCellAtIndex=eContainer.children[i];if(actualCellAtIndex!==correctCellAtIndex){eContainer.insertBefore(correctCellAtIndex,actualCellAtIndex);}}}function _camelCaseToHyphenated(camelCase){return camelCase.replace(/[A-Z]/g,s=>\"-\".concat(s.toLocaleLowerCase()));}function _addStylesToElement(eElement,styles){if(!styles){return;}for(var key of Object.keys(styles)){var value=styles[key];if(!key||!key.length||value==null){continue;}var parsedKey=_camelCaseToHyphenated(key);var valueAsString=value.toString();var parsedValue=valueAsString.replace(/\\s*!important/g,\"\");var priority=parsedValue.length!=valueAsString.length?\"important\":void 0;eElement.style.setProperty(parsedKey,parsedValue,priority);}}function _isElementOverflowingCallback(getElement2){return()=>{var element=getElement2();if(!element){return true;}return _isHorizontalScrollShowing(element);};}function _isHorizontalScrollShowing(element){return element.clientWidth<element.scrollWidth;}function _isVerticalScrollShowing(element){return element.clientHeight<element.scrollHeight;}function _setElementWidth(element,width){if(width===\"flex\"){element.style.removeProperty(\"width\");element.style.removeProperty(\"minWidth\");element.style.removeProperty(\"maxWidth\");element.style.flex=\"1 1 auto\";}else{_setFixedWidth(element,width);}}function _setFixedWidth(element,width){width=_formatSize(width);element.style.width=width;element.style.maxWidth=width;element.style.minWidth=width;}function _setFixedHeight(element,height){height=_formatSize(height);element.style.height=height;element.style.maxHeight=height;element.style.minHeight=height;}function _formatSize(size){return typeof size===\"number\"?\"\".concat(size,\"px\"):size;}function _isNodeOrElement(o){return o instanceof Node||o instanceof HTMLElement;}function _addOrRemoveAttribute(element,name,value){if(value==null||value===\"\"){element.removeAttribute(name);}else{element.setAttribute(name,value.toString());}}function _observeResize(beans,element,callback){var win=_getWindow(beans);var ResizeObserverImpl=win.ResizeObserver;var resizeObserver=ResizeObserverImpl?new ResizeObserverImpl(callback):null;resizeObserver===null||resizeObserver===void 0||resizeObserver.observe(element);return()=>resizeObserver===null||resizeObserver===void 0?void 0:resizeObserver.disconnect();}function _getTextSelectionRanges(beans){var rootNode=_getRootNode(beans);var selection=\"getSelection\"in rootNode?rootNode.getSelection():null;var ranges=[];for(var i=0;i<((_selection$rangeCount=selection===null||selection===void 0?void 0:selection.rangeCount)!==null&&_selection$rangeCount!==void 0?_selection$rangeCount:0);i++){var _selection$rangeCount;var range=selection===null||selection===void 0?void 0:selection.getRangeAt(i);if(range){ranges.push(range);}}return{selection,ranges};}function _preserveRangesWhile(beans,fn){var enableCellTextSelection=beans.gos.get(\"enableCellTextSelection\");if(!enableCellTextSelection){return fn();}if(!_isBrowserFirefox()&&!_isBrowserSafari()){return fn();}var{selection,ranges}=_getTextSelectionRanges(beans);fn();selection===null||selection===void 0||selection.removeAllRanges();for(var range of ranges){selection===null||selection===void 0||selection.addRange(range);}}function _requestAnimationFrame(beans,callback){var win=_getWindow(beans);if(win.requestAnimationFrame){win.requestAnimationFrame(callback);}else if(win.webkitRequestAnimationFrame){win.webkitRequestAnimationFrame(callback);}else{win.setTimeout(callback,0);}}var DataRefAttribute=\"data-ref\";var whitespaceNode;function getWhitespaceNode(){whitespaceNode!==null&&whitespaceNode!==void 0?whitespaceNode:whitespaceNode=document.createTextNode(\" \");return whitespaceNode.cloneNode();}function _createElement(params){var{attrs,children,cls,ref,role,tag}=params;var element=document.createElement(tag);if(cls){element.className=cls;}if(ref){element.setAttribute(DataRefAttribute,ref);}if(role){element.setAttribute(\"role\",role);}if(attrs){for(var key of Object.keys(attrs)){element.setAttribute(key,attrs[key]);}}if(children){if(typeof children===\"string\"){element.textContent=children;}else{var addFirstWhitespace=true;for(var child of children){if(child){if(typeof child===\"string\"){element.appendChild(document.createTextNode(child));addFirstWhitespace=false;}else if(typeof child===\"function\"){element.appendChild(child());}else{if(addFirstWhitespace){element.appendChild(getWhitespaceNode());addFirstWhitespace=false;}element.append(_createElement(child));element.appendChild(getWhitespaceNode());}}}}}return element;}// packages/ag-grid-community/src/utils/function.ts\nvar doOnceFlags={};function _doOnce(func,key){if(doOnceFlags[key]){return;}func();doOnceFlags[key]=true;}function _logIfDebug(gos,message){if(gos.get(\"debug\")){for(var _len=arguments.length,args=new Array(_len>2?_len-2:0),_key2=2;_key2<_len;_key2++){args[_key2-2]=arguments[_key2];}console.log(\"AG Grid: \"+message,...args);}}function _warnOnce(msg){for(var _len2=arguments.length,args=new Array(_len2>1?_len2-1:0),_key3=1;_key3<_len2;_key3++){args[_key3-1]=arguments[_key3];}_doOnce(()=>console.warn(\"AG Grid: \"+msg,...args),msg+(args===null||args===void 0?void 0:args.join(\"\")));}function _errorOnce(msg){for(var _len3=arguments.length,args=new Array(_len3>1?_len3-1:0),_key4=1;_key4<_len3;_key4++){args[_key4-1]=arguments[_key4];}_doOnce(()=>console.error(\"AG Grid: \"+msg,...args),msg+(args===null||args===void 0?void 0:args.join(\"\")));}var batchedCallsSetTimeout={pending:false,funcs:[]};var batchedCallsRaf={pending:false,funcs:[]};function _batchCall(func){var mode=arguments.length>1&&arguments[1]!==undefined?arguments[1]:\"setTimeout\";var beans=arguments.length>2?arguments[2]:undefined;var batch=mode===\"raf\"?batchedCallsRaf:batchedCallsSetTimeout;batch.funcs.push(func);if(batch.pending){return;}batch.pending=true;var runBatch=()=>{var funcsCopy=batch.funcs.slice();batch.funcs.length=0;batch.pending=false;funcsCopy.forEach(func2=>func2());};if(mode===\"raf\"){_requestAnimationFrame(beans,runBatch);}else{window.setTimeout(runBatch,0);}}function _debounce(bean,func,delay){var timeout;return function(){for(var _len4=arguments.length,args=new Array(_len4),_key5=0;_key5<_len4;_key5++){args[_key5]=arguments[_key5];}var context=this;window.clearTimeout(timeout);timeout=window.setTimeout(function(){if(bean.isAlive()){func.apply(context,args);}},delay);};}function _throttle(func,wait){var previousCall=0;return function(){var context=this;var currentCall=Date.now();if(currentCall-previousCall<wait){return;}previousCall=currentCall;for(var _len5=arguments.length,args=new Array(_len5),_key6=0;_key6<_len5;_key6++){args[_key6]=arguments[_key6];}func.apply(context,args);};}function _waitUntil(condition,callback){var timeout=arguments.length>2&&arguments[2]!==undefined?arguments[2]:100;var timeoutMessage=arguments.length>3?arguments[3]:undefined;var timeStamp=Date.now();var interval=null;var executed=false;var internalCallback=()=>{var reachedTimeout=Date.now()-timeStamp>timeout;if(condition()||reachedTimeout){callback();executed=true;if(interval!=null){window.clearInterval(interval);interval=null;}if(reachedTimeout&&timeoutMessage){_warnOnce(timeoutMessage);}}};internalCallback();if(!executed){interval=window.setInterval(internalCallback,10);}}// packages/ag-grid-community/src/baseUrl.ts\nvar BASE_URL=\"https://www.ag-grid.com\";// packages/ag-grid-community/src/version.ts\nvar VERSION=\"34.0.2\";// packages/ag-grid-community/src/validation/logging.ts\nvar MAX_URL_LENGTH=2e3;var MIN_PARAM_LENGTH=100;var VERSION_PARAM_NAME=\"_version_\";var validation=null;var suppressAllLogging=false;var baseDocLink=\"\".concat(BASE_URL,\"/javascript-data-grid\");function provideValidationServiceLogger(logger){validation=logger;}function setValidationDocLink(docLink){baseDocLink=docLink;}function getErrorParts(id,args,defaultMessage){var _validation$getConsol,_validation;return(_validation$getConsol=(_validation=validation)===null||_validation===void 0?void 0:_validation.getConsoleMessage(id,args))!==null&&_validation$getConsol!==void 0?_validation$getConsol:[minifiedLog(id,args,defaultMessage)];}function getMsgOrDefault(logger,id,args,defaultMessage){if(suppressAllLogging)return;logger(\"error #\".concat(id),...getErrorParts(id,args,defaultMessage));}function stringifyObject(inputObj){if(!inputObj)return String(inputObj);var object={};for(var prop of Object.keys(inputObj)){if(typeof inputObj[prop]!==\"object\"&&typeof inputObj[prop]!==\"function\"){object[prop]=inputObj[prop];}}return JSON.stringify(object);}function stringifyValue(value){var output=value;if(value instanceof Error){output=value.toString();}else if(typeof value===\"object\"){output=stringifyObject(value);}return output;}function toStringWithNullUndefined(str){return str===void 0?\"undefined\":str===null?\"null\":str;}function getParamsUrl(baseUrl,params){return\"\".concat(baseUrl,\"?\").concat(params.toString());}function truncateUrl(baseUrl,params,maxLength){var sortedParams=Array.from(params.entries()).sort((a,b)=>b[1].length-a[1].length);var url=getParamsUrl(baseUrl,params);for(var[key,value]of sortedParams){if(key===VERSION_PARAM_NAME){continue;}var excessLength=url.length-maxLength;if(excessLength<=0){break;}var ellipse=\"...\";var truncateAmount=excessLength+ellipse.length;var truncatedValue=value.length-truncateAmount>MIN_PARAM_LENGTH?value.slice(0,value.length-truncateAmount)+ellipse:value.slice(0,MIN_PARAM_LENGTH)+ellipse;params.set(key,truncatedValue);url=getParamsUrl(baseUrl,params);}return url;}function getErrorLink(errorNum,args){var params=new URLSearchParams();params.append(VERSION_PARAM_NAME,VERSION);if(args){for(var key of Object.keys(args)){params.append(key,stringifyValue(args[key]));}}var baseUrl=\"\".concat(baseDocLink,\"/errors/\").concat(errorNum);var url=getParamsUrl(baseUrl,params);return url.length<=MAX_URL_LENGTH?url:truncateUrl(baseUrl,params,MAX_URL_LENGTH);}var minifiedLog=(errorNum,args,defaultMessage)=>{var errorLink=getErrorLink(errorNum,args);return\"\".concat(defaultMessage?defaultMessage+\" \\n\":\"\",\"Visit \").concat(errorLink).concat(defaultMessage?\"\":\" \\n  Alternatively register the ValidationModule to see the full message in the console.\");};function _warn(){getMsgOrDefault(_warnOnce,arguments.length<=0?undefined:arguments[0],arguments.length<=1?undefined:arguments[1]);}function _error(){getMsgOrDefault(_errorOnce,arguments.length<=0?undefined:arguments[0],arguments.length<=1?undefined:arguments[1]);}function _logPreInitErr(id,args,defaultMessage){getMsgOrDefault(_errorOnce,id,args,defaultMessage);}function getErrMsg(defaultMessage,args){var id=args[0];return\"error #\".concat(id,\" \")+getErrorParts(id,args[1],defaultMessage).join(\" \");}function _errMsg(){for(var _len6=arguments.length,args=new Array(_len6),_key7=0;_key7<_len6;_key7++){args[_key7]=arguments[_key7];}return getErrMsg(void 0,args);}function _preInitErrMsg(){for(var _len7=arguments.length,args=new Array(_len7),_key8=0;_key8<_len7;_key8++){args[_key8]=arguments[_key8];}return getErrMsg(\"\\n\",args);}// packages/ag-grid-community/src/gridOptionsUtils.ts\nfunction isRowModelType(gos,rowModelType){return gos.get(\"rowModelType\")===rowModelType;}function _isClientSideRowModel(gos,rowModel){return isRowModelType(gos,\"clientSide\");}function _isServerSideRowModel(gos,rowModel){return isRowModelType(gos,\"serverSide\");}function _isDomLayout(gos,domLayout){return gos.get(\"domLayout\")===domLayout;}function _isRowSelection(gos){return _getRowSelectionMode(gos)!==void 0;}function _isGetRowHeightFunction(gos){return typeof gos.get(\"getRowHeight\")===\"function\";}function _shouldMaintainColumnOrder(gos,isPivotColumns){if(isPivotColumns){return!gos.get(\"enableStrictPivotColumnOrder\");}return gos.get(\"maintainColumnOrder\");}function _getRowHeightForNode(beans,rowNode){var allowEstimate=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var defaultRowHeight=arguments.length>3?arguments[3]:undefined;var{gos,environment}=beans;if(defaultRowHeight==null){defaultRowHeight=environment.getDefaultRowHeight();}if(_isGetRowHeightFunction(gos)){if(allowEstimate){return{height:defaultRowHeight,estimated:true};}var params={node:rowNode,data:rowNode.data};var height=gos.getCallback(\"getRowHeight\")(params);if(isNumeric(height)){if(height===0){_warn(23);}return{height:Math.max(1,height),estimated:false};}}if(rowNode.detail&&gos.get(\"masterDetail\")){return getMasterDetailRowHeight(gos);}var gridOptionsRowHeight=gos.get(\"rowHeight\");var rowHeight=gridOptionsRowHeight&&isNumeric(gridOptionsRowHeight)?gridOptionsRowHeight:defaultRowHeight;return{height:rowHeight,estimated:false};}function getMasterDetailRowHeight(gos){if(gos.get(\"detailRowAutoHeight\")){return{height:1,estimated:false};}var defaultRowHeight=gos.get(\"detailRowHeight\");if(isNumeric(defaultRowHeight)){return{height:defaultRowHeight,estimated:false};}return{height:300,estimated:false};}function _getRowHeightAsNumber(beans){var{environment,gos}=beans;var gridOptionsRowHeight=gos.get(\"rowHeight\");if(!gridOptionsRowHeight||_missing(gridOptionsRowHeight)){return environment.getDefaultRowHeight();}var rowHeight=environment.refreshRowHeightVariable();if(rowHeight!==-1){return rowHeight;}_warn(24);return environment.getDefaultRowHeight();}function isNumeric(value){return!isNaN(value)&&typeof value===\"number\"&&isFinite(value);}function _getDomData(gos,element,key){var domData=element[gos.getDomDataKey()];return domData?domData[key]:void 0;}function _setDomData(gos,element,key,value){var domDataKey=gos.getDomDataKey();var domData=element[domDataKey];if(_missing(domData)){domData={};element[domDataKey]=domData;}domData[key]=value;}function _getDocument(beans){var{gos,eGridDiv}=beans;var result=null;var gridOptionsGetDocument=gos.get(\"getDocument\");if(gridOptionsGetDocument&&_exists(gridOptionsGetDocument)){result=gridOptionsGetDocument();}else if(eGridDiv){result=eGridDiv.ownerDocument;}if(result&&_exists(result)){return result;}return document;}function _getWindow(beans){var eDocument=_getDocument(beans);return eDocument.defaultView||window;}function _getRootNode(beans){return beans.eGridDiv.getRootNode();}function _getActiveDomElement(beans){return _getRootNode(beans).activeElement;}function _getPageBody(beans){var rootNode=null;var targetEl=null;try{rootNode=_getDocument(beans).fullscreenElement;}catch(e){}finally{if(!rootNode){rootNode=_getRootNode(beans);}var body=rootNode.querySelector(\"body\");if(body){targetEl=body;}else if(rootNode instanceof ShadowRoot){targetEl=rootNode;}else if(rootNode instanceof Document){var _rootNode;targetEl=(_rootNode=rootNode)===null||_rootNode===void 0?void 0:_rootNode.documentElement;}else{targetEl=rootNode;}}return targetEl;}function _getBodyWidth(beans){var _body$clientWidth;var body=_getPageBody(beans);return(_body$clientWidth=body===null||body===void 0?void 0:body.clientWidth)!==null&&_body$clientWidth!==void 0?_body$clientWidth:window.innerHeight||-1;}function _getBodyHeight(beans){var _body$clientHeight;var body=_getPageBody(beans);return(_body$clientHeight=body===null||body===void 0?void 0:body.clientHeight)!==null&&_body$clientHeight!==void 0?_body$clientHeight:window.innerHeight||-1;}function _anchorElementToMouseMoveEvent(element,mouseMoveEvent,beans){var eRect=element.getBoundingClientRect();var height=eRect.height;var browserWidth=_getBodyWidth(beans)-2;var browserHeight=_getBodyHeight(beans)-2;var offsetParent=element.offsetParent;if(!offsetParent){return;}var offsetParentSize=_getElementRectWithOffset(element.offsetParent);var{clientY,clientX}=mouseMoveEvent;var top=clientY-offsetParentSize.top-height/2;var left=clientX-offsetParentSize.left-10;var eDocument=_getDocument(beans);var win=eDocument.defaultView||window;var windowScrollY=win.pageYOffset||eDocument.documentElement.scrollTop;var windowScrollX=win.pageXOffset||eDocument.documentElement.scrollLeft;if(browserWidth>0&&left+element.clientWidth>browserWidth+windowScrollX){left=browserWidth+windowScrollX-element.clientWidth;}if(left<0){left=0;}if(browserHeight>0&&top+element.clientHeight>browserHeight+windowScrollY){top=browserHeight+windowScrollY-element.clientHeight;}if(top<0){top=0;}element.style.left=\"\".concat(left,\"px\");element.style.top=\"\".concat(top,\"px\");}function _isNothingFocused(beans){var activeEl=_getActiveDomElement(beans);return activeEl===null||activeEl===_getDocument(beans).body;}function _isAnimateRows(gos){if(gos.get(\"ensureDomOrder\")){return false;}return gos.get(\"animateRows\");}function _isGroupRowsSticky(gos){if(gos.get(\"paginateChildRows\")||gos.get(\"groupHideOpenParents\")||_isDomLayout(gos,\"print\")){return false;}return true;}function _isColumnsSortingCoupledToGroup(gos){var autoGroupColumnDef=gos.get(\"autoGroupColumnDef\");return!(autoGroupColumnDef!==null&&autoGroupColumnDef!==void 0&&autoGroupColumnDef.comparator)&&!gos.get(\"treeData\");}function _getGroupAggFiltering(gos){var userValue=gos.get(\"groupAggFiltering\");if(typeof userValue===\"function\"){return gos.getCallback(\"groupAggFiltering\");}if(userValue===true){return()=>true;}return void 0;}function _getGrandTotalRow(gos){return gos.get(\"grandTotalRow\");}function _getGroupTotalRowCallback(gos){var userValue=gos.get(\"groupTotalRow\");if(typeof userValue===\"function\"){return gos.getCallback(\"groupTotalRow\");}return()=>userValue!==null&&userValue!==void 0?userValue:void 0;}function _isGroupMultiAutoColumn(gos){var isHideOpenParents=!!gos.get(\"groupHideOpenParents\");if(isHideOpenParents){return true;}return gos.get(\"groupDisplayType\")===\"multipleColumns\";}function _isGroupUseEntireRow(gos,pivotMode){if(pivotMode){return false;}return gos.get(\"groupDisplayType\")===\"groupRows\";}function _isFullWidthGroupRow(gos,node,pivotMode){return!!node.group&&!node.footer&&_isGroupUseEntireRow(gos,pivotMode);}function _getRowIdCallback(gos){var getRowId=gos.getCallback(\"getRowId\");if(getRowId===void 0){return getRowId;}return params=>{var id=getRowId(params);if(typeof id!==\"string\"){_doOnce(()=>_warn(25,{id}),\"getRowIdString\");id=String(id);}return id;};}function _canSkipShowingRowGroup(gos,node){var isSkippingGroups=gos.get(\"groupHideParentOfSingleChild\");if(isSkippingGroups===true){return true;}if(isSkippingGroups===\"leafGroupsOnly\"&&node.leafGroup){return true;}if(gos.get(\"groupRemoveSingleChildren\")){return true;}if(gos.get(\"groupRemoveLowestSingleChildren\")&&node.leafGroup){return true;}return false;}function _getMaxConcurrentDatasourceRequests(gos){var res=gos.get(\"maxConcurrentDatasourceRequests\");return res>0?res:void 0;}function _shouldUpdateColVisibilityAfterGroup(gos,isGrouped){var preventVisibilityChanges=gos.get(\"suppressGroupChangesColumnVisibility\");if(preventVisibilityChanges===true){return false;}if(isGrouped&&preventVisibilityChanges===\"suppressHideOnGroup\"){return false;}if(!isGrouped&&preventVisibilityChanges===\"suppressShowOnUngroup\"){return false;}var legacySuppressOnGroup=gos.get(\"suppressRowGroupHidesColumns\");if(isGrouped&&legacySuppressOnGroup===true){return false;}var legacySuppressOnUngroup=gos.get(\"suppressMakeColumnVisibleAfterUnGroup\");if(!isGrouped&&legacySuppressOnUngroup===true){return false;}return true;}function _getCheckboxes(selection){var _selection$checkboxes;return(_selection$checkboxes=selection===null||selection===void 0?void 0:selection.checkboxes)!==null&&_selection$checkboxes!==void 0?_selection$checkboxes:true;}function _getHeaderCheckbox(selection){var _selection$headerChec;return(selection===null||selection===void 0?void 0:selection.mode)===\"multiRow\"&&((_selection$headerChec=selection.headerCheckbox)!==null&&_selection$headerChec!==void 0?_selection$headerChec:true);}function _getCheckboxLocation(rowSelection){var _rowSelection$checkbo;if(typeof rowSelection!==\"object\"){return void 0;}return(_rowSelection$checkbo=rowSelection.checkboxLocation)!==null&&_rowSelection$checkbo!==void 0?_rowSelection$checkbo:\"selectionColumn\";}function _getHideDisabledCheckboxes(selection){var _selection$hideDisabl;return(_selection$hideDisabl=selection===null||selection===void 0?void 0:selection.hideDisabledCheckboxes)!==null&&_selection$hideDisabl!==void 0?_selection$hideDisabl:false;}function _isUsingNewRowSelectionAPI(gos){var rowSelection=gos.get(\"rowSelection\");return typeof rowSelection!==\"string\";}function _isUsingNewCellSelectionAPI(gos){return gos.get(\"cellSelection\")!==void 0;}function _getSuppressMultiRanges(gos){var _selection$suppressMu;var selection=gos.get(\"cellSelection\");var useNewAPI=selection!==void 0;if(!useNewAPI){return gos.get(\"suppressMultiRangeSelection\");}return typeof selection!==\"boolean\"?(_selection$suppressMu=selection===null||selection===void 0?void 0:selection.suppressMultiRanges)!==null&&_selection$suppressMu!==void 0?_selection$suppressMu:false:false;}function _isCellSelectionEnabled(gos){var selection=gos.get(\"cellSelection\");var useNewAPI=selection!==void 0;return useNewAPI?!!selection:gos.get(\"enableRangeSelection\");}function _getFillHandle(gos){var _selection$handle;var selection=gos.get(\"cellSelection\");var useNewAPI=selection!==void 0;if(!useNewAPI){return{mode:\"fill\",setFillValue:gos.get(\"fillOperation\"),direction:gos.get(\"fillHandleDirection\"),suppressClearOnFillReduction:gos.get(\"suppressClearOnFillReduction\")};}return typeof selection!==\"boolean\"&&((_selection$handle=selection.handle)===null||_selection$handle===void 0?void 0:_selection$handle.mode)===\"fill\"?selection.handle:void 0;}function _getEnableClickSelection(gos){var _gos$get,_selection$enableClic;var selection=(_gos$get=gos.get(\"rowSelection\"))!==null&&_gos$get!==void 0?_gos$get:\"single\";if(typeof selection===\"string\"){var suppressRowClickSelection=gos.get(\"suppressRowClickSelection\");var suppressRowDeselection=gos.get(\"suppressRowDeselection\");if(suppressRowClickSelection&&suppressRowDeselection){return false;}else if(suppressRowClickSelection){return\"enableDeselection\";}else if(suppressRowDeselection){return\"enableSelection\";}else{return true;}}return selection.mode===\"singleRow\"||selection.mode===\"multiRow\"?(_selection$enableClic=selection.enableClickSelection)!==null&&_selection$enableClic!==void 0?_selection$enableClic:false:false;}function _getEnableSelection(gos){var enableClickSelection=_getEnableClickSelection(gos);return enableClickSelection===true||enableClickSelection===\"enableSelection\";}function _getEnableDeselection(gos){var enableClickSelection=_getEnableClickSelection(gos);return enableClickSelection===true||enableClickSelection===\"enableDeselection\";}function _getIsRowSelectable(gos){var selection=gos.get(\"rowSelection\");if(typeof selection===\"string\"){return gos.get(\"isRowSelectable\");}return selection===null||selection===void 0?void 0:selection.isRowSelectable;}function _getRowSelectionMode(arg){var selection=\"beanName\"in arg&&arg.beanName===\"gos\"?arg.get(\"rowSelection\"):arg.rowSelection;if(typeof selection===\"string\"){switch(selection){case\"multiple\":return\"multiRow\";case\"single\":return\"singleRow\";default:return;}}switch(selection===null||selection===void 0?void 0:selection.mode){case\"multiRow\":case\"singleRow\":return selection.mode;default:return;}}function _isMultiRowSelection(arg){var mode=_getRowSelectionMode(arg);return mode===\"multiRow\";}function _getEnableSelectionWithoutKeys(gos){var _selection$enableSele;var selection=gos.get(\"rowSelection\");if(typeof selection===\"string\"){return gos.get(\"rowMultiSelectWithClick\");}return(_selection$enableSele=selection===null||selection===void 0?void 0:selection.enableSelectionWithoutKeys)!==null&&_selection$enableSele!==void 0?_selection$enableSele:false;}function _getGroupSelection(gos){var selection=gos.get(\"rowSelection\");if(typeof selection===\"string\"){var groupSelectsChildren=gos.get(\"groupSelectsChildren\");var groupSelectsFiltered=gos.get(\"groupSelectsFiltered\");if(groupSelectsChildren&&groupSelectsFiltered){return\"filteredDescendants\";}else if(groupSelectsChildren){return\"descendants\";}else{return\"self\";}}return(selection===null||selection===void 0?void 0:selection.mode)===\"multiRow\"?selection.groupSelects:void 0;}function _getSelectAll(gos){var defaultValue=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;var rowSelection=gos.get(\"rowSelection\");if(typeof rowSelection!==\"object\"){return defaultValue?\"all\":void 0;}return rowSelection.mode===\"multiRow\"?rowSelection.selectAll:\"all\";}function _getGroupSelectsDescendants(gos){var groupSelection=_getGroupSelection(gos);return groupSelection===\"descendants\"||groupSelection===\"filteredDescendants\";}function _getMasterSelects(gos){var rowSelection=gos.get(\"rowSelection\");return typeof rowSelection===\"object\"&&rowSelection.masterSelects||\"self\";}function _isSetFilterByDefault(gos){return gos.isModuleRegistered(\"SetFilter\")&&!gos.get(\"suppressSetFilterByDefault\");}function _isLegacyMenuEnabled(gos){return gos.get(\"columnMenu\")===\"legacy\";}function _isColumnMenuAnchoringEnabled(gos){return!_isLegacyMenuEnabled(gos);}function _getCallbackForEvent(eventName){if(!eventName||eventName.length<2){return eventName;}return\"on\"+eventName[0].toUpperCase()+eventName.substring(1);}function _combineAttributesAndGridOptions(gridOptions,component,gridOptionsKeys){if(typeof gridOptions!==\"object\"){gridOptions={};}var mergedOptions=_objectSpread({},gridOptions);gridOptionsKeys.forEach(key=>{var value=component[key];if(typeof value!==\"undefined\"){mergedOptions[key]=value;}});return mergedOptions;}function _processOnChange(changes,api){if(!changes){return;}var gridChanges={};var hasChanges=false;Object.keys(changes).forEach(key=>{gridChanges[key]=changes[key];hasChanges=true;});if(!hasChanges){return;}var internalUpdateEvent={type:\"gridOptionsChanged\",options:gridChanges};api.dispatchEvent(internalUpdateEvent);var event=_objectSpread({type:\"componentStateChanged\"},gridChanges);api.dispatchEvent(event);}function _addGridCommonParams(gos,params){return gos.addGridCommonParams(params);}function _getGroupingApproach(gos){if(gos.get(\"treeData\")){if(gos.get(\"treeDataParentIdField\")){return\"treeSelfRef\";}if(gos.get(\"treeDataChildrenField\")){return\"treeNested\";}return\"treePath\";}return\"group\";}function _getGridOption(providedGridOptions,gridOption){var _ref,_ref2,_providedGridOptions$,_providedGridOptions;return(_ref=(_ref2=(_providedGridOptions$=providedGridOptions[gridOption])!==null&&_providedGridOptions$!==void 0?_providedGridOptions$:(_providedGridOptions=providedGridOptions[\"gridOptions\"])===null||_providedGridOptions===void 0?void 0:_providedGridOptions[gridOption])!==null&&_ref2!==void 0?_ref2:_getGlobalGridOption(gridOption))!==null&&_ref!==void 0?_ref:GRID_OPTION_DEFAULTS[gridOption];}// packages/ag-grid-community/src/utils/event.ts\nvar AG_GRID_STOP_PROPAGATION=\"__ag_Grid_Stop_Propagation\";var PASSIVE_EVENTS=[\"touchstart\",\"touchend\",\"touchmove\",\"touchcancel\",\"scroll\"];var NON_PASSIVE_EVENTS=[\"wheel\"];var supports={};function _stopPropagationForAgGrid(event){event[AG_GRID_STOP_PROPAGATION]=true;}function _isStopPropagationForAgGrid(event){return event[AG_GRID_STOP_PROPAGATION]===true;}var _isEventSupported=/* @__PURE__ */(()=>{var tags={select:\"input\",change:\"input\",submit:\"form\",reset:\"form\",error:\"img\",load:\"img\",abort:\"img\"};var eventChecker=eventName=>{if(typeof supports[eventName]===\"boolean\"){return supports[eventName];}var el=document.createElement(tags[eventName]||\"div\");eventName=\"on\"+eventName;return supports[eventName]=eventName in el;};return eventChecker;})();function _getCtrlForEventTarget(gos,eventTarget,type){var sourceElement=eventTarget;while(sourceElement){var renderedComp=_getDomData(gos,sourceElement,type);if(renderedComp){return renderedComp;}sourceElement=sourceElement.parentElement;}return null;}function _isElementInEventPath(element,event){if(!event||!element){return false;}return _getEventPath(event).indexOf(element)>=0;}function _createEventPath(event){var res=[];var pointer=event.target;while(pointer){res.push(pointer);pointer=pointer.parentElement;}return res;}function _getEventPath(event){var eventNoType=event;if(eventNoType.path){return eventNoType.path;}if(eventNoType.composedPath){return eventNoType.composedPath();}return _createEventPath(eventNoType);}function _addSafePassiveEventListener(frameworkOverrides,eElement,event,listener){var passive=getPassiveStateForEvent(event);var options;if(passive!=null){options={passive};}if(frameworkOverrides&&frameworkOverrides.addEventListener){frameworkOverrides.addEventListener(eElement,event,listener,options);}}var getPassiveStateForEvent=event=>{var isPassive=PASSIVE_EVENTS.includes(event);var isNonPassive=NON_PASSIVE_EVENTS.includes(event);if(isPassive){return true;}if(isNonPassive){return false;}};// packages/ag-grid-community/src/context/beanStub.ts\nvar BeanStub=class{constructor(){// not named context to allow children to use 'context' as a variable name\nthis.destroyFunctions=[];this.destroyed=false;// for vue 3 - prevents Vue from trying to make this (and obviously any sub classes) from being reactive\n// prevents vue from creating proxies for created objects and prevents identity related issues\nthis.__v_skip=true;this.propertyListenerId=0;// Enable multiple grid properties to be updated together by the user but only trigger shared logic once.\n// Closely related to logic in GridOptionsUtils.ts _processOnChange\nthis.lastChangeSetIdLookup={};this.isAlive=()=>!this.destroyed;}preWireBeans(beans){this.beans=beans;this.stubContext=beans.context;this.eventSvc=beans.eventSvc;this.gos=beans.gos;}// this was a test constructor niall built, when active, it prints after 5 seconds all beans/components that are\n// not destroyed. to use, create a new grid, then api.destroy() before 5 seconds. then anything that gets printed\n// points to a bean or component that was not properly disposed of.\n// constructor() {\n//     setTimeout(()=> {\n//         if (this.isAlive()) {\n//             let prototype: any = Object.getPrototypeOf(this);\n//             const constructor: any = prototype.constructor;\n//             const constructorString = constructor.toString();\n//             const beanName = constructorString.substring(9, constructorString.indexOf(\"(\"));\n//             console.log('is alive ' + beanName);\n//         }\n//     }, 5000);\n// }\ndestroy(){var{destroyFunctions}=this;for(var i=0;i<destroyFunctions.length;i++){destroyFunctions[i]();}destroyFunctions.length=0;this.destroyed=true;this.dispatchLocalEvent({type:\"destroyed\"});}// The typing of AgEventListener<any, any, any> is not ideal, but it's the best we can do at the moment to enable\n// eventSvc to have the best typing at the expense of BeanStub local events\n/** Add a local event listener against this BeanStub */addEventListener(eventType,listener,async){if(!this.localEventService){this.localEventService=new LocalEventService();}this.localEventService.addEventListener(eventType,listener,async);}/** Remove a local event listener from this BeanStub */removeEventListener(eventType,listener,async){var _this$localEventServi;(_this$localEventServi=this.localEventService)===null||_this$localEventServi===void 0||_this$localEventServi.removeEventListener(eventType,listener,async);}dispatchLocalEvent(event){var _this$localEventServi2;(_this$localEventServi2=this.localEventService)===null||_this$localEventServi2===void 0||_this$localEventServi2.dispatchEvent(event);}addManagedElementListeners(object,handlers){return this._setupListeners(object,handlers);}addManagedEventListeners(handlers){return this._setupListeners(this.eventSvc,handlers);}addManagedListeners(object,handlers){return this._setupListeners(object,handlers);}_setupListeners(object,handlers){var destroyFuncs=[];for(var k of Object.keys(handlers)){var handler=handlers[k];if(handler){destroyFuncs.push(this._setupListener(object,k,handler));}}return destroyFuncs;}_setupListener(object,event,listener){if(this.destroyed){return()=>null;}var destroyFunc;if(isAgEventEmitter(object)){object.__addEventListener(event,listener);destroyFunc=()=>{object.__removeEventListener(event,listener);return null;};}else{if(object instanceof HTMLElement){_addSafePassiveEventListener(this.beans.frameworkOverrides,object,event,listener);}else{object.addEventListener(event,listener);}destroyFunc=()=>{object.removeEventListener(event,listener);return null;};}this.destroyFunctions.push(destroyFunc);return()=>{destroyFunc();this.destroyFunctions=this.destroyFunctions.filter(fn=>fn!==destroyFunc);return null;};}/**\n   * Setup a managed property listener for the given GridOption property.\n   * However, stores the destroy function in the beanStub so that if this bean\n   * is a component the destroy function will be called when the component is destroyed\n   * as opposed to being cleaned up only when the GridOptionsService is destroyed.\n   */setupGridOptionListener(event,listener){var{gos}=this;gos.addPropertyEventListener(event,listener);var destroyFunc=()=>{gos.removePropertyEventListener(event,listener);return null;};this.destroyFunctions.push(destroyFunc);return()=>{destroyFunc();this.destroyFunctions=this.destroyFunctions.filter(fn=>fn!==destroyFunc);return null;};}/**\n   * Setup a managed property listener for the given GridOption property.\n   * @param event GridOption property to listen to changes for.\n   * @param listener Listener to run when property value changes\n   */addManagedPropertyListener(event,listener){if(this.destroyed){return()=>null;}return this.setupGridOptionListener(event,listener);}/**\n   * Setup managed property listeners for the given set of GridOption properties.\n   * The listener will be run if any of the property changes but will only run once if\n   * multiple of the properties change within the same framework lifecycle event.\n   * Works on the basis that GridOptionsService updates all properties *before* any property change events are fired.\n   * @param events Array of GridOption properties to listen for changes too.\n   * @param listener Shared listener to run if any of the properties change\n   */addManagedPropertyListeners(events,listener){if(this.destroyed){return;}var eventsKey=events.join(\"-\")+this.propertyListenerId++;var wrappedListener=event=>{if(event.changeSet){if(event.changeSet&&event.changeSet.id===this.lastChangeSetIdLookup[eventsKey]){return;}this.lastChangeSetIdLookup[eventsKey]=event.changeSet.id;}var propertiesChangeEvent={type:\"gridPropertyChanged\",changeSet:event.changeSet,source:event.source};listener(propertiesChangeEvent);};events.forEach(event=>this.setupGridOptionListener(event,wrappedListener));}getLocaleTextFunc(){return _getLocaleTextFunc(this.beans.localeSvc);}addDestroyFunc(func){if(this.isAlive()){this.destroyFunctions.push(func);}else{func();}}/** doesn't throw an error if `bean` is undefined */createOptionalManagedBean(bean,context){return bean?this.createManagedBean(bean,context):void 0;}createManagedBean(bean,context){var res=this.createBean(bean,context);this.addDestroyFunc(this.destroyBean.bind(this,bean,context));return res;}createBean(bean,context,afterPreCreateCallback){return(context||this.stubContext).createBean(bean,afterPreCreateCallback);}/**\n   * Destroys a bean and returns undefined to support destruction and clean up in a single line.\n   * this.dateComp = this.context.destroyBean(this.dateComp);\n   */destroyBean(bean,context){return(context||this.stubContext).destroyBean(bean);}/**\n   * Destroys an array of beans and returns an empty array to support destruction and clean up in a single line.\n   * this.dateComps = this.context.destroyBeans(this.dateComps);\n   */destroyBeans(beans,context){return(context||this.stubContext).destroyBeans(beans);}};function isAgEventEmitter(object){return object.__addEventListener!==void 0;}// packages/ag-grid-community/src/utils/string.ts\nvar reUnescapedHtml=/[&<>\"']/g;var HTML_ESCAPES={\"&\":\"&amp;\",\"<\":\"&lt;\",\">\":\"&gt;\",'\"':\"&quot;\",\"'\":\"&#39;\"};function _toString(toEscape){var _toEscape$toString$to;return(_toEscape$toString$to=toEscape===null||toEscape===void 0?void 0:toEscape.toString().toString())!==null&&_toEscape$toString$to!==void 0?_toEscape$toString$to:null;}function _escapeString(toEscape){var _toString$replace,_toString2;return(_toString$replace=(_toString2=_toString(toEscape))===null||_toString2===void 0?void 0:_toString2.replace(reUnescapedHtml,chr=>HTML_ESCAPES[chr]))!==null&&_toString$replace!==void 0?_toString$replace:null;}// packages/ag-grid-community/src/entities/agColumn.ts\nvar COL_DEF_DEFAULTS={resizable:true,sortable:true};var instanceIdSequence=0;function getNextColInstanceId(){return instanceIdSequence++;}function isColumn(col){return col instanceof AgColumn;}var AgColumn=class extends BeanStub{constructor(colDef,userProvidedColDef,colId,primary){super();this.colDef=colDef;this.userProvidedColDef=userProvidedColDef;this.colId=colId;this.primary=primary;this.isColumn=true;// used by React (and possibly other frameworks) as key for rendering. also used to\n// identify old vs new columns for destroying cols when no longer used.\nthis.instanceId=getNextColInstanceId();// The measured height of this column's header when autoHeaderHeight is enabled\nthis.autoHeaderHeight=null;this.moving=false;this.menuVisible=false;this.lastLeftPinned=false;this.firstRightPinned=false;this.filterActive=false;this.colEventSvc=new LocalEventService();this.tooltipEnabled=false;this.rowGroupActive=false;this.pivotActive=false;this.aggregationActive=false;this.flex=null;this.colIdSanitised=_escapeString(colId);}destroy(){var _this$beans$rowSpanSv;super.destroy();(_this$beans$rowSpanSv=this.beans.rowSpanSvc)===null||_this$beans$rowSpanSv===void 0||_this$beans$rowSpanSv.deregister(this);}getInstanceId(){return this.instanceId;}setState(){var{colDef,beans:{sortSvc,pinnedCols,colFlex}}=this;sortSvc===null||sortSvc===void 0||sortSvc.initCol(this);var hide=colDef.hide;if(hide!==void 0){this.visible=!hide;}else{this.visible=!colDef.initialHide;}pinnedCols===null||pinnedCols===void 0||pinnedCols.initCol(this);colFlex===null||colFlex===void 0||colFlex.initCol(this);}// gets called when user provides an alternative colDef, eg\nsetColDef(colDef,userProvidedColDef,source){var colSpanChanged=colDef.spanRows!==this.colDef.spanRows;this.colDef=colDef;this.userProvidedColDef=userProvidedColDef;this.initMinAndMaxWidths();this.initDotNotation();this.initTooltip();if(colSpanChanged){var _this$beans$rowSpanSv2;(_this$beans$rowSpanSv2=this.beans.rowSpanSvc)===null||_this$beans$rowSpanSv2===void 0||_this$beans$rowSpanSv2.deregister(this);this.initRowSpan();}this.dispatchColEvent(\"colDefChanged\",source);}getUserProvidedColDef(){return this.userProvidedColDef;}getParent(){return this.parent;}getOriginalParent(){return this.originalParent;}// this is done after constructor as it uses gridOptionsService\npostConstruct(){this.setState();this.initMinAndMaxWidths();this.resetActualWidth(\"gridInitializing\");this.initDotNotation();this.initTooltip();this.initRowSpan();}initDotNotation(){var{gos,colDef:{field,tooltipField}}=this;var suppressDotNotation=gos.get(\"suppressFieldDotNotation\");this.fieldContainsDots=_exists(field)&&field.indexOf(\".\")>=0&&!suppressDotNotation;this.tooltipFieldContainsDots=_exists(tooltipField)&&tooltipField.indexOf(\".\")>=0&&!suppressDotNotation;}initMinAndMaxWidths(){var _colDef$minWidth,_colDef$maxWidth;var colDef=this.colDef;this.minWidth=(_colDef$minWidth=colDef.minWidth)!==null&&_colDef$minWidth!==void 0?_colDef$minWidth:this.beans.environment.getDefaultColumnMinWidth();this.maxWidth=(_colDef$maxWidth=colDef.maxWidth)!==null&&_colDef$maxWidth!==void 0?_colDef$maxWidth:Number.MAX_SAFE_INTEGER;}initTooltip(){var _this$beans$tooltipSv;(_this$beans$tooltipSv=this.beans.tooltipSvc)===null||_this$beans$tooltipSv===void 0||_this$beans$tooltipSv.initCol(this);}initRowSpan(){if(this.colDef.spanRows){var _this$beans$rowSpanSv3;(_this$beans$rowSpanSv3=this.beans.rowSpanSvc)===null||_this$beans$rowSpanSv3===void 0||_this$beans$rowSpanSv3.register(this);}}resetActualWidth(source){var initialWidth=this.calculateColInitialWidth(this.colDef);this.setActualWidth(initialWidth,source,true);}calculateColInitialWidth(colDef){var width;var colDefWidth=colDef.width;var colDefInitialWidth=colDef.initialWidth;if(colDefWidth!=null){width=colDefWidth;}else if(colDefInitialWidth!=null){width=colDefInitialWidth;}else{width=200;}return Math.max(Math.min(width,this.maxWidth),this.minWidth);}isEmptyGroup(){return false;}isRowGroupDisplayed(colId){var _this$beans$showRowGr,_this$beans$showRowGr2;return(_this$beans$showRowGr=(_this$beans$showRowGr2=this.beans.showRowGroupCols)===null||_this$beans$showRowGr2===void 0?void 0:_this$beans$showRowGr2.isRowGroupDisplayed(this,colId))!==null&&_this$beans$showRowGr!==void 0?_this$beans$showRowGr:false;}isPrimary(){return this.primary;}isFilterAllowed(){var filterDefined=!!this.colDef.filter;return filterDefined;}isFieldContainsDots(){return this.fieldContainsDots;}isTooltipEnabled(){return this.tooltipEnabled;}isTooltipFieldContainsDots(){return this.tooltipFieldContainsDots;}getHighlighted(){return this.highlighted;}__addEventListener(eventType,listener){this.colEventSvc.addEventListener(eventType,listener);}__removeEventListener(eventType,listener){this.colEventSvc.removeEventListener(eventType,listener);}/**\n   * PUBLIC USE ONLY: for internal use within AG Grid use the `__addEventListener` and `__removeEventListener` methods.\n   */addEventListener(eventType,userListener){var _this$beans$framework,_this$beans$framework2,_this$frameworkEventL,_this$frameworkEventL2;this.frameworkEventListenerService=(_this$beans$framework=(_this$beans$framework2=this.beans.frameworkOverrides).createLocalEventListenerWrapper)===null||_this$beans$framework===void 0?void 0:_this$beans$framework.call(_this$beans$framework2,this.frameworkEventListenerService,this.colEventSvc);var listener=(_this$frameworkEventL=(_this$frameworkEventL2=this.frameworkEventListenerService)===null||_this$frameworkEventL2===void 0?void 0:_this$frameworkEventL2.wrap(eventType,userListener))!==null&&_this$frameworkEventL!==void 0?_this$frameworkEventL:userListener;this.colEventSvc.addEventListener(eventType,listener);}/**\n   * PUBLIC USE ONLY: for internal use within AG Grid use the `__addEventListener` and `__removeEventListener` methods.\n   */removeEventListener(eventType,userListener){var _this$frameworkEventL3,_this$frameworkEventL4;var listener=(_this$frameworkEventL3=(_this$frameworkEventL4=this.frameworkEventListenerService)===null||_this$frameworkEventL4===void 0?void 0:_this$frameworkEventL4.unwrap(eventType,userListener))!==null&&_this$frameworkEventL3!==void 0?_this$frameworkEventL3:userListener;this.colEventSvc.removeEventListener(eventType,listener);}createColumnFunctionCallbackParams(rowNode){return _addGridCommonParams(this.gos,{node:rowNode,data:rowNode.data,column:this,colDef:this.colDef});}isSuppressNavigable(rowNode){var _this$beans$cellNavig,_this$beans$cellNavig2;return(_this$beans$cellNavig=(_this$beans$cellNavig2=this.beans.cellNavigation)===null||_this$beans$cellNavig2===void 0?void 0:_this$beans$cellNavig2.isSuppressNavigable(this,rowNode))!==null&&_this$beans$cellNavig!==void 0?_this$beans$cellNavig:false;}isCellEditable(rowNode){var _this$beans$editSvc$i,_this$beans$editSvc;return(_this$beans$editSvc$i=(_this$beans$editSvc=this.beans.editSvc)===null||_this$beans$editSvc===void 0?void 0:_this$beans$editSvc.isCellEditable({rowNode,column:this}))!==null&&_this$beans$editSvc$i!==void 0?_this$beans$editSvc$i:false;}isSuppressFillHandle(){return!!this.colDef.suppressFillHandle;}isAutoHeight(){return!!this.colDef.autoHeight;}isAutoHeaderHeight(){return!!this.colDef.autoHeaderHeight;}isRowDrag(rowNode){return this.isColumnFunc(rowNode,this.colDef.rowDrag);}isDndSource(rowNode){return this.isColumnFunc(rowNode,this.colDef.dndSource);}isCellCheckboxSelection(rowNode){var _this$beans$selection,_this$beans$selection2;return(_this$beans$selection=(_this$beans$selection2=this.beans.selectionSvc)===null||_this$beans$selection2===void 0?void 0:_this$beans$selection2.isCellCheckboxSelection(this,rowNode))!==null&&_this$beans$selection!==void 0?_this$beans$selection:false;}isSuppressPaste(rowNode){var _this$colDef$suppress,_this$colDef;return this.isColumnFunc(rowNode,(_this$colDef$suppress=(_this$colDef=this.colDef)===null||_this$colDef===void 0?void 0:_this$colDef.suppressPaste)!==null&&_this$colDef$suppress!==void 0?_this$colDef$suppress:null);}isResizable(){return!!this.getColDefValue(\"resizable\");}/** Get value from ColDef or default if it exists. */getColDefValue(key){var _this$colDef$key;return(_this$colDef$key=this.colDef[key])!==null&&_this$colDef$key!==void 0?_this$colDef$key:COL_DEF_DEFAULTS[key];}isColumnFunc(rowNode,value){if(typeof value===\"boolean\"){return value;}if(typeof value===\"function\"){var params=this.createColumnFunctionCallbackParams(rowNode);var editableFunc=value;return editableFunc(params);}return false;}createColumnEvent(type,source){return _addGridCommonParams(this.gos,{type,column:this,columns:[this],source});}isMoving(){return this.moving;}getSort(){return this.sort;}isSortable(){return!!this.getColDefValue(\"sortable\");}/** @deprecated v32 use col.getSort() === 'asc */isSortAscending(){return this.sort===\"asc\";}/** @deprecated v32 use col.getSort() === 'desc */isSortDescending(){return this.sort===\"desc\";}/** @deprecated v32 use col.getSort() === undefined */isSortNone(){return _missing(this.sort);}/** @deprecated v32 use col.getSort() !== undefined */isSorting(){return _exists(this.sort);}getSortIndex(){return this.sortIndex;}isMenuVisible(){return this.menuVisible;}getAggFunc(){return this.aggFunc;}getLeft(){return this.left;}getOldLeft(){return this.oldLeft;}getRight(){return this.left+this.actualWidth;}setLeft(left,source){this.oldLeft=this.left;if(this.left!==left){this.left=left;this.dispatchColEvent(\"leftChanged\",source);}}isFilterActive(){return this.filterActive;}/** @deprecated v33 Use `api.isColumnHovered(column)` instead. */isHovered(){var _this$beans$colHover;_warn(261);return!!((_this$beans$colHover=this.beans.colHover)!==null&&_this$beans$colHover!==void 0&&_this$beans$colHover.isHovered(this));}setFirstRightPinned(firstRightPinned,source){if(this.firstRightPinned!==firstRightPinned){this.firstRightPinned=firstRightPinned;this.dispatchColEvent(\"firstRightPinnedChanged\",source);}}setLastLeftPinned(lastLeftPinned,source){if(this.lastLeftPinned!==lastLeftPinned){this.lastLeftPinned=lastLeftPinned;this.dispatchColEvent(\"lastLeftPinnedChanged\",source);}}isFirstRightPinned(){return this.firstRightPinned;}isLastLeftPinned(){return this.lastLeftPinned;}isPinned(){return this.pinned===\"left\"||this.pinned===\"right\";}isPinnedLeft(){return this.pinned===\"left\";}isPinnedRight(){return this.pinned===\"right\";}getPinned(){return this.pinned;}setVisible(visible,source){var newValue=visible===true;if(this.visible!==newValue){this.visible=newValue;this.dispatchColEvent(\"visibleChanged\",source);}this.dispatchStateUpdatedEvent(\"hide\");}isVisible(){return this.visible;}isSpanHeaderHeight(){var colDef=this.getColDef();return!colDef.suppressSpanHeaderHeight;}getColumnGroupPaddingInfo(){var parent=this.getParent();if(!parent||!parent.isPadding()){return{numberOfParents:0,isSpanningTotal:false};}var numberOfParents=parent.getPaddingLevel()+1;var isSpanningTotal=true;while(parent){if(!parent.isPadding()){isSpanningTotal=false;break;}parent=parent.getParent();}return{numberOfParents,isSpanningTotal};}getColDef(){return this.colDef;}getDefinition(){return this.colDef;}getColumnGroupShow(){return this.colDef.columnGroupShow;}getColId(){return this.colId;}getId(){return this.colId;}getUniqueId(){return this.colId;}getActualWidth(){return this.actualWidth;}getAutoHeaderHeight(){return this.autoHeaderHeight;}/** Returns true if the header height has changed */setAutoHeaderHeight(height){var changed=height!==this.autoHeaderHeight;this.autoHeaderHeight=height;return changed;}createBaseColDefParams(rowNode){var params=_addGridCommonParams(this.gos,{node:rowNode,data:rowNode.data,colDef:this.colDef,column:this});return params;}getColSpan(rowNode){if(_missing(this.colDef.colSpan)){return 1;}var params=this.createBaseColDefParams(rowNode);var colSpan=this.colDef.colSpan(params);return Math.max(colSpan,1);}getRowSpan(rowNode){if(_missing(this.colDef.rowSpan)){return 1;}var params=this.createBaseColDefParams(rowNode);var rowSpan=this.colDef.rowSpan(params);return Math.max(rowSpan,1);}setActualWidth(actualWidth,source){var silent=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;actualWidth=Math.max(actualWidth,this.minWidth);actualWidth=Math.min(actualWidth,this.maxWidth);if(this.actualWidth!==actualWidth){this.actualWidth=actualWidth;if(this.flex!=null&&source!==\"flex\"&&source!==\"gridInitializing\"){this.flex=null;}if(!silent){this.fireColumnWidthChangedEvent(source);}}this.dispatchStateUpdatedEvent(\"width\");}fireColumnWidthChangedEvent(source){this.dispatchColEvent(\"widthChanged\",source);}isGreaterThanMax(width){return width>this.maxWidth;}getMinWidth(){return this.minWidth;}getMaxWidth(){return this.maxWidth;}getFlex(){return this.flex;}isRowGroupActive(){return this.rowGroupActive;}isPivotActive(){return this.pivotActive;}isAnyFunctionActive(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive();}isAnyFunctionAllowed(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue();}isValueActive(){return this.aggregationActive;}isAllowPivot(){return this.colDef.enablePivot===true;}isAllowValue(){return this.colDef.enableValue===true;}isAllowRowGroup(){return this.colDef.enableRowGroup===true;}dispatchColEvent(type,source,additionalEventAttributes){var colEvent=this.createColumnEvent(type,source);if(additionalEventAttributes){_mergeDeep(colEvent,additionalEventAttributes);}this.colEventSvc.dispatchEvent(colEvent);}dispatchStateUpdatedEvent(key){this.colEventSvc.dispatchEvent({type:\"columnStateUpdated\",key});}};// packages/ag-grid-community/src/entities/agProvidedColumnGroup.ts\nfunction isProvidedColumnGroup(col){return col instanceof AgProvidedColumnGroup;}var AgProvidedColumnGroup=class extends BeanStub{constructor(colGroupDef,groupId,padding,level){super();this.colGroupDef=colGroupDef;this.groupId=groupId;this.padding=padding;this.level=level;this.isColumn=false;this.expandable=false;// used by React (and possibly other frameworks) as key for rendering. also used to\n// identify old vs new columns for destroying cols when no longer used.\nthis.instanceId=getNextColInstanceId();this.expandableListenerRemoveCallback=null;this.expanded=!!(colGroupDef!==null&&colGroupDef!==void 0&&colGroupDef.openByDefault);}destroy(){if(this.expandableListenerRemoveCallback){this.reset(null,void 0);}super.destroy();}reset(colGroupDef,level){this.colGroupDef=colGroupDef;this.level=level;this.originalParent=null;if(this.expandableListenerRemoveCallback){this.expandableListenerRemoveCallback();}this.children=void 0;this.expandable=void 0;}getInstanceId(){return this.instanceId;}getOriginalParent(){return this.originalParent;}getLevel(){return this.level;}isVisible(){if(this.children){return this.children.some(child=>child.isVisible());}return false;}isPadding(){return this.padding;}setExpanded(expanded){this.expanded=expanded===void 0?false:expanded;this.dispatchLocalEvent({type:\"expandedChanged\"});}isExpandable(){return this.expandable;}isExpanded(){return this.expanded;}getGroupId(){return this.groupId;}getId(){return this.getGroupId();}setChildren(children){this.children=children;}getChildren(){return this.children;}getColGroupDef(){return this.colGroupDef;}getLeafColumns(){var result=[];this.addLeafColumns(result);return result;}forEachLeafColumn(callback){if(!this.children){return;}for(var child of this.children){if(isColumn(child)){callback(child);}else if(isProvidedColumnGroup(child)){child.forEachLeafColumn(callback);}}}addLeafColumns(leafColumns){if(!this.children){return;}this.children.forEach(child=>{if(isColumn(child)){leafColumns.push(child);}else if(isProvidedColumnGroup(child)){child.addLeafColumns(leafColumns);}});}getColumnGroupShow(){var colGroupDef=this.colGroupDef;if(!colGroupDef){return;}return colGroupDef.columnGroupShow;}// need to check that this group has at least one col showing when both expanded and contracted.\n// if not, then we don't allow expanding and contracting on this group\nsetupExpandable(){this.setExpandable();if(this.expandableListenerRemoveCallback){this.expandableListenerRemoveCallback();}var listener=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach(col=>col.__addEventListener(\"visibleChanged\",listener));this.expandableListenerRemoveCallback=()=>{this.getLeafColumns().forEach(col=>col.__removeEventListener(\"visibleChanged\",listener));this.expandableListenerRemoveCallback=null;};}setExpandable(){if(this.isPadding()){return;}var atLeastOneShowingWhenOpen=false;var atLeastOneShowingWhenClosed=false;var atLeastOneChangeable=false;var children=this.findChildrenRemovingPadding();for(var i=0,j=children.length;i<j;i++){var abstractColumn=children[i];if(!abstractColumn.isVisible()){continue;}var headerGroupShow=abstractColumn.getColumnGroupShow();if(headerGroupShow===\"open\"){atLeastOneShowingWhenOpen=true;atLeastOneChangeable=true;}else if(headerGroupShow===\"closed\"){atLeastOneShowingWhenClosed=true;atLeastOneChangeable=true;}else{atLeastOneShowingWhenOpen=true;atLeastOneShowingWhenClosed=true;}}var expandable=atLeastOneShowingWhenOpen&&atLeastOneShowingWhenClosed&&atLeastOneChangeable;if(this.expandable!==expandable){this.expandable=expandable;this.dispatchLocalEvent({type:\"expandableChanged\"});}}findChildrenRemovingPadding(){var res=[];var process=items=>{items.forEach(item=>{var skipBecausePadding=isProvidedColumnGroup(item)&&item.isPadding();if(skipBecausePadding){process(item.children);}else{res.push(item);}});};process(this.children);return res;}onColumnVisibilityChanged(){this.setExpandable();}};// packages/ag-grid-community/src/entities/defaultColumnTypes.ts\nvar DefaultColumnTypes={numericColumn:{headerClass:\"ag-right-aligned-header\",cellClass:\"ag-right-aligned-cell\"},rightAligned:{headerClass:\"ag-right-aligned-header\",cellClass:\"ag-right-aligned-cell\"}};// packages/ag-grid-community/src/columns/columnGroups/columnGroupUtils.ts\nfunction createMergedColGroupDef(beans,colGroupDef,groupId){var colGroupDefMerged={};var gos=beans.gos;Object.assign(colGroupDefMerged,gos.get(\"defaultColGroupDef\"));Object.assign(colGroupDefMerged,colGroupDef);gos.validateColDef(colGroupDefMerged,groupId);return colGroupDefMerged;}// packages/ag-grid-community/src/columns/columnKeyCreator.ts\nvar ColumnKeyCreator=class{constructor(){this.existingKeys={};}addExistingKeys(keys){for(var i=0;i<keys.length;i++){this.existingKeys[keys[i]]=true;}}getUniqueKey(colId,colField){colId=_toStringOrNull(colId);var count=0;while(true){var idToTry=colId!==null&&colId!==void 0?colId:colField;if(idToTry){if(count!==0){idToTry+=\"_\"+count;}}else{idToTry=count;}if(!this.existingKeys[idToTry]){var usedId=String(idToTry);if(colId&&count>0){_warn(273,{providedId:colId,usedId});}this.existingKeys[usedId]=true;return usedId;}count++;}}};// packages/ag-grid-community/src/utils/array.ts\nvar _EmptyArray=Object.freeze([]);function _last(arr){if(!(arr!==null&&arr!==void 0&&arr.length)){return;}return arr[arr.length-1];}function _areEqual(a,b,comparator){if(a==null&&b==null){return true;}return a!=null&&b!=null&&a.length===b.length&&a.every((value,index)=>comparator?comparator(value,b[index]):b[index]===value);}function _forAll(array,callback){if(!array){return;}for(var value of array){callback(value);}}function _removeFromArray(array,object){var index=array.indexOf(object);if(index>=0){array.splice(index,1);}}function _moveInArray(array,objectsToMove,toIndex){for(var i=0;i<objectsToMove.length;i++){_removeFromArray(array,objectsToMove[i]);}for(var _i=objectsToMove.length-1;_i>=0;_i--){array.splice(toIndex,0,objectsToMove[_i]);}}function _flatten(arrays){return[].concat.apply([],arrays);}// packages/ag-grid-community/src/columns/columnUtils.ts\nvar GROUP_AUTO_COLUMN_ID=\"ag-Grid-AutoColumn\";var SELECTION_COLUMN_ID=\"ag-Grid-SelectionColumn\";var ROW_NUMBERS_COLUMN_ID=\"ag-Grid-RowNumbersColumn\";function _getColumnsFromTree(rootColumns){var result=[];var recursiveFindColumns=childColumns=>{for(var i=0;i<childColumns.length;i++){var child=childColumns[i];if(isColumn(child)){result.push(child);}else if(isProvidedColumnGroup(child)){recursiveFindColumns(child.getChildren());}}};recursiveFindColumns(rootColumns);return result;}function getWidthOfColsInList(columnList){return columnList.reduce((width,col)=>width+col.getActualWidth(),0);}function _destroyColumnTree(beans,oldTree,newTree){var oldObjectsById={};if(!oldTree){return;}depthFirstOriginalTreeSearch(null,oldTree,child=>{oldObjectsById[child.getInstanceId()]=child;});if(newTree){depthFirstOriginalTreeSearch(null,newTree,child=>{oldObjectsById[child.getInstanceId()]=null;});}var colsToDestroy=Object.values(oldObjectsById).filter(item=>item!=null);beans.context.destroyBeans(colsToDestroy);}function isColumnGroupAutoCol(col){var colId=col.getId();return colId.startsWith(GROUP_AUTO_COLUMN_ID);}function isColumnSelectionCol(col){var _id$startsWith;var id=typeof col===\"string\"?col:\"getColId\"in col?col.getColId():col.colId;return(_id$startsWith=id===null||id===void 0?void 0:id.startsWith(SELECTION_COLUMN_ID))!==null&&_id$startsWith!==void 0?_id$startsWith:false;}function isRowNumberCol(col){var _id$startsWith2;var id=typeof col===\"string\"?col:\"getColId\"in col?col.getColId():col.colId;return(_id$startsWith2=id===null||id===void 0?void 0:id.startsWith(ROW_NUMBERS_COLUMN_ID))!==null&&_id$startsWith2!==void 0?_id$startsWith2:false;}function convertColumnTypes(type){var typeKeys=[];if(type instanceof Array){typeKeys=type;}else if(typeof type===\"string\"){typeKeys=type.split(\",\");}return typeKeys;}function _areColIdsEqual(colsA,colsB){return _areEqual(colsA,colsB,(a,b)=>a.getColId()===b.getColId());}function _updateColsMap(cols){cols.map={};cols.list.forEach(col=>cols.map[col.getId()]=col);}function _convertColumnEventSourceType(source){return source===\"gridOptionsUpdated\"?\"gridOptionsChanged\":source;}function _columnsMatch(column,key){var columnMatches=column===key;var colDefMatches=column.getColDef()===key;var idMatches=column.getColId()==key;return columnMatches||colDefMatches||idMatches;}var getValueFactory=(stateItem,defaultState)=>(key1,key2)=>{var obj={value1:void 0,value2:void 0};var calculated=false;if(stateItem){if(stateItem[key1]!==void 0){obj.value1=stateItem[key1];calculated=true;}if(_exists(key2)&&stateItem[key2]!==void 0){obj.value2=stateItem[key2];calculated=true;}}if(!calculated&&defaultState){if(defaultState[key1]!==void 0){obj.value1=defaultState[key1];}if(_exists(key2)&&defaultState[key2]!==void 0){obj.value2=defaultState[key2];}}return obj;};// packages/ag-grid-community/src/columns/columnFactoryUtils.ts\nfunction _createColumnTreeWithIds(beans){var _defs$map;var defs=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var primaryColumns=arguments.length>2?arguments[2]:undefined;var existingTree=arguments.length>3?arguments[3]:undefined;var source=arguments.length>4?arguments[4]:undefined;var{existingCols,existingGroups}=extractExistingTreeData(existingTree);var colIdMap=new Map(existingCols.map(col=>[col.getId(),col]));var colGroupIdMap=new Map(existingGroups.map(group=>[group.getId(),group]));var maxDepth=0;var recursivelyProcessColDef=(def,level)=>{var _beans$dataTypeSvc;maxDepth=Math.max(maxDepth,level);if(isColumnGroupDef(def)){if(!beans.colGroupSvc){return null;}var groupId=def.groupId;var group=colGroupIdMap.get(groupId);var colGroupDef=createMergedColGroupDef(beans,def,groupId);var newGroup=new AgProvidedColumnGroup(colGroupDef,groupId,false,level);beans.context.createBean(newGroup);if(group){newGroup.setExpanded(group.isExpanded());}newGroup.setChildren(def.children.map(child=>recursivelyProcessColDef(child,level+1)));return newGroup;}var colId=def.colId;var column=colIdMap.get(colId);if(!column){var colDefMerged=_addColumnDefaultAndTypes(beans,def,colId);column=new AgColumn(colDefMerged,def,colId,primaryColumns);beans.context.createBean(column);}else{var _colDefMerged=_addColumnDefaultAndTypes(beans,def,column.getColId());column.setColDef(_colDefMerged,def,source);_updateColumnState(beans,column,_colDefMerged,source);}(_beans$dataTypeSvc=beans.dataTypeSvc)===null||_beans$dataTypeSvc===void 0||_beans$dataTypeSvc.addColumnListeners(column);return column;};var root=(_defs$map=defs===null||defs===void 0?void 0:defs.map(def=>recursivelyProcessColDef(def,0)))!==null&&_defs$map!==void 0?_defs$map:[];var counter=0;var keyCreator={getUniqueKey:(_colId,_field)=>String(++counter)};var columnTree=beans.colGroupSvc?beans.colGroupSvc.balanceColumnTree(root,0,maxDepth,keyCreator):root;var depthFirstCallback=(child,parent)=>{if(isProvidedColumnGroup(child)){child.setupExpandable();}child.originalParent=parent;};depthFirstOriginalTreeSearch(null,columnTree,depthFirstCallback);return{columnTree,treeDepth:maxDepth};}function _createColumnTree(beans){var _colGroupSvc$findMaxD;var defs=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var primaryColumns=arguments.length>2?arguments[2]:undefined;var existingTree=arguments.length>3?arguments[3]:undefined;var source=arguments.length>4?arguments[4]:undefined;var columnKeyCreator=new ColumnKeyCreator();var{existingCols,existingGroups,existingColKeys}=extractExistingTreeData(existingTree);columnKeyCreator.addExistingKeys(existingColKeys);var unbalancedTree=_recursivelyCreateColumns(beans,defs,0,primaryColumns,existingCols,columnKeyCreator,existingGroups,source);var{colGroupSvc}=beans;var treeDepth=(_colGroupSvc$findMaxD=colGroupSvc===null||colGroupSvc===void 0?void 0:colGroupSvc.findMaxDepth(unbalancedTree,0))!==null&&_colGroupSvc$findMaxD!==void 0?_colGroupSvc$findMaxD:0;var columnTree=colGroupSvc?colGroupSvc.balanceColumnTree(unbalancedTree,0,treeDepth,columnKeyCreator):unbalancedTree;var depthFirstCallback=(child,parent)=>{if(isProvidedColumnGroup(child)){child.setupExpandable();}child.originalParent=parent;};depthFirstOriginalTreeSearch(null,columnTree,depthFirstCallback);return{columnTree,treeDepth};}function extractExistingTreeData(existingTree){var existingCols=[];var existingGroups=[];var existingColKeys=[];if(existingTree){depthFirstOriginalTreeSearch(null,existingTree,item=>{if(isProvidedColumnGroup(item)){var group=item;existingGroups.push(group);}else{var col=item;existingColKeys.push(col.getId());existingCols.push(col);}});}return{existingCols,existingGroups,existingColKeys};}function _recursivelyCreateColumns(beans,defs,level,primaryColumns,existingColsCopy,columnKeyCreator,existingGroups,source){if(!defs)return[];var{colGroupSvc}=beans;var result=new Array(defs.length);for(var i=0;i<result.length;i++){var def=defs[i];if(colGroupSvc&&isColumnGroupDef(def)){result[i]=colGroupSvc.createProvidedColumnGroup(primaryColumns,def,level,existingColsCopy,columnKeyCreator,existingGroups,source);}else{result[i]=createColumn(beans,primaryColumns,def,existingColsCopy,columnKeyCreator,source);}}return result;}function createColumn(beans,primaryColumns,colDef,existingColsCopy,columnKeyCreator,source){var _beans$dataTypeSvc2;var existingColAndIndex=findExistingColumn(colDef,existingColsCopy);if(existingColAndIndex){existingColsCopy===null||existingColsCopy===void 0||existingColsCopy.splice(existingColAndIndex.idx,1);}var column=existingColAndIndex===null||existingColAndIndex===void 0?void 0:existingColAndIndex.column;if(!column){var colId=columnKeyCreator.getUniqueKey(colDef.colId,colDef.field);var colDefMerged=_addColumnDefaultAndTypes(beans,colDef,colId);column=new AgColumn(colDefMerged,colDef,colId,primaryColumns);beans.context.createBean(column);}else{var _colDefMerged2=_addColumnDefaultAndTypes(beans,colDef,column.getColId());column.setColDef(_colDefMerged2,colDef,source);_updateColumnState(beans,column,_colDefMerged2,source);}(_beans$dataTypeSvc2=beans.dataTypeSvc)===null||_beans$dataTypeSvc2===void 0||_beans$dataTypeSvc2.addColumnListeners(column);return column;}function updateSomeColumnState(beans,column,hide,sort,sortIndex,pinned,flex,source){var{sortSvc,pinnedCols,colFlex}=beans;if(hide!==void 0){column.setVisible(!hide,source);}if(sortSvc){sortSvc.updateColSort(column,sort,source);if(sortIndex!==void 0){sortSvc.setColSortIndex(column,sortIndex);}}if(pinned!==void 0){pinnedCols===null||pinnedCols===void 0||pinnedCols.setColPinned(column,pinned);}if(flex!==void 0){colFlex===null||colFlex===void 0||colFlex.setColFlex(column,flex);}}function _updateColumnState(beans,column,colDef,source){updateSomeColumnState(beans,column,colDef.hide,colDef.sort,colDef.sortIndex,colDef.pinned,colDef.flex,source);var colFlex=column.getFlex();if(colFlex!=null&&colFlex>0){return;}if(colDef.width!=null){column.setActualWidth(colDef.width,source);}else{var widthBeforeUpdate=column.getActualWidth();column.setActualWidth(widthBeforeUpdate,source);}}function findExistingColumn(newColDef,existingColsCopy){if(!existingColsCopy)return void 0;for(var i=0;i<existingColsCopy.length;i++){var def=existingColsCopy[i].getUserProvidedColDef();if(!def)continue;var newHasId=newColDef.colId!=null;if(newHasId){if(existingColsCopy[i].getId()===newColDef.colId){return{idx:i,column:existingColsCopy[i]};}continue;}var newHasField=newColDef.field!=null;if(newHasField){if(def.field===newColDef.field){return{idx:i,column:existingColsCopy[i]};}continue;}if(def===newColDef){return{idx:i,column:existingColsCopy[i]};}}return void 0;}function _addColumnDefaultAndTypes(beans,colDef,colId,isAutoCol){var{gos,dataTypeSvc}=beans;var res={};var defaultColDef=gos.get(\"defaultColDef\");_mergeDeep(res,defaultColDef,false,true);var columnType=updateColDefAndGetColumnType(beans,res,colDef,colId);if(columnType){assignColumnTypes(beans,columnType,res);}var cellDataType=res.cellDataType;_mergeDeep(res,colDef,false,true);if(cellDataType!==void 0){res.cellDataType=cellDataType;}var autoGroupColDef=gos.get(\"autoGroupColumnDef\");var isSortingCoupled=_isColumnsSortingCoupledToGroup(gos);if(colDef.rowGroup&&autoGroupColDef&&isSortingCoupled){_mergeDeep(res,{sort:autoGroupColDef.sort,initialSort:autoGroupColDef.initialSort},false,true);}if(dataTypeSvc){dataTypeSvc.postProcess(res);dataTypeSvc.validateColDef(res);}gos.validateColDef(res,colId,isAutoCol);return res;}function updateColDefAndGetColumnType(beans,colDef,userColDef,colId){var _beans$dataTypeSvc3,_ref3,_userColDef$type;var dataTypeDefinitionColumnType=(_beans$dataTypeSvc3=beans.dataTypeSvc)===null||_beans$dataTypeSvc3===void 0?void 0:_beans$dataTypeSvc3.updateColDefAndGetColumnType(colDef,userColDef,colId);var columnTypes=(_ref3=(_userColDef$type=userColDef.type)!==null&&_userColDef$type!==void 0?_userColDef$type:dataTypeDefinitionColumnType)!==null&&_ref3!==void 0?_ref3:colDef.type;colDef.type=columnTypes;return columnTypes?convertColumnTypes(columnTypes):void 0;}function assignColumnTypes(beans,typeKeys,colDefMerged){if(!typeKeys.length){return;}var allColumnTypes=Object.assign({},DefaultColumnTypes);var userTypes=beans.gos.get(\"columnTypes\")||{};for(var key of Object.keys(userTypes)){var value=userTypes[key];if(key in allColumnTypes){_warn(34,{key});}else{var colType=value;if(colType.type){_warn(35);}allColumnTypes[key]=value;}}typeKeys.forEach(t=>{var typeColDef=allColumnTypes[t.trim()];if(typeColDef){_mergeDeep(colDefMerged,typeColDef,false,true);}else{_warn(36,{t});}});}function isColumnGroupDef(abstractColDef){return abstractColDef.children!==void 0;}function depthFirstOriginalTreeSearch(parent,tree,callback){if(!tree){return;}for(var i=0;i<tree.length;i++){var child=tree[i];if(isProvidedColumnGroup(child)){depthFirstOriginalTreeSearch(child,child.getChildren(),callback);}callback(child,parent);}}// packages/ag-grid-community/src/columnMove/columnMoveUtils.ts\nfunction placeLockedColumns(cols,gos){var left=[];var normal=[];var right=[];cols.forEach(col=>{var position=col.getColDef().lockPosition;if(position===\"right\"){right.push(col);}else if(position===\"left\"||position===true){left.push(col);}else{normal.push(col);}});var isRtl=gos.get(\"enableRtl\");if(isRtl){return[...right,...normal,...left];}return[...left,...normal,...right];}function doesMovePassMarryChildren(allColumnsCopy,gridBalancedTree){var rulePassed=true;depthFirstOriginalTreeSearch(null,gridBalancedTree,child=>{if(!isProvidedColumnGroup(child)){return;}var columnGroup=child;var colGroupDef=columnGroup.getColGroupDef();var marryChildren=colGroupDef&&colGroupDef.marryChildren;if(!marryChildren){return;}var newIndexes=[];columnGroup.getLeafColumns().forEach(col=>{var newColIndex=allColumnsCopy.indexOf(col);newIndexes.push(newColIndex);});var maxIndex=Math.max.apply(Math,newIndexes);var minIndex=Math.min.apply(Math,newIndexes);var spread=maxIndex-minIndex;var maxSpread=columnGroup.getLeafColumns().length-1;if(spread>maxSpread){rulePassed=false;}});return rulePassed;}// packages/ag-grid-community/src/columns/columnEventUtils.ts\nfunction getCommonValue(cols,valueGetter){if(!cols||cols.length==0){return void 0;}var firstValue=valueGetter(cols[0]);for(var i=1;i<cols.length;i++){if(firstValue!==valueGetter(cols[i])){return void 0;}}return firstValue;}function dispatchColumnPinnedEvent(eventSvc,changedColumns,source){if(!changedColumns.length){return;}var column=changedColumns.length===1?changedColumns[0]:null;var pinned=getCommonValue(changedColumns,col=>col.getPinned());eventSvc.dispatchEvent({type:\"columnPinned\",// mistake in typing, 'undefined' should be allowed, as 'null' means 'not pinned'\npinned:pinned!=null?pinned:null,columns:changedColumns,column,source});}function dispatchColumnVisibleEvent(eventSvc,changedColumns,source){if(!changedColumns.length){return;}var column=changedColumns.length===1?changedColumns[0]:null;var visible=getCommonValue(changedColumns,col=>col.isVisible());eventSvc.dispatchEvent({type:\"columnVisible\",visible,columns:changedColumns,column,source});}function dispatchColumnChangedEvent(eventSvc,type,columns,source){eventSvc.dispatchEvent({type,columns,column:columns&&columns.length==1?columns[0]:null,source});}function dispatchColumnResizedEvent(eventSvc,columns,finished,source){var flexColumns=arguments.length>4&&arguments[4]!==undefined?arguments[4]:null;if(columns!==null&&columns!==void 0&&columns.length){eventSvc.dispatchEvent({type:\"columnResized\",columns,column:columns.length===1?columns[0]:null,flexColumns,finished,source});}}// packages/ag-grid-community/src/columns/columnStateUtils.ts\nfunction _applyColumnState(beans,params,source){var _colModel$getColDefCo;var{colModel,rowGroupColsSvc,pivotColsSvc,autoColSvc,selectionColSvc,colAnimation,visibleCols,pivotResultCols,environment,valueColsSvc,eventSvc,gos}=beans;var providedCols=(_colModel$getColDefCo=colModel.getColDefCols())!==null&&_colModel$getColDefCo!==void 0?_colModel$getColDefCo:[];var selectionCols=selectionColSvc===null||selectionColSvc===void 0?void 0:selectionColSvc.getColumns();if(!(providedCols!==null&&providedCols!==void 0&&providedCols.length)&&!(selectionCols!==null&&selectionCols!==void 0&&selectionCols.length)){return false;}if(params!==null&&params!==void 0&&params.state&&!params.state.forEach){_warn(32);return false;}var syncColumnWithStateItem=(column,stateItem,rowGroupIndexes,pivotIndexes,autoCol)=>{if(!column){return;}var getValue=getValueFactory(stateItem,params.defaultState);var flex=getValue(\"flex\").value1;updateSomeColumnState(beans,column,getValue(\"hide\").value1,getValue(\"sort\").value1,getValue(\"sortIndex\").value1,getValue(\"pinned\").value1,flex,source);if(flex==null){var width=getValue(\"width\").value1;if(width!=null){var _column$getColDef$min;var minColWidth=(_column$getColDef$min=column.getColDef().minWidth)!==null&&_column$getColDef$min!==void 0?_column$getColDef$min:environment.getDefaultColumnMinWidth();if(minColWidth!=null&&width>=minColWidth){column.setActualWidth(width,source);}}}if(autoCol||!column.isPrimary()){return;}valueColsSvc===null||valueColsSvc===void 0||valueColsSvc.syncColumnWithState(column,source,getValue);rowGroupColsSvc===null||rowGroupColsSvc===void 0||rowGroupColsSvc.syncColumnWithState(column,source,getValue,rowGroupIndexes);pivotColsSvc===null||pivotColsSvc===void 0||pivotColsSvc.syncColumnWithState(column,source,getValue,pivotIndexes);};var applyStates=(states,existingColumns,getById2)=>{var _rowGroupColsSvc$colu,_pivotColsSvc$columns,_autoColSvc$getColumn2,_selectionColSvc$getC2;var dispatchEventsFunc=_compareColumnStatesAndDispatchEvents(beans,source);var columnsWithNoState=existingColumns.slice();var rowGroupIndexes={};var pivotIndexes={};var autoColStates=[];var selectionColStates=[];var unmatchedAndAutoStates2=[];var unmatchedCount2=0;var previousRowGroupCols=(_rowGroupColsSvc$colu=rowGroupColsSvc===null||rowGroupColsSvc===void 0?void 0:rowGroupColsSvc.columns.slice())!==null&&_rowGroupColsSvc$colu!==void 0?_rowGroupColsSvc$colu:[];var previousPivotCols=(_pivotColsSvc$columns=pivotColsSvc===null||pivotColsSvc===void 0?void 0:pivotColsSvc.columns.slice())!==null&&_pivotColsSvc$columns!==void 0?_pivotColsSvc$columns:[];states.forEach(state=>{var colId=state.colId;var isAutoGroupColumn=colId.startsWith(GROUP_AUTO_COLUMN_ID);if(isAutoGroupColumn){autoColStates.push(state);unmatchedAndAutoStates2.push(state);return;}if(isColumnSelectionCol(colId)){selectionColStates.push(state);unmatchedAndAutoStates2.push(state);return;}var column=getById2(colId);if(!column){unmatchedAndAutoStates2.push(state);unmatchedCount2+=1;}else{syncColumnWithStateItem(column,state,rowGroupIndexes,pivotIndexes,false);_removeFromArray(columnsWithNoState,column);}});var applyDefaultsFunc=col=>syncColumnWithStateItem(col,null,rowGroupIndexes,pivotIndexes,false);columnsWithNoState.forEach(applyDefaultsFunc);rowGroupColsSvc===null||rowGroupColsSvc===void 0||rowGroupColsSvc.sortColumns(comparatorByIndex.bind(rowGroupColsSvc,rowGroupIndexes,previousRowGroupCols));pivotColsSvc===null||pivotColsSvc===void 0||pivotColsSvc.sortColumns(comparatorByIndex.bind(pivotColsSvc,pivotIndexes,previousPivotCols));colModel.refreshCols(false);var syncColStates=function syncColStates(getCol,colStates){var columns=arguments.length>2&&arguments[2]!==undefined?arguments[2]:[];colStates.forEach(stateItem=>{var col=getCol(stateItem.colId);_removeFromArray(columns,col);syncColumnWithStateItem(col,stateItem,null,null,true);});columns.forEach(applyDefaultsFunc);};syncColStates(colId=>{var _autoColSvc$getColumn;return(_autoColSvc$getColumn=autoColSvc===null||autoColSvc===void 0?void 0:autoColSvc.getColumn(colId))!==null&&_autoColSvc$getColumn!==void 0?_autoColSvc$getColumn:null;},autoColStates,autoColSvc===null||autoColSvc===void 0||(_autoColSvc$getColumn2=autoColSvc.getColumns())===null||_autoColSvc$getColumn2===void 0?void 0:_autoColSvc$getColumn2.slice());syncColStates(colId=>{var _selectionColSvc$getC;return(_selectionColSvc$getC=selectionColSvc===null||selectionColSvc===void 0?void 0:selectionColSvc.getColumn(colId))!==null&&_selectionColSvc$getC!==void 0?_selectionColSvc$getC:null;},selectionColStates,selectionColSvc===null||selectionColSvc===void 0||(_selectionColSvc$getC2=selectionColSvc.getColumns())===null||_selectionColSvc$getC2===void 0?void 0:_selectionColSvc$getC2.slice());orderLiveColsLikeState(params,colModel,gos);visibleCols.refresh(source);eventSvc.dispatchEvent({type:\"columnEverythingChanged\",source});dispatchEventsFunc();return{unmatchedAndAutoStates:unmatchedAndAutoStates2,unmatchedCount:unmatchedCount2};};colAnimation===null||colAnimation===void 0||colAnimation.start();var{unmatchedAndAutoStates,unmatchedCount}=applyStates(params.state||[],providedCols,id=>colModel.getColDefCol(id));if(unmatchedAndAutoStates.length>0||_exists(params.defaultState)){var _pivotResultCols$getP,_pivotResultCols$getP2;var pivotResultColsList=(_pivotResultCols$getP=pivotResultCols===null||pivotResultCols===void 0||(_pivotResultCols$getP2=pivotResultCols.getPivotResultCols())===null||_pivotResultCols$getP2===void 0?void 0:_pivotResultCols$getP2.list)!==null&&_pivotResultCols$getP!==void 0?_pivotResultCols$getP:[];unmatchedCount=applyStates(unmatchedAndAutoStates,pivotResultColsList,id=>{var _pivotResultCols$getP3;return(_pivotResultCols$getP3=pivotResultCols===null||pivotResultCols===void 0?void 0:pivotResultCols.getPivotResultCol(id))!==null&&_pivotResultCols$getP3!==void 0?_pivotResultCols$getP3:null;}).unmatchedCount;}colAnimation===null||colAnimation===void 0||colAnimation.finish();return unmatchedCount===0;}function _resetColumnState(beans,source){var _autoColSvc$getColumn3,_selectionColSvc$getC3,_autoColSvc$getColumn4,_selectionColSvc$getC4;var{colModel,autoColSvc,selectionColSvc,eventSvc,gos}=beans;var primaryCols=colModel.getColDefCols();if(!(primaryCols!==null&&primaryCols!==void 0&&primaryCols.length)){return;}var primaryColumnTree=colModel.getColDefColTree();var primaryColumns=_getColumnsFromTree(primaryColumnTree);var columnStates=[];var letRowGroupIndex=1e3;var letPivotIndex=1e3;var addColState=col=>{var stateItem=getColumnStateFromColDef(col);if(_missing(stateItem.rowGroupIndex)&&stateItem.rowGroup){stateItem.rowGroupIndex=letRowGroupIndex++;}if(_missing(stateItem.pivotIndex)&&stateItem.pivot){stateItem.pivotIndex=letPivotIndex++;}columnStates.push(stateItem);};autoColSvc===null||autoColSvc===void 0||(_autoColSvc$getColumn3=autoColSvc.getColumns())===null||_autoColSvc$getColumn3===void 0||_autoColSvc$getColumn3.forEach(addColState);selectionColSvc===null||selectionColSvc===void 0||(_selectionColSvc$getC3=selectionColSvc.getColumns())===null||_selectionColSvc$getC3===void 0||_selectionColSvc$getC3.forEach(addColState);primaryColumns===null||primaryColumns===void 0||primaryColumns.forEach(addColState);_applyColumnState(beans,{state:columnStates},source);var autoCols=(_autoColSvc$getColumn4=autoColSvc===null||autoColSvc===void 0?void 0:autoColSvc.getColumns())!==null&&_autoColSvc$getColumn4!==void 0?_autoColSvc$getColumn4:[];var selectionCols=(_selectionColSvc$getC4=selectionColSvc===null||selectionColSvc===void 0?void 0:selectionColSvc.getColumns())!==null&&_selectionColSvc$getC4!==void 0?_selectionColSvc$getC4:[];var orderedCols=[...selectionCols,...autoCols,...primaryCols];var orderedColState=orderedCols.map(col=>({colId:col.colId}));_applyColumnState(beans,{state:orderedColState,applyOrder:true},source);eventSvc.dispatchEvent(_addGridCommonParams(gos,{type:\"columnsReset\",source}));}function _compareColumnStatesAndDispatchEvents(beans,source){var _rowGroupColsSvc$colu2,_pivotColsSvc$columns2,_valueColsSvc$columns;var{rowGroupColsSvc,pivotColsSvc,valueColsSvc,colModel,sortSvc,eventSvc}=beans;var startState={rowGroupColumns:(_rowGroupColsSvc$colu2=rowGroupColsSvc===null||rowGroupColsSvc===void 0?void 0:rowGroupColsSvc.columns.slice())!==null&&_rowGroupColsSvc$colu2!==void 0?_rowGroupColsSvc$colu2:[],pivotColumns:(_pivotColsSvc$columns2=pivotColsSvc===null||pivotColsSvc===void 0?void 0:pivotColsSvc.columns.slice())!==null&&_pivotColsSvc$columns2!==void 0?_pivotColsSvc$columns2:[],valueColumns:(_valueColsSvc$columns=valueColsSvc===null||valueColsSvc===void 0?void 0:valueColsSvc.columns.slice())!==null&&_valueColsSvc$columns!==void 0?_valueColsSvc$columns:[]};var columnStateBefore=_getColumnState(beans);var columnStateBeforeMap={};columnStateBefore.forEach(col=>{columnStateBeforeMap[col.colId]=col;});return()=>{var _rowGroupColsSvc$colu3,_pivotColsSvc$columns3;var dispatchWhenListsDifferent=(eventType,colsBefore,colsAfter,idMapper)=>{var beforeList=colsBefore.map(idMapper);var afterList=colsAfter.map(idMapper);var unchanged=_areEqual(beforeList,afterList);if(unchanged){return;}var changes=new Set(colsBefore);colsAfter.forEach(id=>{if(!changes.delete(id)){changes.add(id);}});var changesArr=[...changes];eventSvc.dispatchEvent({type:eventType,columns:changesArr,column:changesArr.length===1?changesArr[0]:null,source});};var getChangedColumns=changedPredicate=>{var changedColumns2=[];colModel.forAllCols(column=>{var colStateBefore=columnStateBeforeMap[column.getColId()];if(colStateBefore&&changedPredicate(colStateBefore,column)){changedColumns2.push(column);}});return changedColumns2;};var columnIdMapper=c=>c.getColId();dispatchWhenListsDifferent(\"columnRowGroupChanged\",startState.rowGroupColumns,(_rowGroupColsSvc$colu3=rowGroupColsSvc===null||rowGroupColsSvc===void 0?void 0:rowGroupColsSvc.columns)!==null&&_rowGroupColsSvc$colu3!==void 0?_rowGroupColsSvc$colu3:[],columnIdMapper);dispatchWhenListsDifferent(\"columnPivotChanged\",startState.pivotColumns,(_pivotColsSvc$columns3=pivotColsSvc===null||pivotColsSvc===void 0?void 0:pivotColsSvc.columns)!==null&&_pivotColsSvc$columns3!==void 0?_pivotColsSvc$columns3:[],columnIdMapper);var valueChangePredicate=(cs,c)=>{var oldActive=cs.aggFunc!=null;var activeChanged=oldActive!=c.isValueActive();var aggFuncChanged=oldActive&&cs.aggFunc!=c.getAggFunc();return activeChanged||aggFuncChanged;};var changedValues=getChangedColumns(valueChangePredicate);if(changedValues.length>0){dispatchColumnChangedEvent(eventSvc,\"columnValueChanged\",changedValues,source);}var resizeChangePredicate=(cs,c)=>cs.width!=c.getActualWidth();dispatchColumnResizedEvent(eventSvc,getChangedColumns(resizeChangePredicate),true,source);var pinnedChangePredicate=(cs,c)=>cs.pinned!=c.getPinned();dispatchColumnPinnedEvent(eventSvc,getChangedColumns(pinnedChangePredicate),source);var visibilityChangePredicate=(cs,c)=>cs.hide==c.isVisible();dispatchColumnVisibleEvent(eventSvc,getChangedColumns(visibilityChangePredicate),source);var sortChangePredicate=(cs,c)=>cs.sort!=c.getSort()||cs.sortIndex!=c.getSortIndex();var changedColumns=getChangedColumns(sortChangePredicate);if(changedColumns.length>0){sortSvc===null||sortSvc===void 0||sortSvc.dispatchSortChangedEvents(source,changedColumns);}var colStateAfter=_getColumnState(beans);normaliseColumnMovedEventForColumnState(columnStateBefore,colStateAfter,source,colModel,eventSvc);};}function _getColumnState(beans){var{colModel,rowGroupColsSvc,pivotColsSvc}=beans;var primaryCols=colModel.getColDefCols();if(_missing(primaryCols)||!colModel.isAlive()){return[];}var rowGroupColumns=rowGroupColsSvc===null||rowGroupColsSvc===void 0?void 0:rowGroupColsSvc.columns;var pivotColumns=pivotColsSvc===null||pivotColsSvc===void 0?void 0:pivotColsSvc.columns;var res=[];var createStateItemFromColumn=column=>{var _column$getFlex;var rowGroupIndex=column.isRowGroupActive()&&rowGroupColumns?rowGroupColumns.indexOf(column):null;var pivotIndex=column.isPivotActive()&&pivotColumns?pivotColumns.indexOf(column):null;var aggFunc=column.isValueActive()?column.getAggFunc():null;var sort=column.getSort()!=null?column.getSort():null;var sortIndex=column.getSortIndex()!=null?column.getSortIndex():null;res.push({colId:column.getColId(),width:column.getActualWidth(),hide:!column.isVisible(),pinned:column.getPinned(),sort,sortIndex,aggFunc,rowGroup:column.isRowGroupActive(),rowGroupIndex,pivot:column.isPivotActive(),pivotIndex,flex:(_column$getFlex=column.getFlex())!==null&&_column$getFlex!==void 0?_column$getFlex:null});};colModel.forAllCols(col=>createStateItemFromColumn(col));var colIdToGridIndexMap=new Map(colModel.getCols().map((col,index)=>[col.getColId(),index]));res.sort((itemA,itemB)=>{var posA=colIdToGridIndexMap.has(itemA.colId)?colIdToGridIndexMap.get(itemA.colId):-1;var posB=colIdToGridIndexMap.has(itemB.colId)?colIdToGridIndexMap.get(itemB.colId):-1;return posA-posB;});return res;}function getColumnStateFromColDef(column){var getValueOrNull=(a,b)=>a!=null?a:b!=null?b:null;var colDef=column.getColDef();var sort=getValueOrNull(colDef.sort,colDef.initialSort);var sortIndex=getValueOrNull(colDef.sortIndex,colDef.initialSortIndex);var hide=getValueOrNull(colDef.hide,colDef.initialHide);var pinned=getValueOrNull(colDef.pinned,colDef.initialPinned);var width=getValueOrNull(colDef.width,colDef.initialWidth);var flex=getValueOrNull(colDef.flex,colDef.initialFlex);var rowGroupIndex=getValueOrNull(colDef.rowGroupIndex,colDef.initialRowGroupIndex);var rowGroup=getValueOrNull(colDef.rowGroup,colDef.initialRowGroup);if(rowGroupIndex==null&&(rowGroup==null||rowGroup==false)){rowGroupIndex=null;rowGroup=null;}var pivotIndex=getValueOrNull(colDef.pivotIndex,colDef.initialPivotIndex);var pivot=getValueOrNull(colDef.pivot,colDef.initialPivot);if(pivotIndex==null&&(pivot==null||pivot==false)){pivotIndex=null;pivot=null;}var aggFunc=getValueOrNull(colDef.aggFunc,colDef.initialAggFunc);return{colId:column.getColId(),sort,sortIndex,hide,pinned,width,flex,rowGroup,rowGroupIndex,pivot,pivotIndex,aggFunc};}function orderLiveColsLikeState(params,colModel,gos){if(!params.applyOrder||!params.state){return;}var colIds=[];params.state.forEach(item=>{if(item.colId!=null){colIds.push(item.colId);}});sortColsLikeKeys(colModel.cols,colIds,colModel,gos);}function sortColsLikeKeys(cols,colIds,colModel,gos){if(cols==null){return;}var newOrder=[];var processedColIds={};colIds.forEach(colId=>{if(processedColIds[colId]){return;}var col=cols.map[colId];if(col){newOrder.push(col);processedColIds[colId]=true;}});var autoGroupInsertIndex=0;cols.list.forEach(col=>{var colId=col.getColId();var alreadyProcessed=processedColIds[colId]!=null;if(alreadyProcessed){return;}var isAutoGroupCol=colId.startsWith(GROUP_AUTO_COLUMN_ID);if(isAutoGroupCol){newOrder.splice(autoGroupInsertIndex++,0,col);}else{newOrder.push(col);}});newOrder=placeLockedColumns(newOrder,gos);if(!doesMovePassMarryChildren(newOrder,colModel.getColTree())){_warn(39);return;}cols.list=newOrder;}function normaliseColumnMovedEventForColumnState(colStateBefore,colStateAfter,source,colModel,eventSvc){var colStateAfterMapped={};colStateAfter.forEach(s=>colStateAfterMapped[s.colId]=s);var colsIntersectIds={};colStateBefore.forEach(s=>{if(colStateAfterMapped[s.colId]){colsIntersectIds[s.colId]=true;}});var beforeFiltered=colStateBefore.filter(c=>colsIntersectIds[c.colId]);var afterFiltered=colStateAfter.filter(c=>colsIntersectIds[c.colId]);var movedColumns=[];afterFiltered.forEach((csAfter,index)=>{var csBefore=beforeFiltered&&beforeFiltered[index];if(csBefore&&csBefore.colId!==csAfter.colId){var gridCol=colModel.getCol(csBefore.colId);if(gridCol){movedColumns.push(gridCol);}}});if(!movedColumns.length){return;}eventSvc.dispatchEvent({type:\"columnMoved\",columns:movedColumns,column:movedColumns.length===1?movedColumns[0]:null,finished:true,source});}var comparatorByIndex=(indexes,oldList,colA,colB)=>{var indexA=indexes[colA.getId()];var indexB=indexes[colB.getId()];var aHasIndex=indexA!=null;var bHasIndex=indexB!=null;if(aHasIndex&&bHasIndex){return indexA-indexB;}if(aHasIndex){return-1;}if(bHasIndex){return 1;}var oldIndexA=oldList.indexOf(colA);var oldIndexB=oldList.indexOf(colB);var aHasOldIndex=oldIndexA>=0;var bHasOldIndex=oldIndexB>=0;if(aHasOldIndex&&bHasOldIndex){return oldIndexA-oldIndexB;}if(aHasOldIndex){return-1;}return 1;};// packages/ag-grid-community/src/columns/columnModel.ts\nvar ColumnModel=class extends BeanStub{constructor(){super(...arguments);this.beanName=\"colModel\";// if pivotMode is on, however pivot results are NOT shown if no pivot columns are set\nthis.pivotMode=false;this.ready=false;this.changeEventsDispatching=false;}postConstruct(){this.pivotMode=this.gos.get(\"pivotMode\");this.addManagedPropertyListeners([\"groupDisplayType\",\"treeData\",\"treeDataDisplayType\",\"groupHideOpenParents\"],event=>this.refreshAll(_convertColumnEventSourceType(event.source)));this.addManagedPropertyListeners([\"defaultColDef\",\"defaultColGroupDef\",\"columnTypes\",\"suppressFieldDotNotation\"],this.recreateColumnDefs.bind(this));this.addManagedPropertyListener(\"pivotMode\",event=>this.setPivotMode(this.gos.get(\"pivotMode\"),_convertColumnEventSourceType(event.source)));}// called from SyncService, when grid has finished initialising\ncreateColsFromColDefs(source){var _this$colDefCols,_this$colDefCols2,_this$colDefCols3;var{beans}=this;var{valueCache,colAutosize,rowGroupColsSvc,pivotColsSvc,valueColsSvc,visibleCols,colViewport,eventSvc}=beans;var dispatchEventsFunc=this.colDefs?_compareColumnStatesAndDispatchEvents(beans,source):void 0;valueCache===null||valueCache===void 0||valueCache.expire();var oldCols=(_this$colDefCols=this.colDefCols)===null||_this$colDefCols===void 0?void 0:_this$colDefCols.list;var oldTree=(_this$colDefCols2=this.colDefCols)===null||_this$colDefCols2===void 0?void 0:_this$colDefCols2.tree;var newTree=_createColumnTree(beans,this.colDefs,true,oldTree,source);_destroyColumnTree(beans,(_this$colDefCols3=this.colDefCols)===null||_this$colDefCols3===void 0?void 0:_this$colDefCols3.tree,newTree.columnTree);var tree=newTree.columnTree;var treeDepth=newTree.treeDepth;var list=_getColumnsFromTree(tree);var map={};list.forEach(col=>map[col.getId()]=col);this.colDefCols={tree,treeDepth,list,map};rowGroupColsSvc===null||rowGroupColsSvc===void 0||rowGroupColsSvc.extractCols(source,oldCols);pivotColsSvc===null||pivotColsSvc===void 0||pivotColsSvc.extractCols(source,oldCols);valueColsSvc===null||valueColsSvc===void 0||valueColsSvc.extractCols(source,oldCols);this.ready=true;this.refreshCols(true);visibleCols.refresh(source);colViewport.checkViewportColumns();eventSvc.dispatchEvent({type:\"columnEverythingChanged\",source});if(dispatchEventsFunc){this.changeEventsDispatching=true;dispatchEventsFunc();this.changeEventsDispatching=false;}eventSvc.dispatchEvent({type:\"newColumnsLoaded\",source});if(source===\"gridInitializing\"){colAutosize===null||colAutosize===void 0||colAutosize.applyAutosizeStrategy();}}// called from: buildAutoGroupColumns (events 'groupDisplayType', 'treeData', 'treeDataDisplayType', 'groupHideOpenParents')\n// createColsFromColDefs (recreateColumnDefs, setColumnsDefs),\n// setPivotMode, applyColumnState,\n// functionColsService.setPrimaryColList, functionColsService.updatePrimaryColList,\n// pivotResultCols.setPivotResultCols\nrefreshCols(newColDefs){var _this$cols;if(!this.colDefCols){return;}var prevColTree=(_this$cols=this.cols)===null||_this$cols===void 0?void 0:_this$cols.tree;this.saveColOrder();var{autoColSvc,selectionColSvc,rowNumbersSvc,quickFilter,pivotResultCols,showRowGroupCols,rowAutoHeight,visibleCols,colViewport,eventSvc}=this.beans;var cols=this.selectCols(pivotResultCols,this.colDefCols);this.createColumnsForService([autoColSvc,selectionColSvc,rowNumbersSvc],cols);var shouldSortNewColDefs=_shouldMaintainColumnOrder(this.gos,this.showingPivotResult);if(!newColDefs||shouldSortNewColDefs){this.restoreColOrder(cols);}this.positionLockedCols(cols);showRowGroupCols===null||showRowGroupCols===void 0||showRowGroupCols.refresh();quickFilter===null||quickFilter===void 0||quickFilter.refreshCols();this.setColSpanActive();rowAutoHeight===null||rowAutoHeight===void 0||rowAutoHeight.setAutoHeightActive(cols);visibleCols.clear();colViewport.clear();var dispatchChangedEvent=!_areEqual(prevColTree,this.cols.tree);if(dispatchChangedEvent){eventSvc.dispatchEvent({type:\"gridColumnsChanged\"});}}createColumnsForService(services,cols){for(var service of services){if(!service){continue;}service.createColumns(cols,updateOrder=>{this.lastOrder=updateOrder(this.lastOrder);this.lastPivotOrder=updateOrder(this.lastPivotOrder);});service.addColumns(cols);}}selectCols(pivotResultColsSvc,colDefCols){var _pivotResultColsSvc$g;var pivotResultCols=(_pivotResultColsSvc$g=pivotResultColsSvc===null||pivotResultColsSvc===void 0?void 0:pivotResultColsSvc.getPivotResultCols())!==null&&_pivotResultColsSvc$g!==void 0?_pivotResultColsSvc$g:null;this.showingPivotResult=pivotResultCols!=null;var{map,list,tree,treeDepth}=pivotResultCols!==null&&pivotResultCols!==void 0?pivotResultCols:colDefCols;this.cols={list:list.slice(),map:_objectSpread({},map),tree:tree.slice(),treeDepth};if(pivotResultCols){var hasSameColumns=pivotResultCols.list.some(col=>{var _this$cols2;return((_this$cols2=this.cols)===null||_this$cols2===void 0?void 0:_this$cols2.map[col.getColId()])!==void 0;});if(!hasSameColumns){this.lastPivotOrder=null;}}return this.cols;}getColsToShow(){var _this$beans$valueCols;if(!this.cols){return[];}var showAutoGroupAndValuesOnly=this.isPivotMode()&&!this.showingPivotResult;var valueColumns=(_this$beans$valueCols=this.beans.valueColsSvc)===null||_this$beans$valueCols===void 0?void 0:_this$beans$valueCols.columns;var res=this.cols.list.filter(col=>{var isAutoGroupCol=isColumnGroupAutoCol(col);if(showAutoGroupAndValuesOnly){var isValueCol=valueColumns===null||valueColumns===void 0?void 0:valueColumns.includes(col);return isAutoGroupCol||isValueCol;}else{return isAutoGroupCol||col.isVisible();}});return res;}// on events 'groupDisplayType', 'treeData', 'treeDataDisplayType', 'groupHideOpenParents'\nrefreshAll(source){if(!this.ready){return;}this.refreshCols(false);this.beans.visibleCols.refresh(source);}setColsVisible(keys){var visible=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var source=arguments.length>2?arguments[2]:undefined;_applyColumnState(this.beans,{state:keys.map(key=>({colId:typeof key===\"string\"?key:key.getColId(),hide:!visible}))},source);}/**\n   * Restores provided columns order to the previous order in this.lastPivotOrder / this.lastOrder\n   * If columns are not in the last order:\n   *  - Check column groups, and apply column after the last column in the lowest shared group\n   *  - If no sibling is found, apply the column at the end of the cols\n   */restoreColOrder(cols){var lastOrder=this.showingPivotResult?this.lastPivotOrder:this.lastOrder;if(!lastOrder){return;}var preservedOrder=lastOrder.filter(col=>cols.map[col.getId()]!=null);if(preservedOrder.length===0){return;}if(preservedOrder.length===cols.list.length){cols.list=preservedOrder;return;}var hasSiblings=col=>{var ancestor=col.getOriginalParent();if(!ancestor){return false;}var children=ancestor.getChildren();if(children.length>1){return true;}return hasSiblings(ancestor);};if(!preservedOrder.some(col=>hasSiblings(col))){var preservedOrderSet=new Set(preservedOrder);for(var col of cols.list){if(!preservedOrderSet.has(col)){preservedOrder.push(col);}}cols.list=preservedOrder;return;}var colPositionMap=/* @__PURE__ */new Map();for(var i=0;i<preservedOrder.length;i++){var _col=preservedOrder[i];colPositionMap.set(_col,i);}var additionalCols=cols.list.filter(col=>!colPositionMap.has(col));if(additionalCols.length===0){cols.list=preservedOrder;return;}var getPreviousSibling=(col,group)=>{var parent=group?group.getOriginalParent():col.getOriginalParent();if(!parent){return null;}var highestIdx=null;var highestSibling=null;for(var child of parent.getChildren()){if(child===group||child===col){continue;}if(child instanceof AgColumn){var colIdx=colPositionMap.get(child);if(colIdx==null){continue;}if(highestIdx==null||highestIdx<colIdx){highestIdx=colIdx;highestSibling=child;}continue;}child.forEachLeafColumn(leafCol=>{var colIdx=colPositionMap.get(leafCol);if(colIdx==null){return;}if(highestIdx==null||highestIdx<colIdx){highestIdx=colIdx;highestSibling=leafCol;}});}if(highestSibling==null){return getPreviousSibling(col,parent);}return highestSibling;};var noSiblingsAvailable=[];var previousSiblingPosMap=/* @__PURE__ */new Map();for(var _col2 of additionalCols){var prevSiblingIdx=getPreviousSibling(_col2,null);if(prevSiblingIdx==null){noSiblingsAvailable.push(_col2);continue;}var prev=previousSiblingPosMap.get(prevSiblingIdx);if(prev===void 0){previousSiblingPosMap.set(prevSiblingIdx,_col2);}else if(Array.isArray(prev)){prev.push(_col2);}else{previousSiblingPosMap.set(prevSiblingIdx,[prev,_col2]);}}var result=new Array(cols.list.length);var resultPointer=result.length-1;for(var _i2=noSiblingsAvailable.length-1;_i2>=0;_i2--){result[resultPointer--]=noSiblingsAvailable[_i2];}for(var _i3=preservedOrder.length-1;_i3>=0;_i3--){var nextCol=preservedOrder[_i3];var extraCols=previousSiblingPosMap.get(nextCol);if(extraCols){if(Array.isArray(extraCols)){for(var x=extraCols.length-1;x>=0;x--){var _col3=extraCols[x];result[resultPointer--]=_col3;}}else{result[resultPointer--]=extraCols;}}result[resultPointer--]=nextCol;}cols.list=result;}positionLockedCols(cols){cols.list=placeLockedColumns(cols.list,this.gos);}saveColOrder(){if(this.showingPivotResult){var _this$cols$list,_this$cols3;this.lastPivotOrder=(_this$cols$list=(_this$cols3=this.cols)===null||_this$cols3===void 0?void 0:_this$cols3.list)!==null&&_this$cols$list!==void 0?_this$cols$list:null;}else{var _this$cols$list2,_this$cols4;this.lastOrder=(_this$cols$list2=(_this$cols4=this.cols)===null||_this$cols4===void 0?void 0:_this$cols4.list)!==null&&_this$cols$list2!==void 0?_this$cols$list2:null;}}getColumnDefs(){var _this$beans$colDefFac,_this$cols$list3,_this$cols5;return this.colDefCols?(_this$beans$colDefFac=this.beans.colDefFactory)===null||_this$beans$colDefFac===void 0?void 0:_this$beans$colDefFac.getColumnDefs(this.colDefCols.list,this.showingPivotResult,this.lastOrder,(_this$cols$list3=(_this$cols5=this.cols)===null||_this$cols5===void 0?void 0:_this$cols5.list)!==null&&_this$cols$list3!==void 0?_this$cols$list3:[]):void 0;}setColSpanActive(){var _this$cols6;this.colSpanActive=!!((_this$cols6=this.cols)!==null&&_this$cols6!==void 0&&_this$cols6.list.some(col=>col.getColDef().colSpan!=null));}isPivotMode(){return this.pivotMode;}setPivotMode(pivotMode,source){if(pivotMode===this.pivotMode){return;}this.pivotMode=pivotMode;if(!this.ready){return;}this.refreshCols(false);var{visibleCols,eventSvc}=this.beans;visibleCols.refresh(source);eventSvc.dispatchEvent({type:\"columnPivotModeChanged\"});}// + clientSideRowModel\nisPivotActive(){var _this$beans$pivotCols;var pivotColumns=(_this$beans$pivotCols=this.beans.pivotColsSvc)===null||_this$beans$pivotCols===void 0?void 0:_this$beans$pivotCols.columns;return this.pivotMode&&!!(pivotColumns!==null&&pivotColumns!==void 0&&pivotColumns.length);}// called when dataTypes change\nrecreateColumnDefs(e){var _this$beans$autoColSv;if(!this.cols){return;}(_this$beans$autoColSv=this.beans.autoColSvc)===null||_this$beans$autoColSv===void 0||_this$beans$autoColSv.updateColumns(e);var source=_convertColumnEventSourceType(e.source);this.createColsFromColDefs(source);}setColumnDefs(columnDefs,source){this.colDefs=columnDefs;this.createColsFromColDefs(source);}destroy(){var _this$colDefCols4;_destroyColumnTree(this.beans,(_this$colDefCols4=this.colDefCols)===null||_this$colDefCols4===void 0?void 0:_this$colDefCols4.tree);super.destroy();}getColTree(){var _this$cols$tree,_this$cols7;return(_this$cols$tree=(_this$cols7=this.cols)===null||_this$cols7===void 0?void 0:_this$cols7.tree)!==null&&_this$cols$tree!==void 0?_this$cols$tree:[];}// + columnSelectPanel\ngetColDefColTree(){var _this$colDefCols$tree,_this$colDefCols5;return(_this$colDefCols$tree=(_this$colDefCols5=this.colDefCols)===null||_this$colDefCols5===void 0?void 0:_this$colDefCols5.tree)!==null&&_this$colDefCols$tree!==void 0?_this$colDefCols$tree:[];}// + clientSideRowController -> sorting, building quick filter text\n// + headerRenderer -> sorting (clearing icon)\ngetColDefCols(){var _this$colDefCols$list,_this$colDefCols6;return(_this$colDefCols$list=(_this$colDefCols6=this.colDefCols)===null||_this$colDefCols6===void 0?void 0:_this$colDefCols6.list)!==null&&_this$colDefCols$list!==void 0?_this$colDefCols$list:null;}// + moveColumnController\ngetCols(){var _this$cols$list4,_this$cols8;return(_this$cols$list4=(_this$cols8=this.cols)===null||_this$cols8===void 0?void 0:_this$cols8.list)!==null&&_this$cols$list4!==void 0?_this$cols$list4:[];}forAllCols(callback){var _this$colDefCols7,_autoColSvc$columns,_selectionColSvc$colu,_pivotResultCols$getP4;var{pivotResultCols,autoColSvc,selectionColSvc}=this.beans;_forAll((_this$colDefCols7=this.colDefCols)===null||_this$colDefCols7===void 0?void 0:_this$colDefCols7.list,callback);_forAll(autoColSvc===null||autoColSvc===void 0||(_autoColSvc$columns=autoColSvc.columns)===null||_autoColSvc$columns===void 0?void 0:_autoColSvc$columns.list,callback);_forAll(selectionColSvc===null||selectionColSvc===void 0||(_selectionColSvc$colu=selectionColSvc.columns)===null||_selectionColSvc$colu===void 0?void 0:_selectionColSvc$colu.list,callback);_forAll(pivotResultCols===null||pivotResultCols===void 0||(_pivotResultCols$getP4=pivotResultCols.getPivotResultCols())===null||_pivotResultCols$getP4===void 0?void 0:_pivotResultCols$getP4.list,callback);}getColsForKeys(keys){if(!keys){return[];}return keys.map(key=>this.getCol(key)).filter(col=>col!=null);}getColDefCol(key){var _this$colDefCols8;if(!((_this$colDefCols8=this.colDefCols)!==null&&_this$colDefCols8!==void 0&&_this$colDefCols8.list)){return null;}return this.getColFromCollection(key,this.colDefCols);}getCol(key){if(key==null){return null;}return this.getColFromCollection(key,this.cols);}/**\n   * Get column exclusively by ID.\n   *\n   * Note getCol/getColFromCollection have poor performance when col has been removed.\n   */getColById(key){var _this$cols$map$key,_this$cols9;return(_this$cols$map$key=(_this$cols9=this.cols)===null||_this$cols9===void 0?void 0:_this$cols9.map[key])!==null&&_this$cols$map$key!==void 0?_this$cols$map$key:null;}getColFromCollection(key,cols){var _ref4,_this$beans$autoColSv2,_this$beans$autoColSv3,_this$beans$selection3;if(cols==null){return null;}var{map,list}=cols;if(typeof key==\"string\"&&map[key]){return map[key];}for(var i=0;i<list.length;i++){if(_columnsMatch(list[i],key)){return list[i];}}return(_ref4=(_this$beans$autoColSv2=(_this$beans$autoColSv3=this.beans.autoColSvc)===null||_this$beans$autoColSv3===void 0?void 0:_this$beans$autoColSv3.getColumn(key))!==null&&_this$beans$autoColSv2!==void 0?_this$beans$autoColSv2:(_this$beans$selection3=this.beans.selectionColSvc)===null||_this$beans$selection3===void 0?void 0:_this$beans$selection3.getColumn(key))!==null&&_ref4!==void 0?_ref4:null;}};// packages/ag-grid-community/src/columns/baseColsService.ts\nvar BaseColsService=class extends BeanStub{constructor(){super(...arguments);this.dispatchColumnChangedEvent=dispatchColumnChangedEvent;this.columns=[];this.columnIndexMap={};this.updateIndexMap=()=>{this.columnIndexMap={};this.columns.forEach((col,index)=>this.columnIndexMap[col.getId()]=index);};}wireBeans(beans){this.colModel=beans.colModel;this.aggFuncSvc=beans.aggFuncSvc;this.visibleCols=beans.visibleCols;}sortColumns(compareFn){this.columns.sort(compareFn);this.updateIndexMap();}setColumns(colKeys,source){this.setColList(colKeys,this.columns,this.eventName,true,true,this.columnProcessors.set,source);}addColumns(colKeys,source){this.updateColList(colKeys,this.columns,true,true,this.columnProcessors.add,this.eventName,source);}removeColumns(colKeys,source){this.updateColList(colKeys,this.columns,false,true,this.columnProcessors.remove,this.eventName,source);}getColumnIndex(colId){return this.columnIndexMap[colId];}setColList(){var colKeys=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var masterList=arguments.length>1?arguments[1]:undefined;var eventName=arguments.length>2?arguments[2]:undefined;var detectOrderChange=arguments.length>3?arguments[3]:undefined;var autoGroupsNeedBuilding=arguments.length>4?arguments[4]:undefined;var columnCallback=arguments.length>5?arguments[5]:undefined;var source=arguments.length>6?arguments[6]:undefined;var gridColumns=this.colModel.getCols();if(!gridColumns||gridColumns.length===0){return;}var changes=/* @__PURE__ */new Map();masterList.forEach((col,idx)=>changes.set(col,idx));masterList.length=0;if(_exists(colKeys)){colKeys.forEach(key=>{var column=this.colModel.getColDefCol(key);if(column){masterList.push(column);}});}masterList.forEach((col,idx)=>{var oldIndex=changes.get(col);if(oldIndex===void 0){changes.set(col,0);return;}if(detectOrderChange&&oldIndex!==idx){return;}changes.delete(col);});this.updateIndexMap();var primaryCols=this.colModel.getColDefCols();(primaryCols||[]).forEach(column=>{var added=masterList.indexOf(column)>=0;columnCallback(column,added,source);});autoGroupsNeedBuilding&&this.colModel.refreshCols(false);this.visibleCols.refresh(source);this.dispatchColumnChangedEvent(this.eventSvc,eventName,[...changes.keys()],source);}updateColList(){var keys=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var masterList=arguments.length>1?arguments[1]:undefined;var actionIsAdd=arguments.length>2?arguments[2]:undefined;var autoGroupsNeedBuilding=arguments.length>3?arguments[3]:undefined;var columnCallback=arguments.length>4?arguments[4]:undefined;var eventType=arguments.length>5?arguments[5]:undefined;var source=arguments.length>6?arguments[6]:undefined;if(!keys||keys.length===0){return;}var atLeastOne=false;var updatedCols=/* @__PURE__ */new Set();keys.forEach(key=>{if(!key){return;}var columnToAdd=this.colModel.getColDefCol(key);if(!columnToAdd){return;}updatedCols.add(columnToAdd);if(actionIsAdd){if(masterList.indexOf(columnToAdd)>=0){return;}masterList.push(columnToAdd);}else{var currentIndex=masterList.indexOf(columnToAdd);if(currentIndex<0){return;}for(var i=currentIndex+1;i<masterList.length;i++){updatedCols.add(masterList[i]);}_removeFromArray(masterList,columnToAdd);}columnCallback(columnToAdd,actionIsAdd,source);atLeastOne=true;});if(!atLeastOne){return;}this.updateIndexMap();if(autoGroupsNeedBuilding){this.colModel.refreshCols(false);}this.visibleCols.refresh(source);var eventColumns=Array.from(updatedCols);this.eventSvc.dispatchEvent({type:eventType,columns:eventColumns,column:eventColumns.length===1?eventColumns[0]:null,source});}extractCols(source){var oldProvidedCols=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];var previousCols=this.columns;var colsWithIndex=[];var colsWithValue=[];var{setFlagFunc,getIndexFunc,getInitialIndexFunc,getValueFunc,getInitialValueFunc}=this.columnExtractors;var primaryCols=this.colModel.getColDefCols()||[];primaryCols.forEach(col=>{var colIsNew=oldProvidedCols.indexOf(col)<0;var colDef=col.getColDef();var value=getValueFunc(colDef);var initialValue=getInitialValueFunc(colDef);var index=getIndexFunc(colDef);var initialIndex=getInitialIndexFunc(colDef);var include;var valuePresent=value!==void 0;var indexPresent=index!==void 0;var initialValuePresent=initialValue!==void 0;var initialIndexPresent=initialIndex!==void 0;if(valuePresent){include=value;}else if(indexPresent){if(index===null){include=false;}else{include=index>=0;}}else{if(colIsNew){if(initialValuePresent){include=initialValue;}else if(initialIndexPresent){include=initialIndex!=null&&initialIndex>=0;}else{include=false;}}else{include=previousCols.indexOf(col)>=0;}}if(include){var useIndex=colIsNew?index!=null||initialIndex!=null:index!=null;useIndex?colsWithIndex.push(col):colsWithValue.push(col);}});var getIndexForCol=col=>{var index=getIndexFunc(col.getColDef());var defaultIndex=getInitialIndexFunc(col.getColDef());return index!=null?index:defaultIndex;};colsWithIndex.sort((colA,colB)=>{var indexA=getIndexForCol(colA);var indexB=getIndexForCol(colB);if(indexA===indexB){return 0;}if(indexA<indexB){return-1;}return 1;});var res=[].concat(colsWithIndex);previousCols.forEach(col=>{if(colsWithValue.indexOf(col)>=0){res.push(col);}});colsWithValue.forEach(col=>{if(res.indexOf(col)<0){res.push(col);}});previousCols.forEach(col=>{if(res.indexOf(col)<0){setFlagFunc(col,false,source);}});res.forEach(col=>{if(previousCols.indexOf(col)<0){setFlagFunc(col,true,source);}});this.columns=res;this.updateIndexMap();return this.columns;}restoreColumnOrder(columnStateAccumulator,incomingColumnState){var colList=this.columns;var primaryCols=this.colModel.getColDefCols();if(!colList.length||!primaryCols){return columnStateAccumulator;}var updatedColIdArray=Object.keys(incomingColumnState);var updatedColIds=new Set(updatedColIdArray);var newColIds=new Set(updatedColIdArray);var allColIds=new Set(colList.map(column=>{var colId=column.getColId();newColIds.delete(colId);return colId;}).concat(updatedColIdArray));var colIdsInOriginalOrder=[];var originalOrderMap={};var orderIndex=0;for(var i=0;i<primaryCols.length;i++){var colId=primaryCols[i].getColId();if(allColIds.has(colId)){colIdsInOriginalOrder.push(colId);originalOrderMap[colId]=orderIndex++;}}var index=1e3;var hasAddedNewCols=false;var lastIndex=0;var enableProp=this.columnOrdering.enableProp;var initialEnableProp=this.columnOrdering.initialEnableProp;var indexProp=this.columnOrdering.indexProp;var initialIndexProp=this.columnOrdering.initialIndexProp;var processPrecedingNewCols=colId=>{var originalOrderIndex=originalOrderMap[colId];for(var _i4=lastIndex;_i4<originalOrderIndex;_i4++){var newColId=colIdsInOriginalOrder[_i4];if(newColIds.has(newColId)){incomingColumnState[newColId][indexProp]=index++;newColIds.delete(newColId);}}lastIndex=originalOrderIndex;};colList.forEach(column=>{var colId=column.getColId();if(updatedColIds.has(colId)){processPrecedingNewCols(colId);incomingColumnState[colId][indexProp]=index++;}else{var colDef=column.getColDef();var missingIndex=colDef[indexProp]===null||colDef[indexProp]===void 0&&colDef[initialIndexProp]==null;if(missingIndex){if(!hasAddedNewCols){var propEnabled=colDef[enableProp]||colDef[enableProp]===void 0&&colDef[initialEnableProp];if(propEnabled){processPrecedingNewCols(colId);}else{newColIds.forEach(newColId=>{incomingColumnState[newColId][indexProp]=index+originalOrderMap[newColId];});index+=colIdsInOriginalOrder.length;hasAddedNewCols=true;}}if(!columnStateAccumulator[colId]){columnStateAccumulator[colId]={colId};}columnStateAccumulator[colId][indexProp]=index++;}}});return columnStateAccumulator;}};// packages/ag-grid-community/src/columns/groupInstanceIdCreator.ts\nvar GroupInstanceIdCreator=class{constructor(){// this map contains keys to numbers, so we remember what the last call was\nthis.existingIds={};}getInstanceIdForKey(key){var lastResult=this.existingIds[key];var result;if(typeof lastResult!==\"number\"){result=0;}else{result=lastResult+1;}this.existingIds[key]=result;return result;}};// packages/ag-grid-community/src/components/emptyBean.ts\nvar EmptyBean=class extends BeanStub{};function setupCompBean(ctrl,ctx,compBean){if(compBean){ctrl.addDestroyFunc(()=>ctx.destroyBean(compBean));}return compBean!==null&&compBean!==void 0?compBean:ctrl;}// packages/ag-grid-community/src/rendering/cssClassManager.ts\nvar CssClassManager=class{constructor(getGui){// to minimise DOM hits, we only apply CSS classes if they have changed. as adding a CSS class that is already\n// there, or removing one that wasn't present, all takes CPU.\nthis.cssClassStates={};this.getGui=getGui;}toggleCss(className,addOrRemove){if(!className){return;}if(className.indexOf(\" \")>=0){var list=(className||\"\").split(\" \");if(list.length>1){list.forEach(cls=>this.toggleCss(cls,addOrRemove));return;}}var updateNeeded=this.cssClassStates[className]!==addOrRemove;if(updateNeeded&&className.length){var _this$getGui;(_this$getGui=this.getGui())===null||_this$getGui===void 0||_this$getGui.classList.toggle(className,addOrRemove);this.cssClassStates[className]=addOrRemove;}}};// packages/ag-grid-community/src/widgets/component.ts\nvar compIdSequence=0;var RefPlaceholder=null;var Component=class extends BeanStub{constructor(templateOrParams,componentSelectors){super();this.suppressDataRefValidation=false;// if false, then CSS class \"ag-hidden\" is applied, which sets \"display: none\"\nthis.displayed=true;// if false, then CSS class \"ag-invisible\" is applied, which sets \"visibility: hidden\"\nthis.visible=true;// unique id for this row component. this is used for getting a reference to the HTML dom.\n// we cannot use the RowNode id as this is not unique (due to animation, old rows can be lying\n// around as we create a new rowComp instance for the same row node).\nthis.compId=compIdSequence++;this.cssManager=new CssClassManager(()=>this.eGui);this.componentSelectors=new Map((componentSelectors!==null&&componentSelectors!==void 0?componentSelectors:[]).map(comp=>[comp.selector,comp]));if(templateOrParams){this.setTemplate(templateOrParams);}}preConstruct(){var _Object$getPrototypeO,_this$css;this.wireTemplate(this.getGui());var debugId=\"component-\"+((_Object$getPrototypeO=Object.getPrototypeOf(this))===null||_Object$getPrototypeO===void 0||(_Object$getPrototypeO=_Object$getPrototypeO.constructor)===null||_Object$getPrototypeO===void 0?void 0:_Object$getPrototypeO.name);(_this$css=this.css)===null||_this$css===void 0||_this$css.forEach(css=>this.beans.environment.addGlobalCSS(css,debugId));}wireTemplate(element,paramsMap){if(element&&this.gos){this.applyElementsToComponent(element);this.createChildComponentsFromTags(element,paramsMap);}}getCompId(){return this.compId;}getDataRefAttribute(element){if(element.getAttribute){return element.getAttribute(DataRefAttribute);}return null;}applyElementsToComponent(element,elementRef,paramsMap){var newComponent=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;if(elementRef===void 0){elementRef=this.getDataRefAttribute(element);}if(elementRef){var current=this[elementRef];if(current===RefPlaceholder){this[elementRef]=newComponent!==null&&newComponent!==void 0?newComponent:element;}else{var usedAsParamRef=paramsMap&&paramsMap[elementRef];if(!this.suppressDataRefValidation&&!usedAsParamRef){throw new Error(\"data-ref: \".concat(elementRef,\" on \").concat(this.constructor.name,\" with \").concat(current));}}}}// for registered components only, eg creates AgCheckbox instance from ag-checkbox HTML tag\ncreateChildComponentsFromTags(parentNode,paramsMap){var childNodeList=[];for(var childNode of(_parentNode$childNode=parentNode.childNodes)!==null&&_parentNode$childNode!==void 0?_parentNode$childNode:[]){var _parentNode$childNode;childNodeList.push(childNode);}childNodeList.forEach(childNode=>{if(!(childNode instanceof HTMLElement)){return;}var childComp=this.createComponentFromElement(childNode,childComp2=>{var childGui=childComp2.getGui();if(childGui){for(var attr of(_childNode$attributes=childNode.attributes)!==null&&_childNode$attributes!==void 0?_childNode$attributes:[]){var _childNode$attributes;childGui.setAttribute(attr.name,attr.value);}}},paramsMap);if(childComp){if(childComp.addItems&&childNode.children.length){this.createChildComponentsFromTags(childNode,paramsMap);var items=Array.prototype.slice.call(childNode.children);childComp.addItems(items);}this.swapComponentForNode(childComp,parentNode,childNode);}else if(childNode.childNodes){this.createChildComponentsFromTags(childNode,paramsMap);}});}createComponentFromElement(element,afterPreCreateCallback,paramsMap){var key=element.nodeName;var elementRef=this.getDataRefAttribute(element);var isAgGridComponent=key.indexOf(\"AG-\")===0;var componentSelector=isAgGridComponent?this.componentSelectors.get(key):null;var newComponent=null;if(componentSelector){var componentParams=paramsMap&&elementRef?paramsMap[elementRef]:void 0;newComponent=new componentSelector.component(componentParams);newComponent.setParentComponent(this);this.createBean(newComponent,null,afterPreCreateCallback);}else if(isAgGridComponent){throw new Error(\"selector: \".concat(key));}this.applyElementsToComponent(element,elementRef,paramsMap,newComponent);return newComponent;}swapComponentForNode(newComponent,parentNode,childNode){var eComponent=newComponent.getGui();parentNode.replaceChild(eComponent,childNode);parentNode.insertBefore(document.createComment(childNode.nodeName),eComponent);this.addDestroyFunc(this.destroyBean.bind(this,newComponent));}activateTabIndex(elements){var tabIndex=this.gos.get(\"tabIndex\");if(!elements){elements=[];}if(!elements.length){elements.push(this.getGui());}elements.forEach(el=>el.setAttribute(\"tabindex\",tabIndex.toString()));}setTemplate(templateOrParams,componentSelectors,paramsMap){var eGui;if(typeof templateOrParams===\"string\"||templateOrParams==null){eGui=_loadTemplate(templateOrParams);}else{eGui=_createElement(templateOrParams);}this.setTemplateFromElement(eGui,componentSelectors,paramsMap);}setTemplateFromElement(element,components,paramsMap){var suppressDataRefValidation=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;this.eGui=element;this.suppressDataRefValidation=suppressDataRefValidation;if(components){for(var i=0;i<components.length;i++){var component=components[i];this.componentSelectors.set(component.selector,component);}}this.wireTemplate(element,paramsMap);}getGui(){return this.eGui;}getFocusableElement(){return this.eGui;}getAriaElement(){return this.getFocusableElement();}setParentComponent(component){this.parentComponent=component;}getParentComponent(){return this.parentComponent;}// this method is for older code, that wants to provide the gui element,\n// it is not intended for this to be in ag-Stack\nsetGui(eGui){this.eGui=eGui;}queryForHtmlElement(cssSelector){return this.eGui.querySelector(cssSelector);}getContainerAndElement(newChild,container){var parent=container;if(newChild==null){return null;}if(!parent){parent=this.eGui;}if(_isNodeOrElement(newChild)){return{element:newChild,parent};}return{element:newChild.getGui(),parent};}prependChild(newChild,container){var{element,parent}=this.getContainerAndElement(newChild,container)||{};if(!element||!parent){return;}parent.insertAdjacentElement(\"afterbegin\",element);}appendChild(newChild,container){var{element,parent}=this.getContainerAndElement(newChild,container)||{};if(!element||!parent){return;}parent.appendChild(element);}isDisplayed(){return this.displayed;}setVisible(visible){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(visible!==this.visible){this.visible=visible;var{skipAriaHidden}=options;_setVisible(this.eGui,visible,{skipAriaHidden});}}setDisplayed(displayed){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(displayed!==this.displayed){this.displayed=displayed;var{skipAriaHidden}=options;_setDisplayed(this.eGui,displayed,{skipAriaHidden});var event={type:\"displayChanged\",visible:this.displayed};this.dispatchLocalEvent(event);}}destroy(){if(this.parentComponent){this.parentComponent=void 0;}super.destroy();}addGuiEventListener(event,listener,options){this.eGui.addEventListener(event,listener,options);this.addDestroyFunc(()=>this.eGui.removeEventListener(event,listener));}addCss(className){this.cssManager.toggleCss(className,true);}removeCss(className){this.cssManager.toggleCss(className,false);}toggleCss(className,addOrRemove){this.cssManager.toggleCss(className,addOrRemove);}registerCSS(css){this.css||(this.css=[]);this.css.push(css);}};// packages/ag-grid-community/src/interfaces/iFilter.ts\nfunction isColumnFilterComp(filter){return typeof filter===\"object\"&&!!filter.component;}// packages/ag-grid-community/src/utils/promise.ts\nfunction _isPromise(fn){if(typeof fn.then===\"function\"){return true;}return false;}var AgPromise=class _AgPromise{constructor(callback){this.status=0/* IN_PROGRESS */;this.resolution=null;this.waiters=[];callback(value=>this.onDone(value),params=>this.onReject(params));}static all(promises){return promises.length?new _AgPromise(resolve=>{var remainingToResolve=promises.length;var combinedValues=new Array(remainingToResolve);promises.forEach((promise,index)=>{promise.then(value=>{combinedValues[index]=value;remainingToResolve--;if(remainingToResolve===0){resolve(combinedValues);}});});}):_AgPromise.resolve();}static resolve(){var value=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;return new _AgPromise(resolve=>resolve(value));}then(func){return new _AgPromise(resolve=>{if(this.status===1/* RESOLVED */){resolve(func(this.resolution));}else{this.waiters.push(value=>resolve(func(value)));}});}onDone(value){this.status=1/* RESOLVED */;this.resolution=value;this.waiters.forEach(waiter=>waiter(value));}onReject(_){}};// packages/ag-grid-community/src/components/framework/userComponentFactory.ts\nfunction doesImplementIComponent(candidate){if(!candidate){return false;}return candidate.prototype&&\"getGui\"in candidate.prototype;}function _getUserCompKeys(frameworkOverrides,defObject,type,params){var{name}=type;var compName;var jsComp;var fwComp;var paramsFromSelector;var popupFromSelector;var popupPositionFromSelector;if(defObject){var defObjectAny=defObject;var selectorFunc=defObjectAny[name+\"Selector\"];var selectorRes=selectorFunc?selectorFunc(params):null;var assignComp=providedJsComp=>{if(typeof providedJsComp===\"string\"){compName=providedJsComp;}else if(providedJsComp!=null&&providedJsComp!==true){var isFwkComp=frameworkOverrides.isFrameworkComponent(providedJsComp);if(isFwkComp){fwComp=providedJsComp;}else{jsComp=providedJsComp;}}};if(selectorRes){assignComp(selectorRes.component);paramsFromSelector=selectorRes.params;popupFromSelector=selectorRes.popup;popupPositionFromSelector=selectorRes.popupPosition;}else{assignComp(defObjectAny[name]);}}return{compName,jsComp,fwComp,paramsFromSelector,popupFromSelector,popupPositionFromSelector};}var UserComponentFactory=class extends BeanStub{constructor(){super(...arguments);this.beanName=\"userCompFactory\";}wireBeans(beans){this.agCompUtils=beans.agCompUtils;this.registry=beans.registry;this.frameworkCompWrapper=beans.frameworkCompWrapper;this.gridOptions=beans.gridOptions;}getCompDetailsFromGridOptions(type,defaultName,params){var mandatory=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;return this.getCompDetails(this.gridOptions,type,defaultName,params,mandatory);}getCompDetails(defObject,type,defaultName,params){var mandatory=arguments.length>4&&arguments[4]!==undefined?arguments[4]:false;var{name,cellRenderer}=type;var{compName,jsComp,fwComp,paramsFromSelector,popupFromSelector,popupPositionFromSelector}=_getUserCompKeys(this.beans.frameworkOverrides,defObject,type,params);var defaultCompParams;var defaultCompProcessParams;var lookupFromRegistry=key=>{var item=this.registry.getUserComponent(name,key);if(item){jsComp=!item.componentFromFramework?item.component:void 0;fwComp=item.componentFromFramework?item.component:void 0;defaultCompParams=item.params;defaultCompProcessParams=item.processParams;}};if(compName!=null){lookupFromRegistry(compName);}if(jsComp==null&&fwComp==null&&defaultName!=null){lookupFromRegistry(defaultName);}if(jsComp&&cellRenderer&&!doesImplementIComponent(jsComp)){var _this$agCompUtils;jsComp=(_this$agCompUtils=this.agCompUtils)===null||_this$agCompUtils===void 0?void 0:_this$agCompUtils.adaptFunction(type,jsComp);}if(!jsComp&&!fwComp){var{validation:validation2}=this.beans;if(mandatory&&(compName!==defaultName||!defaultName)){if(compName){if(!(validation2!==null&&validation2!==void 0&&validation2.isProvidedUserComp(compName))){_error(50,{compName});}}else{if(defaultName){if(!validation2){_error(260,_objectSpread(_objectSpread({},this.gos.getModuleErrorParams()),{},{propName:name,compName:defaultName}));}}else{_error(216,{name});}}}else if(defaultName&&!validation2){_error(146,{comp:defaultName});}return;}var paramsMerged=this.mergeParams(defObject,type,params,paramsFromSelector,defaultCompParams,defaultCompProcessParams);var componentFromFramework=jsComp==null;var componentClass=jsComp!==null&&jsComp!==void 0?jsComp:fwComp;return{componentFromFramework,componentClass,params:paramsMerged,type,popupFromSelector,popupPositionFromSelector,newAgStackInstance:()=>this.newAgStackInstance(componentClass,componentFromFramework,paramsMerged,type)};}newAgStackInstance(ComponentClass,componentFromFramework,params,type){var _instance$init,_instance;var jsComponent=!componentFromFramework;var instance;if(jsComponent){instance=new ComponentClass();}else{instance=this.frameworkCompWrapper.wrap(ComponentClass,type.mandatoryMethods,type.optionalMethods,type);}this.createBean(instance);var deferredInit=(_instance$init=(_instance=instance).init)===null||_instance$init===void 0?void 0:_instance$init.call(_instance,params);if(deferredInit==null){return AgPromise.resolve(instance);}return deferredInit.then(()=>instance);}/**\n   * merges params with application provided params\n   * used by Floating Filter\n   */mergeParams(defObject,type,paramsFromGrid){var paramsFromSelector=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;var defaultCompParams=arguments.length>4?arguments[4]:undefined;var defaultCompProcessParams=arguments.length>5?arguments[5]:undefined;var params=_objectSpread(_objectSpread({},paramsFromGrid),defaultCompParams);var defObjectAny=defObject;var userParams=defObjectAny&&defObjectAny[type.name+\"Params\"];if(typeof userParams===\"function\"){var userParamsFromFunc=userParams(paramsFromGrid);_mergeDeep(params,userParamsFromFunc);}else if(typeof userParams===\"object\"){_mergeDeep(params,userParams);}_mergeDeep(params,paramsFromSelector);return defaultCompProcessParams?defaultCompProcessParams(params):params;}};// packages/ag-grid-community/src/components/framework/userCompUtils.ts\nvar DateComponent={name:\"dateComponent\",mandatoryMethods:[\"getDate\",\"setDate\"],optionalMethods:[\"afterGuiAttached\",\"setInputPlaceholder\",\"setInputAriaLabel\",\"setDisabled\",\"refresh\"]};var DragAndDropImageComponent={name:\"dragAndDropImageComponent\",mandatoryMethods:[\"setIcon\",\"setLabel\"]};var HeaderComponent={name:\"headerComponent\",optionalMethods:[\"refresh\"]};var InnerHeaderComponent={name:\"innerHeaderComponent\"};var InnerHeaderGroupComponent={name:\"innerHeaderGroupComponent\"};var HeaderGroupComponent={name:\"headerGroupComponent\"};var InnerCellRendererComponent={name:\"innerRenderer\",cellRenderer:true,optionalMethods:[\"afterGuiAttached\"]};var CellRendererComponent={name:\"cellRenderer\",optionalMethods:[\"refresh\",\"afterGuiAttached\"],cellRenderer:true};var EditorRendererComponent={name:\"cellRenderer\",optionalMethods:[\"refresh\",\"afterGuiAttached\"]};var LoadingCellRendererComponent={name:\"loadingCellRenderer\",cellRenderer:true};var CellEditorComponent={name:\"cellEditor\",mandatoryMethods:[\"getValue\"],optionalMethods:[\"isPopup\",\"isCancelBeforeStart\",\"isCancelAfterEnd\",\"getPopupPosition\",\"focusIn\",\"focusOut\",\"afterGuiAttached\",\"refresh\"]};var LoadingOverlayComponent={name:\"loadingOverlayComponent\",optionalMethods:[\"refresh\"]};var NoRowsOverlayComponent={name:\"noRowsOverlayComponent\",optionalMethods:[\"refresh\"]};var TooltipComponent={name:\"tooltipComponent\"};var FilterComponent={name:\"filter\",mandatoryMethods:[\"isFilterActive\",\"doesFilterPass\",\"getModel\",\"setModel\"],optionalMethods:[\"afterGuiAttached\",\"afterGuiDetached\",\"onNewRowsLoaded\",\"getModelAsString\",\"onFloatingFilterChanged\",\"onAnyFilterChanged\",\"refresh\"]};var FloatingFilterComponent={name:\"floatingFilterComponent\",mandatoryMethods:[\"onParentModelChanged\"],optionalMethods:[\"afterGuiAttached\",\"refresh\"]};var FullWidth={name:\"fullWidthCellRenderer\",optionalMethods:[\"refresh\",\"afterGuiAttached\"],cellRenderer:true};var FullWidthLoading={name:\"loadingCellRenderer\",cellRenderer:true};var FullWidthGroup={name:\"groupRowRenderer\",optionalMethods:[\"afterGuiAttached\"],cellRenderer:true};var FullWidthDetail={name:\"detailCellRenderer\",optionalMethods:[\"refresh\"],cellRenderer:true};function _getDragAndDropImageCompDetails(userCompFactory,params){return userCompFactory.getCompDetailsFromGridOptions(DragAndDropImageComponent,\"agDragAndDropImage\",params,true);}function _getInnerCellRendererDetails(userCompFactory,def,params){return userCompFactory.getCompDetails(def,InnerCellRendererComponent,void 0,params);}function _getHeaderCompDetails(userCompFactory,colDef,params){return userCompFactory.getCompDetails(colDef,HeaderComponent,\"agColumnHeader\",params);}function _getInnerHeaderCompDetails(userCompFactory,headerCompParams,params){return userCompFactory.getCompDetails(headerCompParams,InnerHeaderComponent,void 0,params);}function _getHeaderGroupCompDetails(userCompFactory,params){var colGroupDef=params.columnGroup.getColGroupDef();return userCompFactory.getCompDetails(colGroupDef,HeaderGroupComponent,\"agColumnGroupHeader\",params);}function _getInnerHeaderGroupCompDetails(userCompFactory,headerGroupCompParams,params){return userCompFactory.getCompDetails(headerGroupCompParams,InnerHeaderGroupComponent,void 0,params);}function _getFullWidthCellRendererDetails(userCompFactory,params){return userCompFactory.getCompDetailsFromGridOptions(FullWidth,void 0,params,true);}function _getFullWidthLoadingCellRendererDetails(userCompFactory,params){return userCompFactory.getCompDetailsFromGridOptions(FullWidthLoading,\"agLoadingCellRenderer\",params,true);}function _getFullWidthGroupCellRendererDetails(userCompFactory,params){return userCompFactory.getCompDetailsFromGridOptions(FullWidthGroup,\"agGroupRowRenderer\",params,true);}function _getFullWidthDetailCellRendererDetails(userCompFactory,params){return userCompFactory.getCompDetailsFromGridOptions(FullWidthDetail,\"agDetailCellRenderer\",params,true);}function _getCellRendererDetails(userCompFactory,def,params){return userCompFactory.getCompDetails(def,CellRendererComponent,void 0,params);}function _getEditorRendererDetails(userCompFactory,def,params){return userCompFactory.getCompDetails(def,EditorRendererComponent,void 0,params);}function _getLoadingCellRendererDetails(userCompFactory,def,params){return userCompFactory.getCompDetails(def,LoadingCellRendererComponent,\"agSkeletonCellRenderer\",params,true);}function _getCellEditorDetails(userCompFactory,def,params){return userCompFactory.getCompDetails(def,CellEditorComponent,\"agCellEditor\",params,true);}function _getFilterDetails(userCompFactory,def,params,defaultFilter){var filter=def.filter;if(isColumnFilterComp(filter)){def={filter:filter.component,filterParams:def.filterParams};}return userCompFactory.getCompDetails(def,FilterComponent,defaultFilter,params,true);}function _getDateCompDetails(userCompFactory,def,params){return userCompFactory.getCompDetails(def,DateComponent,\"agDateInput\",params,true);}function _getLoadingOverlayCompDetails(userCompFactory,params){return userCompFactory.getCompDetailsFromGridOptions(LoadingOverlayComponent,\"agLoadingOverlay\",params,true);}function _getNoRowsOverlayCompDetails(userCompFactory,params){return userCompFactory.getCompDetailsFromGridOptions(NoRowsOverlayComponent,\"agNoRowsOverlay\",params,true);}function _getTooltipCompDetails(userCompFactory,params){return userCompFactory.getCompDetails(params.colDef,TooltipComponent,\"agTooltipComponent\",params,true);}function _getFloatingFilterCompDetails(userCompFactory,def,params,defaultFloatingFilter){return userCompFactory.getCompDetails(def,FloatingFilterComponent,defaultFloatingFilter,params);}function _getFilterCompKeys(frameworkOverrides,def){return _getUserCompKeys(frameworkOverrides,def,FilterComponent);}function _mergeFilterParamsWithApplicationProvidedParams(userCompFactory,defObject,paramsFromGrid){return userCompFactory.mergeParams(defObject,FilterComponent,paramsFromGrid);}// packages/ag-grid-community/src/components/framework/unwrapUserComp.ts\nfunction _unwrapUserComp(comp){var compAsAny=comp;var isProxy=compAsAny!=null&&compAsAny.getFrameworkComponentInstance!=null;return isProxy?compAsAny.getFrameworkComponentInstance():comp;}// packages/ag-grid-community/src/modules/moduleRegistry.ts\nvar allRegisteredModules=/* @__PURE__ */new Set();var globalModulesMap={};var gridModulesMap={};var currentModuleVersion;var userHasRegistered=false;var areGridScopedModules=false;var isUmd=false;function isValidModuleVersion(module){var[moduleMajor,moduleMinor]=module.version.split(\".\")||[];var[currentModuleMajor,currentModuleMinor]=currentModuleVersion.split(\".\")||[];return moduleMajor===currentModuleMajor&&moduleMinor===currentModuleMinor;}function runVersionChecks(module){if(!currentModuleVersion){currentModuleVersion=module.version;}var errorMsg=details=>\"You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. \".concat(details,\" Please update all modules to the same version.\");if(!module.version){_errorOnce(errorMsg(\"'\".concat(module.moduleName,\"' is incompatible.\")));}else if(!isValidModuleVersion(module)){_errorOnce(errorMsg(\"'\".concat(module.moduleName,\"' is version \").concat(module.version,\" but the other modules are version \").concat(currentModuleVersion,\".\")));}if(module.validate){var result=module.validate();if(!result.isValid){var errorResult=result;_errorOnce(\"\".concat(errorResult.message));}}}function _registerModule(module,gridId){var _module$rowModels;var isInternalRegistration=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if(!isInternalRegistration){userHasRegistered=true;}runVersionChecks(module);var rowModels=(_module$rowModels=module.rowModels)!==null&&_module$rowModels!==void 0?_module$rowModels:[\"all\"];allRegisteredModules.add(module);var moduleStore;if(gridId!==void 0){areGridScopedModules=true;if(gridModulesMap[gridId]===void 0){gridModulesMap[gridId]={};}moduleStore=gridModulesMap[gridId];}else{moduleStore=globalModulesMap;}rowModels.forEach(rowModel=>{if(moduleStore[rowModel]===void 0){moduleStore[rowModel]={};}moduleStore[rowModel][module.moduleName]=module;});if(module.dependsOn){module.dependsOn.forEach(dependency=>_registerModule(dependency,gridId,isInternalRegistration));}}function _unRegisterGridModules(gridId){delete gridModulesMap[gridId];}function _isModuleRegistered(moduleName,gridId,rowModel){var isRegisteredForRowModel=model=>{var _globalModulesMap$mod,_gridModulesMap$gridI;return!!((_globalModulesMap$mod=globalModulesMap[model])!==null&&_globalModulesMap$mod!==void 0&&_globalModulesMap$mod[moduleName])||!!((_gridModulesMap$gridI=gridModulesMap[gridId])!==null&&_gridModulesMap$gridI!==void 0&&(_gridModulesMap$gridI=_gridModulesMap$gridI[model])!==null&&_gridModulesMap$gridI!==void 0&&_gridModulesMap$gridI[moduleName]);};return isRegisteredForRowModel(rowModel)||isRegisteredForRowModel(\"all\");}function _areModulesGridScoped(){return areGridScopedModules;}function _getRegisteredModules(gridId,rowModel){var _gridModulesMap$gridI2,_globalModulesMap$all,_gridModules$all,_globalModulesMap$row,_gridModules$rowModel;var gridModules=(_gridModulesMap$gridI2=gridModulesMap[gridId])!==null&&_gridModulesMap$gridI2!==void 0?_gridModulesMap$gridI2:{};return[...Object.values((_globalModulesMap$all=globalModulesMap[\"all\"])!==null&&_globalModulesMap$all!==void 0?_globalModulesMap$all:{}),...Object.values((_gridModules$all=gridModules[\"all\"])!==null&&_gridModules$all!==void 0?_gridModules$all:{}),...Object.values((_globalModulesMap$row=globalModulesMap[rowModel])!==null&&_globalModulesMap$row!==void 0?_globalModulesMap$row:{}),...Object.values((_gridModules$rowModel=gridModules[rowModel])!==null&&_gridModules$rowModel!==void 0?_gridModules$rowModel:{})];}function _getAllRegisteredModules(){return new Set(allRegisteredModules);}function _getGridRegisteredModules(gridId,rowModel){var _gridModulesMap$gridI3,_gridModules$all2,_gridModules$rowModel2;var gridModules=(_gridModulesMap$gridI3=gridModulesMap[gridId])!==null&&_gridModulesMap$gridI3!==void 0?_gridModulesMap$gridI3:{};return[...Object.values((_gridModules$all2=gridModules[\"all\"])!==null&&_gridModules$all2!==void 0?_gridModules$all2:{}),...Object.values((_gridModules$rowModel2=gridModules[rowModel])!==null&&_gridModules$rowModel2!==void 0?_gridModules$rowModel2:{})];}function _hasUserRegistered(){return userHasRegistered;}function _isUmd(){return isUmd;}function _setUmd(){isUmd=true;}var ModuleRegistry=class{/**\n   * @deprecated v33 Use `registerModules([module])` instead.\n   */static register(module){_registerModule(module,void 0);}/**\n   * Globally register the given modules for all grids.\n   * @param modules - modules to register\n   */static registerModules(modules){modules.forEach(module=>_registerModule(module,void 0));}};// packages/ag-grid-community/src/context/genericContext.ts\nvar GenericContext=class{constructor(params){this.beans={};this.createdBeans=[];this.destroyed=false;if(!params||!params.beanClasses){return;}this.beanDestroyComparator=params.beanDestroyComparator;this.init(params);}init(params){var _params$derivedBeans;for(var beanName of Object.keys(params.providedBeanInstances)){this.beans[beanName]=params.providedBeanInstances[beanName];}params.beanClasses.forEach(BeanClass=>{var instance=new BeanClass();if(instance.beanName){this.beans[instance.beanName]=instance;}else{console.error(\"Bean \".concat(BeanClass.name,\" is missing beanName\"));}this.createdBeans.push(instance);});(_params$derivedBeans=params.derivedBeans)===null||_params$derivedBeans===void 0||_params$derivedBeans.forEach(beanFunc=>{var{beanName,bean}=beanFunc(this);this.beans[beanName]=bean;this.createdBeans.push(bean);});if(params.beanInitComparator){this.createdBeans.sort(params.beanInitComparator);}this.initBeans(this.createdBeans);}getBeanInstances(){return Object.values(this.beans);}createBean(bean,afterPreCreateCallback){this.initBeans([bean],afterPreCreateCallback);return bean;}initBeans(beanInstances,afterPreCreateCallback){beanInstances.forEach(instance=>{var _instance$preWireBean,_instance$wireBeans;(_instance$preWireBean=instance.preWireBeans)===null||_instance$preWireBean===void 0||_instance$preWireBean.call(instance,this.beans);(_instance$wireBeans=instance.wireBeans)===null||_instance$wireBeans===void 0||_instance$wireBeans.call(instance,this.beans);});beanInstances.forEach(instance=>{var _instance$preConstruc;return(_instance$preConstruc=instance.preConstruct)===null||_instance$preConstruc===void 0?void 0:_instance$preConstruc.call(instance);});if(afterPreCreateCallback){beanInstances.forEach(afterPreCreateCallback);}beanInstances.forEach(instance=>{var _instance$postConstru;return(_instance$postConstru=instance.postConstruct)===null||_instance$postConstru===void 0?void 0:_instance$postConstru.call(instance);});}getBeans(){return this.beans;}getBean(name){return this.beans[name];}destroy(){if(this.destroyed){return;}this.destroyed=true;var beanInstances=this.getBeanInstances();if(this.beanDestroyComparator){beanInstances.sort(this.beanDestroyComparator);}this.destroyBeans(beanInstances);this.beans={};this.createdBeans=[];}/**\n   * Destroys a bean and returns undefined to support destruction and clean up in a single line.\n   * this.dateComp = this.context.destroyBean(this.dateComp);\n   */destroyBean(bean){var _bean$destroy;bean===null||bean===void 0||(_bean$destroy=bean.destroy)===null||_bean$destroy===void 0||_bean$destroy.call(bean);}/**\n   * Destroys an array of beans and returns an empty array to support destruction and clean up in a single line.\n   * this.dateComps = this.context.destroyBeans(this.dateComps);\n   */destroyBeans(beans){if(beans){for(var i=0;i<beans.length;i++){this.destroyBean(beans[i]);}}return[];}isDestroyed(){return this.destroyed;}};// packages/ag-grid-community/src/context/context.ts\nfunction isComponentMetaFunc(componentMeta){return typeof componentMeta===\"object\"&&!!componentMeta.getComp;}var Context=class extends GenericContext{init(params){this.gridId=params.gridId;this.beans.context=this;this.destroyCallback=params.destroyCallback;super.init(params);}destroy(){var _this$destroyCallback;super.destroy();_unRegisterGridModules(this.gridId);(_this$destroyCallback=this.destroyCallback)===null||_this$destroyCallback===void 0||_this$destroyCallback.call(this);}getGridId(){return this.gridId;}};// packages/ag-grid-community/src/edit/editModelService.ts\nvar EditModelService=class extends BeanStub{constructor(){super(...arguments);this.beanName=\"editModelSvc\";this.edits=/* @__PURE__ */new Map();this.cellValidations=new EditCellValidationModel();this.rowValidations=new EditRowValidationModel();// during some operations, we want to always return false from `hasEdits`\nthis.suspendEdits=false;}suspend(suspend){this.suspendEdits=suspend;}removeEdits(_ref5){var{rowNode,column}=_ref5;if(!this.hasEdits({rowNode})||!rowNode){return;}var editRow=this.getEditRow(rowNode);if(column){editRow.delete(column);}else{editRow.clear();}if(editRow.size===0){this.edits.delete(rowNode);}}getEditRow(rowNode){var params=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(this.suspendEdits){return void 0;}if(this.edits.size===0){return void 0;}var edits=rowNode&&this.edits.get(rowNode);if(edits){return edits;}if(params.checkSiblings){var pinnedSibling=rowNode.pinnedSibling;if(pinnedSibling){return this.getEditRow(pinnedSibling);}}return void 0;}getEditRowDataValue(rowNode){var{checkSiblings}=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(this.edits.size===0){return rowNode.data;}var editRow=this.getEditRow(rowNode);var pinnedSibling=rowNode.pinnedSibling;var siblingRow=checkSiblings&&pinnedSibling&&this.getEditRow(pinnedSibling);if(!editRow&&!siblingRow){return rowNode.data;}var data=Object.assign({},rowNode.data);var applyEdits=(edits,data2)=>edits.forEach((_ref6,column)=>{var{newValue}=_ref6;if(newValue!==UNEDITED){data2[column.getColId()]=newValue;}});if(editRow){applyEdits(editRow,data);}if(siblingRow){applyEdits(siblingRow,data);}return data;}getEdit(position){return this._getEdit(position);}_getEdit(position){var _this$getEditRow;if(this.suspendEdits){return void 0;}if(this.edits.size===0){return void 0;}return position.rowNode&&position.column&&((_this$getEditRow=this.getEditRow(position.rowNode))===null||_this$getEditRow===void 0?void 0:_this$getEditRow.get(position.column));}getEditMap(){var copy=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;if(this.suspendEdits||this.edits.size===0){return/* @__PURE__ */new Map();}if(!copy){return this.edits;}var map=/* @__PURE__ */new Map();this.edits.forEach((editRow,rowNode)=>map.set(rowNode,new Map(editRow)));return map;}setEditMap(newEdits){this.edits.clear();newEdits.forEach((editRow,rowNode)=>{var newRow=/* @__PURE__ */new Map();editRow.forEach((cellData,column)=>// Ensure we copy the cell data to avoid reference issues\nnewRow.set(column,_objectSpread({},cellData)));this.edits.set(rowNode,newRow);});}setEdit(position,edit){(this.edits.size===0||!this.edits.has(position.rowNode))&&this.edits.set(position.rowNode,/* @__PURE__ */new Map());var currentEdit=Object.assign({},this._getEdit(position));Object.keys(edit).forEach(key=>{var value=edit[key];if(value!==void 0){currentEdit[key]=value;}});this.getEditRow(position.rowNode).set(position.column,currentEdit);}clearEditValue(position){var{rowNode,column}=position;if(rowNode){if(column){var edit=this._getEdit(position);if(edit){edit.newValue=edit.oldValue;edit.state=\"changed\";}}else{var _this$getEditRow2;(_this$getEditRow2=this.getEditRow(rowNode))===null||_this$getEditRow2===void 0||_this$getEditRow2.forEach(cellData=>{cellData.newValue=cellData.oldValue;cellData.state=\"changed\";});}}}setState(position,state){var _editRow;if(!position.rowNode||!position.column){return;}var{rowNode,column}=position;var editRow=this.getEditRow(rowNode);var edit=(_editRow=editRow)===null||_editRow===void 0?void 0:_editRow.get(column);if(edit){edit.state=state;}else{if(!editRow){editRow=/* @__PURE__ */new Map();this.edits.set(rowNode,editRow);}editRow.set(column,{newValue:void 0,oldValue:void 0,state});}}getState(position){var _this$getEdit;if(this.suspendEdits){return void 0;}return(_this$getEdit=this.getEdit(position))===null||_this$getEdit===void 0?void 0:_this$getEdit.state;}getEditPositions(editMap){if(this.suspendEdits||(editMap!==null&&editMap!==void 0?editMap:this.edits).size===0){return[];}var positions=[];(editMap!==null&&editMap!==void 0?editMap:this.edits).forEach((editRow,rowNode)=>{for(var column of editRow.keys()){positions.push(_objectSpread({rowNode,column},editRow.get(column)));}});return positions;}hasRowEdits(rowNode,params){if(this.suspendEdits){return false;}if(this.edits.size===0){return false;}var rowEdits=this.getEditRow(rowNode,params);return!!rowEdits;}hasEdits(){var position=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var params=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(this.suspendEdits){return false;}if(this.edits.size===0){return false;}var{rowNode,column}=position;var{withOpenEditor}=params;if(rowNode){var rowEdits=this.getEditRow(rowNode,params);if(!rowEdits){return false;}if(column){var _rowEdits$has;if(withOpenEditor){var _this$getEdit2;return((_this$getEdit2=this.getEdit(position))===null||_this$getEdit2===void 0?void 0:_this$getEdit2.state)===\"editing\";}return(_rowEdits$has=rowEdits.has(column))!==null&&_rowEdits$has!==void 0?_rowEdits$has:false;}if(rowEdits.size!==0){if(withOpenEditor){return Array.from(rowEdits.values()).some(_ref7=>{var{state}=_ref7;return state===\"editing\";});}return true;}return false;}if(withOpenEditor){return this.getEditPositions().some(_ref8=>{var{state}=_ref8;return state===\"editing\";});}return this.edits.size>0;}start(position){var _this$getEditRow3;var map=(_this$getEditRow3=this.getEditRow(position.rowNode))!==null&&_this$getEditRow3!==void 0?_this$getEditRow3:/* @__PURE__ */new Map();var{rowNode,column}=position;if(column&&!map.has(column)){map.set(column,{newValue:UNEDITED,oldValue:this.beans.valueSvc.getValue(column,rowNode,true,\"api\"),state:\"editing\"});}this.edits.set(rowNode,map);}stop(position){if(!this.hasEdits(position)){return;}if(position){this.removeEdits(position);}else{this.clear();}return;}clear(){for(var pendingRowEdits of this.edits.values()){pendingRowEdits.clear();}this.edits.clear();}getCellValidationModel(){return this.cellValidations;}getRowValidationModel(){return this.rowValidations;}setCellValidationModel(model){this.cellValidations=model;}setRowValidationModel(model){this.rowValidations=model;}destroy(){super.destroy();this.clear();}};var EditCellValidationModel=class{constructor(){this.cellValidations=/* @__PURE__ */new Map();}getCellValidation(position){var _this$cellValidations;var{rowNode,column}=position||{};return(_this$cellValidations=this.cellValidations)===null||_this$cellValidations===void 0||(_this$cellValidations=_this$cellValidations.get(rowNode))===null||_this$cellValidations===void 0?void 0:_this$cellValidations.get(column);}hasCellValidation(position){if(!position||!position.rowNode||!position.column){return this.cellValidations.size>0;}return!!this.getCellValidation(position);}setCellValidation(position,validation2){var{rowNode,column}=position;if(!this.cellValidations.has(rowNode)){this.cellValidations.set(rowNode,/* @__PURE__ */new Map());}this.cellValidations.get(rowNode).set(column,validation2);}clearCellValidation(position){var _this$cellValidations2;var{rowNode,column}=position;(_this$cellValidations2=this.cellValidations.get(rowNode))===null||_this$cellValidations2===void 0||_this$cellValidations2.delete(column);}setCellValidationMap(validationMap){this.cellValidations=validationMap;}getCellValidationMap(){return this.cellValidations;}clearCellValidationMap(){this.cellValidations.clear();}};var EditRowValidationModel=class{constructor(){this.rowValidations=/* @__PURE__ */new Map();}getRowValidation(position){var{rowNode}=position||{};return this.rowValidations.get(rowNode);}hasRowValidation(position){if(!position||!position.rowNode){return this.rowValidations.size>0;}return!!this.getRowValidation(position);}setRowValidation(_ref9,rowValidation){var{rowNode}=_ref9;this.rowValidations.set(rowNode,rowValidation);}clearRowValidation(_ref0){var{rowNode}=_ref0;this.rowValidations.delete(rowNode);}setRowValidationMap(validationMap){this.rowValidations=validationMap;}getRowValidationMap(){return this.rowValidations;}clearRowValidationMap(){this.rowValidations.clear();}};// packages/ag-grid-community/src/entities/positionUtils.ts\nfunction _createCellId(cellPosition){var{rowIndex,rowPinned,column}=cellPosition;return\"\".concat(rowIndex,\".\").concat(rowPinned==null?\"null\":rowPinned,\".\").concat(column.getId());}function _areCellsEqual(cellA,cellB){var colsMatch=cellA.column===cellB.column;var floatingMatch=cellA.rowPinned===cellB.rowPinned;var indexMatch=cellA.rowIndex===cellB.rowIndex;return colsMatch&&floatingMatch&&indexMatch;}function _isRowBefore(rowA,rowB){switch(rowA.rowPinned){case\"top\":if(rowB.rowPinned!==\"top\"){return true;}break;case\"bottom\":if(rowB.rowPinned!==\"bottom\"){return false;}break;default:if(_exists(rowB.rowPinned)){return rowB.rowPinned!==\"top\";}break;}return rowA.rowIndex<rowB.rowIndex;}function _isSameRow(rowA,rowB){if(!rowA&&!rowB){return true;}if(rowA&&!rowB||!rowA&&rowB){return false;}return rowA.rowIndex===rowB.rowIndex&&rowA.rowPinned==rowB.rowPinned;}function _getFirstRow(beans){var rowIndex=0;var rowPinned;var{pinnedRowModel,rowModel,pageBounds}=beans;if(pinnedRowModel!==null&&pinnedRowModel!==void 0&&pinnedRowModel.getPinnedTopRowCount()){rowPinned=\"top\";}else if(rowModel.getRowCount()){rowPinned=null;rowIndex=pageBounds.getFirstRow();}else if(pinnedRowModel!==null&&pinnedRowModel!==void 0&&pinnedRowModel.getPinnedBottomRowCount()){rowPinned=\"bottom\";}return rowPinned===void 0?null:{rowIndex,rowPinned};}function _getLastRow(beans){var rowIndex;var rowPinned=null;var{pinnedRowModel,pageBounds}=beans;var pinnedBottomCount=pinnedRowModel===null||pinnedRowModel===void 0?void 0:pinnedRowModel.getPinnedBottomRowCount();var pinnedTopCount=pinnedRowModel===null||pinnedRowModel===void 0?void 0:pinnedRowModel.getPinnedTopRowCount();if(pinnedBottomCount){rowPinned=\"bottom\";rowIndex=pinnedBottomCount-1;}else if(beans.rowModel.getRowCount()){rowPinned=null;rowIndex=pageBounds.getLastRow();}else if(pinnedTopCount){rowPinned=\"top\";rowIndex=pinnedTopCount-1;}return rowIndex===void 0?null:{rowIndex,rowPinned};}function _getRowNode(beans,gridRow){var _beans$pinnedRowModel,_beans$pinnedRowModel2;switch(gridRow.rowPinned){case\"top\":return(_beans$pinnedRowModel=beans.pinnedRowModel)===null||_beans$pinnedRowModel===void 0?void 0:_beans$pinnedRowModel.getPinnedTopRow(gridRow.rowIndex);case\"bottom\":return(_beans$pinnedRowModel2=beans.pinnedRowModel)===null||_beans$pinnedRowModel2===void 0?void 0:_beans$pinnedRowModel2.getPinnedBottomRow(gridRow.rowIndex);default:return beans.rowModel.getRow(gridRow.rowIndex);}}function _getCellByPosition(beans,cellPosition){var _beans$spannedRowRend;var spannedCellCtrl=(_beans$spannedRowRend=beans.spannedRowRenderer)===null||_beans$spannedRowRend===void 0?void 0:_beans$spannedRowRend.getCellByPosition(cellPosition);if(spannedCellCtrl){return spannedCellCtrl;}var rowCtrl=beans.rowRenderer.getRowByPosition(cellPosition);if(!rowCtrl){return null;}return rowCtrl.getCellCtrl(cellPosition.column);}function _getRowById(beans,rowId,rowPinned){var{rowModel:rm,pinnedRowModel:prm}=beans;var node;node!==null&&node!==void 0?node:node=rm===null||rm===void 0?void 0:rm.getRowNode(rowId);if(rowPinned){node!==null&&node!==void 0?node:node=prm===null||prm===void 0?void 0:prm.getPinnedRowById(rowId,rowPinned);}else{node!==null&&node!==void 0?node:node=prm===null||prm===void 0?void 0:prm.getPinnedRowById(rowId,\"top\");node!==null&&node!==void 0?node:node=prm===null||prm===void 0?void 0:prm.getPinnedRowById(rowId,\"bottom\");}return node;}function _getRowAbove(beans,rowPosition){var _getNextStickyPositio;var{rowIndex:index,rowPinned:pinned}=rowPosition;var{pageBounds,pinnedRowModel,rowModel}=beans;if(index===0){if(pinned===\"top\"){return null;}if(pinned===\"bottom\"&&rowModel.isRowsToRender()){return{rowIndex:pageBounds.getLastRow(),rowPinned:null};}return pinnedRowModel!==null&&pinnedRowModel!==void 0&&pinnedRowModel.isRowsToRender(\"top\")?{rowIndex:pinnedRowModel.getPinnedTopRowCount()-1,rowPinned:\"top\"}:null;}var rowNode=pinned?void 0:rowModel.getRow(index);return(_getNextStickyPositio=getNextStickyPosition(beans,rowNode,true))!==null&&_getNextStickyPositio!==void 0?_getNextStickyPositio:{rowIndex:index-1,rowPinned:pinned};}function _getRowBelow(beans,rowPosition){var _getNextStickyPositio2;var{rowIndex:index,rowPinned:pinned}=rowPosition;var{pageBounds,pinnedRowModel,rowModel}=beans;if(isLastRowInContainer(beans,rowPosition)){if(pinned===\"bottom\"){return null;}if(pinned===\"top\"&&rowModel.isRowsToRender()){return{rowIndex:pageBounds.getFirstRow(),rowPinned:null};}return pinnedRowModel!==null&&pinnedRowModel!==void 0&&pinnedRowModel.isRowsToRender(\"bottom\")?{rowIndex:0,rowPinned:\"bottom\"}:null;}var rowNode=pinned?void 0:rowModel.getRow(index);return(_getNextStickyPositio2=getNextStickyPosition(beans,rowNode))!==null&&_getNextStickyPositio2!==void 0?_getNextStickyPositio2:{rowIndex:index+1,rowPinned:pinned};}function getNextStickyPosition(beans,rowNode,up){var{gos,rowRenderer}=beans;if(!(rowNode!==null&&rowNode!==void 0&&rowNode.sticky)||!_isGroupRowsSticky(gos)){return;}var stickyRowCtrls=up?rowRenderer.getStickyTopRowCtrls():rowRenderer.getStickyBottomRowCtrls();var nextCtrl;for(var i=0;i<stickyRowCtrls.length;i++){if(stickyRowCtrls[i].rowNode.rowIndex===rowNode.rowIndex){nextCtrl=stickyRowCtrls[i+(up?-1:1)];break;}}return nextCtrl?{rowIndex:nextCtrl.rowNode.rowIndex,rowPinned:null}:void 0;}function isLastRowInContainer(beans,rowPosition){var{rowPinned,rowIndex}=rowPosition;var{pinnedRowModel,pageBounds}=beans;if(rowPinned===\"top\"){var _pinnedRowModel$getPi;var lastTopIndex=((_pinnedRowModel$getPi=pinnedRowModel===null||pinnedRowModel===void 0?void 0:pinnedRowModel.getPinnedTopRowCount())!==null&&_pinnedRowModel$getPi!==void 0?_pinnedRowModel$getPi:0)-1;return lastTopIndex<=rowIndex;}if(rowPinned===\"bottom\"){var _pinnedRowModel$getPi2;var lastBottomIndex=((_pinnedRowModel$getPi2=pinnedRowModel===null||pinnedRowModel===void 0?void 0:pinnedRowModel.getPinnedBottomRowCount())!==null&&_pinnedRowModel$getPi2!==void 0?_pinnedRowModel$getPi2:0)-1;return lastBottomIndex<=rowIndex;}var lastBodyIndex=pageBounds.getLastRow();return lastBodyIndex<=rowIndex;}// packages/ag-grid-community/src/edit/utils/controllers.ts\nfunction _getRowCtrl(beans){var _rowRenderer$getRowCt;var inputs=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var{rowIndex,rowId,rowCtrl,rowPinned}=inputs;if(rowCtrl){return rowCtrl;}var{rowModel,rowRenderer}=beans;var{rowNode}=inputs;if(!rowNode){if(rowId){rowNode=_getRowById(beans,rowId,rowPinned);}else if(rowIndex!=null){rowNode=rowModel.getRow(rowIndex);}}return(_rowRenderer$getRowCt=rowRenderer.getRowCtrls(rowNode?[rowNode]:[]))===null||_rowRenderer$getRowCt===void 0?void 0:_rowRenderer$getRowCt[0];}function _getCellCtrl(beans){var _ref1,_inputs$rowCtrl,_rowCtrl$getCellCtrl,_inputs$rowNode;var inputs=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var{cellCtrl,colId,columnId,column}=inputs;if(cellCtrl){return cellCtrl;}var actualColumn=beans.colModel.getCol((_ref1=colId!==null&&colId!==void 0?colId:columnId)!==null&&_ref1!==void 0?_ref1:_getColId(column));var rowCtrl=(_inputs$rowCtrl=inputs.rowCtrl)!==null&&_inputs$rowCtrl!==void 0?_inputs$rowCtrl:_getRowCtrl(beans,inputs);var result=(_rowCtrl$getCellCtrl=rowCtrl===null||rowCtrl===void 0?void 0:rowCtrl.getCellCtrl(actualColumn))!==null&&_rowCtrl$getCellCtrl!==void 0?_rowCtrl$getCellCtrl:void 0;if(result){return result;}var rowNode=(_inputs$rowNode=inputs.rowNode)!==null&&_inputs$rowNode!==void 0?_inputs$rowNode:rowCtrl===null||rowCtrl===void 0?void 0:rowCtrl.rowNode;if(rowNode){var _beans$rowRenderer$ge;return(_beans$rowRenderer$ge=beans.rowRenderer.getCellCtrls([rowNode],[actualColumn]))===null||_beans$rowRenderer$ge===void 0?void 0:_beans$rowRenderer$ge[0];}return void 0;}function _stopEditing(beans){var{editSvc}=beans;if(editSvc!==null&&editSvc!==void 0&&editSvc.isBatchEditing()){_destroyEditors(beans);}else{editSvc===null||editSvc===void 0||editSvc.stopEditing(void 0,{source:\"api\"});}}function _addStopEditingWhenGridLosesFocus(bean,beans,viewports){var{gos,popupSvc}=beans;if(!gos.get(\"stopEditingWhenCellsLoseFocus\")){return;}var focusOutListener=event=>{var elementWithFocus=event.relatedTarget;if(_getTabIndex(elementWithFocus)===null){_stopEditing(beans);return;}var clickInsideGrid=// see if click came from inside the viewports\nviewports.some(viewport=>viewport.contains(elementWithFocus))&&// and also that it's not from a detail grid\n_isElementInThisGrid(gos,elementWithFocus);if(!clickInsideGrid){clickInsideGrid=!!popupSvc&&(popupSvc.getActivePopups().some(popup=>popup.contains(elementWithFocus))||popupSvc.isElementWithinCustomPopup(elementWithFocus));}if(!clickInsideGrid){_stopEditing(beans);}};viewports.forEach(viewport=>bean.addManagedElementListeners(viewport,{focusout:focusOutListener}));}function _getColId(column){if(!column){return void 0;}if(typeof column===\"string\"){return column;}return column.getColId();}// packages/ag-grid-community/src/edit/utils/editors.ts\nvar UNEDITED=Symbol(\"unedited\");function getCellEditorInstanceMap(beans){var params=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var res=[];var ctrls=beans.rowRenderer.getCellCtrls(params.rowNodes,params.columns);for(var ctrl of ctrls){var _ctrl$comp;var cellEditor=(_ctrl$comp=ctrl.comp)===null||_ctrl$comp===void 0?void 0:_ctrl$comp.getCellEditor();if(cellEditor){res.push({ctrl,editor:_unwrapUserComp(cellEditor)});}}return res;}var getCellEditorInstances=function getCellEditorInstances(beans){var params=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return getCellEditorInstanceMap(beans,params).map(res=>res.editor);};function _setupEditors(beans,editingCells,position,key,event,cellStartedEdit){if(editingCells.length===0&&position!==null&&position!==void 0&&position.rowNode&&position!==null&&position!==void 0&&position.column){_setupEditor(beans,position,{key,event,cellStartedEdit});}var{valueSvc,editSvc,editModelSvc}=beans;var{rowNode,column}=position!==null&&position!==void 0?position:{};for(var cellPosition of editingCells){var{rowNode:cellRowNode,column:cellColumn}=cellPosition;var curCellCtrl=_getCellCtrl(beans,cellPosition);if(!curCellCtrl){if(cellRowNode&&cellColumn){var _ref10,_ref11,_ref12,_valueSvc$getValueFor;var oldValue=valueSvc.getValue(cellColumn,cellRowNode,void 0,\"api\");var isNewValueCell=(position===null||position===void 0?void 0:position.rowNode)===cellRowNode&&(position===null||position===void 0?void 0:position.column)===cellColumn;var cellStartValue=isNewValueCell&&key||void 0;var newValue=(_ref10=(_ref11=(_ref12=cellStartValue!==null&&cellStartValue!==void 0?cellStartValue:editSvc===null||editSvc===void 0?void 0:editSvc.getCellDataValue(cellPosition))!==null&&_ref12!==void 0?_ref12:(_valueSvc$getValueFor=valueSvc.getValueForDisplay(cellColumn,cellRowNode))===null||_valueSvc$getValueFor===void 0?void 0:_valueSvc$getValueFor.value)!==null&&_ref11!==void 0?_ref11:oldValue)!==null&&_ref10!==void 0?_ref10:UNEDITED;editModelSvc===null||editModelSvc===void 0||editModelSvc.setEdit(cellPosition,{newValue,oldValue,state:\"editing\"});}continue;}var shouldStartEditing=cellStartedEdit&&rowNode===curCellCtrl.rowNode&&curCellCtrl.column===column;_setupEditor(beans,{rowNode,column:curCellCtrl.column},{key:shouldStartEditing?key:null,event:shouldStartEditing?event:null,cellStartedEdit:shouldStartEditing});}return;}function _valuesDiffer(_ref13){var{newValue,oldValue}=_ref13;if(newValue===UNEDITED){newValue=oldValue;}return newValue!==oldValue;}function _setupEditor(beans,position,params){var _cellCtrl$comp,_beans$editModelSvc,_beans$editModelSvc2;var{key,event,cellStartedEdit,silent}=params!==null&&params!==void 0?params:{};var cellCtrl=_getCellCtrl(beans,position);var editorComp=cellCtrl===null||cellCtrl===void 0||(_cellCtrl$comp=cellCtrl.comp)===null||_cellCtrl$comp===void 0?void 0:_cellCtrl$comp.getCellEditor();var editorParams=_createEditorParams(beans,position,key,cellStartedEdit);var previousEdit=(_beans$editModelSvc=beans.editModelSvc)===null||_beans$editModelSvc===void 0?void 0:_beans$editModelSvc.getEdit(position);var newValue=(key===null||key===void 0?void 0:key.length)===1?key:editorParams.value;if(newValue===void 0){newValue=previousEdit===null||previousEdit===void 0?void 0:previousEdit.oldValue;}(_beans$editModelSvc2=beans.editModelSvc)===null||_beans$editModelSvc2===void 0||_beans$editModelSvc2.setEdit(position,{newValue:newValue!==null&&newValue!==void 0?newValue:UNEDITED,state:\"editing\"});if(editorComp){var _editorComp$refresh;(_editorComp$refresh=editorComp.refresh)===null||_editorComp$refresh===void 0||_editorComp$refresh.call(editorComp,editorParams);return;}var colDef=position.column.getColDef();var compDetails=_getCellEditorDetails(beans.userCompFactory,colDef,editorParams);var popup=(compDetails===null||compDetails===void 0?void 0:compDetails.popupFromSelector)!=null?compDetails.popupFromSelector:!!colDef.cellEditorPopup;var popupLocation=(compDetails===null||compDetails===void 0?void 0:compDetails.popupPositionFromSelector)!=null?compDetails.popupPositionFromSelector:colDef.cellEditorPopupPosition;checkAndPreventDefault(compDetails.params,event);if(cellCtrl){var _cellCtrl$comp2,_cellCtrl$rowCtrl;cellCtrl.editCompDetails=compDetails;(_cellCtrl$comp2=cellCtrl.comp)===null||_cellCtrl$comp2===void 0||_cellCtrl$comp2.setEditDetails(compDetails,popup,popupLocation,beans.gos.get(\"reactiveCustomComponents\"));cellCtrl===null||cellCtrl===void 0||(_cellCtrl$rowCtrl=cellCtrl.rowCtrl)===null||_cellCtrl$rowCtrl===void 0||_cellCtrl$rowCtrl.refreshRow({suppressFlash:true});if(!silent){var _beans$editSvc;(_beans$editSvc=beans.editSvc)===null||_beans$editSvc===void 0||_beans$editSvc.dispatchCellEvent(position,event,\"cellEditingStarted\");}}return;}function _valueFromEditor(cancel,cellComp){var _cellEditor$getValida,_validationErrors$len;var noValueResult={newValueExists:false};if(cancel){return noValueResult;}var cellEditor=cellComp===null||cellComp===void 0?void 0:cellComp.getCellEditor();if(!cellEditor){return noValueResult;}var validationErrors=(_cellEditor$getValida=cellEditor.getValidationErrors)===null||_cellEditor$getValida===void 0?void 0:_cellEditor$getValida.call(cellEditor);if(((_validationErrors$len=validationErrors===null||validationErrors===void 0?void 0:validationErrors.length)!==null&&_validationErrors$len!==void 0?_validationErrors$len:0)>0){return noValueResult;}var newValue=cellEditor.getValue();return{newValue,newValueExists:true};}function _createEditorParams(beans,position,key,cellStartedEdit){var _position$rowNode$row,_position$rowNode,_editSvc$getCellDataV,_valueFromEditor2,_valueSvc$getValueFor2;var{valueSvc,gos,editSvc}=beans;var cellCtrl=_getCellCtrl(beans,position);var rowIndex=(_position$rowNode$row=(_position$rowNode=position.rowNode)===null||_position$rowNode===void 0?void 0:_position$rowNode.rowIndex)!==null&&_position$rowNode$row!==void 0?_position$rowNode$row:void 0;var batchEdit=editSvc===null||editSvc===void 0?void 0:editSvc.isBatchEditing();var agColumn=beans.colModel.getCol(position.column.getId());var{rowNode,column}=position;var initialNewValue=(_editSvc$getCellDataV=editSvc===null||editSvc===void 0?void 0:editSvc.getCellDataValue(position))!==null&&_editSvc$getCellDataV!==void 0?_editSvc$getCellDataV:(_valueFromEditor2=_valueFromEditor(false,cellCtrl===null||cellCtrl===void 0?void 0:cellCtrl.comp))===null||_valueFromEditor2===void 0?void 0:_valueFromEditor2.newValue;var value=initialNewValue===UNEDITED?(_valueSvc$getValueFor2=valueSvc.getValueForDisplay(agColumn,rowNode))===null||_valueSvc$getValueFor2===void 0?void 0:_valueSvc$getValueFor2.value:initialNewValue;return _addGridCommonParams(gos,{value,eventKey:key!==null&&key!==void 0?key:null,column,colDef:column.getColDef(),rowIndex,node:rowNode,data:rowNode.data,cellStartedEdit:cellStartedEdit!==null&&cellStartedEdit!==void 0?cellStartedEdit:false,onKeyDown:cellCtrl===null||cellCtrl===void 0?void 0:cellCtrl.onKeyDown.bind(cellCtrl),stopEditing:suppressNavigateAfterEdit=>{editSvc.stopEditing(position,{source:batchEdit?\"ui\":\"api\",suppressNavigateAfterEdit});_destroyEditor(beans,position);},eGridCell:cellCtrl===null||cellCtrl===void 0?void 0:cellCtrl.eGui,parseValue:newValue=>valueSvc.parseValue(agColumn,rowNode,newValue,cellCtrl===null||cellCtrl===void 0?void 0:cellCtrl.value),formatValue:cellCtrl===null||cellCtrl===void 0?void 0:cellCtrl.formatValue.bind(cellCtrl),validate:()=>{editSvc===null||editSvc===void 0||editSvc.validateEdit();}});}function _purgeUnchangedEdits(beans,includeEditing){var{editModelSvc}=beans;editModelSvc===null||editModelSvc===void 0||editModelSvc.getEditMap().forEach((editRow,rowNode)=>{editRow.forEach((edit,column)=>{if(!includeEditing&&(edit.state===\"editing\"||edit.newValue===UNEDITED)){return;}if(!_valuesDiffer(edit)&&(edit.state!==\"editing\"||includeEditing)){editModelSvc===null||editModelSvc===void 0||editModelSvc.removeEdits({rowNode,column});}});});}function _refreshEditorOnColDefChanged(beans,cellCtrl){var _cellCtrl$comp3;var editor=(_cellCtrl$comp3=cellCtrl.comp)===null||_cellCtrl$comp3===void 0?void 0:_cellCtrl$comp3.getCellEditor();if(!(editor!==null&&editor!==void 0&&editor.refresh)){return;}var{eventKey,cellStartedEdit}=cellCtrl.editCompDetails.params;var{column}=cellCtrl;var editorParams=_createEditorParams(beans,cellCtrl,eventKey,cellStartedEdit);var colDef=column.getColDef();var compDetails=_getCellEditorDetails(beans.userCompFactory,colDef,editorParams);editor.refresh(checkAndPreventDefault(compDetails.params,eventKey));}function checkAndPreventDefault(params,event){if(event instanceof KeyboardEvent&&params.column.getColDef().cellEditor===\"agNumberCellEditor\"){var _event$key;params.suppressPreventDefault=[\"-\",\"+\",\".\",\"e\"].includes((_event$key=event===null||event===void 0?void 0:event.key)!==null&&_event$key!==void 0?_event$key:\"\")||params.suppressPreventDefault;}else{var _event$preventDefault;event===null||event===void 0||(_event$preventDefault=event.preventDefault)===null||_event$preventDefault===void 0||_event$preventDefault.call(event);}return params;}function _syncFromEditors(beans,params){var _beans$editModelSvc3;(_beans$editModelSvc3=beans.editModelSvc)===null||_beans$editModelSvc3===void 0||_beans$editModelSvc3.getEditPositions().forEach(cellId=>{var cellCtrl=_getCellCtrl(beans,cellId);if(!cellCtrl){return;}var{newValue,newValueExists}=_valueFromEditor(false,cellCtrl.comp);if(!newValueExists){return;}_syncFromEditor(beans,cellId,newValue,void 0,params);});}function _syncFromEditor(beans,position,newValue,_source,params){var _editModelSvc$getEdit,_editModelSvc$getEdit2,_cellCtrl$comp4,_beans$editSvc2;var{editModelSvc,valueSvc}=beans;if(!editModelSvc){return;}var{rowNode,column}=position;if(!(rowNode&&column)){return;}var oldValue=(_editModelSvc$getEdit=(_editModelSvc$getEdit2=editModelSvc.getEdit(position))===null||_editModelSvc$getEdit2===void 0?void 0:_editModelSvc$getEdit2.oldValue)!==null&&_editModelSvc$getEdit!==void 0?_editModelSvc$getEdit:valueSvc.getValue(column,rowNode,void 0,\"api\");var cellCtrl=_getCellCtrl(beans,position);var hasEditor=!!(cellCtrl!==null&&cellCtrl!==void 0&&(_cellCtrl$comp4=cellCtrl.comp)!==null&&_cellCtrl$comp4!==void 0&&_cellCtrl$comp4.getCellEditor());if(newValue===void 0){newValue=UNEDITED;}editModelSvc.setEdit(position,{newValue,oldValue,state:hasEditor?\"editing\":\"changed\"});var{value}=valueSvc.getValueForDisplay(column,rowNode,true);newValue=value;editModelSvc.setEdit(position,{newValue});if(newValue===oldValue||hasEditor){return;}var edit=editModelSvc.getEdit(position);(_beans$editSvc2=beans.editSvc)===null||_beans$editSvc2===void 0||_beans$editSvc2.dispatchCellEvent(position,params===null||params===void 0?void 0:params.event,\"cellValueChanged\",{valueChanged:edit&&_valuesDiffer(edit),newValue:edit===null||edit===void 0?void 0:edit.newValue,oldValue:edit===null||edit===void 0?void 0:edit.oldValue});}function _destroyEditors(beans,edits,params){if(!edits){var _beans$editModelSvc4;edits=(_beans$editModelSvc4=beans.editModelSvc)===null||_beans$editModelSvc4===void 0?void 0:_beans$editModelSvc4.getEditPositions();}edits.forEach(cellPosition=>_destroyEditor(beans,cellPosition,params));}function _destroyEditor(beans,position,params){var _comp$getCellEditor,_comp$getCellEditor$g,_editModelSvc$getEdit3;var{editSvc,editModelSvc}=beans;var{rowNode,column}=position;var cellCtrl=_getCellCtrl(beans,position);if(!cellCtrl){if(editModelSvc!==null&&editModelSvc!==void 0&&editModelSvc.hasEdits(position)&&rowNode&&column){editModelSvc===null||editModelSvc===void 0||editModelSvc.setState(position,\"changed\");}return;}var{comp}=cellCtrl;if(comp&&!comp.getCellEditor()){return;}var errorMessages=comp===null||comp===void 0||(_comp$getCellEditor=comp.getCellEditor())===null||_comp$getCellEditor===void 0||(_comp$getCellEditor$g=_comp$getCellEditor.getValidationErrors)===null||_comp$getCellEditor$g===void 0?void 0:_comp$getCellEditor$g.call(_comp$getCellEditor);var cellValidationModel=editModelSvc===null||editModelSvc===void 0?void 0:editModelSvc.getCellValidationModel();if(errorMessages!==null&&errorMessages!==void 0&&errorMessages.length){cellValidationModel===null||cellValidationModel===void 0||cellValidationModel.setCellValidation(position,{errorMessages});}else{cellValidationModel===null||cellValidationModel===void 0||cellValidationModel.clearCellValidation(position);}var wasEditing=(editModelSvc===null||editModelSvc===void 0||(_editModelSvc$getEdit3=editModelSvc.getEdit(position))===null||_editModelSvc$getEdit3===void 0?void 0:_editModelSvc$getEdit3.state)===\"editing\";if(editModelSvc!==null&&editModelSvc!==void 0&&editModelSvc.hasEdits(position)&&rowNode&&column){editModelSvc===null||editModelSvc===void 0||editModelSvc.setState(position,\"changed\");}comp===null||comp===void 0||comp.setEditDetails();comp===null||comp===void 0||comp.refreshEditStyles(false,false);cellCtrl===null||cellCtrl===void 0||cellCtrl.refreshCell({force:true,suppressFlash:true});var edit=editModelSvc===null||editModelSvc===void 0?void 0:editModelSvc.getEdit(position);if(wasEditing&&(edit===null||edit===void 0?void 0:edit.state)===\"changed\"&&!(params!==null&&params!==void 0&&params.silent)){editSvc===null||editSvc===void 0||editSvc.dispatchCellEvent(position,params===null||params===void 0?void 0:params.event,\"cellEditingStopped\",{valueChanged:edit&&_valuesDiffer(edit),newValue:edit===null||edit===void 0?void 0:edit.newValue,oldValue:edit===null||edit===void 0?void 0:edit.oldValue});}}function _populateModelValidationErrors(beans){var mappedEditors=getCellEditorInstanceMap(beans);var cellValidationModel=new EditCellValidationModel();var{ariaAnnounce,localeSvc,editModelSvc,gos}=beans;var includeRows=gos.get(\"editType\")===\"fullRow\";var translate=_getLocaleTextFunc(localeSvc);var ariaValidationErrorPrefix=translate(\"ariaValidationErrorPrefix\",\"Cell Editor Validation\");for(var mappedEditor of mappedEditors){var _editor$getValidation,_editor$getValidation2,_editor$getValidation3;var{ctrl,editor}=mappedEditor;var{rowNode,column}=ctrl;var errorMessages=(_editor$getValidation=(_editor$getValidation2=editor.getValidationErrors)===null||_editor$getValidation2===void 0?void 0:_editor$getValidation2.call(editor))!==null&&_editor$getValidation!==void 0?_editor$getValidation:[];var el=(_editor$getValidation3=editor.getValidationElement)===null||_editor$getValidation3===void 0?void 0:_editor$getValidation3.call(editor);if(el){var isInvalid=errorMessages!=null&&errorMessages.length>0;var invalidMessage=isInvalid?errorMessages.join(\". \"):\"\";_setAriaInvalid(el,isInvalid);if(isInvalid){ariaAnnounce.announceValue(\"\".concat(ariaValidationErrorPrefix,\" \").concat(errorMessages),\"editorValidation\");}if(el instanceof HTMLInputElement){el.setCustomValidity(invalidMessage);}else{el.classList.toggle(\"invalid\",isInvalid);}}if((errorMessages===null||errorMessages===void 0?void 0:errorMessages.length)>0){cellValidationModel.setCellValidation({rowNode,column},{errorMessages});}}_syncFromEditors(beans);editModelSvc===null||editModelSvc===void 0||editModelSvc.setCellValidationModel(cellValidationModel);var rowCtrlSet=/* @__PURE__ */new Set();for(var{ctrl:_ctrl}of mappedEditors){rowCtrlSet.add(_ctrl.rowCtrl);}if(includeRows){var rowValidations=_generateRowValidationErrors(beans);editModelSvc===null||editModelSvc===void 0||editModelSvc.setRowValidationModel(rowValidations);}for(var rowCtrl of rowCtrlSet.values()){var _rowCtrl$rowEditStyle;(_rowCtrl$rowEditStyle=rowCtrl.rowEditStyleFeature)===null||_rowCtrl$rowEditStyle===void 0||_rowCtrl$rowEditStyle.applyRowStyles();for(var cellCtrl of rowCtrl.getAllCellCtrls()){var _cellCtrl$tooltipFeat,_cellCtrl$editorToolt,_cellCtrl$editStyleFe,_cellCtrl$editStyleFe2;(_cellCtrl$tooltipFeat=cellCtrl.tooltipFeature)===null||_cellCtrl$tooltipFeat===void 0||_cellCtrl$tooltipFeat.refreshTooltip(true);(_cellCtrl$editorToolt=cellCtrl.editorTooltipFeature)===null||_cellCtrl$editorToolt===void 0||_cellCtrl$editorToolt.refreshTooltip(true);(_cellCtrl$editStyleFe=cellCtrl.editStyleFeature)===null||_cellCtrl$editStyleFe===void 0||(_cellCtrl$editStyleFe2=_cellCtrl$editStyleFe.applyCellStyles)===null||_cellCtrl$editStyleFe2===void 0||_cellCtrl$editStyleFe2.call(_cellCtrl$editStyleFe);}}}var _generateRowValidationErrors=beans=>{var _beans$editModelSvc5;var rowValidationModel=new EditRowValidationModel();var getFullRowEditValidationErrors=beans.gos.get(\"getFullRowEditValidationErrors\");var editMap=(_beans$editModelSvc5=beans.editModelSvc)===null||_beans$editModelSvc5===void 0?void 0:_beans$editModelSvc5.getEditMap();if(!editMap){return rowValidationModel;}for(var rowNode of editMap.keys()){var _getFullRowEditValida;var rowEditMap=editMap.get(rowNode);if(!rowEditMap){continue;}var editorsState=[];var{rowIndex,rowPinned}=rowNode;for(var column of rowEditMap.keys()){var editValue=rowEditMap.get(column);if(!editValue){continue;}editorsState.push(_objectSpread(_objectSpread({column,colId:column.getColId(),rowIndex,rowPinned},editValue),{},{// don't expose this implementation detail\nnewValue:editValue.newValue===UNEDITED?void 0:editValue.newValue}));}var errorMessages=(_getFullRowEditValida=getFullRowEditValidationErrors===null||getFullRowEditValidationErrors===void 0?void 0:getFullRowEditValidationErrors({editorsState}))!==null&&_getFullRowEditValida!==void 0?_getFullRowEditValida:[];if(errorMessages.length>0){rowValidationModel.setRowValidation({rowNode},{errorMessages});}}return rowValidationModel;};function _validateEdit(beans){var _beans$editModelSvc6;_populateModelValidationErrors(beans);var map=(_beans$editModelSvc6=beans.editModelSvc)===null||_beans$editModelSvc6===void 0?void 0:_beans$editModelSvc6.getCellValidationModel().getCellValidationMap();if(!map){return null;}var validations=[];map.forEach((rowValidations,rowNode)=>{rowValidations.forEach((_ref14,column)=>{var{errorMessages}=_ref14;validations.push({column,rowIndex:rowNode.rowIndex,rowPinned:rowNode.rowPinned,messages:errorMessages!==null&&errorMessages!==void 0?errorMessages:null});});});return validations;}// packages/ag-grid-community/src/headerRendering/cells/cssClassApplier.ts\nvar CSS_FIRST_COLUMN=\"ag-column-first\";var CSS_LAST_COLUMN=\"ag-column-last\";function _getHeaderClassesFromColDef(abstractColDef,gos,column,columnGroup){if(_missing(abstractColDef)){return[];}return getColumnClassesFromCollDef(abstractColDef.headerClass,abstractColDef,gos,column,columnGroup);}function _getToolPanelClassesFromColDef(abstractColDef,gos,column,columnGroup){if(_missing(abstractColDef)){return[];}return getColumnClassesFromCollDef(abstractColDef.toolPanelClass,abstractColDef,gos,column,columnGroup);}function refreshFirstAndLastStyles(comp,column,presentedColsService){comp.toggleCss(CSS_FIRST_COLUMN,presentedColsService.isColAtEdge(column,\"first\"));comp.toggleCss(CSS_LAST_COLUMN,presentedColsService.isColAtEdge(column,\"last\"));}function getClassParams(abstractColDef,gos,column,columnGroup){return _addGridCommonParams(gos,{// bad naming, as colDef here can be a group or a column,\n// however most people won't appreciate the difference,\n// so keeping it as colDef to avoid confusion.\ncolDef:abstractColDef,column,columnGroup});}function getColumnClassesFromCollDef(classesOrFunc,abstractColDef,gos,column,columnGroup){if(_missing(classesOrFunc)){return[];}var classToUse;if(typeof classesOrFunc===\"function\"){var params=getClassParams(abstractColDef,gos,column,columnGroup);classToUse=classesOrFunc(params);}else{classToUse=classesOrFunc;}if(typeof classToUse===\"string\"){return[classToUse];}if(Array.isArray(classToUse)){return[...classToUse];}return[];}// packages/ag-grid-community/src/pinnedRowModel/pinnedRowUtils.ts\nfunction _isManualPinnedRow(rowNode){return!!(rowNode.rowPinned&&rowNode.pinnedSibling);}function _getNodesInRangeForSelection(rowModel,float,start,end){var isTop=float===\"top\";if(!start){return _getNodesInRangeForSelection(rowModel,float,isTop?rowModel.getPinnedTopRow(0):rowModel.getPinnedBottomRow(0),end);}if(!end){var count=isTop?rowModel.getPinnedTopRowCount():rowModel.getPinnedBottomRowCount();return _getNodesInRangeForSelection(rowModel,float,start,isTop?rowModel.getPinnedTopRow(count-1):rowModel.getPinnedBottomRow(count-1));}var started=false;var finished=false;var range=[];rowModel.forEachPinnedRow(float,node=>{if(node===start&&!started){started=true;range.push(node);return;}if(started&&node===end){finished=true;range.push(node);return;}if(started&&!finished){range.push(node);}});return range;}// packages/ag-grid-community/src/constants/keyCode.ts\nvar KeyCode={BACKSPACE:\"Backspace\",TAB:\"Tab\",ENTER:\"Enter\",ESCAPE:\"Escape\",SPACE:\" \",LEFT:\"ArrowLeft\",UP:\"ArrowUp\",RIGHT:\"ArrowRight\",DOWN:\"ArrowDown\",DELETE:\"Delete\",F2:\"F2\",PAGE_UP:\"PageUp\",PAGE_DOWN:\"PageDown\",PAGE_HOME:\"Home\",PAGE_END:\"End\",// these should be used with `event.code` instead of `event.key`\n// as `event.key` changes when non-latin keyboards are used\nA:\"KeyA\",C:\"KeyC\",D:\"KeyD\",V:\"KeyV\",X:\"KeyX\",Y:\"KeyY\",Z:\"KeyZ\"};// packages/ag-grid-community/src/utils/focus.ts\nvar keyboardModeActive=false;var instanceCount=0;function addKeyboardModeEvents(doc){if(instanceCount>0){return;}doc.addEventListener(\"keydown\",toggleKeyboardMode);doc.addEventListener(\"mousedown\",toggleKeyboardMode);}function removeKeyboardModeEvents(doc){if(instanceCount>0)return;doc.removeEventListener(\"keydown\",toggleKeyboardMode);doc.removeEventListener(\"mousedown\",toggleKeyboardMode);}function toggleKeyboardMode(event){var isKeyboardActive=keyboardModeActive;var isKeyboardEvent=event.type===\"keydown\";if(isKeyboardEvent){if(event.ctrlKey||event.metaKey||event.altKey){return;}}if(isKeyboardActive===isKeyboardEvent){return;}keyboardModeActive=isKeyboardEvent;}function _registerKeyboardFocusEvents(beans){var eDocument=_getDocument(beans);addKeyboardModeEvents(eDocument);instanceCount++;return()=>{instanceCount--;removeKeyboardModeEvents(eDocument);};}function _isKeyboardMode(){return keyboardModeActive;}function _addFocusableContainerListener(beans,comp,eGui){comp.addManagedElementListeners(eGui,{keydown:e=>{if(!e.defaultPrevented&&e.key===KeyCode.TAB){var backwards=e.shiftKey;if(!_findNextFocusableElement(beans,eGui,false,backwards)){if(_focusNextGridCoreContainer(beans,backwards)){e.preventDefault();}}}}});}function _findFocusableElements(rootNode,exclude){var onlyUnmanaged=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var focusableString=FOCUSABLE_SELECTOR;var excludeString=FOCUSABLE_EXCLUDE;if(exclude){excludeString+=\", \"+exclude;}if(onlyUnmanaged){excludeString+=', [tabindex=\"-1\"]';}var nodes=Array.prototype.slice.apply(rootNode.querySelectorAll(focusableString)).filter(node=>{return _isVisible(node);});var excludeNodes=Array.prototype.slice.apply(rootNode.querySelectorAll(excludeString));if(!excludeNodes.length){return nodes;}var diff=(a,b)=>a.filter(element=>b.indexOf(element)===-1);return diff(nodes,excludeNodes);}function _focusInto(rootNode){var up=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var onlyUnmanaged=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var excludeTabGuards=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var focusableElements=_findFocusableElements(rootNode,excludeTabGuards?\".ag-tab-guard\":null,onlyUnmanaged);var toFocus=up?_last(focusableElements):focusableElements[0];if(toFocus){toFocus.focus({preventScroll:true});return true;}return false;}function _findNextFocusableElement(beans,rootNode,onlyManaged,backwards){var focusable=_findFocusableElements(rootNode,onlyManaged?':not([tabindex=\"-1\"])':null);var activeEl=_getActiveDomElement(beans);var currentIndex;if(onlyManaged){currentIndex=focusable.findIndex(el=>el.contains(activeEl));}else{currentIndex=focusable.indexOf(activeEl);}var nextIndex=currentIndex+(backwards?-1:1);if(nextIndex<0||nextIndex>=focusable.length){return null;}return focusable[nextIndex];}function _findTabbableParent(node){var limit=arguments.length>1&&arguments[1]!==undefined?arguments[1]:5;var counter=0;while(node&&_getTabIndex(node)===null&&++counter<=limit){node=node.parentElement;}if(_getTabIndex(node)===null){return null;}return node;}function _focusGridInnerElement(beans,fromBottom){return beans.ctrlsSvc.get(\"gridCtrl\").focusInnerElement(fromBottom);}function _isHeaderFocusSuppressed(beans){var _beans$overlays;return beans.gos.get(\"suppressHeaderFocus\")||!!((_beans$overlays=beans.overlays)!==null&&_beans$overlays!==void 0&&_beans$overlays.isExclusive());}function _isCellFocusSuppressed(beans){var _beans$overlays2;return beans.gos.get(\"suppressCellFocus\")||!!((_beans$overlays2=beans.overlays)!==null&&_beans$overlays2!==void 0&&_beans$overlays2.isExclusive());}function _focusNextGridCoreContainer(beans,backwards){var forceOut=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var gridCtrl=beans.ctrlsSvc.get(\"gridCtrl\");if(!forceOut&&gridCtrl.focusNextInnerContainer(backwards)){return true;}if(forceOut||!backwards&&!gridCtrl.isDetailGrid()){gridCtrl.forceFocusOutOfContainer(backwards);}return false;}// packages/ag-grid-community/src/rendering/cell/cellEvent.ts\nfunction _createCellEvent(beans,domEvent,eventType,_ref15,value){var{rowNode,column}=_ref15;var event=_addGridCommonParams(beans.gos,{type:eventType,node:rowNode,data:rowNode.data,value,column,colDef:column.getColDef(),rowPinned:rowNode.rowPinned,event:domEvent,rowIndex:rowNode.rowIndex});return event;}// packages/ag-grid-community/src/rendering/cell/cellKeyboardListenerFeature.ts\nfunction _isDeleteKey(key){var alwaysReturnFalseOnBackspace=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(key===KeyCode.DELETE){return true;}if(!alwaysReturnFalseOnBackspace&&key===KeyCode.BACKSPACE){return _isMacOsUserAgent();}return false;}var CellKeyboardListenerFeature=class extends BeanStub{constructor(cellCtrl,beans,rowNode,rowCtrl){super();this.cellCtrl=cellCtrl;this.rowNode=rowNode;this.rowCtrl=rowCtrl;this.beans=beans;}init(){this.eGui=this.cellCtrl.eGui;}onKeyDown(event){var key=event.key;switch(key){case KeyCode.ENTER:this.onEnterKeyDown(event);break;case KeyCode.F2:this.onF2KeyDown(event);break;case KeyCode.ESCAPE:this.onEscapeKeyDown(event);break;case KeyCode.TAB:this.onTabKeyDown(event);break;case KeyCode.BACKSPACE:case KeyCode.DELETE:this.onBackspaceOrDeleteKeyDown(key,event);break;case KeyCode.DOWN:case KeyCode.UP:case KeyCode.RIGHT:case KeyCode.LEFT:this.onNavigationKeyDown(event,key);break;}}onNavigationKeyDown(event,key){var _beans$editSvc3;var{cellCtrl,beans}=this;if((_beans$editSvc3=beans.editSvc)!==null&&_beans$editSvc3!==void 0&&_beans$editSvc3.isEditing(cellCtrl,{withOpenEditor:true})){return;}if(event.shiftKey&&cellCtrl.isRangeSelectionEnabled()){this.onShiftRangeSelect(event);}else{var _beans$navigation;var currentCellPosition=cellCtrl.getFocusedCellPosition();(_beans$navigation=beans.navigation)===null||_beans$navigation===void 0||_beans$navigation.navigateToNextCell(event,key,currentCellPosition,true);}event.preventDefault();}onShiftRangeSelect(event){var{rangeSvc,navigation}=this.beans;if(!rangeSvc){return;}var endCell=rangeSvc.extendLatestRangeInDirection(event);if(endCell){navigation===null||navigation===void 0||navigation.ensureCellVisible(endCell);}}onTabKeyDown(event){var _this$beans$navigatio;(_this$beans$navigatio=this.beans.navigation)===null||_this$beans$navigatio===void 0||_this$beans$navigatio.onTabKeyDown(this.cellCtrl,event);}onBackspaceOrDeleteKeyDown(key,event){var{cellCtrl,beans,rowNode}=this;var{gos,rangeSvc,eventSvc,editSvc}=beans;eventSvc.dispatchEvent({type:\"keyShortcutChangedCellStart\"});if(_isDeleteKey(key,gos.get(\"enableCellEditingOnBackspace\"))&&!(editSvc!==null&&editSvc!==void 0&&editSvc.isEditing(cellCtrl,{withOpenEditor:true}))){if(rangeSvc&&_isCellSelectionEnabled(gos)){rangeSvc.clearCellRangeCellValues({dispatchWrapperEvents:true,wrapperEventSource:\"deleteKey\"});}else if(cellCtrl.isCellEditable()){var{column}=cellCtrl;var emptyValue=this.beans.valueSvc.getDeleteValue(column,rowNode);rowNode.setDataValue(column,emptyValue,\"cellClear\");}}else if(!(editSvc!==null&&editSvc!==void 0&&editSvc.isEditing(cellCtrl,{withOpenEditor:true}))){var _beans$editSvc4;(_beans$editSvc4=beans.editSvc)===null||_beans$editSvc4===void 0||_beans$editSvc4.startEditing(cellCtrl,{startedEdit:true,event});}eventSvc.dispatchEvent({type:\"keyShortcutChangedCellEnd\"});}onEnterKeyDown(event){var{cellCtrl,beans}=this;var{editSvc,navigation}=beans;var cellEditing=editSvc===null||editSvc===void 0?void 0:editSvc.isEditing(cellCtrl);var rowNode=cellCtrl.rowNode;var rowEditing=editSvc===null||editSvc===void 0?void 0:editSvc.isRowEditing(rowNode);var startEditingAction=cellCtrl2=>{var started=editSvc===null||editSvc===void 0?void 0:editSvc.startEditing(cellCtrl2,{startedEdit:true,event});if(started){event.preventDefault();}};if(cellEditing||rowEditing){if(this.isCtrlEnter(event)){var _beans$rangeSvc;editSvc===null||editSvc===void 0||editSvc.applyBulkEdit(cellCtrl,(beans===null||beans===void 0||(_beans$rangeSvc=beans.rangeSvc)===null||_beans$rangeSvc===void 0?void 0:_beans$rangeSvc.getCellRanges())||[]);return;}_populateModelValidationErrors(beans);if((editSvc===null||editSvc===void 0?void 0:editSvc.checkNavWithValidation(cellCtrl,event))===\"block-stop\"){return;}if(editSvc!==null&&editSvc!==void 0&&editSvc.isEditing(cellCtrl,{withOpenEditor:true})){editSvc===null||editSvc===void 0||editSvc.stopEditing(cellCtrl,{event});}else if(rowEditing&&!cellCtrl.isCellEditable()){editSvc===null||editSvc===void 0||editSvc.stopEditing({rowNode},{event});}else{startEditingAction(cellCtrl);}}else{if(beans.gos.get(\"enterNavigatesVertically\")){var key=event.shiftKey?KeyCode.UP:KeyCode.DOWN;navigation===null||navigation===void 0||navigation.navigateToNextCell(null,key,cellCtrl.cellPosition,false);}else{if(editSvc!==null&&editSvc!==void 0&&editSvc.hasValidationErrors()){return;}if(editSvc!==null&&editSvc!==void 0&&editSvc.hasValidationErrors(cellCtrl)){editSvc.revertSingleCellEdit(cellCtrl,true);}startEditingAction(cellCtrl);}}}isCtrlEnter(e){return(e.ctrlKey||e.metaKey)&&e.key===KeyCode.ENTER;}onF2KeyDown(event){var{cellCtrl,beans:{editSvc}}=this;var editing=editSvc===null||editSvc===void 0?void 0:editSvc.isEditing();if(editing){_populateModelValidationErrors(this.beans);if((editSvc===null||editSvc===void 0?void 0:editSvc.checkNavWithValidation(void 0,event))===\"block-stop\"){return;}}editSvc===null||editSvc===void 0||editSvc.startEditing(cellCtrl,{startedEdit:true,event});}onEscapeKeyDown(event){var{cellCtrl,beans:{editSvc}}=this;if((editSvc===null||editSvc===void 0?void 0:editSvc.checkNavWithValidation(cellCtrl,event))===\"block-stop\"){editSvc.revertSingleCellEdit(cellCtrl);}editSvc===null||editSvc===void 0||editSvc.stopEditing(cellCtrl,{event,cancel:true});}processCharacter(event){var eventTarget=event.target;var eventOnChildComponent=eventTarget!==this.eGui;var{beans:{editSvc},cellCtrl}=this;if(eventOnChildComponent){return;}if(editSvc!==null&&editSvc!==void 0&&editSvc.isEditing(cellCtrl,{withOpenEditor:true})){return;}var key=event.key;if(key===KeyCode.SPACE){this.onSpaceKeyDown(event);}else if(editSvc!==null&&editSvc!==void 0&&editSvc.isCellEditable(cellCtrl,\"ui\")){var _compDetails$params;if(editSvc!==null&&editSvc!==void 0&&editSvc.hasValidationErrors()&&!(editSvc!==null&&editSvc!==void 0&&editSvc.hasValidationErrors(cellCtrl))){return;}editSvc===null||editSvc===void 0||editSvc.startEditing(cellCtrl,{startedEdit:true,event,source:\"api\"});var compDetails=cellCtrl.editCompDetails;var shouldPreventDefault=!(compDetails!==null&&compDetails!==void 0&&(_compDetails$params=compDetails.params)!==null&&_compDetails$params!==void 0&&_compDetails$params.suppressPreventDefault);if(shouldPreventDefault){event.preventDefault();}}}onSpaceKeyDown(event){var{gos,editSvc}=this.beans;var{rowNode}=this.cellCtrl;if(!(editSvc!==null&&editSvc!==void 0&&editSvc.isEditing(this.cellCtrl,{withOpenEditor:true}))&&_isRowSelection(gos)){var _this$beans$selection4;(_this$beans$selection4=this.beans.selectionSvc)===null||_this$beans$selection4===void 0||_this$beans$selection4.handleSelectionEvent(event,rowNode,\"spaceKey\");}event.preventDefault();}};// packages/ag-grid-community/src/utils/mouse.ts\nfunction _areEventsNear(e1,e2,pixelCount){if(pixelCount===0){return false;}var diffX=Math.abs(e1.clientX-e2.clientX);var diffY=Math.abs(e1.clientY-e2.clientY);return Math.max(diffX,diffY)<=pixelCount;}function _interpretAsRightClick(_ref16,event){var{gos}=_ref16;return event.button===2||event.ctrlKey&&gos.get(\"allowContextMenuWithControlKey\");}// packages/ag-grid-community/src/rendering/cell/cellMouseListenerFeature.ts\nvar CellMouseListenerFeature=class extends BeanStub{constructor(cellCtrl,beans,column){super();this.cellCtrl=cellCtrl;this.column=column;this.beans=beans;}onMouseEvent(eventName,mouseEvent){if(_isStopPropagationForAgGrid(mouseEvent)){return;}switch(eventName){case\"click\":this.onCellClicked(mouseEvent);break;case\"mousedown\":case\"touchstart\":this.onMouseDown(mouseEvent);break;case\"dblclick\":this.onCellDoubleClicked(mouseEvent);break;case\"mouseout\":this.onMouseOut(mouseEvent);break;case\"mouseover\":this.onMouseOver(mouseEvent);break;}}onCellClicked(event){var _this$beans$touchSvc;if((_this$beans$touchSvc=this.beans.touchSvc)!==null&&_this$beans$touchSvc!==void 0&&_this$beans$touchSvc.handleCellDoubleClick(this,event)){return;}var{eventSvc,rangeSvc,editSvc,editModelSvc,frameworkOverrides}=this.beans;var isMultiKey=event.ctrlKey||event.metaKey;var{cellCtrl}=this;var{column,cellPosition}=cellCtrl;if(rangeSvc&&isMultiKey){if(rangeSvc.getCellRangeCount(cellPosition)>1){rangeSvc.intersectLastRange(true);}}var cellClickedEvent=cellCtrl.createEvent(event,\"cellClicked\");eventSvc.dispatchEvent(cellClickedEvent);var colDef=column.getColDef();if(colDef.onCellClicked){window.setTimeout(()=>{frameworkOverrides.wrapOutgoing(()=>{colDef.onCellClicked(cellClickedEvent);});},0);}if((editModelSvc===null||editModelSvc===void 0?void 0:editModelSvc.getState(cellCtrl))!==\"editing\"){var _editModelSvc$getCell,_editModelSvc$getRowV;var editing=editSvc===null||editSvc===void 0?void 0:editSvc.isEditing();var cellValidations=(_editModelSvc$getCell=editModelSvc===null||editModelSvc===void 0?void 0:editModelSvc.getCellValidationModel().getCellValidationMap().size)!==null&&_editModelSvc$getCell!==void 0?_editModelSvc$getCell:0;var rowValidations=(_editModelSvc$getRowV=editModelSvc===null||editModelSvc===void 0?void 0:editModelSvc.getRowValidationModel().getRowValidationMap().size)!==null&&_editModelSvc$getRowV!==void 0?_editModelSvc$getRowV:0;if(editing&&(cellValidations>0||rowValidations>0)){return;}if(editSvc!==null&&editSvc!==void 0&&editSvc.shouldStartEditing(cellCtrl,event)){editSvc===null||editSvc===void 0||editSvc.startEditing(cellCtrl,{event});}else if(editSvc!==null&&editSvc!==void 0&&editSvc.shouldStopEditing(cellCtrl,event)){editSvc===null||editSvc===void 0||editSvc.stopEditing(cellCtrl);}}}onCellDoubleClicked(event){var _this$beans$editModel;var{column,beans,cellCtrl}=this;var{eventSvc,frameworkOverrides,editSvc,editModelSvc}=beans;var colDef=column.getColDef();var cellDoubleClickedEvent=cellCtrl.createEvent(event,\"cellDoubleClicked\");eventSvc.dispatchEvent(cellDoubleClickedEvent);if(typeof colDef.onCellDoubleClicked===\"function\"){window.setTimeout(()=>{frameworkOverrides.wrapOutgoing(()=>{colDef.onCellDoubleClicked(cellDoubleClickedEvent);});},0);}if(editSvc!==null&&editSvc!==void 0&&editSvc.shouldStartEditing(this.cellCtrl,event)&&((_this$beans$editModel=this.beans.editModelSvc)===null||_this$beans$editModel===void 0?void 0:_this$beans$editModel.getState(this.cellCtrl))!==\"editing\"){var _editModelSvc$getCell2,_editModelSvc$getRowV2;var editing=editSvc===null||editSvc===void 0?void 0:editSvc.isEditing();var cellValidations=(_editModelSvc$getCell2=editModelSvc===null||editModelSvc===void 0?void 0:editModelSvc.getCellValidationModel().getCellValidationMap().size)!==null&&_editModelSvc$getCell2!==void 0?_editModelSvc$getCell2:0;var rowValidations=(_editModelSvc$getRowV2=editModelSvc===null||editModelSvc===void 0?void 0:editModelSvc.getRowValidationModel().getRowValidationMap().size)!==null&&_editModelSvc$getRowV2!==void 0?_editModelSvc$getRowV2:0;if(editing&&(cellValidations>0||rowValidations>0)){return;}editSvc===null||editSvc===void 0||editSvc.startEditing(cellCtrl,{event});}}onMouseDown(mouseEvent){var{ctrlKey,metaKey,shiftKey}=mouseEvent;var target=mouseEvent.target;var{cellCtrl,beans}=this;var{eventSvc,rangeSvc,rowNumbersSvc,focusSvc,gos,editSvc}=beans;if(this.isRightClickInExistingRange(mouseEvent)){return;}var hasRanges=rangeSvc&&!rangeSvc.isEmpty();var containsWidget=this.containsWidget(target);var{cellPosition,column}=cellCtrl;var isRowNumberColumn=isRowNumberCol(column);if(rowNumbersSvc&&isRowNumberColumn&&!rowNumbersSvc.handleMouseDownOnCell(cellPosition,mouseEvent)){if(rangeSvc){mouseEvent.preventDefault();}mouseEvent.stopImmediatePropagation();return;}if(!shiftKey||!hasRanges){var editing=editSvc===null||editSvc===void 0?void 0:editSvc.isEditing(cellCtrl);var isEnableCellTextSelection=gos.get(\"enableCellTextSelection\");var shouldFocus=isEnableCellTextSelection&&mouseEvent.defaultPrevented;var forceBrowserFocus=(_isBrowserSafari()||shouldFocus)&&!editing&&!_isFocusableFormField(target)&&!containsWidget;cellCtrl.focusCell(forceBrowserFocus,mouseEvent);}if(shiftKey&&hasRanges&&!focusSvc.isCellFocused(cellPosition)){mouseEvent.preventDefault();var focusedCell=focusSvc.getFocusedCell();if(focusedCell){var{column:column2,rowIndex,rowPinned}=focusedCell;if(editSvc!==null&&editSvc!==void 0&&editSvc.isEditing(focusedCell)){editSvc===null||editSvc===void 0||editSvc.stopEditing(focusedCell);}focusSvc.setFocusedCell({column:column2,rowIndex,rowPinned,forceBrowserFocus:true,preventScrollOnBrowserFocus:true,sourceEvent:mouseEvent});}}if(containsWidget){return;}if(rangeSvc){if(isRowNumberColumn){mouseEvent.preventDefault();}var hasRightClickedOnRowNumber=_interpretAsRightClick(this.beans,mouseEvent)&&isRowNumberColumn;if(shiftKey){rangeSvc.extendLatestRangeToCell(cellPosition);}else if(!hasRightClickedOnRowNumber){var isMultiKey=ctrlKey||metaKey;rangeSvc.setRangeToCell(cellPosition,isMultiKey);}}eventSvc.dispatchEvent(this.cellCtrl.createEvent(mouseEvent,\"cellMouseDown\"));}isRightClickInExistingRange(mouseEvent){var{rangeSvc}=this.beans;if(rangeSvc){var cellInRange=rangeSvc.isCellInAnyRange(this.cellCtrl.cellPosition);var isRightClick=_interpretAsRightClick(this.beans,mouseEvent);if(cellInRange&&isRightClick){return true;}}return false;}containsWidget(target){return _isElementChildOfClass(target,\"ag-selection-checkbox\",3)||_isElementChildOfClass(target,\"ag-drag-handle\",3);}onMouseOut(mouseEvent){if(this.mouseStayingInsideCell(mouseEvent)){return;}var{eventSvc,colHover}=this.beans;eventSvc.dispatchEvent(this.cellCtrl.createEvent(mouseEvent,\"cellMouseOut\"));colHover===null||colHover===void 0||colHover.clearMouseOver();}onMouseOver(mouseEvent){if(this.mouseStayingInsideCell(mouseEvent)){return;}var{eventSvc,colHover}=this.beans;eventSvc.dispatchEvent(this.cellCtrl.createEvent(mouseEvent,\"cellMouseOver\"));colHover===null||colHover===void 0||colHover.setMouseOver([this.column]);}mouseStayingInsideCell(e){if(!e.target||!e.relatedTarget){return false;}var eCell=this.cellCtrl.eGui;var cellContainsTarget=eCell.contains(e.target);var cellContainsRelatedTarget=eCell.contains(e.relatedTarget);return cellContainsTarget&&cellContainsRelatedTarget;}};// packages/ag-grid-community/src/rendering/cell/cellPositionFeature.ts\nvar CellPositionFeature=class extends BeanStub{constructor(cellCtrl,beans){super();this.cellCtrl=cellCtrl;this.beans=beans;this.column=cellCtrl.column;this.rowNode=cellCtrl.rowNode;}setupRowSpan(){this.rowSpan=this.column.getRowSpan(this.rowNode);this.addManagedListeners(this.beans.eventSvc,{newColumnsLoaded:()=>this.onNewColumnsLoaded()});}init(){this.eSetLeft=this.cellCtrl.getRootElement();this.eContent=this.cellCtrl.eGui;var cellSpan=this.cellCtrl.getCellSpan();if(!cellSpan){this.setupColSpan();this.setupRowSpan();}this.onLeftChanged();this.onWidthChanged();if(!cellSpan){this._legacyApplyRowSpan();}if(cellSpan){var refreshSpanHeight=this.refreshSpanHeight.bind(this,cellSpan);refreshSpanHeight();this.addManagedListeners(this.beans.eventSvc,{paginationChanged:refreshSpanHeight,recalculateRowBounds:refreshSpanHeight,pinnedHeightChanged:refreshSpanHeight});}}refreshSpanHeight(cellSpan){var spanHeight=cellSpan.getCellHeight();if(spanHeight!=null){this.eContent.style.height=\"\".concat(spanHeight,\"px\");}}onNewColumnsLoaded(){var rowSpan=this.column.getRowSpan(this.rowNode);if(this.rowSpan===rowSpan){return;}this.rowSpan=rowSpan;this._legacyApplyRowSpan(true);}onDisplayColumnsChanged(){var colsSpanning=this.getColSpanningList();if(!_areEqual(this.colsSpanning,colsSpanning)){this.colsSpanning=colsSpanning;this.onWidthChanged();this.onLeftChanged();}}setupColSpan(){if(this.column.getColDef().colSpan==null){return;}this.colsSpanning=this.getColSpanningList();this.addManagedListeners(this.beans.eventSvc,{// because we are col spanning, a reorder of the cols can change what cols we are spanning over\ndisplayedColumnsChanged:this.onDisplayColumnsChanged.bind(this),// because we are spanning over multiple cols, we check for width any time any cols width changes.\n// this is expensive - really we should be explicitly checking only the cols we are spanning over\n// instead of every col, however it would be tricky code to track the cols we are spanning over, so\n// because hardly anyone will be using colSpan, am favouring this easier way for more maintainable code.\ndisplayedColumnsWidthChanged:this.onWidthChanged.bind(this)});}onWidthChanged(){if(!this.eContent){return;}var width=this.getCellWidth();this.eContent.style.width=\"\".concat(width,\"px\");}getCellWidth(){if(!this.colsSpanning){return this.column.getActualWidth();}return this.colsSpanning.reduce((width,col)=>width+col.getActualWidth(),0);}getColSpanningList(){var{column,rowNode}=this;var colSpan=column.getColSpan(rowNode);var colsSpanning=[];if(colSpan===1){colsSpanning.push(column);}else{var pointer=column;var pinned=column.getPinned();for(var i=0;pointer&&i<colSpan;i++){colsSpanning.push(pointer);pointer=this.beans.visibleCols.getColAfter(pointer);if(!pointer||_missing(pointer)){break;}if(pinned!==pointer.getPinned()){break;}}}return colsSpanning;}onLeftChanged(){if(!this.eSetLeft){return;}var left=this.modifyLeftForPrintLayout(this.getCellLeft());this.eSetLeft.style.left=left+\"px\";}getCellLeft(){var mostLeftCol;if(this.beans.gos.get(\"enableRtl\")&&this.colsSpanning){mostLeftCol=_last(this.colsSpanning);}else{mostLeftCol=this.column;}return mostLeftCol.getLeft();}modifyLeftForPrintLayout(leftPosition){if(!this.cellCtrl.printLayout||this.column.getPinned()===\"left\"){return leftPosition;}var{visibleCols}=this.beans;var leftWidth=visibleCols.getColsLeftWidth();if(this.column.getPinned()===\"right\"){var bodyWidth=visibleCols.bodyWidth;return leftWidth+bodyWidth+(leftPosition||0);}return leftWidth+(leftPosition||0);}_legacyApplyRowSpan(force){if(this.rowSpan===1&&!force){return;}var singleRowHeight=_getRowHeightAsNumber(this.beans);var totalRowHeight=singleRowHeight*this.rowSpan;this.eContent.style.height=\"\".concat(totalRowHeight,\"px\");this.eContent.style.zIndex=\"1\";}// overriding to make public, as we don't dispose this bean via context\ndestroy(){super.destroy();}};// packages/ag-grid-community/src/rendering/cell/cellCtrl.ts\nvar CSS_CELL=\"ag-cell\";var CSS_AUTO_HEIGHT=\"ag-cell-auto-height\";var CSS_NORMAL_HEIGHT=\"ag-cell-normal-height\";var CSS_CELL_FOCUS=\"ag-cell-focus\";var CSS_CELL_FIRST_RIGHT_PINNED=\"ag-cell-first-right-pinned\";var CSS_CELL_LAST_LEFT_PINNED=\"ag-cell-last-left-pinned\";var CSS_CELL_NOT_INLINE_EDITING=\"ag-cell-not-inline-editing\";var CSS_CELL_WRAP_TEXT=\"ag-cell-wrap-text\";var DOM_DATA_KEY_CELL_CTRL=\"cellCtrl\";function _getCellCtrlForEventTarget(gos,eventTarget){return _getCtrlForEventTarget(gos,eventTarget,DOM_DATA_KEY_CELL_CTRL);}var instanceIdSequence2=0;var CellCtrl=class extends BeanStub{constructor(column,rowNode,beans,rowCtrl){super();this.column=column;this.rowNode=rowNode;this.rowCtrl=rowCtrl;this.rangeFeature=void 0;this.rowResizeFeature=void 0;this.positionFeature=void 0;this.customStyleFeature=void 0;this.editStyleFeature=void 0;this.mouseListener=void 0;this.keyboardListener=void 0;this.suppressRefreshCell=false;this.onCompAttachedFuncs=[];this.onEditorAttachedFuncs=[];this.focusEventWhileNotReady=null;// if cell has been focused, check if it's focused when destroyed\nthis.hasBeenFocused=false;this.hasEdit=false;this.tooltipFeature=void 0;this.editorTooltipFeature=void 0;this.beans=beans;this.gos=beans.gos;this.editSvc=beans.editSvc;this.hasEdit=!!beans.editSvc;var{colId}=column;this.instanceId=colId+\"-\"+instanceIdSequence2++;this.createCellPosition();this.updateAndFormatValue(false);}addFeatures(){var _beans$cellStyles,_beans$editSvc5;var{beans}=this;this.positionFeature=new CellPositionFeature(this,beans);this.customStyleFeature=(_beans$cellStyles=beans.cellStyles)===null||_beans$cellStyles===void 0?void 0:_beans$cellStyles.createCellCustomStyleFeature(this,beans);this.editStyleFeature=(_beans$editSvc5=beans.editSvc)===null||_beans$editSvc5===void 0?void 0:_beans$editSvc5.createCellStyleFeature(this,beans);this.mouseListener=new CellMouseListenerFeature(this,beans,this.column);this.keyboardListener=new CellKeyboardListenerFeature(this,beans,this.rowNode,this.rowCtrl);this.enableTooltipFeature();var{rangeSvc}=beans;var cellSelectionEnabled=rangeSvc&&_isCellSelectionEnabled(beans.gos);if(cellSelectionEnabled){this.rangeFeature=rangeSvc.createCellRangeFeature(beans,this);}if(isRowNumberCol(this.column)){this.rowResizeFeature=this.beans.rowNumbersSvc.createRowNumbersRowResizerFeature(beans,this);}}isCellSpanning(){return false;}getCellSpan(){return void 0;}removeFeatures(){var context=this.beans.context;this.positionFeature=context.destroyBean(this.positionFeature);this.editorTooltipFeature=context.destroyBean(this.editorTooltipFeature);this.customStyleFeature=context.destroyBean(this.customStyleFeature);this.editStyleFeature=context.destroyBean(this.editStyleFeature);this.mouseListener=context.destroyBean(this.mouseListener);this.keyboardListener=context.destroyBean(this.keyboardListener);this.rangeFeature=context.destroyBean(this.rangeFeature);this.rowResizeFeature=context.destroyBean(this.rowResizeFeature);this.disableTooltipFeature();}enableTooltipFeature(value,shouldDisplayTooltip){var _this$beans$tooltipSv2;this.tooltipFeature=(_this$beans$tooltipSv2=this.beans.tooltipSvc)===null||_this$beans$tooltipSv2===void 0?void 0:_this$beans$tooltipSv2.enableCellTooltipFeature(this,value,shouldDisplayTooltip);}disableTooltipFeature(){this.tooltipFeature=this.beans.context.destroyBean(this.tooltipFeature);}enableEditorTooltipFeature(editor){var _this$beans$tooltipSv3;if(this.editorTooltipFeature){this.disableEditorTooltipFeature();}this.editorTooltipFeature=(_this$beans$tooltipSv3=this.beans.tooltipSvc)===null||_this$beans$tooltipSv3===void 0?void 0:_this$beans$tooltipSv3.setupCellEditorTooltip(this,editor);_populateModelValidationErrors(this.beans);}disableEditorTooltipFeature(){this.editorTooltipFeature=this.beans.context.destroyBean(this.editorTooltipFeature);}setComp(comp,eCell,_eWrapper,eCellWrapper,printLayout,startEditing,compBean){var _this$positionFeature,_this$customStyleFeat,_this$editStyleFeatur,_this$tooltipFeature,_this$keyboardListene,_this$rangeFeature,_this$rowResizeFeatur;this.comp=comp;this.eGui=eCell;this.printLayout=printLayout;compBean!==null&&compBean!==void 0?compBean:compBean=this;this.addDomData(compBean);this.addFeatures();compBean.addDestroyFunc(()=>this.removeFeatures());this.onSuppressCellFocusChanged(this.beans.gos.get(\"suppressCellFocus\"));this.setupFocus();this.applyStaticCssClasses();this.setWrapText();this.onFirstRightPinnedChanged();this.onLastLeftPinnedChanged();this.onColumnHover();this.setupControlComps();this.setupAutoHeight(eCellWrapper,compBean);this.refreshFirstAndLastStyles();this.refreshAriaColIndex();(_this$positionFeature=this.positionFeature)===null||_this$positionFeature===void 0||_this$positionFeature.init();(_this$customStyleFeat=this.customStyleFeature)===null||_this$customStyleFeat===void 0||_this$customStyleFeat.setComp(comp);(_this$editStyleFeatur=this.editStyleFeature)===null||_this$editStyleFeatur===void 0||_this$editStyleFeatur.setComp(comp);(_this$tooltipFeature=this.tooltipFeature)===null||_this$tooltipFeature===void 0||_this$tooltipFeature.refreshTooltip();(_this$keyboardListene=this.keyboardListener)===null||_this$keyboardListene===void 0||_this$keyboardListene.init();(_this$rangeFeature=this.rangeFeature)===null||_this$rangeFeature===void 0||_this$rangeFeature.setComp(comp);(_this$rowResizeFeatur=this.rowResizeFeature)===null||_this$rowResizeFeatur===void 0||_this$rowResizeFeatur.refreshRowResizer();if(startEditing&&this.isCellEditable()){var _this$editSvc;(_this$editSvc=this.editSvc)===null||_this$editSvc===void 0||_this$editSvc.startEditing(this,{startedEdit:true,source:\"api\"});}else{this.showValue(false,true);}if(this.onCompAttachedFuncs.length){this.onCompAttachedFuncs.forEach(func=>func());this.onCompAttachedFuncs=[];}}setupAutoHeight(eCellWrapper,compBean){var _this$beans$rowAutoHe,_this$beans$rowAutoHe2;this.isAutoHeight=(_this$beans$rowAutoHe=(_this$beans$rowAutoHe2=this.beans.rowAutoHeight)===null||_this$beans$rowAutoHe2===void 0?void 0:_this$beans$rowAutoHe2.setupCellAutoHeight(this,eCellWrapper,compBean))!==null&&_this$beans$rowAutoHe!==void 0?_this$beans$rowAutoHe:false;}getCellAriaRole(){var _this$column$getColDe;return(_this$column$getColDe=this.column.getColDef().cellAriaRole)!==null&&_this$column$getColDe!==void 0?_this$column$getColDe:\"gridcell\";}isCellRenderer(){var colDef=this.column.getColDef();return colDef.cellRenderer!=null||colDef.cellRendererSelector!=null;}getValueToDisplay(){var _this$valueFormatted;return(_this$valueFormatted=this.valueFormatted)!==null&&_this$valueFormatted!==void 0?_this$valueFormatted:this.value;}getDeferLoadingCellRenderer(){var _ctrlsSvc$getGridBody;var{beans,column}=this;var{userCompFactory,ctrlsSvc,eventSvc}=beans;var colDef=column.getColDef();var params=this.createCellRendererParams();params.deferRender=true;var loadingDetails=_getLoadingCellRendererDetails(userCompFactory,colDef,params);if((_ctrlsSvc$getGridBody=ctrlsSvc.getGridBodyCtrl())!==null&&_ctrlsSvc$getGridBody!==void 0&&(_ctrlsSvc$getGridBody=_ctrlsSvc$getGridBody.scrollFeature)!==null&&_ctrlsSvc$getGridBody!==void 0&&_ctrlsSvc$getGridBody.isScrolling()){var resolver;var onReady=new AgPromise(resolve=>{resolver=resolve;});this.addManagedListeners(eventSvc,{bodyScrollEnd:()=>resolver()});return{loadingComp:loadingDetails,onReady};}return{loadingComp:loadingDetails,onReady:AgPromise.resolve()};}showValue(forceNewCellRendererInstance,skipRangeHandleRefresh){var _rowNode$groupData,_beans$findSvc,_this$rowResizeFeatur2;var{beans,column,rowNode,rangeFeature}=this;var{userCompFactory}=beans;var valueToDisplay=this.getValueToDisplay();var compDetails;var isSsrmLoading=rowNode.stub&&((_rowNode$groupData=rowNode.groupData)===null||_rowNode$groupData===void 0?void 0:_rowNode$groupData[column.getId()])==null;var colDef=column.getColDef();if(isSsrmLoading||this.isCellRenderer()){var params=this.createCellRendererParams();if(!isSsrmLoading||isRowNumberCol(column)){compDetails=_getCellRendererDetails(userCompFactory,colDef,params);}else{compDetails=_getLoadingCellRendererDetails(userCompFactory,colDef,params);}}if(!compDetails&&!isSsrmLoading&&(_beans$findSvc=beans.findSvc)!==null&&_beans$findSvc!==void 0&&_beans$findSvc.isMatch(rowNode,column)){var _params2=this.createCellRendererParams();compDetails=_getCellRendererDetails(userCompFactory,_objectSpread(_objectSpread({},column.getColDef()),{},{cellRenderer:\"agFindCellRenderer\"}),_params2);}if(this.hasEdit&&this.editSvc.isBatchEditing()&&this.editSvc.isRowEditing(rowNode,{checkSiblings:true})){var result=this.editSvc.prepDetailsDuringBatch(this,{compDetails,valueToDisplay});if(result){if(result.compDetails){compDetails=result.compDetails;}else if(result.valueToDisplay){valueToDisplay=result.valueToDisplay;}}}this.comp.setRenderDetails(compDetails,valueToDisplay,forceNewCellRendererInstance);if(!skipRangeHandleRefresh&&rangeFeature){_requestAnimationFrame(beans,()=>rangeFeature===null||rangeFeature===void 0?void 0:rangeFeature.refreshHandle());}(_this$rowResizeFeatur2=this.rowResizeFeature)===null||_this$rowResizeFeatur2===void 0||_this$rowResizeFeatur2.refreshRowResizer();}setupControlComps(){var colDef=this.column.getColDef();this.includeSelection=this.isIncludeControl(this.isCheckboxSelection(colDef),true);this.includeRowDrag=this.isIncludeControl(colDef.rowDrag);this.includeDndSource=this.isIncludeControl(colDef.dndSource);this.comp.setIncludeSelection(this.includeSelection);this.comp.setIncludeDndSource(this.includeDndSource);this.comp.setIncludeRowDrag(this.includeRowDrag);}isForceWrapper(){return this.beans.gos.get(\"enableCellTextSelection\")||this.column.isAutoHeight();}/**\n   * Wrapper providing general conditions under which control elements (e.g. checkboxes and drag handles)\n   * are rendered for a particular cell.\n   * @param value Whether to render the control in the specific context of the caller\n   * @param allowManuallyPinned Whether manually pinned rows are permitted this form of control element\n   */// eslint-disable-next-line @typescript-eslint/ban-types\nisIncludeControl(value){var allowManuallyPinned=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var rowUnpinned=this.rowNode.rowPinned==null;return(rowUnpinned||allowManuallyPinned&&_isManualPinnedRow(this.rowNode))&&!!value;}isCheckboxSelection(colDef){var{rowSelection,groupDisplayType}=this.beans.gridOptions;var checkboxLocation=_getCheckboxLocation(rowSelection);var isSelectionColumn=isColumnSelectionCol(this.column);if(groupDisplayType===\"custom\"&&checkboxLocation!==\"selectionColumn\"&&isSelectionColumn){return false;}return colDef.checkboxSelection||isSelectionColumn&&typeof rowSelection===\"object\"&&_getCheckboxes(rowSelection);}refreshShouldDestroy(){var colDef=this.column.getColDef();var selectionChanged=this.includeSelection!=this.isIncludeControl(this.isCheckboxSelection(colDef),true);var rowDragChanged=this.includeRowDrag!=this.isIncludeControl(colDef.rowDrag);var dndSourceChanged=this.includeDndSource!=this.isIncludeControl(colDef.dndSource);var autoHeightChanged=this.isAutoHeight!=this.column.isAutoHeight();return selectionChanged||rowDragChanged||dndSourceChanged||autoHeightChanged;}onPopupEditorClosed(){var{editSvc}=this.beans;if(!(editSvc!==null&&editSvc!==void 0&&editSvc.isEditing(this,{withOpenEditor:true}))){return;}editSvc===null||editSvc===void 0||editSvc.stopEditing(this,{source:editSvc!==null&&editSvc!==void 0&&editSvc.isBatchEditing()?\"ui\":\"api\"});}/**\n   * Ends the Cell Editing\n   * @param cancel `True` if the edit process is being canceled.\n   * @returns `True` if the value of the `GridCell` has been updated, otherwise `False`.\n   */stopEditing(){var _editSvc$stopEditing;var cancel=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var{editSvc}=this.beans;return(_editSvc$stopEditing=editSvc===null||editSvc===void 0?void 0:editSvc.stopEditing(this,{cancel,source:editSvc!==null&&editSvc!==void 0&&editSvc.isBatchEditing()?\"ui\":\"api\"}))!==null&&_editSvc$stopEditing!==void 0?_editSvc$stopEditing:false;}createCellRendererParams(){var{value,valueFormatted,column,rowNode,comp,eGui,beans:{valueSvc,gos,editSvc}}=this;var res=_addGridCommonParams(gos,{value,valueFormatted,getValue:()=>valueSvc.getValueForDisplay(column,rowNode).value,setValue:value2=>(editSvc===null||editSvc===void 0?void 0:editSvc.setDataValue({rowNode,column},value2))||valueSvc.setValue(rowNode,column,value2),formatValue:this.formatValue.bind(this),data:rowNode.data,node:rowNode,pinned:column.getPinned(),colDef:column.getColDef(),column,refreshCell:this.refreshCell.bind(this),eGridCell:eGui,eParentOfValue:comp.getParentOfValue(),registerRowDragger:(rowDraggerElement,dragStartPixels,value2,suppressVisibilityChange)=>this.registerRowDragger(rowDraggerElement,dragStartPixels,suppressVisibilityChange),setTooltip:(value2,shouldDisplayTooltip)=>{var _this$tooltipFeature2;gos.assertModuleRegistered(\"Tooltip\",3);if(this.tooltipFeature){this.disableTooltipFeature();}this.enableTooltipFeature(value2,shouldDisplayTooltip);(_this$tooltipFeature2=this.tooltipFeature)===null||_this$tooltipFeature2===void 0||_this$tooltipFeature2.refreshTooltip();}});return res;}onCellChanged(event){var eventImpactsThisCell=event.column===this.column;if(eventImpactsThisCell){this.refreshCell({});}}refreshOrDestroyCell(params){if(this.refreshShouldDestroy()){var _this$rowCtrl;(_this$rowCtrl=this.rowCtrl)===null||_this$rowCtrl===void 0||_this$rowCtrl.recreateCell(this);}else{this.refreshCell(params);}}// + stop editing {force: true, suppressFlash: true}\n// + event cellChanged {}\n// + cellRenderer.params.refresh() {} -> method passes 'as is' to the cellRenderer, so params could be anything\n// + rowCtrl: event dataChanged {suppressFlash: !update, newData: !update}\n// + rowCtrl: api refreshCells() {animate: true/false}\n// + rowRenderer: api softRefreshView() {}\nrefreshCell(){var _this$tooltipFeature3,_this$customStyleFeat4;var{force,suppressFlash,newData}=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};if(this.suppressRefreshCell){return;}var colDef=this.column.getColDef();var noValueProvided=colDef.field==null&&colDef.valueGetter==null&&colDef.showRowGroup==null;var forceRefresh=force||noValueProvided||newData;var isCellCompReady=!!this.comp;var valuesDifferent=this.updateAndFormatValue(isCellCompReady);var dataNeedsUpdating=forceRefresh||valuesDifferent;if(!isCellCompReady){return;}if(dataNeedsUpdating){var _this$beans$filterMan,_this$editStyleFeatur2,_this$editStyleFeatur3,_this$customStyleFeat2,_this$customStyleFeat3;this.showValue(!!newData,false);var processingFilterChange=(_this$beans$filterMan=this.beans.filterManager)===null||_this$beans$filterMan===void 0?void 0:_this$beans$filterMan.isSuppressFlashingCellsBecauseFiltering();var flashCell=!suppressFlash&&!processingFilterChange&&colDef.enableCellChangeFlash;if(flashCell){var _this$beans$cellFlash;(_this$beans$cellFlash=this.beans.cellFlashSvc)===null||_this$beans$cellFlash===void 0||_this$beans$cellFlash.flashCell(this);}(_this$editStyleFeatur2=this.editStyleFeature)===null||_this$editStyleFeatur2===void 0||(_this$editStyleFeatur3=_this$editStyleFeatur2.applyCellStyles)===null||_this$editStyleFeatur3===void 0||_this$editStyleFeatur3.call(_this$editStyleFeatur2);(_this$customStyleFeat2=this.customStyleFeature)===null||_this$customStyleFeat2===void 0||_this$customStyleFeat2.applyUserStyles();(_this$customStyleFeat3=this.customStyleFeature)===null||_this$customStyleFeat3===void 0||_this$customStyleFeat3.applyClassesFromColDef();}(_this$tooltipFeature3=this.tooltipFeature)===null||_this$tooltipFeature3===void 0||_this$tooltipFeature3.refreshTooltip();(_this$customStyleFeat4=this.customStyleFeature)===null||_this$customStyleFeat4===void 0||_this$customStyleFeat4.applyCellClassRules();}isCellEditable(){return this.column.isCellEditable(this.rowNode);}formatValue(value){var _this$callValueFormat;return(_this$callValueFormat=this.callValueFormatter(value))!==null&&_this$callValueFormat!==void 0?_this$callValueFormat:value;}callValueFormatter(value){return this.beans.valueSvc.formatValue(this.column,this.rowNode,value);}updateAndFormatValue(compareValues){var oldValue=this.value;var oldValueFormatted=this.valueFormatted;var{value,valueFormatted}=this.beans.valueSvc.getValueForDisplay(this.column,this.rowNode,true);this.value=value;this.valueFormatted=valueFormatted;if(compareValues){return!this.valuesAreEqual(oldValue,this.value)||this.valueFormatted!=oldValueFormatted;}return true;}valuesAreEqual(val1,val2){var colDef=this.column.getColDef();return colDef.equals?colDef.equals(val1,val2):val1===val2;}addDomData(compBean){var element=this.eGui;_setDomData(this.beans.gos,element,DOM_DATA_KEY_CELL_CTRL,this);compBean.addDestroyFunc(()=>_setDomData(this.beans.gos,element,DOM_DATA_KEY_CELL_CTRL,null));}createEvent(domEvent,eventType){var{rowNode,column,value,beans}=this;return _createCellEvent(beans,domEvent,eventType,{rowNode,column},value);}processCharacter(event){var _this$keyboardListene2;(_this$keyboardListene2=this.keyboardListener)===null||_this$keyboardListene2===void 0||_this$keyboardListene2.processCharacter(event);}onKeyDown(event){var _this$keyboardListene3;(_this$keyboardListene3=this.keyboardListener)===null||_this$keyboardListene3===void 0||_this$keyboardListene3.onKeyDown(event);}onMouseEvent(eventName,mouseEvent){var _this$mouseListener;(_this$mouseListener=this.mouseListener)===null||_this$mouseListener===void 0||_this$mouseListener.onMouseEvent(eventName,mouseEvent);}getColSpanningList(){var _this$positionFeature2,_this$positionFeature3;return(_this$positionFeature2=(_this$positionFeature3=this.positionFeature)===null||_this$positionFeature3===void 0?void 0:_this$positionFeature3.getColSpanningList())!==null&&_this$positionFeature2!==void 0?_this$positionFeature2:[];}onLeftChanged(){var _this$positionFeature4;if(!this.comp){return;}(_this$positionFeature4=this.positionFeature)===null||_this$positionFeature4===void 0||_this$positionFeature4.onLeftChanged();}onDisplayedColumnsChanged(){if(!this.eGui){return;}this.refreshAriaColIndex();this.refreshFirstAndLastStyles();}refreshFirstAndLastStyles(){var{comp,column,beans}=this;refreshFirstAndLastStyles(comp,column,beans.visibleCols);}refreshAriaColIndex(){var colIdx=this.beans.visibleCols.getAriaColIndex(this.column);_setAriaColIndex(this.eGui,colIdx);}onWidthChanged(){var _this$positionFeature5;return(_this$positionFeature5=this.positionFeature)===null||_this$positionFeature5===void 0?void 0:_this$positionFeature5.onWidthChanged();}getRowPosition(){var{rowIndex,rowPinned}=this.cellPosition;return{rowIndex,rowPinned};}updateRangeBordersIfRangeCount(){var _this$rangeFeature2;if(!this.comp){return;}(_this$rangeFeature2=this.rangeFeature)===null||_this$rangeFeature2===void 0||_this$rangeFeature2.updateRangeBordersIfRangeCount();}onCellSelectionChanged(){var _this$rangeFeature3;if(!this.comp){return;}(_this$rangeFeature3=this.rangeFeature)===null||_this$rangeFeature3===void 0||_this$rangeFeature3.onCellSelectionChanged();}isRangeSelectionEnabled(){return this.rangeFeature!=null;}focusCell(){var forceBrowserFocus=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var sourceEvent=arguments.length>1?arguments[1]:undefined;this.beans.focusSvc.setFocusedCell(_objectSpread(_objectSpread({},this.getFocusedCellPosition()),{},{forceBrowserFocus,sourceEvent}));}/**\n   * Restores focus to the cell, if it should have it\n   * @param waitForRender if the cell has just setComp, it may not be rendered yet, so we wait for the next render\n   */restoreFocus(){var waitForRender=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var{beans:{editSvc,focusSvc},comp}=this;if(!comp||editSvc!==null&&editSvc!==void 0&&editSvc.isEditing(this)||!this.isCellFocused()||!focusSvc.shouldTakeFocus()){return;}var focus=()=>{if(!this.isAlive()){return;}var focusableElement=comp.getFocusableElement();if(this.isCellFocused()){focusableElement.focus({preventScroll:true});}};if(waitForRender){setTimeout(focus,0);return;}focus();}onRowIndexChanged(){var _this$rangeFeature4,_this$rowResizeFeatur3;this.createCellPosition();this.onCellFocused();this.restoreFocus();(_this$rangeFeature4=this.rangeFeature)===null||_this$rangeFeature4===void 0||_this$rangeFeature4.onCellSelectionChanged();(_this$rowResizeFeatur3=this.rowResizeFeature)===null||_this$rowResizeFeatur3===void 0||_this$rowResizeFeatur3.refreshRowResizer();}onSuppressCellFocusChanged(suppressCellFocus){var element=this.eGui;if(!element){return;}if(isRowNumberCol(this.column)){suppressCellFocus=true;}_addOrRemoveAttribute(element,\"tabindex\",suppressCellFocus?void 0:-1);}onFirstRightPinnedChanged(){if(!this.comp){return;}var firstRightPinned=this.column.isFirstRightPinned();this.comp.toggleCss(CSS_CELL_FIRST_RIGHT_PINNED,firstRightPinned);}onLastLeftPinnedChanged(){if(!this.comp){return;}var lastLeftPinned=this.column.isLastLeftPinned();this.comp.toggleCss(CSS_CELL_LAST_LEFT_PINNED,lastLeftPinned);}/**\n   * Returns whether cell is focused by the focusSvc, overridden by spannedCellCtrl\n   */checkCellFocused(){return this.beans.focusSvc.isCellFocused(this.cellPosition);}isCellFocused(){var isFocused=this.checkCellFocused();this.hasBeenFocused||(this.hasBeenFocused=isFocused);return isFocused;}setupFocus(){var _this$focusEventWhile;this.restoreFocus(true);this.onCellFocused((_this$focusEventWhile=this.focusEventWhileNotReady)!==null&&_this$focusEventWhile!==void 0?_this$focusEventWhile:void 0);}onCellFocused(event){var _beans$editSvc$isEdit,_beans$editSvc6;var{beans}=this;if(_isCellFocusSuppressed(beans)){return;}if(!this.comp){if(event){this.focusEventWhileNotReady=event;}return;}var cellFocused=this.isCellFocused();var editing=(_beans$editSvc$isEdit=(_beans$editSvc6=beans.editSvc)===null||_beans$editSvc6===void 0?void 0:_beans$editSvc6.isEditing(this))!==null&&_beans$editSvc$isEdit!==void 0?_beans$editSvc$isEdit:false;this.comp.toggleCss(CSS_CELL_FOCUS,cellFocused);if(cellFocused&&event&&event.forceBrowserFocus){var focusEl=this.comp.getFocusableElement();if(editing){var focusableEls=_findFocusableElements(focusEl,null,true);if(focusableEls.length){focusEl=focusableEls[0];}}focusEl.focus({preventScroll:!!event.preventScrollOnBrowserFocus});}if(cellFocused){this.rowCtrl.announceDescription();}}createCellPosition(){var{rowIndex,rowPinned}=this.rowNode;this.cellPosition={rowIndex,rowPinned:_makeNull(rowPinned),column:this.column};}// CSS Classes that only get applied once, they never change\napplyStaticCssClasses(){var{comp}=this;comp.toggleCss(CSS_CELL,true);comp.toggleCss(CSS_CELL_NOT_INLINE_EDITING,true);var autoHeight=this.column.isAutoHeight()==true;comp.toggleCss(CSS_AUTO_HEIGHT,autoHeight);comp.toggleCss(CSS_NORMAL_HEIGHT,!autoHeight);}onColumnHover(){var _this$beans$colHover2;(_this$beans$colHover2=this.beans.colHover)===null||_this$beans$colHover2===void 0||_this$beans$colHover2.onCellColumnHover(this.column,this.comp);}onColDefChanged(){var _this$editSvc2;if(!this.comp){return;}if(this.column.isTooltipEnabled()){this.disableTooltipFeature();this.enableTooltipFeature();}else{this.disableTooltipFeature();}this.setWrapText();if((_this$editSvc2=this.editSvc)!==null&&_this$editSvc2!==void 0&&_this$editSvc2.isEditing(this)){var _this$editSvc3;(_this$editSvc3=this.editSvc)===null||_this$editSvc3===void 0||_this$editSvc3.handleColDefChanged(this);}else{this.refreshOrDestroyCell({force:true,suppressFlash:true});}}setWrapText(){var value=this.column.getColDef().wrapText==true;this.comp.toggleCss(CSS_CELL_WRAP_TEXT,value);}dispatchCellContextMenuEvent(event){var colDef=this.column.getColDef();var cellContextMenuEvent=this.createEvent(event,\"cellContextMenu\");var{beans}=this;beans.eventSvc.dispatchEvent(cellContextMenuEvent);if(colDef.onCellContextMenu){window.setTimeout(()=>{beans.frameworkOverrides.wrapOutgoing(()=>{colDef.onCellContextMenu(cellContextMenuEvent);});},0);}}getCellRenderer(){var _this$comp$getCellRen,_this$comp;return(_this$comp$getCellRen=(_this$comp=this.comp)===null||_this$comp===void 0?void 0:_this$comp.getCellRenderer())!==null&&_this$comp$getCellRen!==void 0?_this$comp$getCellRen:null;}destroy(){this.onCompAttachedFuncs=[];this.onEditorAttachedFuncs=[];if(this.isCellFocused()&&this.hasBrowserFocus()){this.beans.focusSvc.attemptToRecoverFocus();}super.destroy();}hasBrowserFocus(){var _this$eGui$contains,_this$eGui;return(_this$eGui$contains=(_this$eGui=this.eGui)===null||_this$eGui===void 0?void 0:_this$eGui.contains(_getActiveDomElement(this.beans)))!==null&&_this$eGui$contains!==void 0?_this$eGui$contains:false;}createSelectionCheckbox(){var _this$beans$selection5;var cbSelectionComponent=(_this$beans$selection5=this.beans.selectionSvc)===null||_this$beans$selection5===void 0?void 0:_this$beans$selection5.createCheckboxSelectionComponent();if(!cbSelectionComponent){return void 0;}this.beans.context.createBean(cbSelectionComponent);cbSelectionComponent.init({rowNode:this.rowNode,column:this.column});return cbSelectionComponent;}createDndSource(){var dndSourceComp=this.beans.registry.createDynamicBean(\"dndSourceComp\",false,this.rowNode,this.column,this.eGui);if(dndSourceComp){this.beans.context.createBean(dndSourceComp);}return dndSourceComp;}registerRowDragger(customElement,dragStartPixels,suppressVisibilityChange){if(this.customRowDragComp){this.customRowDragComp.setDragElement(customElement,dragStartPixels);return;}var newComp=this.createRowDragComp(customElement,dragStartPixels,suppressVisibilityChange);if(newComp){this.customRowDragComp=newComp;this.addDestroyFunc(()=>{this.beans.context.destroyBean(newComp);this.customRowDragComp=null;});}}createRowDragComp(customElement,dragStartPixels,suppressVisibilityChange){var _this$beans$rowDragSv;var rowDragComp=(_this$beans$rowDragSv=this.beans.rowDragSvc)===null||_this$beans$rowDragSv===void 0?void 0:_this$beans$rowDragSv.createRowDragCompForCell(this.rowNode,this.column,()=>this.value,customElement,dragStartPixels,suppressVisibilityChange);if(!rowDragComp){return void 0;}this.beans.context.createBean(rowDragComp);return rowDragComp;}cellEditorAttached(){this.onEditorAttachedFuncs.forEach(func=>func());this.onEditorAttachedFuncs=[];}setFocusedCellPosition(_cellPosition){}getFocusedCellPosition(){return this.cellPosition;}// used by spannedCellCtrl\nrefreshAriaRowIndex(){}/**\n   * Returns the root element of the cell, could be a span container rather than the cell element.\n   * @returns The root element of the cell.\n   */getRootElement(){return this.eGui;}};// packages/ag-grid-community/src/gridBodyComp/mouseEventUtils.ts\nvar GRID_DOM_KEY=\"__ag_grid_instance\";function _stampTopLevelGridCompWithGridInstance(gos,eGridDiv){eGridDiv[GRID_DOM_KEY]=gos.gridInstanceId;}function _isEventFromThisGrid(gos,event){var res=_isElementInThisGrid(gos,event.target);return res;}function _isElementInThisGrid(gos,element){var pointer=element;while(pointer){var instanceId=pointer[GRID_DOM_KEY];if(_exists(instanceId)){var eventFromThisGrid=instanceId===gos.gridInstanceId;return eventFromThisGrid;}pointer=pointer.parentElement;}return false;}function _getCellPositionForEvent(gos,event){var _getCellCtrlForEventT,_getCellCtrlForEventT2;return(_getCellCtrlForEventT=(_getCellCtrlForEventT2=_getCellCtrlForEventTarget(gos,event.target))===null||_getCellCtrlForEventT2===void 0?void 0:_getCellCtrlForEventT2.getFocusedCellPosition())!==null&&_getCellCtrlForEventT!==void 0?_getCellCtrlForEventT:null;}function _getNormalisedMousePosition(beans,event){var gridPanelHasScrolls=_isDomLayout(beans.gos,\"normal\");var e=event;var x;var y;if(e.clientX!=null||e.clientY!=null){x=e.clientX;y=e.clientY;}else{x=e.x;y=e.y;}var{pageFirstPixel}=beans.pageBounds.getCurrentPagePixelRange();y+=pageFirstPixel;if(gridPanelHasScrolls){var scrollFeature=beans.ctrlsSvc.getScrollFeature();var vRange=scrollFeature.getVScrollPosition();var hRange=scrollFeature.getHScrollPosition();x+=hRange.left;y+=vRange.top;}return{x,y};}// packages/ag-grid-community/src/dragAndDrop/dragAndDropService.ts\nvar DragSourceType=/* @__PURE__ */(DragSourceType2=>{DragSourceType2[DragSourceType2[\"ToolPanel\"]=0]=\"ToolPanel\";DragSourceType2[DragSourceType2[\"HeaderCell\"]=1]=\"HeaderCell\";DragSourceType2[DragSourceType2[\"RowDrag\"]=2]=\"RowDrag\";DragSourceType2[DragSourceType2[\"ChartPanel\"]=3]=\"ChartPanel\";DragSourceType2[DragSourceType2[\"AdvancedFilterBuilder\"]=4]=\"AdvancedFilterBuilder\";return DragSourceType2;})(DragSourceType||{});var DragAndDropService=class extends BeanStub{constructor(){super(...arguments);this.beanName=\"dragAndDrop\";this.dragSourceAndParamsList=[];this.dropTargets=[];}wireBeans(beans){this.ctrlsSvc=beans.ctrlsSvc;this.dragSvc=beans.dragSvc;this.environment=beans.environment;this.userCompFactory=beans.userCompFactory;}addDragSource(dragSource){var allowTouch=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var params={eElement:dragSource.eElement,dragStartPixels:dragSource.dragStartPixels,onDragStart:this.onDragStart.bind(this,dragSource),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),onDragCancel:this.onDragCancel.bind(this),includeTouch:allowTouch};this.dragSourceAndParamsList.push({params,dragSource});this.dragSvc.addDragSource(params);}getDragAndDropImageComponent(){var{dragAndDropImageComp}=this;if(!dragAndDropImageComp||!dragAndDropImageComp.comp){return null;}return dragAndDropImageComp.comp;}removeDragSource(dragSource){var{dragSourceAndParamsList,dragSvc}=this;var sourceAndParams=dragSourceAndParamsList.find(item=>item.dragSource===dragSource);if(sourceAndParams){dragSvc.removeDragSource(sourceAndParams.params);_removeFromArray(dragSourceAndParamsList,sourceAndParams);}}destroy(){var{dragSourceAndParamsList,dragSvc,dropTargets}=this;dragSourceAndParamsList.forEach(sourceAndParams=>dragSvc.removeDragSource(sourceAndParams.params));dragSourceAndParamsList.length=0;dropTargets.length=0;this.clearDragAndDropProperties();super.destroy();}nudge(){if(this.dragging){this.onDragging(this.eventLastTime,true);}}onDragStart(dragSource,mouseEvent){var _dragSource$onDragSta;this.dragging=true;this.dragSource=dragSource;this.eventLastTime=mouseEvent;this.dragItem=dragSource.getDragItem();(_dragSource$onDragSta=dragSource.onDragStarted)===null||_dragSource$onDragSta===void 0||_dragSource$onDragSta.call(dragSource);this.createDragAndDropImageComponent();}onDragStop(mouseEvent){var _this$dragSource,_this$dragSource$onDr;(_this$dragSource=this.dragSource)===null||_this$dragSource===void 0||(_this$dragSource$onDr=_this$dragSource.onDragStopped)===null||_this$dragSource$onDr===void 0||_this$dragSource$onDr.call(_this$dragSource);var{lastDropTarget}=this;if(lastDropTarget!==null&&lastDropTarget!==void 0&&lastDropTarget.onDragStop){var draggingEvent=this.createDropTargetEvent(lastDropTarget,mouseEvent,null,null,false);lastDropTarget.onDragStop(draggingEvent);}this.clearDragAndDropProperties();}onDragCancel(){var _dragSource$onDragCan;var{dragSource,lastDropTarget}=this;dragSource===null||dragSource===void 0||(_dragSource$onDragCan=dragSource.onDragCancelled)===null||_dragSource$onDragCan===void 0||_dragSource$onDragCan.call(dragSource);if(lastDropTarget!==null&&lastDropTarget!==void 0&&lastDropTarget.onDragCancel){lastDropTarget.onDragCancel(this.createDropTargetEvent(lastDropTarget,this.eventLastTime,null,null,false));}this.clearDragAndDropProperties();}clearDragAndDropProperties(){this.eventLastTime=null;this.dragging=false;this.lastDropTarget=void 0;this.dragItem=null;this.dragSource=null;this.removeDragAndDropImageComponent();}onDragging(mouseEvent){var fromNudge=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var hDirection=this.getHorizontalDirection(mouseEvent);var vDirection=this.getVerticalDirection(mouseEvent);this.eventLastTime=mouseEvent;this.positionDragAndDropImageComp(mouseEvent);var validDropTargets=this.dropTargets.filter(target=>this.isMouseOnDropTarget(mouseEvent,target));var dropTarget=this.findCurrentDropTarget(mouseEvent,validDropTargets);var{lastDropTarget,dragSource,dragAndDropImageComp,dragItem}=this;if(dropTarget!==lastDropTarget){this.leaveLastTargetIfExists(mouseEvent,hDirection,vDirection,fromNudge);if(lastDropTarget!==null&&dropTarget===null){var _dragSource$onGridExi;dragSource===null||dragSource===void 0||(_dragSource$onGridExi=dragSource.onGridExit)===null||_dragSource$onGridExi===void 0||_dragSource$onGridExi.call(dragSource,dragItem);}if(lastDropTarget===null&&dropTarget!==null){var _dragSource$onGridEnt;dragSource===null||dragSource===void 0||(_dragSource$onGridEnt=dragSource.onGridEnter)===null||_dragSource$onGridEnt===void 0||_dragSource$onGridEnt.call(dragSource,dragItem);}this.enterDragTargetIfExists(dropTarget,mouseEvent,hDirection,vDirection,fromNudge);if(dropTarget&&dragAndDropImageComp){var{comp,promise}=dragAndDropImageComp;if(comp){comp.setIcon(dropTarget.getIconName?dropTarget.getIconName():null,false);}else{promise.then(resolvedComponent=>{if(resolvedComponent){resolvedComponent.setIcon(dropTarget.getIconName?dropTarget.getIconName():null,false);}});}}this.lastDropTarget=dropTarget;}else if(dropTarget&&dropTarget.onDragging){var draggingEvent=this.createDropTargetEvent(dropTarget,mouseEvent,hDirection,vDirection,fromNudge);dropTarget.onDragging(draggingEvent);}}getAllContainersFromDropTarget(dropTarget){var secondaryContainers=dropTarget.getSecondaryContainers?dropTarget.getSecondaryContainers():null;var containers=[[dropTarget.getContainer()]];return secondaryContainers?containers.concat(secondaryContainers):containers;}// checks if the mouse is on the drop target. it checks eContainer and eSecondaryContainers\nisMouseOnDropTarget(mouseEvent,dropTarget){var allContainersFromDropTarget=this.getAllContainersFromDropTarget(dropTarget);var mouseOverTarget=false;var allContainersIntersect=(mouseEvent2,containers)=>{for(var container of containers){var{width,height,left,right,top,bottom}=container.getBoundingClientRect();if(width===0||height===0){return false;}var horizontalFit=mouseEvent2.clientX>=left&&mouseEvent2.clientX<right;var verticalFit=mouseEvent2.clientY>=top&&mouseEvent2.clientY<bottom;if(!horizontalFit||!verticalFit){return false;}}return true;};for(var currentContainers of allContainersFromDropTarget){if(allContainersIntersect(mouseEvent,currentContainers)){mouseOverTarget=true;break;}}var{eElement,type}=this.dragSource;if(dropTarget.targetContainsSource&&!dropTarget.getContainer().contains(eElement)){return false;}return mouseOverTarget&&dropTarget.isInterestedIn(type,eElement);}findCurrentDropTarget(mouseEvent,validDropTargets){var len=validDropTargets.length;if(len===0){return null;}if(len===1){return validDropTargets[0];}var rootNode=_getRootNode(this.beans);var elementStack=rootNode.elementsFromPoint(mouseEvent.clientX,mouseEvent.clientY);for(var el of elementStack){for(var dropTarget of validDropTargets){var containers=this.getAllContainersFromDropTarget(dropTarget).flatMap(a=>a);if(containers.indexOf(el)!==-1){return dropTarget;}}}return null;}enterDragTargetIfExists(dropTarget,mouseEvent,hDirection,vDirection,fromNudge){if(!dropTarget){return;}if(dropTarget.onDragEnter){var dragEnterEvent=this.createDropTargetEvent(dropTarget,mouseEvent,hDirection,vDirection,fromNudge);dropTarget.onDragEnter(dragEnterEvent);}}leaveLastTargetIfExists(mouseEvent,hDirection,vDirection,fromNudge){var{lastDropTarget}=this;if(!lastDropTarget){return;}if(lastDropTarget.onDragLeave){var dragLeaveEvent=this.createDropTargetEvent(lastDropTarget,mouseEvent,hDirection,vDirection,fromNudge);lastDropTarget.onDragLeave(dragLeaveEvent);}var dragAndDropImageComponent=this.getDragAndDropImageComponent();if(dragAndDropImageComponent){dragAndDropImageComponent.setIcon(null,false);}}addDropTarget(dropTarget){this.dropTargets.push(dropTarget);}removeDropTarget(dropTarget){this.dropTargets=this.dropTargets.filter(target=>target.getContainer()!==dropTarget.getContainer());}hasExternalDropZones(){return this.dropTargets.some(zones=>zones.external);}findExternalZone(params){var externalTargets=this.dropTargets.filter(target=>target.external);return externalTargets.find(zone=>zone.getContainer()===params.getContainer())||null;}isDropZoneWithinThisGrid(draggingEvent){var gridBodyCon=this.ctrlsSvc.getGridBodyCtrl();var gridGui=gridBodyCon.eGridBody;var{dropZoneTarget}=draggingEvent;return gridGui.contains(dropZoneTarget);}getHorizontalDirection(event){var _this$eventLastTime;var clientX=(_this$eventLastTime=this.eventLastTime)===null||_this$eventLastTime===void 0?void 0:_this$eventLastTime.clientX;var eClientX=event.clientX;if(clientX===eClientX){return null;}return clientX>eClientX?\"left\":\"right\";}getVerticalDirection(event){var _this$eventLastTime2;var clientY=(_this$eventLastTime2=this.eventLastTime)===null||_this$eventLastTime2===void 0?void 0:_this$eventLastTime2.clientY;var eClientY=event.clientY;if(clientY===eClientY){return null;}return clientY>eClientY?\"up\":\"down\";}createDropTargetEvent(dropTarget,event,hDirection,vDirection,fromNudge){var dropZoneTarget=dropTarget.getContainer();var rect=dropZoneTarget.getBoundingClientRect();var{dragItem,dragSource,gos}=this;var x=event.clientX-rect.left;var y=event.clientY-rect.top;return _addGridCommonParams(gos,{event,x,y,vDirection,hDirection,dragSource,fromNudge,dragItem,dropZoneTarget});}positionDragAndDropImageComp(event){var dragAndDropImageComponent=this.getDragAndDropImageComponent();if(!dragAndDropImageComponent){return;}_anchorElementToMouseMoveEvent(dragAndDropImageComponent.getGui(),event,this.beans);}removeDragAndDropImageComponent(){var{dragAndDropImageComp}=this;if(dragAndDropImageComp){var{comp}=dragAndDropImageComp;if(comp){var _this$dragAndDropImag;var eGui=comp.getGui();(_this$dragAndDropImag=this.dragAndDropImageParent)===null||_this$dragAndDropImag===void 0||_this$dragAndDropImag.removeChild(eGui);this.destroyBean(comp);}}this.dragAndDropImageComp=null;}createDragAndDropImageComponent(){var{dragSource,gos,userCompFactory}=this;if(!dragSource){return;}var userCompDetails=_getDragAndDropImageCompDetails(userCompFactory,_addGridCommonParams(gos,{dragSource}));if(!userCompDetails){return;}var promise=userCompDetails.newAgStackInstance();this.dragAndDropImageComp={promise};promise.then(comp=>{if(!comp||!this.isAlive()){return;}this.processDragAndDropImageComponent(comp);this.dragAndDropImageComp.comp=comp;});}processDragAndDropImageComponent(dragAndDropImageComponent){var{dragSource,environment}=this;if(!dragSource){return;}var eGui=dragAndDropImageComponent.getGui();eGui.style.setProperty(\"position\",\"absolute\");eGui.style.setProperty(\"z-index\",\"9999\");_stampTopLevelGridCompWithGridInstance(this.gos,eGui);environment.applyThemeClasses(eGui);dragAndDropImageComponent.setIcon(null,false);var{dragItemName}=dragSource;if(typeof dragItemName===\"function\"){dragItemName=dragItemName();}dragAndDropImageComponent.setLabel(dragItemName||\"\");eGui.style.top=\"20px\";eGui.style.left=\"20px\";var targetEl=_getPageBody(this.beans);this.dragAndDropImageParent=targetEl;if(!targetEl){_warn(54);}else{targetEl.appendChild(eGui);}}registerGridDropTarget(elementFn,ctrl){var dropTarget={getContainer:elementFn,isInterestedIn:type=>type===1/* HeaderCell */||type===0/* ToolPanel */,getIconName:()=>\"notAllowed\"};this.addDropTarget(dropTarget);ctrl.addDestroyFunc(()=>this.removeDropTarget(dropTarget));}};// packages/ag-grid-community/src/dragAndDrop/dragService.ts\nvar DragService=class extends BeanStub{constructor(){super(...arguments);this.beanName=\"dragSvc\";this.dragEndFunctions=[];this.dragSources=[];}destroy(){var{dragSources}=this;dragSources.forEach(this.removeListener.bind(this));dragSources.length=0;super.destroy();}removeListener(dragSourceAndListener){var element=dragSourceAndListener.dragSource.eElement;var mouseDownListener=dragSourceAndListener.mouseDownListener;element.removeEventListener(\"mousedown\",mouseDownListener);if(dragSourceAndListener.touchEnabled){var touchStartListener=dragSourceAndListener.touchStartListener;element.removeEventListener(\"touchstart\",touchStartListener,{passive:true});}}removeDragSource(params){var{dragSources}=this;var dragSourceAndListener=dragSources.find(item=>item.dragSource===params);if(!dragSourceAndListener){return;}this.removeListener(dragSourceAndListener);_removeFromArray(dragSources,dragSourceAndListener);}addDragSource(params){var mouseListener=this.onMouseDown.bind(this,params);var{eElement,includeTouch,stopPropagationForTouch}=params;eElement.addEventListener(\"mousedown\",mouseListener);var touchListener=null;var suppressTouch=this.gos.get(\"suppressTouch\");if(includeTouch&&!suppressTouch){touchListener=touchEvent=>{if(_isFocusableFormField(touchEvent.target)){return;}if(stopPropagationForTouch){touchEvent.stopPropagation();}this.onTouchStart(params,touchEvent);};eElement.addEventListener(\"touchstart\",touchListener,{passive:false});}this.dragSources.push({dragSource:params,mouseDownListener:mouseListener,touchStartListener:touchListener,touchEnabled:!!includeTouch});}// gets called whenever mouse down on any drag source\nonTouchStart(params,touchEvent){this.currentDragParams=params;this.dragging=false;var touch=touchEvent.touches[0];this.touchLastTime=touch;this.touchStart=touch;var touchMoveEvent=e=>this.onTouchMove(e,params.eElement);var touchEndEvent=e=>this.onTouchUp(e,params.eElement);var documentTouchMove=e=>{if(e.cancelable){e.preventDefault();}};var target=touchEvent.target;var events=[// Prevents the page document from moving while we are dragging items around.\n// preventDefault needs to be called in the touchmove listener and never inside the\n// touchstart, because using touchstart causes the click event to be cancelled on touch devices.\n{target:_getRootNode(this.beans),type:\"touchmove\",listener:documentTouchMove,options:{passive:false}},{target,type:\"touchmove\",listener:touchMoveEvent,options:{passive:true}},{target,type:\"touchend\",listener:touchEndEvent,options:{passive:true}},{target,type:\"touchcancel\",listener:touchEndEvent,options:{passive:true}}];this.addTemporaryEvents(events);if(params.dragStartPixels===0){this.onCommonMove(touch,this.touchStart,params.eElement);}}// gets called whenever mouse down on any drag source\nonMouseDown(params,mouseEvent){var e=mouseEvent;if(params.skipMouseEvent&&params.skipMouseEvent(mouseEvent)){return;}if(e._alreadyProcessedByDragService){return;}e._alreadyProcessedByDragService=true;if(mouseEvent.button!==0){return;}if(this.shouldPreventMouseEvent(mouseEvent)){mouseEvent.preventDefault();}this.currentDragParams=params;this.dragging=false;this.mouseStartEvent=mouseEvent;this.startTarget=mouseEvent.target;var mouseMoveEvent=event=>this.onMouseMove(event,params.eElement);var mouseUpEvent=event=>this.onMouseUp(event,params.eElement);var contextEvent=event=>event.preventDefault();var keydownEvent=event=>{if(event.key===KeyCode.ESCAPE){this.cancelDrag(params.eElement);}};var target=_getRootNode(this.beans);var events=[{target,type:\"mousemove\",listener:mouseMoveEvent},{target,type:\"mouseup\",listener:mouseUpEvent},{target,type:\"contextmenu\",listener:contextEvent},{target,type:\"keydown\",listener:keydownEvent}];this.addTemporaryEvents(events);if(params.dragStartPixels===0){this.onMouseMove(mouseEvent,params.eElement);}}addTemporaryEvents(events){events.forEach(currentEvent=>{var{target,type,listener,options}=currentEvent;target.addEventListener(type,listener,options);});this.dragEndFunctions.push(()=>{events.forEach(currentEvent=>{var{target,type,listener,options}=currentEvent;target.removeEventListener(type,listener,options);});});}// returns true if the event is close to the original event by X pixels either vertically or horizontally.\n// we only start dragging after X pixels so this allows us to know if we should start dragging yet.\nisEventNearStartEvent(currentEvent,startEvent){var{dragStartPixels}=this.currentDragParams;var requiredPixelDiff=_exists(dragStartPixels)?dragStartPixels:4;return _areEventsNear(currentEvent,startEvent,requiredPixelDiff);}getFirstActiveTouch(touchList){for(var i=0;i<touchList.length;i++){if(touchList[i].identifier===this.touchStart.identifier){return touchList[i];}}return null;}onCommonMove(currentEvent,startEvent,el){var _this$currentDragPara;if(!this.dragging){if(this.isEventNearStartEvent(currentEvent,startEvent)){return;}this.dragging=true;this.eventSvc.dispatchEvent({type:\"dragStarted\",target:el});this.currentDragParams.onDragStart(startEvent);if(!this.currentDragParams){this.dragging=false;return;}this.currentDragParams.onDragging(startEvent);}(_this$currentDragPara=this.currentDragParams)===null||_this$currentDragPara===void 0||_this$currentDragPara.onDragging(currentEvent);}onTouchMove(touchEvent,el){var touch=this.getFirstActiveTouch(touchEvent.touches);if(!touch){return;}this.onCommonMove(touch,this.touchStart,el);}// only gets called after a mouse down - as this is only added after mouseDown\n// and is removed when mouseUp happens\nonMouseMove(mouseEvent,el){if(_isBrowserSafari()){var _eDocument$getSelecti;var eDocument=_getDocument(this.beans);(_eDocument$getSelecti=eDocument.getSelection())===null||_eDocument$getSelecti===void 0||_eDocument$getSelecti.removeAllRanges();}if(this.shouldPreventMouseEvent(mouseEvent)){mouseEvent.preventDefault();}this.onCommonMove(mouseEvent,this.mouseStartEvent,el);}shouldPreventMouseEvent(mouseEvent){var{gos}=this;var isEnableCellTextSelect=gos.get(\"enableCellTextSelection\");var isMouseMove=mouseEvent.type===\"mousemove\";var isOverFormFieldElement=mouseEvent2=>{var el=mouseEvent2.target;var tagName=el===null||el===void 0?void 0:el.tagName.toLocaleLowerCase();return!!(tagName!==null&&tagName!==void 0&&tagName.match(\"^a$|textarea|input|select|button\"));};return(// when `isEnableCellTextSelect` is `true`, we need to preventDefault on mouseMove\n// to avoid the grid text being selected while dragging components.\nisEnableCellTextSelect&&isMouseMove&&mouseEvent.cancelable&&_isEventFromThisGrid(gos,mouseEvent)&&!isOverFormFieldElement(mouseEvent));}onTouchUp(touchEvent,el){var touch=this.getFirstActiveTouch(touchEvent.changedTouches);if(!touch){touch=this.touchLastTime;}this.onUpCommon(touch,el);}onMouseUp(mouseEvent,el){this.onUpCommon(mouseEvent,el);}onUpCommon(eventOrTouch,el){if(this.dragging){this.dragging=false;this.currentDragParams.onDragStop(eventOrTouch);this.eventSvc.dispatchEvent({type:\"dragStopped\",target:el});}this.resetDragProperties();}cancelDrag(el){var _this$currentDragPara2,_this$currentDragPara3;this.eventSvc.dispatchEvent({type:\"dragCancelled\",target:el});(_this$currentDragPara2=this.currentDragParams)===null||_this$currentDragPara2===void 0||(_this$currentDragPara3=_this$currentDragPara2.onDragCancel)===null||_this$currentDragPara3===void 0||_this$currentDragPara3.call(_this$currentDragPara2);this.resetDragProperties();}resetDragProperties(){this.mouseStartEvent=null;this.startTarget=null;this.touchStart=null;this.touchLastTime=null;this.currentDragParams=null;var{dragEndFunctions}=this;dragEndFunctions.forEach(func=>func());dragEndFunctions.length=0;}};// packages/ag-grid-community/src/entities/agColumnGroup.ts\nfunction createUniqueColumnGroupId(groupId,instanceId){return groupId+\"_\"+instanceId;}function isColumnGroup(col){return col instanceof AgColumnGroup;}var AgColumnGroup=class extends BeanStub{constructor(providedColumnGroup,groupId,partId,pinned){super();this.providedColumnGroup=providedColumnGroup;this.groupId=groupId;this.partId=partId;this.pinned=pinned;this.isColumn=false;// depends on the open/closed state of the group, only displaying columns are stored here\nthis.displayedChildren=[];// The measured height of this column's header when autoHeaderHeight is enabled\nthis.autoHeaderHeight=null;this.parent=null;}// as the user is adding and removing columns, the groups are recalculated.\n// this reset clears out all children, ready for children to be added again\nreset(){this.parent=null;this.children=null;this.displayedChildren=null;}getParent(){return this.parent;}getUniqueId(){return createUniqueColumnGroupId(this.groupId,this.partId);}isEmptyGroup(){return this.displayedChildren.length===0;}isMoving(){var allLeafColumns=this.getProvidedColumnGroup().getLeafColumns();if(!allLeafColumns||allLeafColumns.length===0){return false;}return allLeafColumns.every(col=>col.isMoving());}checkLeft(){this.displayedChildren.forEach(child=>{if(isColumnGroup(child)){child.checkLeft();}});if(this.displayedChildren.length>0){if(this.gos.get(\"enableRtl\")){var lastChild=_last(this.displayedChildren);var lastChildLeft=lastChild.getLeft();this.setLeft(lastChildLeft);}else{var firstChildLeft=this.displayedChildren[0].getLeft();this.setLeft(firstChildLeft);}}else{this.setLeft(null);}}getLeft(){return this.left;}getOldLeft(){return this.oldLeft;}setLeft(left){this.oldLeft=this.left;if(this.left!==left){this.left=left;this.dispatchLocalEvent({type:\"leftChanged\"});}}getPinned(){return this.pinned;}getGroupId(){return this.groupId;}getPartId(){return this.partId;}getActualWidth(){var _this$displayedChildr;var groupActualWidth=0;(_this$displayedChildr=this.displayedChildren)===null||_this$displayedChildr===void 0||_this$displayedChildr.forEach(child=>{groupActualWidth+=child.getActualWidth();});return groupActualWidth;}isResizable(){if(!this.displayedChildren){return false;}var result=false;this.displayedChildren.forEach(child=>{if(child.isResizable()){result=true;}});return result;}getMinWidth(){var result=0;this.displayedChildren.forEach(groupChild=>{result+=groupChild.getMinWidth();});return result;}addChild(child){if(!this.children){this.children=[];}this.children.push(child);}getDisplayedChildren(){return this.displayedChildren;}getLeafColumns(){var result=[];this.addLeafColumns(result);return result;}getDisplayedLeafColumns(){var result=[];this.addDisplayedLeafColumns(result);return result;}getDefinition(){return this.providedColumnGroup.getColGroupDef();}getColGroupDef(){return this.providedColumnGroup.getColGroupDef();}isPadding(){return this.providedColumnGroup.isPadding();}isExpandable(){return this.providedColumnGroup.isExpandable();}isExpanded(){return this.providedColumnGroup.isExpanded();}setExpanded(expanded){this.providedColumnGroup.setExpanded(expanded);}isAutoHeaderHeight(){var _this$getColGroupDef;return!!((_this$getColGroupDef=this.getColGroupDef())!==null&&_this$getColGroupDef!==void 0&&_this$getColGroupDef.autoHeaderHeight);}getAutoHeaderHeight(){return this.autoHeaderHeight;}/** Returns true if the header height has changed */setAutoHeaderHeight(height){var changed=height!==this.autoHeaderHeight;this.autoHeaderHeight=height;return changed;}addDisplayedLeafColumns(leafColumns){this.displayedChildren.forEach(child=>{if(isColumn(child)){leafColumns.push(child);}else if(isColumnGroup(child)){child.addDisplayedLeafColumns(leafColumns);}});}addLeafColumns(leafColumns){this.children.forEach(child=>{if(isColumn(child)){leafColumns.push(child);}else if(isColumnGroup(child)){child.addLeafColumns(leafColumns);}});}getChildren(){return this.children;}getColumnGroupShow(){return this.providedColumnGroup.getColumnGroupShow();}getProvidedColumnGroup(){return this.providedColumnGroup;}getPaddingLevel(){var parent=this.getParent();if(!this.isPadding()||!parent||!parent.isPadding()){return 0;}return 1+parent.getPaddingLevel();}calculateDisplayedColumns(){this.displayedChildren=[];var parentWithExpansion=this;while(parentWithExpansion!=null&&parentWithExpansion.isPadding()){parentWithExpansion=parentWithExpansion.getParent();}var isExpandable=parentWithExpansion?parentWithExpansion.getProvidedColumnGroup().isExpandable():false;if(!isExpandable){this.displayedChildren=this.children;this.dispatchLocalEvent({type:\"displayedChildrenChanged\"});return;}this.children.forEach(child=>{var emptyGroup=isColumnGroup(child)&&(!child.displayedChildren||!child.displayedChildren.length);if(emptyGroup){return;}var headerGroupShow=child.getColumnGroupShow();switch(headerGroupShow){case\"open\":if(parentWithExpansion.getProvidedColumnGroup().isExpanded()){this.displayedChildren.push(child);}break;case\"closed\":if(!parentWithExpansion.getProvidedColumnGroup().isExpanded()){this.displayedChildren.push(child);}break;default:this.displayedChildren.push(child);break;}});this.dispatchLocalEvent({type:\"displayedChildrenChanged\"});}};// packages/ag-grid-community/src/entities/rowNode.ts\nvar ROW_ID_PREFIX_ROW_GROUP=\"row-group-\";var ROW_ID_PREFIX_TOP_PINNED=\"t-\";var ROW_ID_PREFIX_BOTTOM_PINNED=\"b-\";var OBJECT_ID_SEQUENCE=0;var RowNode=class{constructor(beans){/** `true` if this row is a master row, part of master / detail (ie row can be expanded to show detail) */this.master=false;/** `true` if this row is a detail row, part of master / detail (ie child row of an expanded master row)*/this.detail=void 0;/** The current row index. If the row is filtered out or in a collapsed group, this value is set to `null`. */this.rowIndex=null;/** The key for the group eg Ireland, UK, USA */this.key=null;/**\n     * The index of the row in the source rowData array including any updates via transactions.\n     * It does not change when sorting, filtering, grouping, pivoting or any other UI related operations.\n     * If this is a filler node (a visual row created by AG Grid in tree data or grouping) the value is set to `-1`.\n     *\n     * Generally readonly. It is modified only by:\n     * - ClientSideNodeManager, cast to ClientSideNodeManagerRowNode\n     * - ClientSideRowModel, cast to ClientSideRowModelRowNode\n     */this.sourceRowIndex=-1;/** Children mapped by the pivot columns or group key */this.childrenMapped=null;/**\n     * Parent RowNode for tree data.\n     * When set, the parent node in the hierarchy is updated during Client-Side Row Model (CSRM) grouping.\n     * Used by the ClientSideChildrenTreeNodeManager, TreeGroupStrategy, RowDragFeature\n     */this.treeParent=null;/** The flags associated to this node. Used only internally within TreeGroupStrategy. */this.treeNodeFlags=0;/**\n     * This is `true` if the row has a rowIndex assigned, otherwise `false`.\n     */this.displayed=false;/** The row top position in pixels. */this.rowTop=null;/** The top pixel for this row last time, makes sense if data set was ordered or filtered,\n     * it is used so new rows can animate in from their old position. */this.oldRowTop=null;/** `true` by default - can be overridden via gridOptions.isRowSelectable(rowNode) */this.selectable=true;/**\n     * Used by sorting service - to give deterministic sort to groups. Previously we\n     * just id for this, however id is a string and had slower sorting compared to numbers.\n     * If re-naming this property, you must also update `IGNORED_SIBLING_PROPERTIES`\n     */this.__objectId=OBJECT_ID_SEQUENCE++;/** `true` when nodes with the same id are being removed and added as part of the same batch transaction */this.alreadyRendered=false;this.hovered=false;this.__selected=false;this.beans=beans;}/**\n   * Replaces the data on the `rowNode`. When this method is called, the grid refreshes the entire rendered row if it is displayed.\n   */setData(data){this.setDataCommon(data,false);}// similar to setRowData, however it is expected that the data is the same data item. this\n// is intended to be used with Redux type stores, where the whole data can be changed. we are\n// guaranteed that the data is the same entity (so grid doesn't need to worry about the id of the\n// underlying data changing, hence doesn't need to worry about selection). the grid, upon receiving\n// dataChanged event, refreshes the cells rather than rip them all out (so user can show transitions).\n/**\n   * Updates the data on the `rowNode`. When this method is called, the grid refreshes the entire rendered row if it is displayed.\n   */updateData(data){this.setDataCommon(data,true);}setDataCommon(data,update){var _this$__localEventSer;var{valueCache,eventSvc}=this.beans;var oldData=this.data;this.data=data;valueCache===null||valueCache===void 0||valueCache.onDataChanged();this.updateDataOnDetailNode();this.resetQuickFilterAggregateText();var event=this.createDataChangedEvent(data,oldData,update);(_this$__localEventSer=this.__localEventService)===null||_this$__localEventSer===void 0||_this$__localEventSer.dispatchEvent(event);if(this.sibling){var _this$sibling$__local;this.sibling.data=data;var event2=this.sibling.createDataChangedEvent(data,oldData,update);(_this$sibling$__local=this.sibling.__localEventService)===null||_this$sibling$__local===void 0||_this$sibling$__local.dispatchEvent(event2);}eventSvc.dispatchEvent({type:\"rowNodeDataChanged\",node:this});var pinnedSibling=this.pinnedSibling;if(pinnedSibling){var _pinnedSibling$__loca;pinnedSibling.data=data;(_pinnedSibling$__loca=pinnedSibling.__localEventService)===null||_pinnedSibling$__loca===void 0||_pinnedSibling$__loca.dispatchEvent(pinnedSibling.createDataChangedEvent(data,oldData,update));eventSvc.dispatchEvent({type:\"rowNodeDataChanged\",node:pinnedSibling});}}// when we are doing master / detail, the detail node is lazy created, but then kept around.\n// so if we show / hide the detail, the same detail rowNode is used. so we need to keep the data\n// in sync, otherwise expand/collapse of the detail would still show the old values.\nupdateDataOnDetailNode(){if(this.detailNode){this.detailNode.data=this.data;}}createDataChangedEvent(newData,oldData,update){return{type:\"dataChanged\",node:this,oldData,newData,update};}getRowIndexString(){if(this.rowIndex==null){_error(13);return null;}if(this.rowPinned===\"top\"){return ROW_ID_PREFIX_TOP_PINNED+this.rowIndex;}if(this.rowPinned===\"bottom\"){return ROW_ID_PREFIX_BOTTOM_PINNED+this.rowIndex;}return this.rowIndex.toString();}setDataAndId(data,id){var _selectionSvc$createD,_this$__localEventSer2;var{selectionSvc}=this.beans;var oldNode=selectionSvc===null||selectionSvc===void 0||(_selectionSvc$createD=selectionSvc.createDaemonNode)===null||_selectionSvc$createD===void 0?void 0:_selectionSvc$createD.call(selectionSvc,this);var oldData=this.data;this.data=data;this.updateDataOnDetailNode();this.setId(id);if(selectionSvc){selectionSvc.updateRowSelectable(this);selectionSvc.syncInRowNode(this,oldNode);}var event=this.createDataChangedEvent(data,oldData,false);(_this$__localEventSer2=this.__localEventService)===null||_this$__localEventSer2===void 0||_this$__localEventSer2.dispatchEvent(event);}setId(id){var getRowIdFunc=_getRowIdCallback(this.beans.gos);if(getRowIdFunc){if(this.data){var _this$parent$getRoute,_this$parent;var parentKeys=(_this$parent$getRoute=(_this$parent=this.parent)===null||_this$parent===void 0?void 0:_this$parent.getRoute())!==null&&_this$parent$getRoute!==void 0?_this$parent$getRoute:[];this.id=getRowIdFunc({data:this.data,parentKeys:parentKeys.length>0?parentKeys:void 0,level:this.level,rowPinned:this.rowPinned});if(this.id.startsWith(ROW_ID_PREFIX_ROW_GROUP)){_error(14,{groupPrefix:ROW_ID_PREFIX_ROW_GROUP});}}else{this.id=void 0;}}else{this.id=id;}}setRowTop(rowTop){this.oldRowTop=this.rowTop;if(this.rowTop===rowTop){return;}this.rowTop=rowTop;this.dispatchRowEvent(\"topChanged\");this.setDisplayed(rowTop!==null);}clearRowTopAndRowIndex(){this.oldRowTop=null;this.setRowTop(null);this.setRowIndex(null);}setHovered(hovered){this.hovered=hovered;}isHovered(){return this.hovered;}/**\n   * Sets the row height.\n   * Call if you want to change the height initially assigned to the row.\n   * After calling, you must call `api.onRowHeightChanged()` so the grid knows it needs to work out the placement of the rows. */setRowHeight(rowHeight){var estimated=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;this.rowHeight=rowHeight;this.rowHeightEstimated=estimated;this.dispatchRowEvent(\"heightChanged\");}setExpanded(expanded,e,forceSync){var _this$beans$expansion;(_this$beans$expansion=this.beans.expansionSvc)===null||_this$beans$expansion===void 0||_this$beans$expansion.setExpanded(this,expanded,e,forceSync);}/**\n   * Replaces the value on the `rowNode` for the specified column. When complete,\n   * the grid refreshes the rendered cell on the required row only.\n   * **Note**: This method only fires `onCellEditRequest` when the Grid is in **Read Only** mode.\n   * **Note**: This method defers to EditModule if available and batches the edit when `fullRow` or `batchEdit` is enabled.\n   *\n   * @param colKey The column where the value should be updated\n   * @param newValue The new value\n   * @param eventSource The source of the event\n   * @returns `true` if the value was changed, otherwise `false`.\n   */setDataValue(colKey,newValue,eventSource){var _colModel$getCol;var{colModel,valueSvc,gos,editSvc}=this.beans;var column=typeof colKey!==\"string\"?colKey:(_colModel$getCol=colModel.getCol(colKey))!==null&&_colModel$getCol!==void 0?_colModel$getCol:colModel.getColDefCol(colKey);if(!column){return false;}var oldValue=valueSvc.getValueForDisplay(column,this,void 0,void 0,\"api\").value;if(gos.get(\"readOnlyEdit\")){var{beans:{eventSvc},data,rowIndex,rowPinned}=this;eventSvc.dispatchEvent({type:\"cellEditRequest\",event:null,rowIndex,rowPinned,column,colDef:column.colDef,data,node:this,oldValue,newValue,value:newValue,source:eventSource});return false;}if(editSvc){var result=editSvc.setDataValue({rowNode:this,column},newValue,eventSource);if(result!=null){return result;}}var valueChanged=valueSvc.setValue(this,column,newValue,eventSource);this.dispatchCellChangedEvent(column,newValue,oldValue);var pinnedSibling=this.pinnedSibling;if(pinnedSibling){if(valueChanged){pinnedSibling.dispatchCellChangedEvent(column,newValue,oldValue);}}return valueChanged;}updateHasChildren(){var newValue=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;var{rowChildrenSvc}=this.beans;if(rowChildrenSvc){newValue=rowChildrenSvc.getHasChildrenValue(this);}if(newValue!==this.__hasChildren){this.__hasChildren=!!newValue;this.dispatchRowEvent(\"hasChildrenChanged\");}}hasChildren(){if(this.__hasChildren==null){this.updateHasChildren();}return this.__hasChildren;}dispatchCellChangedEvent(column,newValue,oldValue){var _this$__localEventSer3;var cellChangedEvent={type:\"cellChanged\",node:this,column,newValue,oldValue};(_this$__localEventSer3=this.__localEventService)===null||_this$__localEventSer3===void 0||_this$__localEventSer3.dispatchEvent(cellChangedEvent);}/**\n   * The first time `quickFilter` runs, the grid creates a one-off string representation of the row.\n   * This string is then used for the quick filter instead of hitting each column separately.\n   * When you edit, using grid editing, this string gets cleared down.\n   * However, if you edit without using grid editing, you need to clear this string down for the row to be updated with the new values.\n   * Otherwise, new values would not work with the `quickFilter`. */resetQuickFilterAggregateText(){this.quickFilterAggregateText=null;}/** Returns:\n   * - `true` if the node can be expanded, i.e it is a group or master row.\n   * - `false` if the node cannot be expanded\n   */isExpandable(){var _this$beans$expansion2,_this$beans$expansion3;return(_this$beans$expansion2=(_this$beans$expansion3=this.beans.expansionSvc)===null||_this$beans$expansion3===void 0?void 0:_this$beans$expansion3.isExpandable(this))!==null&&_this$beans$expansion2!==void 0?_this$beans$expansion2:false;}/** Returns:\n   * - `true` if node is selected,\n   * - `false` if the node isn't selected\n   * - `undefined` if it's partially selected (group where not all children are selected). */isSelected(){if(this.footer){return this.sibling.isSelected();}if(this.rowPinned&&this.pinnedSibling){return this.pinnedSibling.isSelected();}return this.__selected;}/** Perform a depth-first search of this node and its children. */depthFirstSearch(callback){var _this$childrenAfterGr;(_this$childrenAfterGr=this.childrenAfterGroup)===null||_this$childrenAfterGr===void 0||_this$childrenAfterGr.forEach(child=>child.depthFirstSearch(callback));callback(this);}dispatchRowEvent(type){var _this$__localEventSer4;(_this$__localEventSer4=this.__localEventService)===null||_this$__localEventSer4===void 0||_this$__localEventSer4.dispatchEvent({type,node:this});}/**\n   * Select (or deselect) the node.\n   * @param newValue -`true` for selection, `false` for deselection.\n   * @param clearSelection - If selecting, then passing `true` selects the node exclusively (i.e. NOT do multi select). If doing deselection, `clearSelection` has no impact.\n   * @param source - Source property that appears in the `selectionChanged` event.\n   */setSelected(newValue){var _this$beans$selection6;var clearSelection=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var source=arguments.length>2&&arguments[2]!==undefined?arguments[2]:\"api\";(_this$beans$selection6=this.beans.selectionSvc)===null||_this$beans$selection6===void 0||_this$beans$selection6.setNodesSelected({nodes:[this],newValue,clearSelection,source});}/**\n   * Returns:\n   * - `true` if node is either pinned to the `top` or `bottom`\n   * - `false` if the node isn't pinned\n   */isRowPinned(){return!!this.rowPinned;}__addEventListener(eventType,listener){if(!this.__localEventService){this.__localEventService=new LocalEventService();}this.__localEventService.addEventListener(eventType,listener);}__removeEventListener(eventType,listener){this.removeLocalListener(eventType,listener);}/**\n   * PUBLIC USE ONLY: for internal use within AG Grid use the `__addEventListener` and `__removeEventListener` methods.\n   */addEventListener(eventType,userListener){var _this$beans$validatio,_this$beans$framework3,_this$beans$framework4,_this$frameworkEventL5,_this$frameworkEventL6;(_this$beans$validatio=this.beans.validation)===null||_this$beans$validatio===void 0||_this$beans$validatio.checkRowEvents(eventType);if(!this.__localEventService){this.__localEventService=new LocalEventService();}this.frameworkEventListenerService=(_this$beans$framework3=(_this$beans$framework4=this.beans.frameworkOverrides).createLocalEventListenerWrapper)===null||_this$beans$framework3===void 0?void 0:_this$beans$framework3.call(_this$beans$framework4,this.frameworkEventListenerService,this.__localEventService);var listener=(_this$frameworkEventL5=(_this$frameworkEventL6=this.frameworkEventListenerService)===null||_this$frameworkEventL6===void 0?void 0:_this$frameworkEventL6.wrap(eventType,userListener))!==null&&_this$frameworkEventL5!==void 0?_this$frameworkEventL5:userListener;this.__localEventService.addEventListener(eventType,listener);}/**\n   * PUBLIC USE ONLY: for internal use within AG Grid use the `__addEventListener` and `__removeEventListener` methods.\n   */removeEventListener(eventType,userListener){var _this$frameworkEventL7,_this$frameworkEventL8;var listener=(_this$frameworkEventL7=(_this$frameworkEventL8=this.frameworkEventListenerService)===null||_this$frameworkEventL8===void 0?void 0:_this$frameworkEventL8.unwrap(eventType,userListener))!==null&&_this$frameworkEventL7!==void 0?_this$frameworkEventL7:userListener;this.removeLocalListener(eventType,listener);}removeLocalListener(eventType,listener){var _this$__localEventSer5,_this$__localEventSer6;(_this$__localEventSer5=this.__localEventService)===null||_this$__localEventSer5===void 0||_this$__localEventSer5.removeEventListener(eventType,listener);if((_this$__localEventSer6=this.__localEventService)!==null&&_this$__localEventSer6!==void 0&&_this$__localEventSer6.noRegisteredListenersExist()){this.__localEventService=null;}}/**\n   * @deprecated v32.2.0 Check `node.detail` then user provided callback `isFullWidthRow` instead.\n   *\n   * Returns:\n   * - `true` if the node is a full width cell\n   * - `false` if the node is not a full width cell\n   */isFullWidthCell(){_warn(61);if(this.detail){return true;}var isFullWidthCellFunc=this.beans.gos.getCallback(\"isFullWidthRow\");return isFullWidthCellFunc?isFullWidthCellFunc({rowNode:this}):false;}/**\n   * Returns the route of keys to the row node. Returns undefined if the node has no key.\n   */getRoute(){if(this.level===-1){return[];}if(this.key==null){return void 0;}var res=[];var pointer=this;while(pointer&&pointer.key!=null){res.push(pointer.key);pointer=pointer.parent;}return res.reverse();}setFirstChild(firstChild){if(this.firstChild!==firstChild){this.firstChild=firstChild;this.dispatchRowEvent(\"firstChildChanged\");}}setDisplayed(displayed){if(this.displayed!==displayed){this.displayed=displayed;this.dispatchRowEvent(\"displayedChanged\");}}setRowIndex(rowIndex){if(this.rowIndex!==rowIndex){this.rowIndex=rowIndex;this.dispatchRowEvent(\"rowIndexChanged\");}}setAllChildrenCount(allChildrenCount){if(this.allChildrenCount!==allChildrenCount){this.allChildrenCount=allChildrenCount;this.dispatchRowEvent(\"allChildrenCountChanged\");}}setUiLevel(uiLevel){if(this.uiLevel!==uiLevel){this.uiLevel=uiLevel;this.dispatchRowEvent(\"uiLevelChanged\");}}getFirstChild(){var _this$childrenAfterSo,_this$childrenAfterSo2;if(this.childStore){return this.childStore.getFirstNode();}return(_this$childrenAfterSo=(_this$childrenAfterSo2=this.childrenAfterSort)===null||_this$childrenAfterSo2===void 0?void 0:_this$childrenAfterSo2[0])!==null&&_this$childrenAfterSo!==void 0?_this$childrenAfterSo:null;}};// packages/ag-grid-community/src/entities/rowNodeUtils.ts\nfunction _createGlobalRowEvent(rowNode,gos,type){return _addGridCommonParams(gos,{type,node:rowNode,data:rowNode.data,rowIndex:rowNode.rowIndex,rowPinned:rowNode.rowPinned});}var IGNORED_SIBLING_PROPERTIES=/* @__PURE__ */new Set([\"__localEventService\",\"__objectId\",\"sticky\",\"__autoHeights\",\"__checkAutoHeightsDebounced\",\"childStore\"]);function _createRowNodeSibling(rowNode,beans){var sibling=new RowNode(beans);Object.keys(rowNode).forEach(key=>{if(IGNORED_SIBLING_PROPERTIES.has(key)){return;}sibling[key]=rowNode[key];});sibling.oldRowTop=null;return sibling;}// packages/ag-grid-community/src/filter/columnFilterUtils.ts\nvar FILTER_HANDLER_MAP={agSetColumnFilter:\"agSetColumnFilterHandler\",agMultiColumnFilter:\"agMultiColumnFilterHandler\",agGroupColumnFilter:\"agGroupColumnFilterHandler\",agNumberColumnFilter:\"agNumberColumnFilterHandler\",agDateColumnFilter:\"agDateColumnFilterHandler\",agTextColumnFilter:\"agTextColumnFilterHandler\"};var FILTER_HANDLERS=new Set(Object.values(FILTER_HANDLER_MAP));function getFilterUiFromWrapper(filterWrapper,skipCreate){var filterUi=filterWrapper.filterUi;if(!filterUi){return null;}if(filterUi.created){return filterUi.promise;}if(skipCreate){return null;}var promise=filterUi.create(filterUi.refreshed);var createdFilterUi=filterUi;createdFilterUi.created=true;createdFilterUi.promise=promise;return promise;}function _refreshHandlerAndUi(getFilterUi,handler,handlerParams,model,state,source){var _handler$refresh;(_handler$refresh=handler.refresh)===null||_handler$refresh===void 0||_handler$refresh.call(handler,_objectSpread(_objectSpread({},handlerParams),{},{model,source}));return getFilterUi().then(filterUi=>{if(filterUi){var{filter,filterParams}=filterUi;_refreshFilterUi(filter,filterParams,model,state,source);}});}function _refreshFilterUi(filter,filterParams,model,state,source){var _filter$refresh;filter===null||filter===void 0||(_filter$refresh=filter.refresh)===null||_filter$refresh===void 0||_filter$refresh.call(filter,_objectSpread(_objectSpread({},filterParams),{},{model,state,source}));}function getAndRefreshFilterUi(getFilterUi,getModel,getState2){var filterUi=getFilterUi();if(filterUi!==null&&filterUi!==void 0&&filterUi.created){filterUi.promise.then(filter=>{var _getState;var model=getModel();_refreshFilterUi(filter,filterUi.filterParams,model,(_getState=getState2())!==null&&_getState!==void 0?_getState:{model},\"ui\");});}}function _updateFilterModel(action,getFilterUi,getModel,getState2,updateState,updateModel){var state;var shouldUpdateModel=false;var model;switch(action){case\"apply\":{var _oldState$model;var oldState=getState2();model=(_oldState$model=oldState===null||oldState===void 0?void 0:oldState.model)!==null&&_oldState$model!==void 0?_oldState$model:null;state={// keep the other UI state\nstate:oldState===null||oldState===void 0?void 0:oldState.state,model};shouldUpdateModel=true;break;}case\"clear\":{state={// wipe other UI state\nmodel:null};break;}case\"reset\":{state={// wipe other UI state\nmodel:null};shouldUpdateModel=true;model=null;break;}case\"cancel\":{state={// wipe other UI state\nmodel:getModel()};break;}}updateState(state);if(shouldUpdateModel){updateModel(model);}else{getAndRefreshFilterUi(getFilterUi,getModel,getState2);}}function _getFilterModel(model,colId){var _model$colId;return(_model$colId=model[colId])!==null&&_model$colId!==void 0?_model$colId:null;}// packages/ag-grid-community/src/filter/filterLocaleText.ts\nvar FILTER_LOCALE_TEXT={applyFilter:\"Apply\",clearFilter:\"Clear\",resetFilter:\"Reset\",cancelFilter:\"Cancel\",textFilter:\"Text Filter\",numberFilter:\"Number Filter\",dateFilter:\"Date Filter\",setFilter:\"Set Filter\",filterOoo:\"Filter...\",empty:\"Choose one\",equals:\"Equals\",notEqual:\"Does not equal\",lessThan:\"Less than\",greaterThan:\"Greater than\",inRange:\"Between\",inRangeStart:\"From\",inRangeEnd:\"To\",lessThanOrEqual:\"Less than or equal to\",greaterThanOrEqual:\"Greater than or equal to\",contains:\"Contains\",notContains:\"Does not contain\",startsWith:\"Begins with\",endsWith:\"Ends with\",blank:\"Blank\",notBlank:\"Not blank\",before:\"Before\",after:\"After\",andCondition:\"AND\",orCondition:\"OR\",dateFormatOoo:\"yyyy-mm-dd\",filterSummaryInactive:\"is (All)\",filterSummaryContains:\"contains\",filterSummaryNotContains:\"does not contain\",filterSummaryTextEquals:\"equals\",filterSummaryTextNotEqual:\"does not equal\",filterSummaryStartsWith:\"begins with\",filterSummaryEndsWith:\"ends with\",filterSummaryBlank:\"is blank\",filterSummaryNotBlank:\"is not blank\",filterSummaryEquals:\"=\",filterSummaryNotEqual:\"!=\",filterSummaryGreaterThan:\">\",filterSummaryGreaterThanOrEqual:\">=\",filterSummaryLessThan:\"<\",filterSummaryLessThanOrEqual:\"<=\",filterSummaryInRange:\"between\",filterSummaryInRangeValues:variableValues=>\"(\".concat(variableValues[0],\", \").concat(variableValues[1],\")\"),filterSummaryTextQuote:variableValues=>\"\\\"\".concat(variableValues[0],\"\\\"\")};function translateForFilter(bean,key,variableValues){return _translate(bean,FILTER_LOCALE_TEXT,key,variableValues);}// packages/ag-grid-community/src/filter/filterButtonComp.ts\nfunction getElement(className){return{tag:\"div\",cls:className};}var FilterButtonComp=class extends Component{constructor(config){var{className=\"ag-filter-apply-panel\"}=config!==null&&config!==void 0?config:{};super(getElement(className));this.listeners=[];this.className=className;}updateButtons(buttons,useForm){var oldButtons=this.buttons;this.buttons=buttons;if(oldButtons===buttons){return;}var eGui=this.getGui();_clearElement(eGui);var eApplyButton;this.destroyListeners();var fragment=document.createDocumentFragment();var className=this.className;var addButton=type=>{var localeKey=\"\".concat(type,\"Filter\");var text=type?translateForFilter(this,localeKey):void 0;var clickListener=event=>{this.dispatchLocalEvent({type,event});};if(![\"apply\",\"clear\",\"reset\",\"cancel\"].includes(type)){_warn(75);}var isApply=type===\"apply\";var buttonType=isApply&&useForm?\"submit\":\"button\";var button=_createElement({tag:\"button\",attrs:{type:buttonType},ref:\"\".concat(type,\"FilterButton\"),cls:\"ag-button ag-standard-button \".concat(className,\"-button\").concat(isApply?\" \"+className+\"-apply-button\":\"\"),children:text});this.activateTabIndex([button]);if(isApply){eApplyButton=button;}var keydownListener=event=>{if(event.key===KeyCode.ENTER){event.preventDefault();clickListener(event);}};var listeners=this.listeners;button.addEventListener(\"click\",clickListener);listeners.push(()=>button.removeEventListener(\"click\",clickListener));button.addEventListener(\"keydown\",keydownListener);listeners.push(()=>button.removeEventListener(\"keydown\",keydownListener));fragment.append(button);};buttons.forEach(type=>addButton(type));this.eApply=eApplyButton;eGui.append(fragment);}updateValidity(valid){var eApplyButton=this.eApply;if(!eApplyButton){return;}_setDisabled(eApplyButton,valid===false);}destroyListeners(){this.listeners.forEach(destroyFunc=>destroyFunc());this.listeners=[];}destroy(){this.destroyListeners();super.destroy();}};// packages/ag-grid-community/src/filter/provided/providedFilterUtils.ts\nfunction getDebounceMs(params,debounceDefault){var{debounceMs}=params;if(_isUseApplyButton(params)){if(debounceMs!=null){_warn(71);}return 0;}return debounceMs!==null&&debounceMs!==void 0?debounceMs:debounceDefault;}function _isUseApplyButton(params){var _params$buttons$index,_params$buttons;return((_params$buttons$index=(_params$buttons=params.buttons)===null||_params$buttons===void 0?void 0:_params$buttons.indexOf(\"apply\"))!==null&&_params$buttons$index!==void 0?_params$buttons$index:-1)>=0;}// packages/ag-grid-community/src/filter/filterWrapperComp.ts\nvar FilterWrapperComp=class extends Component{constructor(column,wrapper,eventParent,updateModel,isGlobalButtons,enableGlobalButtonCheck){super();this.column=column;this.wrapper=wrapper;this.eventParent=eventParent;this.updateModel=updateModel;this.isGlobalButtons=isGlobalButtons;this.enableGlobalButtonCheck=enableGlobalButtonCheck;this.hidePopup=null;this.applyActive=false;}postConstruct(){var{comp,params:originalParams}=this.wrapper;var params=originalParams;var useForm=params.useForm;var tag=useForm?\"form\":\"div\";this.setTemplate({tag,cls:\"ag-filter-wrapper\"});if(useForm){this.addManagedElementListeners(this.getGui(),{submit:e=>{e===null||e===void 0||e.preventDefault();},keydown:this.handleKeyDown.bind(this)});}this.appendChild(comp.getGui());this.params=params;this.resetButtonsPanel(params);this.addManagedListeners(this.eventParent,_objectSpread({filterParamsChanged:_ref17=>{var{column,params:eventParams}=_ref17;if(column===this.column){this.resetButtonsPanel(eventParams,this.params);}},filterStateChanged:_ref18=>{var{column,state}=_ref18;if(column===this.column){var _this$eButtons;(_this$eButtons=this.eButtons)===null||_this$eButtons===void 0||_this$eButtons.updateValidity(state.valid);}},filterAction:_ref19=>{var{column,action,event:keyboardEvent}=_ref19;if(column===this.column){this.afterAction(action,keyboardEvent);}}},this.enableGlobalButtonCheck?{filterGlobalButtons:_ref20=>{var{isGlobal}=_ref20;if(isGlobal!==this.isGlobalButtons){this.isGlobalButtons=isGlobal;var currentParams=this.params;this.resetButtonsPanel(currentParams,currentParams,true);}}}:void 0));}afterGuiAttached(params){if(params){this.hidePopup=params.hidePopup;}}resetButtonsPanel(newParams,oldParams,forceUpdate){var{buttons:oldButtons,readOnly:oldReadOnly}=oldParams!==null&&oldParams!==void 0?oldParams:{};var{buttons,readOnly,useForm}=newParams;if(!forceUpdate&&oldReadOnly===readOnly&&_jsonEquals(oldButtons,buttons)){return;}var hasButtons=buttons&&buttons.length>0&&!newParams.readOnly&&!this.isGlobalButtons;var eButtonsPanel=this.eButtons;if(hasButtons){this.applyActive=_isUseApplyButton(this.params);if(!eButtonsPanel){var _eButtonsPanel;eButtonsPanel=this.createBean(new FilterButtonComp());this.appendChild(eButtonsPanel.getGui());var column=this.column;var getListener=action=>_ref21=>{var{event}=_ref21;this.updateModel(column,action);this.afterAction(action,event);};(_eButtonsPanel=eButtonsPanel)===null||_eButtonsPanel===void 0||_eButtonsPanel.addManagedListeners(eButtonsPanel,{apply:getListener(\"apply\"),clear:getListener(\"clear\"),reset:getListener(\"reset\"),cancel:getListener(\"cancel\")});this.eButtons=eButtonsPanel;}eButtonsPanel.updateButtons(buttons,useForm);}else{this.applyActive=false;if(eButtonsPanel){_removeFromParent(eButtonsPanel.getGui());this.eButtons=this.destroyBean(eButtonsPanel);}}}close(e){var hidePopup=this.hidePopup;if(!hidePopup){return;}var keyboardEvent=e;var key=keyboardEvent&&keyboardEvent.key;var params;if(key===KeyCode.ENTER||key===KeyCode.SPACE){params={keyboardEvent};}hidePopup(params);this.hidePopup=null;}afterAction(action,event){var{params,applyActive}=this;var closeOnApply=params===null||params===void 0?void 0:params.closeOnApply;switch(action){case\"apply\":{event===null||event===void 0||event.preventDefault();if(closeOnApply&&applyActive){this.close(event);}break;}case\"reset\":{if(closeOnApply&&applyActive){this.close();}break;}case\"cancel\":{if(closeOnApply){this.close(event);}break;}}}handleKeyDown(event){if(!event.defaultPrevented&&event.key===KeyCode.ENTER&&this.applyActive){this.updateModel(this.column,\"apply\");this.afterAction(\"apply\",event);}}destroy(){this.hidePopup=null;this.eButtons=this.destroyBean(this.eButtons);}};// packages/ag-grid-community/src/filter/filterComp.ts\nvar FilterElement={tag:\"div\",cls:\"ag-filter\"};var FilterComp=class extends Component{constructor(column,source,enableGlobalButtonCheck){super(FilterElement);this.column=column;this.source=source;this.enableGlobalButtonCheck=enableGlobalButtonCheck;this.wrapper=null;}postConstruct(){var _this$beans$colFilter;(_this$beans$colFilter=this.beans.colFilter)===null||_this$beans$colFilter===void 0||_this$beans$colFilter.activeFilterComps.add(this);this.createFilter(true);this.addManagedEventListeners({filterDestroyed:this.onFilterDestroyed.bind(this)});}hasFilter(){return this.wrapper!=null;}getFilter(){var _this$wrapper$then,_this$wrapper;return(_this$wrapper$then=(_this$wrapper=this.wrapper)===null||_this$wrapper===void 0?void 0:_this$wrapper.then(wrapper=>wrapper.comp))!==null&&_this$wrapper$then!==void 0?_this$wrapper$then:null;}afterInit(){var _this$wrapper$then2,_this$wrapper2;return(_this$wrapper$then2=(_this$wrapper2=this.wrapper)===null||_this$wrapper2===void 0?void 0:_this$wrapper2.then(()=>{}))!==null&&_this$wrapper$then2!==void 0?_this$wrapper$then2:AgPromise.resolve();}afterGuiAttached(params){var _this$wrapper3;this.afterGuiAttachedParams=params;(_this$wrapper3=this.wrapper)===null||_this$wrapper3===void 0||_this$wrapper3.then(wrapper=>{var _this$comp2,_wrapper$comp,_wrapper$comp$afterGu;(_this$comp2=this.comp)===null||_this$comp2===void 0||_this$comp2.afterGuiAttached(params);wrapper===null||wrapper===void 0||(_wrapper$comp=wrapper.comp)===null||_wrapper$comp===void 0||(_wrapper$comp$afterGu=_wrapper$comp.afterGuiAttached)===null||_wrapper$comp$afterGu===void 0||_wrapper$comp$afterGu.call(_wrapper$comp,params);});}afterGuiDetached(){var _this$wrapper4;(_this$wrapper4=this.wrapper)===null||_this$wrapper4===void 0||_this$wrapper4.then(wrapper=>{var _wrapper$comp2,_wrapper$comp2$afterG;wrapper===null||wrapper===void 0||(_wrapper$comp2=wrapper.comp)===null||_wrapper$comp2===void 0||(_wrapper$comp2$afterG=_wrapper$comp2.afterGuiDetached)===null||_wrapper$comp2$afterG===void 0||_wrapper$comp2$afterG.call(_wrapper$comp2);});}createFilter(init){var _colFilter$getFilterU;var{column,source,beans:{colFilter}}=this;var filterPromise=(_colFilter$getFilterU=colFilter.getFilterUiForDisplay(column))!==null&&_colFilter$getFilterU!==void 0?_colFilter$getFilterU:null;this.wrapper=filterPromise;filterPromise===null||filterPromise===void 0||filterPromise.then(wrapper=>{if(!wrapper){return;}var{isHandler,comp}=wrapper;var filterGui;if(isHandler){var enableGlobalButtonCheck=!!this.enableGlobalButtonCheck;var displayComp=this.createBean(new FilterWrapperComp(column,wrapper,colFilter,colFilter.updateModel.bind(colFilter),enableGlobalButtonCheck&&colFilter.isGlobalButtons,enableGlobalButtonCheck));this.comp=displayComp;filterGui=displayComp.getGui();}else{filterGui=comp.getGui();if(!_exists(filterGui)){_warn(69,{guiFromFilter:filterGui});}}this.appendChild(filterGui);if(init){this.eventSvc.dispatchEvent({type:\"filterOpened\",column,source,eGui:this.getGui()});}else{var _comp$afterGuiAttache;(_comp$afterGuiAttache=comp.afterGuiAttached)===null||_comp$afterGuiAttache===void 0||_comp$afterGuiAttache.call(comp,this.afterGuiAttachedParams);}});}onFilterDestroyed(event){var{source,column}=event;if((source===\"api\"||source===\"paramsUpdated\")&&column.getId()===this.column.getId()&&this.beans.colModel.getColDefCol(this.column)){_clearElement(this.getGui());this.comp=this.destroyBean(this.comp);this.createFilter();}}destroy(){var _this$beans$colFilter2;(_this$beans$colFilter2=this.beans.colFilter)===null||_this$beans$colFilter2===void 0||_this$beans$colFilter2.activeFilterComps.delete(this);this.eventSvc.dispatchEvent({type:\"filterClosed\",column:this.column});this.wrapper=null;this.comp=this.destroyBean(this.comp);this.afterGuiAttachedParams=void 0;super.destroy();}};// packages/ag-grid-community/src/utils/date.ts\nvar DATE_TIME_SEPARATOR=\"T\";var DATE_TIME_REGEXP=new RegExp(\"^\\\\d{4}-\\\\d{2}-\\\\d{2}(\".concat(DATE_TIME_SEPARATOR,\"\\\\d{2}:\\\\d{2}:\\\\d{2}\\\\D?)?\"));function _padStartWidthZeros(value,totalStringSize){return value.toString().padStart(totalStringSize,\"0\");}function _serialiseDate(date){var includeTime=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;var separator=arguments.length>2&&arguments[2]!==undefined?arguments[2]:\"-\";if(!date){return null;}var serialised=[date.getFullYear(),date.getMonth()+1,date.getDate()].map(part=>_padStartWidthZeros(part,2)).join(separator);if(includeTime){serialised+=DATE_TIME_SEPARATOR+[date.getHours(),date.getMinutes(),date.getSeconds()].map(part=>_padStartWidthZeros(part,2)).join(\":\");}return serialised;}function _getDateParts(d){var includeTime=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;if(!d){return null;}if(includeTime){return[String(d.getFullYear()),String(d.getMonth()+1),_padStartWidthZeros(d.getDate(),2),_padStartWidthZeros(d.getHours(),2),\":\".concat(_padStartWidthZeros(d.getMinutes(),2)),\":\".concat(_padStartWidthZeros(d.getSeconds(),2))];}return[d.getFullYear(),d.getMonth()+1,_padStartWidthZeros(d.getDate(),2)].map(String);}var calculateOrdinal=value=>{if(value>3&&value<21){return\"th\";}var remainder=value%10;switch(remainder){case 1:return\"st\";case 2:return\"nd\";case 3:return\"rd\";}return\"th\";};function _dateToFormattedString(date,format){if(format==null){return _serialiseDate(date,false);}var fullYear=_padStartWidthZeros(date.getFullYear(),4);var months=[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"];var days=[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"];var replace={YYYY:()=>fullYear.slice(fullYear.length-4,fullYear.length),YY:()=>fullYear.slice(fullYear.length-2,fullYear.length),Y:()=>\"\".concat(date.getFullYear()),MMMM:()=>months[date.getMonth()],MMM:()=>months[date.getMonth()].slice(0,3),MM:()=>_padStartWidthZeros(date.getMonth()+1,2),Mo:()=>\"\".concat(date.getMonth()+1).concat(calculateOrdinal(date.getMonth()+1)),M:()=>\"\".concat(date.getMonth()+1),Do:()=>\"\".concat(date.getDate()).concat(calculateOrdinal(date.getDate())),DD:()=>_padStartWidthZeros(date.getDate(),2),D:()=>\"\".concat(date.getDate()),dddd:()=>days[date.getDay()],ddd:()=>days[date.getDay()].slice(0,3),dd:()=>days[date.getDay()].slice(0,2),do:()=>\"\".concat(date.getDay()).concat(calculateOrdinal(date.getDay())),d:()=>\"\".concat(date.getDay())};var regexp=new RegExp(Object.keys(replace).join(\"|\"),\"g\");return format.replace(regexp,match=>{if(match in replace){return replace[match]();}return match;});}function _isValidDate(value){var bailIfInvalidTime=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;return!!_parseDateTimeFromString(value,bailIfInvalidTime);}function _isValidDateTime(value){var _value$match;return!!value&&_isValidDate(value,true)&&!!((_value$match=value.match(DATE_TIME_REGEXP))!==null&&_value$match!==void 0&&_value$match[1]);}function _parseDateTimeFromString(value){var bailIfInvalidTime=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(!value){return null;}var[dateStr,timeStr]=value.split(DATE_TIME_SEPARATOR);if(!dateStr){return null;}var fields=dateStr.split(\"-\").map(f=>parseInt(f,10));if(fields.filter(f=>!isNaN(f)).length!==3){return null;}var[year,month,day]=fields;var date=new Date(year,month-1,day);if(date.getFullYear()!==year||date.getMonth()!==month-1||date.getDate()!==day){return null;}if(!timeStr||timeStr===\"00:00:00\"){return date;}var[hours,minutes,seconds]=timeStr.split(\":\").map(part=>parseInt(part,10));if(hours>=0&&hours<24){date.setHours(hours);}else if(bailIfInvalidTime){return null;}if(minutes>=0&&minutes<60){date.setMinutes(minutes);}else if(bailIfInvalidTime){return null;}if(seconds>=0&&seconds<60){date.setSeconds(seconds);}else if(bailIfInvalidTime){return null;}return date;}// packages/ag-grid-community/src/filter/filterDataTypeUtils.ts\nvar MONTH_LOCALE_TEXT={january:\"January\",february:\"February\",march:\"March\",april:\"April\",may:\"May\",june:\"June\",july:\"July\",august:\"August\",september:\"September\",october:\"October\",november:\"November\",december:\"December\"};var MONTH_KEYS=[\"january\",\"february\",\"march\",\"april\",\"may\",\"june\",\"july\",\"august\",\"september\",\"october\",\"november\",\"december\"];function setFilterNumberComparator(a,b){if(a==null){return-1;}if(b==null){return 1;}return parseFloat(a)-parseFloat(b);}function _isValidDate2(value){return value instanceof Date&&!isNaN(value.getTime());}var filterParamsForEachDataType={number:()=>void 0,boolean:()=>({maxNumConditions:1,debounceMs:0,filterOptions:[\"empty\",{displayKey:\"true\",displayName:\"True\",predicate:(_filterValues,cellValue)=>cellValue,numberOfInputs:0},{displayKey:\"false\",displayName:\"False\",predicate:(_filterValues,cellValue)=>cellValue===false,numberOfInputs:0}]}),date:()=>({isValidDate:_isValidDate2}),dateString:_ref22=>{var{dataTypeDefinition}=_ref22;return{comparator:(filterDate,cellValue)=>{var cellAsDate=dataTypeDefinition.dateParser(cellValue);if(cellValue==null||cellAsDate<filterDate){return-1;}if(cellAsDate>filterDate){return 1;}return 0;},isValidDate:value=>typeof value===\"string\"&&_isValidDate2(dataTypeDefinition.dateParser(value))};},dateTime:args=>filterParamsForEachDataType.date(args),dateTimeString:args=>filterParamsForEachDataType.dateString(args),object:()=>void 0,text:()=>void 0};var setFilterParamsForEachDataType={number:()=>({comparator:setFilterNumberComparator}),boolean:_ref23=>{var{t}=_ref23;return{valueFormatter:params=>_exists(params.value)?t(String(params.value),params.value?\"True\":\"False\"):t(\"blanks\",\"(Blanks)\")};},date:_ref24=>{var{formatValue,t}=_ref24;return{valueFormatter:params=>{var valueFormatted=formatValue(params);return _exists(valueFormatted)?valueFormatted:t(\"blanks\",\"(Blanks)\");},treeList:true,treeListFormatter:(pathKey,level)=>{if(pathKey===\"NaN\"){return t(\"invalidDate\",\"Invalid Date\");}if(level===1&&pathKey!=null){var monthKey=MONTH_KEYS[Number(pathKey)-1];return t(monthKey,MONTH_LOCALE_TEXT[monthKey]);}return pathKey!==null&&pathKey!==void 0?pathKey:t(\"blanks\",\"(Blanks)\");},treeListPathGetter:date=>_getDateParts(date,false)};},dateString:_ref25=>{var{formatValue,dataTypeDefinition,t}=_ref25;return{valueFormatter:params=>{var valueFormatted=formatValue(params);return _exists(valueFormatted)?valueFormatted:t(\"blanks\",\"(Blanks)\");},treeList:true,treeListPathGetter:value=>_getDateParts(dataTypeDefinition.dateParser(value!==null&&value!==void 0?value:void 0),false),treeListFormatter:(pathKey,level)=>{if(level===1&&pathKey!=null){var monthKey=MONTH_KEYS[Number(pathKey)-1];return t(monthKey,MONTH_LOCALE_TEXT[monthKey]);}return pathKey!==null&&pathKey!==void 0?pathKey:t(\"blanks\",\"(Blanks)\");}};},dateTime:args=>{var params=setFilterParamsForEachDataType.date(args);params.treeListPathGetter=_getDateParts;return params;},dateTimeString(args){var convertToDate=args.dataTypeDefinition.dateParser;var params=setFilterParamsForEachDataType.dateString(args);params.treeListPathGetter=value=>_getDateParts(convertToDate(value!==null&&value!==void 0?value:void 0));return params;},object:_ref26=>{var{formatValue,t}=_ref26;return{valueFormatter:params=>{var valueFormatted=formatValue(params);return _exists(valueFormatted)?valueFormatted:t(\"blanks\",\"(Blanks)\");}};},text:()=>void 0};function _getFilterParamsForDataType(filter,existingFilterParams,existingFilterValueGetter,dataTypeDefinition,formatValue,beans,translate){var filterParams=existingFilterParams;var filterValueGetter=existingFilterValueGetter;var usingSetFilter=filter===\"agSetColumnFilter\";if(!filterValueGetter&&dataTypeDefinition.baseDataType===\"object\"&&!usingSetFilter){filterValueGetter=_ref27=>{var{column,node}=_ref27;return formatValue({column,node,value:beans.valueSvc.getValue(column,node)});};}var filterParamsMap=usingSetFilter?setFilterParamsForEachDataType:filterParamsForEachDataType;var filterParamsGetter=filterParamsMap[dataTypeDefinition.baseDataType];var newFilterParams=filterParamsGetter({dataTypeDefinition,formatValue,t:translate});filterParams=typeof existingFilterParams===\"object\"?_objectSpread(_objectSpread({},newFilterParams),existingFilterParams):newFilterParams;return{filterParams,filterValueGetter};}var defaultFilters={boolean:\"agTextColumnFilter\",date:\"agDateColumnFilter\",dateString:\"agDateColumnFilter\",dateTime:\"agDateColumnFilter\",dateTimeString:\"agDateColumnFilter\",number:\"agNumberColumnFilter\",object:\"agTextColumnFilter\",text:\"agTextColumnFilter\"};var defaultFloatingFilters={boolean:\"agTextColumnFloatingFilter\",date:\"agDateColumnFloatingFilter\",dateString:\"agDateColumnFloatingFilter\",dateTime:\"agDateColumnFloatingFilter\",dateTimeString:\"agDateColumnFloatingFilter\",number:\"agNumberColumnFloatingFilter\",object:\"agTextColumnFloatingFilter\",text:\"agTextColumnFloatingFilter\"};function _getDefaultSimpleFilter(cellDataType){var isFloating=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var filterSet=isFloating?defaultFloatingFilters:defaultFilters;return filterSet[cellDataType!==null&&cellDataType!==void 0?cellDataType:\"text\"];}// packages/ag-grid-community/src/rendering/features/positionableFeature.ts\nvar RESIZE_CONTAINER_STYLE=\"ag-resizer-wrapper\";var makeDiv=(dataRefPrefix,classSuffix)=>({tag:\"div\",ref:\"\".concat(dataRefPrefix,\"Resizer\"),cls:\"ag-resizer ag-resizer-\".concat(classSuffix)});var RESIZE_TEMPLATE={tag:\"div\",cls:RESIZE_CONTAINER_STYLE,children:[makeDiv(\"eTopLeft\",\"topLeft\"),makeDiv(\"eTop\",\"top\"),makeDiv(\"eTopRight\",\"topRight\"),makeDiv(\"eRight\",\"right\"),makeDiv(\"eBottomRight\",\"bottomRight\"),makeDiv(\"eBottom\",\"bottom\"),makeDiv(\"eBottomLeft\",\"bottomLeft\"),makeDiv(\"eLeft\",\"left\")]};var PositionableFeature=class extends BeanStub{constructor(element,config){super();this.element=element;this.dragStartPosition={x:0,y:0};this.position={x:0,y:0};this.lastSize={width:-1,height:-1};this.positioned=false;this.resizersAdded=false;this.resizeListeners=[];this.boundaryEl=null;this.isResizing=false;this.isMoving=false;this.resizable={};this.movable=false;this.currentResizer=null;this.config=Object.assign({},{popup:false},config);}wireBeans(beans){this.popupSvc=beans.popupSvc;this.dragSvc=beans.dragSvc;}center(){var{clientHeight,clientWidth}=this.offsetParent;var x=clientWidth/2-this.getWidth()/2;var y=clientHeight/2-this.getHeight()/2;this.offsetElement(x,y);}initialisePosition(){if(this.positioned){return;}var{centered,forcePopupParentAsOffsetParent,minWidth,width,minHeight,height,x,y}=this.config;if(!this.offsetParent){this.setOffsetParent();}var computedMinHeight=0;var computedMinWidth=0;var isElementVisible=_isVisible(this.element);if(isElementVisible){var boundaryEl=this.findBoundaryElement();var offsetParentComputedStyles=window.getComputedStyle(boundaryEl);if(offsetParentComputedStyles.minWidth!=null){var paddingWidth=boundaryEl.offsetWidth-this.element.offsetWidth;computedMinWidth=parseInt(offsetParentComputedStyles.minWidth,10)-paddingWidth;}if(offsetParentComputedStyles.minHeight!=null){var paddingHeight=boundaryEl.offsetHeight-this.element.offsetHeight;computedMinHeight=parseInt(offsetParentComputedStyles.minHeight,10)-paddingHeight;}}this.minHeight=minHeight||computedMinHeight;this.minWidth=minWidth||computedMinWidth;if(width){this.setWidth(width);}if(height){this.setHeight(height);}if(!width||!height){this.refreshSize();}if(centered){this.center();}else if(x||y){this.offsetElement(x,y);}else if(isElementVisible&&forcePopupParentAsOffsetParent){var _boundaryEl=this.boundaryEl;var initialisedDuringPositioning=true;if(!_boundaryEl){_boundaryEl=this.findBoundaryElement();initialisedDuringPositioning=false;}if(_boundaryEl){var top=parseFloat(_boundaryEl.style.top);var left=parseFloat(_boundaryEl.style.left);if(initialisedDuringPositioning){this.offsetElement(isNaN(left)?0:left,isNaN(top)?0:top);}else{this.setPosition(left,top);}}}this.positioned=!!this.offsetParent;}isPositioned(){return this.positioned;}getPosition(){return this.position;}setMovable(movable,moveElement){if(!this.config.popup||movable===this.movable){return;}this.movable=movable;var params=this.moveElementDragListener||{eElement:moveElement,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};if(movable){var _this$dragSvc;(_this$dragSvc=this.dragSvc)===null||_this$dragSvc===void 0||_this$dragSvc.addDragSource(params);this.moveElementDragListener=params;}else{var _this$dragSvc2;(_this$dragSvc2=this.dragSvc)===null||_this$dragSvc2===void 0||_this$dragSvc2.removeDragSource(params);this.moveElementDragListener=void 0;}}setResizable(resizable){this.clearResizeListeners();if(resizable){this.addResizers();}else{this.removeResizers();}if(typeof resizable===\"boolean\"){if(resizable===false){return;}resizable={topLeft:resizable,top:resizable,topRight:resizable,right:resizable,bottomRight:resizable,bottom:resizable,bottomLeft:resizable,left:resizable};}Object.keys(resizable).forEach(side=>{var resizableStructure=resizable;var isSideResizable=!!resizableStructure[side];var resizerEl=this.getResizerElement(side);var params={dragStartPixels:0,eElement:resizerEl,onDragStart:e=>this.onResizeStart(e,side),onDragging:this.onResize.bind(this),onDragStop:e=>this.onResizeEnd(e,side)};if(isSideResizable||!this.isAlive()&&!isSideResizable){if(isSideResizable){var _this$dragSvc3;(_this$dragSvc3=this.dragSvc)===null||_this$dragSvc3===void 0||_this$dragSvc3.addDragSource(params);this.resizeListeners.push(params);resizerEl.style.pointerEvents=\"all\";}else{resizerEl.style.pointerEvents=\"none\";}this.resizable[side]=isSideResizable;}});}removeSizeFromEl(){this.element.style.removeProperty(\"height\");this.element.style.removeProperty(\"width\");this.element.style.removeProperty(\"flex\");}restoreLastSize(){this.element.style.flex=\"0 0 auto\";var{height,width}=this.lastSize;if(width!==-1){this.element.style.width=\"\".concat(width,\"px\");}if(height!==-1){this.element.style.height=\"\".concat(height,\"px\");}}getHeight(){return this.element.offsetHeight;}setHeight(height){var{popup}=this.config;var eGui=this.element;var isPercent=false;if(typeof height===\"string\"&&height.indexOf(\"%\")!==-1){_setFixedHeight(eGui,height);height=_getAbsoluteHeight(eGui);isPercent=true;}else{height=Math.max(this.minHeight,height);if(this.positioned){var availableHeight=this.getAvailableHeight();if(availableHeight&&height>availableHeight){height=availableHeight;}}}if(this.getHeight()===height){return;}if(!isPercent){if(popup){_setFixedHeight(eGui,height);}else{eGui.style.height=\"\".concat(height,\"px\");eGui.style.flex=\"0 0 auto\";this.lastSize.height=typeof height===\"number\"?height:parseFloat(height);}}else{eGui.style.maxHeight=\"unset\";eGui.style.minHeight=\"unset\";}}getAvailableHeight(){var{popup,forcePopupParentAsOffsetParent}=this.config;if(!this.positioned){this.initialisePosition();}var{clientHeight}=this.offsetParent;if(!clientHeight){return null;}var elRect=this.element.getBoundingClientRect();var offsetParentRect=this.offsetParent.getBoundingClientRect();var yPosition=popup?this.position.y:elRect.top;var parentTop=popup?0:offsetParentRect.top;var additionalHeight=0;if(forcePopupParentAsOffsetParent){var parentEl=this.element.parentElement;if(parentEl){var{bottom}=parentEl.getBoundingClientRect();additionalHeight=bottom-elRect.bottom;}}var availableHeight=clientHeight+parentTop-yPosition-additionalHeight;return availableHeight;}getWidth(){return this.element.offsetWidth;}setWidth(width){var eGui=this.element;var{popup}=this.config;var isPercent=false;if(typeof width===\"string\"&&width.indexOf(\"%\")!==-1){_setFixedWidth(eGui,width);width=_getAbsoluteWidth(eGui);isPercent=true;}else if(this.positioned){width=Math.max(this.minWidth,width);var{clientWidth}=this.offsetParent;var xPosition=popup?this.position.x:this.element.getBoundingClientRect().left;if(clientWidth&&width+xPosition>clientWidth){width=clientWidth-xPosition;}}if(this.getWidth()===width){return;}if(!isPercent){if(this.config.popup){_setFixedWidth(eGui,width);}else{eGui.style.width=\"\".concat(width,\"px\");eGui.style.flex=\" unset\";this.lastSize.width=typeof width===\"number\"?width:parseFloat(width);}}else{eGui.style.maxWidth=\"unset\";eGui.style.minWidth=\"unset\";}}offsetElement(){var _this$popupSvc;var x=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var y=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var{forcePopupParentAsOffsetParent}=this.config;var ePopup=forcePopupParentAsOffsetParent?this.boundaryEl:this.element;if(!ePopup){return;}(_this$popupSvc=this.popupSvc)===null||_this$popupSvc===void 0||_this$popupSvc.positionPopup({ePopup,keepWithinBounds:true,skipObserver:this.movable||this.isResizable(),updatePosition:()=>({x,y})});this.setPosition(parseFloat(ePopup.style.left),parseFloat(ePopup.style.top));}constrainSizeToAvailableHeight(constrain){if(!this.config.forcePopupParentAsOffsetParent){return;}var applyMaxHeightToElement=()=>{var availableHeight=this.getAvailableHeight();this.element.style.setProperty(\"max-height\",\"\".concat(availableHeight,\"px\"));};if(constrain&&this.popupSvc){var _this$resizeObserverS,_this$popupSvc2;(_this$resizeObserverS=this.resizeObserverSubscriber)===null||_this$resizeObserverS===void 0||_this$resizeObserverS.call(this);this.resizeObserverSubscriber=_observeResize(this.beans,(_this$popupSvc2=this.popupSvc)===null||_this$popupSvc2===void 0?void 0:_this$popupSvc2.getPopupParent(),applyMaxHeightToElement);}else{this.element.style.removeProperty(\"max-height\");if(this.resizeObserverSubscriber){this.resizeObserverSubscriber();this.resizeObserverSubscriber=void 0;}}}setPosition(x,y){this.position.x=x;this.position.y=y;}updateDragStartPosition(x,y){this.dragStartPosition={x,y};}calculateMouseMovement(params){var{e,isLeft,isTop,anywhereWithin,topBuffer}=params;var xDiff=e.clientX-this.dragStartPosition.x;var yDiff=e.clientY-this.dragStartPosition.y;var movementX=this.shouldSkipX(e,!!isLeft,!!anywhereWithin,xDiff)?0:xDiff;var movementY=this.shouldSkipY(e,!!isTop,topBuffer,yDiff)?0:yDiff;return{movementX,movementY};}shouldSkipX(e,isLeft,anywhereWithin,diff){var elRect=this.element.getBoundingClientRect();var parentRect=this.offsetParent.getBoundingClientRect();var boundaryElRect=this.boundaryEl.getBoundingClientRect();var xPosition=this.config.popup?this.position.x:elRect.left;var skipX=xPosition<=0&&parentRect.left>=e.clientX||parentRect.right<=e.clientX&&parentRect.right<=boundaryElRect.right;if(skipX){return true;}if(isLeft){skipX=// skip if we are moving to the left and the cursor\n// is positioned to the right of the left side anchor\ndiff<0&&e.clientX>xPosition+parentRect.left||// skip if we are moving to the right and the cursor\n// is positioned to the left of the dialog\ndiff>0&&e.clientX<xPosition+parentRect.left;}else{if(anywhereWithin){skipX=diff<0&&e.clientX>boundaryElRect.right||diff>0&&e.clientX<xPosition+parentRect.left;}else{skipX=// if the movement is bound to the right side of the dialog\n// we skip if we are moving to the left and the cursor\n// is to the right of the dialog\ndiff<0&&e.clientX>boundaryElRect.right||// or skip if we are moving to the right and the cursor\n// is to the left of the right side anchor\ndiff>0&&e.clientX<boundaryElRect.right;}}return skipX;}shouldSkipY(e,isTop){var topBuffer=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var diff=arguments.length>3?arguments[3]:undefined;var elRect=this.element.getBoundingClientRect();var parentRect=this.offsetParent.getBoundingClientRect();var boundaryElRect=this.boundaryEl.getBoundingClientRect();var yPosition=this.config.popup?this.position.y:elRect.top;var skipY=yPosition<=0&&parentRect.top>=e.clientY||parentRect.bottom<=e.clientY&&parentRect.bottom<=boundaryElRect.bottom;if(skipY){return true;}if(isTop){skipY=// skip if we are moving to towards top and the cursor is\n// below the top anchor + topBuffer\n// note: topBuffer is used when moving the dialog using the title bar\ndiff<0&&e.clientY>yPosition+parentRect.top+topBuffer||// skip if we are moving to the bottom and the cursor is\n// above the top anchor\ndiff>0&&e.clientY<yPosition+parentRect.top;}else{skipY=// skip if we are moving towards the top and the cursor\n// is below the bottom anchor\ndiff<0&&e.clientY>boundaryElRect.bottom||// skip if we are moving towards the bottom and the cursor\n// is above the bottom anchor\ndiff>0&&e.clientY<boundaryElRect.bottom;}return skipY;}createResizeMap(){var getElement2=ref=>({element:this.element.querySelector(\"[data-ref=\".concat(ref,\"Resizer]\"))});this.resizerMap={topLeft:getElement2(\"eTopLeft\"),top:getElement2(\"eTop\"),topRight:getElement2(\"eTopRight\"),right:getElement2(\"eRight\"),bottomRight:getElement2(\"eBottomRight\"),bottom:getElement2(\"eBottom\"),bottomLeft:getElement2(\"eBottomLeft\"),left:getElement2(\"eLeft\")};}addResizers(){if(this.resizersAdded){return;}var eGui=this.element;if(!eGui){return;}eGui.appendChild(_createElement(RESIZE_TEMPLATE));this.createResizeMap();this.resizersAdded=true;}removeResizers(){this.resizerMap=void 0;var resizerEl=this.element.querySelector(\".\".concat(RESIZE_CONTAINER_STYLE));if(resizerEl){this.element.removeChild(resizerEl);}this.resizersAdded=false;}getResizerElement(side){return this.resizerMap[side].element;}onResizeStart(e,side){this.boundaryEl=this.findBoundaryElement();if(!this.positioned){this.initialisePosition();}this.currentResizer={isTop:!!side.match(/top/i),isRight:!!side.match(/right/i),isBottom:!!side.match(/bottom/i),isLeft:!!side.match(/left/i)};this.element.classList.add(\"ag-resizing\");this.resizerMap[side].element.classList.add(\"ag-active\");var{popup,forcePopupParentAsOffsetParent}=this.config;if(!popup&&!forcePopupParentAsOffsetParent){this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop);}this.isResizing=true;this.updateDragStartPosition(e.clientX,e.clientY);}getSiblings(){var element=this.element;var parent=element.parentElement;if(!parent){return null;}return Array.prototype.slice.call(parent.children).filter(el=>!el.classList.contains(\"ag-hidden\"));}getMinSizeOfSiblings(){var siblings=this.getSiblings()||[];var height=0;var width=0;for(var i=0;i<siblings.length;i++){var currentEl=siblings[i];var isFlex=!!currentEl.style.flex&&currentEl.style.flex!==\"0 0 auto\";if(currentEl===this.element){continue;}var nextHeight=this.minHeight||0;var nextWidth=this.minWidth||0;if(isFlex){var computedStyle=window.getComputedStyle(currentEl);if(computedStyle.minHeight){nextHeight=parseInt(computedStyle.minHeight,10);}if(computedStyle.minWidth){nextWidth=parseInt(computedStyle.minWidth,10);}}else{nextHeight=currentEl.offsetHeight;nextWidth=currentEl.offsetWidth;}height+=nextHeight;width+=nextWidth;}return{height,width};}applySizeToSiblings(vertical){var containerToFlex=null;var siblings=this.getSiblings();if(!siblings){return;}for(var i=0;i<siblings.length;i++){var el=siblings[i];if(el===containerToFlex){continue;}if(vertical){el.style.height=\"\".concat(el.offsetHeight,\"px\");}else{el.style.width=\"\".concat(el.offsetWidth,\"px\");}el.style.flex=\"0 0 auto\";if(el===this.element){containerToFlex=siblings[i+1];}}if(containerToFlex){containerToFlex.style.removeProperty(\"height\");containerToFlex.style.removeProperty(\"min-height\");containerToFlex.style.removeProperty(\"max-height\");containerToFlex.style.flex=\"1 1 auto\";}}isResizable(){return Object.values(this.resizable).some(value=>value);}onResize(e){if(!this.isResizing||!this.currentResizer){return;}var{popup,forcePopupParentAsOffsetParent}=this.config;var{isTop,isRight,isBottom,isLeft}=this.currentResizer;var isHorizontal=isRight||isLeft;var isVertical=isBottom||isTop;var{movementX,movementY}=this.calculateMouseMovement({e,isLeft,isTop});var xPosition=this.position.x;var yPosition=this.position.y;var offsetLeft=0;var offsetTop=0;if(isHorizontal&&movementX){var direction=isLeft?-1:1;var oldWidth=this.getWidth();var newWidth=oldWidth+movementX*direction;var skipWidth=false;if(isLeft){offsetLeft=oldWidth-newWidth;if(xPosition+offsetLeft<=0||newWidth<=this.minWidth){skipWidth=true;offsetLeft=0;}}if(!skipWidth){this.setWidth(newWidth);}}if(isVertical&&movementY){var _direction=isTop?-1:1;var oldHeight=this.getHeight();var newHeight=oldHeight+movementY*_direction;var skipHeight=false;if(isTop){offsetTop=oldHeight-newHeight;if(yPosition+offsetTop<=0||newHeight<=this.minHeight){skipHeight=true;offsetTop=0;}}else{if(!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&oldHeight<newHeight&&this.getMinSizeOfSiblings().height+newHeight>this.element.parentElement.offsetHeight){skipHeight=true;}}if(!skipHeight){this.setHeight(newHeight);}}this.updateDragStartPosition(e.clientX,e.clientY);if((popup||forcePopupParentAsOffsetParent)&&offsetLeft||offsetTop){this.offsetElement(xPosition+offsetLeft,yPosition+offsetTop);}}onResizeEnd(e,side){this.isResizing=false;this.currentResizer=null;this.boundaryEl=null;this.element.classList.remove(\"ag-resizing\");this.resizerMap[side].element.classList.remove(\"ag-active\");this.dispatchLocalEvent({type:\"resize\"});}refreshSize(){var eGui=this.element;if(this.config.popup){if(!this.config.width){this.setWidth(eGui.offsetWidth);}if(!this.config.height){this.setHeight(eGui.offsetHeight);}}}onMoveStart(e){this.boundaryEl=this.findBoundaryElement();if(!this.positioned){this.initialisePosition();}this.isMoving=true;this.element.classList.add(\"ag-moving\");this.updateDragStartPosition(e.clientX,e.clientY);}onMove(e){if(!this.isMoving){return;}var{x,y}=this.position;var topBuffer;if(this.config.calculateTopBuffer){topBuffer=this.config.calculateTopBuffer();}var{movementX,movementY}=this.calculateMouseMovement({e,isTop:true,anywhereWithin:true,topBuffer});this.offsetElement(x+movementX,y+movementY);this.updateDragStartPosition(e.clientX,e.clientY);}onMoveEnd(){this.isMoving=false;this.boundaryEl=null;this.element.classList.remove(\"ag-moving\");}setOffsetParent(){if(this.config.forcePopupParentAsOffsetParent&&this.popupSvc){this.offsetParent=this.popupSvc.getPopupParent();}else{this.offsetParent=this.element.offsetParent;}}findBoundaryElement(){var el=this.element;while(el){if(window.getComputedStyle(el).position!==\"static\"){return el;}el=el.parentElement;}return this.element;}clearResizeListeners(){while(this.resizeListeners.length){var _this$dragSvc4;var params=this.resizeListeners.pop();(_this$dragSvc4=this.dragSvc)===null||_this$dragSvc4===void 0||_this$dragSvc4.removeDragSource(params);}}destroy(){super.destroy();if(this.moveElementDragListener){var _this$dragSvc5;(_this$dragSvc5=this.dragSvc)===null||_this$dragSvc5===void 0||_this$dragSvc5.removeDragSource(this.moveElementDragListener);}this.constrainSizeToAvailableHeight(false);this.clearResizeListeners();this.removeResizers();}};// packages/ag-grid-community/src/widgets/managedFocusFeature.ts\nvar FOCUS_MANAGED_CLASS=\"ag-focus-managed\";var ManagedFocusFeature=class extends BeanStub{constructor(eFocusable){var callbacks=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};super();this.eFocusable=eFocusable;this.callbacks=callbacks;this.callbacks=_objectSpread({shouldStopEventPropagation:()=>false,onTabKeyDown:e=>{if(e.defaultPrevented){return;}var nextRoot=_findNextFocusableElement(this.beans,this.eFocusable,false,e.shiftKey);if(!nextRoot){return;}nextRoot.focus();e.preventDefault();}},callbacks);}postConstruct(){var{eFocusable,callbacks:{onFocusIn,onFocusOut}}=this;eFocusable.classList.add(FOCUS_MANAGED_CLASS);this.addKeyDownListeners(eFocusable);if(onFocusIn){this.addManagedElementListeners(eFocusable,{focusin:onFocusIn});}if(onFocusOut){this.addManagedElementListeners(eFocusable,{focusout:onFocusOut});}}addKeyDownListeners(eGui){this.addManagedElementListeners(eGui,{keydown:e=>{if(e.defaultPrevented||_isStopPropagationForAgGrid(e)){return;}var{callbacks}=this;if(callbacks.shouldStopEventPropagation(e)){_stopPropagationForAgGrid(e);return;}if(e.key===KeyCode.TAB){callbacks.onTabKeyDown(e);}else if(callbacks.handleKeyDown){callbacks.handleKeyDown(e);}}});}};// packages/ag-grid-community/src/filter/provided/providedFilter.ts\nvar ProvidedFilter=class extends Component{constructor(filterNameKey,cssIdentifier){super();this.filterNameKey=filterNameKey;this.cssIdentifier=cssIdentifier;this.applyActive=false;this.debouncePending=false;// subclasses can override this to provide alternative debounce defaults\nthis.defaultDebounceMs=0;}postConstruct(){var element={tag:\"div\",cls:\"ag-filter-body-wrapper ag-\".concat(this.cssIdentifier,\"-body-wrapper\"),children:[this.createBodyTemplate()]};this.setTemplate(element,this.getAgComponents());this.createManagedBean(new ManagedFocusFeature(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)}));this.positionableFeature=this.createBean(new PositionableFeature(this.getPositionableElement(),{forcePopupParentAsOffsetParent:true}));}handleKeyDown(_e){}init(legacyParams){var params=legacyParams;this.setParams(params);this.setModelIntoUi(params.state.model,true).then(()=>this.updateUiVisibility());}refresh(legacyNewParams){var newParams=legacyNewParams;var oldParams=this.params;this.params=newParams;var source=newParams.source;if(source===\"colDef\"){this.updateParams(newParams,oldParams);}var newState=newParams.state;var oldState=this.state;this.state=newState;if(newState.model!==oldState.model||newState.state!==oldState.state){this.setModelIntoUi(newState.model);}return true;}/** Called on init only. Override in subclasses */setParams(params){this.params=params;this.state=params.state;this.commonUpdateParams(params);}/** Called on refresh only. Override in subclasses */updateParams(newParams,oldParams){this.commonUpdateParams(newParams,oldParams);}commonUpdateParams(newParams,_oldParams){this.applyActive=_isUseApplyButton(newParams);this.setupApplyDebounced();}/**\n   * @deprecated v34 Use the same method on the filter handler (`api.getColumnFilterHandler()`) instead.\n   */doesFilterPass(params){_warn(283);var{getHandler,model,column}=this.params;return getHandler().doesFilterPass(_objectSpread(_objectSpread({},params),{},{model,handlerParams:this.beans.colFilter.getHandlerParams(column)}));}getFilterTitle(){return this.translate(this.filterNameKey);}/**\n   * @deprecated v34 Filters are active when they have a model. Use `api.getColumnFilterModel()` instead.\n   */isFilterActive(){_warn(284);return this.params.model!=null;}setupApplyDebounced(){var debounceMs=getDebounceMs(this.params,this.defaultDebounceMs);var debounceFunc=_debounce(this,this.checkApplyDebounce.bind(this),debounceMs);this.applyDebounced=()=>{this.debouncePending=true;debounceFunc();};}checkApplyDebounce(){if(this.debouncePending){this.debouncePending=false;this.doApplyModel();}}/**\n   * @deprecated v34 Use (`api.getColumnFilterModel()`) instead.\n   */getModel(){_warn(285);return this.params.model;}/**\n   * @deprecated v34 Use (`api.setColumnFilterModel()`) instead.\n   */setModel(model){_warn(286);var{beans,params}=this;return beans.colFilter.setModelForColumnLegacy(params.column,model);}/**\n   * Applies changes made in the UI to the filter, and returns true if the model has changed.\n   */applyModel(){var _source=arguments.length>0&&arguments[0]!==undefined?arguments[0]:\"api\";return this.doApplyModel();}canApply(_model){return true;}doApplyModel(additionalEventAttributes){var{params,state}=this;var changed=!this.areModelsEqual(params.model,state.model);if(changed){params.onAction(\"apply\",additionalEventAttributes);}return changed;}/**\n   * @deprecated v34 Internal method - should only be called by the grid.\n   */onNewRowsLoaded(){}/**\n   * By default, if the change came from a floating filter it will be applied immediately, otherwise if there is no\n   * apply button it will be applied after a debounce, otherwise it will not be applied at all. This behaviour can\n   * be adjusted by using the apply parameter.\n   */onUiChanged(apply){var afterFloatingFilter=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;this.updateUiVisibility();var model=this.getModelFromUi();var state={model,state:this.getState(),valid:this.canApply(model)};this.state=state;var params=this.params;params.onStateChange(state);params.onUiChange(this.getUiChangeEventParams());if(!this.gos.get(\"enableFilterHandlers\")){this.eventSvc.dispatchEvent({type:\"filterModified\",column:params.column,filterInstance:this});}apply!==null&&apply!==void 0?apply:apply=this.applyActive?void 0:\"debounce\";if(apply===\"immediately\"){this.doApplyModel({afterFloatingFilter,afterDataChange:false});}else if(apply===\"debounce\"){this.applyDebounced();}}getState(){return void 0;}getUiChangeEventParams(){return void 0;}afterGuiAttached(params){this.lastContainerType=params===null||params===void 0?void 0:params.container;this.refreshFilterResizer(params===null||params===void 0?void 0:params.container);}refreshFilterResizer(containerType){var{positionableFeature,gos}=this;if(!positionableFeature){return;}var isResizable=containerType===\"floatingFilter\"||containerType===\"columnFilter\";if(isResizable){positionableFeature.restoreLastSize();positionableFeature.setResizable(gos.get(\"enableRtl\")?{bottom:true,bottomLeft:true,left:true}:{bottom:true,bottomRight:true,right:true});}else{positionableFeature.removeSizeFromEl();positionableFeature.setResizable(false);}positionableFeature.constrainSizeToAvailableHeight(isResizable);}afterGuiDetached(){var _this$positionableFea;this.checkApplyDebounce();(_this$positionableFea=this.positionableFeature)===null||_this$positionableFea===void 0||_this$positionableFea.constrainSizeToAvailableHeight(false);}destroy(){this.positionableFeature=this.destroyBean(this.positionableFeature);super.destroy();}translate(key){return translateForFilter(this,key);}// override to control positionable feature\ngetPositionableElement(){return this.getGui();}areModelsEqual(a,b){if(a===b||a==null&&b==null){return true;}if(a==null||b==null){return false;}return this.areNonNullModelsEqual(a,b);}};// packages/ag-grid-community/src/filter/provided/iSimpleFilter.ts\nfunction isCombinedFilterModel(model){return!!model.operator;}// packages/ag-grid-community/src/filter/floating/floatingFilterMapper.ts\nfunction _getDefaultFloatingFilterType(frameworkOverrides,def,getFromDefault){if(def==null){return null;}var defaultFloatingFilterType=null;var{compName,jsComp,fwComp}=_getFilterCompKeys(frameworkOverrides,def);if(compName){var floatingFilterTypeMap={agSetColumnFilter:\"agSetColumnFloatingFilter\",agMultiColumnFilter:\"agMultiColumnFloatingFilter\",agGroupColumnFilter:\"agGroupColumnFloatingFilter\",agNumberColumnFilter:\"agNumberColumnFloatingFilter\",agDateColumnFilter:\"agDateColumnFloatingFilter\",agTextColumnFilter:\"agTextColumnFloatingFilter\"};defaultFloatingFilterType=floatingFilterTypeMap[compName];}else{var usingDefaultFilter=jsComp==null&&fwComp==null&&def.filter===true;if(usingDefaultFilter){defaultFloatingFilterType=getFromDefault();}}return defaultFloatingFilterType;}// packages/ag-grid-community/src/styling/layoutFeature.ts\nvar LayoutCssClasses={AUTO_HEIGHT:\"ag-layout-auto-height\",NORMAL:\"ag-layout-normal\",PRINT:\"ag-layout-print\"};var LayoutFeature=class extends BeanStub{constructor(view){super();this.view=view;}postConstruct(){this.addManagedPropertyListener(\"domLayout\",this.updateLayoutClasses.bind(this));this.updateLayoutClasses();}updateLayoutClasses(){var domLayout=this.gos.get(\"domLayout\");var params={autoHeight:domLayout===\"autoHeight\",normal:domLayout===\"normal\",print:domLayout===\"print\"};var cssClass=params.autoHeight?LayoutCssClasses.AUTO_HEIGHT:params.print?LayoutCssClasses.PRINT:LayoutCssClasses.NORMAL;this.view.updateLayoutClasses(cssClass,params);}};// packages/ag-grid-community/src/gridBodyComp/gridBodyScrollFeature.ts\nvar VIEWPORT=\"Viewport\";var FAKE_V_SCROLLBAR=\"fakeVScrollComp\";var HORIZONTAL_SOURCES=[\"fakeHScrollComp\",\"centerHeader\",\"topCenter\",\"bottomCenter\",\"stickyTopCenter\",\"stickyBottomCenter\"];var SCROLL_DEBOUNCE_TIMEOUT=100;var SCROLL_END_TIMEOUT=150;var GridBodyScrollFeature=class extends BeanStub{constructor(eBodyViewport){super();// listeners for when ensureIndexVisible is waiting for SSRM data to load\nthis.clearRetryListenerFncs=[];this.lastScrollSource=[null,null];this.scrollLeft=-1;this.nextScrollTop=-1;this.scrollTop=-1;// Used to provide approximate values of scrollTop and offsetHeight\n// without forcing the browser to recalculate styles.\nthis.lastOffsetHeight=-1;this.lastScrollTop=-1;this.lastIsHorizontalScrollShowing=false;this.scrollTimer=0;this.isScrollActive=false;this.isVerticalPositionInvalidated=true;this.isHorizontalPositionInvalidated=true;this.eBodyViewport=eBodyViewport;this.resetLastHScrollDebounced=_debounce(this,()=>this.lastScrollSource[1/* Horizontal */]=null,SCROLL_END_TIMEOUT);this.resetLastVScrollDebounced=_debounce(this,()=>this.lastScrollSource[0/* Vertical */]=null,SCROLL_END_TIMEOUT);}wireBeans(beans){this.ctrlsSvc=beans.ctrlsSvc;this.animationFrameSvc=beans.animationFrameSvc;this.visibleCols=beans.visibleCols;}destroy(){super.destroy();this.clearRetryListenerFncs=[];window.clearTimeout(this.scrollTimer);}postConstruct(){this.enableRtl=this.gos.get(\"enableRtl\");var invalidateVerticalScroll=this.invalidateVerticalScroll.bind(this);var invalidateHorizontalScroll=this.invalidateHorizontalScroll.bind(this);this.addManagedEventListeners({displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this),gridSizeChanged:invalidateVerticalScroll,// We only invalidate horizontal scrolling when the viewport switches\n// between scrollable and non-scrollable, avoiding unnecessary\n// invalidation on every gridSizeChanged event. If more properties\n// require invalidation, read/write DOM cycles may be needed.\nscrollGapChanged:invalidateHorizontalScroll});this.addManagedElementListeners(this.eBodyViewport,{scroll:invalidateVerticalScroll});this.ctrlsSvc.whenReady(this,p=>{this.centerRowsCtrl=p.center;this.onDisplayedColumnsWidthChanged();this.addScrollListener();});}invalidateHorizontalScroll(){this.isHorizontalPositionInvalidated=true;}invalidateVerticalScroll(){this.isVerticalPositionInvalidated=true;}addScrollListener(){this.addHorizontalScrollListeners();this.addVerticalScrollListeners();}addHorizontalScrollListeners(){this.addManagedElementListeners(this.centerRowsCtrl.eViewport,{scroll:this.onHScroll.bind(this,VIEWPORT)});for(var source of HORIZONTAL_SOURCES){var scrollPartner=this.ctrlsSvc.get(source);this.registerScrollPartner(scrollPartner,this.onHScroll.bind(this,source));}}addVerticalScrollListeners(){var fakeVScrollComp=this.ctrlsSvc.get(\"fakeVScrollComp\");var isDebounce=this.gos.get(\"debounceVerticalScrollbar\");var onVScroll=isDebounce?_debounce(this,this.onVScroll.bind(this,VIEWPORT),SCROLL_DEBOUNCE_TIMEOUT):this.onVScroll.bind(this,VIEWPORT);var onFakeVScroll=isDebounce?_debounce(this,this.onVScroll.bind(this,FAKE_V_SCROLLBAR),SCROLL_DEBOUNCE_TIMEOUT):this.onVScroll.bind(this,FAKE_V_SCROLLBAR);this.addManagedElementListeners(this.eBodyViewport,{scroll:onVScroll});this.registerScrollPartner(fakeVScrollComp,onFakeVScroll);}registerScrollPartner(comp,callback){comp.onScrollCallback(callback);}onDisplayedColumnsWidthChanged(){if(this.enableRtl){this.horizontallyScrollHeaderCenterAndFloatingCenter();}}horizontallyScrollHeaderCenterAndFloatingCenter(scrollLeft){var notYetInitialised=this.centerRowsCtrl==null;if(notYetInitialised){return;}if(scrollLeft===void 0){scrollLeft=this.centerRowsCtrl.getCenterViewportScrollLeft();}this.setScrollLeftForAllContainersExceptCurrent(Math.abs(scrollLeft));}setScrollLeftForAllContainersExceptCurrent(scrollLeft){for(var container of[...HORIZONTAL_SOURCES,VIEWPORT]){if(this.lastScrollSource[1/* Horizontal */]===container){continue;}var viewport=this.getViewportForSource(container);_setScrollLeft(viewport,scrollLeft,this.enableRtl);}}getViewportForSource(source){if(source===VIEWPORT){return this.centerRowsCtrl.eViewport;}return this.ctrlsSvc.get(source).eViewport;}isControllingScroll(source,direction){if(this.lastScrollSource[direction]==null){if(direction===0/* Vertical */){this.lastScrollSource[0]=source;}else{this.lastScrollSource[1]=source;}return true;}return this.lastScrollSource[direction]===source;}onHScroll(source){if(!this.isControllingScroll(source,1/* Horizontal */)){return;}var centerContainerViewport=this.centerRowsCtrl.eViewport;var{scrollLeft}=centerContainerViewport;if(this.shouldBlockScrollUpdate(1/* Horizontal */,scrollLeft,true)){return;}var newScrollLeft=_getScrollLeft(this.getViewportForSource(source),this.enableRtl);this.doHorizontalScroll(newScrollLeft);this.resetLastHScrollDebounced();}onVScroll(source){if(!this.isControllingScroll(source,0/* Vertical */)){return;}var scrollTop;if(source===VIEWPORT){scrollTop=this.eBodyViewport.scrollTop;}else{scrollTop=this.ctrlsSvc.get(\"fakeVScrollComp\").getScrollPosition();}if(this.shouldBlockScrollUpdate(0/* Vertical */,scrollTop,true)){return;}var{animationFrameSvc}=this;animationFrameSvc===null||animationFrameSvc===void 0||animationFrameSvc.setScrollTop(scrollTop);this.nextScrollTop=scrollTop;if(source===VIEWPORT){this.ctrlsSvc.get(\"fakeVScrollComp\").setScrollPosition(scrollTop);}else{this.eBodyViewport.scrollTop=scrollTop;}if(animationFrameSvc!==null&&animationFrameSvc!==void 0&&animationFrameSvc.active){animationFrameSvc.schedule();}else{this.scrollGridIfNeeded(true);}this.resetLastVScrollDebounced();}doHorizontalScroll(scrollLeft){var fakeScrollLeft=this.ctrlsSvc.get(\"fakeHScrollComp\").getScrollPosition();if(this.scrollLeft===scrollLeft&&scrollLeft===fakeScrollLeft){return;}this.scrollLeft=scrollLeft;this.fireScrollEvent(1/* Horizontal */);this.horizontallyScrollHeaderCenterAndFloatingCenter(scrollLeft);this.centerRowsCtrl.onHorizontalViewportChanged(true);}isScrolling(){return this.isScrollActive;}fireScrollEvent(direction){var bodyScrollEvent={type:\"bodyScroll\",direction:direction===1/* Horizontal */?\"horizontal\":\"vertical\",left:this.scrollLeft,top:this.scrollTop};this.isScrollActive=true;this.eventSvc.dispatchEvent(bodyScrollEvent);window.clearTimeout(this.scrollTimer);this.scrollTimer=window.setTimeout(()=>{this.scrollTimer=0;this.isScrollActive=false;this.eventSvc.dispatchEvent(_objectSpread(_objectSpread({},bodyScrollEvent),{},{type:\"bodyScrollEnd\"}));},SCROLL_END_TIMEOUT);}shouldBlockScrollUpdate(direction,scrollTo){var touchOnly=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if(touchOnly&&!_isIOSUserAgent()){return false;}if(direction===0/* Vertical */){return this.shouldBlockVerticalScroll(scrollTo);}return this.shouldBlockHorizontalScroll(scrollTo);}shouldBlockVerticalScroll(scrollTo){var clientHeight=_getInnerHeight(this.eBodyViewport);var{scrollHeight}=this.eBodyViewport;if(scrollTo<0||scrollTo+clientHeight>scrollHeight){return true;}return false;}shouldBlockHorizontalScroll(scrollTo){var clientWidth=this.centerRowsCtrl.getCenterWidth();var{scrollWidth}=this.centerRowsCtrl.eViewport;if(this.enableRtl){if(scrollTo>0){return true;}}else if(scrollTo<0){return true;}if(Math.abs(scrollTo)+clientWidth>scrollWidth){return true;}return false;}redrawRowsAfterScroll(){this.fireScrollEvent(0/* Vertical */);}// this is to cater for AG-3274, where grid is removed from the dom and then inserted back in again.\n// (which happens with some implementations of tabbing). this can result in horizontal scroll getting\n// reset back to the left, however no scroll event is fired. so we need to get header to also scroll\n// back to the left to be kept in sync.\n// adding and removing the grid from the DOM both resets the scroll position and\n// triggers a resize event, so notify listeners if the scroll position has changed\ncheckScrollLeft(){var scrollLeft=this.scrollLeft;var hasHorizontalScrollersOutOfSync=false;for(var source of HORIZONTAL_SOURCES){var viewport=this.getViewportForSource(source);if(viewport.scrollLeft!==scrollLeft){hasHorizontalScrollersOutOfSync=true;break;}}if(hasHorizontalScrollersOutOfSync){this.onHScroll(VIEWPORT);}}scrollGridIfNeeded(){var suppressedAnimationFrame=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var frameNeeded=this.scrollTop!=this.nextScrollTop;if(frameNeeded){this.scrollTop=this.nextScrollTop;if(suppressedAnimationFrame){this.invalidateVerticalScroll();}this.redrawRowsAfterScroll();}return frameNeeded;}// called by scrollHorizontally method and alignedGridsService\nsetHorizontalScrollPosition(hScrollPosition){var fromAlignedGridsService=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var minScrollLeft=0;var maxScrollLeft=this.centerRowsCtrl.eViewport.scrollWidth-this.centerRowsCtrl.getCenterWidth();if(!fromAlignedGridsService&&this.shouldBlockScrollUpdate(1/* Horizontal */,hScrollPosition)){if(this.enableRtl){hScrollPosition=hScrollPosition>0?0:maxScrollLeft;}else{hScrollPosition=Math.min(Math.max(hScrollPosition,minScrollLeft),maxScrollLeft);}}_setScrollLeft(this.centerRowsCtrl.eViewport,Math.abs(hScrollPosition),this.enableRtl);this.doHorizontalScroll(hScrollPosition);}setVerticalScrollPosition(vScrollPosition){this.invalidateVerticalScroll();this.eBodyViewport.scrollTop=vScrollPosition;}getVScrollPosition(){if(!this.isVerticalPositionInvalidated){var{lastOffsetHeight,lastScrollTop}=this;return{top:lastScrollTop,bottom:lastScrollTop+lastOffsetHeight};}this.isVerticalPositionInvalidated=false;var{scrollTop,offsetHeight}=this.eBodyViewport;this.lastScrollTop=scrollTop;this.lastOffsetHeight=offsetHeight;return{top:scrollTop,bottom:scrollTop+offsetHeight};}/** Get an approximate scroll position that returns the last real value read.\n   * This is useful for avoiding repeated DOM reads that force the browser to recalculate styles.\n   * This can have big performance improvements but may not be 100% accurate so only use if this is acceptable.\n   */getApproximateVScollPosition(){if(this.lastScrollTop>=0&&this.lastOffsetHeight>=0){return{top:this.scrollTop,bottom:this.scrollTop+this.lastOffsetHeight};}return this.getVScrollPosition();}getHScrollPosition(){return this.centerRowsCtrl.getHScrollPosition();}isHorizontalScrollShowing(){if(this.isHorizontalPositionInvalidated){this.lastIsHorizontalScrollShowing=this.centerRowsCtrl.isHorizontalScrollShowing();this.isHorizontalPositionInvalidated=false;}return this.lastIsHorizontalScrollShowing;}// called by the headerRootComp and moveColumnController\nscrollHorizontally(pixels){var oldScrollPosition=this.centerRowsCtrl.eViewport.scrollLeft;this.setHorizontalScrollPosition(oldScrollPosition+pixels);return this.centerRowsCtrl.eViewport.scrollLeft-oldScrollPosition;}// gets called by rowRenderer when new data loaded, as it will want to scroll to the top\nscrollToTop(){this.eBodyViewport.scrollTop=0;}// Valid values for position are bottom, middle and top\nensureNodeVisible(comparator){var position=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var{rowModel}=this.beans;var rowCount=rowModel.getRowCount();var indexToSelect=-1;for(var i=0;i<rowCount;i++){var node=rowModel.getRow(i);if(typeof comparator===\"function\"){var predicate=comparator;if(node&&predicate(node)){indexToSelect=i;break;}}else{if(comparator===node||comparator===node.data){indexToSelect=i;break;}}}if(indexToSelect>=0){this.ensureIndexVisible(indexToSelect,position);}}// Valid values for position are bottom, middle and top\n// position should be {'top','middle','bottom', or undefined/null}.\n// if undefined/null, then the grid will to the minimal amount of scrolling,\n// eg if grid needs to scroll up, it scrolls until row is on top,\n//    if grid needs to scroll down, it scrolls until row is on bottom,\n//    if row is already in view, grid does not scroll\nensureIndexVisible(index,position){var retry=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;if(_isDomLayout(this.gos,\"print\")){return;}var{rowModel}=this.beans;var rowCount=rowModel.getRowCount();if(typeof index!==\"number\"||index<0||index>=rowCount){_warn(88,{index});return;}this.clearRetryListeners();var{frameworkOverrides,pageBounds,rowContainerHeight:heightScaler,rowRenderer}=this.beans;frameworkOverrides.wrapIncoming(()=>{var _this$animationFrameS,_this$beans$rowAutoHe3;var gridBodyCtrl=this.ctrlsSvc.getGridBodyCtrl();var rowNode=rowModel.getRow(index);var rowGotShiftedDuringOperation;var stickyHeightsChanged;var attempt=0;this.invalidateVerticalScroll();do{var{stickyTopHeight,stickyBottomHeight}=gridBodyCtrl;var startingRowTop=rowNode.rowTop;var startingRowHeight=rowNode.rowHeight;var paginationOffset=pageBounds.getPixelOffset();var rowTopPixel=rowNode.rowTop-paginationOffset;var rowBottomPixel=rowTopPixel+rowNode.rowHeight;var scrollPosition=this.getVScrollPosition();var heightOffset=heightScaler.divStretchOffset;var vScrollTop=scrollPosition.top+heightOffset;var vScrollBottom=scrollPosition.bottom+heightOffset;var viewportHeight=vScrollBottom-vScrollTop;var pxTop=heightScaler.getScrollPositionForPixel(rowTopPixel);var pxBottom=heightScaler.getScrollPositionForPixel(rowBottomPixel-viewportHeight);var pxMiddle=Math.min((pxTop+pxBottom)/2,rowTopPixel);var rowAboveViewport=vScrollTop+stickyTopHeight>rowTopPixel;var rowBelowViewport=vScrollBottom-stickyBottomHeight<rowBottomPixel;var newScrollPosition=null;if(position===\"top\"){newScrollPosition=pxTop-stickyTopHeight;}else if(position===\"bottom\"){newScrollPosition=pxBottom+stickyBottomHeight;}else if(position===\"middle\"){newScrollPosition=pxMiddle;}else if(rowAboveViewport){newScrollPosition=pxTop-stickyTopHeight;}else if(rowBelowViewport){if(pxBottom-pxTop>viewportHeight){newScrollPosition=pxTop-stickyTopHeight;}else{newScrollPosition=pxBottom+stickyBottomHeight;}}if(newScrollPosition!==null){this.setVerticalScrollPosition(newScrollPosition);rowRenderer.redraw({afterScroll:true});}rowGotShiftedDuringOperation=startingRowTop!==rowNode.rowTop||startingRowHeight!==rowNode.rowHeight;stickyHeightsChanged=stickyTopHeight!==gridBodyCtrl.stickyTopHeight||stickyBottomHeight!==gridBodyCtrl.stickyBottomHeight;attempt++;}while((rowGotShiftedDuringOperation||stickyHeightsChanged)&&attempt<10);(_this$animationFrameS=this.animationFrameSvc)===null||_this$animationFrameS===void 0||_this$animationFrameS.flushAllFrames();if(retry<10&&(rowNode!==null&&rowNode!==void 0&&rowNode.stub||!((_this$beans$rowAutoHe3=this.beans.rowAutoHeight)!==null&&_this$beans$rowAutoHe3!==void 0&&_this$beans$rowAutoHe3.areRowsMeasured()))){var scrollTop=this.getVScrollPosition().top;this.clearRetryListenerFncs=this.addManagedEventListeners({bodyScroll:()=>{var newScrollTop=this.getVScrollPosition().top;if(scrollTop===newScrollTop){return;}this.clearRetryListeners();},modelUpdated:()=>{this.clearRetryListeners();if(index>=rowModel.getRowCount()){return;}this.ensureIndexVisible(index,position,retry+1);}});}});}clearRetryListeners(){this.clearRetryListenerFncs.forEach(callback=>callback());this.clearRetryListenerFncs=[];}ensureColumnVisible(key){var position=arguments.length>1&&arguments[1]!==undefined?arguments[1]:\"auto\";var{colModel,frameworkOverrides}=this.beans;var column=colModel.getCol(key);if(!column){return;}if(column.isPinned()){return;}if(!this.visibleCols.isColDisplayed(column)){return;}var newHorizontalScroll=this.getPositionedHorizontalScroll(column,position);frameworkOverrides.wrapIncoming(()=>{var _this$animationFrameS2;if(newHorizontalScroll!==null){this.centerRowsCtrl.setCenterViewportScrollLeft(newHorizontalScroll);}this.centerRowsCtrl.onHorizontalViewportChanged();(_this$animationFrameS2=this.animationFrameSvc)===null||_this$animationFrameS2===void 0||_this$animationFrameS2.flushAllFrames();});}getPositionedHorizontalScroll(column,position){var{columnBeforeStart,columnAfterEnd}=this.isColumnOutsideViewport(column);var viewportTooSmallForColumn=this.centerRowsCtrl.getCenterWidth()<column.getActualWidth();var viewportWidth=this.centerRowsCtrl.getCenterWidth();var isRtl=this.enableRtl;var alignColToStart=(isRtl?columnBeforeStart:columnAfterEnd)||viewportTooSmallForColumn;var alignColToEnd=isRtl?columnAfterEnd:columnBeforeStart;if(position!==\"auto\"){alignColToStart=position===\"start\";alignColToEnd=position===\"end\";}var isMiddle=position===\"middle\";if(alignColToStart||alignColToEnd||isMiddle){var{colLeft,colMiddle,colRight}=this.getColumnBounds(column);if(isMiddle){return colMiddle-viewportWidth/2;}if(alignColToStart){return isRtl?colRight:colLeft;}return isRtl?colLeft-viewportWidth:colRight-viewportWidth;}return null;}isColumnOutsideViewport(column){var{start:viewportStart,end:viewportEnd}=this.getViewportBounds();var{colLeft,colRight}=this.getColumnBounds(column);var isRtl=this.enableRtl;var columnBeforeStart=isRtl?viewportStart>colRight:viewportEnd<colRight;var columnAfterEnd=isRtl?viewportEnd<colLeft:viewportStart>colLeft;return{columnBeforeStart,columnAfterEnd};}getColumnBounds(column){var isRtl=this.enableRtl;var bodyWidth=this.visibleCols.bodyWidth;var colWidth=column.getActualWidth();var colLeft=column.getLeft();var multiplier=isRtl?-1:1;var colLeftPixel=isRtl?bodyWidth-colLeft:colLeft;var colRightPixel=colLeftPixel+colWidth*multiplier;var colMidPixel=colLeftPixel+colWidth/2*multiplier;return{colLeft:colLeftPixel,colMiddle:colMidPixel,colRight:colRightPixel};}getViewportBounds(){var viewportWidth=this.centerRowsCtrl.getCenterWidth();var scrollPosition=this.centerRowsCtrl.getCenterViewportScrollLeft();var viewportStartPixel=scrollPosition;var viewportEndPixel=viewportWidth+scrollPosition;return{start:viewportStartPixel,end:viewportEndPixel,width:viewportWidth};}};// packages/ag-grid-community/src/gridBodyComp/centerWidthFeature.ts\nvar CenterWidthFeature=class extends BeanStub{constructor(callback){var addSpacer=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;super();this.callback=callback;this.addSpacer=addSpacer;}postConstruct(){var listener=this.setWidth.bind(this);this.addManagedPropertyListener(\"domLayout\",listener);this.addManagedEventListeners({columnContainerWidthChanged:listener,displayedColumnsChanged:listener,leftPinnedWidthChanged:listener});if(this.addSpacer){this.addManagedEventListeners({rightPinnedWidthChanged:listener,scrollVisibilityChanged:listener,scrollbarWidthChanged:listener});}this.setWidth();}setWidth(){var printLayout=_isDomLayout(this.gos,\"print\");var{visibleCols,scrollVisibleSvc}=this.beans;var centerWidth=visibleCols.bodyWidth;var leftWidth=visibleCols.getColsLeftWidth();var rightWidth=visibleCols.getDisplayedColumnsRightWidth();var totalWidth;if(printLayout){totalWidth=centerWidth+leftWidth+rightWidth;}else{totalWidth=centerWidth;if(this.addSpacer){var relevantWidth=this.gos.get(\"enableRtl\")?leftWidth:rightWidth;if(relevantWidth===0&&scrollVisibleSvc.verticalScrollShowing){totalWidth+=scrollVisibleSvc.getScrollbarWidth();}}}this.callback(totalWidth);}};// packages/ag-grid-community/src/gridBodyComp/viewportSizeFeature.ts\nvar ViewportSizeFeature=class extends BeanStub{constructor(centerContainerCtrl){super();this.centerContainerCtrl=centerContainerCtrl;}wireBeans(beans){this.scrollVisibleSvc=beans.scrollVisibleSvc;}postConstruct(){this.beans.ctrlsSvc.whenReady(this,p=>{this.gridBodyCtrl=p.gridBodyCtrl;this.listenForResize();});this.addManagedEventListeners({scrollbarWidthChanged:this.onScrollbarWidthChanged.bind(this)});this.addManagedPropertyListeners([\"alwaysShowHorizontalScroll\",\"alwaysShowVerticalScroll\"],()=>{this.checkViewportAndScrolls();});}listenForResize(){var{beans,centerContainerCtrl,gridBodyCtrl}=this;var listener=()=>{_requestAnimationFrame(beans,()=>{this.onCenterViewportResized();});};centerContainerCtrl.registerViewportResizeListener(listener);gridBodyCtrl.registerBodyViewportResizeListener(listener);}onScrollbarWidthChanged(){this.checkViewportAndScrolls();}onCenterViewportResized(){this.scrollVisibleSvc.updateScrollGap();if(this.centerContainerCtrl.isViewportInTheDOMTree()){var{pinnedCols,colFlex}=this.beans;pinnedCols===null||pinnedCols===void 0||pinnedCols.keepPinnedColumnsNarrowerThanViewport();this.checkViewportAndScrolls();var newWidth=this.centerContainerCtrl.getCenterWidth();if(newWidth!==this.centerWidth){this.centerWidth=newWidth;colFlex===null||colFlex===void 0||colFlex.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:true,fireResizedEvent:true});}}else{this.bodyHeight=0;}}// gets called every time the viewport size changes. we use this to check visibility of scrollbars\n// in the grid panel, and also to check size and position of viewport for row and column virtualisation.\ncheckViewportAndScrolls(){this.updateScrollVisibleService();this.checkBodyHeight();this.onHorizontalViewportChanged();this.gridBodyCtrl.scrollFeature.checkScrollLeft();}getBodyHeight(){return this.bodyHeight;}checkBodyHeight(){var eBodyViewport=this.gridBodyCtrl.eBodyViewport;var bodyHeight=_getInnerHeight(eBodyViewport);if(this.bodyHeight!==bodyHeight){this.bodyHeight=bodyHeight;this.eventSvc.dispatchEvent({type:\"bodyHeightChanged\"});}}updateScrollVisibleService(){this.updateScrollVisibleServiceImpl();setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500);}updateScrollVisibleServiceImpl(){var params={horizontalScrollShowing:this.centerContainerCtrl.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleSvc.setScrollsVisible(params);}// this gets called whenever a change in the viewport, so we can inform column controller it has to work\n// out the virtual columns again. gets called from following locations:\n// + ensureColVisible, scroll, init, layoutChanged, displayedColumnsChanged\nonHorizontalViewportChanged(){var scrollWidth=this.centerContainerCtrl.getCenterWidth();var scrollPosition=this.centerContainerCtrl.getViewportScrollLeft();this.beans.colViewport.setScrollPosition(scrollWidth,scrollPosition);}};// packages/ag-grid-community/src/styling/stylingUtils.ts\nfunction processClassRules(expressionSvc,previousClassRules,classRules,params,onApplicableClass,onNotApplicableClass){if(classRules==null&&previousClassRules==null){return;}var classesToApply={};var classesToRemove={};var forEachSingleClass=(className,callback)=>{className.split(\" \").forEach(singleClass=>{if(singleClass.trim()==\"\")return;callback(singleClass);});};if(classRules){var classNames=Object.keys(classRules);var _loop3=function _loop3(){var className=classNames[i];var rule=classRules[className];var resultOfRule;if(typeof rule===\"string\"){resultOfRule=expressionSvc?expressionSvc.evaluate(rule,params):true;}else if(typeof rule===\"function\"){resultOfRule=rule(params);}forEachSingleClass(className,singleClass=>{resultOfRule?classesToApply[singleClass]=true:classesToRemove[singleClass]=true;});};for(var i=0;i<classNames.length;i++){_loop3();}}if(previousClassRules&&onNotApplicableClass){Object.keys(previousClassRules).forEach(className=>forEachSingleClass(className,singleClass=>{if(!classesToApply[singleClass]){classesToRemove[singleClass]=true;}}));}if(onNotApplicableClass){Object.keys(classesToRemove).forEach(onNotApplicableClass);}Object.keys(classesToApply).forEach(onApplicableClass);}// packages/ag-grid-community/src/styling/rowStyleService.ts\nfunction calculateRowLevel(rowNode){if(rowNode.group){return rowNode.level;}var parent=rowNode.parent;return parent?parent.level+1:0;}var RowStyleService=class extends BeanStub{constructor(){super(...arguments);this.beanName=\"rowStyleSvc\";}processClassesFromGridOptions(classes,rowNode){var gos=this.gos;var process=rowCls=>{if(typeof rowCls===\"string\"){classes.push(rowCls);}else if(Array.isArray(rowCls)){rowCls.forEach(e=>classes.push(e));}};var rowClass=gos.get(\"rowClass\");if(rowClass){process(rowClass);}var rowClassFunc=gos.getCallback(\"getRowClass\");if(rowClassFunc){var params={data:rowNode.data,node:rowNode,rowIndex:rowNode.rowIndex};var rowClassFuncResult=rowClassFunc(params);process(rowClassFuncResult);}}preProcessRowClassRules(classes,rowNode){this.processRowClassRules(rowNode,className=>{classes.push(className);},()=>{});}processRowClassRules(rowNode,onApplicableClass,onNotApplicableClass){var{gos,expressionSvc}=this.beans;var rowClassParams=_addGridCommonParams(gos,{data:rowNode.data,node:rowNode,rowIndex:rowNode.rowIndex});processClassRules(expressionSvc,void 0,gos.get(\"rowClassRules\"),rowClassParams,onApplicableClass,onNotApplicableClass);}processStylesFromGridOptions(rowNode){var gos=this.gos;var rowStyle=gos.get(\"rowStyle\");var rowStyleFunc=gos.getCallback(\"getRowStyle\");var rowStyleFuncResult;if(rowStyleFunc){var params={data:rowNode.data,node:rowNode,rowIndex:rowNode.rowIndex};rowStyleFuncResult=rowStyleFunc(params);}if(rowStyleFuncResult||rowStyle){return Object.assign({},rowStyle,rowStyleFuncResult);}return void 0;}};// packages/ag-grid-community/src/rendering/row/rowCtrl.ts\nvar instanceIdSequence3=0;var DOM_DATA_KEY_ROW_CTRL=\"renderedRow\";var RowCtrl=class extends BeanStub{constructor(rowNode,beans,animateIn,useAnimationFrameForCreate,printLayout){var _beans$pagination$get,_beans$pagination,_beans$editSvc7;super();this.rowNode=rowNode;this.useAnimationFrameForCreate=useAnimationFrameForCreate;this.printLayout=printLayout;this.allRowGuis=[];this.active=true;this.centerCellCtrls={list:[],map:{}};this.leftCellCtrls={list:[],map:{}};this.rightCellCtrls={list:[],map:{}};this.slideInAnimation={left:false,center:false,right:false,fullWidth:false};this.fadeInAnimation={left:false,center:false,right:false,fullWidth:false};this.rowDragComps=[];this.lastMouseDownOnDragger=false;this.emptyStyle={};this.updateColumnListsPending=false;this.rowId=null;/** sanitised */this.businessKey=null;this.beans=beans;this.gos=beans.gos;this.paginationPage=(_beans$pagination$get=(_beans$pagination=beans.pagination)===null||_beans$pagination===void 0?void 0:_beans$pagination.getCurrentPage())!==null&&_beans$pagination$get!==void 0?_beans$pagination$get:0;this.suppressRowTransform=this.gos.get(\"suppressRowTransform\");this.instanceId=rowNode.id+\"-\"+instanceIdSequence3++;this.rowId=_escapeString(rowNode.id);this.initRowBusinessKey();this.rowFocused=beans.focusSvc.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);this.rowLevel=calculateRowLevel(this.rowNode);this.setRowType();this.setAnimateFlags(animateIn);this.rowStyles=this.processStylesFromGridOptions();this.rowEditStyleFeature=(_beans$editSvc7=beans.editSvc)===null||_beans$editSvc7===void 0?void 0:_beans$editSvc7.createRowStyleFeature(this,beans);this.addListeners();}initRowBusinessKey(){this.businessKeyForNodeFunc=this.gos.get(\"getBusinessKeyForNode\");this.updateRowBusinessKey();}updateRowBusinessKey(){if(typeof this.businessKeyForNodeFunc!==\"function\"){return;}var businessKey=this.businessKeyForNodeFunc(this.rowNode);this.businessKey=_escapeString(businessKey);}updateGui(containerType,gui){if(containerType===\"left\"){this.leftGui=gui;}else if(containerType===\"right\"){this.rightGui=gui;}else if(containerType===\"fullWidth\"){this.fullWidthGui=gui;}else{this.centerGui=gui;}}setComp(rowComp,element,containerType,compBean){var _this$fullWidthGui;var{context,focusSvc}=this.beans;compBean=setupCompBean(this,context,compBean);var gui={rowComp,element,containerType,compBean};this.allRowGuis.push(gui);this.updateGui(containerType,gui);this.initialiseRowComp(gui);var rowNode=this.rowNode;var isSsrmLoadingRow=this.rowType===\"FullWidthLoading\"||rowNode.stub;var isIrmLoadingRow=!rowNode.data&&this.beans.rowModel.getType()===\"infinite\";if(!isSsrmLoadingRow&&!isIrmLoadingRow&&!rowNode.rowPinned){this.beans.rowRenderer.dispatchFirstDataRenderedEvent();}var focusableElement=(_this$fullWidthGui=this.fullWidthGui)===null||_this$fullWidthGui===void 0?void 0:_this$fullWidthGui.element;if(focusableElement){var _this$beans$editSvc2;var editing=(_this$beans$editSvc2=this.beans.editSvc)===null||_this$beans$editSvc2===void 0?void 0:_this$beans$editSvc2.isEditing(this);if(!editing&&focusSvc.isRowFocused(rowNode.rowIndex,rowNode.rowPinned)&&focusSvc.shouldTakeFocus()){setTimeout(()=>focusableElement.focus({preventScroll:true}),0);}}}unsetComp(containerType){this.allRowGuis=this.allRowGuis.filter(rowGui=>rowGui.containerType!==containerType);this.updateGui(containerType,void 0);}isCacheable(){return this.rowType===\"FullWidthDetail\"&&this.gos.get(\"keepDetailRows\");}setCached(cached){var displayValue=cached?\"none\":\"\";this.allRowGuis.forEach(rg=>rg.element.style.display=displayValue);}initialiseRowComp(gui){var gos=this.gos;this.onSuppressCellFocusChanged(this.beans.gos.get(\"suppressCellFocus\"));this.listenOnDomOrder(gui);this.onRowHeightChanged(gui);this.updateRowIndexes(gui);this.setFocusedClasses(gui);this.setStylesFromGridOptions(false,gui);if(_isRowSelection(gos)&&this.rowNode.selectable){this.onRowSelected(gui);}this.updateColumnLists(!this.useAnimationFrameForCreate);var comp=gui.rowComp;var initialRowClasses=this.getInitialRowClasses(gui.containerType);initialRowClasses.forEach(name=>comp.toggleCss(name,true));this.executeSlideAndFadeAnimations(gui);if(this.rowNode.group){_setAriaExpanded(gui.element,this.rowNode.expanded==true);}this.setRowCompRowId(comp);this.setRowCompRowBusinessKey(comp);_setDomData(gos,gui.element,DOM_DATA_KEY_ROW_CTRL,this);gui.compBean.addDestroyFunc(()=>_setDomData(gos,gui.element,DOM_DATA_KEY_ROW_CTRL,null));if(this.useAnimationFrameForCreate){this.beans.animationFrameSvc.createTask(this.addHoverFunctionality.bind(this,gui),this.rowNode.rowIndex,\"p2\",false);}else{this.addHoverFunctionality(gui);}if(this.isFullWidth()){this.setupFullWidth(gui);}if(gos.get(\"rowDragEntireRow\")){this.addRowDraggerToRow(gui);}if(this.useAnimationFrameForCreate){this.beans.animationFrameSvc.addDestroyTask(()=>{if(!this.isAlive()){return;}gui.rowComp.toggleCss(\"ag-after-created\",true);});}this.executeProcessRowPostCreateFunc();}setRowCompRowBusinessKey(comp){if(this.businessKey==null){return;}comp.setRowBusinessKey(this.businessKey);}setRowCompRowId(comp){var rowId=_escapeString(this.rowNode.id);this.rowId=rowId;if(rowId==null){return;}comp.setRowId(rowId);}executeSlideAndFadeAnimations(gui){var{containerType}=gui;var shouldSlide=this.slideInAnimation[containerType];if(shouldSlide){_batchCall(()=>{this.onTopChanged();});this.slideInAnimation[containerType]=false;}var shouldFade=this.fadeInAnimation[containerType];if(shouldFade){_batchCall(()=>{gui.rowComp.toggleCss(\"ag-opacity-zero\",false);});this.fadeInAnimation[containerType]=false;}}addRowDraggerToRow(gui){var _this$beans$rowDragSv2;var rowDragComp=(_this$beans$rowDragSv2=this.beans.rowDragSvc)===null||_this$beans$rowDragSv2===void 0?void 0:_this$beans$rowDragSv2.createRowDragCompForRow(this.rowNode,gui.element);if(!rowDragComp){return;}var rowDragBean=this.createBean(rowDragComp,this.beans.context);this.rowDragComps.push(rowDragBean);gui.compBean.addDestroyFunc(()=>{this.rowDragComps=this.rowDragComps.filter(r=>r!==rowDragBean);this.rowEditStyleFeature=this.destroyBean(this.rowEditStyleFeature,this.beans.context);this.destroyBean(rowDragBean,this.beans.context);});}setupFullWidth(gui){var pinned=this.getPinnedForContainer(gui.containerType);var compDetails=this.createFullWidthCompDetails(gui.element,pinned);gui.rowComp.showFullWidth(compDetails);}getFullWidthCellRenderers(){var _this$fullWidthGui2;if(this.gos.get(\"embedFullWidthRows\")){return this.allRowGuis.map(gui=>{var _gui$rowComp;return gui===null||gui===void 0||(_gui$rowComp=gui.rowComp)===null||_gui$rowComp===void 0?void 0:_gui$rowComp.getFullWidthCellRenderer();});}return[(_this$fullWidthGui2=this.fullWidthGui)===null||_this$fullWidthGui2===void 0||(_this$fullWidthGui2=_this$fullWidthGui2.rowComp)===null||_this$fullWidthGui2===void 0?void 0:_this$fullWidthGui2.getFullWidthCellRenderer()];}executeProcessRowPostCreateFunc(){var func=this.gos.getCallback(\"processRowPostCreate\");if(!func||!this.areAllContainersReady()){return;}var params={// areAllContainersReady asserts that centerGui is not null\neRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)};func(params);}areAllContainersReady(){var{leftGui,centerGui,rightGui,beans:{visibleCols}}=this;var isLeftReady=!!leftGui||!visibleCols.isPinningLeft();var isCenterReady=!!centerGui;var isRightReady=!!rightGui||!visibleCols.isPinningRight();return isLeftReady&&isCenterReady&&isRightReady;}isNodeFullWidthCell(){if(this.rowNode.detail){return true;}var isFullWidthCellFunc=this.beans.gos.getCallback(\"isFullWidthRow\");return isFullWidthCellFunc?isFullWidthCellFunc({rowNode:this.rowNode}):false;}setRowType(){var isStub=this.rowNode.stub&&!this.gos.get(\"suppressServerSideFullWidthLoadingRow\")&&!this.gos.get(\"groupHideOpenParents\");var isFullWidthCell=this.isNodeFullWidthCell();var isDetailCell=this.gos.get(\"masterDetail\")&&this.rowNode.detail;var pivotMode=this.beans.colModel.isPivotMode();var isFullWidthGroup=_isFullWidthGroupRow(this.gos,this.rowNode,pivotMode);if(isStub){this.rowType=\"FullWidthLoading\";}else if(isDetailCell){this.rowType=\"FullWidthDetail\";}else if(isFullWidthCell){this.rowType=\"FullWidth\";}else if(isFullWidthGroup){this.rowType=\"FullWidthGroup\";}else{this.rowType=\"Normal\";}}updateColumnLists(){var suppressAnimationFrame=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var useFlushSync=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(this.isFullWidth()){return;}var{animationFrameSvc}=this.beans;var noAnimation=!(animationFrameSvc!==null&&animationFrameSvc!==void 0&&animationFrameSvc.active)||suppressAnimationFrame||this.printLayout;if(noAnimation){this.updateColumnListsImpl(useFlushSync);return;}if(this.updateColumnListsPending){return;}animationFrameSvc.createTask(()=>{if(!this.active){return;}this.updateColumnListsImpl(true);},this.rowNode.rowIndex,\"p1\",false);this.updateColumnListsPending=true;}/**\n   * Overridden by SpannedRowCtrl\n   */getNewCellCtrl(col){var _this$beans$rowSpanSv4;var isCellSpan=(_this$beans$rowSpanSv4=this.beans.rowSpanSvc)===null||_this$beans$rowSpanSv4===void 0?void 0:_this$beans$rowSpanSv4.isCellSpanning(col,this.rowNode);if(isCellSpan){return void 0;}return new CellCtrl(col,this.rowNode,this.beans,this);}/**\n   * Overridden by SpannedRowCtrl, if span context changes cell needs rebuilt\n   */isCorrectCtrlForSpan(cell){var _this$beans$rowSpanSv5;return!((_this$beans$rowSpanSv5=this.beans.rowSpanSvc)!==null&&_this$beans$rowSpanSv5!==void 0&&_this$beans$rowSpanSv5.isCellSpanning(cell.column,this.rowNode));}createCellCtrls(prev,cols){var pinned=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;var res={list:[],map:{}};var addCell=(colInstanceId,cellCtrl,index)=>{if(index!=null){res.list.splice(index,0,cellCtrl);}else{res.list.push(cellCtrl);}res.map[colInstanceId]=cellCtrl;};var colsFromPrev=[];for(var col of cols){var colInstanceId=col.getInstanceId();var cellCtrl=prev.map[colInstanceId];if(cellCtrl&&!this.isCorrectCtrlForSpan(cellCtrl)){cellCtrl.destroy();cellCtrl=void 0;}if(!cellCtrl){cellCtrl=this.getNewCellCtrl(col);}if(!cellCtrl){continue;}addCell(colInstanceId,cellCtrl);}for(var prevCellCtrl of prev.list){var _colInstanceId=prevCellCtrl.column.getInstanceId();var cellInResult=res.map[_colInstanceId]!=null;if(cellInResult){continue;}var keepCell=!this.isCellEligibleToBeRemoved(prevCellCtrl,pinned);if(keepCell){colsFromPrev.push([_colInstanceId,prevCellCtrl]);}else{prevCellCtrl.destroy();}}if(colsFromPrev.length){var _loop4=function _loop4(_cellCtrl){var index=res.list.findIndex(ctrl=>ctrl.column.getLeft()>_cellCtrl.column.getLeft());var normalisedIndex=index===-1?void 0:Math.max(index-1,0);addCell(_colInstanceId2,_cellCtrl,normalisedIndex);};for(var[_colInstanceId2,_cellCtrl]of colsFromPrev){_loop4(_cellCtrl);}}var{focusSvc,visibleCols}=this.beans;var focusedCell=focusSvc.getFocusedCell();if(focusedCell&&focusedCell.column.getPinned()==pinned){var focusedColInstanceId=focusedCell.column.getInstanceId();var focusedCellCtrl=res.map[focusedColInstanceId];if(!focusedCellCtrl&&visibleCols.allCols.includes(focusedCell.column)){var _cellCtrl2=this.createFocusedCellCtrl();if(_cellCtrl2){var index=res.list.findIndex(ctrl=>ctrl.column.getLeft()>_cellCtrl2.column.getLeft());var normalisedIndex=index===-1?void 0:Math.max(index-1,0);addCell(focusedColInstanceId,_cellCtrl2,normalisedIndex);}}}return res;}/**\n   * Creates a new cell ctrl for the focused cell, if this is the correct row ctrl.\n   * @returns a CellCtrl for the focused cell, if required.\n   */createFocusedCellCtrl(){var{focusSvc,rowSpanSvc}=this.beans;var focusedCell=focusSvc.getFocusedCell();if(!focusedCell){return void 0;}var focusedSpan=rowSpanSvc===null||rowSpanSvc===void 0?void 0:rowSpanSvc.getCellSpan(focusedCell.column,this.rowNode);if(focusedSpan){if(focusedSpan.firstNode!==this.rowNode||!focusedSpan.doesSpanContain(focusedCell)){return void 0;}}else{if(!focusSvc.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned)){return void 0;}}return this.getNewCellCtrl(focusedCell.column);}updateColumnListsImpl(useFlushSync){this.updateColumnListsPending=false;this.createAllCellCtrls();this.setCellCtrls(useFlushSync);}setCellCtrls(useFlushSync){this.allRowGuis.forEach(item=>{var cellControls=this.getCellCtrlsForContainer(item.containerType);item.rowComp.setCellCtrls(cellControls,useFlushSync);});}getCellCtrlsForContainer(containerType){switch(containerType){case\"left\":return this.leftCellCtrls.list;case\"right\":return this.rightCellCtrls.list;case\"fullWidth\":return[];case\"center\":return this.centerCellCtrls.list;}}createAllCellCtrls(){var colViewport=this.beans.colViewport;var presentedColsService=this.beans.visibleCols;if(this.printLayout){this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,presentedColsService.allCols);this.leftCellCtrls={list:[],map:{}};this.rightCellCtrls={list:[],map:{}};}else{var centerCols=colViewport.getColsWithinViewport(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,centerCols);var leftCols=presentedColsService.getLeftColsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,leftCols,\"left\");var rightCols=presentedColsService.getRightColsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,rightCols,\"right\");}}isCellEligibleToBeRemoved(cellCtrl,nextContainerPinned){var REMOVE_CELL=true;var KEEP_CELL=false;var{column}=cellCtrl;if(column.getPinned()!=nextContainerPinned){return REMOVE_CELL;}if(!this.isCorrectCtrlForSpan(cellCtrl)){return REMOVE_CELL;}var{visibleCols,editSvc}=this.beans;var editing=editSvc===null||editSvc===void 0?void 0:editSvc.isEditing(cellCtrl);var focused=cellCtrl.isCellFocused();var mightWantToKeepCell=editing||focused;if(mightWantToKeepCell){var displayedColumns=visibleCols.allCols;var cellStillDisplayed=displayedColumns.indexOf(column)>=0;return cellStillDisplayed?KEEP_CELL:REMOVE_CELL;}return REMOVE_CELL;}getDomOrder(){var isEnsureDomOrder=this.gos.get(\"ensureDomOrder\");return isEnsureDomOrder||_isDomLayout(this.gos,\"print\");}listenOnDomOrder(gui){var listener=()=>{gui.rowComp.setDomOrder(this.getDomOrder());};gui.compBean.addManagedPropertyListeners([\"domLayout\",\"ensureDomOrder\"],listener);}setAnimateFlags(animateIn){if(this.rowNode.sticky||!animateIn){return;}var oldRowTopExists=_exists(this.rowNode.oldRowTop);var{visibleCols}=this.beans;var pinningLeft=visibleCols.isPinningLeft();var pinningRight=visibleCols.isPinningRight();if(oldRowTopExists){var{slideInAnimation}=this;if(this.isFullWidth()&&!this.gos.get(\"embedFullWidthRows\")){slideInAnimation.fullWidth=true;return;}slideInAnimation.center=true;slideInAnimation.left=pinningLeft;slideInAnimation.right=pinningRight;}else{var{fadeInAnimation}=this;if(this.isFullWidth()&&!this.gos.get(\"embedFullWidthRows\")){fadeInAnimation.fullWidth=true;return;}fadeInAnimation.center=true;fadeInAnimation.left=pinningLeft;fadeInAnimation.right=pinningRight;}}isFullWidth(){return this.rowType!==\"Normal\";}refreshFullWidth(){var tryRefresh=(gui,pinned)=>{if(!gui){return true;}return gui.rowComp.refreshFullWidth(()=>{var compDetails=this.createFullWidthCompDetails(gui.element,pinned);return compDetails.params;});};var fullWidthSuccess=tryRefresh(this.fullWidthGui,null);var centerSuccess=tryRefresh(this.centerGui,null);var leftSuccess=tryRefresh(this.leftGui,\"left\");var rightSuccess=tryRefresh(this.rightGui,\"right\");var allFullWidthRowsRefreshed=fullWidthSuccess&&centerSuccess&&leftSuccess&&rightSuccess;return allFullWidthRowsRefreshed;}addListeners(){var _expansionSvc$getRowE;var{beans,gos,rowNode}=this;var{expansionSvc,eventSvc,context,rowSpanSvc}=beans;this.addManagedListeners(this.rowNode,_objectSpread({heightChanged:()=>this.onRowHeightChanged(),rowSelected:()=>this.onRowSelected(),rowIndexChanged:this.onRowIndexChanged.bind(this),topChanged:this.onTopChanged.bind(this)},(_expansionSvc$getRowE=expansionSvc===null||expansionSvc===void 0?void 0:expansionSvc.getRowExpandedListeners(this))!==null&&_expansionSvc$getRowE!==void 0?_expansionSvc$getRowE:{}));if(rowNode.detail){this.addManagedListeners(rowNode.parent,{dataChanged:this.onRowNodeDataChanged.bind(this)});}this.addManagedListeners(rowNode,{dataChanged:this.onRowNodeDataChanged.bind(this),cellChanged:this.postProcessCss.bind(this),rowHighlightChanged:this.onRowNodeHighlightChanged.bind(this),draggingChanged:this.postProcessRowDragging.bind(this),uiLevelChanged:this.onUiLevelChanged.bind(this),rowPinned:this.onRowPinned.bind(this)});this.addManagedListeners(eventSvc,{paginationPixelOffsetChanged:this.onPaginationPixelOffsetChanged.bind(this),heightScaleChanged:this.onTopChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:this.onVirtualColumnsChanged.bind(this),cellFocused:this.onCellFocusChanged.bind(this),cellFocusCleared:this.onCellFocusChanged.bind(this),paginationChanged:this.onPaginationChanged.bind(this),modelUpdated:this.refreshFirstAndLastRowStyles.bind(this),columnMoved:()=>this.updateColumnLists()});if(rowSpanSvc){this.addManagedListeners(rowSpanSvc,{spannedCellsUpdated:_ref28=>{var{pinned}=_ref28;if(pinned&&!rowNode.rowPinned){return;}this.updateColumnLists();}});}this.addDestroyFunc(()=>{this.rowDragComps=this.destroyBeans(this.rowDragComps,context);this.tooltipFeature=this.destroyBean(this.tooltipFeature,context);this.rowEditStyleFeature=this.destroyBean(this.rowEditStyleFeature,context);});this.addManagedPropertyListeners([\"rowStyle\",\"getRowStyle\",\"rowClass\",\"getRowClass\",\"rowClassRules\"],this.postProcessCss.bind(this));this.addManagedPropertyListener(\"rowDragEntireRow\",()=>{var useRowDragEntireRow=gos.get(\"rowDragEntireRow\");if(useRowDragEntireRow){this.allRowGuis.forEach(gui=>{this.addRowDraggerToRow(gui);});return;}this.rowDragComps=this.destroyBeans(this.rowDragComps,context);});this.addListenersForCellComps();}addListenersForCellComps(){this.addManagedListeners(this.rowNode,{rowIndexChanged:()=>this.getAllCellCtrls().forEach(cellCtrl=>cellCtrl.onRowIndexChanged()),cellChanged:event=>this.getAllCellCtrls().forEach(cellCtrl=>cellCtrl.onCellChanged(event))});}/** Should only ever be triggered on source rows (i.e. not on pinned siblings) */onRowPinned(){for(var gui of this.allRowGuis){gui.rowComp.toggleCss(\"ag-row-pinned-source\",!!this.rowNode.pinnedSibling);}}onRowNodeDataChanged(event){this.refreshRow({suppressFlash:!event.update,newData:!event.update});}refreshRow(params){var fullWidthChanged=this.isFullWidth()!==!!this.isNodeFullWidthCell();if(fullWidthChanged){this.beans.rowRenderer.redrawRow(this.rowNode);return;}if(this.isFullWidth()){var refresh=this.refreshFullWidth();if(!refresh){this.beans.rowRenderer.redrawRow(this.rowNode);}return;}this.getAllCellCtrls().forEach(cellCtrl=>cellCtrl.refreshCell(params));this.allRowGuis.forEach(gui=>{this.setRowCompRowId(gui.rowComp);this.updateRowBusinessKey();this.setRowCompRowBusinessKey(gui.rowComp);});this.onRowSelected();this.postProcessCss();}postProcessCss(){var _this$rowEditStyleFea;this.setStylesFromGridOptions(true);this.postProcessClassesFromGridOptions();this.postProcessRowClassRules();(_this$rowEditStyleFea=this.rowEditStyleFeature)===null||_this$rowEditStyleFea===void 0||_this$rowEditStyleFea.applyRowStyles();this.postProcessRowDragging();}onRowNodeHighlightChanged(){var rowDropHighlightSvc=this.beans.rowDropHighlightSvc;var highlighted=(rowDropHighlightSvc===null||rowDropHighlightSvc===void 0?void 0:rowDropHighlightSvc.row)===this.rowNode?rowDropHighlightSvc.position:\"none\";var aboveOn=highlighted===\"above\";var insideOn=highlighted===\"inside\";var belowOn=highlighted===\"below\";var treeData=this.gos.get(\"treeData\");var indented=treeData&&(belowOn||aboveOn);var uiLevel=this.rowNode.uiLevel.toString();this.allRowGuis.forEach(gui=>{var rowComp=gui.rowComp;rowComp.toggleCss(\"ag-row-highlight-above\",aboveOn);rowComp.toggleCss(\"ag-row-highlight-inside\",insideOn);rowComp.toggleCss(\"ag-row-highlight-below\",belowOn);rowComp.toggleCss(\"ag-row-highlight-indent\",indented);if(indented){gui.element.style.setProperty(\"--ag-row-highlight-level\",uiLevel);}else{gui.element.style.removeProperty(\"--ag-row-highlight-level\");}});}postProcessRowDragging(){var dragging=this.rowNode.dragging;this.allRowGuis.forEach(gui=>gui.rowComp.toggleCss(\"ag-row-dragging\",dragging));}onDisplayedColumnsChanged(){var _this$beans$rowAutoHe4;this.updateColumnLists(true);(_this$beans$rowAutoHe4=this.beans.rowAutoHeight)===null||_this$beans$rowAutoHe4===void 0||_this$beans$rowAutoHe4.requestCheckAutoHeight();}onVirtualColumnsChanged(){this.updateColumnLists(false,true);}getRowPosition(){return{rowPinned:_makeNull(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex};}onKeyboardNavigate(keyboardEvent){var _lastFocusedCell$colu;var groupInfo=this.findFullWidthInfoForEvent(keyboardEvent);if(!groupInfo){return;}var{rowGui,column}=groupInfo;var currentFullWidthContainer=rowGui.element;var isFullWidthContainerFocused=currentFullWidthContainer===keyboardEvent.target;if(!isFullWidthContainerFocused){return;}var node=this.rowNode;var{focusSvc,navigation}=this.beans;var lastFocusedCell=focusSvc.getFocusedCell();var cellPosition={rowIndex:node.rowIndex,rowPinned:node.rowPinned,column:(_lastFocusedCell$colu=lastFocusedCell===null||lastFocusedCell===void 0?void 0:lastFocusedCell.column)!==null&&_lastFocusedCell$colu!==void 0?_lastFocusedCell$colu:column};navigation===null||navigation===void 0||navigation.navigateToNextCell(keyboardEvent,keyboardEvent.key,cellPosition,true);keyboardEvent.preventDefault();}onTabKeyDown(keyboardEvent){if(keyboardEvent.defaultPrevented||_isStopPropagationForAgGrid(keyboardEvent)){return;}var currentFullWidthComp=this.allRowGuis.find(c=>c.element.contains(keyboardEvent.target));var currentFullWidthContainer=currentFullWidthComp?currentFullWidthComp.element:null;var isFullWidthContainerFocused=currentFullWidthContainer===keyboardEvent.target;var activeEl=_getActiveDomElement(this.beans);var isDetailGridCellFocused=false;if(currentFullWidthContainer&&activeEl){isDetailGridCellFocused=currentFullWidthContainer.contains(activeEl)&&activeEl.classList.contains(\"ag-cell\");}var nextEl=null;if(!isFullWidthContainerFocused&&!isDetailGridCellFocused){nextEl=_findNextFocusableElement(this.beans,currentFullWidthContainer,false,keyboardEvent.shiftKey);}if(this.isFullWidth()&&isFullWidthContainerFocused||!nextEl){var _this$beans$navigatio2;(_this$beans$navigatio2=this.beans.navigation)===null||_this$beans$navigatio2===void 0||_this$beans$navigatio2.onTabKeyDown(this,keyboardEvent);}}getFullWidthElement(){if(this.fullWidthGui){return this.fullWidthGui.element;}return null;}getRowYPosition(){var _this$allRowGuis$find;var displayedEl=(_this$allRowGuis$find=this.allRowGuis.find(el=>_isVisible(el.element)))===null||_this$allRowGuis$find===void 0?void 0:_this$allRowGuis$find.element;if(displayedEl){return displayedEl.getBoundingClientRect().top;}return 0;}onSuppressCellFocusChanged(suppressCellFocus){var tabIndex=this.isFullWidth()&&suppressCellFocus?void 0:-1;this.allRowGuis.forEach(gui=>{_addOrRemoveAttribute(gui.element,\"tabindex\",tabIndex);});}onFullWidthRowFocused(event){var node=this.rowNode;var isFocused=!event?false:this.isFullWidth()&&event.rowIndex===node.rowIndex&&event.rowPinned==node.rowPinned;var element;if(this.fullWidthGui){element=this.fullWidthGui.element;}else{var column=this.beans.colModel.getCol(event===null||event===void 0?void 0:event.column);var pinned=column===null||column===void 0?void 0:column.pinned;if(pinned){var _this$rightGui,_this$leftGui;element=pinned===\"right\"?(_this$rightGui=this.rightGui)===null||_this$rightGui===void 0?void 0:_this$rightGui.element:(_this$leftGui=this.leftGui)===null||_this$leftGui===void 0?void 0:_this$leftGui.element;}else{var _this$centerGui;element=(_this$centerGui=this.centerGui)===null||_this$centerGui===void 0?void 0:_this$centerGui.element;}}if(!element){return;}element.classList.toggle(\"ag-full-width-focus\",isFocused);if(isFocused&&event!==null&&event!==void 0&&event.forceBrowserFocus){element.focus({preventScroll:true});}}recreateCell(cellCtrl){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,cellCtrl);this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,cellCtrl);this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,cellCtrl);cellCtrl.destroy();this.updateColumnLists();}removeCellCtrl(prev,cellCtrlToRemove){var res={list:[],map:{}};prev.list.forEach(cellCtrl=>{if(cellCtrl===cellCtrlToRemove){return;}res.list.push(cellCtrl);res.map[cellCtrl.column.getInstanceId()]=cellCtrl;});return res;}onMouseEvent(eventName,mouseEvent){switch(eventName){case\"dblclick\":this.onRowDblClick(mouseEvent);break;case\"click\":this.onRowClick(mouseEvent);break;case\"touchstart\":case\"mousedown\":this.onRowMouseDown(mouseEvent);break;}}createRowEvent(type,domEvent){var{rowNode}=this;return _addGridCommonParams(this.gos,{type,node:rowNode,data:rowNode.data,rowIndex:rowNode.rowIndex,rowPinned:rowNode.rowPinned,event:domEvent});}createRowEventWithSource(type,domEvent){var event=this.createRowEvent(type,domEvent);event.source=this;return event;}onRowDblClick(mouseEvent){if(_isStopPropagationForAgGrid(mouseEvent)){return;}this.beans.eventSvc.dispatchEvent(this.createRowEventWithSource(\"rowDoubleClicked\",mouseEvent));}findFullWidthInfoForEvent(event){if(!event){return;}var rowGui=this.findFullWidthRowGui(event.target);var column=this.getColumnForFullWidth(rowGui);if(!rowGui||!column){return;}return{rowGui,column};}findFullWidthRowGui(target){return this.allRowGuis.find(c=>c.element.contains(target));}getColumnForFullWidth(fullWidthRowGui){var{visibleCols}=this.beans;switch(fullWidthRowGui===null||fullWidthRowGui===void 0?void 0:fullWidthRowGui.containerType){case\"center\":return visibleCols.centerCols[0];case\"left\":return visibleCols.leftCols[0];case\"right\":return visibleCols.rightCols[0];default:return visibleCols.allCols[0];}}onRowMouseDown(mouseEvent){this.lastMouseDownOnDragger=_isElementChildOfClass(mouseEvent.target,\"ag-row-drag\",3);if(!this.isFullWidth()){return;}var node=this.rowNode;var{rangeSvc,focusSvc}=this.beans;rangeSvc===null||rangeSvc===void 0||rangeSvc.removeAllCellRanges();var groupInfo=this.findFullWidthInfoForEvent(mouseEvent);if(!groupInfo){return;}var{rowGui,column}=groupInfo;var element=rowGui.element;var target=mouseEvent.target;var forceBrowserFocus=mouseEvent.defaultPrevented||_isBrowserSafari();if(element&&element.contains(target)&&_isFocusableFormField(target)){forceBrowserFocus=false;}focusSvc.setFocusedCell({rowIndex:node.rowIndex,column,rowPinned:node.rowPinned,forceBrowserFocus});}onRowClick(mouseEvent){var stop=_isStopPropagationForAgGrid(mouseEvent)||this.lastMouseDownOnDragger;if(stop){return;}var{eventSvc,selectionSvc}=this.beans;eventSvc.dispatchEvent(this.createRowEventWithSource(\"rowClicked\",mouseEvent));selectionSvc===null||selectionSvc===void 0||selectionSvc.handleSelectionEvent(mouseEvent,this.rowNode,\"rowClicked\");}setupDetailRowAutoHeight(eDetailGui){var _this$beans$masterDet;if(this.rowType!==\"FullWidthDetail\"){return;}(_this$beans$masterDet=this.beans.masterDetailSvc)===null||_this$beans$masterDet===void 0||_this$beans$masterDet.setupDetailRowAutoHeight(this,eDetailGui);}createFullWidthCompDetails(eRow,pinned){var{gos,rowNode}=this;var params=_addGridCommonParams(gos,{fullWidth:true,data:rowNode.data,node:rowNode,value:rowNode.key,valueFormatted:rowNode.key,// these need to be taken out, as part of 'afterAttached' now\neGridCell:eRow,eParentOfValue:eRow,pinned,addRenderedRowListener:this.addEventListener.bind(this),// This is not on the type of ICellRendererParams\nregisterRowDragger:(rowDraggerElement,dragStartPixels,value,suppressVisibilityChange)=>this.addFullWidthRowDragging(rowDraggerElement,dragStartPixels,value,suppressVisibilityChange),setTooltip:(value,shouldDisplayTooltip)=>{gos.assertModuleRegistered(\"Tooltip\",3);this.setupFullWidthRowTooltip(value,shouldDisplayTooltip);}});var compFactory=this.beans.userCompFactory;switch(this.rowType){case\"FullWidthDetail\":return _getFullWidthDetailCellRendererDetails(compFactory,params);case\"FullWidthGroup\":{var{value,valueFormatted}=this.beans.valueSvc.getValueForDisplay(void 0,this.rowNode,true);params.value=value;params.valueFormatted=valueFormatted;return _getFullWidthGroupCellRendererDetails(compFactory,params);}case\"FullWidthLoading\":return _getFullWidthLoadingCellRendererDetails(compFactory,params);default:return _getFullWidthCellRendererDetails(compFactory,params);}}setupFullWidthRowTooltip(value,shouldDisplayTooltip){var _this$beans$tooltipSv4;if(!this.fullWidthGui){return;}this.tooltipFeature=(_this$beans$tooltipSv4=this.beans.tooltipSvc)===null||_this$beans$tooltipSv4===void 0?void 0:_this$beans$tooltipSv4.setupFullWidthRowTooltip(this.tooltipFeature,this,value,shouldDisplayTooltip);}addFullWidthRowDragging(rowDraggerElement,dragStartPixels){var value=arguments.length>2&&arguments[2]!==undefined?arguments[2]:\"\";var suppressVisibilityChange=arguments.length>3?arguments[3]:undefined;var{rowDragSvc,context}=this.beans;if(!rowDragSvc||!this.isFullWidth()){return;}var rowDragComp=rowDragSvc.createRowDragComp(()=>value,this.rowNode,void 0,rowDraggerElement,dragStartPixels,suppressVisibilityChange);this.createBean(rowDragComp,context);this.addDestroyFunc(()=>{this.destroyBean(rowDragComp,context);});}onUiLevelChanged(){var newLevel=calculateRowLevel(this.rowNode);if(this.rowLevel!=newLevel){var classToAdd=\"ag-row-level-\"+newLevel;var classToRemove=\"ag-row-level-\"+this.rowLevel;this.allRowGuis.forEach(gui=>{gui.rowComp.toggleCss(classToAdd,true);gui.rowComp.toggleCss(classToRemove,false);});}this.rowLevel=newLevel;}isFirstRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBounds.getFirstRow();}isLastRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBounds.getLastRow();}refreshFirstAndLastRowStyles(){var newFirst=this.isFirstRowOnPage();var newLast=this.isLastRowOnPage();if(this.firstRowOnPage!==newFirst){this.firstRowOnPage=newFirst;this.allRowGuis.forEach(gui=>gui.rowComp.toggleCss(\"ag-row-first\",newFirst));}if(this.lastRowOnPage!==newLast){this.lastRowOnPage=newLast;this.allRowGuis.forEach(gui=>gui.rowComp.toggleCss(\"ag-row-last\",newLast));}}getAllCellCtrls(){if(this.leftCellCtrls.list.length===0&&this.rightCellCtrls.list.length===0){return this.centerCellCtrls.list;}var res=[...this.centerCellCtrls.list,...this.leftCellCtrls.list,...this.rightCellCtrls.list];return res;}postProcessClassesFromGridOptions(){var _this$beans$rowStyleS;var cssClasses=[];(_this$beans$rowStyleS=this.beans.rowStyleSvc)===null||_this$beans$rowStyleS===void 0||_this$beans$rowStyleS.processClassesFromGridOptions(cssClasses,this.rowNode);if(!cssClasses.length){return;}cssClasses.forEach(classStr=>{this.allRowGuis.forEach(c=>c.rowComp.toggleCss(classStr,true));});}postProcessRowClassRules(){var _this$beans$rowStyleS2;(_this$beans$rowStyleS2=this.beans.rowStyleSvc)===null||_this$beans$rowStyleS2===void 0||_this$beans$rowStyleS2.processRowClassRules(this.rowNode,className=>{this.allRowGuis.forEach(gui=>gui.rowComp.toggleCss(className,true));},className=>{this.allRowGuis.forEach(gui=>gui.rowComp.toggleCss(className,false));});}setStylesFromGridOptions(updateStyles,gui){if(updateStyles){this.rowStyles=this.processStylesFromGridOptions();}this.forEachGui(gui,gui2=>gui2.rowComp.setUserStyles(this.rowStyles));}getPinnedForContainer(rowContainerType){if(rowContainerType===\"left\"||rowContainerType===\"right\"){return rowContainerType;}return null;}getInitialRowClasses(rowContainerType){var _beans$expansionSvc;var pinned=this.getPinnedForContainer(rowContainerType);var fullWidthRow=this.isFullWidth();var{rowNode,beans}=this;var classes=[];classes.push(\"ag-row\");classes.push(this.rowFocused?\"ag-row-focus\":\"ag-row-no-focus\");if(this.fadeInAnimation[rowContainerType]){classes.push(\"ag-opacity-zero\");}classes.push(rowNode.rowIndex%2===0?\"ag-row-even\":\"ag-row-odd\");if(rowNode.isRowPinned()){var _beans$pinnedRowModel3;classes.push(\"ag-row-pinned\");if((_beans$pinnedRowModel3=beans.pinnedRowModel)!==null&&_beans$pinnedRowModel3!==void 0&&_beans$pinnedRowModel3.isManual()){classes.push(\"ag-row-pinned-manual\");}}if(!rowNode.isRowPinned()&&rowNode.pinnedSibling){classes.push(\"ag-row-pinned-source\");}if(rowNode.isSelected()){classes.push(\"ag-row-selected\");}if(rowNode.footer){classes.push(\"ag-row-footer\");}classes.push(\"ag-row-level-\"+this.rowLevel);if(rowNode.stub){classes.push(\"ag-row-loading\");}if(fullWidthRow){classes.push(\"ag-full-width-row\");}(_beans$expansionSvc=beans.expansionSvc)===null||_beans$expansionSvc===void 0||_beans$expansionSvc.addExpandedCss(classes,rowNode);if(rowNode.dragging){classes.push(\"ag-row-dragging\");}var{rowStyleSvc}=beans;if(rowStyleSvc){rowStyleSvc.processClassesFromGridOptions(classes,rowNode);rowStyleSvc.preProcessRowClassRules(classes,rowNode);}classes.push(this.printLayout?\"ag-row-position-relative\":\"ag-row-position-absolute\");if(this.isFirstRowOnPage()){classes.push(\"ag-row-first\");}if(this.isLastRowOnPage()){classes.push(\"ag-row-last\");}if(fullWidthRow){if(pinned===\"left\"){classes.push(\"ag-cell-last-left-pinned\");}if(pinned===\"right\"){classes.push(\"ag-cell-first-right-pinned\");}}return classes;}processStylesFromGridOptions(){var _this$beans$rowStyleS3,_this$beans$rowStyleS4;return(_this$beans$rowStyleS3=(_this$beans$rowStyleS4=this.beans.rowStyleSvc)===null||_this$beans$rowStyleS4===void 0?void 0:_this$beans$rowStyleS4.processStylesFromGridOptions(this.rowNode))!==null&&_this$beans$rowStyleS3!==void 0?_this$beans$rowStyleS3:this.emptyStyle;}onRowSelected(gui){var _this$beans$selection7;(_this$beans$selection7=this.beans.selectionSvc)===null||_this$beans$selection7===void 0||_this$beans$selection7.onRowCtrlSelected(this,gui2=>{if(gui2===this.centerGui||gui2===this.fullWidthGui){this.announceDescription();}},gui);}announceDescription(){var _this$beans$selection8;(_this$beans$selection8=this.beans.selectionSvc)===null||_this$beans$selection8===void 0||_this$beans$selection8.announceAriaRowSelection(this.rowNode);}addHoverFunctionality(eGui){if(!this.active){return;}var{element,compBean}=eGui;var{rowNode,beans,gos}=this;compBean.addManagedListeners(element,{mouseenter:()=>rowNode.dispatchRowEvent(\"mouseEnter\"),mouseleave:()=>rowNode.dispatchRowEvent(\"mouseLeave\")});compBean.addManagedListeners(rowNode,{mouseEnter:()=>{var _beans$dragSvc;if(!((_beans$dragSvc=beans.dragSvc)!==null&&_beans$dragSvc!==void 0&&_beans$dragSvc.dragging)&&!gos.get(\"suppressRowHoverHighlight\")){element.classList.add(\"ag-row-hover\");rowNode.setHovered(true);}},mouseLeave:()=>{this.resetHoveredStatus(element);}});}resetHoveredStatus(el){var elements=el?[el]:this.allRowGuis.map(gui=>gui.element);for(var element of elements){element.classList.remove(\"ag-row-hover\");}this.rowNode.setHovered(false);}// for animation, we don't want to animate entry or exit to a very far away pixel,\n// otherwise the row would move so fast, it would appear to disappear. so this method\n// moves the row closer to the viewport if it is far away, so the row slide in / out\n// at a speed the user can see.\nroundRowTopToBounds(rowTop){var range=this.beans.ctrlsSvc.getScrollFeature().getApproximateVScollPosition();var minPixel=this.applyPaginationOffset(range.top,true)-100;var maxPixel=this.applyPaginationOffset(range.bottom,true)+100;return Math.min(Math.max(minPixel,rowTop),maxPixel);}forEachGui(gui,callback){if(gui){callback(gui);}else{this.allRowGuis.forEach(callback);}}isRowRendered(){return this.allRowGuis.length>0;}onRowHeightChanged(gui){if(this.rowNode.rowHeight==null){return;}var rowHeight=this.rowNode.rowHeight;var defaultRowHeight=this.beans.environment.getDefaultRowHeight();var isHeightFromFunc=_isGetRowHeightFunction(this.gos);var heightFromFunc=isHeightFromFunc?_getRowHeightForNode(this.beans,this.rowNode).height:void 0;var lineHeight=heightFromFunc?\"\".concat(Math.min(defaultRowHeight,heightFromFunc)-2,\"px\"):void 0;this.forEachGui(gui,gui2=>{gui2.element.style.height=\"\".concat(rowHeight,\"px\");if(lineHeight){gui2.element.style.setProperty(\"--ag-line-height\",lineHeight);}});}// note - this is NOT called by context, as we don't wire / unwire the CellComp for performance reasons.\ndestroyFirstPass(){var _this$fullWidthGui3;var suppressAnimation=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;this.active=false;var{rowNode}=this;if(!suppressAnimation&&_isAnimateRows(this.gos)&&!rowNode.sticky){var rowStillVisibleJustNotInViewport=rowNode.rowTop!=null;if(rowStillVisibleJustNotInViewport){var rowTop=this.roundRowTopToBounds(rowNode.rowTop);this.setRowTop(rowTop);}else{this.allRowGuis.forEach(gui=>gui.rowComp.toggleCss(\"ag-opacity-zero\",true));}}if((_this$fullWidthGui3=this.fullWidthGui)!==null&&_this$fullWidthGui3!==void 0&&_this$fullWidthGui3.element.contains(_getActiveDomElement(this.beans))){this.beans.focusSvc.attemptToRecoverFocus();}rowNode.setHovered(false);var event=this.createRowEvent(\"virtualRowRemoved\");this.dispatchLocalEvent(event);this.beans.eventSvc.dispatchEvent(event);super.destroy();}destroySecondPass(){this.allRowGuis.length=0;var destroyCellCtrls=ctrls=>{ctrls.list.forEach(c=>c.destroy());return{list:[],map:{}};};this.centerCellCtrls=destroyCellCtrls(this.centerCellCtrls);this.leftCellCtrls=destroyCellCtrls(this.leftCellCtrls);this.rightCellCtrls=destroyCellCtrls(this.rightCellCtrls);}setFocusedClasses(gui){this.forEachGui(gui,gui2=>{gui2.rowComp.toggleCss(\"ag-row-focus\",this.rowFocused);gui2.rowComp.toggleCss(\"ag-row-no-focus\",!this.rowFocused);});}onCellFocusChanged(){var{focusSvc}=this.beans;var rowFocused=focusSvc.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);if(rowFocused!==this.rowFocused){this.rowFocused=rowFocused;this.setFocusedClasses();}}onPaginationChanged(){var _this$beans$paginatio,_this$beans$paginatio2;var currentPage=(_this$beans$paginatio=(_this$beans$paginatio2=this.beans.pagination)===null||_this$beans$paginatio2===void 0?void 0:_this$beans$paginatio2.getCurrentPage())!==null&&_this$beans$paginatio!==void 0?_this$beans$paginatio:0;if(this.paginationPage!==currentPage){this.paginationPage=currentPage;this.onTopChanged();}this.refreshFirstAndLastRowStyles();}onTopChanged(){this.setRowTop(this.rowNode.rowTop);}onPaginationPixelOffsetChanged(){this.onTopChanged();}// applies pagination offset, eg if on second page, and page height is 500px, then removes\n// 500px from the top position, so a row with rowTop 600px is displayed at location 100px.\n// reverse will take the offset away rather than add.\napplyPaginationOffset(topPx){var reverse=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(this.rowNode.isRowPinned()||this.rowNode.sticky){return topPx;}var pixelOffset=this.beans.pageBounds.getPixelOffset();var multiplier=reverse?1:-1;return topPx+pixelOffset*multiplier;}setRowTop(pixels){if(this.printLayout){return;}if(_exists(pixels)){var afterPaginationPixels=this.applyPaginationOffset(pixels);var skipScaling=this.rowNode.isRowPinned()||this.rowNode.sticky;var afterScalingPixels=skipScaling?afterPaginationPixels:this.beans.rowContainerHeight.getRealPixelPosition(afterPaginationPixels);var topPx=\"\".concat(afterScalingPixels,\"px\");this.setRowTopStyle(topPx);}}// the top needs to be set into the DOM element when the element is created, not updated afterwards.\n// otherwise the transition would not work, as it would be transitioning from zero (the unset value).\n// for example, suppose a row that is outside the viewport, then user does a filter to remove other rows\n// and this row now appears in the viewport, and the row moves up (ie it was under the viewport and not rendered,\n// but now is in the viewport) then a new RowComp is created, however it should have it's position initialised\n// to below the viewport, so the row will appear to animate up. if we didn't set the initial position at creation\n// time, the row would animate down (ie from position zero).\ngetInitialRowTop(rowContainerType){return this.suppressRowTransform?this.getInitialRowTopShared(rowContainerType):void 0;}getInitialTransform(rowContainerType){return this.suppressRowTransform?void 0:\"translateY(\".concat(this.getInitialRowTopShared(rowContainerType),\")\");}getInitialRowTopShared(rowContainerType){if(this.printLayout){return\"\";}var rowNode=this.rowNode;var rowTop;if(rowNode.sticky){rowTop=rowNode.stickyRowTop;}else{var pixels=this.slideInAnimation[rowContainerType]?this.roundRowTopToBounds(rowNode.oldRowTop):rowNode.rowTop;var afterPaginationPixels=this.applyPaginationOffset(pixels);rowTop=rowNode.isRowPinned()?afterPaginationPixels:this.beans.rowContainerHeight.getRealPixelPosition(afterPaginationPixels);}return rowTop+\"px\";}setRowTopStyle(topPx){this.allRowGuis.forEach(gui=>this.suppressRowTransform?gui.rowComp.setTop(topPx):gui.rowComp.setTransform(\"translateY(\".concat(topPx,\")\")));}getCellCtrl(column){var skipColSpanSearch=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var res=null;this.getAllCellCtrls().forEach(cellCtrl=>{if(cellCtrl.column==column){res=cellCtrl;}});if(res!=null||skipColSpanSearch){return res;}this.getAllCellCtrls().forEach(cellCtrl=>{if((cellCtrl===null||cellCtrl===void 0?void 0:cellCtrl.getColSpanningList().indexOf(column))>=0){res=cellCtrl;}});return res;}onRowIndexChanged(){if(this.rowNode.rowIndex!=null){this.onCellFocusChanged();this.updateRowIndexes();this.postProcessCss();}}updateRowIndexes(gui){var _this$beans$ctrlsSvc$,_this$beans$ctrlsSvc$2,_this$beans$filterMan2,_this$beans$filterMan3;var rowIndexStr=this.rowNode.getRowIndexString();if(rowIndexStr===null){return;}var headerRowCount=((_this$beans$ctrlsSvc$=(_this$beans$ctrlsSvc$2=this.beans.ctrlsSvc.getHeaderRowContainerCtrl())===null||_this$beans$ctrlsSvc$2===void 0?void 0:_this$beans$ctrlsSvc$2.getRowCount())!==null&&_this$beans$ctrlsSvc$!==void 0?_this$beans$ctrlsSvc$:0)+((_this$beans$filterMan2=(_this$beans$filterMan3=this.beans.filterManager)===null||_this$beans$filterMan3===void 0?void 0:_this$beans$filterMan3.getHeaderRowCount())!==null&&_this$beans$filterMan2!==void 0?_this$beans$filterMan2:0);var rowIsEven=this.rowNode.rowIndex%2===0;var ariaRowIndex=headerRowCount+this.rowNode.rowIndex+1;this.forEachGui(gui,c=>{c.rowComp.setRowIndex(rowIndexStr);c.rowComp.toggleCss(\"ag-row-even\",rowIsEven);c.rowComp.toggleCss(\"ag-row-odd\",!rowIsEven);_setAriaRowIndex(c.element,ariaRowIndex);});}};// packages/ag-grid-community/src/utils/keyboard.ts\nfunction _isEventFromPrintableCharacter(event){var _event$key2;if(event.altKey||event.ctrlKey||event.metaKey){return false;}var printableCharacter=((_event$key2=event.key)===null||_event$key2===void 0?void 0:_event$key2.length)===1;return printableCharacter;}function _isUserSuppressingKeyboardEvent(gos,keyboardEvent,rowNode,column,editing){var colDefFunc=column?column.getColDef().suppressKeyboardEvent:void 0;if(!colDefFunc){return false;}var params=_addGridCommonParams(gos,{event:keyboardEvent,editing,column,node:rowNode,data:rowNode.data,colDef:column.getColDef()});if(colDefFunc){var colDefFuncResult=colDefFunc(params);if(colDefFuncResult){return true;}}return false;}// packages/ag-grid-community/src/utils/selection.ts\nfunction _selectAllCells(beans){var _pinnedRowModel$isEmp,_pinnedRowModel$isEmp2;var{pinnedRowModel,rowModel}=beans;var[isEmptyPinnedTop,isEmptyPinnedBottom]=[(_pinnedRowModel$isEmp=pinnedRowModel===null||pinnedRowModel===void 0?void 0:pinnedRowModel.isEmpty(\"top\"))!==null&&_pinnedRowModel$isEmp!==void 0?_pinnedRowModel$isEmp:true,(_pinnedRowModel$isEmp2=pinnedRowModel===null||pinnedRowModel===void 0?void 0:pinnedRowModel.isEmpty(\"bottom\"))!==null&&_pinnedRowModel$isEmp2!==void 0?_pinnedRowModel$isEmp2:true];var floatingStart=isEmptyPinnedTop?null:\"top\";var floatingEnd;var rowEnd;if(isEmptyPinnedBottom){floatingEnd=null;rowEnd=rowModel.getRowCount()-1;}else{var _pinnedRowModel$getPi3;floatingEnd=\"bottom\";rowEnd=(_pinnedRowModel$getPi3=pinnedRowModel===null||pinnedRowModel===void 0?void 0:pinnedRowModel.getPinnedBottomRowCount())!==null&&_pinnedRowModel$getPi3!==void 0?_pinnedRowModel$getPi3:0-1;}var{visibleCols,rangeSvc}=beans;var allDisplayedColumns=visibleCols.allCols;if(!rangeSvc||!(allDisplayedColumns!==null&&allDisplayedColumns!==void 0&&allDisplayedColumns.length)){return;}rangeSvc.setCellRange({rowStartIndex:0,rowStartPinned:floatingStart,rowEndIndex:rowEnd,rowEndPinned:floatingEnd});}// packages/ag-grid-community/src/gridBodyComp/rowContainer/rowContainerEventsFeature.ts\nvar A_KEYCODE=65;var C_KEYCODE=67;var V_KEYCODE=86;var D_KEYCODE=68;var Z_KEYCODE=90;var Y_KEYCODE=89;function _normaliseQwertyAzerty(keyboardEvent){var{keyCode}=keyboardEvent;var code;switch(keyCode){case A_KEYCODE:code=KeyCode.A;break;case C_KEYCODE:code=KeyCode.C;break;case V_KEYCODE:code=KeyCode.V;break;case D_KEYCODE:code=KeyCode.D;break;case Z_KEYCODE:code=KeyCode.Z;break;case Y_KEYCODE:code=KeyCode.Y;break;default:code=keyboardEvent.code;}return code;}var RowContainerEventsFeature=class extends BeanStub{constructor(element){super();this.element=element;}postConstruct(){var _this$beans$touchSvc2;this.addKeyboardListeners();this.addMouseListeners();(_this$beans$touchSvc2=this.beans.touchSvc)===null||_this$beans$touchSvc2===void 0||_this$beans$touchSvc2.mockRowContextMenu(this);this.editSvc=this.beans.editSvc;}addKeyboardListeners(){var eventName=\"keydown\";var listener=this.processKeyboardEvent.bind(this,eventName);this.addManagedElementListeners(this.element,{[eventName]:listener});}addMouseListeners(){var mouseDownEvent=_isEventSupported(\"touchstart\")?\"touchstart\":\"mousedown\";var eventNames=[\"dblclick\",\"contextmenu\",\"mouseover\",\"mouseout\",\"click\",mouseDownEvent];eventNames.forEach(eventName=>{var listener=this.processMouseEvent.bind(this,eventName);this.addManagedElementListeners(this.element,{[eventName]:listener});});}processMouseEvent(eventName,mouseEvent){if(!_isEventFromThisGrid(this.gos,mouseEvent)||_isStopPropagationForAgGrid(mouseEvent)){return;}var{cellCtrl,rowCtrl}=this.getControlsForEventTarget(mouseEvent.target);if(eventName===\"contextmenu\"){var _this$beans$contextMe;if(cellCtrl!==null&&cellCtrl!==void 0&&cellCtrl.column){cellCtrl.dispatchCellContextMenuEvent(mouseEvent);}(_this$beans$contextMe=this.beans.contextMenuSvc)===null||_this$beans$contextMe===void 0||_this$beans$contextMe.handleContextMenuMouseEvent(mouseEvent,void 0,rowCtrl,cellCtrl);}else{if(cellCtrl){cellCtrl.onMouseEvent(eventName,mouseEvent);}if(rowCtrl){rowCtrl.onMouseEvent(eventName,mouseEvent);}}}getControlsForEventTarget(target){var{gos}=this;return{cellCtrl:_getCellCtrlForEventTarget(gos,target),rowCtrl:_getCtrlForEventTarget(gos,target,DOM_DATA_KEY_ROW_CTRL)};}processKeyboardEvent(eventName,keyboardEvent){var{cellCtrl,rowCtrl}=this.getControlsForEventTarget(keyboardEvent.target);if(keyboardEvent.defaultPrevented){return;}if(cellCtrl){this.processCellKeyboardEvent(cellCtrl,eventName,keyboardEvent);}else if(rowCtrl!==null&&rowCtrl!==void 0&&rowCtrl.isFullWidth()){this.processFullWidthRowKeyboardEvent(rowCtrl,eventName,keyboardEvent);}}processCellKeyboardEvent(cellCtrl,eventName,keyboardEvent){var _this$editSvc$isEditi,_this$editSvc4;var editing=(_this$editSvc$isEditi=(_this$editSvc4=this.editSvc)===null||_this$editSvc4===void 0?void 0:_this$editSvc4.isEditing(cellCtrl,{withOpenEditor:true}))!==null&&_this$editSvc$isEditi!==void 0?_this$editSvc$isEditi:false;var gridProcessingAllowed=!_isUserSuppressingKeyboardEvent(this.gos,keyboardEvent,cellCtrl.rowNode,cellCtrl.column,editing);if(gridProcessingAllowed){if(eventName===\"keydown\"){var _this$beans$navigatio3;var wasScrollKey=!editing&&((_this$beans$navigatio3=this.beans.navigation)===null||_this$beans$navigatio3===void 0?void 0:_this$beans$navigatio3.handlePageScrollingKey(keyboardEvent));if(!wasScrollKey){cellCtrl.onKeyDown(keyboardEvent);}this.doGridOperations(keyboardEvent,editing);if(_isEventFromPrintableCharacter(keyboardEvent)){cellCtrl.processCharacter(keyboardEvent);}}}if(eventName===\"keydown\"){this.eventSvc.dispatchEvent(cellCtrl.createEvent(keyboardEvent,\"cellKeyDown\"));}}processFullWidthRowKeyboardEvent(rowCtrl,eventName,keyboardEvent){var{rowNode}=rowCtrl;var{focusSvc,navigation}=this.beans;var focusedCell=focusSvc.getFocusedCell();var column=focusedCell===null||focusedCell===void 0?void 0:focusedCell.column;var gridProcessingAllowed=!_isUserSuppressingKeyboardEvent(this.gos,keyboardEvent,rowNode,column,false);if(gridProcessingAllowed){var key=keyboardEvent.key;if(eventName===\"keydown\"){switch(key){case KeyCode.PAGE_HOME:case KeyCode.PAGE_END:case KeyCode.PAGE_UP:case KeyCode.PAGE_DOWN:navigation===null||navigation===void 0||navigation.handlePageScrollingKey(keyboardEvent,true);break;case KeyCode.LEFT:case KeyCode.RIGHT:if(!this.gos.get(\"embedFullWidthRows\")){break;}case KeyCode.UP:case KeyCode.DOWN:rowCtrl.onKeyboardNavigate(keyboardEvent);break;case KeyCode.TAB:rowCtrl.onTabKeyDown(keyboardEvent);break;default:}}}if(eventName===\"keydown\"){this.eventSvc.dispatchEvent(rowCtrl.createRowEvent(\"cellKeyDown\",keyboardEvent));}}doGridOperations(keyboardEvent,editing){if(!keyboardEvent.ctrlKey&&!keyboardEvent.metaKey){return;}if(editing){return;}if(!_isEventFromThisGrid(this.gos,keyboardEvent)){return;}var keyCode=_normaliseQwertyAzerty(keyboardEvent);var{clipboardSvc,undoRedo}=this.beans;if(keyCode===KeyCode.A){return this.onCtrlAndA(keyboardEvent);}if(keyCode===KeyCode.C){return this.onCtrlAndC(clipboardSvc,keyboardEvent);}if(keyCode===KeyCode.D){return this.onCtrlAndD(clipboardSvc,keyboardEvent);}if(keyCode===KeyCode.V){return this.onCtrlAndV(clipboardSvc,keyboardEvent);}if(keyCode===KeyCode.X){return this.onCtrlAndX(clipboardSvc,keyboardEvent);}if(keyCode===KeyCode.Y){return this.onCtrlAndY(undoRedo);}if(keyCode===KeyCode.Z){return this.onCtrlAndZ(undoRedo,keyboardEvent);}}onCtrlAndA(event){var{beans:{rowModel,rangeSvc,selectionSvc},gos}=this;if(rangeSvc&&_isCellSelectionEnabled(gos)&&rowModel.isRowsToRender()){_selectAllCells(this.beans);}else if(selectionSvc){selectionSvc===null||selectionSvc===void 0||selectionSvc.selectAllRowNodes({source:\"keyboardSelectAll\",selectAll:_getSelectAll(gos)});}event.preventDefault();}onCtrlAndC(clipboardSvc,event){var _this$editSvc5;if(!clipboardSvc||this.gos.get(\"enableCellTextSelection\")){return;}var{cellCtrl}=this.getControlsForEventTarget(event.target);if((_this$editSvc5=this.editSvc)!==null&&_this$editSvc5!==void 0&&_this$editSvc5.isEditing(cellCtrl,{withOpenEditor:true})){return;}event.preventDefault();clipboardSvc.copyToClipboard();}onCtrlAndX(clipboardSvc,event){var _this$editSvc6;if(!clipboardSvc||this.gos.get(\"enableCellTextSelection\")||this.gos.get(\"suppressCutToClipboard\")){return;}var{cellCtrl}=this.getControlsForEventTarget(event.target);if((_this$editSvc6=this.editSvc)!==null&&_this$editSvc6!==void 0&&_this$editSvc6.isEditing(cellCtrl,{withOpenEditor:true})){return;}event.preventDefault();clipboardSvc.cutToClipboard(void 0,\"ui\");}onCtrlAndV(clipboardSvc,event){var _this$editSvc7;var{cellCtrl}=this.getControlsForEventTarget(event.target);if((_this$editSvc7=this.editSvc)!==null&&_this$editSvc7!==void 0&&_this$editSvc7.isEditing(cellCtrl,{withOpenEditor:true})){return;}if(clipboardSvc&&!this.gos.get(\"suppressClipboardPaste\")){clipboardSvc.pasteFromClipboard();}}onCtrlAndD(clipboardSvc,event){if(clipboardSvc&&!this.gos.get(\"suppressClipboardPaste\")){clipboardSvc.copyRangeDown();}event.preventDefault();}onCtrlAndZ(undoRedo,event){if(!this.gos.get(\"undoRedoCellEditing\")||!undoRedo){return;}event.preventDefault();if(event.shiftKey){undoRedo.redo(\"ui\");}else{undoRedo.undo(\"ui\");}}onCtrlAndY(undoRedo){undoRedo===null||undoRedo===void 0||undoRedo.redo(\"ui\");}};// packages/ag-grid-community/src/gridBodyComp/rowContainer/setHeightFeature.ts\nvar SetHeightFeature=class extends BeanStub{constructor(eContainer,eViewport){super();this.eContainer=eContainer;this.eViewport=eViewport;}postConstruct(){this.addManagedEventListeners({rowContainerHeightChanged:this.onHeightChanged.bind(this,this.beans.rowContainerHeight)});}onHeightChanged(maxDivHeightScaler){var height=maxDivHeightScaler.uiContainerHeight;var heightString=height!=null?\"\".concat(height,\"px\"):\"\";this.eContainer.style.height=heightString;if(this.eViewport){this.eViewport.style.height=heightString;}}};// packages/ag-grid-community/src/gridBodyComp/rowContainer/rowContainerCtrl.ts\nvar getTopRowCtrls=r=>r.topRowCtrls;var getStickyTopRowCtrls=r=>r.getStickyTopRowCtrls();var getStickyBottomRowCtrls=r=>r.getStickyBottomRowCtrls();var getBottomRowCtrls=r=>r.bottomRowCtrls;var getCentreRowCtrls=r=>r.allRowCtrls;var getSpannedTopRowCtrls=r=>r.getCtrls(\"top\");var getSpannedCenterRowCtrls=r=>r.getCtrls(\"center\");var getSpannedBottomRowCtrls=r=>r.getCtrls(\"bottom\");var ContainerCssClasses={center:{type:\"center\",name:\"center-cols\",getRowCtrls:getCentreRowCtrls,getSpannedRowCtrls:getSpannedCenterRowCtrls},left:{type:\"left\",name:\"pinned-left-cols\",pinnedType:\"left\",getRowCtrls:getCentreRowCtrls,getSpannedRowCtrls:getSpannedCenterRowCtrls},right:{type:\"right\",name:\"pinned-right-cols\",pinnedType:\"right\",getRowCtrls:getCentreRowCtrls,getSpannedRowCtrls:getSpannedCenterRowCtrls},fullWidth:{type:\"fullWidth\",name:\"full-width\",fullWidth:true,getRowCtrls:getCentreRowCtrls},topCenter:{type:\"center\",name:\"floating-top\",getRowCtrls:getTopRowCtrls,getSpannedRowCtrls:getSpannedTopRowCtrls},topLeft:{type:\"left\",name:\"pinned-left-floating\",container:\"ag-pinned-left-floating-top\",pinnedType:\"left\",getRowCtrls:getTopRowCtrls,getSpannedRowCtrls:getSpannedTopRowCtrls},topRight:{type:\"right\",name:\"pinned-right-floating\",container:\"ag-pinned-right-floating-top\",pinnedType:\"right\",getRowCtrls:getTopRowCtrls,getSpannedRowCtrls:getSpannedTopRowCtrls},topFullWidth:{type:\"fullWidth\",name:\"floating-top-full-width\",fullWidth:true,getRowCtrls:getTopRowCtrls},stickyTopCenter:{type:\"center\",name:\"sticky-top\",getRowCtrls:getStickyTopRowCtrls},stickyTopLeft:{type:\"left\",name:\"pinned-left-sticky-top\",container:\"ag-pinned-left-sticky-top\",pinnedType:\"left\",getRowCtrls:getStickyTopRowCtrls},stickyTopRight:{type:\"right\",name:\"pinned-right-sticky-top\",container:\"ag-pinned-right-sticky-top\",pinnedType:\"right\",getRowCtrls:getStickyTopRowCtrls},stickyTopFullWidth:{type:\"fullWidth\",name:\"sticky-top-full-width\",fullWidth:true,getRowCtrls:getStickyTopRowCtrls},stickyBottomCenter:{type:\"center\",name:\"sticky-bottom\",getRowCtrls:getStickyBottomRowCtrls},stickyBottomLeft:{type:\"left\",name:\"pinned-left-sticky-bottom\",container:\"ag-pinned-left-sticky-bottom\",pinnedType:\"left\",getRowCtrls:getStickyBottomRowCtrls},stickyBottomRight:{type:\"right\",name:\"pinned-right-sticky-bottom\",container:\"ag-pinned-right-sticky-bottom\",pinnedType:\"right\",getRowCtrls:getStickyBottomRowCtrls},stickyBottomFullWidth:{type:\"fullWidth\",name:\"sticky-bottom-full-width\",fullWidth:true,getRowCtrls:getStickyBottomRowCtrls},bottomCenter:{type:\"center\",name:\"floating-bottom\",getRowCtrls:getBottomRowCtrls,getSpannedRowCtrls:getSpannedBottomRowCtrls},bottomLeft:{type:\"left\",name:\"pinned-left-floating-bottom\",container:\"ag-pinned-left-floating-bottom\",pinnedType:\"left\",getRowCtrls:getBottomRowCtrls,getSpannedRowCtrls:getSpannedBottomRowCtrls},bottomRight:{type:\"right\",name:\"pinned-right-floating-bottom\",container:\"ag-pinned-right-floating-bottom\",pinnedType:\"right\",getRowCtrls:getBottomRowCtrls,getSpannedRowCtrls:getSpannedBottomRowCtrls},bottomFullWidth:{type:\"fullWidth\",name:\"floating-bottom-full-width\",fullWidth:true,getRowCtrls:getBottomRowCtrls}};function _getRowViewportClass(name){var options=_getRowContainerOptions(name);return\"ag-\".concat(options.name,\"-viewport\");}function _getRowContainerClass(name){var _options$container;var options=_getRowContainerOptions(name);return(_options$container=options.container)!==null&&_options$container!==void 0?_options$container:\"ag-\".concat(options.name,\"-container\");}function _getRowSpanContainerClass(name){var options=_getRowContainerOptions(name);return\"ag-\".concat(options.name,\"-spanned-cells-container\");}function _getRowContainerOptions(name){return ContainerCssClasses[name];}var allTopNoFW=[\"topCenter\",\"topLeft\",\"topRight\"];var allBottomNoFW=[\"bottomCenter\",\"bottomLeft\",\"bottomRight\"];var allMiddleNoFW=[\"center\",\"left\",\"right\"];var allMiddle=[\"center\",\"left\",\"right\",\"fullWidth\"];var allCenter=[\"stickyTopCenter\",\"stickyBottomCenter\",\"center\",\"topCenter\",\"bottomCenter\"];var allLeft=[\"left\",\"bottomLeft\",\"topLeft\",\"stickyTopLeft\",\"stickyBottomLeft\"];var allRight=[\"right\",\"bottomRight\",\"topRight\",\"stickyTopRight\",\"stickyBottomRight\"];var allStickyTopNoFW=[\"stickyTopCenter\",\"stickyTopLeft\",\"stickyTopRight\"];var allStickyBottomNoFW=[\"stickyBottomCenter\",\"stickyBottomLeft\",\"stickyBottomRight\"];var allStickyContainers=[...allStickyTopNoFW,\"stickyTopFullWidth\",...allStickyBottomNoFW,\"stickyBottomFullWidth\"];var allNoFW=[...allTopNoFW,...allBottomNoFW,...allMiddleNoFW,...allStickyTopNoFW,...allStickyBottomNoFW];var RowContainerCtrl=class extends BeanStub{constructor(name){super();this.name=name;this.visible=true;// Maintaining a constant reference enables optimization in React.\nthis.EMPTY_CTRLS=[];this.options=_getRowContainerOptions(name);}postConstruct(){this.enableRtl=this.gos.get(\"enableRtl\");this.forContainers([\"center\"],()=>{this.viewportSizeFeature=this.createManagedBean(new ViewportSizeFeature(this));this.addManagedEventListeners({stickyTopOffsetChanged:this.onStickyTopOffsetChanged.bind(this)});});}onStickyTopOffsetChanged(event){this.comp.setOffsetTop(\"\".concat(event.offset,\"px\"));}registerWithCtrlsService(){if(this.options.fullWidth)return;this.beans.ctrlsSvc.register(this.name,this);}forContainers(names,callback){if(names.indexOf(this.name)>=0){callback();}}setComp(view,eContainer,eSpannedContainer,eViewport){var _this$eViewport;this.comp=view;this.eContainer=eContainer;this.eSpannedContainer=eSpannedContainer;this.eViewport=eViewport;this.createManagedBean(new RowContainerEventsFeature((_this$eViewport=this.eViewport)!==null&&_this$eViewport!==void 0?_this$eViewport:this.eContainer));this.addPreventScrollWhileDragging();this.listenOnDomOrder();var{pinnedCols,rangeSvc}=this.beans;var pinnedWidthChanged=()=>this.onPinnedWidthChanged();this.forContainers(allLeft,()=>{this.pinnedWidthFeature=this.createOptionalManagedBean(pinnedCols===null||pinnedCols===void 0?void 0:pinnedCols.createPinnedWidthFeature(true,this.eContainer,this.eSpannedContainer));this.addManagedEventListeners({leftPinnedWidthChanged:pinnedWidthChanged});});this.forContainers(allRight,()=>{this.pinnedWidthFeature=this.createOptionalManagedBean(pinnedCols===null||pinnedCols===void 0?void 0:pinnedCols.createPinnedWidthFeature(false,this.eContainer,this.eSpannedContainer));this.addManagedEventListeners({rightPinnedWidthChanged:pinnedWidthChanged});});this.forContainers(allMiddle,()=>this.createManagedBean(new SetHeightFeature(this.eContainer,this.name===\"center\"?eViewport:void 0)));if(rangeSvc){this.forContainers(allNoFW,()=>this.createManagedBean(rangeSvc.createDragListenerFeature(this.eContainer)));}this.forContainers(allCenter,()=>this.createManagedBean(new CenterWidthFeature(width=>this.comp.setContainerWidth(\"\".concat(width,\"px\")))));this.visible=this.isContainerVisible();this.addListeners();this.registerWithCtrlsService();}onScrollCallback(fn){this.addManagedElementListeners(this.eViewport,{scroll:fn});}addListeners(){var{spannedRowRenderer,gos}=this.beans;var onDisplayedColumnsChanged=this.onDisplayedColumnsChanged.bind(this);this.addManagedEventListeners({displayedColumnsChanged:onDisplayedColumnsChanged,displayedColumnsWidthChanged:onDisplayedColumnsChanged,displayedRowsChanged:params=>this.onDisplayedRowsChanged(params.afterScroll)});onDisplayedColumnsChanged();this.onDisplayedRowsChanged();if(spannedRowRenderer&&this.options.getSpannedRowCtrls&&gos.get(\"enableCellSpan\")){this.addManagedListeners(spannedRowRenderer,{spannedRowsUpdated:()=>{var spannedCtrls=this.options.getSpannedRowCtrls(spannedRowRenderer);if(!spannedCtrls){return;}this.comp.setSpannedRowCtrls(spannedCtrls,false);}});}}listenOnDomOrder(){var isStickContainer=allStickyContainers.indexOf(this.name)>=0;if(isStickContainer){this.comp.setDomOrder(true);return;}var listener=()=>{var isEnsureDomOrder=this.gos.get(\"ensureDomOrder\");var isPrintLayout=_isDomLayout(this.gos,\"print\");this.comp.setDomOrder(isEnsureDomOrder||isPrintLayout);};this.addManagedPropertyListener(\"domLayout\",listener);listener();}onDisplayedColumnsChanged(){this.forContainers([\"center\"],()=>this.onHorizontalViewportChanged());}// this methods prevents the grid views from being scrolled while the dragService is being used\n// eg. the view should not scroll up and down while dragging rows using the rowDragComp.\naddPreventScrollWhileDragging(){var{dragSvc}=this.beans;if(!dragSvc){return;}var preventScroll=e=>{if(dragSvc.dragging){if(e.cancelable){e.preventDefault();}}};this.eContainer.addEventListener(\"touchmove\",preventScroll,{passive:false});this.addDestroyFunc(()=>this.eContainer.removeEventListener(\"touchmove\",preventScroll));}// this gets called whenever a change in the viewport, so we can inform column controller it has to work\n// out the virtual columns again. gets called from following locations:\n// + ensureColVisible, scroll, init, layoutChanged, displayedColumnsChanged\nonHorizontalViewportChanged(){var afterScroll=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var scrollWidth=this.getCenterWidth();var scrollPosition=this.getCenterViewportScrollLeft();this.beans.colViewport.setScrollPosition(scrollWidth,scrollPosition,afterScroll);}hasHorizontalScrollGap(){return this.eContainer.clientWidth-this.eViewport.clientWidth<0;}hasVerticalScrollGap(){return this.eContainer.clientHeight-this.eViewport.clientHeight<0;}getCenterWidth(){return _getInnerWidth(this.eViewport);}getCenterViewportScrollLeft(){return _getScrollLeft(this.eViewport,this.enableRtl);}registerViewportResizeListener(listener){var unsubscribeFromResize=_observeResize(this.beans,this.eViewport,listener);this.addDestroyFunc(()=>unsubscribeFromResize());}isViewportInTheDOMTree(){return _isInDOM(this.eViewport);}getViewportScrollLeft(){return _getScrollLeft(this.eViewport,this.enableRtl);}isHorizontalScrollShowing(){var isAlwaysShowHorizontalScroll=this.gos.get(\"alwaysShowHorizontalScroll\");return isAlwaysShowHorizontalScroll||_isHorizontalScrollShowing(this.eViewport);}setHorizontalScroll(offset){this.comp.setHorizontalScroll(offset);}getHScrollPosition(){var res={left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth};return res;}setCenterViewportScrollLeft(value){_setScrollLeft(this.eViewport,value,this.enableRtl);}isContainerVisible(){var pinned=this.options.pinnedType!=null;return!pinned||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0;}onPinnedWidthChanged(){var visible=this.isContainerVisible();if(this.visible!=visible){this.visible=visible;this.onDisplayedRowsChanged();}}onDisplayedRowsChanged(){var afterScroll=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var rows=this.options.getRowCtrls(this.beans.rowRenderer);if(!this.visible||rows.length===0){this.comp.setRowCtrls({rowCtrls:this.EMPTY_CTRLS});return;}var printLayout=_isDomLayout(this.gos,\"print\");var embedFullWidthRows=this.gos.get(\"embedFullWidthRows\");var embedFW=embedFullWidthRows||printLayout;var rowsThisContainer=rows.filter(rowCtrl=>{var fullWidthRow=rowCtrl.isFullWidth();var match=this.options.fullWidth?!embedFW&&fullWidthRow:embedFW||!fullWidthRow;return match;});this.comp.setRowCtrls({rowCtrls:rowsThisContainer,useFlushSync:afterScroll});}};// packages/ag-grid-community/src/gridBodyComp/gridBodyCtrl.ts\nvar CSS_CLASS_FORCE_VERTICAL_SCROLL=\"ag-force-vertical-scroll\";var CSS_CLASS_CELL_SELECTABLE=\"ag-selectable\";var CSS_CLASS_COLUMN_MOVING=\"ag-column-moving\";var GridBodyCtrl=class extends BeanStub{constructor(){super(...arguments);this.stickyTopHeight=0;this.stickyBottomHeight=0;}wireBeans(beans){this.ctrlsSvc=beans.ctrlsSvc;this.colModel=beans.colModel;this.scrollVisibleSvc=beans.scrollVisibleSvc;this.pinnedRowModel=beans.pinnedRowModel;this.filterManager=beans.filterManager;this.rowGroupColsSvc=beans.rowGroupColsSvc;}setComp(comp,eGridBody,eBodyViewport,eTop,eBottom,eStickyTop,eStickyBottom){var _this$beans$rowDragSv3,_this$filterManager;this.comp=comp;this.eGridBody=eGridBody;this.eBodyViewport=eBodyViewport;this.eTop=eTop;this.eBottom=eBottom;this.eStickyTop=eStickyTop;this.eStickyBottom=eStickyBottom;this.eCenterColsViewport=eBodyViewport.querySelector(\".\".concat(_getRowViewportClass(\"center\")));this.eFullWidthContainer=eBodyViewport.querySelector(\".\".concat(_getRowContainerClass(\"fullWidth\")));this.eStickyTopFullWidthContainer=eStickyTop.querySelector(\".\".concat(_getRowContainerClass(\"stickyTopFullWidth\")));this.eStickyBottomFullWidthContainer=eStickyBottom.querySelector(\".\".concat(_getRowContainerClass(\"stickyBottomFullWidth\")));this.setCellTextSelection(this.gos.get(\"enableCellTextSelection\"));this.addManagedPropertyListener(\"enableCellTextSelection\",props=>this.setCellTextSelection(props.currentValue));this.createManagedBean(new LayoutFeature(this.comp));this.scrollFeature=this.createManagedBean(new GridBodyScrollFeature(eBodyViewport));(_this$beans$rowDragSv3=this.beans.rowDragSvc)===null||_this$beans$rowDragSv3===void 0||_this$beans$rowDragSv3.setupRowDrag(eBodyViewport,this);this.setupRowAnimationCssClass();this.addEventListeners();this.addFocusListeners([eTop,eBodyViewport,eBottom,eStickyTop,eStickyBottom]);this.setGridRootRole();this.onGridColumnsChanged();this.addBodyViewportListener();this.setFloatingHeights();this.disableBrowserDragging();this.addStopEditingWhenGridLosesFocus();this.updateScrollingClasses();(_this$filterManager=this.filterManager)===null||_this$filterManager===void 0||_this$filterManager.setupAdvFilterHeaderComp(eTop);this.ctrlsSvc.register(\"gridBodyCtrl\",this);}addEventListeners(){var setFloatingHeights=this.setFloatingHeights.bind(this);var setGridRootRole=this.setGridRootRole.bind(this);var toggleRowResizeStyle=this.toggleRowResizeStyles.bind(this);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this),scrollGapChanged:this.updateScrollingClasses.bind(this),pinnedRowDataChanged:setFloatingHeights,pinnedHeightChanged:setFloatingHeights,pinnedRowsChanged:setFloatingHeights,headerHeightChanged:this.setStickyTopOffsetTop.bind(this),columnRowGroupChanged:setGridRootRole,columnPivotChanged:setGridRootRole,rowResizeStarted:toggleRowResizeStyle,rowResizeEnded:toggleRowResizeStyle});this.addManagedPropertyListener(\"treeData\",setGridRootRole);}toggleRowResizeStyles(params){var isResizingRow=params.type===\"rowResizeStarted\";this.eBodyViewport.classList.toggle(\"ag-prevent-animation\",isResizingRow);}onGridColumnsChanged(){var columns=this.beans.colModel.getCols();this.comp.setColumnCount(columns.length);}onScrollVisibilityChanged(){var{scrollVisibleSvc}=this;var visible=scrollVisibleSvc.verticalScrollShowing;this.setVerticalScrollPaddingVisible(visible);this.setStickyWidth(visible);this.setStickyBottomOffsetBottom();var scrollbarWidth=visible?scrollVisibleSvc.getScrollbarWidth()||0:0;var pad=_isInvisibleScrollbar()?16:0;var width=\"calc(100% + \".concat(scrollbarWidth+pad,\"px)\");_requestAnimationFrame(this.beans,()=>this.comp.setBodyViewportWidth(width));this.updateScrollingClasses();}setGridRootRole(){var{rowGroupColsSvc,colModel}=this;var isTreeGrid=this.gos.get(\"treeData\");if(!isTreeGrid){var isPivotActive=colModel.isPivotMode();var rowGroupColumnLen=!rowGroupColsSvc?0:rowGroupColsSvc.columns.length;var columnsNeededForGrouping=isPivotActive?2:1;isTreeGrid=rowGroupColumnLen>=columnsNeededForGrouping;}this.comp.setGridRootRole(isTreeGrid?\"treegrid\":\"grid\");}addFocusListeners(elements){elements.forEach(element=>{this.addManagedElementListeners(element,{focusin:e=>{var{target}=e;var isFocusedElementNested=_isElementChildOfClass(target,\"ag-root\",element);element.classList.toggle(\"ag-has-focus\",!isFocusedElementNested);},focusout:e=>{var{target,relatedTarget}=e;var gridContainRelatedTarget=element.contains(relatedTarget);var isNestedRelatedTarget=_isElementChildOfClass(relatedTarget,\"ag-root\",element);var isNestedTarget=_isElementChildOfClass(target,\"ag-root\",element);if(isNestedTarget){return;}if(!gridContainRelatedTarget||isNestedRelatedTarget){element.classList.remove(\"ag-has-focus\");}}});});}// used by ColumnAnimationService\nsetColumnMovingCss(moving){this.comp.setColumnMovingCss(CSS_CLASS_COLUMN_MOVING,moving);}setCellTextSelection(){var selectable=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;this.comp.setCellSelectableCss(CSS_CLASS_CELL_SELECTABLE,selectable);}updateScrollingClasses(){var{eGridBody:{classList},scrollVisibleSvc}=this;classList.toggle(\"ag-body-vertical-content-no-gap\",!scrollVisibleSvc.verticalScrollGap);classList.toggle(\"ag-body-horizontal-content-no-gap\",!scrollVisibleSvc.horizontalScrollGap);}// if we do not do this, then the user can select a pic in the grid (eg an image in a custom cell renderer)\n// and then that will start the browser native drag n' drop, which messes up with our own drag and drop.\ndisableBrowserDragging(){this.addManagedElementListeners(this.eGridBody,{dragstart:event=>{if(event.target instanceof HTMLImageElement){event.preventDefault();return false;}}});}addStopEditingWhenGridLosesFocus(){var _this$beans$editSvc3;(_this$beans$editSvc3=this.beans.editSvc)===null||_this$beans$editSvc3===void 0||_this$beans$editSvc3.addStopEditingWhenGridLosesFocus([this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop,this.eStickyBottom]);}updateRowCount(){var _this$ctrlsSvc$getHea,_this$ctrlsSvc$getHea2,_this$filterManager$g,_this$filterManager2;var headerCount=((_this$ctrlsSvc$getHea=(_this$ctrlsSvc$getHea2=this.ctrlsSvc.getHeaderRowContainerCtrl())===null||_this$ctrlsSvc$getHea2===void 0?void 0:_this$ctrlsSvc$getHea2.getRowCount())!==null&&_this$ctrlsSvc$getHea!==void 0?_this$ctrlsSvc$getHea:0)+((_this$filterManager$g=(_this$filterManager2=this.filterManager)===null||_this$filterManager2===void 0?void 0:_this$filterManager2.getHeaderRowCount())!==null&&_this$filterManager$g!==void 0?_this$filterManager$g:0);var{rowModel}=this.beans;var rowCount=rowModel.isLastRowIndexKnown()?rowModel.getRowCount():-1;var total=rowCount===-1?-1:headerCount+rowCount;this.comp.setRowCount(total);}registerBodyViewportResizeListener(listener){this.comp.registerBodyViewportResizeListener(listener);}setVerticalScrollPaddingVisible(visible){var overflowY=visible?\"scroll\":\"hidden\";this.comp.setPinnedTopBottomOverflowY(overflowY);}isVerticalScrollShowing(){var show=this.gos.get(\"alwaysShowVerticalScroll\");var cssClass=show?CSS_CLASS_FORCE_VERTICAL_SCROLL:null;var allowVerticalScroll=_isDomLayout(this.gos,\"normal\");this.comp.setAlwaysVerticalScrollClass(cssClass,show);return show||allowVerticalScroll&&_isVerticalScrollShowing(this.eBodyViewport);}setupRowAnimationCssClass(){var{rowContainerHeight,environment}=this.beans;var initialSizeMeasurementComplete=environment.sizesMeasured;var updateAnimationClass=()=>{var animateRows=initialSizeMeasurementComplete&&_isAnimateRows(this.gos)&&!rowContainerHeight.stretching;var animateRowsCssClass=animateRows?\"ag-row-animation\":\"ag-row-no-animation\";this.comp.setRowAnimationCssOnBodyViewport(animateRowsCssClass,animateRows);};updateAnimationClass();this.addManagedEventListeners({heightScaleChanged:updateAnimationClass});this.addManagedPropertyListener(\"animateRows\",updateAnimationClass);this.addManagedEventListeners({gridStylesChanged:()=>{if(!initialSizeMeasurementComplete&&environment.sizesMeasured){initialSizeMeasurementComplete=true;updateAnimationClass();}}});}addBodyViewportListener(){var{eBodyViewport,eStickyTop,eStickyBottom,eTop,eBottom,beans:{popupSvc,touchSvc}}=this;var listener=this.onBodyViewportContextMenu.bind(this);this.addManagedElementListeners(eBodyViewport,{contextmenu:listener});touchSvc===null||touchSvc===void 0||touchSvc.mockBodyContextMenu(this,listener);this.addManagedElementListeners(eBodyViewport,{wheel:this.onBodyViewportWheel.bind(this,popupSvc)});var onStickyWheel=this.onStickyWheel.bind(this);for(var container of[eStickyTop,eStickyBottom,eTop,eBottom]){this.addManagedElementListeners(container,{wheel:onStickyWheel});}var onHorizontalWheel=this.onHorizontalWheel.bind(this);for(var _container2 of[\"left\",\"right\",\"topLeft\",\"topRight\",\"bottomLeft\",\"bottomRight\"]){this.addManagedElementListeners(this.ctrlsSvc.get(_container2).eContainer,{wheel:onHorizontalWheel});}this.addFullWidthContainerWheelListener();}addFullWidthContainerWheelListener(){this.addManagedElementListeners(this.eFullWidthContainer,{wheel:e=>this.onFullWidthContainerWheel(e)});}onFullWidthContainerWheel(e){var{deltaX,deltaY,shiftKey}=e;var isHorizontalScroll=shiftKey||Math.abs(deltaX)>Math.abs(deltaY);if(isHorizontalScroll&&_isEventFromThisGrid(this.gos,e)){this.scrollGridBodyToMatchEvent(e);}}onStickyWheel(e){var{deltaY}=e;var scrolled=this.scrollVertically(deltaY);if(scrolled>0){e.preventDefault();}}onHorizontalWheel(e){var{deltaX,deltaY,shiftKey}=e;var isHorizontalScroll=shiftKey||Math.abs(deltaX)>Math.abs(deltaY);if(!isHorizontalScroll){return;}this.scrollGridBodyToMatchEvent(e);}scrollGridBodyToMatchEvent(e){var{deltaX,deltaY}=e;e.preventDefault();this.eCenterColsViewport.scrollBy({left:deltaX||deltaY});}onBodyViewportContextMenu(mouseEvent,touch,touchEvent){if(!mouseEvent&&!touchEvent){return;}if(this.gos.get(\"preventDefaultOnContextMenu\")){var event=mouseEvent||touchEvent;event.preventDefault();}var{target}=mouseEvent||touch;if(target===this.eBodyViewport||target===this.ctrlsSvc.get(\"center\").eViewport){var _this$beans$contextMe2;(_this$beans$contextMe2=this.beans.contextMenuSvc)===null||_this$beans$contextMe2===void 0||_this$beans$contextMe2.showContextMenu({mouseEvent,touchEvent,value:null,anchorToElement:this.eGridBody,source:\"ui\"});}}onBodyViewportWheel(popupSvc,e){if(!this.gos.get(\"suppressScrollWhenPopupsAreOpen\")){return;}if(popupSvc!==null&&popupSvc!==void 0&&popupSvc.hasAnchoredPopup()){e.preventDefault();}}// called by rowDragFeature\nscrollVertically(pixels){var oldScrollPosition=this.eBodyViewport.scrollTop;this.scrollFeature.setVerticalScrollPosition(oldScrollPosition+pixels);return this.eBodyViewport.scrollTop-oldScrollPosition;}setFloatingHeights(){var{pinnedRowModel,beans:{environment}}=this;var floatingTopHeight=pinnedRowModel===null||pinnedRowModel===void 0?void 0:pinnedRowModel.getPinnedTopTotalHeight();var floatingBottomHeight=pinnedRowModel===null||pinnedRowModel===void 0?void 0:pinnedRowModel.getPinnedBottomTotalHeight();var pinnedBorderWidth=environment.getPinnedRowBorderWidth();var rowBorderWidth=environment.getRowBorderWidth();var additionalHeight=pinnedBorderWidth-rowBorderWidth;var normalisedFloatingTopHeight=!floatingTopHeight?0:additionalHeight+floatingTopHeight;var normalisedFloatingBottomHeight=!floatingBottomHeight?0:additionalHeight+floatingBottomHeight;this.comp.setTopHeight(normalisedFloatingTopHeight);this.comp.setBottomHeight(normalisedFloatingBottomHeight);this.comp.setTopInvisible(normalisedFloatingTopHeight<=0);this.comp.setBottomInvisible(normalisedFloatingBottomHeight<=0);this.setStickyTopOffsetTop();this.setStickyBottomOffsetBottom();}setStickyTopHeight(){var height=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;this.comp.setStickyTopHeight(\"\".concat(height,\"px\"));this.stickyTopHeight=height;}setStickyBottomHeight(){var height=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;this.comp.setStickyBottomHeight(\"\".concat(height,\"px\"));this.stickyBottomHeight=height;}setStickyWidth(vScrollVisible){if(!vScrollVisible){this.comp.setStickyTopWidth(\"100%\");this.comp.setStickyBottomWidth(\"100%\");}else{var scrollbarWidth=this.scrollVisibleSvc.getScrollbarWidth();this.comp.setStickyTopWidth(\"calc(100% - \".concat(scrollbarWidth,\"px)\"));this.comp.setStickyBottomWidth(\"calc(100% - \".concat(scrollbarWidth,\"px)\"));}}setStickyTopOffsetTop(){var _this$filterManager$g2,_this$filterManager3,_this$pinnedRowModel$,_this$pinnedRowModel;var headerCtrl=this.ctrlsSvc.get(\"gridHeaderCtrl\");var headerHeight=headerCtrl.headerHeight+((_this$filterManager$g2=(_this$filterManager3=this.filterManager)===null||_this$filterManager3===void 0?void 0:_this$filterManager3.getHeaderHeight())!==null&&_this$filterManager$g2!==void 0?_this$filterManager$g2:0);var pinnedTopHeight=(_this$pinnedRowModel$=(_this$pinnedRowModel=this.pinnedRowModel)===null||_this$pinnedRowModel===void 0?void 0:_this$pinnedRowModel.getPinnedTopTotalHeight())!==null&&_this$pinnedRowModel$!==void 0?_this$pinnedRowModel$:0;var height=0;if(headerHeight>0){height+=headerHeight;}if(pinnedTopHeight>0){height+=pinnedTopHeight;}if(height>0){height+=1;}this.comp.setStickyTopTop(\"\".concat(height,\"px\"));}setStickyBottomOffsetBottom(){var _pinnedRowModel$getPi4;var{pinnedRowModel,scrollVisibleSvc,comp}=this;var pinnedBottomHeight=(_pinnedRowModel$getPi4=pinnedRowModel===null||pinnedRowModel===void 0?void 0:pinnedRowModel.getPinnedBottomTotalHeight())!==null&&_pinnedRowModel$getPi4!==void 0?_pinnedRowModel$getPi4:0;var hScrollShowing=scrollVisibleSvc.horizontalScrollShowing;var scrollbarWidth=hScrollShowing?scrollVisibleSvc.getScrollbarWidth()||0:0;var height=pinnedBottomHeight+scrollbarWidth;comp.setStickyBottomBottom(\"\".concat(height,\"px\"));}};// packages/ag-grid-community/src/gridBodyComp/abstractFakeScrollComp.ts\nvar AbstractFakeScrollComp=class extends Component{constructor(template,direction){super();this.direction=direction;this.eViewport=RefPlaceholder;this.eContainer=RefPlaceholder;this.hideTimeout=0;this.setTemplate(template);}postConstruct(){this.addManagedEventListeners({scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this)});this.onScrollVisibilityChanged();this.toggleCss(\"ag-apple-scrollbar\",_isMacOsUserAgent()||_isIOSUserAgent());}destroy(){super.destroy();window.clearTimeout(this.hideTimeout);}initialiseInvisibleScrollbar(){if(this.invisibleScrollbar!==void 0){return;}this.invisibleScrollbar=_isInvisibleScrollbar();if(this.invisibleScrollbar){this.hideAndShowInvisibleScrollAsNeeded();this.addActiveListenerToggles();}}addActiveListenerToggles(){var eGui=this.getGui();var onActivate=()=>this.toggleCss(\"ag-scrollbar-active\",true);var onDeactivate=()=>this.toggleCss(\"ag-scrollbar-active\",false);this.addManagedListeners(eGui,{mouseenter:onActivate,mousedown:onActivate,touchstart:onActivate,mouseleave:onDeactivate,touchend:onDeactivate});}onScrollVisibilityChanged(){if(this.invisibleScrollbar===void 0){this.initialiseInvisibleScrollbar();}_requestAnimationFrame(this.beans,()=>this.setScrollVisible());}hideAndShowInvisibleScrollAsNeeded(){this.addManagedEventListeners({bodyScroll:params=>{if(params.direction===this.direction){if(this.hideTimeout){window.clearTimeout(this.hideTimeout);this.hideTimeout=0;}this.toggleCss(\"ag-scrollbar-scrolling\",true);}},bodyScrollEnd:()=>{this.hideTimeout=window.setTimeout(()=>{this.toggleCss(\"ag-scrollbar-scrolling\",false);this.hideTimeout=0;},400);}});}attemptSettingScrollPosition(value){var viewport=this.eViewport;_waitUntil(()=>_isVisible(viewport),()=>this.setScrollPosition(value),100);}onScrollCallback(fn){this.addManagedElementListeners(this.eViewport,{scroll:fn});}};// packages/ag-grid-community/src/gridBodyComp/fakeHScrollComp.ts\nvar FakeHScrollElement={tag:\"div\",cls:\"ag-body-horizontal-scroll\",attrs:{\"aria-hidden\":\"true\"},children:[{tag:\"div\",ref:\"eLeftSpacer\",cls:\"ag-horizontal-left-spacer\"},{tag:\"div\",ref:\"eViewport\",cls:\"ag-body-horizontal-scroll-viewport\",children:[{tag:\"div\",ref:\"eContainer\",cls:\"ag-body-horizontal-scroll-container\"}]},{tag:\"div\",ref:\"eRightSpacer\",cls:\"ag-horizontal-right-spacer\"}]};var FakeHScrollComp=class extends AbstractFakeScrollComp{constructor(){super(FakeHScrollElement,\"horizontal\");this.eLeftSpacer=RefPlaceholder;this.eRightSpacer=RefPlaceholder;this.setScrollVisibleDebounce=0;}wireBeans(beans){this.visibleCols=beans.visibleCols;this.scrollVisibleSvc=beans.scrollVisibleSvc;}postConstruct(){super.postConstruct();var spacerWidthsListener=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:spacerWidthsListener,displayedColumnsWidthChanged:spacerWidthsListener,pinnedRowDataChanged:this.refreshCompBottom.bind(this)});this.addManagedPropertyListener(\"domLayout\",spacerWidthsListener);this.beans.ctrlsSvc.register(\"fakeHScrollComp\",this);this.createManagedBean(new CenterWidthFeature(width=>this.eContainer.style.width=\"\".concat(width,\"px\")));this.addManagedPropertyListeners([\"suppressHorizontalScroll\"],this.onScrollVisibilityChanged.bind(this));}destroy(){window.clearTimeout(this.setScrollVisibleDebounce);super.destroy();}initialiseInvisibleScrollbar(){if(this.invisibleScrollbar!==void 0){return;}this.enableRtl=this.gos.get(\"enableRtl\");super.initialiseInvisibleScrollbar();if(this.invisibleScrollbar){this.refreshCompBottom();}}refreshCompBottom(){var _this$beans$pinnedRow,_this$beans$pinnedRow2;if(!this.invisibleScrollbar){return;}var bottomPinnedHeight=(_this$beans$pinnedRow=(_this$beans$pinnedRow2=this.beans.pinnedRowModel)===null||_this$beans$pinnedRow2===void 0?void 0:_this$beans$pinnedRow2.getPinnedBottomTotalHeight())!==null&&_this$beans$pinnedRow!==void 0?_this$beans$pinnedRow:0;this.getGui().style.bottom=\"\".concat(bottomPinnedHeight,\"px\");}onScrollVisibilityChanged(){super.onScrollVisibilityChanged();this.setFakeHScrollSpacerWidths();}setFakeHScrollSpacerWidths(){var vScrollShowing=this.scrollVisibleSvc.verticalScrollShowing;var rightSpacing=this.visibleCols.getDisplayedColumnsRightWidth();var scrollOnRight=!this.enableRtl&&vScrollShowing;var scrollbarWidth=this.scrollVisibleSvc.getScrollbarWidth();if(scrollOnRight){rightSpacing+=scrollbarWidth;}_setFixedWidth(this.eRightSpacer,rightSpacing);this.eRightSpacer.classList.toggle(\"ag-scroller-corner\",rightSpacing<=scrollbarWidth);var leftSpacing=this.visibleCols.getColsLeftWidth();var scrollOnLeft=this.enableRtl&&vScrollShowing;if(scrollOnLeft){leftSpacing+=scrollbarWidth;}_setFixedWidth(this.eLeftSpacer,leftSpacing);this.eLeftSpacer.classList.toggle(\"ag-scroller-corner\",leftSpacing<=scrollbarWidth);}setScrollVisible(){var hScrollShowing=this.scrollVisibleSvc.horizontalScrollShowing;var invisibleScrollbar2=this.invisibleScrollbar;var isSuppressHorizontalScroll=this.gos.get(\"suppressHorizontalScroll\");var scrollbarWidth=hScrollShowing?this.scrollVisibleSvc.getScrollbarWidth()||0:0;var adjustedScrollbarWidth=scrollbarWidth===0&&invisibleScrollbar2?16:scrollbarWidth;var scrollContainerSize=!isSuppressHorizontalScroll?adjustedScrollbarWidth:0;var apply=()=>{this.setScrollVisibleDebounce=0;this.toggleCss(\"ag-scrollbar-invisible\",invisibleScrollbar2);_setFixedHeight(this.getGui(),scrollContainerSize);_setFixedHeight(this.eViewport,scrollContainerSize);_setFixedHeight(this.eContainer,scrollContainerSize);if(!scrollContainerSize){this.eContainer.style.setProperty(\"min-height\",\"1px\");}this.setVisible(hScrollShowing,{skipAriaHidden:true});};window.clearTimeout(this.setScrollVisibleDebounce);if(!hScrollShowing){apply();}else{this.setScrollVisibleDebounce=window.setTimeout(apply,100);}}getScrollPosition(){return _getScrollLeft(this.eViewport,this.enableRtl);}setScrollPosition(value){if(!_isVisible(this.eViewport)){this.attemptSettingScrollPosition(value);}_setScrollLeft(this.eViewport,value,this.enableRtl);}};var FakeHScrollSelector={selector:\"AG-FAKE-HORIZONTAL-SCROLL\",component:FakeHScrollComp};// packages/ag-grid-community/src/gridBodyComp/fakeVScrollComp.ts\nvar FakeVScrollElement={tag:\"div\",cls:\"ag-body-vertical-scroll\",attrs:{\"aria-hidden\":\"true\"},children:[{tag:\"div\",ref:\"eViewport\",cls:\"ag-body-vertical-scroll-viewport\",children:[{tag:\"div\",ref:\"eContainer\",cls:\"ag-body-vertical-scroll-container\"}]}]};var FakeVScrollComp=class extends AbstractFakeScrollComp{constructor(){super(FakeVScrollElement,\"vertical\");}postConstruct(){super.postConstruct();this.createManagedBean(new SetHeightFeature(this.eContainer));var{ctrlsSvc}=this.beans;ctrlsSvc.register(\"fakeVScrollComp\",this);this.addManagedEventListeners({rowContainerHeightChanged:this.onRowContainerHeightChanged.bind(this,ctrlsSvc)});}setScrollVisible(){var{scrollVisibleSvc}=this.beans;var vScrollShowing=scrollVisibleSvc.verticalScrollShowing;var invisibleScrollbar2=this.invisibleScrollbar;var scrollbarWidth=vScrollShowing?scrollVisibleSvc.getScrollbarWidth()||0:0;var adjustedScrollbarWidth=scrollbarWidth===0&&invisibleScrollbar2?16:scrollbarWidth;this.toggleCss(\"ag-scrollbar-invisible\",invisibleScrollbar2);_setFixedWidth(this.getGui(),adjustedScrollbarWidth);_setFixedWidth(this.eViewport,adjustedScrollbarWidth);_setFixedWidth(this.eContainer,adjustedScrollbarWidth);this.setDisplayed(vScrollShowing,{skipAriaHidden:true});}onRowContainerHeightChanged(ctrlsSvc){var gridBodyCtrl=ctrlsSvc.getGridBodyCtrl();var gridBodyViewportEl=gridBodyCtrl.eBodyViewport;var eViewportScrollTop=this.getScrollPosition();var gridBodyViewportScrollTop=gridBodyViewportEl.scrollTop;if(eViewportScrollTop!=gridBodyViewportScrollTop){this.setScrollPosition(gridBodyViewportScrollTop,true);}}getScrollPosition(){return this.eViewport.scrollTop;}setScrollPosition(value,force){if(!force&&!_isVisible(this.eViewport)){this.attemptSettingScrollPosition(value);}this.eViewport.scrollTop=value;}};var FakeVScrollSelector={selector:\"AG-FAKE-VERTICAL-SCROLL\",component:FakeVScrollComp};// packages/ag-grid-community/src/headerRendering/headerUtils.ts\nfunction getHeaderRowCount(colModel){return colModel.cols?colModel.cols.treeDepth+1:-1;}function getFocusHeaderRowCount(beans){var _beans$ctrlsSvc$getHe,_beans$ctrlsSvc$getHe2;return(_beans$ctrlsSvc$getHe=(_beans$ctrlsSvc$getHe2=beans.ctrlsSvc.getHeaderRowContainerCtrl())===null||_beans$ctrlsSvc$getHe2===void 0?void 0:_beans$ctrlsSvc$getHe2.getRowCount())!==null&&_beans$ctrlsSvc$getHe!==void 0?_beans$ctrlsSvc$getHe:0;}function getGroupRowsHeight(beans){var heights=[];var headerRowContainerCtrls=beans.ctrlsSvc.getHeaderRowContainerCtrls();for(var headerRowContainerCtrl of headerRowContainerCtrls){if(!headerRowContainerCtrl){continue;}var groupRowCount=headerRowContainerCtrl.getGroupRowCount()||0;for(var i=0;i<groupRowCount;i++){var headerRowCtrl=headerRowContainerCtrl.getGroupRowCtrlAtIndex(i);var currentHeightAtPos=heights[i];if(headerRowCtrl){var newHeight=getColumnGroupHeaderRowHeight(beans,headerRowCtrl);if(currentHeightAtPos==null||newHeight>currentHeightAtPos){heights[i]=newHeight;}}}}return heights;}function getColumnGroupHeaderRowHeight(beans,headerRowCtrl){var defaultHeight=beans.colModel.isPivotMode()?getPivotGroupHeaderHeight(beans):getGroupHeaderHeight(beans);var maxDisplayedHeight=defaultHeight;var headerRowCellCtrls=headerRowCtrl.getHeaderCellCtrls();for(var headerCellCtrl of headerRowCellCtrls){var{column}=headerCellCtrl;var height=column.getAutoHeaderHeight();if(height!=null&&height>maxDisplayedHeight&&column.isAutoHeaderHeight()){maxDisplayedHeight=height;}}return maxDisplayedHeight;}function getColumnHeaderRowHeight(beans){var defaultHeight=beans.colModel.isPivotMode()?getPivotHeaderHeight(beans):getHeaderHeight(beans);var maxDisplayedHeight=defaultHeight;beans.colModel.forAllCols(col=>{var height=col.getAutoHeaderHeight();if(height!=null&&height>maxDisplayedHeight&&col.isAutoHeaderHeight()){maxDisplayedHeight=height;}});return maxDisplayedHeight;}function getHeaderHeight(beans){var _beans$gos$get;return(_beans$gos$get=beans.gos.get(\"headerHeight\"))!==null&&_beans$gos$get!==void 0?_beans$gos$get:beans.environment.getDefaultHeaderHeight();}function getFloatingFiltersHeight(beans){var _beans$gos$get2;return(_beans$gos$get2=beans.gos.get(\"floatingFiltersHeight\"))!==null&&_beans$gos$get2!==void 0?_beans$gos$get2:getHeaderHeight(beans);}function getGroupHeaderHeight(beans){var _beans$gos$get3;return(_beans$gos$get3=beans.gos.get(\"groupHeaderHeight\"))!==null&&_beans$gos$get3!==void 0?_beans$gos$get3:getHeaderHeight(beans);}function getPivotHeaderHeight(beans){var _beans$gos$get4;return(_beans$gos$get4=beans.gos.get(\"pivotHeaderHeight\"))!==null&&_beans$gos$get4!==void 0?_beans$gos$get4:getHeaderHeight(beans);}function getPivotGroupHeaderHeight(beans){var _beans$gos$get5;return(_beans$gos$get5=beans.gos.get(\"pivotGroupHeaderHeight\"))!==null&&_beans$gos$get5!==void 0?_beans$gos$get5:getGroupHeaderHeight(beans);}// packages/ag-grid-community/src/headerRendering/gridHeaderCtrl.ts\nvar GridHeaderCtrl=class extends BeanStub{setComp(comp,eGui,eFocusableElement){this.comp=comp;this.eGui=eGui;var{beans}=this;var{headerNavigation,touchSvc,ctrlsSvc}=beans;if(headerNavigation){this.createManagedBean(new ManagedFocusFeature(eFocusableElement,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)}));}this.addManagedEventListeners({columnPivotModeChanged:this.onPivotModeChanged.bind(this,beans),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this,beans)});this.onPivotModeChanged(beans);this.setupHeaderHeight();var listener=this.onHeaderContextMenu.bind(this);this.addManagedElementListeners(this.eGui,{contextmenu:listener});touchSvc===null||touchSvc===void 0||touchSvc.mockHeaderContextMenu(this,listener);ctrlsSvc.register(\"gridHeaderCtrl\",this);}setupHeaderHeight(){var listener=this.setHeaderHeight.bind(this);listener();this.addManagedPropertyListeners([\"headerHeight\",\"pivotHeaderHeight\",\"groupHeaderHeight\",\"pivotGroupHeaderHeight\",\"floatingFiltersHeight\"],listener);this.addManagedEventListeners({displayedColumnsChanged:listener,columnHeaderHeightChanged:listener,// add this to the animation frame to avoid a feedback loop\ncolumnGroupHeaderHeightChanged:()=>_requestAnimationFrame(this.beans,()=>listener()),gridStylesChanged:listener,advancedFilterEnabledChanged:listener});}setHeaderHeight(){var _beans$filterManager;var{beans}=this;var totalHeaderHeight=0;var groupHeight=getGroupRowsHeight(beans).reduce((prev,curr)=>prev+curr,0);var headerHeight=getColumnHeaderRowHeight(beans);if((_beans$filterManager=beans.filterManager)!==null&&_beans$filterManager!==void 0&&_beans$filterManager.hasFloatingFilters()){totalHeaderHeight+=getFloatingFiltersHeight(beans);}totalHeaderHeight+=groupHeight;totalHeaderHeight+=headerHeight;if(this.headerHeight===totalHeaderHeight){return;}this.headerHeight=totalHeaderHeight;var px=\"\".concat(totalHeaderHeight+1,\"px\");this.comp.setHeightAndMinHeight(px);this.eventSvc.dispatchEvent({type:\"headerHeightChanged\"});}onPivotModeChanged(beans){var pivotMode=beans.colModel.isPivotMode();this.comp.toggleCss(\"ag-pivot-on\",pivotMode);this.comp.toggleCss(\"ag-pivot-off\",!pivotMode);}onDisplayedColumnsChanged(beans){var columns=beans.visibleCols.allCols;var shouldAllowOverflow=columns.some(col=>col.isSpanHeaderHeight());this.comp.toggleCss(\"ag-header-allow-overflow\",shouldAllowOverflow);}onTabKeyDown(e){var isRtl=this.gos.get(\"enableRtl\");var backwards=e.shiftKey;var direction=backwards!==isRtl?\"LEFT\":\"RIGHT\";var{beans}=this;var{headerNavigation,focusSvc}=beans;if(headerNavigation.navigateHorizontally(direction,true,e)||!backwards&&focusSvc.focusOverlay(false)||_focusNextGridCoreContainer(beans,backwards,true)){e.preventDefault();}}handleKeyDown(e){var direction=null;var{headerNavigation}=this.beans;switch(e.key){case KeyCode.LEFT:direction=\"LEFT\";case KeyCode.RIGHT:{if(!_exists(direction)){direction=\"RIGHT\";}if(headerNavigation.navigateHorizontally(direction,false,e)){e.preventDefault();}break;}case KeyCode.UP:direction=\"UP\";case KeyCode.DOWN:{if(!_exists(direction)){direction=\"DOWN\";}if(headerNavigation.navigateVertically(direction,e)){e.preventDefault();}break;}default:return;}}onFocusOut(e){var{relatedTarget}=e;var{eGui,beans}=this;if(!relatedTarget&&eGui.contains(_getActiveDomElement(beans))){return;}if(!eGui.contains(relatedTarget)){beans.focusSvc.focusedHeader=null;}}onHeaderContextMenu(mouseEvent,touch,touchEvent){var _ctrlsSvc$getHeaderRo;var{menuSvc,ctrlsSvc}=this.beans;if(!mouseEvent&&!touchEvent||!(menuSvc!==null&&menuSvc!==void 0&&menuSvc.isHeaderContextMenuEnabled())){return;}var{target}=mouseEvent!==null&&mouseEvent!==void 0?mouseEvent:touch;if(target===this.eGui||target===((_ctrlsSvc$getHeaderRo=ctrlsSvc.getHeaderRowContainerCtrl())===null||_ctrlsSvc$getHeaderRo===void 0?void 0:_ctrlsSvc$getHeaderRo.eViewport)){menuSvc.showHeaderContextMenu(void 0,mouseEvent,touchEvent);}}};// packages/ag-grid-community/src/headerRendering/cells/abstractCell/abstractHeaderCellComp.ts\nvar AbstractHeaderCellComp=class extends Component{constructor(template,ctrl){super(template);this.ctrl=ctrl;}getCtrl(){return this.ctrl;}};// packages/ag-grid-community/src/headerRendering/cells/column/headerCellComp.ts\nvar HeaderCellElement={tag:\"div\",cls:\"ag-header-cell\",role:\"columnheader\",children:[{tag:\"div\",ref:\"eResize\",cls:\"ag-header-cell-resize\",role:\"presentation\"},{tag:\"div\",ref:\"eHeaderCompWrapper\",cls:\"ag-header-cell-comp-wrapper\",role:\"presentation\"}]};var HeaderCellComp=class extends AbstractHeaderCellComp{constructor(ctrl){super(HeaderCellElement,ctrl);this.eResize=RefPlaceholder;this.eHeaderCompWrapper=RefPlaceholder;this.headerCompVersion=0;}postConstruct(){var eGui=this.getGui();var setAttribute=(name,value)=>{if(value!=null&&value!=\"\"){eGui.setAttribute(name,value);}else{eGui.removeAttribute(name);}};var refreshSelectAllGui=()=>{var selectAllGui=this.ctrl.getSelectAllGui();if(selectAllGui){this.eResize.insertAdjacentElement(\"afterend\",selectAllGui);this.addDestroyFunc(()=>selectAllGui.remove());}};setAttribute(\"col-id\",this.ctrl.column.getColId());var compProxy={setWidth:width=>eGui.style.width=width,toggleCss:(cssClassName,on)=>this.toggleCss(cssClassName,on),setUserStyles:styles=>_addStylesToElement(eGui,styles),setAriaSort:sort=>sort?_setAriaSort(eGui,sort):_removeAriaSort(eGui),setUserCompDetails:compDetails=>this.setUserCompDetails(compDetails),getUserCompInstance:()=>this.headerComp,refreshSelectAllGui,removeSelectAllGui:()=>{var _this$ctrl$getSelectA;return(_this$ctrl$getSelectA=this.ctrl.getSelectAllGui())===null||_this$ctrl$getSelectA===void 0?void 0:_this$ctrl$getSelectA.remove();}};this.ctrl.setComp(compProxy,this.getGui(),this.eResize,this.eHeaderCompWrapper,void 0);refreshSelectAllGui();}destroy(){this.destroyHeaderComp();super.destroy();}destroyHeaderComp(){if(this.headerComp){this.eHeaderCompWrapper.removeChild(this.headerCompGui);this.headerComp=this.destroyBean(this.headerComp);this.headerCompGui=void 0;}}setUserCompDetails(compDetails){this.headerCompVersion++;var versionCopy=this.headerCompVersion;compDetails.newAgStackInstance().then(comp=>this.afterCompCreated(versionCopy,comp));}afterCompCreated(version,headerComp){if(version!=this.headerCompVersion||!this.isAlive()){this.destroyBean(headerComp);return;}this.destroyHeaderComp();this.headerComp=headerComp;this.headerCompGui=headerComp.getGui();this.eHeaderCompWrapper.appendChild(this.headerCompGui);this.ctrl.setDragSource(this.getGui());}};// packages/ag-grid-community/src/headerRendering/cells/columnGroup/headerGroupCellComp.ts\nvar HeaderGroupCellCompElement={tag:\"div\",cls:\"ag-header-group-cell\",role:\"columnheader\",children:[{tag:\"div\",ref:\"eHeaderCompWrapper\",cls:\"ag-header-cell-comp-wrapper\",role:\"presentation\"},{tag:\"div\",ref:\"eResize\",cls:\"ag-header-cell-resize\",role:\"presentation\"}]};var HeaderGroupCellComp=class extends AbstractHeaderCellComp{constructor(ctrl){super(HeaderGroupCellCompElement,ctrl);this.eResize=RefPlaceholder;this.eHeaderCompWrapper=RefPlaceholder;}postConstruct(){var eGui=this.getGui();var setAttribute=(key,value)=>value!=void 0?eGui.setAttribute(key,value):eGui.removeAttribute(key);eGui.setAttribute(\"col-id\",this.ctrl.column.getUniqueId());var compProxy={toggleCss:(cssClassName,on)=>this.toggleCss(cssClassName,on),setUserStyles:styles=>_addStylesToElement(eGui,styles),setHeaderWrapperHidden:hidden=>{if(hidden){this.eHeaderCompWrapper.style.setProperty(\"display\",\"none\");}else{this.eHeaderCompWrapper.style.removeProperty(\"display\");}},setHeaderWrapperMaxHeight:value=>{if(value!=null){this.eHeaderCompWrapper.style.setProperty(\"max-height\",\"\".concat(value,\"px\"));}else{this.eHeaderCompWrapper.style.removeProperty(\"max-height\");}this.eHeaderCompWrapper.classList.toggle(\"ag-header-cell-comp-wrapper-limited-height\",value!=null);},setResizableDisplayed:displayed=>_setDisplayed(this.eResize,displayed),setWidth:width=>eGui.style.width=width,setAriaExpanded:expanded=>setAttribute(\"aria-expanded\",expanded),setUserCompDetails:details=>this.setUserCompDetails(details),getUserCompInstance:()=>this.headerGroupComp};this.ctrl.setComp(compProxy,eGui,this.eResize,this.eHeaderCompWrapper,void 0);}setUserCompDetails(details){details.newAgStackInstance().then(comp=>this.afterHeaderCompCreated(comp));}afterHeaderCompCreated(headerGroupComp){var destroyFunc=()=>this.destroyBean(headerGroupComp);if(!this.isAlive()){destroyFunc();return;}var eGui=this.getGui();var eHeaderGroupGui=headerGroupComp.getGui();this.eHeaderCompWrapper.appendChild(eHeaderGroupGui);this.addDestroyFunc(destroyFunc);this.headerGroupComp=headerGroupComp;this.ctrl.setDragSource(eGui);}addOrRemoveHeaderWrapperStyle(style,value){var{eHeaderCompWrapper}=this;if(value){eHeaderCompWrapper.style.setProperty(style,value);}else{eHeaderCompWrapper.style.removeProperty(style);}}};// packages/ag-grid-community/src/headerRendering/cells/floatingFilter/headerFilterCellComp.ts\nvar HeaderFilterCellCompElement={tag:\"div\",cls:\"ag-header-cell ag-floating-filter\",role:\"gridcell\",children:[{tag:\"div\",ref:\"eFloatingFilterBody\",role:\"presentation\"},{tag:\"div\",ref:\"eButtonWrapper\",cls:\"ag-floating-filter-button ag-hidden\",role:\"presentation\",children:[{tag:\"button\",ref:\"eButtonShowMainFilter\",cls:\"ag-button ag-floating-filter-button-button\",attrs:{type:\"button\",tabindex:\"-1\"}}]}]};var HeaderFilterCellComp=class extends AbstractHeaderCellComp{constructor(ctrl){super(HeaderFilterCellCompElement,ctrl);this.eFloatingFilterBody=RefPlaceholder;this.eButtonWrapper=RefPlaceholder;this.eButtonShowMainFilter=RefPlaceholder;}postConstruct(){var eGui=this.getGui();var compProxy={toggleCss:(cssClassName,on)=>this.toggleCss(cssClassName,on),setUserStyles:styles=>_addStylesToElement(eGui,styles),addOrRemoveBodyCssClass:(cssClassName,on)=>this.eFloatingFilterBody.classList.toggle(cssClassName,on),setButtonWrapperDisplayed:displayed=>_setDisplayed(this.eButtonWrapper,displayed),setCompDetails:compDetails=>this.setCompDetails(compDetails),getFloatingFilterComp:()=>this.compPromise,setWidth:width=>eGui.style.width=width,setMenuIcon:eIcon=>this.eButtonShowMainFilter.appendChild(eIcon)};this.ctrl.setComp(compProxy,eGui,this.eButtonShowMainFilter,this.eFloatingFilterBody,void 0);}setCompDetails(compDetails){if(!compDetails){this.destroyFloatingFilterComp();this.compPromise=null;return;}this.compPromise=compDetails.newAgStackInstance();this.compPromise.then(comp=>this.afterCompCreated(comp));}destroy(){this.destroyFloatingFilterComp();super.destroy();}destroyFloatingFilterComp(){if(this.floatingFilterComp){this.eFloatingFilterBody.removeChild(this.floatingFilterComp.getGui());this.floatingFilterComp=this.destroyBean(this.floatingFilterComp);}}afterCompCreated(comp){if(!comp){return;}if(!this.isAlive()){this.destroyBean(comp);return;}this.destroyFloatingFilterComp();this.floatingFilterComp=comp;this.eFloatingFilterBody.appendChild(comp.getGui());if(comp.afterGuiAttached){comp.afterGuiAttached();}}};// packages/ag-grid-community/src/headerRendering/row/headerRowComp.ts\nvar HeaderRowComp=class extends Component{constructor(ctrl){super({tag:\"div\",cls:ctrl.headerRowClass,role:\"row\"});this.ctrl=ctrl;this.headerComps={};}postConstruct(){_setAriaRowIndex(this.getGui(),this.ctrl.getAriaRowIndex());var compProxy={setHeight:height=>this.getGui().style.height=height,setTop:top=>this.getGui().style.top=top,setHeaderCtrls:(ctrls,forceOrder)=>this.setHeaderCtrls(ctrls,forceOrder),setWidth:width=>this.getGui().style.width=width};this.ctrl.setComp(compProxy,void 0);}destroy(){this.setHeaderCtrls([],false);super.destroy();}setHeaderCtrls(ctrls,forceOrder){if(!this.isAlive()){return;}var oldComps=this.headerComps;this.headerComps={};ctrls.forEach(ctrl=>{var id=ctrl.instanceId;var comp=oldComps[id];delete oldComps[id];if(comp==null){comp=this.createHeaderComp(ctrl);this.getGui().appendChild(comp.getGui());}this.headerComps[id]=comp;});Object.values(oldComps).forEach(comp=>{this.getGui().removeChild(comp.getGui());this.destroyBean(comp);});if(forceOrder){var comps=Object.values(this.headerComps);comps.sort((a,b)=>{var leftA=a.getCtrl().column.getLeft();var leftB=b.getCtrl().column.getLeft();return leftA-leftB;});var elementsInOrder=comps.map(c=>c.getGui());_setDomChildOrder(this.getGui(),elementsInOrder);}}createHeaderComp(headerCtrl){var result;switch(this.ctrl.type){case\"group\":result=new HeaderGroupCellComp(headerCtrl);break;case\"filter\":result=new HeaderFilterCellComp(headerCtrl);break;default:result=new HeaderCellComp(headerCtrl);break;}this.createBean(result);result.setParentComponent(this);return result;}};// packages/ag-grid-community/src/rendering/features/setLeftFeature.ts\nvar SetLeftFeature=class extends BeanStub{constructor(columnOrGroup,eCell,beans,colsSpanning){super();this.columnOrGroup=columnOrGroup;this.eCell=eCell;this.colsSpanning=colsSpanning;this.columnOrGroup=columnOrGroup;this.ariaEl=eCell.querySelector(\"[role=columnheader]\")||eCell;this.beans=beans;}setColsSpanning(colsSpanning){this.colsSpanning=colsSpanning;this.onLeftChanged();}getColumnOrGroup(){var{beans,colsSpanning}=this;if(beans.gos.get(\"enableRtl\")&&colsSpanning){return _last(colsSpanning);}return this.columnOrGroup;}postConstruct(){var onLeftChanged=this.onLeftChanged.bind(this);this.addManagedListeners(this.columnOrGroup,{leftChanged:onLeftChanged});this.setLeftFirstTime();this.addManagedEventListeners({displayedColumnsWidthChanged:onLeftChanged});this.addManagedPropertyListener(\"domLayout\",onLeftChanged);}setLeftFirstTime(){var{gos,colAnimation}=this.beans;var suppressMoveAnimation=gos.get(\"suppressColumnMoveAnimation\");var oldLeftExists=_exists(this.columnOrGroup.getOldLeft());var animateColumnMove=(colAnimation===null||colAnimation===void 0?void 0:colAnimation.isActive())&&oldLeftExists&&!suppressMoveAnimation;if(animateColumnMove){this.animateInLeft();}else{this.onLeftChanged();}}animateInLeft(){var colOrGroup=this.getColumnOrGroup();var oldActualLeft=this.modifyLeftForPrintLayout(colOrGroup,colOrGroup.getOldLeft());var actualLeft=this.modifyLeftForPrintLayout(colOrGroup,colOrGroup.getLeft());this.setLeft(oldActualLeft);this.actualLeft=actualLeft;this.beans.colAnimation.executeNextVMTurn(()=>{if(this.actualLeft===actualLeft){this.setLeft(actualLeft);}});}onLeftChanged(){var colOrGroup=this.getColumnOrGroup();var left=colOrGroup.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(colOrGroup,left);this.setLeft(this.actualLeft);}modifyLeftForPrintLayout(colOrGroup,leftPosition){var{gos,visibleCols}=this.beans;var printLayout=_isDomLayout(gos,\"print\");if(!printLayout){return leftPosition;}if(colOrGroup.getPinned()===\"left\"){return leftPosition;}var leftWidth=visibleCols.getColsLeftWidth();if(colOrGroup.getPinned()===\"right\"){var bodyWidth=visibleCols.bodyWidth;return leftWidth+bodyWidth+leftPosition;}return leftWidth+leftPosition;}setLeft(value){if(_exists(value)){this.eCell.style.left=\"\".concat(value,\"px\");}if(isColumnGroup(this.columnOrGroup)){var children=this.columnOrGroup.getLeafColumns();if(!children.length){return;}if(children.length>1){_setAriaColSpan(this.ariaEl,children.length);}}}};// packages/ag-grid-community/src/headerRendering/cells/abstractCell/abstractHeaderCellCtrl.ts\nvar instanceIdSequence4=0;var DOM_DATA_KEY_HEADER_CTRL=\"headerCtrl\";var AbstractHeaderCellCtrl=class extends BeanStub{constructor(column,rowCtrl){super();this.column=column;this.rowCtrl=rowCtrl;this.resizeToggleTimeout=0;this.resizeMultiplier=1;this.resizeFeature=null;this.lastFocusEvent=null;this.dragSource=null;this.instanceId=column.getUniqueId()+\"-\"+instanceIdSequence4++;}postConstruct(){var refreshTabIndex=this.refreshTabIndex.bind(this);this.addManagedPropertyListeners([\"suppressHeaderFocus\"],refreshTabIndex);this.addManagedEventListeners({overlayExclusiveChanged:refreshTabIndex});}shouldStopEventPropagation(event){var{headerRowIndex,column}=this.beans.focusSvc.focusedHeader;var colDef=column.getDefinition();var colDefFunc=colDef&&colDef.suppressHeaderKeyboardEvent;if(!_exists(colDefFunc)){return false;}var params=_addGridCommonParams(this.gos,{colDef,column,headerRowIndex,event});return!!colDefFunc(params);}getWrapperHasFocus(){var activeEl=_getActiveDomElement(this.beans);return activeEl===this.eGui;}setGui(eGui,compBean){this.eGui=eGui;this.addDomData(compBean);compBean.addManagedListeners(this.beans.eventSvc,{displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this)});compBean.addManagedElementListeners(this.eGui,{focus:this.onGuiFocus.bind(this)});this.onDisplayedColumnsChanged();this.refreshTabIndex();}refreshHeaderStyles(){var colDef=this.column.getDefinition();if(!colDef){return;}var{headerStyle}=colDef;var styles;if(typeof headerStyle===\"function\"){var cellStyleParams=this.getHeaderClassParams();styles=headerStyle(cellStyleParams);}else{styles=headerStyle;}if(styles){this.comp.setUserStyles(styles);}}onGuiFocus(){this.eventSvc.dispatchEvent({type:\"headerFocused\",column:this.column});}setupAutoHeight(params){var{wrapperElement,checkMeasuringCallback,compBean}=params;var{beans}=this;var measureHeight=timesCalled=>{if(!this.isAlive()||!compBean.isAlive()){return;}var{paddingTop,paddingBottom,borderBottomWidth,borderTopWidth}=_getElementSize(this.eGui);var extraHeight=paddingTop+paddingBottom+borderBottomWidth+borderTopWidth;var wrapperHeight=wrapperElement.offsetHeight;var autoHeight=wrapperHeight+extraHeight;if(timesCalled<5){var doc=_getDocument(beans);var notYetInDom=!doc||!doc.contains(wrapperElement);var possiblyNoContentYet=autoHeight==0;if(notYetInDom||possiblyNoContentYet){_batchCall(()=>measureHeight(timesCalled+1),\"raf\",beans);return;}}this.setColHeaderHeight(this.column,autoHeight);};var isMeasuring=false;var stopResizeObserver;var checkMeasuring=()=>{var newValue=this.column.isAutoHeaderHeight();if(newValue&&!isMeasuring){startMeasuring();}if(!newValue&&isMeasuring){stopMeasuring();}};var startMeasuring=()=>{isMeasuring=true;measureHeight(0);this.comp.toggleCss(\"ag-header-cell-auto-height\",true);stopResizeObserver=_observeResize(this.beans,wrapperElement,()=>measureHeight(0));};var stopMeasuring=()=>{isMeasuring=false;if(stopResizeObserver){stopResizeObserver();}this.comp.toggleCss(\"ag-header-cell-auto-height\",false);stopResizeObserver=void 0;};checkMeasuring();compBean.addDestroyFunc(()=>stopMeasuring());compBean.addManagedListeners(this.column,{widthChanged:()=>isMeasuring&&measureHeight(0)});compBean.addManagedEventListeners({sortChanged:()=>{if(isMeasuring){window.setTimeout(()=>measureHeight(0));}}});if(checkMeasuringCallback){checkMeasuringCallback(checkMeasuring);}}onDisplayedColumnsChanged(){var{comp,column,beans,eGui}=this;if(!comp||!column||!eGui){return;}refreshFirstAndLastStyles(comp,column,beans.visibleCols);_setAriaColIndex(eGui,beans.visibleCols.getAriaColIndex(column));}addResizeAndMoveKeyboardListeners(compBean){compBean.addManagedListeners(this.eGui,{keydown:this.onGuiKeyDown.bind(this),keyup:this.onGuiKeyUp.bind(this)});}refreshTabIndex(){var suppressHeaderFocus=_isHeaderFocusSuppressed(this.beans);if(this.eGui){_addOrRemoveAttribute(this.eGui,\"tabindex\",suppressHeaderFocus?null:\"-1\");}}onGuiKeyDown(e){var activeEl=_getActiveDomElement(this.beans);var isLeftOrRight=e.key===KeyCode.LEFT||e.key===KeyCode.RIGHT;if(this.isResizing){e.preventDefault();e.stopImmediatePropagation();}if(// if elements within the header are focused, we don't process the event\nactiveEl!==this.eGui||// if shiftKey and altKey are not pressed, it's cell navigation so we don't process the event\n!e.shiftKey&&!e.altKey){return;}if(this.isResizing||isLeftOrRight){e.preventDefault();e.stopImmediatePropagation();}if(!isLeftOrRight){return;}var isLeft=e.key===KeyCode.LEFT!==this.gos.get(\"enableRtl\");var direction=isLeft?\"left\":\"right\";if(e.altKey){var _this$resizeFeature;this.isResizing=true;this.resizeMultiplier+=1;var diff=this.getViewportAdjustedResizeDiff(e);this.resizeHeader(diff,e.shiftKey);(_this$resizeFeature=this.resizeFeature)===null||_this$resizeFeature===void 0||_this$resizeFeature.toggleColumnResizing(true);}else{this.moveHeader(direction);}}moveHeader(hDirection){var _this$beans$colMoves;(_this$beans$colMoves=this.beans.colMoves)===null||_this$beans$colMoves===void 0||_this$beans$colMoves.moveHeader(hDirection,this.eGui,this.column,this.rowCtrl.pinned,this);}getViewportAdjustedResizeDiff(e){var diff=this.getResizeDiff(e);var{pinnedCols}=this.beans;return pinnedCols?pinnedCols.getHeaderResizeDiff(diff,this.column):diff;}getResizeDiff(e){var{gos,column}=this;var isLeft=e.key===KeyCode.LEFT!==gos.get(\"enableRtl\");var pinned=column.getPinned();var isRtl=gos.get(\"enableRtl\");if(pinned){if(isRtl!==(pinned===\"right\")){isLeft=!isLeft;}}return(isLeft?-1:1)*this.resizeMultiplier;}onGuiKeyUp(){if(!this.isResizing){return;}if(this.resizeToggleTimeout){window.clearTimeout(this.resizeToggleTimeout);this.resizeToggleTimeout=0;}this.isResizing=false;this.resizeMultiplier=1;this.resizeToggleTimeout=window.setTimeout(()=>{var _this$resizeFeature2;(_this$resizeFeature2=this.resizeFeature)===null||_this$resizeFeature2===void 0||_this$resizeFeature2.toggleColumnResizing(false);},150);}handleKeyDown(e){var wrapperHasFocus=this.getWrapperHasFocus();switch(e.key){case KeyCode.PAGE_DOWN:case KeyCode.PAGE_UP:case KeyCode.PAGE_HOME:case KeyCode.PAGE_END:if(wrapperHasFocus){e.preventDefault();}}}addDomData(compBean){var key=DOM_DATA_KEY_HEADER_CTRL;var{eGui,gos}=this;_setDomData(gos,eGui,key,this);compBean.addDestroyFunc(()=>_setDomData(gos,eGui,key,null));}focus(event){var{eGui}=this;if(!eGui){return false;}this.lastFocusEvent=event||null;eGui.focus();return true;}focusThis(){this.beans.focusSvc.focusedHeader={headerRowIndex:this.rowCtrl.rowIndex,column:this.column};}removeDragSource(){if(this.dragSource){var _this$beans$dragAndDr;(_this$beans$dragAndDr=this.beans.dragAndDrop)===null||_this$beans$dragAndDr===void 0||_this$beans$dragAndDr.removeDragSource(this.dragSource);this.dragSource=null;}}handleContextMenuMouseEvent(mouseEvent,touchEvent,column){var event=mouseEvent!==null&&mouseEvent!==void 0?mouseEvent:touchEvent;var{menuSvc,gos}=this.beans;if(gos.get(\"preventDefaultOnContextMenu\")){event.preventDefault();}if(menuSvc!==null&&menuSvc!==void 0&&menuSvc.isHeaderContextMenuEnabled(column)){menuSvc.showHeaderContextMenu(column,mouseEvent,touchEvent);}this.dispatchColumnMouseEvent(\"columnHeaderContextMenu\",column);}dispatchColumnMouseEvent(eventType,column){this.eventSvc.dispatchEvent({type:eventType,column});}setColHeaderHeight(col,height){if(!col.setAutoHeaderHeight(height)){return;}var{eventSvc}=this;if(col.isColumn){eventSvc.dispatchEvent({type:\"columnHeaderHeightChanged\",column:col,columns:[col],source:\"autosizeColumnHeaderHeight\"});}else{eventSvc.dispatchEvent({type:\"columnGroupHeaderHeightChanged\",columnGroup:col,source:\"autosizeColumnGroupHeaderHeight\"});}}clearComponent(){this.removeDragSource();this.resizeFeature=null;this.comp=null;this.eGui=null;}destroy(){super.destroy();this.column=null;this.lastFocusEvent=null;this.rowCtrl=null;}};// packages/ag-grid-community/src/headerRendering/cells/column/headerCellCtrl.ts\nvar HeaderCellCtrl=class extends AbstractHeaderCellCtrl{constructor(){super(...arguments);this.refreshFunctions={};this.userHeaderClasses=/* @__PURE__ */new Set();this.ariaDescriptionProperties=/* @__PURE__ */new Map();}setComp(comp,eGui,eResize,eHeaderCompWrapper,compBeanInput){this.comp=comp;var{rowCtrl,column,beans}=this;var{colResize,context,colHover,rangeSvc}=beans;var compBean=setupCompBean(this,context,compBeanInput);this.setGui(eGui,compBean);this.updateState();this.setupWidth(compBean);this.setupMovingCss(compBean);this.setupMenuClass(compBean);this.setupSortableClass(compBean);this.setupWrapTextClass();this.refreshSpanHeaderHeight();this.setupAutoHeight({wrapperElement:eHeaderCompWrapper,checkMeasuringCallback:checkMeasuring=>this.setRefreshFunction(\"measuring\",checkMeasuring),compBean});this.addColumnHoverListener(compBean);this.setupFilterClass(compBean);this.setupStylesFromColDef();this.setupClassesFromColDef();this.setupTooltip();this.addActiveHeaderMouseListeners(compBean);this.setupSelectAll(compBean);this.setupUserComp();this.refreshAria();if(colResize){this.resizeFeature=compBean.createManagedBean(colResize.createResizeFeature(rowCtrl.pinned,column,eResize,comp,this));}else{_setDisplayed(eResize,false);}colHover===null||colHover===void 0||colHover.createHoverFeature(compBean,[column],eGui);rangeSvc===null||rangeSvc===void 0||rangeSvc.createRangeHighlightFeature(compBean,column,comp);compBean.createManagedBean(new SetLeftFeature(column,eGui,beans));compBean.createManagedBean(new ManagedFocusFeature(eGui,{shouldStopEventPropagation:e=>this.shouldStopEventPropagation(e),onTabKeyDown:()=>null,handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)}));this.addResizeAndMoveKeyboardListeners(compBean);compBean.addManagedPropertyListeners([\"suppressMovableColumns\",\"suppressMenuHide\",\"suppressAggFuncInHeader\",\"enableAdvancedFilter\"],()=>this.refresh());compBean.addManagedListeners(column,{colDefChanged:()=>this.refresh()});compBean.addManagedListeners(column,{headerHighlightChanged:this.onHeaderHighlightChanged.bind(this)});var listener=()=>this.checkDisplayName();compBean.addManagedEventListeners({columnValueChanged:listener,columnRowGroupChanged:listener,columnPivotChanged:listener,headerHeightChanged:this.onHeaderHeightChanged.bind(this)});compBean.addDestroyFunc(()=>{this.refreshFunctions={};this.selectAllFeature=null;this.dragSourceElement=void 0;this.userCompDetails=null;this.userHeaderClasses.clear();this.ariaDescriptionProperties.clear();this.clearComponent();});}resizeHeader(delta,shiftKey){var _this$beans$colResize;(_this$beans$colResize=this.beans.colResize)===null||_this$beans$colResize===void 0||_this$beans$colResize.resizeHeader(this.column,delta,shiftKey);}getHeaderClassParams(){var{column,beans}=this;var colDef=column.colDef;return _addGridCommonParams(beans.gos,{colDef,column,floatingFilter:false});}setupUserComp(){var compDetails=this.lookupUserCompDetails();if(compDetails){this.setCompDetails(compDetails);}}setCompDetails(compDetails){this.userCompDetails=compDetails;this.comp.setUserCompDetails(compDetails);}lookupUserCompDetails(){var params=this.createParams();var colDef=this.column.getColDef();return _getHeaderCompDetails(this.beans.userCompFactory,colDef,params);}createParams(){var{menuSvc,sortSvc,colFilter,gos}=this.beans;var params=_addGridCommonParams(gos,{column:this.column,displayName:this.displayName,enableSorting:this.column.isSortable(),enableMenu:this.menuEnabled,enableFilterButton:this.openFilterEnabled&&!!(menuSvc!==null&&menuSvc!==void 0&&menuSvc.isHeaderFilterButtonEnabled(this.column)),enableFilterIcon:!!colFilter&&(!this.openFilterEnabled||_isLegacyMenuEnabled(this.gos)),showColumnMenu:(buttonElement,onClosedCallback)=>{menuSvc===null||menuSvc===void 0||menuSvc.showColumnMenu({column:this.column,buttonElement,positionBy:\"button\",onClosedCallback});},showColumnMenuAfterMouseClick:(mouseEvent,onClosedCallback)=>{menuSvc===null||menuSvc===void 0||menuSvc.showColumnMenu({column:this.column,mouseEvent,positionBy:\"mouse\",onClosedCallback});},showFilter:buttonElement=>{menuSvc===null||menuSvc===void 0||menuSvc.showFilterMenu({column:this.column,buttonElement,containerType:\"columnFilter\",positionBy:\"button\"});},progressSort:multiSort=>{sortSvc===null||sortSvc===void 0||sortSvc.progressSort(this.column,!!multiSort,\"uiColumnSorted\");},setSort:(sort,multiSort)=>{sortSvc===null||sortSvc===void 0||sortSvc.setSortForColumn(this.column,sort,!!multiSort,\"uiColumnSorted\");},eGridHeader:this.eGui,setTooltip:(value,shouldDisplayTooltip)=>{gos.assertModuleRegistered(\"Tooltip\",3);this.setupTooltip(value,shouldDisplayTooltip);}});return params;}setupSelectAll(compBean){var _this$selectAllFeatur;var{selectionSvc}=this.beans;if(!selectionSvc){return;}this.selectAllFeature=compBean.createOptionalManagedBean(selectionSvc.createSelectAllFeature(this.column));(_this$selectAllFeatur=this.selectAllFeature)===null||_this$selectAllFeatur===void 0||_this$selectAllFeatur.setComp(this);compBean.addManagedPropertyListener(\"rowSelection\",()=>{var selectAllFeature=selectionSvc.createSelectAllFeature(this.column);if(selectAllFeature&&!this.selectAllFeature){var _this$selectAllFeatur2;this.selectAllFeature=compBean.createManagedBean(selectAllFeature);(_this$selectAllFeatur2=this.selectAllFeature)===null||_this$selectAllFeatur2===void 0||_this$selectAllFeatur2.setComp(this);this.comp.refreshSelectAllGui();}else if(this.selectAllFeature&&!selectAllFeature){this.comp.removeSelectAllGui();this.selectAllFeature=this.destroyBean(this.selectAllFeature);}});}getSelectAllGui(){var _this$selectAllFeatur3;return(_this$selectAllFeatur3=this.selectAllFeature)===null||_this$selectAllFeatur3===void 0?void 0:_this$selectAllFeatur3.getCheckboxGui();}handleKeyDown(e){super.handleKeyDown(e);if(e.key===KeyCode.SPACE){var _this$selectAllFeatur4;(_this$selectAllFeatur4=this.selectAllFeature)===null||_this$selectAllFeatur4===void 0||_this$selectAllFeatur4.onSpaceKeyDown(e);}if(e.key===KeyCode.ENTER){this.onEnterKeyDown(e);}if(e.key===KeyCode.DOWN&&e.altKey){this.showMenuOnKeyPress(e,false);}}onEnterKeyDown(e){if(e.ctrlKey||e.metaKey){this.showMenuOnKeyPress(e,true);}else if(this.sortable){var _this$beans$sortSvc;(_this$beans$sortSvc=this.beans.sortSvc)===null||_this$beans$sortSvc===void 0||_this$beans$sortSvc.progressSort(this.column,e.shiftKey,\"uiColumnSorted\");}}showMenuOnKeyPress(e,isFilterShortcut){var headerComp=this.comp.getUserCompInstance();if(!isHeaderComp(headerComp)){return;}if(headerComp.onMenuKeyboardShortcut(isFilterShortcut)){e.preventDefault();}}onFocusIn(e){if(!this.eGui.contains(e.relatedTarget)){this.focusThis();this.announceAriaDescription();}if(_isKeyboardMode()){this.setActiveHeader(true);}}onFocusOut(e){if(this.eGui.contains(e.relatedTarget)){return;}this.setActiveHeader(false);}setupTooltip(value,shouldDisplayTooltip){var _this$beans$tooltipSv5;this.tooltipFeature=(_this$beans$tooltipSv5=this.beans.tooltipSvc)===null||_this$beans$tooltipSv5===void 0?void 0:_this$beans$tooltipSv5.setupHeaderTooltip(this.tooltipFeature,this,value,shouldDisplayTooltip);}setupStylesFromColDef(){this.setRefreshFunction(\"headerStyles\",this.refreshHeaderStyles.bind(this));this.refreshHeaderStyles();}setupClassesFromColDef(){var refreshHeaderClasses=()=>{var colDef=this.column.getColDef();var classes=_getHeaderClassesFromColDef(colDef,this.gos,this.column,null);var oldClasses=this.userHeaderClasses;this.userHeaderClasses=new Set(classes);classes.forEach(c=>{if(oldClasses.has(c)){oldClasses.delete(c);}else{this.comp.toggleCss(c,true);}});oldClasses.forEach(c=>this.comp.toggleCss(c,false));};this.setRefreshFunction(\"headerClasses\",refreshHeaderClasses);refreshHeaderClasses();}setDragSource(eSource){var _this$beans$colMoves$,_this$beans$colMoves2;this.dragSourceElement=eSource;this.removeDragSource();if(!eSource||!this.draggable){return;}this.dragSource=(_this$beans$colMoves$=(_this$beans$colMoves2=this.beans.colMoves)===null||_this$beans$colMoves2===void 0?void 0:_this$beans$colMoves2.setDragSourceForHeader(eSource,this.column,this.displayName))!==null&&_this$beans$colMoves$!==void 0?_this$beans$colMoves$:null;}updateState(){var{menuSvc}=this.beans;this.menuEnabled=!!(menuSvc!==null&&menuSvc!==void 0&&menuSvc.isColumnMenuInHeaderEnabled(this.column));this.openFilterEnabled=!!(menuSvc!==null&&menuSvc!==void 0&&menuSvc.isFilterMenuInHeaderEnabled(this.column));this.sortable=this.column.isSortable();this.displayName=this.calculateDisplayName();this.draggable=this.workOutDraggable();}setRefreshFunction(name,func){this.refreshFunctions[name]=func;}refresh(){this.updateState();this.refreshHeaderComp();this.refreshAria();Object.values(this.refreshFunctions).forEach(f=>f());}refreshHeaderComp(){var newCompDetails=this.lookupUserCompDetails();if(!newCompDetails){return;}var compInstance=this.comp.getUserCompInstance();var attemptRefresh=compInstance!=null&&this.userCompDetails.componentClass==newCompDetails.componentClass;var headerCompRefreshed=attemptRefresh?this.attemptHeaderCompRefresh(newCompDetails.params):false;if(headerCompRefreshed){this.setDragSource(this.dragSourceElement);}else{this.setCompDetails(newCompDetails);}}attemptHeaderCompRefresh(params){var headerComp=this.comp.getUserCompInstance();if(!headerComp){return false;}if(!headerComp.refresh){return false;}var res=headerComp.refresh(params);return res;}calculateDisplayName(){return this.beans.colNames.getDisplayNameForColumn(this.column,\"header\",true);}checkDisplayName(){if(this.displayName!==this.calculateDisplayName()){this.refresh();}}workOutDraggable(){var colDef=this.column.getColDef();var isSuppressMovableColumns=this.gos.get(\"suppressMovableColumns\");var colCanMove=!isSuppressMovableColumns&&!colDef.suppressMovable&&!colDef.lockPosition;return!!colCanMove||!!colDef.enableRowGroup||!!colDef.enablePivot;}setupWidth(compBean){var listener=()=>{var columnWidth=this.column.getActualWidth();this.comp.setWidth(\"\".concat(columnWidth,\"px\"));};compBean.addManagedListeners(this.column,{widthChanged:listener});listener();}setupMovingCss(compBean){var listener=()=>{this.comp.toggleCss(\"ag-header-cell-moving\",this.column.isMoving());};compBean.addManagedListeners(this.column,{movingChanged:listener});listener();}setupMenuClass(compBean){var listener=()=>{var _this$comp3;(_this$comp3=this.comp)===null||_this$comp3===void 0||_this$comp3.toggleCss(\"ag-column-menu-visible\",this.column.isMenuVisible());};compBean.addManagedListeners(this.column,{menuVisibleChanged:listener});listener();}setupSortableClass(compBean){var updateSortableCssClass=()=>{this.comp.toggleCss(\"ag-header-cell-sortable\",!!this.sortable);};updateSortableCssClass();this.setRefreshFunction(\"updateSortable\",updateSortableCssClass);compBean.addManagedEventListeners({sortChanged:this.refreshAriaSort.bind(this)});}setupFilterClass(compBean){var listener=()=>{var isFilterActive=this.column.isFilterActive();this.comp.toggleCss(\"ag-header-cell-filtered\",isFilterActive);this.refreshAria();};compBean.addManagedListeners(this.column,{filterActiveChanged:listener});listener();}setupWrapTextClass(){var listener=()=>{var wrapText=!!this.column.getColDef().wrapHeaderText;this.comp.toggleCss(\"ag-header-cell-wrap-text\",wrapText);};listener();this.setRefreshFunction(\"wrapText\",listener);}onHeaderHighlightChanged(){var highlighted=this.column.getHighlighted();var beforeOn=highlighted===0/* Before */;var afterOn=highlighted===1/* After */;this.comp.toggleCss(\"ag-header-highlight-before\",beforeOn);this.comp.toggleCss(\"ag-header-highlight-after\",afterOn);}onDisplayedColumnsChanged(){super.onDisplayedColumnsChanged();if(!this.isAlive()){return;}this.onHeaderHeightChanged();}onHeaderHeightChanged(){this.refreshSpanHeaderHeight();}refreshSpanHeaderHeight(){var{eGui,column,comp,beans}=this;var groupHeaderHeight=getGroupRowsHeight(this.beans);var isZeroGroupHeight=groupHeaderHeight.reduce((total,next)=>total+=next,0)===0;comp.toggleCss(\"ag-header-parent-hidden\",isZeroGroupHeight);if(!column.isSpanHeaderHeight()){eGui.style.removeProperty(\"top\");eGui.style.removeProperty(\"height\");comp.toggleCss(\"ag-header-span-height\",false);comp.toggleCss(\"ag-header-span-total\",false);return;}var{numberOfParents,isSpanningTotal}=this.column.getColumnGroupPaddingInfo();comp.toggleCss(\"ag-header-span-height\",numberOfParents>0);var headerHeight=getColumnHeaderRowHeight(beans);if(numberOfParents===0){comp.toggleCss(\"ag-header-span-total\",false);eGui.style.setProperty(\"top\",\"0px\");eGui.style.setProperty(\"height\",\"\".concat(headerHeight,\"px\"));return;}comp.toggleCss(\"ag-header-span-total\",isSpanningTotal);var extraHeight=0;for(var i=0;i<numberOfParents;i++){extraHeight+=groupHeaderHeight[groupHeaderHeight.length-1-i];}eGui.style.setProperty(\"top\",\"\".concat(-extraHeight,\"px\"));eGui.style.setProperty(\"height\",\"\".concat(headerHeight+extraHeight,\"px\"));}refreshAriaSort(){if(this.sortable){var _this$beans$sortSvc2;var translate=this.getLocaleTextFunc();var sort=((_this$beans$sortSvc2=this.beans.sortSvc)===null||_this$beans$sortSvc2===void 0?void 0:_this$beans$sortSvc2.getDisplaySortForColumn(this.column))||null;this.comp.setAriaSort(_getAriaSortState(sort));this.setAriaDescriptionProperty(\"sort\",translate(\"ariaSortableColumn\",\"Press ENTER to sort\"));}else{this.comp.setAriaSort();this.setAriaDescriptionProperty(\"sort\",null);}}refreshAriaMenu(){if(this.menuEnabled){var translate=this.getLocaleTextFunc();this.setAriaDescriptionProperty(\"menu\",translate(\"ariaMenuColumn\",\"Press ALT DOWN to open column menu\"));}else{this.setAriaDescriptionProperty(\"menu\",null);}}refreshAriaFilterButton(){if(this.openFilterEnabled&&!_isLegacyMenuEnabled(this.gos)){var translate=this.getLocaleTextFunc();this.setAriaDescriptionProperty(\"filterButton\",translate(\"ariaFilterColumn\",\"Press CTRL ENTER to open filter\"));}else{this.setAriaDescriptionProperty(\"filterButton\",null);}}refreshAriaFiltered(){var translate=this.getLocaleTextFunc();var isFilterActive=this.column.isFilterActive();if(isFilterActive){this.setAriaDescriptionProperty(\"filter\",translate(\"ariaColumnFiltered\",\"Column Filtered\"));}else{this.setAriaDescriptionProperty(\"filter\",null);}}setAriaDescriptionProperty(property,value){if(value!=null){this.ariaDescriptionProperties.set(property,value);}else{this.ariaDescriptionProperties.delete(property);}}announceAriaDescription(){var _this$beans$ariaAnnou;if(!this.eGui.contains(_getActiveDomElement(this.beans))){return;}var ariaDescription=Array.from(this.ariaDescriptionProperties.keys()).sort((a,b)=>a===\"filter\"?-1:b.charCodeAt(0)-a.charCodeAt(0)).map(key=>this.ariaDescriptionProperties.get(key)).join(\". \");(_this$beans$ariaAnnou=this.beans.ariaAnnounce)===null||_this$beans$ariaAnnou===void 0||_this$beans$ariaAnnou.announceValue(ariaDescription,\"columnHeader\");}refreshAria(){this.refreshAriaSort();this.refreshAriaMenu();this.refreshAriaFilterButton();this.refreshAriaFiltered();}addColumnHoverListener(compBean){var _this$beans$colHover3;(_this$beans$colHover3=this.beans.colHover)===null||_this$beans$colHover3===void 0||_this$beans$colHover3.addHeaderColumnHoverListener(compBean,this.comp,this.column);}addActiveHeaderMouseListeners(compBean){var listener=e=>this.handleMouseOverChange(e.type===\"mouseenter\");var clickListener=()=>{this.setActiveHeader(true);this.dispatchColumnMouseEvent(\"columnHeaderClicked\",this.column);};var contextMenuListener=event=>this.handleContextMenuMouseEvent(event,void 0,this.column);compBean.addManagedListeners(this.eGui,{mouseenter:listener,mouseleave:listener,click:clickListener,contextmenu:contextMenuListener});}handleMouseOverChange(isMouseOver){this.setActiveHeader(isMouseOver);this.eventSvc.dispatchEvent({type:isMouseOver?\"columnHeaderMouseOver\":\"columnHeaderMouseLeave\",column:this.column});}setActiveHeader(active){this.comp.toggleCss(\"ag-header-active\",active);}getAnchorElementForMenu(isFilter){var headerComp=this.comp.getUserCompInstance();if(isHeaderComp(headerComp)){return headerComp.getAnchorElementForMenu(isFilter);}return this.eGui;}destroy(){this.tooltipFeature=this.destroyBean(this.tooltipFeature);super.destroy();}};function isHeaderComp(headerComp){return typeof(headerComp===null||headerComp===void 0?void 0:headerComp.getAnchorElementForMenu)===\"function\"&&typeof headerComp.onMenuKeyboardShortcut===\"function\";}// packages/ag-grid-community/src/headerRendering/row/headerRowCtrl.ts\nvar instanceIdSequence5=0;var HeaderRowCtrl=class extends BeanStub{constructor(rowIndex,pinned,type){super();this.rowIndex=rowIndex;this.pinned=pinned;this.type=type;this.instanceId=instanceIdSequence5++;this.allCtrls=[];var typeClass=type==\"group\"?\"ag-header-row-column-group\":type==\"filter\"?\"ag-header-row-column-filter\":\"ag-header-row-column\";this.headerRowClass=\"ag-header-row \".concat(typeClass);}postConstruct(){this.isPrintLayout=_isDomLayout(this.gos,\"print\");this.isEnsureDomOrder=this.gos.get(\"ensureDomOrder\");}/** Checks that every header cell that is currently visible has been rendered.\n   * Can only be false under some circumstances when using React\n   */areCellsRendered(){if(!this.comp){return false;}return this.allCtrls.every(ctrl=>ctrl.eGui!=null);}/**\n   *\n   * @param comp Proxy to the actual component\n   * @param initCompState Should the component be initialised with the current state of the controller. Default: true\n   */setComp(comp,compBean){var initCompState=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;this.comp=comp;compBean=setupCompBean(this,this.beans.context,compBean);if(initCompState){this.onRowHeightChanged();this.onVirtualColumnsChanged();}this.setWidth();this.addEventListeners(compBean);}getAriaRowIndex(){return this.rowIndex+1;}addEventListeners(compBean){var onHeightChanged=this.onRowHeightChanged.bind(this);var onDisplayedColumnsChanged=this.onDisplayedColumnsChanged.bind(this);compBean.addManagedEventListeners({columnResized:this.setWidth.bind(this),displayedColumnsChanged:onDisplayedColumnsChanged,virtualColumnsChanged:params=>this.onVirtualColumnsChanged(params.afterScroll),columnGroupHeaderHeightChanged:onHeightChanged,columnHeaderHeightChanged:onHeightChanged,gridStylesChanged:onHeightChanged,advancedFilterEnabledChanged:onHeightChanged});compBean.addManagedPropertyListener(\"domLayout\",onDisplayedColumnsChanged);compBean.addManagedPropertyListener(\"ensureDomOrder\",e=>this.isEnsureDomOrder=e.currentValue);compBean.addManagedPropertyListeners([\"headerHeight\",\"pivotHeaderHeight\",\"groupHeaderHeight\",\"pivotGroupHeaderHeight\",\"floatingFiltersHeight\"],onHeightChanged);}onDisplayedColumnsChanged(){this.isPrintLayout=_isDomLayout(this.gos,\"print\");this.onVirtualColumnsChanged();this.setWidth();this.onRowHeightChanged();}setWidth(){var width=this.getWidthForRow();this.comp.setWidth(\"\".concat(width,\"px\"));}getWidthForRow(){var{visibleCols}=this.beans;if(this.isPrintLayout){var pinned=this.pinned!=null;if(pinned){return 0;}return visibleCols.getContainerWidth(\"right\")+visibleCols.getContainerWidth(\"left\")+visibleCols.getContainerWidth(null);}return visibleCols.getContainerWidth(this.pinned);}onRowHeightChanged(){var{topOffset,rowHeight}=this.getTopAndHeight();this.comp.setTop(topOffset+\"px\");this.comp.setHeight(rowHeight+\"px\");}getTopAndHeight(){var{filterManager}=this.beans;var sizes=[];var groupHeadersHeight=getGroupRowsHeight(this.beans);var headerHeight=getColumnHeaderRowHeight(this.beans);sizes.push(...groupHeadersHeight);sizes.push(headerHeight);if(filterManager!==null&&filterManager!==void 0&&filterManager.hasFloatingFilters()){sizes.push(getFloatingFiltersHeight(this.beans));}var topOffset=0;for(var i=0;i<this.rowIndex;i++){topOffset+=sizes[i];}var rowHeight=sizes[this.rowIndex];return{topOffset,rowHeight};}onVirtualColumnsChanged(){var afterScroll=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var ctrlsToDisplay=this.getUpdatedHeaderCtrls();var forceOrder=this.isEnsureDomOrder||this.isPrintLayout;this.comp.setHeaderCtrls(ctrlsToDisplay,forceOrder,afterScroll);}/**\n   * Recycles the header cell ctrls and creates new ones for the columns in the viewport\n   * @returns The updated header cell ctrls\n   */getUpdatedHeaderCtrls(){var oldCtrls=this.ctrlsById;this.ctrlsById=/* @__PURE__ */new Map();var columns=this.getColumnsInViewport();for(var child of columns){this.recycleAndCreateHeaderCtrls(child,this.ctrlsById,oldCtrls);}var isFocusedAndDisplayed=ctrl=>{var{focusSvc,visibleCols}=this.beans;var isFocused=focusSvc.isHeaderWrapperFocused(ctrl);if(!isFocused){return false;}var isDisplayed=visibleCols.isVisible(ctrl.column);return isDisplayed;};if(oldCtrls){for(var[id,oldCtrl]of oldCtrls){var keepCtrl=isFocusedAndDisplayed(oldCtrl);if(keepCtrl){this.ctrlsById.set(id,oldCtrl);}else{this.destroyBean(oldCtrl);}}}this.allCtrls=Array.from(this.ctrlsById.values());return this.allCtrls;}/** Get the current header cell ctrls */getHeaderCellCtrls(){return this.allCtrls;}recycleAndCreateHeaderCtrls(headerColumn,currCtrls,oldCtrls){if(headerColumn.isEmptyGroup()){return;}var idOfChild=headerColumn.getUniqueId();var headerCtrl;if(oldCtrls){headerCtrl=oldCtrls.get(idOfChild);oldCtrls.delete(idOfChild);}var forOldColumn=headerCtrl&&headerCtrl.column!=headerColumn;if(forOldColumn){this.destroyBean(headerCtrl);headerCtrl=void 0;}if(headerCtrl==null){switch(this.type){case\"filter\":{headerCtrl=this.createBean(this.beans.registry.createDynamicBean(\"headerFilterCellCtrl\",true,headerColumn,this));break;}case\"group\":headerCtrl=this.createBean(this.beans.registry.createDynamicBean(\"headerGroupCellCtrl\",true,headerColumn,this));break;default:headerCtrl=this.createBean(new HeaderCellCtrl(headerColumn,this));break;}}currCtrls.set(idOfChild,headerCtrl);}getColumnsInViewport(){return this.isPrintLayout?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout();}getColumnsInViewportPrintLayout(){if(this.pinned!=null){return[];}var viewportColumns=[];var actualDepth=this.getActualDepth();var{colViewport}=this.beans;[\"left\",null,\"right\"].forEach(pinned=>{var items=colViewport.getHeadersToRender(pinned,actualDepth);viewportColumns=viewportColumns.concat(items);});return viewportColumns;}getActualDepth(){return this.type==\"filter\"?this.rowIndex-1:this.rowIndex;}getColumnsInViewportNormalLayout(){return this.beans.colViewport.getHeadersToRender(this.pinned,this.getActualDepth());}focusHeader(column,event){var ctrl=this.allCtrls.find(ctrl2=>ctrl2.column==column);if(!ctrl){return false;}var focused=ctrl.focus(event);return focused;}destroy(){this.allCtrls=this.destroyBeans(this.allCtrls);this.ctrlsById=void 0;super.destroy();}};// packages/ag-grid-community/src/headerRendering/rowContainer/headerRowContainerCtrl.ts\nvar HeaderRowContainerCtrl=class extends BeanStub{constructor(pinned){super();this.pinned=pinned;this.hidden=false;this.includeFloatingFilter=false;this.groupsRowCtrls=[];}setComp(comp,eGui){this.comp=comp;this.eViewport=eGui;var{pinnedCols,ctrlsSvc,colModel,colMoves,filterManager}=this.beans;this.setupCenterWidth();pinnedCols===null||pinnedCols===void 0||pinnedCols.setupHeaderPinnedWidth(this);this.setupDragAndDrop(colMoves,this.eViewport);var onDisplayedColsChanged=this.onDisplayedColumnsChanged.bind(this,filterManager);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),displayedColumnsChanged:onDisplayedColsChanged,advancedFilterEnabledChanged:onDisplayedColsChanged});var headerType=\"\".concat(typeof this.pinned===\"string\"?this.pinned:\"center\",\"Header\");ctrlsSvc.register(headerType,this);if(colModel.ready){this.refresh();}}getAllCtrls(){var res=[...this.groupsRowCtrls];if(this.columnsRowCtrl){res.push(this.columnsRowCtrl);}if(this.filtersRowCtrl){res.push(this.filtersRowCtrl);}return res;}refresh(){var keepColumns=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var{focusSvc,colModel,filterManager}=this.beans;var sequence=0;var focusedHeaderPosition=focusSvc.getFocusHeaderToUseAfterRefresh();var refreshColumnGroups=()=>{var groupRowCount=getHeaderRowCount(colModel)-1;this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls);for(var i=0;i<groupRowCount;i++){var ctrl=this.createBean(new HeaderRowCtrl(sequence++,this.pinned,\"group\"));this.groupsRowCtrls.push(ctrl);}};var refreshColumns=()=>{var rowIndex=sequence++;var needNewInstance=!this.hidden&&(this.columnsRowCtrl==null||!keepColumns||this.columnsRowCtrl.rowIndex!==rowIndex);var shouldDestroyInstance=needNewInstance||this.hidden;if(shouldDestroyInstance){this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl);}if(needNewInstance){this.columnsRowCtrl=this.createBean(new HeaderRowCtrl(rowIndex,this.pinned,\"column\"));}};var refreshFilters=()=>{this.includeFloatingFilter=!!(filterManager!==null&&filterManager!==void 0&&filterManager.hasFloatingFilters())&&!this.hidden;var destroyPreviousComp=()=>{this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl);};if(!this.includeFloatingFilter){destroyPreviousComp();return;}var rowIndex=sequence++;if(this.filtersRowCtrl){var rowIndexMismatch=this.filtersRowCtrl.rowIndex!==rowIndex;if(!keepColumns||rowIndexMismatch){destroyPreviousComp();}}if(!this.filtersRowCtrl){this.filtersRowCtrl=this.createBean(new HeaderRowCtrl(rowIndex,this.pinned,\"filter\"));}};refreshColumnGroups();refreshColumns();refreshFilters();var allCtrls=this.getAllCtrls();this.comp.setCtrls(allCtrls);this.restoreFocusOnHeader(focusSvc,focusedHeaderPosition);}getHeaderCtrlForColumn(column){var findCtrl=ctrl=>ctrl===null||ctrl===void 0?void 0:ctrl.getHeaderCellCtrls().find(ctrl2=>ctrl2.column===column);if(isColumn(column)){return findCtrl(this.columnsRowCtrl);}if(this.groupsRowCtrls.length===0){return;}for(var i=0;i<this.groupsRowCtrls.length;i++){var ctrl=findCtrl(this.groupsRowCtrls[i]);if(ctrl){return ctrl;}}}getHtmlElementForColumnHeader(column){var _this$getHeaderCtrlFo,_this$getHeaderCtrlFo2;return(_this$getHeaderCtrlFo=(_this$getHeaderCtrlFo2=this.getHeaderCtrlForColumn(column))===null||_this$getHeaderCtrlFo2===void 0?void 0:_this$getHeaderCtrlFo2.eGui)!==null&&_this$getHeaderCtrlFo!==void 0?_this$getHeaderCtrlFo:null;}getRowType(rowIndex){var _this$getAllCtrls$row;return(_this$getAllCtrls$row=this.getAllCtrls()[rowIndex])===null||_this$getAllCtrls$row===void 0?void 0:_this$getAllCtrls$row.type;}focusHeader(rowIndex,column,event){var allCtrls=this.getAllCtrls();var ctrl=allCtrls[rowIndex];if(!ctrl){return false;}return ctrl.focusHeader(column,event);}getGroupRowCount(){return this.groupsRowCtrls.length;}getGroupRowCtrlAtIndex(index){return this.groupsRowCtrls[index];}getRowCount(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0);}setHorizontalScroll(offset){this.comp.setViewportScrollLeft(offset);}onScrollCallback(fn){this.addManagedElementListeners(this.eViewport,{scroll:fn});}destroy(){this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl);this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl);this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls);super.destroy();}setupDragAndDrop(colMoves,dropContainer){var bodyDropTarget=colMoves===null||colMoves===void 0?void 0:colMoves.createBodyDropTarget(this.pinned,dropContainer);if(bodyDropTarget){this.createManagedBean(bodyDropTarget);}}restoreFocusOnHeader(focusSvc,position){if(!position){return;}var{column}=position;if(column.getPinned()!=this.pinned){return;}focusSvc.focusHeaderPosition({headerPosition:position});}// grid cols have changed - this also means the number of rows in the header can have\n// changed. so we remove all the old rows and insert new ones for a complete refresh\nonGridColumnsChanged(){this.refresh(true);}onDisplayedColumnsChanged(filterManager){var includeFloatingFilter=!!(filterManager!==null&&filterManager!==void 0&&filterManager.hasFloatingFilters())&&!this.hidden;if(this.includeFloatingFilter!==includeFloatingFilter){this.refresh(true);}}setupCenterWidth(){if(this.pinned!=null){return;}this.createManagedBean(new CenterWidthFeature(width=>this.comp.setCenterWidth(\"\".concat(width,\"px\")),true));}};// packages/ag-grid-community/src/misc/menu/menuService.ts\nvar MenuService=class extends BeanStub{constructor(){super(...arguments);this.beanName=\"menuSvc\";}postConstruct(){var{enterpriseMenuFactory,filterMenuFactory}=this.beans;this.activeMenuFactory=enterpriseMenuFactory!==null&&enterpriseMenuFactory!==void 0?enterpriseMenuFactory:filterMenuFactory;}showColumnMenu(params){this.showColumnMenuCommon(this.activeMenuFactory,params,\"columnMenu\");}showFilterMenu(params){var{enterpriseMenuFactory,filterMenuFactory}=this.beans;var menuFactory=enterpriseMenuFactory&&_isLegacyMenuEnabled(this.gos)?enterpriseMenuFactory:filterMenuFactory;this.showColumnMenuCommon(menuFactory,params,params.containerType,true);}showHeaderContextMenu(column,mouseEvent,touchEvent){var _this$activeMenuFacto;(_this$activeMenuFacto=this.activeMenuFactory)===null||_this$activeMenuFacto===void 0||_this$activeMenuFacto.showMenuAfterContextMenuEvent(column,mouseEvent,touchEvent);}hidePopupMenu(){var _this$beans$contextMe3,_this$activeMenuFacto2;(_this$beans$contextMe3=this.beans.contextMenuSvc)===null||_this$beans$contextMe3===void 0||_this$beans$contextMe3.hideActiveMenu();(_this$activeMenuFacto2=this.activeMenuFactory)===null||_this$activeMenuFacto2===void 0||_this$activeMenuFacto2.hideActiveMenu();}isColumnMenuInHeaderEnabled(column){var _this$activeMenuFacto3;var{suppressHeaderMenuButton}=column.getColDef();return!suppressHeaderMenuButton&&!!((_this$activeMenuFacto3=this.activeMenuFactory)!==null&&_this$activeMenuFacto3!==void 0&&_this$activeMenuFacto3.isMenuEnabled(column))&&(_isLegacyMenuEnabled(this.gos)||!!this.beans.enterpriseMenuFactory);}isFilterMenuInHeaderEnabled(column){var _this$beans$filterMan4;return!column.getColDef().suppressHeaderFilterButton&&!!((_this$beans$filterMan4=this.beans.filterManager)!==null&&_this$beans$filterMan4!==void 0&&_this$beans$filterMan4.isFilterAllowed(column));}isHeaderContextMenuEnabled(column){var colDef=column&&isColumn(column)?column.getColDef():column===null||column===void 0?void 0:column.getColGroupDef();return!(colDef!==null&&colDef!==void 0&&colDef.suppressHeaderContextMenu)&&this.gos.get(\"columnMenu\")===\"new\";}isHeaderMenuButtonAlwaysShowEnabled(){return this.isSuppressMenuHide();}isHeaderMenuButtonEnabled(){var menuHides=!this.isSuppressMenuHide();var onIpadAndMenuHides=_isIOSUserAgent()&&menuHides;return!onIpadAndMenuHides;}isHeaderFilterButtonEnabled(column){return this.isFilterMenuInHeaderEnabled(column)&&!_isLegacyMenuEnabled(this.gos)&&!this.isFloatingFilterButtonDisplayed(column);}isFilterMenuItemEnabled(column){var _this$beans$filterMan5;return!!((_this$beans$filterMan5=this.beans.filterManager)!==null&&_this$beans$filterMan5!==void 0&&_this$beans$filterMan5.isFilterAllowed(column))&&!_isLegacyMenuEnabled(this.gos)&&!this.isFilterMenuInHeaderEnabled(column)&&!this.isFloatingFilterButtonDisplayed(column);}isFloatingFilterButtonEnabled(column){return!column.getColDef().suppressFloatingFilterButton;}isFloatingFilterButtonDisplayed(column){return!!column.getColDef().floatingFilter&&this.isFloatingFilterButtonEnabled(column);}isSuppressMenuHide(){var gos=this.gos;var suppressMenuHide=gos.get(\"suppressMenuHide\");if(_isLegacyMenuEnabled(gos)){return gos.exists(\"suppressMenuHide\")?suppressMenuHide:false;}return suppressMenuHide;}showColumnMenuCommon(menuFactory,params,containerType,filtersOnly){var{positionBy,onClosedCallback}=params;var column=params.column;if(positionBy===\"button\"){var{buttonElement}=params;menuFactory===null||menuFactory===void 0||menuFactory.showMenuAfterButtonClick(column,buttonElement,containerType,onClosedCallback,filtersOnly);}else if(positionBy===\"mouse\"){var{mouseEvent}=params;menuFactory===null||menuFactory===void 0||menuFactory.showMenuAfterMouseEvent(column,mouseEvent,containerType,onClosedCallback,filtersOnly);}else if(column){var beans=this.beans;var ctrlsSvc=beans.ctrlsSvc;ctrlsSvc.getScrollFeature().ensureColumnVisible(column,\"auto\");_requestAnimationFrame(beans,()=>{var _ctrlsSvc$getHeaderRo2;var headerCellCtrl=(_ctrlsSvc$getHeaderRo2=ctrlsSvc.getHeaderRowContainerCtrl(column.getPinned()))===null||_ctrlsSvc$getHeaderRo2===void 0?void 0:_ctrlsSvc$getHeaderRo2.getHeaderCtrlForColumn(column);if(headerCellCtrl){menuFactory===null||menuFactory===void 0||menuFactory.showMenuAfterButtonClick(column,headerCellCtrl.getAnchorElementForMenu(filtersOnly),containerType,onClosedCallback,filtersOnly);}});}}};function _setColMenuVisible(column,visible,source){if(column.menuVisible!==visible){column.menuVisible=visible;column.dispatchColEvent(\"menuVisibleChanged\",source);}}// packages/ag-grid-community/src/widgets/popupComponent.ts\nvar PopupComponent=class extends Component{isPopup(){return true;}setParentComponent(container){container.addCss(\"ag-has-popup\");super.setParentComponent(container);}destroy(){var parentComp=this.parentComponent;var hasParent=parentComp&&parentComp.isAlive();if(hasParent){parentComp.getGui().classList.remove(\"ag-has-popup\");}super.destroy();}};// packages/ag-grid-community/src/widgets/agAbstractCellEditor.ts\nvar AgAbstractCellEditor=class extends PopupComponent{constructor(){super(...arguments);this.errorMessages=null;}init(params){this.params=params;this.initialiseEditor(params);this.eEditor.onValueChange(()=>params.validate());}destroy(){this.errorMessages=null;}};// packages/ag-grid-community/src/rendering/overlays/overlayComponent.ts\nvar OverlayComponent=class extends Component{constructor(){super();}};// packages/ag-grid-community/src/rendering/overlays/loadingOverlayComponent.ts\nvar LoadingOverlayElement={tag:\"span\",cls:\"ag-overlay-loading-center\",attrs:{\"aria-live\":\"polite\",\"aria-atomic\":\"true\"}};var LoadingOverlayComponent2=class extends OverlayComponent{init(){var _this$gos$get;var customTemplate=_makeNull((_this$gos$get=this.gos.get(\"overlayLoadingTemplate\"))===null||_this$gos$get===void 0?void 0:_this$gos$get.trim());this.setTemplate(customTemplate!==null&&customTemplate!==void 0?customTemplate:LoadingOverlayElement);if(!customTemplate){var localeTextFunc=this.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=localeTextFunc(\"loadingOoo\",\"Loading...\");});}}};// packages/ag-grid-community/src/rendering/overlays/noRowsOverlayComponent.ts\nvar NoRowsOverlayElement={tag:\"span\",cls:\"ag-overlay-no-rows-center\"};var NoRowsOverlayComponent2=class extends OverlayComponent{init(){var _this$gos$get2;var customTemplate=_makeNull((_this$gos$get2=this.gos.get(\"overlayNoRowsTemplate\"))===null||_this$gos$get2===void 0?void 0:_this$gos$get2.trim());this.setTemplate(customTemplate!==null&&customTemplate!==void 0?customTemplate:NoRowsOverlayElement);if(!customTemplate){var localeTextFunc=this.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=localeTextFunc(\"noRowsToShow\",\"No Rows To Show\");});}}};// packages/ag-grid-community/src/utils/icon.ts\nfunction _createIcon(iconName,beans,column){var iconContents=_createIconNoSpan(iconName,beans,column);if(iconContents){var{className}=iconContents;if(typeof className===\"string\"&&className.indexOf(\"ag-icon\")>-1||typeof className===\"object\"&&className[\"ag-icon\"]){return iconContents;}}var eResult=_createElement({tag:\"span\"});eResult.appendChild(iconContents);return eResult;}function _createIconNoSpan(iconName,beans,column){var userProvidedIcon=null;if(iconName===\"smallDown\"){_warn(262);}else if(iconName===\"smallLeft\"){_warn(263);}else if(iconName===\"smallRight\"){_warn(264);}var icons=column&&column.getColDef().icons;if(icons){userProvidedIcon=icons[iconName];}if(beans.gos&&!userProvidedIcon){var optionsIcons=beans.gos.get(\"icons\");if(optionsIcons){userProvidedIcon=optionsIcons[iconName];}}if(userProvidedIcon){var rendererResult;if(typeof userProvidedIcon===\"function\"){rendererResult=userProvidedIcon();}else if(typeof userProvidedIcon===\"string\"){rendererResult=userProvidedIcon;}else{_warn(38,{iconName});return void 0;}if(typeof rendererResult===\"string\"){return _loadTemplate(rendererResult);}if(_isNodeOrElement(rendererResult)){return rendererResult;}_warn(133,{iconName});return void 0;}else{var iconValue=beans.registry.getIcon(iconName);if(!iconValue){var _beans$validation;(_beans$validation=beans.validation)===null||_beans$validation===void 0||_beans$validation.validateIcon(iconName);}return _createElement({tag:\"span\",cls:\"ag-icon ag-icon-\".concat(iconValue!==null&&iconValue!==void 0?iconValue:iconName),role:\"presentation\",attrs:{unselectable:\"on\"}});}}// packages/ag-grid-community/src/dragAndDrop/dragAndDropImageComponent.css-GENERATED.ts\nvar dragAndDropImageComponentCSS=/*css*/\".ag-dnd-ghost{align-items:center;background-color:var(--ag-drag-and-drop-image-background-color);border:var(--ag-drag-and-drop-image-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-drag-and-drop-image-shadow);color:var(--ag-text-color);cursor:move;display:flex;font-weight:500;gap:var(--ag-cell-widget-spacing);height:var(--ag-header-height);overflow:hidden;padding-left:var(--ag-cell-horizontal-padding);padding-right:var(--ag-cell-horizontal-padding);text-overflow:ellipsis;transform:translateY(calc(var(--ag-spacing)*2));white-space:nowrap}\";// packages/ag-grid-community/src/dragAndDrop/dragAndDropImageComponent.ts\nvar DragAndDropElement={tag:\"div\",children:[{tag:\"div\",ref:\"eGhost\",cls:\"ag-dnd-ghost ag-unselectable\",children:[{tag:\"span\",ref:\"eIcon\",cls:\"ag-dnd-ghost-icon ag-shake-left-to-right\"},{tag:\"div\",ref:\"eLabel\",cls:\"ag-dnd-ghost-label\"}]}]};var DragAndDropImageComponent2=class extends Component{constructor(){super();this.dragSource=null;this.eIcon=RefPlaceholder;this.eLabel=RefPlaceholder;this.eGhost=RefPlaceholder;this.registerCSS(dragAndDropImageComponentCSS);}postConstruct(){var create=iconName=>_createIcon(iconName,this.beans,null);this.dropIconMap={pinned:create(\"columnMovePin\"),hide:create(\"columnMoveHide\"),move:create(\"columnMoveMove\"),left:create(\"columnMoveLeft\"),right:create(\"columnMoveRight\"),group:create(\"columnMoveGroup\"),aggregate:create(\"columnMoveValue\"),pivot:create(\"columnMovePivot\"),notAllowed:create(\"dropNotAllowed\")};}init(params){this.dragSource=params.dragSource;this.setTemplate(DragAndDropElement);this.beans.environment.applyThemeClasses(this.eGhost);}destroy(){this.dragSource=null;super.destroy();}setIcon(iconName,shake){var{eIcon,dragSource,dropIconMap,gos}=this;_clearElement(eIcon);var eIconChild=null;if(!iconName){iconName=dragSource!==null&&dragSource!==void 0&&dragSource.getDefaultIconName?dragSource.getDefaultIconName():\"notAllowed\";}eIconChild=dropIconMap[iconName];eIcon.classList.toggle(\"ag-shake-left-to-right\",shake);if(eIconChild===dropIconMap[\"hide\"]&&gos.get(\"suppressDragLeaveHidesColumns\")){return;}if(eIconChild){eIcon.appendChild(eIconChild);}}setLabel(label){this.eLabel.textContent=label;}};// packages/ag-grid-community/src/widgets/agAbstractLabel.css-GENERATED.ts\nvar agAbstractLabelCSS=/*css*/\".ag-label{white-space:nowrap}:where(.ag-ltr) .ag-label{margin-right:var(--ag-spacing)}:where(.ag-rtl) .ag-label{margin-left:var(--ag-spacing)}:where(.ag-label-align-right) .ag-label{order:1}:where(.ag-ltr) :where(.ag-label-align-right) .ag-label{margin-left:var(--ag-spacing)}:where(.ag-rtl) :where(.ag-label-align-right) .ag-label{margin-right:var(--ag-spacing)}.ag-label-align-right>*{flex:none}.ag-label-align-top{align-items:flex-start;flex-direction:column;>*{align-self:stretch}}.ag-label-ellipsis{flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:where(.ag-label-align-top) .ag-label{margin-bottom:calc(var(--ag-spacing)*.5)}\";// packages/ag-grid-community/src/widgets/agAbstractLabel.ts\nvar AgAbstractLabel=class extends Component{constructor(config,template,components){super(template,components);this.labelSeparator=\"\";this.labelAlignment=\"left\";this.disabled=false;this.label=\"\";this.config=config||{};this.registerCSS(agAbstractLabelCSS);}postConstruct(){this.addCss(\"ag-labeled\");this.eLabel.classList.add(\"ag-label\");var{labelSeparator,label,labelWidth,labelAlignment,disabled}=this.config;if(disabled!=null){this.setDisabled(disabled);}if(labelSeparator!=null){this.setLabelSeparator(labelSeparator);}if(label!=null){this.setLabel(label);}if(labelWidth!=null){this.setLabelWidth(labelWidth);}this.setLabelAlignment(labelAlignment||this.labelAlignment);this.refreshLabel();}refreshLabel(){var{label,eLabel}=this;_clearElement(eLabel);if(typeof label===\"string\"){eLabel.innerText=label+this.labelSeparator;}else if(label){eLabel.appendChild(label);}if(label===\"\"){_setDisplayed(eLabel,false);_setAriaRole(eLabel,\"presentation\");}else{_setDisplayed(eLabel,true);_setAriaRole(eLabel,null);}}setLabelSeparator(labelSeparator){if(this.labelSeparator===labelSeparator){return this;}this.labelSeparator=labelSeparator;if(this.label!=null){this.refreshLabel();}return this;}getLabelId(){var eLabel=this.eLabel;eLabel.id=eLabel.id||\"ag-\".concat(this.getCompId(),\"-label\");return eLabel.id;}getLabel(){return this.label;}setLabel(label){if(this.label===label){return this;}this.label=label;this.refreshLabel();return this;}setLabelAlignment(alignment){var eGui=this.getGui();var eGuiClassList=eGui.classList;eGuiClassList.toggle(\"ag-label-align-left\",alignment===\"left\");eGuiClassList.toggle(\"ag-label-align-right\",alignment===\"right\");eGuiClassList.toggle(\"ag-label-align-top\",alignment===\"top\");return this;}setLabelEllipsis(hasEllipsis){this.eLabel.classList.toggle(\"ag-label-ellipsis\",hasEllipsis);return this;}setLabelWidth(width){if(this.label==null){return this;}_setElementWidth(this.eLabel,width);return this;}setDisabled(disabled){disabled=!!disabled;var element=this.getGui();_setDisabled(element,disabled);element.classList.toggle(\"ag-disabled\",disabled);this.disabled=disabled;return this;}isDisabled(){return!!this.disabled;}};// packages/ag-grid-community/src/widgets/agAbstractField.ts\nvar AgAbstractField=class extends AgAbstractLabel{constructor(config,template,components,className){super(config,template,components);this.className=className;}postConstruct(){super.postConstruct();var{width,value,onValueChange}=this.config;if(width!=null){this.setWidth(width);}if(value!=null){this.setValue(value);}if(onValueChange!=null){this.onValueChange(onValueChange);}if(this.className){this.addCss(this.className);}this.refreshAriaLabelledBy();}setLabel(label){super.setLabel(label);this.refreshAriaLabelledBy();return this;}refreshAriaLabelledBy(){var ariaEl=this.getAriaElement();var labelId=this.getLabelId();var label=this.getLabel();if(label==null||label==\"\"||_getAriaLabel(ariaEl)!==null){_setAriaLabelledBy(ariaEl,\"\");}else{_setAriaLabelledBy(ariaEl,labelId!==null&&labelId!==void 0?labelId:\"\");}}setAriaLabel(label){_setAriaLabel(this.getAriaElement(),label);this.refreshAriaLabelledBy();return this;}onValueChange(callbackFn){this.addManagedListeners(this,{fieldValueChanged:()=>callbackFn(this.getValue())});return this;}getWidth(){return this.getGui().clientWidth;}setWidth(width){_setFixedWidth(this.getGui(),width);return this;}getPreviousValue(){return this.previousValue;}getValue(){return this.value;}setValue(value,silent){if(this.value===value){return this;}this.previousValue=this.value;this.value=value;if(!silent){this.dispatchLocalEvent({type:\"fieldValueChanged\"});}return this;}};// packages/ag-grid-community/src/widgets/agAbstractInputField.ts\nfunction buildTemplate(displayFieldTag){return{tag:\"div\",role:\"presentation\",children:[{tag:\"div\",ref:\"eLabel\",cls:\"ag-input-field-label\"},{tag:\"div\",ref:\"eWrapper\",cls:\"ag-wrapper ag-input-wrapper\",role:\"presentation\",children:[{tag:displayFieldTag,ref:\"eInput\",cls:\"ag-input-field-input\"}]}]};}var AgAbstractInputField=class extends AgAbstractField{constructor(config,className){var _config$template;var inputType=arguments.length>2&&arguments[2]!==undefined?arguments[2]:\"text\";var displayFieldTag=arguments.length>3&&arguments[3]!==undefined?arguments[3]:\"input\";super(config,(_config$template=config===null||config===void 0?void 0:config.template)!==null&&_config$template!==void 0?_config$template:buildTemplate(displayFieldTag),[],className);this.inputType=inputType;this.displayFieldTag=displayFieldTag;this.eLabel=RefPlaceholder;this.eWrapper=RefPlaceholder;this.eInput=RefPlaceholder;}postConstruct(){super.postConstruct();this.setInputType(this.inputType);var{eLabel,eWrapper,eInput,className}=this;eLabel.classList.add(\"\".concat(className,\"-label\"));eWrapper.classList.add(\"\".concat(className,\"-input-wrapper\"));eInput.classList.add(\"\".concat(className,\"-input\"));this.addCss(\"ag-input-field\");eInput.id=eInput.id||\"ag-\".concat(this.getCompId(),\"-input\");var{inputName,inputWidth}=this.config;if(inputName!=null){this.setInputName(inputName);}if(inputWidth!=null){this.setInputWidth(inputWidth);}this.addInputListeners();this.activateTabIndex([eInput]);}addInputListeners(){this.addManagedElementListeners(this.eInput,{input:e=>this.setValue(e.target.value)});}setInputType(inputType){if(this.displayFieldTag===\"input\"){this.inputType=inputType;_addOrRemoveAttribute(this.eInput,\"type\",inputType);}}getInputElement(){return this.eInput;}setInputWidth(width){_setElementWidth(this.eWrapper,width);return this;}setInputName(name){this.getInputElement().setAttribute(\"name\",name);return this;}getFocusableElement(){return this.eInput;}setMaxLength(length){var eInput=this.eInput;eInput.maxLength=length;return this;}setInputPlaceholder(placeholder){_addOrRemoveAttribute(this.eInput,\"placeholder\",placeholder);return this;}setInputAriaLabel(label){_setAriaLabel(this.eInput,label);this.refreshAriaLabelledBy();return this;}setDisabled(disabled){_setDisabled(this.eInput,disabled);return super.setDisabled(disabled);}setAutoComplete(value){if(value===true){_addOrRemoveAttribute(this.eInput,\"autocomplete\",null);}else{var autoCompleteValue=typeof value===\"string\"?value:\"off\";_addOrRemoveAttribute(this.eInput,\"autocomplete\",autoCompleteValue);}return this;}};// packages/ag-grid-community/src/widgets/agCheckbox.ts\nvar AgCheckbox=class extends AgAbstractInputField{constructor(config){var className=arguments.length>1&&arguments[1]!==undefined?arguments[1]:\"ag-checkbox\";var inputType=arguments.length>2&&arguments[2]!==undefined?arguments[2]:\"checkbox\";super(config,className,inputType);this.labelAlignment=\"right\";this.selected=false;this.readOnly=false;this.passive=false;}postConstruct(){super.postConstruct();var{readOnly,passive}=this.config;if(typeof readOnly===\"boolean\")this.setReadOnly(readOnly);if(typeof passive===\"boolean\")this.setPassive(passive);}addInputListeners(){this.addManagedElementListeners(this.eInput,{click:this.onCheckboxClick.bind(this)});this.addManagedElementListeners(this.eLabel,{click:this.toggle.bind(this)});}getNextValue(){return this.selected===void 0?true:!this.selected;}setPassive(passive){this.passive=passive;}isReadOnly(){return this.readOnly;}setReadOnly(readOnly){this.eWrapper.classList.toggle(\"ag-disabled\",readOnly);this.eInput.disabled=readOnly;this.readOnly=readOnly;}setDisabled(disabled){this.eWrapper.classList.toggle(\"ag-disabled\",disabled);return super.setDisabled(disabled);}toggle(){if(this.eInput.disabled){return;}var previousValue=this.isSelected();var nextValue=this.getNextValue();if(this.passive){this.dispatchChange(nextValue,previousValue);}else{this.setValue(nextValue);}}getValue(){return this.isSelected();}setValue(value,silent){this.refreshSelectedClass(value);this.setSelected(value,silent);return this;}setName(name){var input=this.getInputElement();input.name=name;return this;}isSelected(){return this.selected;}setSelected(selected,silent){if(this.isSelected()===selected){return;}this.previousValue=this.isSelected();selected=this.selected=typeof selected===\"boolean\"?selected:void 0;var eInput=this.eInput;eInput.checked=selected;eInput.indeterminate=selected===void 0;if(!silent){this.dispatchChange(this.selected,this.previousValue);}}dispatchChange(selected,previousValue,event){this.dispatchLocalEvent({type:\"fieldValueChanged\",selected,previousValue,event});var input=this.getInputElement();this.eventSvc.dispatchEvent({type:\"checkboxChanged\",id:input.id,name:input.name,selected,previousValue});}onCheckboxClick(e){if(this.passive||this.eInput.disabled){return;}var previousValue=this.isSelected();var selected=this.selected=e.target.checked;this.refreshSelectedClass(selected);this.dispatchChange(selected,previousValue,e);}refreshSelectedClass(value){var classList=this.eWrapper.classList;classList.toggle(\"ag-checked\",value===true);classList.toggle(\"ag-indeterminate\",value==null);}};var AgCheckboxSelector={selector:\"AG-CHECKBOX\",component:AgCheckbox};// packages/ag-grid-community/src/rendering/cellRenderers/checkboxCellRenderer.css-GENERATED.ts\nvar checkboxCellRendererCSS=/*css*/\".ag-checkbox-cell{height:100%}\";// packages/ag-grid-community/src/rendering/cellRenderers/checkboxCellRenderer.ts\nvar CheckboxCellRendererElement={tag:\"div\",cls:\"ag-cell-wrapper ag-checkbox-cell\",role:\"presentation\",children:[{tag:\"ag-checkbox\",ref:\"eCheckbox\",role:\"presentation\"}]};var CheckboxCellRenderer=class extends Component{constructor(){super(CheckboxCellRendererElement,[AgCheckboxSelector]);this.eCheckbox=RefPlaceholder;this.registerCSS(checkboxCellRendererCSS);}init(params){this.refresh(params);var{eCheckbox,beans}=this;var inputEl=eCheckbox.getInputElement();inputEl.setAttribute(\"tabindex\",\"-1\");_setAriaLive(inputEl,\"polite\");this.addManagedListeners(inputEl,{click:event=>{_stopPropagationForAgGrid(event);if(eCheckbox.isDisabled()){return;}var isSelected=eCheckbox.getValue();this.onCheckboxChanged(isSelected);},dblclick:event=>{_stopPropagationForAgGrid(event);}});this.addManagedElementListeners(params.eGridCell,{keydown:event=>{if(event.key===KeyCode.SPACE&&!eCheckbox.isDisabled()){if(params.eGridCell===_getActiveDomElement(beans)){eCheckbox.toggle();}var isSelected=eCheckbox.getValue();this.onCheckboxChanged(isSelected);event.preventDefault();}}});}refresh(params){this.params=params;this.updateCheckbox(params);return true;}updateCheckbox(params){var _params$disabled;var isSelected;var displayed=true;var{value,column,node}=params;if(node.group&&column){if(typeof value===\"boolean\"){isSelected=value;}else{var colId=column.getColId();if(colId.startsWith(GROUP_AUTO_COLUMN_ID)){isSelected=value==null||value===\"\"?void 0:value===\"true\";}else if(node.aggData&&node.aggData[colId]!==void 0){isSelected=value!==null&&value!==void 0?value:void 0;}else{displayed=false;}}}else{isSelected=value!==null&&value!==void 0?value:void 0;}var{eCheckbox}=this;if(!displayed){eCheckbox.setDisplayed(false);return;}eCheckbox.setValue(isSelected);var disabled=(_params$disabled=params.disabled)!==null&&_params$disabled!==void 0?_params$disabled:!(column!==null&&column!==void 0&&column.isCellEditable(node));eCheckbox.setDisabled(disabled);var translate=this.getLocaleTextFunc();var stateName=_getAriaCheckboxStateName(translate,isSelected);var ariaLabel=disabled?stateName:\"\".concat(translate(\"ariaToggleCellValue\",\"Press SPACE to toggle cell value\"),\" (\").concat(stateName,\")\");eCheckbox.setInputAriaLabel(ariaLabel);}onCheckboxChanged(isSelected){var _this$beans,_this$beans$editSvc4,_this$beans$editSvc5;var{params}=this;var{column,node,value}=params;(_this$beans=this.beans)===null||_this$beans===void 0||(_this$beans=_this$beans.editSvc)===null||_this$beans===void 0||_this$beans.setEditingCells([{column,colId:column.getColId(),rowIndex:node.rowIndex,rowPinned:node.rowPinned,state:\"changed\",oldValue:value,newValue:value}],{update:true});var valueChanged=node.setDataValue(column,isSelected,\"renderer\");(_this$beans$editSvc4=this.beans.editSvc)===null||_this$beans$editSvc4===void 0||_this$beans$editSvc4.stopEditing({rowNode:node,column},{source:(_this$beans$editSvc5=this.beans.editSvc)!==null&&_this$beans$editSvc5!==void 0&&_this$beans$editSvc5.isBatchEditing()?\"ui\":\"api\"});if(!valueChanged){this.updateCheckbox(params);}}};// packages/ag-grid-community/src/pinnedRowModel/manualPinnedRowUtils.ts\nvar PinnedRows=class{constructor(beans,floating){this.beans=beans;this.floating=floating;/** Canonical set of pinned nodes */this.all=/* @__PURE__ */new Set();/**\n     * Set of nodes that should currently be visible given the context of the grid.\n     * This is currently used for hiding leaf nodes in pivot mode and filtered nodes.\n     */this.visible=/* @__PURE__ */new Set();/** Ordering of nodes in the pinned area */this.order=[];/** IDs of nodes that need to be pinned once they are available from the row model (SSRM) */this.queued=/* @__PURE__ */new Set();}size(){return this.visible.size;}add(node){var{all,visible,order}=this;if(all.has(node))return;all.add(node);visible.add(node);order.push(node);this.sort();}delete(item){this.all.delete(item);this.visible.delete(item);this.queued.delete(item.id);_removeFromArray(this.order,item);}has(item){return this.visible.has(item);}forEach(fn){this.order.forEach(fn);}getByIndex(i){return this.order[i];}getById(id){for(var node of this.visible){if(node.id==id)return node;}}clear(){var{all,visible,order,queued}=this;all.clear();queued.clear();visible.clear();order.length=0;}sort(){var _sortSvc$getSortOptio,_rowNodeSorter$doFull;var{sortSvc,rowNodeSorter,gos}=this.beans;var sortOptions=(_sortSvc$getSortOptio=sortSvc===null||sortSvc===void 0?void 0:sortSvc.getSortOptions())!==null&&_sortSvc$getSortOptio!==void 0?_sortSvc$getSortOptio:[];var grandTotalNode=_removeGrandTotalRow(this.order);this.order.sort((a,b)=>{var _a$pinnedSibling$rowI,_a$pinnedSibling,_b$pinnedSibling$rowI,_b$pinnedSibling;return((_a$pinnedSibling$rowI=(_a$pinnedSibling=a.pinnedSibling)===null||_a$pinnedSibling===void 0?void 0:_a$pinnedSibling.rowIndex)!==null&&_a$pinnedSibling$rowI!==void 0?_a$pinnedSibling$rowI:0)-((_b$pinnedSibling$rowI=(_b$pinnedSibling=b.pinnedSibling)===null||_b$pinnedSibling===void 0?void 0:_b$pinnedSibling.rowIndex)!==null&&_b$pinnedSibling$rowI!==void 0?_b$pinnedSibling$rowI:0);});this.order=(_rowNodeSorter$doFull=rowNodeSorter===null||rowNodeSorter===void 0?void 0:rowNodeSorter.doFullSort(this.order,sortOptions))!==null&&_rowNodeSorter$doFull!==void 0?_rowNodeSorter$doFull:this.order;if(!grandTotalNode)return;var grandTotalRow=_getGrandTotalRow(gos);if(grandTotalRow===\"bottom\"||grandTotalRow===\"pinnedBottom\"){this.order.push(grandTotalNode);}else{this.order.unshift(grandTotalNode);}}hide(shouldHide){var{all,visible}=this;all.forEach(node=>shouldHide(node)?visible.delete(node):visible.add(node));this.order=Array.from(visible);this.sort();}queue(id){this.queued.add(id);}unqueue(id){this.queued.delete(id);}forEachQueued(fn){this.queued.forEach(fn);}};function _isDisplayedAfterFilterCSRM(node){var _parent$childrenAfter;if(node.level===-1)return true;var parent=node.parent;if(parent!==null&&parent!==void 0&&(_parent$childrenAfter=parent.childrenAfterSort)!==null&&_parent$childrenAfter!==void 0&&_parent$childrenAfter.some(child=>child==node)){return _isDisplayedAfterFilterCSRM(parent);}return false;}function _shouldHidePinnedRows(beans,node){var{gos,rowModel,filterManager}=beans;if(_isServerSideRowModel(gos,rowModel)){return!rowModel.getRowNode(node.id);}if(filterManager!==null&&filterManager!==void 0&&filterManager.isAnyFilterPresent()){return!_isDisplayedAfterFilterCSRM(node);}if(gos.get(\"pivotMode\")){return!node.group;}return false;}function _isNodeGrandTotal(node){return!!node.footer&&node.level===-1;}function _isPinnedNodeGrandTotal(node){return!!node.pinnedSibling&&_isNodeGrandTotal(node.pinnedSibling);}function _removeGrandTotalRow(order){var index=order.findIndex(_isPinnedNodeGrandTotal);if(index>-1){var _order$splice;return(_order$splice=order.splice(index,1))===null||_order$splice===void 0?void 0:_order$splice[0];}}// packages/ag-grid-community/src/pinnedRowModel/manualPinnedRowModel.ts\nvar ManualPinnedRowModel=class extends BeanStub{postConstruct(){var{gos,beans}=this;this.top=new PinnedRows(beans,\"top\");this.bottom=new PinnedRows(beans,\"bottom\");var shouldHide=node=>_shouldHidePinnedRows(beans,node.pinnedSibling);var runIsRowPinned=()=>{var isRowPinned=gos.get(\"isRowPinned\");if(isRowPinned&&gos.get(\"enableRowPinning\")){beans.rowModel.forEachNode(node=>this.pinRow(node,isRowPinned(node)),true);}this.refreshRowPositions();this.dispatchRowPinnedEvents();};this.addManagedEventListeners({gridStylesChanged:this.onGridStylesChanges.bind(this),modelUpdated:()=>{this.tryToEmptyQueues();this.pinGrandTotalRow();this.forContainers(container=>container.hide(shouldHide));this.refreshRowPositions();this.dispatchRowPinnedEvents();},columnRowGroupChanged:()=>{this.forContainers(removeGroupRows);this.refreshRowPositions();},rowNodeDataChanged:_ref29=>{var _isRowPinnable;var{node}=_ref29;var isRowPinnable=gos.get(\"isRowPinnable\");var pinnable=(_isRowPinnable=isRowPinnable===null||isRowPinnable===void 0?void 0:isRowPinnable(node))!==null&&_isRowPinnable!==void 0?_isRowPinnable:true;if(!pinnable){this.pinRow(node,null);}},firstDataRendered:runIsRowPinned});this.addManagedPropertyListener(\"pivotMode\",()=>{this.forContainers(container=>container.hide(shouldHide));this.dispatchRowPinnedEvents();});this.addManagedPropertyListener(\"grandTotalRow\",_ref30=>{var{currentValue}=_ref30;this._grandTotalPinned=currentValue===\"pinnedBottom\"?\"bottom\":currentValue===\"pinnedTop\"?\"top\":null;});this.addManagedPropertyListener(\"isRowPinned\",runIsRowPinned);}destroy(){this.reset(false);super.destroy();}reset(){var dispatch=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;this.forContainers(container=>{var nodesToUnpin=[];container.forEach(n=>nodesToUnpin.push(n));nodesToUnpin.forEach(n=>this.pinRow(n,null));container.clear();});if(dispatch){this.dispatchRowPinnedEvents();}}pinRow(rowNode,float,column){var _rowNode$rowPinned,_rowNode$pinnedSiblin;if(rowNode.footer&&rowNode.level>-1)return;if(rowNode.footer&&rowNode.level===-1){this._grandTotalPinned=float;refreshCSRM(this.beans);return;}var currentFloat=(_rowNode$rowPinned=rowNode.rowPinned)!==null&&_rowNode$rowPinned!==void 0?_rowNode$rowPinned:(_rowNode$pinnedSiblin=rowNode.pinnedSibling)===null||_rowNode$pinnedSiblin===void 0?void 0:_rowNode$pinnedSiblin.rowPinned;var switching=currentFloat!=null&&float!=null&&float!=currentFloat;if(switching){var pinned=rowNode.rowPinned?rowNode:rowNode.pinnedSibling;var source=rowNode.rowPinned?rowNode.pinnedSibling:rowNode;this.pinRow(pinned,null,column);this.pinRow(source,float,column);return;}var spannedRows=column&&getSpannedRows(this.beans,rowNode,column);if(spannedRows){spannedRows.forEach(node=>this.pinRow(node,float));return;}if(float==null){var node=rowNode.rowPinned?rowNode:rowNode.pinnedSibling;var found=this.findPinnedRowNode(node);if(!found)return;found.delete(node);var _source2=node.pinnedSibling;_destroyRowNodeSibling(node);this.refreshRowPositions(float);this.dispatchRowPinnedEvents(_source2);}else{var sibling=_createPinnedSibling(this.beans,rowNode,float);var container=this.getContainer(float);container.add(sibling);if(_shouldHidePinnedRows(this.beans,rowNode)){container.hide(node=>_shouldHidePinnedRows(this.beans,node.pinnedSibling));}this.refreshRowPositions(float);this.dispatchRowPinnedEvents(rowNode);}}isManual(){return true;}isEmpty(floating){return this.getContainer(floating).size()===0;}isRowsToRender(floating){return!this.isEmpty(floating);}ensureRowHeightsValid(){var anyChange=false;var rowTop=0;var updateRowHeight=rowNode=>{if(rowNode.rowHeightEstimated){var rowHeight=_getRowHeightForNode(this.beans,rowNode);rowNode.setRowTop(rowTop);rowNode.setRowHeight(rowHeight.height);rowTop+=rowHeight.height;anyChange=true;}};this.bottom.forEach(updateRowHeight);rowTop=0;this.top.forEach(updateRowHeight);this.eventSvc.dispatchEvent({type:\"pinnedHeightChanged\"});return anyChange;}getPinnedTopTotalHeight(){return getTotalHeight(this.top);}getPinnedBottomTotalHeight(){return getTotalHeight(this.bottom);}getPinnedTopRowCount(){return this.top.size();}getPinnedBottomRowCount(){return this.bottom.size();}getPinnedTopRow(index){return this.top.getByIndex(index);}getPinnedBottomRow(index){return this.bottom.getByIndex(index);}getPinnedRowById(id,floating){return this.getContainer(floating).getById(id);}forEachPinnedRow(floating,callback){this.getContainer(floating).forEach(callback);}getPinnedState(){var buildState=floating=>{var list=[];this.forEachPinnedRow(floating,node=>list.push(node.pinnedSibling.id));return list;};return{top:buildState(\"top\"),bottom:buildState(\"bottom\")};}setPinnedState(state){this.forContainers((pinned,floating)=>{for(var id of state[floating]){var node=this.beans.rowModel.getRowNode(id);if(node){this.pinRow(node,floating);}else{pinned.queue(id);}}});}getGrandTotalPinned(){return this._grandTotalPinned;}setGrandTotalPinned(value){this._grandTotalPinned=value;}tryToEmptyQueues(){this.forContainers((pinned,container)=>{var nodesToPin=/* @__PURE__ */new Set();pinned.forEachQueued(id=>{var node=this.beans.rowModel.getRowNode(id);if(node){nodesToPin.add(node);}});for(var node of nodesToPin){pinned.unqueue(node.id);this.pinRow(node,container);}});}pinGrandTotalRow(){var _rowModel$rootNode;var{gos,beans,_grandTotalPinned:float}=this;var rowModel=beans.rowModel;if(!_isClientSideRowModel(gos,rowModel))return;var sibling=(_rowModel$rootNode=rowModel.rootNode)===null||_rowModel$rootNode===void 0?void 0:_rowModel$rootNode.sibling;if(!sibling)return;var pinnedSibling=sibling.pinnedSibling;var container=pinnedSibling&&this.findPinnedRowNode(pinnedSibling);if(!float){if(!container)return;container.delete(pinnedSibling);_destroyRowNodeSibling(pinnedSibling);}else{if(container&&container.floating!==float){container.delete(pinnedSibling);_destroyRowNodeSibling(pinnedSibling);}if(!container||container.floating!==float){var newPinnedSibling=_createPinnedSibling(beans,sibling,float);this.getContainer(float).add(newPinnedSibling);}}}onGridStylesChanges(e){if(e.rowHeightChanged){this.forContainers(container=>container.forEach(rowNode=>rowNode.setRowHeight(rowNode.rowHeight,true)));}}getContainer(floating){return floating===\"top\"?this.top:this.bottom;}findPinnedRowNode(node){if(this.top.has(node))return this.top;if(this.bottom.has(node))return this.bottom;}refreshRowPositions(floating){var refreshAll=pinned=>refreshRowPositions(this.beans,pinned);return floating==null?this.forContainers(refreshAll):refreshAll(this.getContainer(floating));}forContainers(fn){fn(this.top,\"top\");fn(this.bottom,\"bottom\");}dispatchRowPinnedEvents(node){this.eventSvc.dispatchEvent({type:\"pinnedRowsChanged\"});node===null||node===void 0||node.dispatchRowEvent(\"rowPinned\");}};function refreshRowPositions(beans,container){var rowTop=0;container.forEach((node,index)=>{node.setRowTop(rowTop);if(node.rowHeightEstimated||node.rowHeight==null){node.setRowHeight(_getRowHeightForNode(beans,node).height);}node.setRowIndex(index);rowTop+=node.rowHeight;});}function _createPinnedSibling(beans,rowNode,floating){if(rowNode.pinnedSibling){return rowNode.pinnedSibling;}var sibling=_createRowNodeSibling(rowNode,beans);sibling.setRowTop(null);sibling.setRowIndex(null);sibling.rowPinned=floating;var prefix=floating===\"top\"?ROW_ID_PREFIX_TOP_PINNED:ROW_ID_PREFIX_BOTTOM_PINNED;sibling.id=\"\".concat(prefix).concat(floating,\"-\").concat(rowNode.id);sibling.pinnedSibling=rowNode;rowNode.pinnedSibling=sibling;return sibling;}function _destroyRowNodeSibling(rowNode){if(!rowNode.pinnedSibling){return;}rowNode.rowPinned=null;rowNode.setRowTop(null);rowNode.setRowIndex(null);var mainNode=rowNode.pinnedSibling;rowNode.pinnedSibling=void 0;if(mainNode){mainNode.pinnedSibling=void 0;mainNode.rowPinned=null;}}function removeGroupRows(set){var rowsToRemove=/* @__PURE__ */new Set();set.forEach(node=>{if(node.group){rowsToRemove.add(node);}});rowsToRemove.forEach(node=>set.delete(node));}function getSpannedRows(beans,rowNode,column){var _ref31;var{rowSpanSvc}=beans;var isCellSpanning=(_ref31=column&&(rowSpanSvc===null||rowSpanSvc===void 0?void 0:rowSpanSvc.isCellSpanning(column,rowNode)))!==null&&_ref31!==void 0?_ref31:false;if(column&&isCellSpanning){var _rowSpanSvc$getCellSp;return rowSpanSvc===null||rowSpanSvc===void 0||(_rowSpanSvc$getCellSp=rowSpanSvc.getCellSpan(column,rowNode))===null||_rowSpanSvc$getCellSp===void 0?void 0:_rowSpanSvc$getCellSp.spannedNodes;}}function getTotalHeight(container){var size=container.size();if(size===0)return 0;var node=container.getByIndex(size-1);if(node===void 0)return 0;return node.rowTop+node.rowHeight;}function refreshCSRM(_ref32){var{gos,rowModel}=_ref32;if(_isClientSideRowModel(gos,rowModel)){rowModel.refreshModel({step:\"map\"});}}// packages/ag-grid-community/src/pinnedRowModel/staticPinnedRowModel.ts\nvar StaticPinnedRowModel=class extends BeanStub{constructor(){super(...arguments);this.nextId=0;this.pinnedTopRows={cache:{},order:[]};this.pinnedBottomRows={cache:{},order:[]};}postConstruct(){var gos=this.gos;this.setPinnedRowData(gos.get(\"pinnedTopRowData\"),\"top\");this.setPinnedRowData(gos.get(\"pinnedBottomRowData\"),\"bottom\");this.addManagedPropertyListener(\"pinnedTopRowData\",e=>this.setPinnedRowData(e.currentValue,\"top\"));this.addManagedPropertyListener(\"pinnedBottomRowData\",e=>this.setPinnedRowData(e.currentValue,\"bottom\"));this.addManagedEventListeners({gridStylesChanged:this.onGridStylesChanges.bind(this)});}reset(){}isEmpty(floating){return this.getCache(floating).order.length===0;}isRowsToRender(floating){return!this.isEmpty(floating);}isManual(){return false;}pinRow(_node,_container){}onGridStylesChanges(e){if(e.rowHeightChanged){var estimateRowHeight=rowNode=>{rowNode.setRowHeight(rowNode.rowHeight,true);};forEach(this.pinnedBottomRows,estimateRowHeight);forEach(this.pinnedTopRows,estimateRowHeight);}}ensureRowHeightsValid(){var anyChange=false;var rowTop=0;var updateRowHeight=rowNode=>{if(rowNode.rowHeightEstimated){var rowHeight=_getRowHeightForNode(this.beans,rowNode);rowNode.setRowTop(rowTop);rowNode.setRowHeight(rowHeight.height);rowTop+=rowHeight.height;anyChange=true;}};forEach(this.pinnedBottomRows,updateRowHeight);rowTop=0;forEach(this.pinnedTopRows,updateRowHeight);this.eventSvc.dispatchEvent({type:\"pinnedHeightChanged\"});return anyChange;}setPinnedRowData(rowData,floating){this.updateNodesFromRowData(rowData,floating);this.eventSvc.dispatchEvent({type:\"pinnedRowDataChanged\"});}/**\n   * Updates existing RowNode instances and creates new ones if necessary\n   *\n   * Setting data as `undefined` will clear row nodes\n   */updateNodesFromRowData(allData,floating){var nodes=this.getCache(floating);if(allData===void 0){nodes.order.length=0;nodes.cache={};return;}var getRowId=_getRowIdCallback(this.gos);var idPrefix=floating===\"top\"?ROW_ID_PREFIX_TOP_PINNED:ROW_ID_PREFIX_BOTTOM_PINNED;var nodesToRemove=new Set(nodes.order);var newOrder=[];var dataIds=/* @__PURE__ */new Set();var nextRowTop=0;var i=-1;for(var data of allData){var _getRowId;var id=(_getRowId=getRowId===null||getRowId===void 0?void 0:getRowId({data,level:0,rowPinned:floating}))!==null&&_getRowId!==void 0?_getRowId:idPrefix+this.nextId++;if(dataIds.has(id)){_warn(96,{id,data});continue;}i++;dataIds.add(id);newOrder.push(id);var existingNode=getById(nodes,id);if(existingNode!==void 0){if(existingNode.data!==data){existingNode.updateData(data);}nextRowTop+=this.setRowTopAndRowIndex(existingNode,nextRowTop,i);nodesToRemove.delete(id);}else{var rowNode=new RowNode(this.beans);rowNode.id=id;rowNode.data=data;rowNode.rowPinned=floating;nextRowTop+=this.setRowTopAndRowIndex(rowNode,nextRowTop,i);nodes.cache[id]=rowNode;nodes.order.push(id);}}nodesToRemove.forEach(id=>{var _getById;(_getById=getById(nodes,id))===null||_getById===void 0||_getById.clearRowTopAndRowIndex();delete nodes.cache[id];});nodes.order=newOrder;}setRowTopAndRowIndex(rowNode,rowTop,rowIndex){rowNode.setRowTop(rowTop);rowNode.setRowHeight(_getRowHeightForNode(this.beans,rowNode).height);rowNode.setRowIndex(rowIndex);return rowNode.rowHeight;}getPinnedTopTotalHeight(){return getTotalHeight2(this.pinnedTopRows);}getPinnedBottomTotalHeight(){return getTotalHeight2(this.pinnedBottomRows);}getPinnedTopRowCount(){return getSize(this.pinnedTopRows);}getPinnedBottomRowCount(){return getSize(this.pinnedBottomRows);}getPinnedTopRow(index){return getByIndex(this.pinnedTopRows,index);}getPinnedBottomRow(index){return getByIndex(this.pinnedBottomRows,index);}getPinnedRowById(id,floating){return getById(this.getCache(floating),id);}forEachPinnedRow(floating,callback){return forEach(this.getCache(floating),callback);}getCache(floating){return floating===\"top\"?this.pinnedTopRows:this.pinnedBottomRows;}getPinnedState(){return{top:[],bottom:[]};}setPinnedState(){}getGrandTotalPinned(){return;}setGrandTotalPinned(){}};function getTotalHeight2(rowNodes){var size=getSize(rowNodes);if(size===0){return 0;}var node=getByIndex(rowNodes,size-1);if(node===void 0){return 0;}return node.rowTop+node.rowHeight;}function getById(cache,id){return cache.cache[id];}function getByIndex(cache,i){return getById(cache,cache.order[i]);}function forEach(cache,callback){cache.order.forEach((id,index)=>{var node=getById(cache,id);node&&callback(node,index);});}function getSize(cache){return cache.order.length;}// packages/ag-grid-community/src/pinnedRowModel/pinnedRowModel.ts\nvar PinnedRowModel=class extends BeanStub{constructor(){super(...arguments);this.beanName=\"pinnedRowModel\";}postConstruct(){var{gos}=this;var initialiseRowModel=()=>{var enableRowPinning=gos.get(\"enableRowPinning\");var grandTotalRow=_getGrandTotalRow(gos);var isGrandTotalRowPinned=grandTotalRow===\"pinnedBottom\"||grandTotalRow===\"pinnedTop\";var useManualPinnedRowModel=!!enableRowPinning||isGrandTotalRowPinned;var shouldDestroy=useManualPinnedRowModel?this.inner instanceof StaticPinnedRowModel:this.inner instanceof ManualPinnedRowModel;if(this.inner&&shouldDestroy){this.destroyBean(this.inner);}if(shouldDestroy||!this.inner){this.inner=this.createManagedBean(useManualPinnedRowModel?new ManualPinnedRowModel():new StaticPinnedRowModel());}};this.addManagedPropertyListeners([\"enableRowPinning\",\"grandTotalRow\"],initialiseRowModel);initialiseRowModel();}reset(){return this.inner.reset();}isEmpty(container){return this.inner.isEmpty(container);}isManual(){return this.inner.isManual();}isRowsToRender(container){return this.inner.isRowsToRender(container);}pinRow(node,container,column){return this.inner.pinRow(node,container,column);}ensureRowHeightsValid(){return this.inner.ensureRowHeightsValid();}getPinnedRowById(id,container){return this.inner.getPinnedRowById(id,container);}getPinnedTopTotalHeight(){return this.inner.getPinnedTopTotalHeight();}getPinnedBottomTotalHeight(){return this.inner.getPinnedBottomTotalHeight();}getPinnedTopRowCount(){return this.inner.getPinnedTopRowCount();}getPinnedBottomRowCount(){return this.inner.getPinnedBottomRowCount();}getPinnedTopRow(index){return this.inner.getPinnedTopRow(index);}getPinnedBottomRow(index){return this.inner.getPinnedBottomRow(index);}forEachPinnedRow(container,callback){return this.inner.forEachPinnedRow(container,callback);}getPinnedState(){return this.inner.getPinnedState();}setPinnedState(state){return this.inner.setPinnedState(state);}setGrandTotalPinned(value){return this.inner.setGrandTotalPinned(value);}getGrandTotalPinned(){return this.inner.getGrandTotalPinned();}};// packages/ag-grid-community/src/clientSideRowModel/abstractClientSideNodeManager.ts\nvar ROOT_NODE_ID=\"ROOT_NODE_ID\";var AbstractClientSideNodeManager=class extends BeanStub{constructor(){super(...arguments);this.nextId=0;this.allNodesMap={};this.rootNode=null;}getRowNode(id){return this.allNodesMap[id];}extractRowData(){var _this$rootNode;return(_this$rootNode=this.rootNode)===null||_this$rootNode===void 0||(_this$rootNode=_this$rootNode.allLeafChildren)===null||_this$rootNode===void 0?void 0:_this$rootNode.map(node=>node.data);}activate(rootNode){this.rootNode=rootNode;rootNode.group=true;rootNode.level=-1;rootNode.id=ROOT_NODE_ID;rootNode.allLeafChildren=[];rootNode.childrenAfterGroup=[];rootNode.childrenAfterSort=[];rootNode.childrenAfterAggFilter=[];rootNode.childrenAfterFilter=[];this.updateRootSiblingArrays(rootNode);}deactivate(){if(this.rootNode){this.allNodesMap={};this.rootNode=null;}}destroy(){super.destroy();this.allNodesMap={};this.rootNode=null;}setNewRowData(rowData){var rootNode=this.rootNode;if(!rootNode){return;}this.dispatchRowDataUpdateStartedEvent(rowData);rootNode.childrenAfterFilter=null;rootNode.childrenAfterGroup=null;rootNode.childrenAfterAggFilter=null;rootNode.childrenAfterSort=null;rootNode.childrenMapped=null;rootNode.updateHasChildren();this.allNodesMap={};this.nextId=0;this.loadNewRowData(rowData);this.updateRootSiblingArrays(rootNode);}updateRootSiblingArrays(rootNode){var sibling=rootNode.sibling;if(sibling){sibling.childrenAfterFilter=rootNode.childrenAfterFilter;sibling.childrenAfterGroup=rootNode.childrenAfterGroup;sibling.childrenAfterAggFilter=rootNode.childrenAfterAggFilter;sibling.childrenAfterSort=rootNode.childrenAfterSort;sibling.childrenMapped=rootNode.childrenMapped;sibling.allLeafChildren=rootNode.allLeafChildren;}}loadNewRowData(rowData){var _rowData$map;this.rootNode.allLeafChildren=(_rowData$map=rowData===null||rowData===void 0?void 0:rowData.map((dataItem,index)=>this.createRowNode(dataItem,index)))!==null&&_rowData$map!==void 0?_rowData$map:[];}setImmutableRowData(params,rowData){var getRowIdFunc=_getRowIdCallback(this.gos);var reorder=!this.gos.get(\"suppressMaintainUnsortedOrder\");var changedRowNodes=params.changedRowNodes;var processedNodes=/* @__PURE__ */new Set();var rootNode=this.rootNode;var oldAllLeafChildren=rootNode.allLeafChildren;var oldAllLeafChildrenLen=oldAllLeafChildren.length;var nodesAdded=false;var nodesRemoved=false;var nodesUpdated=false;var orderChanged=false;for(var i=0,prevSourceRowIndex=-1,len=rowData.length;i<len;i++){var data=rowData[i];var node=this.getRowNode(getRowIdFunc({data,level:0}));if(!node){nodesAdded=true;node=this.createRowNode(data,-1);changedRowNodes.add(node);}else{if(reorder){var sourceRowIndex=node.sourceRowIndex;orderChanged||(orderChanged=sourceRowIndex<=prevSourceRowIndex||// A node was moved up, so order changed\nnodesAdded);prevSourceRowIndex=sourceRowIndex;}if(node.data!==data){nodesUpdated=true;node.updateData(data);changedRowNodes.update(node);}}processedNodes.add(node);}var nodesToUnselect=[];for(var _i5=0;_i5<oldAllLeafChildrenLen;_i5++){var _node2=oldAllLeafChildren[_i5];if(!processedNodes.has(_node2)){nodesRemoved=true;if(_node2.isSelected()){nodesToUnselect.push(_node2);}if(_node2.pinnedSibling){var _this$beans$pinnedRow3;(_this$beans$pinnedRow3=this.beans.pinnedRowModel)===null||_this$beans$pinnedRow3===void 0||_this$beans$pinnedRow3.pinRow(_node2.pinnedSibling,null);}this.rowNodeDeleted(_node2);changedRowNodes.remove(_node2);}}if(nodesAdded||nodesRemoved||orderChanged){var newAllLeafChildren=new Array(processedNodes.size);var writeIdx=0;if(!reorder){for(var _i6=0;_i6<oldAllLeafChildrenLen;++_i6){var _node3=oldAllLeafChildren[_i6];if(processedNodes.delete(_node3)){_node3.sourceRowIndex=writeIdx;newAllLeafChildren[writeIdx++]=_node3;}}}for(var _node4 of processedNodes){_node4.sourceRowIndex=writeIdx;newAllLeafChildren[writeIdx++]=_node4;}rootNode.allLeafChildren=newAllLeafChildren;var sibling=rootNode.sibling;if(sibling){sibling.allLeafChildren=newAllLeafChildren;}params.rowNodesOrderChanged||(params.rowNodesOrderChanged=orderChanged);}if(nodesAdded||nodesRemoved||orderChanged||nodesUpdated){this.deselectNodes(nodesToUnselect);params.rowDataUpdated=true;}}/** Called when a node needs to be deleted */rowNodeDeleted(node){node.clearRowTopAndRowIndex();var id=node.id;var allNodesMap=this.allNodesMap;if(allNodesMap[id]===node){delete allNodesMap[id];}}updateRowData(rowDataTran,changedRowNodes){this.dispatchRowDataUpdateStartedEvent(rowDataTran.add);var updateRowDataResult={changedRowNodes,rowNodeTransaction:{remove:[],update:[],add:[]},rowsInserted:false};var nodesToUnselect=[];var getRowIdFunc=_getRowIdCallback(this.gos);this.executeRemove(getRowIdFunc,rowDataTran,updateRowDataResult,nodesToUnselect);this.executeUpdate(getRowIdFunc,rowDataTran,updateRowDataResult,nodesToUnselect);this.executeAdd(rowDataTran,updateRowDataResult);this.deselectNodes(nodesToUnselect);return updateRowDataResult;}executeAdd(rowDataTran,result){var add=rowDataTran.add;if(!(add!==null&&add!==void 0&&add.length)){return;}var allLeafChildren=this.rootNode.allLeafChildren;var addIndex=allLeafChildren.length;if(typeof rowDataTran.addIndex===\"number\"){addIndex=this.sanitizeAddIndex(rowDataTran.addIndex);if(addIndex>0){var getDataPath=this.gos.get(\"treeData\")&&this.gos.get(\"getDataPath\");if(getDataPath){for(var i=0;i<allLeafChildren.length;i++){var node=allLeafChildren[i];if((node===null||node===void 0?void 0:node.rowIndex)==addIndex-1){addIndex=i+1;break;}}}}}var addLength=add.length;var changedRowNodes=result.changedRowNodes;var newNodes=new Array(addLength);for(var _i7=0;_i7<addLength;_i7++){var newNode=this.createRowNode(add[_i7],addIndex+_i7);changedRowNodes.add(newNode);newNodes[_i7]=newNode;}var rootNode=this.rootNode;if(addIndex<allLeafChildren.length){var nodesBeforeIndex=allLeafChildren.slice(0,addIndex);var nodesAfterIndex=allLeafChildren.slice(addIndex,allLeafChildren.length);var nodesAfterIndexFirstIndex=nodesBeforeIndex.length+newNodes.length;for(var index=0,length=nodesAfterIndex.length;index<length;++index){nodesAfterIndex[index].sourceRowIndex=nodesAfterIndexFirstIndex+index;}allLeafChildren=[...nodesBeforeIndex,...newNodes,...nodesAfterIndex];result.rowsInserted=true;}else{allLeafChildren=allLeafChildren.concat(newNodes);}rootNode.allLeafChildren=allLeafChildren;var sibling=rootNode.sibling;if(sibling){sibling.allLeafChildren=allLeafChildren;}result.rowNodeTransaction.add=newNodes;}executeRemove(getRowIdFunc,rowDataTran,_ref33,nodesToUnselect){var _rootNode$allLeafChil,_rootNode$allLeafChil2,_rootNode$allLeafChil3;var{changedRowNodes,rowNodeTransaction}=_ref33;var{remove}=rowDataTran;if(!(remove!==null&&remove!==void 0&&remove.length)){return;}var rowIdsRemoved={};remove.forEach(item=>{var rowNode=this.lookupRowNode(getRowIdFunc,item);if(!rowNode){return;}if(rowNode.isSelected()){nodesToUnselect.push(rowNode);}if(rowNode.pinnedSibling){var _this$beans$pinnedRow4;(_this$beans$pinnedRow4=this.beans.pinnedRowModel)===null||_this$beans$pinnedRow4===void 0||_this$beans$pinnedRow4.pinRow(rowNode.pinnedSibling,null);}rowNode.clearRowTopAndRowIndex();rowIdsRemoved[rowNode.id]=true;delete this.allNodesMap[rowNode.id];rowNodeTransaction.remove.push(rowNode);changedRowNodes.remove(rowNode);});var rootNode=this.rootNode;rootNode.allLeafChildren=(_rootNode$allLeafChil=(_rootNode$allLeafChil2=rootNode.allLeafChildren)===null||_rootNode$allLeafChil2===void 0?void 0:_rootNode$allLeafChil2.filter(rowNode=>!rowIdsRemoved[rowNode.id]))!==null&&_rootNode$allLeafChil!==void 0?_rootNode$allLeafChil:null;(_rootNode$allLeafChil3=rootNode.allLeafChildren)===null||_rootNode$allLeafChil3===void 0||_rootNode$allLeafChil3.forEach((node,idx)=>{node.sourceRowIndex=idx;});var sibling=rootNode.sibling;if(sibling){sibling.allLeafChildren=rootNode.allLeafChildren;}}executeUpdate(getRowIdFunc,rowDataTran,_ref34,nodesToUnselect){var{changedRowNodes,rowNodeTransaction}=_ref34;var{update}=rowDataTran;if(!(update!==null&&update!==void 0&&update.length)){return;}update.forEach(item=>{var rowNode=this.lookupRowNode(getRowIdFunc,item);if(!rowNode){return;}rowNode.updateData(item);if(!rowNode.selectable&&rowNode.isSelected()){nodesToUnselect.push(rowNode);}rowNodeTransaction.update.push(rowNode);changedRowNodes.update(rowNode);});}dispatchRowDataUpdateStartedEvent(rowData){this.eventSvc.dispatchEvent({type:\"rowDataUpdateStarted\",firstRowData:rowData!==null&&rowData!==void 0&&rowData.length?rowData[0]:null});}deselectNodes(nodesToUnselect){var _selectionSvc$updateG;var source=\"rowDataChanged\";var selectionSvc=this.beans.selectionSvc;var selectionChanged=nodesToUnselect.length>0;if(selectionChanged){selectionSvc===null||selectionSvc===void 0||selectionSvc.setNodesSelected({newValue:false,nodes:nodesToUnselect,suppressFinishActions:true,source});}selectionSvc===null||selectionSvc===void 0||(_selectionSvc$updateG=selectionSvc.updateGroupsFromChildrenSelections)===null||_selectionSvc$updateG===void 0||_selectionSvc$updateG.call(selectionSvc,source);if(selectionChanged){var _selectionSvc$getSele;this.eventSvc.dispatchEvent({type:\"selectionChanged\",source,selectedNodes:(_selectionSvc$getSele=selectionSvc===null||selectionSvc===void 0?void 0:selectionSvc.getSelectedNodes())!==null&&_selectionSvc$getSele!==void 0?_selectionSvc$getSele:null,serverSideState:null});}}sanitizeAddIndex(addIndex){var _this$rootNode$allLea,_this$rootNode$allLea2;var allChildrenCount=(_this$rootNode$allLea=(_this$rootNode$allLea2=this.rootNode.allLeafChildren)===null||_this$rootNode$allLea2===void 0?void 0:_this$rootNode$allLea2.length)!==null&&_this$rootNode$allLea!==void 0?_this$rootNode$allLea:0;if(addIndex<0||addIndex>=allChildrenCount||Number.isNaN(addIndex)){return allChildrenCount;}return Math.ceil(addIndex);}createRowNode(data,sourceRowIndex){var node=new RowNode(this.beans);node.parent=this.rootNode;node.level=0;node.group=false;node.expanded=false;node.sourceRowIndex=sourceRowIndex;node.setDataAndId(data,String(this.nextId));if(this.allNodesMap[node.id]){_warn(2,{nodeId:node.id});}this.allNodesMap[node.id]=node;this.nextId++;return node;}lookupRowNode(getRowIdFunc,data){var rowNode;if(getRowIdFunc){var id=getRowIdFunc({data,level:0});rowNode=this.allNodesMap[id];if(!rowNode){_error(4,{id});return null;}}else{var _this$rootNode2;rowNode=(_this$rootNode2=this.rootNode)===null||_this$rootNode2===void 0||(_this$rootNode2=_this$rootNode2.allLeafChildren)===null||_this$rootNode2===void 0?void 0:_this$rootNode2.find(node=>node.data===data);if(!rowNode){_error(5,{data});return null;}}return rowNode||null;}};// packages/ag-grid-community/src/interfaces/serverSideTransaction.ts\nvar ServerSideTransactionResultStatus=/* @__PURE__ */(ServerSideTransactionResultStatus2=>{ServerSideTransactionResultStatus2[\"Applied\"]=\"Applied\";ServerSideTransactionResultStatus2[\"StoreNotFound\"]=\"StoreNotFound\";ServerSideTransactionResultStatus2[\"StoreLoading\"]=\"StoreLoading\";ServerSideTransactionResultStatus2[\"StoreWaitingToLoad\"]=\"StoreWaitingToLoad\";ServerSideTransactionResultStatus2[\"StoreLoadingFailed\"]=\"StoreLoadingFailed\";ServerSideTransactionResultStatus2[\"StoreWrongType\"]=\"StoreWrongType\";ServerSideTransactionResultStatus2[\"Cancelled\"]=\"Cancelled\";ServerSideTransactionResultStatus2[\"StoreNotStarted\"]=\"StoreNotStarted\";return ServerSideTransactionResultStatus2;})(ServerSideTransactionResultStatus||{});// packages/ag-grid-community/src/selection/checkboxSelectionComponent.ts\nvar CheckboxSelectionComponentElement={tag:\"div\",cls:\"ag-selection-checkbox\",role:\"presentation\",children:[{tag:\"ag-checkbox\",ref:\"eCheckbox\",role:\"presentation\"}]};var CheckboxSelectionComponent=class extends Component{constructor(){super(CheckboxSelectionComponentElement,[AgCheckboxSelector]);this.eCheckbox=RefPlaceholder;}postConstruct(){this.eCheckbox.setPassive(true);}getCheckboxId(){return this.eCheckbox.getInputElement().id;}onDataChanged(){this.onSelectionChanged();}onSelectableChanged(){this.showOrHideSelect();}onSelectionChanged(){var translate=this.getLocaleTextFunc();var{rowNode,eCheckbox}=this;var state=rowNode.isSelected();var stateName=_getAriaCheckboxStateName(translate,state);var[ariaKey,ariaLabel]=rowNode.selectable?[\"ariaRowToggleSelection\",\"Press Space to toggle row selection\"]:[\"ariaRowSelectionDisabled\",\"Row Selection is disabled for this row\"];var translatedLabel=translate(ariaKey,ariaLabel);eCheckbox.setValue(state,true);eCheckbox.setInputAriaLabel(\"\".concat(translatedLabel,\" (\").concat(stateName,\")\"));}init(params){this.rowNode=params.rowNode;this.column=params.column;this.overrides=params.overrides;this.onSelectionChanged();this.addManagedListeners(this.eCheckbox.getInputElement(),{// we don't want double click on this icon to open a group\ndblclick:_stopPropagationForAgGrid,click:event=>{var _this$beans$selection9;_stopPropagationForAgGrid(event);(_this$beans$selection9=this.beans.selectionSvc)===null||_this$beans$selection9===void 0||_this$beans$selection9.handleSelectionEvent(event,this.rowNode,\"checkboxSelected\");}});this.addManagedListeners(this.rowNode,{rowSelected:this.onSelectionChanged.bind(this),dataChanged:this.onDataChanged.bind(this),selectableChanged:this.onSelectableChanged.bind(this)});this.addManagedPropertyListener(\"rowSelection\",_ref35=>{var{currentValue,previousValue}=_ref35;var curr=typeof currentValue===\"object\"?_getHideDisabledCheckboxes(currentValue):void 0;var prev=typeof previousValue===\"object\"?_getHideDisabledCheckboxes(previousValue):void 0;if(curr!==prev){this.onSelectableChanged();}});var isRowSelectableFunc=_getIsRowSelectable(this.gos);var checkboxVisibleIsDynamic=isRowSelectableFunc||typeof this.getIsVisible()===\"function\";if(checkboxVisibleIsDynamic){var showOrHideSelectListener=this.showOrHideSelect.bind(this);this.addManagedEventListeners({displayedColumnsChanged:showOrHideSelectListener});this.addManagedListeners(this.rowNode,{dataChanged:showOrHideSelectListener,cellChanged:showOrHideSelectListener});this.showOrHideSelect();}this.eCheckbox.getInputElement().setAttribute(\"tabindex\",\"-1\");}showOrHideSelect(){var{column,rowNode,overrides,gos}=this;var selectable=rowNode.selectable;var isVisible=this.getIsVisible();var checkboxes=void 0;if(typeof isVisible===\"function\"){var extraParams=overrides===null||overrides===void 0?void 0:overrides.callbackParams;if(!column){checkboxes=isVisible(_objectSpread(_objectSpread({},extraParams),{},{node:rowNode,data:rowNode.data}));}else{var params=column.createColumnFunctionCallbackParams(rowNode);checkboxes=isVisible(_objectSpread(_objectSpread({},extraParams),params));}}else{checkboxes=isVisible!==null&&isVisible!==void 0?isVisible:false;}var disabled=selectable&&!checkboxes||!selectable&&checkboxes;var visible=selectable||checkboxes;var so=gos.get(\"rowSelection\");var showDisabledCheckboxes=so&&typeof so!==\"string\"?!_getHideDisabledCheckboxes(so):!!(column!==null&&column!==void 0&&column.getColDef().showDisabledCheckboxes);this.setVisible(visible&&(disabled?showDisabledCheckboxes:true));this.setDisplayed(visible&&(disabled?showDisabledCheckboxes:true));if(visible){this.eCheckbox.setDisabled(disabled);}if(overrides!==null&&overrides!==void 0&&overrides.removeHidden){this.setDisplayed(visible);return;}}getIsVisible(){var _this$column;var overrides=this.overrides;if(overrides){return overrides.isVisible;}var so=this.gos.get(\"rowSelection\");if(so&&typeof so!==\"string\"){return _getCheckboxes(so);}return(_this$column=this.column)===null||_this$column===void 0||(_this$column=_this$column.getColDef())===null||_this$column===void 0?void 0:_this$column.checkboxSelection;}};// packages/ag-grid-community/src/selection/rowRangeSelectionContext.ts\nvar RowRangeSelectionContext=class{constructor(rowModel,pinnedRowModel){this.rowModel=rowModel;this.pinnedRowModel=pinnedRowModel;/** Whether the user is currently selecting all nodes either via the header checkbox or API */this.selectAll=false;this.rootId=null;/**\n     * Note that the \"end\" `RowNode` may come before or after the \"root\" `RowNode` in the\n     * actual grid.\n     */this.endId=null;this.cachedRange=[];}reset(){this.rootId=null;this.endId=null;this.cachedRange.length=0;}setRoot(node){this.rootId=node.id;this.endId=null;this.cachedRange.length=0;}setEndRange(end){this.endId=end.id;this.cachedRange.length=0;}getRange(){if(this.cachedRange.length===0){var _this$getNodesInRange;var root=this.getRoot();var end=this.getEnd();if(root==null||end==null){return this.cachedRange;}this.cachedRange=(_this$getNodesInRange=this.getNodesInRange(root,end))!==null&&_this$getNodesInRange!==void 0?_this$getNodesInRange:[];}return this.cachedRange;}isInRange(node){if(this.rootId===null){return false;}return this.getRange().some(nodeInRange=>nodeInRange.id===node.id);}getRoot(fallback){if(this.rootId){return this.getRowNode(this.rootId);}if(fallback){this.setRoot(fallback);return fallback;}}getEnd(){if(this.endId){return this.getRowNode(this.endId);}}getRowNode(id){var node;var{rowModel,pinnedRowModel}=this;node!==null&&node!==void 0?node:node=rowModel.getRowNode(id);if(pinnedRowModel!==null&&pinnedRowModel!==void 0&&pinnedRowModel.isManual()){node!==null&&node!==void 0?node:node=pinnedRowModel.getPinnedRowById(id,\"top\");node!==null&&node!==void 0?node:node=pinnedRowModel.getPinnedRowById(id,\"bottom\");}return node;}/**\n   * Truncates the range to the given node (assumed to be within the current range).\n   * Returns nodes that remain in the current range and those that should be removed\n   *\n   * @param node - Node at which to truncate the range\n   * @returns Object of nodes to either keep or discard (i.e. deselect) from the range\n   */truncate(node){var range=this.getRange();if(range.length===0){return{keep:[],discard:[]};}var discardAfter=range[0].id===this.rootId;var idx=range.findIndex(rowNode=>rowNode.id===node.id);if(idx>-1){var above=range.slice(0,idx);var below=range.slice(idx+1);this.setEndRange(node);return discardAfter?{keep:above,discard:below}:{keep:below,discard:above};}else{return{keep:range,discard:[]};}}/**\n   * Extends the range to the given node. Returns nodes that remain in the current range\n   * and those that should be removed.\n   *\n   * @param node - Node marking the new end of the range\n   * @returns Object of nodes to either keep or discard (i.e. deselect) from the range\n   */extend(node){var groupSelectsChildren=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var root=this.getRoot();if(root==null){var keep=this.getRange().slice();if(groupSelectsChildren){node.depthFirstSearch(node2=>!node2.group&&keep.push(node2));}keep.push(node);this.setRoot(node);return{keep,discard:[]};}var newRange=this.getNodesInRange(root,node);if(!newRange){this.setRoot(node);return{keep:[node],discard:[]};}if(newRange.find(newRangeNode=>newRangeNode.id===this.endId)){this.setEndRange(node);return{keep:this.getRange(),discard:[]};}else{var discard=this.getRange().slice();this.setEndRange(node);return{keep:this.getRange(),discard};}}getNodesInRange(start,end){var{pinnedRowModel,rowModel}=this;if(!(pinnedRowModel!==null&&pinnedRowModel!==void 0&&pinnedRowModel.isManual())){return rowModel.getNodesInRangeForSelection(start,end);}if(start.rowPinned===\"top\"&&!end.rowPinned){var _rowModel$getNodesInR;var pinnedRange=_getNodesInRangeForSelection(pinnedRowModel,\"top\",start,void 0);return pinnedRange.concat((_rowModel$getNodesInR=rowModel.getNodesInRangeForSelection(rowModel.getRow(0),end))!==null&&_rowModel$getNodesInR!==void 0?_rowModel$getNodesInR:[]);}if(start.rowPinned===\"bottom\"&&!end.rowPinned){var _rowModel$getNodesInR2;var _pinnedRange=_getNodesInRangeForSelection(pinnedRowModel,\"bottom\",void 0,start);var count=rowModel.getRowCount();var lastMain=rowModel.getRow(count-1);return((_rowModel$getNodesInR2=rowModel.getNodesInRangeForSelection(end,lastMain))!==null&&_rowModel$getNodesInR2!==void 0?_rowModel$getNodesInR2:[]).concat(_pinnedRange);}if(!start.rowPinned&&!end.rowPinned){return rowModel.getNodesInRangeForSelection(start,end);}if(start.rowPinned===\"top\"&&end.rowPinned===\"top\"){return _getNodesInRangeForSelection(pinnedRowModel,\"top\",start,end);}if(start.rowPinned===\"bottom\"&&end.rowPinned===\"top\"){var _rowModel$getNodesInR3;var top=_getNodesInRangeForSelection(pinnedRowModel,\"top\",end,void 0);var bottom=_getNodesInRangeForSelection(pinnedRowModel,\"bottom\",void 0,start);var first=rowModel.getRow(0);var last=rowModel.getRow(rowModel.getRowCount()-1);return top.concat((_rowModel$getNodesInR3=rowModel.getNodesInRangeForSelection(first,last))!==null&&_rowModel$getNodesInR3!==void 0?_rowModel$getNodesInR3:[]).concat(bottom);}if(!start.rowPinned&&end.rowPinned===\"top\"){var _rowModel$getNodesInR4;var pinned=_getNodesInRangeForSelection(pinnedRowModel,\"top\",end,void 0);return pinned.concat((_rowModel$getNodesInR4=rowModel.getNodesInRangeForSelection(rowModel.getRow(0),start))!==null&&_rowModel$getNodesInR4!==void 0?_rowModel$getNodesInR4:[]);}if(start.rowPinned===\"top\"&&end.rowPinned===\"bottom\"){var _rowModel$getNodesInR5;var _top=_getNodesInRangeForSelection(pinnedRowModel,\"top\",start,void 0);var _bottom=_getNodesInRangeForSelection(pinnedRowModel,\"bottom\",void 0,end);var _first=rowModel.getRow(0);var _last2=rowModel.getRow(rowModel.getRowCount()-1);return _top.concat((_rowModel$getNodesInR5=rowModel.getNodesInRangeForSelection(_first,_last2))!==null&&_rowModel$getNodesInR5!==void 0?_rowModel$getNodesInR5:[]).concat(_bottom);}if(start.rowPinned===\"bottom\"&&end.rowPinned===\"bottom\"){return _getNodesInRangeForSelection(pinnedRowModel,\"bottom\",start,end);}if(!start.rowPinned&&end.rowPinned===\"bottom\"){var _rowModel$getNodesInR6;var _pinned=_getNodesInRangeForSelection(pinnedRowModel,\"bottom\",void 0,end);var _last3=rowModel.getRow(rowModel.getRowCount());return((_rowModel$getNodesInR6=rowModel.getNodesInRangeForSelection(start,_last3))!==null&&_rowModel$getNodesInR6!==void 0?_rowModel$getNodesInR6:[]).concat(_pinned);}return null;}};// packages/ag-grid-community/src/selection/selectAllFeature.ts\nvar SelectAllFeature=class extends BeanStub{constructor(column){super();this.column=column;this.cbSelectAllVisible=false;this.processingEventFromCheckbox=false;}onSpaceKeyDown(e){var checkbox=this.cbSelectAll;if(checkbox.isDisplayed()&&!checkbox.getGui().contains(_getActiveDomElement(this.beans))){e.preventDefault();checkbox.setValue(!checkbox.getValue());}}getCheckboxGui(){return this.cbSelectAll.getGui();}setComp(ctrl){this.headerCellCtrl=ctrl;var cbSelectAll=this.createManagedBean(new AgCheckbox());this.cbSelectAll=cbSelectAll;cbSelectAll.addCss(\"ag-header-select-all\");_setAriaRole(cbSelectAll.getGui(),\"presentation\");this.showOrHideSelectAll();var updateStateOfCheckbox=this.updateStateOfCheckbox.bind(this);this.addManagedEventListeners({newColumnsLoaded:()=>this.showOrHideSelectAll(),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),selectionChanged:updateStateOfCheckbox,paginationChanged:updateStateOfCheckbox,modelUpdated:updateStateOfCheckbox});this.addManagedPropertyListener(\"rowSelection\",_ref36=>{var{currentValue,previousValue}=_ref36;var getSelectAll=rowSelection=>typeof rowSelection===\"string\"||!rowSelection||rowSelection.mode===\"singleRow\"?void 0:rowSelection.selectAll;if(getSelectAll(currentValue)!==getSelectAll(previousValue)){this.showOrHideSelectAll();}this.updateStateOfCheckbox();});this.addManagedListeners(cbSelectAll,{fieldValueChanged:this.onCbSelectAll.bind(this)});cbSelectAll.getInputElement().setAttribute(\"tabindex\",\"-1\");this.refreshSelectAllLabel();}onDisplayedColumnsChanged(e){if(!this.isAlive()){return;}this.showOrHideSelectAll(e.source===\"uiColumnMoved\");}showOrHideSelectAll(){var fromColumnMoved=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var cbSelectAllVisible=this.isCheckboxSelection();this.cbSelectAllVisible=cbSelectAllVisible;this.cbSelectAll.setDisplayed(cbSelectAllVisible);if(cbSelectAllVisible){this.checkRightRowModelType(\"selectAllCheckbox\");this.checkSelectionType(\"selectAllCheckbox\");this.updateStateOfCheckbox();}this.refreshSelectAllLabel(fromColumnMoved);}updateStateOfCheckbox(){if(!this.cbSelectAllVisible||this.processingEventFromCheckbox){return;}this.processingEventFromCheckbox=true;var selectAllMode=this.getSelectAllMode();var selectionSvc=this.beans.selectionSvc;var cbSelectAll=this.cbSelectAll;var allSelected=selectionSvc.getSelectAllState(selectAllMode);cbSelectAll.setValue(allSelected);var hasNodesToSelect=selectionSvc.hasNodesToSelect(selectAllMode);cbSelectAll.setDisabled(!hasNodesToSelect);this.refreshSelectAllLabel();this.processingEventFromCheckbox=false;}refreshSelectAllLabel(){var fromColumnMoved=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var translate=this.getLocaleTextFunc();var{headerCellCtrl,cbSelectAll,cbSelectAllVisible}=this;var checked=cbSelectAll.getValue();var ariaStatus=checked?translate(\"ariaChecked\",\"checked\"):translate(\"ariaUnchecked\",\"unchecked\");var ariaLabel=translate(\"ariaRowSelectAll\",\"Press Space to toggle all rows selection\");headerCellCtrl.setAriaDescriptionProperty(\"selectAll\",cbSelectAllVisible?\"\".concat(ariaLabel,\" (\").concat(ariaStatus,\")\"):null);cbSelectAll.setInputAriaLabel(translate(\"ariaHeaderSelection\",\"Column with Header Selection\"));if(!fromColumnMoved){headerCellCtrl.announceAriaDescription();}}checkSelectionType(feature){var isMultiSelect=_isMultiRowSelection(this.gos);if(!isMultiSelect){_warn(128,{feature});return false;}return true;}checkRightRowModelType(feature){var{gos,rowModel}=this.beans;var rowModelMatches=_isClientSideRowModel(gos)||_isServerSideRowModel(gos);if(!rowModelMatches){_warn(129,{feature,rowModel:rowModel.getType()});return false;}return true;}onCbSelectAll(){if(this.processingEventFromCheckbox){return;}if(!this.cbSelectAllVisible){return;}var value=this.cbSelectAll.getValue();var selectAll2=this.getSelectAllMode();var source=\"uiSelectAll\";if(selectAll2===\"currentPage\"){source=\"uiSelectAllCurrentPage\";}else if(selectAll2===\"filtered\"){source=\"uiSelectAllFiltered\";}var params={source,selectAll:selectAll2};var selectionSvc=this.beans.selectionSvc;if(value){selectionSvc.selectAllRowNodes(params);}else{selectionSvc.deselectAllRowNodes(params);}}/**\n   * Checkbox is enabled when either the `headerCheckbox` option is enabled in the new selection API\n   * or `headerCheckboxSelection` is enabled in the legacy API.\n   */isCheckboxSelection(){var{column,gos,beans}=this;var rowSelection=gos.get(\"rowSelection\");var newHeaderCheckbox=typeof rowSelection===\"object\";var featureName=newHeaderCheckbox?\"headerCheckbox\":\"headerCheckboxSelection\";return isCheckboxSelection(beans,column)&&this.checkRightRowModelType(featureName)&&this.checkSelectionType(featureName);}getSelectAllMode(){var selectAll2=_getSelectAll(this.gos,false);if(selectAll2){return selectAll2;}var{headerCheckboxSelectionCurrentPageOnly,headerCheckboxSelectionFilteredOnly}=this.column.getColDef();if(headerCheckboxSelectionCurrentPageOnly){return\"currentPage\";}if(headerCheckboxSelectionFilteredOnly){return\"filtered\";}return\"all\";}destroy(){super.destroy();this.cbSelectAll=void 0;this.headerCellCtrl=void 0;}};function isCheckboxSelection(_ref37,column){var{gos,selectionColSvc}=_ref37;var rowSelection=gos.get(\"rowSelection\");var colDef=column.getColDef();var{headerCheckboxSelection}=colDef;var result=false;var newHeaderCheckbox=typeof rowSelection===\"object\";if(newHeaderCheckbox){var isSelectionCol=isColumnSelectionCol(column);var isAutoCol=isColumnGroupAutoCol(column);var location=_getCheckboxLocation(rowSelection);if(location===\"autoGroupColumn\"&&isAutoCol||isSelectionCol&&selectionColSvc!==null&&selectionColSvc!==void 0&&selectionColSvc.isSelectionColumnEnabled()){result=_getHeaderCheckbox(rowSelection);}}else{if(typeof headerCheckboxSelection===\"function\"){result=headerCheckboxSelection(_addGridCommonParams(gos,{column,colDef}));}else{result=!!headerCheckboxSelection;}}return result;}// packages/ag-grid-community/src/selection/baseSelectionService.ts\nvar BaseSelectionService=class extends BeanStub{postConstruct(){var{gos,beans}=this;this.selectionCtx=new RowRangeSelectionContext(beans.rowModel,beans.pinnedRowModel);this.addManagedPropertyListeners([\"isRowSelectable\",\"rowSelection\"],()=>{var callback=_getIsRowSelectable(gos);if(callback!==this.isRowSelectable){this.isRowSelectable=callback;this.updateSelectable();}});this.isRowSelectable=_getIsRowSelectable(gos);this.addManagedEventListeners({cellValueChanged:e=>this.updateRowSelectable(e.node),rowNodeDataChanged:e=>this.updateRowSelectable(e.node)});}destroy(){super.destroy();this.selectionCtx.reset();}createCheckboxSelectionComponent(){return new CheckboxSelectionComponent();}createSelectAllFeature(column){if(isCheckboxSelection(this.beans,column)){return new SelectAllFeature(column);}}isMultiSelect(){return _isMultiRowSelection(this.gos);}onRowCtrlSelected(rowCtrl,hasFocusFunc,gui){var selected=!!rowCtrl.rowNode.isSelected();rowCtrl.forEachGui(gui,gui2=>{gui2.rowComp.toggleCss(\"ag-row-selected\",selected);var element=gui2.element;_setAriaSelected(element,selected);var hasFocus=element.contains(_getActiveDomElement(this.beans));if(hasFocus){hasFocusFunc(gui2);}});}announceAriaRowSelection(rowNode){var _this$beans$ariaAnnou2;if(this.isRowSelectionBlocked(rowNode)){return;}var selected=rowNode.isSelected();if(!rowNode.selectable){return;}var translate=this.getLocaleTextFunc();var label=translate(selected?\"ariaRowDeselect\":\"ariaRowSelect\",\"Press SPACE to \".concat(selected?\"deselect\":\"select\",\" this row\"));(_this$beans$ariaAnnou2=this.beans.ariaAnnounce)===null||_this$beans$ariaAnnou2===void 0||_this$beans$ariaAnnou2.announceValue(label,\"rowSelection\");}isRowSelectionBlocked(rowNode){return!rowNode.selectable||rowNode.rowPinned&&!_isManualPinnedRow(rowNode)||!_isRowSelection(this.gos);}updateRowSelectable(rowNode,suppressSelectionUpdate){var _this$isRowSelectable,_this$isRowSelectable2;var selectable=rowNode.rowPinned&&rowNode.pinnedSibling?// If row node is pinned sibling, copy selectable status over from sibling row node\nrowNode.pinnedSibling.selectable:// otherwise calculate selectable state directly\n(_this$isRowSelectable=(_this$isRowSelectable2=this.isRowSelectable)===null||_this$isRowSelectable2===void 0?void 0:_this$isRowSelectable2.call(this,rowNode))!==null&&_this$isRowSelectable!==void 0?_this$isRowSelectable:true;this.setRowSelectable(rowNode,selectable,suppressSelectionUpdate);return selectable;}setRowSelectable(rowNode,newVal,suppressSelectionUpdate){if(rowNode.selectable!==newVal){rowNode.selectable=newVal;rowNode.dispatchRowEvent(\"selectableChanged\");if(suppressSelectionUpdate){return;}var isGroupSelectsChildren=_getGroupSelectsDescendants(this.gos);if(isGroupSelectsChildren){var selected=this.calculateSelectedFromChildren(rowNode);this.setNodesSelected({nodes:[rowNode],newValue:selected!==null&&selected!==void 0?selected:false,source:\"selectableChanged\"});return;}if(rowNode.isSelected()&&!rowNode.selectable){this.setNodesSelected({nodes:[rowNode],newValue:false,source:\"selectableChanged\"});}}}calculateSelectedFromChildren(rowNode){var _rowNode$childrenAfte;var atLeastOneSelected=false;var atLeastOneDeSelected=false;if(!((_rowNode$childrenAfte=rowNode.childrenAfterGroup)!==null&&_rowNode$childrenAfte!==void 0&&_rowNode$childrenAfte.length)){return rowNode.selectable?rowNode.__selected:null;}for(var i=0;i<rowNode.childrenAfterGroup.length;i++){var child=rowNode.childrenAfterGroup[i];var childState=child.isSelected();if(!child.selectable){var selectable=this.calculateSelectedFromChildren(child);if(selectable===null){continue;}childState=selectable;}switch(childState){case true:atLeastOneSelected=true;break;case false:atLeastOneDeSelected=true;break;default:return void 0;}}if(atLeastOneSelected&&atLeastOneDeSelected){return void 0;}if(atLeastOneSelected){return true;}if(atLeastOneDeSelected){return false;}if(!rowNode.selectable){return null;}return rowNode.__selected;}selectRowNode(rowNode,newValue,e){var source=arguments.length>3&&arguments[3]!==undefined?arguments[3]:\"api\";var selectionNotAllowed=!rowNode.selectable&&newValue;var selectionNotChanged=rowNode.__selected===newValue;if(selectionNotAllowed||selectionNotChanged){return false;}rowNode.__selected=newValue;rowNode.dispatchRowEvent(\"rowSelected\");var sibling=rowNode.sibling;if(sibling&&sibling.footer&&sibling.__localEventService){sibling.dispatchRowEvent(\"rowSelected\");}var pinnedSibling=rowNode.pinnedSibling;if(pinnedSibling&&pinnedSibling.rowPinned&&pinnedSibling.__localEventService){pinnedSibling.dispatchRowEvent(\"rowSelected\");}this.eventSvc.dispatchEvent(_objectSpread(_objectSpread({},_createGlobalRowEvent(rowNode,this.gos,\"rowSelected\")),{},{event:e||null,source}));return true;}isCellCheckboxSelection(column,rowNode){var so=this.gos.get(\"rowSelection\");if(so&&typeof so!==\"string\"){var checkbox=isColumnSelectionCol(column)&&_getCheckboxes(so);return column.isColumnFunc(rowNode,checkbox);}else{return column.isColumnFunc(rowNode,column.colDef.checkboxSelection);}}inferNodeSelections(node,shiftKey,metaKey,source){var{gos,selectionCtx}=this;var currentSelection=node.isSelected();var groupSelectsDescendants=_getGroupSelectsDescendants(gos);var enableClickSelection=_getEnableSelection(gos);var enableDeselection=_getEnableDeselection(gos);var isMultiSelect=this.isMultiSelect();var isRowClicked=source===\"rowClicked\";if(isRowClicked&&!(enableClickSelection||enableDeselection))return null;if(shiftKey&&metaKey&&isMultiSelect){var root=selectionCtx.getRoot();if(!root){return null;}else if(!root.isSelected()){var partition=selectionCtx.extend(node,groupSelectsDescendants);return{select:[],deselect:partition.keep,reset:false};}else{var _partition=selectionCtx.isInRange(node)?selectionCtx.truncate(node):selectionCtx.extend(node,groupSelectsDescendants);return{deselect:_partition.discard,select:_partition.keep,reset:false};}}else if(shiftKey&&isMultiSelect){var fallback=selectionCtx.selectAll?this.beans.rowModel.getRow(0):void 0;var _root=selectionCtx.getRoot(fallback);var _partition2=selectionCtx.isInRange(node)?selectionCtx.truncate(node):selectionCtx.extend(node,groupSelectsDescendants);return{select:_partition2.keep,deselect:_partition2.discard,reset:selectionCtx.selectAll||!!(_root&&!_root.isSelected())};}else if(metaKey){if(isRowClicked){var newValue=!currentSelection;var selectingWhenDisabled=newValue&&!enableClickSelection;var deselectingWhenDisabled=!newValue&&!enableDeselection;if(selectingWhenDisabled||deselectingWhenDisabled)return null;selectionCtx.setRoot(node);return{node,newValue,clearSelection:false};}selectionCtx.setRoot(node);return{node,newValue:!currentSelection,clearSelection:!isMultiSelect};}else{selectionCtx.setRoot(node);var enableSelectionWithoutKeys=_getEnableSelectionWithoutKeys(gos);var groupSelectsFiltered=_getGroupSelection(gos)===\"filteredDescendants\";var shouldClear=isRowClicked&&(!enableSelectionWithoutKeys||!enableClickSelection);if(groupSelectsFiltered&&currentSelection===void 0&&_isClientSideRowModel(gos)){return{node,newValue:false,clearSelection:!isMultiSelect||shouldClear};}if(isRowClicked){var _newValue=currentSelection?!enableSelectionWithoutKeys:enableClickSelection;var _selectingWhenDisabled=_newValue&&!enableClickSelection;var _deselectingWhenDisabled=!_newValue&&!enableDeselection;var wouldStateBeUnchanged=_newValue===currentSelection&&!shouldClear;if(wouldStateBeUnchanged||_selectingWhenDisabled||_deselectingWhenDisabled)return null;return{node,newValue:_newValue,clearSelection:!isMultiSelect||shouldClear,keepDescendants:node.group&&groupSelectsDescendants};}return{node,newValue:!currentSelection,clearSelection:!isMultiSelect||shouldClear};}}};// packages/ag-grid-community/src/widgets/agRadioButton.ts\nvar AgRadioButton=class extends AgCheckbox{constructor(config){super(config,\"ag-radio-button\",\"radio\");}isSelected(){return this.eInput.checked;}toggle(){if(this.eInput.disabled){return;}if(!this.isSelected()){this.setValue(true);}}addInputListeners(){super.addInputListeners();this.addManagedEventListeners({checkboxChanged:this.onChange.bind(this)});}/**\n   * This ensures that if another radio button in the same named group is selected, we deselect this radio button.\n   * By default the browser does this for you, but we are managing classes ourselves in order to ensure input\n   * elements are styled correctly in IE11, and the DOM 'changed' event is only fired when a button is selected,\n   * not deselected, so we need to use our own event.\n   */onChange(event){var eInput=this.eInput;if(event.selected&&event.name&&eInput.name&&eInput.name===event.name&&event.id&&eInput.id!==event.id){this.setValue(false,true);}}};// packages/ag-grid-community/src/widgets/agToggleButton.css-GENERATED.ts\nvar agToggleButtonCSS=/*css*/\".ag-toggle-button{flex:none;min-width:unset;width:unset}.ag-toggle-button-input-wrapper{background-color:var(--ag-toggle-button-off-background-color);border-radius:calc(var(--ag-toggle-button-height)*.5);flex:none;height:var(--ag-toggle-button-height);max-width:var(--ag-toggle-button-width);min-width:var(--ag-toggle-button-width);position:relative;transition:background-color .1s;:where(.ag-toggle-button-input){-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:block;height:var(--ag-toggle-button-height);margin:0;max-width:var(--ag-toggle-button-width);min-width:var(--ag-toggle-button-width);opacity:0}&:before{background-color:var(--ag-toggle-button-switch-background-color);border-radius:100%;content:\\\"\\\";display:block;height:calc(var(--ag-toggle-button-height) - var(--ag-toggle-button-switch-inset)*2);left:var(--ag-toggle-button-switch-inset);pointer-events:none;position:absolute;top:var(--ag-toggle-button-switch-inset);transition:left .1s;width:calc(var(--ag-toggle-button-height) - var(--ag-toggle-button-switch-inset)*2)}&.ag-checked{background-color:var(--ag-toggle-button-on-background-color);&:before{left:calc(100% - var(--ag-toggle-button-height) + var(--ag-toggle-button-switch-inset))}}&:focus-within{box-shadow:var(--ag-focus-shadow)}&.ag-disabled{opacity:.5}}\";// packages/ag-grid-community/src/widgets/agToggleButton.ts\nvar AgToggleButton=class extends AgCheckbox{constructor(config){super(config,\"ag-toggle-button\");this.registerCSS(agToggleButtonCSS);}setValue(value,silent){super.setValue(value,silent);this.toggleCss(\"ag-selected\",this.getValue());return this;}};var AgToggleButtonSelector={selector:\"AG-TOGGLE-BUTTON\",component:AgToggleButton};// packages/ag-grid-community/src/widgets/agInputTextField.ts\nvar AgInputTextField=class extends AgAbstractInputField{constructor(config){var className=arguments.length>1&&arguments[1]!==undefined?arguments[1]:\"ag-text-field\";var inputType=arguments.length>2&&arguments[2]!==undefined?arguments[2]:\"text\";super(config,className,inputType);}postConstruct(){super.postConstruct();if(this.config.allowedCharPattern){this.preventDisallowedCharacters();}}setValue(value,silent){var eInput=this.eInput;if(eInput.value!==value){eInput.value=_exists(value)?value:\"\";}return super.setValue(value,silent);}/** Used to set an initial value into the input without necessarily setting `this.value` or triggering events (e.g. to set an invalid value) */setStartValue(value){this.setValue(value,true);}preventDisallowedCharacters(){var pattern=new RegExp(\"[\".concat(this.config.allowedCharPattern,\"]\"));var preventCharacters=event=>{if(!_isEventFromPrintableCharacter(event)){return;}if(event.key&&!pattern.test(event.key)){event.preventDefault();}};this.addManagedListeners(this.eInput,{keydown:preventCharacters,paste:e=>{var _e$clipboardData;var text=(_e$clipboardData=e.clipboardData)===null||_e$clipboardData===void 0?void 0:_e$clipboardData.getData(\"text\");if(text&&text.split(\"\").some(c=>!pattern.test(c))){e.preventDefault();}}});}};var AgInputTextFieldSelector={selector:\"AG-INPUT-TEXT-FIELD\",component:AgInputTextField};// packages/ag-grid-community/src/widgets/agInputTextArea.ts\nvar AgInputTextArea=class extends AgAbstractInputField{constructor(config){super(config,\"ag-text-area\",null,\"textarea\");}setValue(value,silent){var ret=super.setValue(value,silent);this.eInput.value=value;return ret;}setCols(cols){this.eInput.cols=cols;return this;}setRows(rows){this.eInput.rows=rows;return this;}};var AgInputTextAreaSelector={selector:\"AG-INPUT-TEXT-AREA\",component:AgInputTextArea};// packages/ag-grid-community/src/widgets/agInputNumberField.ts\nvar AgInputNumberField=class extends AgInputTextField{constructor(config){super(config,\"ag-number-field\",\"number\");}postConstruct(){super.postConstruct();var eInput=this.eInput;this.addManagedListeners(eInput,{blur:()=>{var floatedValue=parseFloat(eInput.value);var value=isNaN(floatedValue)?\"\":this.normalizeValue(floatedValue.toString());if(this.value!==value){this.setValue(value);}},wheel:this.onWheel.bind(this)});eInput.step=\"any\";var{precision,min,max,step}=this.config;if(typeof precision===\"number\")this.setPrecision(precision);if(typeof min===\"number\")this.setMin(min);if(typeof max===\"number\")this.setMax(max);if(typeof step===\"number\")this.setStep(step);}onWheel(e){if(_getActiveDomElement(this.beans)===this.eInput){e.preventDefault();}}normalizeValue(value){if(value===\"\"){return\"\";}if(this.precision!=null){value=this.adjustPrecision(value);}return value;}adjustPrecision(value,isScientificNotation){var precision=this.precision;if(precision==null){return value;}if(isScientificNotation){var floatString=parseFloat(value).toFixed(precision);return parseFloat(floatString).toString();}var parts=String(value).split(\".\");if(parts.length>1){if(parts[1].length<=precision){return value;}else if(precision>0){return\"\".concat(parts[0],\".\").concat(parts[1].slice(0,precision));}}return parts[0];}setMin(min){if(this.min===min){return this;}this.min=min;_addOrRemoveAttribute(this.eInput,\"min\",min);return this;}setMax(max){if(this.max===max){return this;}this.max=max;_addOrRemoveAttribute(this.eInput,\"max\",max);return this;}setPrecision(precision){this.precision=precision;return this;}setStep(step){if(this.step===step){return this;}this.step=step;_addOrRemoveAttribute(this.eInput,\"step\",step);return this;}setValue(value,silent){return this.setValueOrInputValue(v=>super.setValue(v,silent),()=>this,value);}setStartValue(value){return this.setValueOrInputValue(v=>super.setValue(v,true),v=>{this.eInput.value=v;},value);}setValueOrInputValue(setValueFunc,setInputValueOnlyFunc,value){if(_exists(value)){var setInputValueOnly=this.isScientificNotation(value);if(setInputValueOnly&&this.eInput.validity.valid){return setValueFunc(value);}if(!setInputValueOnly){value=this.adjustPrecision(value);var normalizedValue=this.normalizeValue(value);setInputValueOnly=value!=normalizedValue;}if(setInputValueOnly){return setInputValueOnlyFunc(value);}}return setValueFunc(value);}getValue(){var eInput=this.eInput;if(!eInput.validity.valid){return void 0;}var inputValue=eInput.value;if(this.isScientificNotation(inputValue)){return this.adjustPrecision(inputValue,true);}return super.getValue();}isScientificNotation(value){return typeof value===\"string\"&&value.includes(\"e\");}};var AgInputNumberFieldSelector={selector:\"AG-INPUT-NUMBER-FIELD\",component:AgInputNumberField};// packages/ag-grid-community/src/widgets/agInputDateField.ts\nvar AgInputDateField=class extends AgInputTextField{constructor(config){super(config,\"ag-date-field\",\"date\");}postConstruct(){super.postConstruct();var usingSafari=_isBrowserSafari();this.addManagedListeners(this.eInput,{wheel:this.onWheel.bind(this),mousedown:()=>{if(this.isDisabled()||usingSafari){return;}this.eInput.focus();}});this.eInput.step=\"any\";}onWheel(e){if(_getActiveDomElement(this.beans)===this.eInput){e.preventDefault();}}setMin(minDate){var _serialiseDate2;var min=minDate instanceof Date?(_serialiseDate2=_serialiseDate(minDate!==null&&minDate!==void 0?minDate:null,!!this.includeTime))!==null&&_serialiseDate2!==void 0?_serialiseDate2:void 0:minDate;if(this.min===min){return this;}this.min=min;_addOrRemoveAttribute(this.eInput,\"min\",min);return this;}setMax(maxDate){var _serialiseDate3;var max=maxDate instanceof Date?(_serialiseDate3=_serialiseDate(maxDate!==null&&maxDate!==void 0?maxDate:null,!!this.includeTime))!==null&&_serialiseDate3!==void 0?_serialiseDate3:void 0:maxDate;if(this.max===max){return this;}this.max=max;_addOrRemoveAttribute(this.eInput,\"max\",max);return this;}setStep(step){if(this.step===step){return this;}this.step=step;_addOrRemoveAttribute(this.eInput,\"step\",step);return this;}setIncludeTime(includeTime){if(this.includeTime===includeTime){return this;}this.includeTime=includeTime;super.setInputType(includeTime?\"datetime-local\":\"date\");if(includeTime)this.setStep(1);return this;}getDate(){var _parseDateTimeFromStr;if(!this.eInput.validity.valid){return void 0;}return(_parseDateTimeFromStr=_parseDateTimeFromString(this.getValue()))!==null&&_parseDateTimeFromStr!==void 0?_parseDateTimeFromStr:void 0;}setDate(date,silent){this.setValue(_serialiseDate(date!==null&&date!==void 0?date:null,this.includeTime),silent);}};var AgInputDateFieldSelector={selector:\"AG-INPUT-DATE-FIELD\",component:AgInputDateField};// packages/ag-grid-community/src/widgets/agList.ts\nvar AgList=class extends Component{constructor(){var cssIdentifier=arguments.length>0&&arguments[0]!==undefined?arguments[0]:\"default\";var unFocusable=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;super({tag:\"div\",cls:\"ag-list ag-\".concat(cssIdentifier,\"-list\")});this.cssIdentifier=cssIdentifier;this.unFocusable=unFocusable;this.activeClass=\"ag-active-item\";this.options=[];this.itemEls=[];}postConstruct(){var eGui=this.getGui();this.addManagedElementListeners(eGui,{mouseleave:()=>this.clearHighlighted()});if(this.unFocusable){return;}this.addManagedElementListeners(eGui,{keydown:this.handleKeyDown.bind(this)});}handleKeyDown(e){var key=e.key;switch(key){case KeyCode.ENTER:if(!this.highlightedEl){this.setValue(this.getValue());}else{var pos=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(pos);}break;case KeyCode.DOWN:case KeyCode.UP:e.preventDefault();this.navigate(key);break;case KeyCode.PAGE_DOWN:case KeyCode.PAGE_UP:case KeyCode.PAGE_HOME:case KeyCode.PAGE_END:e.preventDefault();this.navigateToPage(key);break;}}navigate(key){var isDown=key===KeyCode.DOWN;var itemToHighlight;var{itemEls,highlightedEl}=this;if(!highlightedEl){itemToHighlight=itemEls[isDown?0:itemEls.length-1];}else{var currentIdx=itemEls.indexOf(highlightedEl);var nextPos=currentIdx+(isDown?1:-1);nextPos=Math.min(Math.max(nextPos,0),itemEls.length-1);itemToHighlight=itemEls[nextPos];}this.highlightItem(itemToHighlight);}navigateToPage(key){var{itemEls,highlightedEl}=this;if(!highlightedEl||itemEls.length===0){return;}var currentIdx=itemEls.indexOf(highlightedEl);var rowCount=this.options.length-1;var itemHeight=itemEls[0].clientHeight;var pageSize=Math.floor(this.getGui().clientHeight/itemHeight);var newIndex=-1;if(key===KeyCode.PAGE_HOME){newIndex=0;}else if(key===KeyCode.PAGE_END){newIndex=rowCount;}else if(key===KeyCode.PAGE_DOWN){newIndex=Math.min(currentIdx+pageSize,rowCount);}else if(key===KeyCode.PAGE_UP){newIndex=Math.max(currentIdx-pageSize,0);}if(newIndex===-1){return;}this.highlightItem(itemEls[newIndex]);}addOptions(listOptions){listOptions.forEach(listOption=>this.addOption(listOption));return this;}addOption(listOption){var{value,text}=listOption;var valueToRender=text!==null&&text!==void 0?text:value;this.options.push({value,text:valueToRender});this.renderOption(value,valueToRender);this.updateIndices();return this;}clearOptions(){this.options=[];this.reset(true);this.itemEls.forEach(itemEl=>{_removeFromParent(itemEl);});this.itemEls=[];this.refreshAriaRole();}refreshAriaRole(){var eGui=this.getGui();_setAriaRole(eGui,this.options.length===0?\"presentation\":\"listbox\");}updateIndices(){var options=this.getGui().querySelectorAll(\".ag-list-item\");this.refreshAriaRole();options.forEach((option,idx)=>{_setAriaPosInSet(option,idx+1);_setAriaSetSize(option,options.length);});}renderOption(value,text){var itemEl=_createElement({tag:\"div\",cls:\"ag-list-item ag-\".concat(this.cssIdentifier,\"-list-item\"),attrs:{role:\"option\"}});var span=_createElement({tag:\"span\",children:text});itemEl.appendChild(span);if(!this.unFocusable){itemEl.tabIndex=-1;}this.itemEls.push(itemEl);this.addManagedListeners(itemEl,{mouseover:()=>this.highlightItem(itemEl),mousedown:e=>{e.preventDefault();e.stopPropagation();this.setValue(value);}});this.createOptionalManagedBean(this.beans.registry.createDynamicBean(\"tooltipFeature\",false,{getTooltipValue:()=>text,getGui:()=>itemEl,getLocation:()=>\"UNKNOWN\",// only show tooltips for items where the text cannot be fully displayed\nshouldDisplayTooltip:()=>span.scrollWidth>span.clientWidth}));this.getGui().appendChild(itemEl);}setValue(value,silent){if(this.value===value){this.fireItemSelected();return this;}if(value==null){this.reset(silent);return this;}var idx=this.options.findIndex(option=>option.value===value);if(idx!==-1){var option=this.options[idx];this.value=option.value;this.displayValue=option.text;this.highlightItem(this.itemEls[idx]);if(!silent){this.fireChangeEvent();}}return this;}setValueByIndex(idx){return this.setValue(this.options[idx].value);}getValue(){return this.value;}getDisplayValue(){return this.displayValue;}refreshHighlighted(){this.clearHighlighted();var idx=this.options.findIndex(option=>option.value===this.value);if(idx!==-1){this.highlightItem(this.itemEls[idx]);}}reset(silent){this.value=null;this.displayValue=null;this.clearHighlighted();if(!silent){this.fireChangeEvent();}}highlightItem(el){if(!_isVisible(el)){return;}this.clearHighlighted();this.highlightedEl=el;el.classList.add(this.activeClass);_setAriaSelected(el,true);var eGui=this.getGui();var{scrollTop,clientHeight}=eGui;var{offsetTop,offsetHeight}=el;if(offsetTop+offsetHeight>scrollTop+clientHeight||offsetTop<scrollTop){el.scrollIntoView({block:\"nearest\"});}if(!this.unFocusable){el.focus();}}clearHighlighted(){var highlightedEl=this.highlightedEl;if(!highlightedEl||!_isVisible(highlightedEl)){return;}highlightedEl.classList.remove(this.activeClass);_setAriaSelected(highlightedEl,false);this.highlightedEl=null;}fireChangeEvent(){this.dispatchLocalEvent({type:\"fieldValueChanged\"});this.fireItemSelected();}fireItemSelected(){this.dispatchLocalEvent({type:\"selectedItem\"});}};// packages/ag-grid-community/src/widgets/agPickerField.css-GENERATED.ts\nvar agPickerFieldCSS=/*css*/\".ag-picker-field-display{flex:1 1 auto}.ag-picker-field{align-items:center;display:flex}.ag-picker-field-icon{border:0;cursor:pointer;display:flex;margin:0;padding:0}.ag-picker-field-wrapper{background-color:var(--ag-picker-button-background-color);border:var(--ag-picker-button-border);border-radius:5px;min-height:max(var(--ag-list-item-height),calc(var(--ag-spacing)*4));overflow:hidden;&:where(.invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&:where(.ag-picker-has-focus:not(.invalid)),&:where(:focus-within:not(.invalid)){background-color:var(--ag-picker-button-focus-background-color);border:var(--ag-picker-button-focus-border);box-shadow:var(--ag-focus-shadow)}&:disabled{opacity:.5}}\";// packages/ag-grid-community/src/widgets/agPickerField.ts\nvar AgPickerFieldElement={tag:\"div\",cls:\"ag-picker-field\",role:\"presentation\",children:[{tag:\"div\",ref:\"eLabel\"},{tag:\"div\",ref:\"eWrapper\",cls:\"ag-wrapper ag-picker-field-wrapper ag-picker-collapsed\",children:[{tag:\"div\",ref:\"eDisplayField\",cls:\"ag-picker-field-display\"},{tag:\"div\",ref:\"eIcon\",cls:\"ag-picker-field-icon\",attrs:{\"aria-hidden\":\"true\"}}]}]};var AgPickerField=class extends AgAbstractField{constructor(config){super(config,(config===null||config===void 0?void 0:config.template)||AgPickerFieldElement,(config===null||config===void 0?void 0:config.agComponents)||[],config===null||config===void 0?void 0:config.className);this.isPickerDisplayed=false;this.skipClick=false;this.pickerGap=4;this.hideCurrentPicker=null;this.eLabel=RefPlaceholder;this.eWrapper=RefPlaceholder;this.eDisplayField=RefPlaceholder;this.eIcon=RefPlaceholder;this.registerCSS(agPickerFieldCSS);this.ariaRole=config===null||config===void 0?void 0:config.ariaRole;this.onPickerFocusIn=this.onPickerFocusIn.bind(this);this.onPickerFocusOut=this.onPickerFocusOut.bind(this);if(!config){return;}var{pickerGap,maxPickerHeight,variableWidth,minPickerWidth,maxPickerWidth}=config;if(pickerGap!=null){this.pickerGap=pickerGap;}this.variableWidth=!!variableWidth;if(maxPickerHeight!=null){this.setPickerMaxHeight(maxPickerHeight);}if(minPickerWidth!=null){this.setPickerMinWidth(minPickerWidth);}if(maxPickerWidth!=null){this.setPickerMaxWidth(maxPickerWidth);}}postConstruct(){super.postConstruct();this.setupAria();var displayId=\"ag-\".concat(this.getCompId(),\"-display\");this.eDisplayField.setAttribute(\"id\",displayId);var ariaEl=this.getAriaElement();this.addManagedElementListeners(ariaEl,{keydown:this.onKeyDown.bind(this)});this.addManagedElementListeners(this.eLabel,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)});this.addManagedElementListeners(this.eWrapper,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)});var{pickerIcon,inputWidth}=this.config;if(pickerIcon){var icon=_createIconNoSpan(pickerIcon,this.beans);if(icon){this.eIcon.appendChild(icon);}}if(inputWidth!=null){this.setInputWidth(inputWidth);}}setupAria(){var ariaEl=this.getAriaElement();ariaEl.setAttribute(\"tabindex\",this.gos.get(\"tabIndex\").toString());_setAriaExpanded(ariaEl,false);if(this.ariaRole){_setAriaRole(ariaEl,this.ariaRole);}}onLabelOrWrapperMouseDown(e){if(e){var focusableEl=this.getFocusableElement();if(focusableEl!==this.eWrapper&&(e===null||e===void 0?void 0:e.target)===focusableEl){return;}e.preventDefault();this.getFocusableElement().focus();}if(this.skipClick){this.skipClick=false;return;}if(this.isDisabled()){return;}if(this.isPickerDisplayed){this.hidePicker();}else{this.showPicker();}}onKeyDown(e){switch(e.key){case KeyCode.UP:case KeyCode.DOWN:case KeyCode.ENTER:case KeyCode.SPACE:e.preventDefault();this.onLabelOrWrapperMouseDown();break;case KeyCode.ESCAPE:if(this.isPickerDisplayed){e.preventDefault();e.stopPropagation();if(this.hideCurrentPicker){this.hideCurrentPicker();}}break;}}showPicker(){this.isPickerDisplayed=true;if(!this.pickerComponent){this.pickerComponent=this.createPickerComponent();}var pickerGui=this.pickerComponent.getGui();pickerGui.addEventListener(\"focusin\",this.onPickerFocusIn);pickerGui.addEventListener(\"focusout\",this.onPickerFocusOut);this.hideCurrentPicker=this.renderAndPositionPicker();this.toggleExpandedStyles(true);}renderAndPositionPicker(){var ePicker=this.pickerComponent.getGui();if(!this.gos.get(\"suppressScrollWhenPopupsAreOpen\")){[this.destroyMouseWheelFunc]=this.addManagedEventListeners({bodyScroll:()=>{this.hidePicker();}});}var translate=this.getLocaleTextFunc();var{config:{pickerAriaLabelKey,pickerAriaLabelValue,modalPicker=true},maxPickerHeight,minPickerWidth,maxPickerWidth,variableWidth,beans,eWrapper}=this;var popupParams={modal:modalPicker,eChild:ePicker,closeOnEsc:true,closedCallback:()=>{var shouldRestoreFocus=_isNothingFocused(beans);this.beforeHidePicker();if(shouldRestoreFocus&&this.isAlive()){this.getFocusableElement().focus();}},ariaLabel:translate(pickerAriaLabelKey,pickerAriaLabelValue),anchorToElement:eWrapper};ePicker.style.position=\"absolute\";var popupSvc=beans.popupSvc;var addPopupRes=popupSvc.addPopup(popupParams);if(variableWidth){if(minPickerWidth){ePicker.style.minWidth=minPickerWidth;}ePicker.style.width=_formatSize(_getAbsoluteWidth(eWrapper));if(maxPickerWidth){ePicker.style.maxWidth=maxPickerWidth;}}else{_setElementWidth(ePicker,maxPickerWidth!==null&&maxPickerWidth!==void 0?maxPickerWidth:_getAbsoluteWidth(eWrapper));}var maxHeight=maxPickerHeight!==null&&maxPickerHeight!==void 0?maxPickerHeight:\"\".concat(_getInnerHeight(popupSvc.getPopupParent()),\"px\");ePicker.style.setProperty(\"max-height\",maxHeight);this.alignPickerToComponent();return addPopupRes.hideFunc;}alignPickerToComponent(){if(!this.pickerComponent){return;}var{pickerGap,config:{pickerType},beans:{popupSvc,gos},eWrapper,pickerComponent}=this;var alignSide=gos.get(\"enableRtl\")?\"right\":\"left\";popupSvc.positionPopupByComponent({type:pickerType,eventSource:eWrapper,ePopup:pickerComponent.getGui(),position:\"under\",alignSide,keepWithinBounds:true,nudgeY:pickerGap});}beforeHidePicker(){if(this.destroyMouseWheelFunc){this.destroyMouseWheelFunc();this.destroyMouseWheelFunc=void 0;}this.toggleExpandedStyles(false);var pickerGui=this.pickerComponent.getGui();pickerGui.removeEventListener(\"focusin\",this.onPickerFocusIn);pickerGui.removeEventListener(\"focusout\",this.onPickerFocusOut);this.isPickerDisplayed=false;this.pickerComponent=void 0;this.hideCurrentPicker=null;}toggleExpandedStyles(expanded){if(!this.isAlive()){return;}var ariaEl=this.getAriaElement();_setAriaExpanded(ariaEl,expanded);var classList=this.eWrapper.classList;classList.toggle(\"ag-picker-expanded\",expanded);classList.toggle(\"ag-picker-collapsed\",!expanded);}onPickerFocusIn(){this.togglePickerHasFocus(true);}onPickerFocusOut(e){var _this$pickerComponent;if(!((_this$pickerComponent=this.pickerComponent)!==null&&_this$pickerComponent!==void 0&&_this$pickerComponent.getGui().contains(e.relatedTarget))){this.togglePickerHasFocus(false);}}togglePickerHasFocus(focused){if(!this.pickerComponent){return;}this.eWrapper.classList.toggle(\"ag-picker-has-focus\",focused);}hidePicker(){if(this.hideCurrentPicker){this.hideCurrentPicker();this.dispatchLocalEvent({type:\"pickerHidden\"});}}setInputWidth(width){_setElementWidth(this.eWrapper,width);return this;}getFocusableElement(){return this.eWrapper;}setPickerGap(gap){this.pickerGap=gap;return this;}setPickerMinWidth(width){if(typeof width===\"number\"){width=\"\".concat(width,\"px\");}this.minPickerWidth=width==null?void 0:width;return this;}setPickerMaxWidth(width){if(typeof width===\"number\"){width=\"\".concat(width,\"px\");}this.maxPickerWidth=width==null?void 0:width;return this;}setPickerMaxHeight(height){if(typeof height===\"number\"){height=\"\".concat(height,\"px\");}this.maxPickerHeight=height==null?void 0:height;return this;}destroy(){this.hidePicker();super.destroy();}};// packages/ag-grid-community/src/widgets/agSelect.css-GENERATED.ts\nvar agSelectCSS=/*css*/\".ag-select{align-items:center;display:flex;&.ag-disabled{opacity:.5}}:where(.ag-select){.ag-picker-field-wrapper{cursor:default}&.ag-disabled .ag-picker-field-wrapper:focus{box-shadow:none}&:not(.ag-cell-editor,.ag-label-align-top){min-height:var(--ag-list-item-height)}.ag-picker-field-display{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ag-picker-field-icon{align-items:center;display:flex}}:where(.ag-ltr) :where(.ag-select){.ag-picker-field-wrapper{padding-left:calc(var(--ag-cell-horizontal-padding)/2);padding-right:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-select){.ag-picker-field-wrapper{padding-left:var(--ag-spacing);padding-right:calc(var(--ag-cell-horizontal-padding)/2)}}\";// packages/ag-grid-community/src/widgets/agSelect.ts\nvar AgSelect=class extends AgPickerField{constructor(config){super(_objectSpread({pickerAriaLabelKey:\"ariaLabelSelectField\",pickerAriaLabelValue:\"Select Field\",pickerType:\"ag-list\",className:\"ag-select\",pickerIcon:\"selectOpen\",ariaRole:\"combobox\"},config));this.registerCSS(agSelectCSS);}postConstruct(){this.tooltipFeature=this.createOptionalManagedBean(this.beans.registry.createDynamicBean(\"tooltipFeature\",false,{shouldDisplayTooltip:_isElementOverflowingCallback(()=>this.eDisplayField),getGui:()=>this.getGui()}));super.postConstruct();this.createListComponent();this.eWrapper.tabIndex=this.gos.get(\"tabIndex\");var{options,value,placeholder}=this.config;if(options!=null){this.addOptions(options);}if(value!=null){this.setValue(value,true);}if(placeholder&&value==null){this.eDisplayField.textContent=placeholder;}this.addManagedElementListeners(this.eWrapper,{focusout:this.onWrapperFocusOut.bind(this)});}onWrapperFocusOut(e){if(!this.eWrapper.contains(e.relatedTarget)){this.hidePicker();}}createListComponent(){var listComponent=this.createBean(new AgList(\"select\",true));this.listComponent=listComponent;listComponent.setParentComponent(this);var eListAriaEl=listComponent.getAriaElement();var listId=\"ag-select-list-\".concat(listComponent.getCompId());eListAriaEl.setAttribute(\"id\",listId);_setAriaControlsAndLabel(this.getAriaElement(),eListAriaEl);listComponent.addManagedElementListeners(listComponent.getGui(),{mousedown:e=>{e===null||e===void 0||e.preventDefault();}});listComponent.addManagedListeners(listComponent,{selectedItem:()=>{this.hidePicker();this.dispatchLocalEvent({type:\"selectedItem\"});},fieldValueChanged:()=>{if(!this.listComponent){return;}this.setValue(this.listComponent.getValue(),false,true);this.hidePicker();}});}createPickerComponent(){return this.listComponent;}onKeyDown(e){var{key}=e;if(key===KeyCode.TAB){this.hidePicker();}switch(key){case KeyCode.ENTER:case KeyCode.UP:case KeyCode.DOWN:case KeyCode.PAGE_UP:case KeyCode.PAGE_DOWN:case KeyCode.PAGE_HOME:case KeyCode.PAGE_END:e.preventDefault();if(this.isPickerDisplayed){var _this$listComponent;(_this$listComponent=this.listComponent)===null||_this$listComponent===void 0||_this$listComponent.handleKeyDown(e);}else{super.onKeyDown(e);}break;case KeyCode.ESCAPE:super.onKeyDown(e);break;case KeyCode.SPACE:if(this.isPickerDisplayed){e.preventDefault();}else{super.onKeyDown(e);}break;}}showPicker(){var listComponent=this.listComponent;if(!listComponent){return;}super.showPicker();listComponent.refreshHighlighted();}addOptions(options){options.forEach(option=>this.addOption(option));return this;}addOption(option){this.listComponent.addOption(option);return this;}clearOptions(){var _this$listComponent2;(_this$listComponent2=this.listComponent)===null||_this$listComponent2===void 0||_this$listComponent2.clearOptions();this.setValue(void 0,true);return this;}setValue(value,silent,fromPicker){var{listComponent,config:{placeholder},eDisplayField,tooltipFeature}=this;if(this.value===value||!listComponent){return this;}if(!fromPicker){listComponent.setValue(value,true);}var newValue=listComponent.getValue();if(newValue===this.getValue()){return this;}var displayValue=listComponent.getDisplayValue();if(displayValue==null&&placeholder){displayValue=placeholder;}eDisplayField.textContent=displayValue;tooltipFeature===null||tooltipFeature===void 0||tooltipFeature.setTooltipAndRefresh(displayValue!==null&&displayValue!==void 0?displayValue:null);return super.setValue(value,silent);}destroy(){this.listComponent=this.destroyBean(this.listComponent);super.destroy();}};var AgSelectSelector={selector:\"AG-SELECT\",component:AgSelect};// packages/ag-grid-community/src/widgets/tabGuardCtrl.ts\nvar TabGuardClassNames={TAB_GUARD:\"ag-tab-guard\",TAB_GUARD_TOP:\"ag-tab-guard-top\",TAB_GUARD_BOTTOM:\"ag-tab-guard-bottom\"};var TabGuardCtrl=class extends BeanStub{constructor(params){super();this.skipTabGuardFocus=false;this.forcingFocusOut=false;// Used when `isFocusableContainer` enabled\nthis.allowFocus=false;var{comp,eTopGuard,eBottomGuard,focusTrapActive,forceFocusOutWhenTabGuardsAreEmpty,isFocusableContainer,focusInnerElement,onFocusIn,onFocusOut,shouldStopEventPropagation,onTabKeyDown,handleKeyDown,isEmpty,eFocusableElement}=params;this.comp=comp;this.eTopGuard=eTopGuard;this.eBottomGuard=eBottomGuard;this.providedFocusInnerElement=focusInnerElement;this.eFocusableElement=eFocusableElement;this.focusTrapActive=!!focusTrapActive;this.forceFocusOutWhenTabGuardsAreEmpty=!!forceFocusOutWhenTabGuardsAreEmpty;this.isFocusableContainer=!!isFocusableContainer;this.providedFocusIn=onFocusIn;this.providedFocusOut=onFocusOut;this.providedShouldStopEventPropagation=shouldStopEventPropagation;this.providedOnTabKeyDown=onTabKeyDown;this.providedHandleKeyDown=handleKeyDown;this.providedIsEmpty=isEmpty;}postConstruct(){this.createManagedBean(new ManagedFocusFeature(this.eFocusableElement,{shouldStopEventPropagation:()=>this.shouldStopEventPropagation(),onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e),onFocusIn:e=>this.onFocusIn(e),onFocusOut:e=>this.onFocusOut(e)}));this.activateTabGuards();[this.eTopGuard,this.eBottomGuard].forEach(guard=>this.addManagedElementListeners(guard,{focus:this.onFocus.bind(this)}));}handleKeyDown(e){if(this.providedHandleKeyDown){this.providedHandleKeyDown(e);}}tabGuardsAreActive(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute(\"tabIndex\");}shouldStopEventPropagation(){if(this.providedShouldStopEventPropagation){return this.providedShouldStopEventPropagation();}return false;}activateTabGuards(){if(this.forcingFocusOut){return;}var tabIndex=this.gos.get(\"tabIndex\");this.comp.setTabIndex(tabIndex.toString());}deactivateTabGuards(){this.comp.setTabIndex();}onFocus(e){if(this.isFocusableContainer&&!this.eFocusableElement.contains(e.relatedTarget)){if(!this.allowFocus){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return;}}if(this.skipTabGuardFocus){this.skipTabGuardFocus=false;return;}if(this.forceFocusOutWhenTabGuardsAreEmpty){var isEmpty=this.providedIsEmpty?this.providedIsEmpty():_findFocusableElements(this.eFocusableElement,\".ag-tab-guard\").length===0;if(isEmpty){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return;}}if(this.isFocusableContainer&&this.eFocusableElement.contains(e.relatedTarget)){return;}var fromBottom=e.target===this.eBottomGuard;var hasFocusedInnerElement=this.providedFocusInnerElement?this.providedFocusInnerElement(fromBottom):this.focusInnerElement(fromBottom);if(!hasFocusedInnerElement&&this.forceFocusOutWhenTabGuardsAreEmpty){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);}}findNextElementOutsideAndFocus(up){var _focusableRange;var eDocument=_getDocument(this.beans);var focusableEls=_findFocusableElements(eDocument.body,null,true);var index=focusableEls.indexOf(up?this.eTopGuard:this.eBottomGuard);if(index===-1){return;}var start;var end;if(up){start=0;end=index;}else{start=index+1;end=focusableEls.length;}var focusableRange=focusableEls.slice(start,end);var targetTabIndex=this.gos.get(\"tabIndex\");focusableRange.sort((a,b)=>{var indexA=parseInt(a.getAttribute(\"tabindex\")||\"0\");var indexB=parseInt(b.getAttribute(\"tabindex\")||\"0\");if(indexB===targetTabIndex){return 1;}if(indexA===targetTabIndex){return-1;}if(indexA===0){return 1;}if(indexB===0){return-1;}return indexA-indexB;});(_focusableRange=focusableRange[up?focusableRange.length-1:0])===null||_focusableRange===void 0||_focusableRange.focus();}onFocusIn(e){if(this.focusTrapActive||this.forcingFocusOut){return;}if(this.providedFocusIn){this.providedFocusIn(e);}if(!this.isFocusableContainer){this.deactivateTabGuards();}}onFocusOut(e){if(this.focusTrapActive){return;}if(this.providedFocusOut){this.providedFocusOut(e);}if(!this.eFocusableElement.contains(e.relatedTarget)){this.activateTabGuards();}}onTabKeyDown(e){if(this.providedOnTabKeyDown){this.providedOnTabKeyDown(e);return;}if(this.focusTrapActive){return;}if(e.defaultPrevented){return;}var tabGuardsAreActive=this.tabGuardsAreActive();if(tabGuardsAreActive){this.deactivateTabGuards();}var nextRoot=this.getNextFocusableElement(e.shiftKey);if(tabGuardsAreActive){setTimeout(()=>this.activateTabGuards(),0);}if(!nextRoot){return;}nextRoot.focus();e.preventDefault();}focusInnerElement(){var fromBottom=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var focusable=_findFocusableElements(this.eFocusableElement);if(this.tabGuardsAreActive()){focusable.splice(0,1);focusable.splice(focusable.length-1,1);}if(!focusable.length){return false;}focusable[fromBottom?focusable.length-1:0].focus({preventScroll:true});return true;}getNextFocusableElement(backwards){return _findNextFocusableElement(this.beans,this.eFocusableElement,false,backwards);}forceFocusOutOfContainer(){var up=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;if(this.forcingFocusOut){return;}var tabGuardToFocus=up?this.eTopGuard:this.eBottomGuard;this.activateTabGuards();this.skipTabGuardFocus=true;this.forcingFocusOut=true;tabGuardToFocus.focus();window.setTimeout(()=>{this.forcingFocusOut=false;this.activateTabGuards();});}isTabGuard(element,bottom){return element===this.eTopGuard&&!bottom||element===this.eBottomGuard&&(bottom!==null&&bottom!==void 0?bottom:true);}setAllowFocus(allowFocus){this.allowFocus=allowFocus;}};// packages/ag-grid-community/src/widgets/tabGuardFeature.ts\nvar TabGuardFeature=class extends BeanStub{constructor(comp){super();this.comp=comp;}initialiseTabGuard(params){this.eTopGuard=this.createTabGuard(\"top\");this.eBottomGuard=this.createTabGuard(\"bottom\");this.eFocusableElement=this.comp.getFocusableElement();var{eTopGuard,eBottomGuard,eFocusableElement}=this;var tabGuards=[eTopGuard,eBottomGuard];var compProxy={setTabIndex:tabIndex=>{tabGuards.forEach(tabGuard=>tabIndex!=null?tabGuard.setAttribute(\"tabindex\",tabIndex):tabGuard.removeAttribute(\"tabindex\"));}};this.addTabGuards(eTopGuard,eBottomGuard);var{focusTrapActive=false,onFocusIn,onFocusOut,focusInnerElement,handleKeyDown,onTabKeyDown,shouldStopEventPropagation,isEmpty,forceFocusOutWhenTabGuardsAreEmpty,isFocusableContainer}=params;this.tabGuardCtrl=this.createManagedBean(new TabGuardCtrl({comp:compProxy,focusTrapActive,eTopGuard,eBottomGuard,eFocusableElement,onFocusIn,onFocusOut,focusInnerElement,handleKeyDown,onTabKeyDown,shouldStopEventPropagation,isEmpty,forceFocusOutWhenTabGuardsAreEmpty,isFocusableContainer}));}getTabGuardCtrl(){return this.tabGuardCtrl;}createTabGuard(side){var tabGuard=_getDocument(this.beans).createElement(\"div\");var cls=side===\"top\"?TabGuardClassNames.TAB_GUARD_TOP:TabGuardClassNames.TAB_GUARD_BOTTOM;tabGuard.classList.add(TabGuardClassNames.TAB_GUARD,cls);_setAriaRole(tabGuard,\"presentation\");return tabGuard;}addTabGuards(topTabGuard,bottomTabGuard){var eFocusableElement=this.eFocusableElement;eFocusableElement.insertAdjacentElement(\"afterbegin\",topTabGuard);eFocusableElement.insertAdjacentElement(\"beforeend\",bottomTabGuard);}removeAllChildrenExceptTabGuards(){var tabGuards=[this.eTopGuard,this.eBottomGuard];_clearElement(this.comp.getFocusableElement());this.addTabGuards(...tabGuards);}forceFocusOutOfContainer(){var up=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;this.tabGuardCtrl.forceFocusOutOfContainer(up);}appendChild(appendChild,newChild,container){if(!_isNodeOrElement(newChild)){newChild=newChild.getGui();}var{eBottomGuard:bottomTabGuard}=this;if(bottomTabGuard){bottomTabGuard.insertAdjacentElement(\"beforebegin\",newChild);}else{appendChild(newChild,container);}}destroy(){var{eTopGuard,eBottomGuard}=this;_removeFromParent(eTopGuard);_removeFromParent(eBottomGuard);super.destroy();}};// packages/ag-grid-community/src/widgets/tabGuardComp.ts\nvar TabGuardComp=class extends Component{initialiseTabGuard(params){this.tabGuardFeature=this.createManagedBean(new TabGuardFeature(this));this.tabGuardFeature.initialiseTabGuard(params);}forceFocusOutOfContainer(){var up=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;this.tabGuardFeature.forceFocusOutOfContainer(up);}appendChild(newChild,container){this.tabGuardFeature.appendChild(super.appendChild.bind(this),newChild,container);}};// packages/ag-grid-community/src/widgets/touchListener.ts\nvar TouchListener=class{constructor(eElement){var preventMouseClick=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;this.DOUBLE_TAP_MILLIS=500;this.destroyFuncs=[];this.touching=false;this.localEventService=new LocalEventService();this.preventMouseClick=preventMouseClick;var startListener=this.onTouchStart.bind(this);var moveListener=this.onTouchMove.bind(this);var endListener=this.onTouchEnd.bind(this);eElement.addEventListener(\"touchstart\",startListener,{passive:true});eElement.addEventListener(\"touchmove\",moveListener,{passive:true});eElement.addEventListener(\"touchend\",endListener,{passive:false});this.destroyFuncs.push(()=>{eElement.removeEventListener(\"touchstart\",startListener,{passive:true});eElement.removeEventListener(\"touchmove\",moveListener,{passive:true});eElement.removeEventListener(\"touchend\",endListener,{passive:false});});}getActiveTouch(touchList){for(var i=0;i<touchList.length;i++){var matches=touchList[i].identifier===this.touchStart.identifier;if(matches){return touchList[i];}}return null;}addEventListener(eventType,listener){this.localEventService.addEventListener(eventType,listener);}removeEventListener(eventType,listener){this.localEventService.removeEventListener(eventType,listener);}onTouchStart(touchEvent){if(this.touching){return;}this.touchStart=touchEvent.touches[0];this.touching=true;this.moved=false;var touchStartCopy=this.touchStart;window.setTimeout(()=>{var touchesMatch=this.touchStart===touchStartCopy;if(this.touching&&touchesMatch&&!this.moved){this.moved=true;var event={type:\"longTap\",touchStart:this.touchStart,touchEvent};this.localEventService.dispatchEvent(event);}},500);}onTouchMove(touchEvent){if(!this.touching){return;}var touch=this.getActiveTouch(touchEvent.touches);if(!touch){return;}var eventIsFarAway=!_areEventsNear(touch,this.touchStart,4);if(eventIsFarAway){this.moved=true;}}onTouchEnd(touchEvent){if(!this.touching){return;}if(!this.moved){var event={type:\"tap\",touchStart:this.touchStart};this.localEventService.dispatchEvent(event);this.checkForDoubleTap();}if(this.preventMouseClick&&touchEvent.cancelable){touchEvent.preventDefault();}this.touching=false;}checkForDoubleTap(){var now=Date.now();if(this.lastTapTime&&this.lastTapTime>0){var interval=now-this.lastTapTime;if(interval>this.DOUBLE_TAP_MILLIS){var event={type:\"doubleTap\",touchStart:this.touchStart};this.localEventService.dispatchEvent(event);this.lastTapTime=null;}else{this.lastTapTime=now;}}else{this.lastTapTime=now;}}destroy(){this.destroyFuncs.forEach(func=>func());}};// packages/ag-grid-community/src/interfaces/IRangeService.ts\nvar CellRangeType=/* @__PURE__ */(CellRangeType2=>{CellRangeType2[CellRangeType2[\"VALUE\"]=0]=\"VALUE\";CellRangeType2[CellRangeType2[\"DIMENSION\"]=1]=\"DIMENSION\";return CellRangeType2;})(CellRangeType||{});// packages/ag-grid-community/src/autoScrollService.ts\nvar AutoScrollService=class{constructor(params){this.tickingInterval=null;this.onScrollCallback=null;this.scrollContainer=params.scrollContainer;this.scrollHorizontally=params.scrollAxis.indexOf(\"x\")!==-1;this.scrollVertically=params.scrollAxis.indexOf(\"y\")!==-1;this.scrollByTick=params.scrollByTick!=null?params.scrollByTick:20;if(params.onScrollCallback){this.onScrollCallback=params.onScrollCallback;}if(this.scrollVertically){this.getVerticalPosition=params.getVerticalPosition;this.setVerticalPosition=params.setVerticalPosition;}if(this.scrollHorizontally){this.getHorizontalPosition=params.getHorizontalPosition;this.setHorizontalPosition=params.setHorizontalPosition;}this.shouldSkipVerticalScroll=params.shouldSkipVerticalScroll||(()=>false);this.shouldSkipHorizontalScroll=params.shouldSkipHorizontalScroll||(()=>false);}check(mouseEvent){var forceSkipVerticalScroll=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var skipVerticalScroll=forceSkipVerticalScroll||this.shouldSkipVerticalScroll();if(skipVerticalScroll&&this.shouldSkipHorizontalScroll()){return;}var rect=this.scrollContainer.getBoundingClientRect();var scrollTick=this.scrollByTick;this.tickLeft=mouseEvent.clientX<rect.left+scrollTick;this.tickRight=mouseEvent.clientX>rect.right-scrollTick;this.tickUp=mouseEvent.clientY<rect.top+scrollTick&&!skipVerticalScroll;this.tickDown=mouseEvent.clientY>rect.bottom-scrollTick&&!skipVerticalScroll;if(this.tickLeft||this.tickRight||this.tickUp||this.tickDown){this.ensureTickingStarted();}else{this.ensureCleared();}}ensureTickingStarted(){if(this.tickingInterval===null){this.tickingInterval=window.setInterval(this.doTick.bind(this),100);this.tickCount=0;}}doTick(){this.tickCount++;var tickAmount=this.tickCount>20?200:this.tickCount>10?80:40;if(this.scrollVertically){var vScrollPosition=this.getVerticalPosition();if(this.tickUp){this.setVerticalPosition(vScrollPosition-tickAmount);}if(this.tickDown){this.setVerticalPosition(vScrollPosition+tickAmount);}}if(this.scrollHorizontally){var hScrollPosition=this.getHorizontalPosition();if(this.tickLeft){this.setHorizontalPosition(hScrollPosition-tickAmount);}if(this.tickRight){this.setHorizontalPosition(hScrollPosition+tickAmount);}}if(this.onScrollCallback){this.onScrollCallback();}}ensureCleared(){if(this.tickingInterval){window.clearInterval(this.tickingInterval);this.tickingInterval=null;}}};// packages/ag-grid-community/src/vanillaFrameworkOverrides.ts\nvar VanillaFrameworkOverrides=class{constructor(){var frameworkName=arguments.length>0&&arguments[0]!==undefined?arguments[0]:\"javascript\";this.frameworkName=frameworkName;this.renderingEngine=\"vanilla\";this.batchFrameworkComps=false;this.wrapIncoming=callback=>callback();this.wrapOutgoing=callback=>callback();this.baseDocLink=\"\".concat(BASE_URL,\"/\").concat(this.frameworkName,\"-data-grid\");setValidationDocLink(this.baseDocLink);}setInterval(action,timeout){return new AgPromise(resolve=>{resolve(window.setInterval(action,timeout));});}// for Vanilla JS, we just add the event to the element\naddEventListener(element,type,listener,options){var eventListenerOptions={};if(typeof options===\"object\"){eventListenerOptions=options;}else if(typeof options===\"boolean\"){eventListenerOptions={capture:options};}if(eventListenerOptions.passive==null){var passive=getPassiveStateForEvent(type);if(passive!=null){eventListenerOptions.passive=passive;}}element.addEventListener(type,listener,eventListenerOptions);}frameworkComponent(_){return null;}isFrameworkComponent(_){return false;}getDocLink(path){return\"\".concat(this.baseDocLink).concat(path?\"/\".concat(path):\"\");}};// packages/ag-grid-community/src/api/apiUtils.ts\nfunction createGridApi(context){return{beanName:\"gridApi\",bean:context.getBean(\"apiFunctionSvc\").api};}// packages/ag-grid-community/src/context/gridBeanComparator.ts\nvar orderedCoreBeans=[// Validate license first\n\"licenseManager\",// core beans only\n\"environment\",\"eventSvc\",\"gos\",\"paginationAutoPageSizeSvc\",\"apiFunctionSvc\",\"gridApi\",\"registry\",\"agCompUtils\",\"userCompFactory\",\"rowContainerHeight\",\"horizontalResizeSvc\",\"localeSvc\",\"pinnedRowModel\",\"dragSvc\",\"colGroupSvc\",\"visibleCols\",\"popupSvc\",\"selectionSvc\",\"colFilter\",\"quickFilter\",\"filterManager\",\"colModel\",\"headerNavigation\",\"pageBounds\",\"pagination\",\"pageBoundsListener\",\"rowSpanSvc\",\"stickyRowSvc\",\"rowRenderer\",\"expressionSvc\",\"alignedGridsSvc\",\"navigation\",\"valueCache\",\"valueSvc\",\"autoWidthCalc\",\"filterMenuFactory\",\"dragAndDrop\",\"focusSvc\",\"cellNavigation\",\"cellStyles\",\"scrollVisibleSvc\",\"sortSvc\",\"colHover\",\"colAnimation\",\"autoColSvc\",\"selectionColSvc\",\"changeDetectionSvc\",\"animationFrameSvc\",\"undoRedo\",\"colDefFactory\",\"rowStyleSvc\",\"rowNodeBlockLoader\",\"rowNodeSorter\",\"ctrlsSvc\",\"pinnedCols\",\"dataTypeSvc\",\"syncSvc\",\"overlays\",\"stateSvc\",\"expansionSvc\",\"apiEventSvc\",\"ariaAnnounce\",\"menuSvc\",\"colMoves\",\"colAutosize\",\"colFlex\",\"colResize\",\"pivotColsSvc\",\"valueColsSvc\",\"rowGroupColsSvc\",\"funcColsSvc\",\"colNames\",\"colViewport\",\"pivotResultCols\",\"showRowGroupCols\",\"validation\"// Have validations run last\n];var beanNamePosition=Object.fromEntries(orderedCoreBeans.map((beanName,index)=>[beanName,index]));function gridBeanInitComparator(bean1,bean2){var _ref38,_ref39;var index1=(_ref38=bean1.beanName?beanNamePosition[bean1.beanName]:void 0)!==null&&_ref38!==void 0?_ref38:Number.MAX_SAFE_INTEGER;var index2=(_ref39=bean2.beanName?beanNamePosition[bean2.beanName]:void 0)!==null&&_ref39!==void 0?_ref39:Number.MAX_SAFE_INTEGER;return index1-index2;}function gridBeanDestroyComparator(bean1,bean2){if((bean1===null||bean1===void 0?void 0:bean1.beanName)===\"gridDestroySvc\"){return-1;}if((bean2===null||bean2===void 0?void 0:bean2.beanName)===\"gridDestroySvc\"){return 1;}return 0;}// packages/ag-grid-community/src/headerRendering/rowContainer/headerRowContainerComp.ts\nvar PinnedLeftElement={tag:\"div\",cls:\"ag-pinned-left-header\",role:\"rowgroup\"};var PinnedRightElement={tag:\"div\",cls:\"ag-pinned-right-header\",role:\"rowgroup\"};var CenterElement={tag:\"div\",cls:\"ag-header-viewport\",role:\"presentation\",attrs:{tabindex:\"-1\"},children:[{tag:\"div\",ref:\"eCenterContainer\",cls:\"ag-header-container\",role:\"rowgroup\"}]};var HeaderRowContainerComp=class extends Component{constructor(pinned){super();this.eCenterContainer=RefPlaceholder;this.headerRowComps={};this.rowCompsList=[];this.pinned=pinned;}postConstruct(){this.selectAndSetTemplate();var compProxy={setDisplayed:displayed=>this.setDisplayed(displayed),setCtrls:ctrls=>this.setCtrls(ctrls),// only gets called for center section\nsetCenterWidth:width=>this.eCenterContainer.style.width=width,setViewportScrollLeft:left=>this.getGui().scrollLeft=left,// only gets called for pinned sections\nsetPinnedContainerWidth:width=>{var eGui=this.getGui();eGui.style.width=width;eGui.style.maxWidth=width;eGui.style.minWidth=width;}};var ctrl=this.createManagedBean(new HeaderRowContainerCtrl(this.pinned));ctrl.setComp(compProxy,this.getGui());}selectAndSetTemplate(){var pinnedLeft=this.pinned==\"left\";var pinnedRight=this.pinned==\"right\";var template=pinnedLeft?PinnedLeftElement:pinnedRight?PinnedRightElement:CenterElement;this.setTemplate(template);this.eRowContainer=this.eCenterContainer!==RefPlaceholder?this.eCenterContainer:this.getGui();}destroy(){this.setCtrls([]);super.destroy();}destroyRowComp(rowComp){this.destroyBean(rowComp);this.eRowContainer.removeChild(rowComp.getGui());}setCtrls(ctrls){var oldRowComps=this.headerRowComps;this.headerRowComps={};this.rowCompsList=[];var prevGui;var appendEnsuringDomOrder=rowComp=>{var eGui=rowComp.getGui();var notAlreadyIn=eGui.parentElement!=this.eRowContainer;if(notAlreadyIn){this.eRowContainer.appendChild(eGui);}if(prevGui){_ensureDomOrder(this.eRowContainer,eGui,prevGui);}prevGui=eGui;};ctrls.forEach(ctrl=>{var ctrlId=ctrl.instanceId;var existingComp=oldRowComps[ctrlId];delete oldRowComps[ctrlId];var rowComp=existingComp?existingComp:this.createBean(new HeaderRowComp(ctrl));this.headerRowComps[ctrlId]=rowComp;this.rowCompsList.push(rowComp);appendEnsuringDomOrder(rowComp);});Object.values(oldRowComps).forEach(c=>this.destroyRowComp(c));}};// packages/ag-grid-community/src/headerRendering/gridHeaderComp.ts\nvar GridHeaderElement={tag:\"div\",cls:\"ag-header\",role:\"presentation\"};var GridHeaderComp=class extends Component{constructor(){super(GridHeaderElement);}postConstruct(){var compProxy={toggleCss:(cssClassName,on)=>this.toggleCss(cssClassName,on),setHeightAndMinHeight:height=>{this.getGui().style.height=height;this.getGui().style.minHeight=height;}};var ctrl=this.createManagedBean(new GridHeaderCtrl());ctrl.setComp(compProxy,this.getGui(),this.getFocusableElement());var addContainer=container=>{this.createManagedBean(container);this.appendChild(container);};addContainer(new HeaderRowContainerComp(\"left\"));addContainer(new HeaderRowContainerComp(null));addContainer(new HeaderRowContainerComp(\"right\"));}};var GridHeaderSelector={selector:\"AG-HEADER-ROOT\",component:GridHeaderComp};// packages/ag-grid-community/src/rendering/cell/cellComp.ts\nvar CellComp=class extends Component{constructor(beans,cellCtrl,printLayout,eRow,editingCell){super();this.cellCtrl=cellCtrl;// every time we go into edit mode, or back again, this gets incremented.\n// it's the components way of dealing with the async nature of framework components,\n// so if a framework component takes a while to be created, we know if the object\n// is still relevant when creating is finished. eg we could click edit / un-edit 20\n// times before the first React edit component comes back - we should discard\n// the first 19.\nthis.rendererVersion=0;this.editorVersion=0;this.beans=beans;this.gos=beans.gos;this.column=cellCtrl.column;this.rowNode=cellCtrl.rowNode;this.eRow=eRow;var cellDiv=_createElement({tag:\"div\",role:cellCtrl.getCellAriaRole(),attrs:{\"comp-id\":\"\".concat(this.getCompId()),\"col-id\":cellCtrl.column.colIdSanitised}});this.eCell=cellDiv;var wrapperDiv;if(cellCtrl.isCellSpanning()){wrapperDiv=_createElement({tag:\"div\",cls:\"ag-spanned-cell-wrapper\",role:\"presentation\"});wrapperDiv.appendChild(cellDiv);this.setTemplateFromElement(wrapperDiv);}else{this.setTemplateFromElement(cellDiv);}this.cellCssManager=new CssClassManager(()=>cellDiv);this.forceWrapper=cellCtrl.isForceWrapper();this.refreshWrapper(false);var compProxy={toggleCss:(cssClassName,on)=>this.cellCssManager.toggleCss(cssClassName,on),setUserStyles:styles=>_addStylesToElement(cellDiv,styles),getFocusableElement:()=>cellDiv,setIncludeSelection:include=>this.includeSelection=include,setIncludeRowDrag:include=>this.includeRowDrag=include,setIncludeDndSource:include=>this.includeDndSource=include,setRenderDetails:(compDetails,valueToDisplay,force)=>this.setRenderDetails(compDetails,valueToDisplay,force),setEditDetails:(compDetails,popup,position)=>this.setEditDetails(compDetails,popup,position),getCellEditor:()=>this.cellEditor||null,getCellRenderer:()=>this.cellRenderer||null,getParentOfValue:()=>this.getParentOfValue(),refreshEditStyles:(editing,isPopup)=>this.refreshEditStyles(editing,isPopup)};cellCtrl.setComp(compProxy,cellDiv,wrapperDiv,this.eCellWrapper,printLayout,editingCell,void 0);}getParentOfValue(){var _ref40,_this$eCellValue;return(_ref40=(_this$eCellValue=this.eCellValue)!==null&&_this$eCellValue!==void 0?_this$eCellValue:this.eCellWrapper)!==null&&_ref40!==void 0?_ref40:this.eCell;}setRenderDetails(compDetails,valueToDisplay,forceNewCellRendererInstance){var isInlineEditing=this.cellEditor&&!this.cellEditorPopupWrapper;if(isInlineEditing){return;}this.firstRender=this.firstRender==null;var controlWrapperChanged=this.refreshWrapper(false);this.refreshEditStyles(false);if(compDetails){var neverRefresh=forceNewCellRendererInstance||controlWrapperChanged;var cellRendererRefreshSuccessful=neverRefresh?false:this.refreshCellRenderer(compDetails);if(!cellRendererRefreshSuccessful){this.destroyRenderer();this.createCellRendererInstance(compDetails);}}else{this.destroyRenderer();this.insertValueWithoutCellRenderer(valueToDisplay);}}setEditDetails(compDetails,popup,position){if(compDetails){this.createCellEditorInstance(compDetails,popup,position);}else{this.destroyEditor();}}removeControls(){var context=this.beans.context;this.checkboxSelectionComp=context.destroyBean(this.checkboxSelectionComp);this.dndSourceComp=context.destroyBean(this.dndSourceComp);this.rowDraggingComp=context.destroyBean(this.rowDraggingComp);}// returns true if wrapper was changed\nrefreshWrapper(editing){var providingControls=this.includeRowDrag||this.includeDndSource||this.includeSelection;var usingWrapper=providingControls||this.forceWrapper;var putWrapperIn=usingWrapper&&this.eCellWrapper==null;if(putWrapperIn){this.eCellWrapper=_createElement({tag:\"div\",cls:\"ag-cell-wrapper\",role:\"presentation\"});this.eCell.appendChild(this.eCellWrapper);}var takeWrapperOut=!usingWrapper&&this.eCellWrapper!=null;if(takeWrapperOut){_removeFromParent(this.eCellWrapper);this.eCellWrapper=void 0;}this.cellCssManager.toggleCss(\"ag-cell-value\",!usingWrapper);var usingCellValue=!editing&&usingWrapper;var putCellValueIn=usingCellValue&&this.eCellValue==null;if(putCellValueIn){this.eCellValue=_createElement({tag:\"span\",cls:\"ag-cell-value\",role:\"presentation\"});this.eCellWrapper.appendChild(this.eCellValue);}var takeCellValueOut=!usingCellValue&&this.eCellValue!=null;if(takeCellValueOut){_removeFromParent(this.eCellValue);this.eCellValue=void 0;}var templateChanged=putWrapperIn||takeWrapperOut||putCellValueIn||takeCellValueOut;if(templateChanged){this.removeControls();}if(!editing&&providingControls){this.addControls();}return templateChanged;}addControls(){var{cellCtrl,eCellWrapper,eCellValue,includeRowDrag,includeDndSource,includeSelection}=this;var insertBefore=comp=>{if(comp){eCellWrapper.insertBefore(comp.getGui(),eCellValue);}};if(includeRowDrag&&this.rowDraggingComp==null){this.rowDraggingComp=cellCtrl.createRowDragComp();insertBefore(this.rowDraggingComp);}if(includeDndSource&&this.dndSourceComp==null){this.dndSourceComp=cellCtrl.createDndSource();insertBefore(this.dndSourceComp);}if(includeSelection&&this.checkboxSelectionComp==null){this.checkboxSelectionComp=cellCtrl.createSelectionCheckbox();insertBefore(this.checkboxSelectionComp);}}createCellEditorInstance(compDetails,popup,position){var versionCopy=this.editorVersion;var cellEditorPromise=compDetails.newAgStackInstance();var{params}=compDetails;cellEditorPromise.then(c=>this.afterCellEditorCreated(versionCopy,c,params,popup,position));var cellEditorAsync=_missing(this.cellEditor);if(cellEditorAsync&&params.cellStartedEdit){this.cellCtrl.focusCell(true);}}insertValueWithoutCellRenderer(valueToDisplay){var eParent=this.getParentOfValue();_clearElement(eParent);var escapedValue=_toString(valueToDisplay);if(escapedValue!=null){eParent.textContent=escapedValue;}}destroyRenderer(){var{context}=this.beans;this.cellRenderer=context.destroyBean(this.cellRenderer);_removeFromParent(this.cellRendererGui);this.cellRendererGui=null;this.rendererVersion++;}destroyEditor(){var _this$cellEditorPopup,_this$hideEditorPopup;var{context}=this.beans;var recoverFocus=((_this$cellEditorPopup=this.cellEditorPopupWrapper)===null||_this$cellEditorPopup===void 0?void 0:_this$cellEditorPopup.getGui().contains(_getActiveDomElement(this.beans)))||this.cellCtrl.hasBrowserFocus();if(recoverFocus){this.eCell.focus({preventScroll:true});}(_this$hideEditorPopup=this.hideEditorPopup)===null||_this$hideEditorPopup===void 0||_this$hideEditorPopup.call(this);this.hideEditorPopup=void 0;this.cellEditor=context.destroyBean(this.cellEditor);this.cellEditorPopupWrapper=context.destroyBean(this.cellEditorPopupWrapper);_removeFromParent(this.cellEditorGui);this.cellCtrl.disableEditorTooltipFeature();this.cellEditorGui=null;this.editorVersion++;}refreshCellRenderer(compClassAndParams){var _this$cellRenderer;if(((_this$cellRenderer=this.cellRenderer)===null||_this$cellRenderer===void 0?void 0:_this$cellRenderer.refresh)==null){return false;}if(this.cellRendererClass!==compClassAndParams.componentClass){return false;}var result=this.cellRenderer.refresh(compClassAndParams.params);return result===true||result===void 0;}createCellRendererInstance(compDetails){var _this=this,_compDetails$params2;var displayComponentVersionCopy=this.rendererVersion;var createCellRendererFunc=details=>_=>{var staleTask=this.rendererVersion!==displayComponentVersionCopy||!this.isAlive();if(staleTask){return;}var componentPromise=details.newAgStackInstance();var callback=this.afterCellRendererCreated.bind(this,displayComponentVersionCopy,details.componentClass);componentPromise===null||componentPromise===void 0||componentPromise.then(callback);};var{animationFrameSvc}=this.beans;var createTask;if(animationFrameSvc!==null&&animationFrameSvc!==void 0&&animationFrameSvc.active&&this.firstRender){createTask=function createTask(details){var isDeferred=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;animationFrameSvc.createTask(createCellRendererFunc(details),_this.rowNode.rowIndex,\"p2\",details.componentFromFramework,isDeferred);};}else{createTask=details=>createCellRendererFunc(details)();}if((_compDetails$params2=compDetails.params)!==null&&_compDetails$params2!==void 0&&_compDetails$params2.deferRender&&!this.cellCtrl.rowNode.group){var{loadingComp,onReady}=this.cellCtrl.getDeferLoadingCellRenderer();if(loadingComp){createTask(loadingComp);onReady.then(()=>createTask(compDetails,true));}}else{createTask(compDetails);}}afterCellRendererCreated(cellRendererVersion,cellRendererClass,cellRenderer){var staleTask=!this.isAlive()||cellRendererVersion!==this.rendererVersion;if(staleTask){this.beans.context.destroyBean(cellRenderer);return;}this.cellRenderer=cellRenderer;this.cellRendererClass=cellRendererClass;var cellGui=cellRenderer.getGui();this.cellRendererGui=cellGui;if(cellGui!=null){var eParent=this.getParentOfValue();_clearElement(eParent);eParent.appendChild(cellGui);}}afterCellEditorCreated(requestVersion,cellEditor,params,popup,position){var _cellEditor$afterGuiA;var staleComp=requestVersion!==this.editorVersion;var{context}=this.beans;if(staleComp){context.destroyBean(cellEditor);return;}var editingCancelledByUserComp=cellEditor.isCancelBeforeStart&&cellEditor.isCancelBeforeStart();if(editingCancelledByUserComp){context.destroyBean(cellEditor);this.cellCtrl.stopEditing(true);return;}if(!cellEditor.getGui){_warn(97,{colId:this.column.getId()});context.destroyBean(cellEditor);return;}this.cellEditor=cellEditor;this.cellEditorGui=cellEditor.getGui();var cellEditorInPopup=popup||cellEditor.isPopup!==void 0&&cellEditor.isPopup();if(cellEditorInPopup){this.addPopupCellEditor(params,position);}else{this.addInCellEditor();}this.refreshEditStyles(true,cellEditorInPopup);(_cellEditor$afterGuiA=cellEditor.afterGuiAttached)===null||_cellEditor$afterGuiA===void 0||_cellEditor$afterGuiA.call(cellEditor);this.cellCtrl.enableEditorTooltipFeature(cellEditor);this.cellCtrl.cellEditorAttached();}refreshEditStyles(editing,isPopup){var{cellCssManager}=this;cellCssManager.toggleCss(\"ag-cell-inline-editing\",editing&&!isPopup);cellCssManager.toggleCss(\"ag-cell-popup-editing\",editing&&!!isPopup);cellCssManager.toggleCss(\"ag-cell-not-inline-editing\",!editing||!!isPopup);}addInCellEditor(){var{eCell}=this;if(eCell.contains(_getActiveDomElement(this.beans))){eCell.focus();}this.destroyRenderer();this.refreshWrapper(true);_clearElement(this.getParentOfValue());if(this.cellEditorGui){var eParent=this.getParentOfValue();eParent.appendChild(this.cellEditorGui);}}addPopupCellEditor(params,position){var _cellEditor$getPopupP,_cellEditor$getPopupP2;var{gos,context,popupSvc,localeSvc,editSvc}=this.beans;if(gos.get(\"editType\")===\"fullRow\"){_warn(98);}var cellEditor=this.cellEditor;this.cellEditorPopupWrapper=context.createBean(editSvc.createPopupEditorWrapper(params));var ePopupGui=this.cellEditorPopupWrapper.getGui();if(this.cellEditorGui){ePopupGui.appendChild(this.cellEditorGui);}var useModelPopup=gos.get(\"stopEditingWhenCellsLoseFocus\");var positionToUse=position!=null?position:(_cellEditor$getPopupP=(_cellEditor$getPopupP2=cellEditor.getPopupPosition)===null||_cellEditor$getPopupP2===void 0?void 0:_cellEditor$getPopupP2.call(cellEditor))!==null&&_cellEditor$getPopupP!==void 0?_cellEditor$getPopupP:\"over\";var isRtl=gos.get(\"enableRtl\");var positionParams={ePopup:ePopupGui,column:this.column,rowNode:this.rowNode,type:\"popupCellEditor\",eventSource:this.eCell,position:positionToUse,alignSide:isRtl?\"right\":\"left\",keepWithinBounds:true};var positionCallback=popupSvc.positionPopupByComponent.bind(popupSvc,positionParams);var translate=_getLocaleTextFunc(localeSvc);var addPopupRes=popupSvc.addPopup({modal:useModelPopup,eChild:ePopupGui,closeOnEsc:true,closedCallback:()=>{this.cellCtrl.onPopupEditorClosed();},anchorToElement:this.eCell,positionCallback,ariaLabel:translate(\"ariaLabelCellEditor\",\"Cell Editor\")});if(addPopupRes){this.hideEditorPopup=addPopupRes.hideFunc;}}detach(){this.eRow.removeChild(this.getGui());}// if the row is also getting destroyed, then we don't need to remove from dom,\n// as the row will also get removed, so no need to take out the cells from the row\n// if the row is going (removing is an expensive operation, so only need to remove\n// the top part)\n//\n// note - this is NOT called by context, as we don't wire / unwire the CellComp for performance reasons.\ndestroy(){this.destroyRenderer();this.destroyEditor();this.removeControls();super.destroy();}};// packages/ag-grid-community/src/rendering/row/rowComp.ts\nvar RowComp=class extends Component{constructor(ctrl,beans,containerType){super();this.cellComps=/* @__PURE__ */new Map();this.beans=beans;this.rowCtrl=ctrl;var rowDiv=_createElement({tag:\"div\",role:\"row\",attrs:{\"comp-id\":\"\".concat(this.getCompId())}});this.setInitialStyle(rowDiv,containerType);this.setTemplateFromElement(rowDiv);var style=rowDiv.style;this.domOrder=this.rowCtrl.getDomOrder();var compProxy={setDomOrder:domOrder=>this.domOrder=domOrder,setCellCtrls:cellCtrls=>this.setCellCtrls(cellCtrls),showFullWidth:compDetails=>this.showFullWidth(compDetails),getFullWidthCellRenderer:()=>this.fullWidthCellRenderer,toggleCss:(name,on)=>this.toggleCss(name,on),setUserStyles:styles=>_addStylesToElement(rowDiv,styles),setTop:top=>style.top=top,setTransform:transform=>style.transform=transform,setRowIndex:rowIndex=>rowDiv.setAttribute(\"row-index\",rowIndex),setRowId:rowId=>rowDiv.setAttribute(\"row-id\",rowId),setRowBusinessKey:businessKey=>rowDiv.setAttribute(\"row-business-key\",businessKey),refreshFullWidth:getUpdatedParams=>{var _this$fullWidthCellRe,_this$fullWidthCellRe2,_this$fullWidthCellRe3;return(_this$fullWidthCellRe=(_this$fullWidthCellRe2=this.fullWidthCellRenderer)===null||_this$fullWidthCellRe2===void 0||(_this$fullWidthCellRe3=_this$fullWidthCellRe2.refresh)===null||_this$fullWidthCellRe3===void 0?void 0:_this$fullWidthCellRe3.call(_this$fullWidthCellRe2,getUpdatedParams()))!==null&&_this$fullWidthCellRe!==void 0?_this$fullWidthCellRe:false;}};ctrl.setComp(compProxy,this.getGui(),containerType,void 0);this.addDestroyFunc(()=>{ctrl.unsetComp(containerType);});}setInitialStyle(container,containerType){var transform=this.rowCtrl.getInitialTransform(containerType);if(transform){container.style.setProperty(\"transform\",transform);}else{var top=this.rowCtrl.getInitialRowTop(containerType);if(top){container.style.setProperty(\"top\",top);}}}showFullWidth(compDetails){var callback=cellRenderer=>{if(this.isAlive()){var eGui=cellRenderer.getGui();this.getGui().appendChild(eGui);this.rowCtrl.setupDetailRowAutoHeight(eGui);this.setFullWidthRowComp(cellRenderer);}else{this.beans.context.destroyBean(cellRenderer);}};var res=compDetails.newAgStackInstance();res.then(callback);}setCellCtrls(cellCtrls){var cellsToRemove=new Map(this.cellComps);for(var cellCtrl of cellCtrls){var key=cellCtrl.instanceId;if(!this.cellComps.has(key)){this.newCellComp(cellCtrl);}else{cellsToRemove.delete(key);}}this.destroyCells(cellsToRemove);this.ensureDomOrder(cellCtrls);}ensureDomOrder(cellCtrls){if(!this.domOrder){return;}var elementsInOrder=[];for(var cellCtrl of cellCtrls){var cellComp=this.cellComps.get(cellCtrl.instanceId);if(cellComp){elementsInOrder.push(cellComp.getGui());}}_setDomChildOrder(this.getGui(),elementsInOrder);}newCellComp(cellCtrl){var _this$beans$editSvc$i2,_this$beans$editSvc6;var editing=(_this$beans$editSvc$i2=(_this$beans$editSvc6=this.beans.editSvc)===null||_this$beans$editSvc6===void 0?void 0:_this$beans$editSvc6.isEditing(cellCtrl,{withOpenEditor:true}))!==null&&_this$beans$editSvc$i2!==void 0?_this$beans$editSvc$i2:false;var cellComp=new CellComp(this.beans,cellCtrl,this.rowCtrl.printLayout,this.getGui(),editing);this.cellComps.set(cellCtrl.instanceId,cellComp);this.getGui().appendChild(cellComp.getGui());}destroy(){super.destroy();this.destroyCells(this.cellComps);}setFullWidthRowComp(fullWidthRowComponent){this.fullWidthCellRenderer=fullWidthRowComponent;this.addDestroyFunc(()=>{this.fullWidthCellRenderer=this.beans.context.destroyBean(this.fullWidthCellRenderer);});}destroyCells(cellComps){for(var cellComp of cellComps.values()){if(!cellComp){return;}var instanceId=cellComp.cellCtrl.instanceId;if(this.cellComps.get(instanceId)!==cellComp){return;}cellComp.detach();cellComp.destroy();this.cellComps.delete(instanceId);}}};// packages/ag-grid-community/src/gridBodyComp/rowContainer/rowContainerComp.ts\nfunction getElementParams(name,options,beans){var isCellSpanning=!!beans.gos.get(\"enableCellSpan\")&&!!options.getSpannedRowCtrls;var eContainerElement={tag:\"div\",ref:\"eContainer\",cls:_getRowContainerClass(name),role:\"rowgroup\"};if(options.type===\"center\"||isCellSpanning){var eSpannedContainerElement={tag:\"div\",ref:\"eSpannedContainer\",cls:\"ag-spanning-container \".concat(_getRowSpanContainerClass(name)),role:\"rowgroup\"};return{tag:\"div\",ref:\"eViewport\",cls:\"ag-viewport \".concat(_getRowViewportClass(name)),role:\"presentation\",children:[eContainerElement,isCellSpanning?eSpannedContainerElement:null]};}return eContainerElement;}var RowContainerComp=class extends Component{constructor(params){super();this.eViewport=RefPlaceholder;this.eContainer=RefPlaceholder;this.eSpannedContainer=RefPlaceholder;this.rowCompsNoSpan={};this.rowCompsWithSpan={};this.name=params===null||params===void 0?void 0:params.name;this.options=_getRowContainerOptions(this.name);}postConstruct(){this.setTemplate(getElementParams(this.name,this.options,this.beans));var compProxy={setHorizontalScroll:offset=>this.eViewport.scrollLeft=offset,setViewportHeight:height=>this.eViewport.style.height=height,setRowCtrls:_ref41=>{var{rowCtrls}=_ref41;return this.setRowCtrls(rowCtrls);},setSpannedRowCtrls:rowCtrls=>this.setRowCtrls(rowCtrls,true),setDomOrder:domOrder=>{this.domOrder=domOrder;},setContainerWidth:width=>{this.eContainer.style.width=width;if(this.eSpannedContainer){this.eSpannedContainer.style.width=width;}},setOffsetTop:offset=>{var top=\"translateY(\".concat(offset,\")\");this.eContainer.style.transform=top;if(this.eSpannedContainer){this.eSpannedContainer.style.transform=top;}}};var ctrl=this.createManagedBean(new RowContainerCtrl(this.name));ctrl.setComp(compProxy,this.eContainer,this.eSpannedContainer,this.eViewport);}destroy(){this.setRowCtrls([]);this.setRowCtrls([],true);super.destroy();this.lastPlacedElement=null;}setRowCtrls(rowCtrls,spanContainer){var{beans,options}=this;var container=spanContainer?this.eSpannedContainer:this.eContainer;var oldRows=spanContainer?_objectSpread({},this.rowCompsWithSpan):_objectSpread({},this.rowCompsNoSpan);var newComps={};if(spanContainer){this.rowCompsWithSpan=newComps;}else{this.rowCompsNoSpan=newComps;}this.lastPlacedElement=null;var orderedRows=[];for(var rowCtrl of rowCtrls){var instanceId=rowCtrl.instanceId;var existingRowComp=oldRows[instanceId];var rowComp=void 0;if(existingRowComp){rowComp=existingRowComp;delete oldRows[instanceId];}else{if(!rowCtrl.rowNode.displayed){continue;}rowComp=new RowComp(rowCtrl,beans,options.type);}newComps[instanceId]=rowComp;orderedRows.push([rowComp,!existingRowComp]);}this.removeOldRows(Object.values(oldRows),container);this.addRowNodes(orderedRows,container);}addRowNodes(rows,container){var{domOrder}=this;for(var[rowComp,isNew]of rows){var eGui=rowComp.getGui();if(!domOrder){if(isNew){container.appendChild(eGui);}}else{this.ensureDomOrder(eGui,container);}}}removeOldRows(rowComps,container){for(var oldRowComp of rowComps){container.removeChild(oldRowComp.getGui());oldRowComp.destroy();}}ensureDomOrder(eRow,container){_ensureDomOrder(container,eRow,this.lastPlacedElement);this.lastPlacedElement=eRow;}};var RowContainerSelector={selector:\"AG-ROW-CONTAINER\",component:RowContainerComp};// packages/ag-grid-community/src/gridBodyComp/gridBodyComp.ts\nfunction makeRowContainers(paramsMap,names){return names.map(name=>{var refName=\"e\".concat(name[0].toUpperCase()+name.substring(1),\"RowContainer\");paramsMap[refName]={name};return{tag:\"ag-row-container\",ref:refName,attrs:{name}};});}function getGridBodyTemplate(includeOverlay){var paramsMap={};var elementParams={tag:\"div\",ref:\"eGridRoot\",cls:\"ag-root ag-unselectable\",children:[{tag:\"ag-header-root\"},{tag:\"div\",ref:\"eTop\",cls:\"ag-floating-top\",role:\"presentation\",children:makeRowContainers(paramsMap,[\"topLeft\",\"topCenter\",\"topRight\",\"topFullWidth\"])},{tag:\"div\",ref:\"eBody\",cls:\"ag-body\",role:\"presentation\",children:[{tag:\"div\",ref:\"eBodyViewport\",cls:\"ag-body-viewport\",role:\"presentation\",children:makeRowContainers(paramsMap,[\"left\",\"center\",\"right\",\"fullWidth\"])},{tag:\"ag-fake-vertical-scroll\"}]},{tag:\"div\",ref:\"eStickyTop\",cls:\"ag-sticky-top\",role:\"presentation\",children:makeRowContainers(paramsMap,[\"stickyTopLeft\",\"stickyTopCenter\",\"stickyTopRight\",\"stickyTopFullWidth\"])},{tag:\"div\",ref:\"eStickyBottom\",cls:\"ag-sticky-bottom\",role:\"presentation\",children:makeRowContainers(paramsMap,[\"stickyBottomLeft\",\"stickyBottomCenter\",\"stickyBottomRight\",\"stickyBottomFullWidth\"])},{tag:\"div\",ref:\"eBottom\",cls:\"ag-floating-bottom\",role:\"presentation\",children:makeRowContainers(paramsMap,[\"bottomLeft\",\"bottomCenter\",\"bottomRight\",\"bottomFullWidth\"])},{tag:\"ag-fake-horizontal-scroll\"},includeOverlay?{tag:\"ag-overlay-wrapper\"}:null]};return{paramsMap,elementParams};}var GridBodyComp=class extends Component{constructor(){super(...arguments);this.eGridRoot=RefPlaceholder;this.eBodyViewport=RefPlaceholder;this.eStickyTop=RefPlaceholder;this.eStickyBottom=RefPlaceholder;this.eTop=RefPlaceholder;this.eBottom=RefPlaceholder;this.eBody=RefPlaceholder;}postConstruct(){var{overlays,rangeSvc}=this.beans;var overlaySelector=overlays===null||overlays===void 0?void 0:overlays.getOverlayWrapperSelector();var{paramsMap,elementParams}=getGridBodyTemplate(!!overlaySelector);this.setTemplate(elementParams,[...(overlaySelector?[overlaySelector]:[]),FakeHScrollSelector,FakeVScrollSelector,GridHeaderSelector,RowContainerSelector],paramsMap);var setHeight=(height,element)=>{var heightString=\"\".concat(height,\"px\");element.style.minHeight=heightString;element.style.height=heightString;};var compProxy={setRowAnimationCssOnBodyViewport:(cssClass,animate)=>this.setRowAnimationCssOnBodyViewport(cssClass,animate),setColumnCount:count=>_setAriaColCount(this.getGui(),count),setRowCount:count=>_setAriaRowCount(this.getGui(),count),setTopHeight:height=>setHeight(height,this.eTop),setBottomHeight:height=>setHeight(height,this.eBottom),setTopInvisible:invisible=>this.eTop.classList.toggle(\"ag-invisible\",invisible),setBottomInvisible:invisible=>this.eBottom.classList.toggle(\"ag-invisible\",invisible),setStickyTopHeight:height=>this.eStickyTop.style.height=height,setStickyTopTop:top=>this.eStickyTop.style.top=top,setStickyTopWidth:width=>this.eStickyTop.style.width=width,setStickyBottomHeight:height=>{this.eStickyBottom.style.height=height;this.eStickyBottom.classList.toggle(\"ag-invisible\",height===\"0px\");},setStickyBottomBottom:bottom=>this.eStickyBottom.style.bottom=bottom,setStickyBottomWidth:width=>this.eStickyBottom.style.width=width,setColumnMovingCss:(cssClass,flag)=>this.toggleCss(cssClass,flag),updateLayoutClasses:(cssClass,params)=>{var classLists=[this.eBodyViewport.classList,this.eBody.classList];for(var classList of classLists){classList.toggle(LayoutCssClasses.AUTO_HEIGHT,params.autoHeight);classList.toggle(LayoutCssClasses.NORMAL,params.normal);classList.toggle(LayoutCssClasses.PRINT,params.print);}this.toggleCss(LayoutCssClasses.AUTO_HEIGHT,params.autoHeight);this.toggleCss(LayoutCssClasses.NORMAL,params.normal);this.toggleCss(LayoutCssClasses.PRINT,params.print);},setAlwaysVerticalScrollClass:(cssClass,on)=>this.eBodyViewport.classList.toggle(CSS_CLASS_FORCE_VERTICAL_SCROLL,on),registerBodyViewportResizeListener:listener=>{var unsubscribeFromResize=_observeResize(this.beans,this.eBodyViewport,listener);this.addDestroyFunc(()=>unsubscribeFromResize());},setPinnedTopBottomOverflowY:overflow=>this.eTop.style.overflowY=this.eBottom.style.overflowY=overflow,setCellSelectableCss:(cssClass,selectable)=>{[this.eTop,this.eBodyViewport,this.eBottom].forEach(ct=>ct.classList.toggle(cssClass,selectable));},setBodyViewportWidth:width=>this.eBodyViewport.style.width=width,setGridRootRole:role=>_setAriaRole(this.eGridRoot,role)};this.ctrl=this.createManagedBean(new GridBodyCtrl());this.ctrl.setComp(compProxy,this.getGui(),this.eBodyViewport,this.eTop,this.eBottom,this.eStickyTop,this.eStickyBottom);if(rangeSvc&&_isCellSelectionEnabled(this.gos)||_isMultiRowSelection(this.gos)){_setAriaMultiSelectable(this.getGui(),true);}}setRowAnimationCssOnBodyViewport(cssClass,animateRows){var bodyViewportClassList=this.eBodyViewport.classList;bodyViewportClassList.toggle(\"ag-row-animation\",animateRows);bodyViewportClassList.toggle(\"ag-row-no-animation\",!animateRows);}};var GridBodySelector={selector:\"AG-GRID-BODY\",component:GridBodyComp};// packages/ag-grid-community/src/gridComp/gridCtrl.ts\nvar GridCtrl=class extends BeanStub{constructor(){super(...arguments);this.additionalFocusableContainers=/* @__PURE__ */new Set();}setComp(view,eGridDiv,eGui){this.view=view;this.eGridHostDiv=eGridDiv;this.eGui=eGui;this.eGui.setAttribute(\"grid-id\",this.beans.context.getGridId());var{dragAndDrop,ctrlsSvc}=this.beans;dragAndDrop===null||dragAndDrop===void 0||dragAndDrop.registerGridDropTarget(()=>this.eGui,this);_stampTopLevelGridCompWithGridInstance(this.gos,eGridDiv);this.createManagedBean(new LayoutFeature(this.view));this.view.setRtlClass(this.gos.get(\"enableRtl\")?\"ag-rtl\":\"ag-ltr\");var unsubscribeFromResize=_observeResize(this.beans,this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(()=>unsubscribeFromResize());ctrlsSvc.register(\"gridCtrl\",this);}isDetailGrid(){var _el$getAttribute;var el=_findTabbableParent(this.getGui());return(el===null||el===void 0||(_el$getAttribute=el.getAttribute(\"row-id\"))===null||_el$getAttribute===void 0?void 0:_el$getAttribute.startsWith(\"detail\"))||false;}getOptionalSelectors(){var _beans$pagination2,_beans$sideBar,_beans$registry,_beans$licenseManager;var beans=this.beans;return{paginationSelector:(_beans$pagination2=beans.pagination)===null||_beans$pagination2===void 0?void 0:_beans$pagination2.getPaginationSelector(),gridHeaderDropZonesSelector:beans.registry.getSelector(\"AG-GRID-HEADER-DROP-ZONES\"),sideBarSelector:(_beans$sideBar=beans.sideBar)===null||_beans$sideBar===void 0?void 0:_beans$sideBar.getSelector(),statusBarSelector:(_beans$registry=beans.registry)===null||_beans$registry===void 0?void 0:_beans$registry.getSelector(\"AG-STATUS-BAR\"),watermarkSelector:(_beans$licenseManager=beans.licenseManager)===null||_beans$licenseManager===void 0?void 0:_beans$licenseManager.getWatermarkSelector()};}onGridSizeChanged(){this.eventSvc.dispatchEvent({type:\"gridSizeChanged\",clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight});}destroyGridUi(){this.view.destroyGridUi();}getGui(){return this.eGui;}setResizeCursor(on){this.view.setCursor(on?\"ew-resize\":null);}disableUserSelect(on){this.view.setUserSelect(on?\"none\":null);}focusNextInnerContainer(backwards){var focusableContainers=this.getFocusableContainers();var{indexWithFocus,nextIndex}=this.getNextFocusableIndex(focusableContainers,backwards);if(nextIndex<0||nextIndex>=focusableContainers.length){return false;}if(nextIndex===0){if(indexWithFocus>0){var{visibleCols,focusSvc}=this.beans;var allColumns=visibleCols.allCols;var lastColumn=_last(allColumns);if(focusSvc.focusGridView({column:lastColumn,backwards:true})){return true;}}return false;}return this.focusContainer(focusableContainers[nextIndex],backwards);}focusInnerElement(fromBottom){var userCallbackFunction=this.gos.getCallback(\"focusGridInnerElement\");if(userCallbackFunction&&userCallbackFunction({fromBottom:!!fromBottom})){return true;}var focusableContainers=this.getFocusableContainers();var{focusSvc,visibleCols}=this.beans;var allColumns=visibleCols.allCols;if(fromBottom){if(focusableContainers.length>1){return this.focusContainer(_last(focusableContainers),fromBottom);}var lastColumn=_last(allColumns);if(focusSvc.focusGridView({column:lastColumn,backwards:fromBottom})){return true;}}if(this.gos.get(\"headerHeight\")===0||_isHeaderFocusSuppressed(this.beans)){if(focusSvc.focusGridView({column:allColumns[0],backwards:fromBottom})){return true;}for(var i=1;i<focusableContainers.length;i++){if(_focusInto(focusableContainers[i].getGui(),fromBottom)){return true;}}return false;}return focusSvc.focusFirstHeader();}forceFocusOutOfContainer(){var up=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;this.view.forceFocusOutOfContainer(up);}addFocusableContainer(container){this.additionalFocusableContainers.add(container);}removeFocusableContainer(container){this.additionalFocusableContainers.delete(container);}allowFocusForNextCoreContainer(up){var _comp$setAllowFocus;var coreContainers=this.view.getFocusableContainers();var{nextIndex,indexWithFocus}=this.getNextFocusableIndex(coreContainers,up);if(indexWithFocus===-1||nextIndex<0||nextIndex>=coreContainers.length){return;}var comp=coreContainers[nextIndex];(_comp$setAllowFocus=comp.setAllowFocus)===null||_comp$setAllowFocus===void 0||_comp$setAllowFocus.call(comp,true);setTimeout(()=>{var _comp$setAllowFocus2;(_comp$setAllowFocus2=comp.setAllowFocus)===null||_comp$setAllowFocus2===void 0||_comp$setAllowFocus2.call(comp,false);});}isFocusable(){var _beans$sideBar2;var beans=this.beans;return!_isCellFocusSuppressed(beans)||!_isHeaderFocusSuppressed(beans)||!!((_beans$sideBar2=beans.sideBar)!==null&&_beans$sideBar2!==void 0&&(_beans$sideBar2=_beans$sideBar2.comp)!==null&&_beans$sideBar2!==void 0&&_beans$sideBar2.isDisplayed());}getNextFocusableIndex(focusableContainers,backwards){var activeEl=_getActiveDomElement(this.beans);var indexWithFocus=focusableContainers.findIndex(container=>container.getGui().contains(activeEl));var nextIndex=indexWithFocus+(backwards?-1:1);return{indexWithFocus,nextIndex};}focusContainer(comp,up){var _comp$setAllowFocus3,_comp$setAllowFocus4;(_comp$setAllowFocus3=comp.setAllowFocus)===null||_comp$setAllowFocus3===void 0||_comp$setAllowFocus3.call(comp,true);var result=_focusInto(comp.getGui(),up,false,true);(_comp$setAllowFocus4=comp.setAllowFocus)===null||_comp$setAllowFocus4===void 0||_comp$setAllowFocus4.call(comp,false);return result;}getFocusableContainers(){return[...this.view.getFocusableContainers(),...this.additionalFocusableContainers];}destroy(){this.additionalFocusableContainers.clear();super.destroy();}};// packages/ag-grid-community/src/gridComp/gridComp.ts\nvar GridComp=class extends TabGuardComp{constructor(eGridDiv){super();this.gridBody=RefPlaceholder;this.sideBar=RefPlaceholder;this.pagination=RefPlaceholder;this.rootWrapperBody=RefPlaceholder;this.eGridDiv=eGridDiv;}postConstruct(){var compProxy={destroyGridUi:()=>this.destroyBean(this),setRtlClass:cssClass=>this.addCss(cssClass),forceFocusOutOfContainer:this.forceFocusOutOfContainer.bind(this),updateLayoutClasses:this.updateLayoutClasses.bind(this),getFocusableContainers:this.getFocusableContainers.bind(this),setUserSelect:value=>{this.getGui().style.userSelect=value!=null?value:\"\";this.getGui().style.webkitUserSelect=value!=null?value:\"\";},setCursor:value=>{this.getGui().style.cursor=value!=null?value:\"\";}};var ctrl=this.createManagedBean(new GridCtrl());var comps=ctrl.getOptionalSelectors();var template=this.createTemplate(comps);var requiredComps=[GridBodySelector,...Object.values(comps).filter(c=>!!c)];this.setTemplate(template,requiredComps);ctrl.setComp(compProxy,this.eGridDiv,this.getGui());this.insertGridIntoDom();this.initialiseTabGuard({// we want to override the default behaviour to do nothing for onTabKeyDown\nonTabKeyDown:()=>void 0,focusInnerElement:fromBottom=>ctrl.focusInnerElement(fromBottom),forceFocusOutWhenTabGuardsAreEmpty:true,isEmpty:()=>!ctrl.isFocusable()});}insertGridIntoDom(){var eGui=this.getGui();this.eGridDiv.appendChild(eGui);this.addDestroyFunc(()=>{this.eGridDiv.removeChild(eGui);_logIfDebug(this.gos,\"Grid removed from DOM\");});}updateLayoutClasses(cssClass,params){var eRootWrapperBodyClassList=this.rootWrapperBody.classList;var{AUTO_HEIGHT,NORMAL,PRINT}=LayoutCssClasses;var{autoHeight,normal,print}=params;eRootWrapperBodyClassList.toggle(AUTO_HEIGHT,autoHeight);eRootWrapperBodyClassList.toggle(NORMAL,normal);eRootWrapperBodyClassList.toggle(PRINT,print);this.toggleCss(AUTO_HEIGHT,autoHeight);this.toggleCss(NORMAL,normal);this.toggleCss(PRINT,print);}createTemplate(params){var dropZones=params.gridHeaderDropZonesSelector?{tag:\"ag-grid-header-drop-zones\"}:null;var sideBar=params.sideBarSelector?{tag:\"ag-side-bar\",ref:\"sideBar\"}:null;var statusBar=params.statusBarSelector?{tag:\"ag-status-bar\"}:null;var watermark=params.watermarkSelector?{tag:\"ag-watermark\"}:null;var pagination=params.paginationSelector?{tag:\"ag-pagination\",ref:\"pagination\"}:null;return{tag:\"div\",cls:\"ag-root-wrapper\",role:\"presentation\",children:[dropZones,{tag:\"div\",ref:\"rootWrapperBody\",cls:\"ag-root-wrapper-body\",role:\"presentation\",children:[{tag:\"ag-grid-body\",ref:\"gridBody\"},sideBar]},statusBar,pagination,watermark]};}getFocusableElement(){return this.rootWrapperBody;}forceFocusOutOfContainer(){var _this$pagination;var up=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;if(!up&&(_this$pagination=this.pagination)!==null&&_this$pagination!==void 0&&_this$pagination.isDisplayed()){this.pagination.forceFocusOutOfContainer(up);return;}super.forceFocusOutOfContainer(up);}getFocusableContainers(){var focusableContainers=[this.gridBody];[this.sideBar,this.pagination].forEach(comp=>{if(comp){focusableContainers.push(comp);}});return focusableContainers.filter(el=>_isVisible(el.getGui()));}};// packages/ag-grid-community/src/api/gridApiFunctions.ts\nvar mod=(moduleName,input)=>{for(var key of Object.keys(input)){input[key]=moduleName;}return input;};var gridApiFunctionsMap=_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread({dispatchEvent:\"CommunityCore\"},mod(\"CommunityCore\",{destroy:0,getGridId:0,getGridOption:0,isDestroyed:0,setGridOption:0,updateGridOptions:0,isModuleRegistered:0})),mod(\"GridState\",{getState:0,setState:0})),mod(\"SharedRowSelection\",{setNodesSelected:0,selectAll:0,deselectAll:0,selectAllFiltered:0,deselectAllFiltered:0,selectAllOnCurrentPage:0,deselectAllOnCurrentPage:0,getSelectedNodes:0,getSelectedRows:0})),mod(\"RowApi\",{redrawRows:0,setRowNodeExpanded:0,getRowNode:0,addRenderedRowListener:0,getRenderedNodes:0,forEachNode:0,getFirstDisplayedRowIndex:0,getLastDisplayedRowIndex:0,getDisplayedRowAtIndex:0,getDisplayedRowCount:0})),mod(\"ScrollApi\",{getVerticalPixelRange:0,getHorizontalPixelRange:0,ensureColumnVisible:0,ensureIndexVisible:0,ensureNodeVisible:0})),mod(\"KeyboardNavigation\",{getFocusedCell:0,clearFocusedCell:0,setFocusedCell:0,tabToNextCell:0,tabToPreviousCell:0,setFocusedHeader:0})),mod(\"EventApi\",{addEventListener:0,addGlobalListener:0,removeEventListener:0,removeGlobalListener:0})),mod(\"ValueCache\",{expireValueCache:0})),mod(\"CellApi\",{getCellValue:0})),mod(\"SharedMenu\",{showColumnMenu:0,hidePopupMenu:0})),mod(\"Sort\",{onSortChanged:0})),mod(\"PinnedRow\",{getPinnedTopRowCount:0,getPinnedBottomRowCount:0,getPinnedTopRow:0,getPinnedBottomRow:0,forEachPinnedRow:0})),mod(\"Overlay\",{showLoadingOverlay:0,showNoRowsOverlay:0,hideOverlay:0})),mod(\"RenderApi\",{setGridAriaProperty:0,refreshCells:0,refreshHeader:0,isAnimationFrameQueueEmpty:0,flushAllAnimationFrames:0,getSizesForCurrentTheme:0,getCellRendererInstances:0})),mod(\"HighlightChanges\",{flashCells:0})),mod(\"RowDrag\",{addRowDropZone:0,removeRowDropZone:0,getRowDropZoneParams:0,getRowDropPositionIndicator:0,setRowDropPositionIndicator:0})),mod(\"ColumnApi\",{getColumnDefs:0,getColumnDef:0,getDisplayNameForColumn:0,getColumn:0,getColumns:0,applyColumnState:0,getColumnState:0,resetColumnState:0,isPinning:0,isPinningLeft:0,isPinningRight:0,getDisplayedColAfter:0,getDisplayedColBefore:0,setColumnsVisible:0,setColumnsPinned:0,getAllGridColumns:0,getDisplayedLeftColumns:0,getDisplayedCenterColumns:0,getDisplayedRightColumns:0,getAllDisplayedColumns:0,getAllDisplayedVirtualColumns:0})),mod(\"ColumnAutoSize\",{sizeColumnsToFit:0,autoSizeColumns:0,autoSizeAllColumns:0})),mod(\"ColumnGroup\",{setColumnGroupOpened:0,getColumnGroup:0,getProvidedColumnGroup:0,getDisplayNameForColumnGroup:0,getColumnGroupState:0,setColumnGroupState:0,resetColumnGroupState:0,getLeftDisplayedColumnGroups:0,getCenterDisplayedColumnGroups:0,getRightDisplayedColumnGroups:0,getAllDisplayedColumnGroups:0})),mod(\"ColumnMove\",{moveColumnByIndex:0,moveColumns:0})),mod(\"ColumnResize\",{setColumnWidths:0})),mod(\"ColumnHover\",{isColumnHovered:0})),mod(\"EditCore\",{getCellEditorInstances:0,getEditingCells:0,stopEditing:0,startEditingCell:0,isEditing:0,validateEdit:0})),mod(\"BatchEdit\",{startBatchEdit:0,cancelBatchEdit:0,commitBatchEdit:0,isBatchEditing:0})),mod(\"UndoRedoEdit\",{undoCellEditing:0,redoCellEditing:0,getCurrentUndoSize:0,getCurrentRedoSize:0})),mod(\"FilterCore\",{isAnyFilterPresent:0,onFilterChanged:0})),mod(\"ColumnFilter\",{isColumnFilterPresent:0,getColumnFilterInstance:0,destroyFilter:0,setFilterModel:0,getFilterModel:0,getColumnFilterModel:0,setColumnFilterModel:0,showColumnFilter:0,getColumnFilterHandler:0,doFilterAction:0})),mod(\"QuickFilter\",{isQuickFilterPresent:0,getQuickFilter:0,resetQuickFilter:0})),mod(\"Find\",{findGetActiveMatch:0,findGetTotalMatches:0,findGoTo:0,findNext:0,findPrevious:0,findGetNumMatches:0,findGetParts:0,findClearActive:0,findRefresh:0})),mod(\"Pagination\",{paginationIsLastPageFound:0,paginationGetPageSize:0,paginationGetCurrentPage:0,paginationGetTotalPages:0,paginationGetRowCount:0,paginationGoToNextPage:0,paginationGoToPreviousPage:0,paginationGoToFirstPage:0,paginationGoToLastPage:0,paginationGoToPage:0})),mod(\"CsrmSsrmSharedApi\",{expandAll:0,collapseAll:0,onRowHeightChanged:0})),mod(\"SsrmInfiniteSharedApi\",{setRowCount:0,getCacheBlockState:0,isLastRowIndexKnown:0})),mod(\"ClientSideRowModelApi\",{onGroupExpandedOrCollapsed:0,refreshClientSideRowModel:0,isRowDataEmpty:0,forEachLeafNode:0,forEachNodeAfterFilter:0,forEachNodeAfterFilterAndSort:0,resetRowHeights:0,applyTransaction:0,applyTransactionAsync:0,flushAsyncTransactions:0,getBestCostNodeSelection:0})),mod(\"CsvExport\",{getDataAsCsv:0,exportDataAsCsv:0})),mod(\"InfiniteRowModel\",{refreshInfiniteCache:0,purgeInfiniteCache:0,getInfiniteRowCount:0})),mod(\"AdvancedFilter\",{getAdvancedFilterModel:0,setAdvancedFilterModel:0,showAdvancedFilterBuilder:0,hideAdvancedFilterBuilder:0})),mod(\"IntegratedCharts\",{getChartModels:0,getChartRef:0,getChartImageDataURL:0,downloadChart:0,openChartToolPanel:0,closeChartToolPanel:0,createRangeChart:0,createPivotChart:0,createCrossFilterChart:0,updateChart:0,restoreChart:0})),mod(\"Clipboard\",{copyToClipboard:0,cutToClipboard:0,copySelectedRowsToClipboard:0,copySelectedRangeToClipboard:0,copySelectedRangeDown:0,pasteFromClipboard:0})),mod(\"ExcelExport\",{getDataAsExcel:0,exportDataAsExcel:0,getSheetDataForExcel:0,getMultipleSheetsAsExcel:0,exportMultipleSheetsAsExcel:0})),mod(\"SharedMasterDetail\",{addDetailGridInfo:0,removeDetailGridInfo:0,getDetailGridInfo:0,forEachDetailGridInfo:0})),mod(\"ContextMenu\",{showContextMenu:0})),mod(\"ColumnMenu\",{showColumnChooser:0,hideColumnChooser:0})),mod(\"CellSelection\",{getCellRanges:0,addCellRange:0,clearRangeSelection:0,clearCellSelection:0})),mod(\"SharedRowGrouping\",{setRowGroupColumns:0,removeRowGroupColumns:0,addRowGroupColumns:0,getRowGroupColumns:0,moveRowGroupColumn:0})),mod(\"SharedAggregation\",{addAggFuncs:0,clearAggFuncs:0,setColumnAggFunc:0})),mod(\"SharedPivot\",{isPivotMode:0,getPivotResultColumn:0,setValueColumns:0,getValueColumns:0,removeValueColumns:0,addValueColumns:0,setPivotColumns:0,removePivotColumns:0,addPivotColumns:0,getPivotColumns:0,setPivotResultColumns:0,getPivotResultColumns:0})),mod(\"ServerSideRowModelApi\",{getServerSideSelectionState:0,setServerSideSelectionState:0,applyServerSideTransaction:0,applyServerSideTransactionAsync:0,applyServerSideRowData:0,retryServerSideLoads:0,flushServerSideAsyncTransactions:0,refreshServerSide:0,getServerSideGroupLevelState:0})),mod(\"SideBar\",{isSideBarVisible:0,setSideBarVisible:0,setSideBarPosition:0,openToolPanel:0,closeToolPanel:0,getOpenedToolPanel:0,refreshToolPanel:0,isToolPanelShowing:0,getToolPanelInstance:0,getSideBar:0})),mod(\"StatusBar\",{getStatusPanel:0}));// packages/ag-grid-community/src/api/apiFunctionService.ts\nvar defaultFns={isDestroyed:()=>true,destroy(){},preConstruct(){},postConstruct(){},preWireBeans(){},wireBeans(){}};var dispatchEvent=(beans,event)=>beans.eventSvc.dispatchEvent(event);var GridApiClass=class{};Reflect.defineProperty(GridApiClass,\"name\",{value:\"GridApi\"});var ApiFunctionService=class extends BeanStub{constructor(){super();this.beanName=\"apiFunctionSvc\";this.api=new GridApiClass();this.fns=_objectSpread(_objectSpread({},defaultFns),{},{// dispatchEvent is used by frameworks, also used by aligned grids to identify a grid api instance\ndispatchEvent});this.preDestroyLink=\"\";var{api}=this;for(var key of Object.keys(gridApiFunctionsMap)){api[key]=this.makeApi(key)[key];}}postConstruct(){this.preDestroyLink=this.beans.frameworkOverrides.getDocLink(\"grid-lifecycle/#grid-pre-destroyed\");}addFunction(functionName,func){var{fns,beans}=this;if(fns!==defaultFns){var _beans$validation$val,_beans$validation2;fns[functionName]=(_beans$validation$val=beans===null||beans===void 0||(_beans$validation2=beans.validation)===null||_beans$validation2===void 0?void 0:_beans$validation2.validateApiFunction(functionName,func))!==null&&_beans$validation$val!==void 0?_beans$validation$val:func;}}makeApi(apiName){var _this2=this;return{[apiName]:function(){var{beans,fns:{[apiName]:fn}}=_this2;for(var _len8=arguments.length,args=new Array(_len8),_key9=0;_key9<_len8;_key9++){args[_key9]=arguments[_key9];}return fn?fn(beans,...args):_this2.apiNotFound(apiName);}};}apiNotFound(fnName){var{beans,gos,preDestroyLink}=this;if(!beans){_warn(26,{fnName,preDestroyLink});}else{var module=gridApiFunctionsMap[fnName];if(gos.assertModuleRegistered(module,\"api.\".concat(fnName))){_warn(27,{fnName,module});}}}destroy(){super.destroy();this.fns=defaultFns;this.beans=null;}};// packages/ag-grid-community/src/api/coreApi.ts\nfunction getGridId(beans){return beans.context.getGridId();}function destroy(beans){beans.gridDestroySvc.destroy();}function isDestroyed(beans){return beans.gridDestroySvc.destroyCalled;}function getGridOption(beans,key){return beans.gos.get(key);}function setGridOption(beans,key,value){updateGridOptions(beans,{[key]:value});}function updateGridOptions(beans,options){beans.gos.updateGridOptions({options});}function isModuleRegistered(beans,moduleName){var withoutSuffix=moduleName.replace(/Module$/,\"\");return beans.gos.isModuleRegistered(withoutSuffix);}// packages/ag-grid-community/src/rendering/dndSourceComp.ts\nvar DndSourceElement={tag:\"div\",cls:\"ag-drag-handle ag-row-drag\",attrs:{draggable:\"true\"}};var DndSourceComp=class extends Component{constructor(rowNode,column,eCell){super(DndSourceElement);this.rowNode=rowNode;this.column=column;this.eCell=eCell;}postConstruct(){var eGui=this.getGui();eGui.appendChild(_createIconNoSpan(\"rowDrag\",this.beans,null));this.addGuiEventListener(\"mousedown\",e=>{e.stopPropagation();});this.addDragSource();this.checkVisibility();}addDragSource(){this.addGuiEventListener(\"dragstart\",this.onDragStart.bind(this));}onDragStart(dragEvent){var{rowNode,column,eCell,gos}=this;var providedOnRowDrag=column.getColDef().dndSourceOnRowDrag;var dataTransfer=dragEvent.dataTransfer;dataTransfer.setDragImage(eCell,0,0);if(providedOnRowDrag){var params=_addGridCommonParams(gos,{rowNode,dragEvent});providedOnRowDrag(params);}else{try{var jsonData=JSON.stringify(rowNode.data);dataTransfer.setData(\"application/json\",jsonData);dataTransfer.setData(\"text/plain\",jsonData);}catch(e){}}}checkVisibility(){var visible=this.column.isDndSource(this.rowNode);this.setDisplayed(visible);}};// packages/ag-grid-community/src/dragAndDrop/dragApi.ts\nfunction addRowDropZone(beans,params){var _beans$rowDragSvc;(_beans$rowDragSvc=beans.rowDragSvc)===null||_beans$rowDragSvc===void 0||(_beans$rowDragSvc=_beans$rowDragSvc.rowDragFeature)===null||_beans$rowDragSvc===void 0||_beans$rowDragSvc.addRowDropZone(params);}function removeRowDropZone(beans,params){var _beans$dragAndDrop;var activeDropTarget=(_beans$dragAndDrop=beans.dragAndDrop)===null||_beans$dragAndDrop===void 0?void 0:_beans$dragAndDrop.findExternalZone(params);if(activeDropTarget){var _beans$dragAndDrop2;(_beans$dragAndDrop2=beans.dragAndDrop)===null||_beans$dragAndDrop2===void 0||_beans$dragAndDrop2.removeDropTarget(activeDropTarget);}}function getRowDropZoneParams(beans,events){var _beans$rowDragSvc2;return(_beans$rowDragSvc2=beans.rowDragSvc)===null||_beans$rowDragSvc2===void 0||(_beans$rowDragSvc2=_beans$rowDragSvc2.rowDragFeature)===null||_beans$rowDragSvc2===void 0?void 0:_beans$rowDragSvc2.getRowDropZone(events);}function getRowDropPositionIndicator(beans){var rowDropHighlightSvc=beans.rowDropHighlightSvc;return rowDropHighlightSvc?{row:rowDropHighlightSvc.row,dropIndicatorPosition:rowDropHighlightSvc.position}:{row:null,dropIndicatorPosition:\"none\"};}function setRowDropPositionIndicator(beans,params){var rowDropHighlightSvc=beans.rowDropHighlightSvc;if(!rowDropHighlightSvc){return;}var rowNode=params===null||params===void 0?void 0:params.row;var position=params===null||params===void 0?void 0:params.dropIndicatorPosition;if(position!==\"above\"&&position!==\"below\"&&position!==\"inside\"){position=\"none\";}var rowIndex=rowNode===null||rowNode===void 0?void 0:rowNode.rowIndex;if(rowIndex===null||rowIndex===void 0||position===\"none\"){rowDropHighlightSvc.clear();}else{rowDropHighlightSvc.set(rowNode,position);}}// packages/ag-grid-community/src/dragAndDrop/horizontalResizeService.ts\nvar HorizontalResizeService=class extends BeanStub{constructor(){super(...arguments);this.beanName=\"horizontalResizeSvc\";}addResizeBar(params){var dragSource={dragStartPixels:params.dragStartPixels||0,eElement:params.eResizeBar,onDragStart:this.onDragStart.bind(this,params),onDragStop:this.onDragStop.bind(this,params),onDragging:this.onDragging.bind(this,params),onDragCancel:this.onDragStop.bind(this,params),includeTouch:true,stopPropagationForTouch:true};var{dragSvc}=this.beans;dragSvc.addDragSource(dragSource);var finishedWithResizeFunc=()=>dragSvc.removeDragSource(dragSource);return finishedWithResizeFunc;}onDragStart(params,mouseEvent){this.dragStartX=mouseEvent.clientX;this.setResizeIcons();var shiftKey=mouseEvent instanceof MouseEvent&&mouseEvent.shiftKey===true;params.onResizeStart(shiftKey);}setResizeIcons(){var ctrl=this.beans.ctrlsSvc.get(\"gridCtrl\");ctrl.setResizeCursor(true);ctrl.disableUserSelect(true);}onDragStop(params){params.onResizeEnd(this.resizeAmount);this.resetIcons();}resetIcons(){var ctrl=this.beans.ctrlsSvc.get(\"gridCtrl\");ctrl.setResizeCursor(false);ctrl.disableUserSelect(false);}onDragging(params,mouseEvent){this.resizeAmount=mouseEvent.clientX-this.dragStartX;params.onResizing(this.resizeAmount);}};// packages/ag-grid-community/src/dragAndDrop/rowDragComp.ts\nvar RowDragElement={tag:\"div\",cls:\"ag-drag-handle ag-row-drag\",attrs:{\"aria-hidden\":\"true\"}};var RowDragComp=class extends Component{constructor(cellValueFn,rowNode,column,customGui,dragStartPixels,suppressVisibilityChange){super();this.cellValueFn=cellValueFn;this.rowNode=rowNode;this.column=column;this.customGui=customGui;this.dragStartPixels=dragStartPixels;this.suppressVisibilityChange=suppressVisibilityChange;this.dragSource=null;}isCustomGui(){return this.customGui!=null;}postConstruct(){var{beans,rowNode,column,gos}=this;if(!this.customGui){this.setTemplate(RowDragElement);this.getGui().appendChild(_createIconNoSpan(\"rowDrag\",beans,null));this.addDragSource();}else{this.setDragElement(this.customGui,this.dragStartPixels);}if(!this.suppressVisibilityChange){var strategy=gos.get(\"rowDragManaged\")?new ManagedVisibilityStrategy(this,rowNode,column):new NonManagedVisibilityStrategy(this,rowNode,column);this.createManagedBean(strategy,this.beans.context);}}setDragElement(dragElement,dragStartPixels){this.setTemplateFromElement(dragElement,void 0,void 0,true);this.addDragSource(dragStartPixels);}getSelectedNodes(){var _this$beans$selection0,_this$beans$selection1;var rowNode=this.rowNode;var isRowDragMultiRow=this.gos.get(\"rowDragMultiRow\");if(!isRowDragMultiRow){return[rowNode];}var selection=(_this$beans$selection0=(_this$beans$selection1=this.beans.selectionSvc)===null||_this$beans$selection1===void 0?void 0:_this$beans$selection1.getSelectedNodes())!==null&&_this$beans$selection0!==void 0?_this$beans$selection0:[];return selection.indexOf(rowNode)!==-1?selection:[rowNode];}getDragItem(){var{column,rowNode}=this;return{rowNode,rowNodes:this.getSelectedNodes(),columns:column?[column]:void 0,defaultTextValue:this.cellValueFn()};}getRowDragText(column){if(column){var colDef=column.getColDef();if(colDef.rowDragText){return colDef.rowDragText;}}return this.gos.get(\"rowDragText\");}addDragSource(){var dragStartPixels=arguments.length>0&&arguments[0]!==undefined?arguments[0]:4;if(this.dragSource){this.removeDragSource();}if(this.gos.get(\"rowDragManaged\")&&this.rowNode.footer){return;}var eGui=this.getGui();if(this.gos.get(\"enableCellTextSelection\")){this.removeMouseDownListener();this.mouseDownListener=this.addManagedElementListeners(eGui,{mousedown:e=>{e===null||e===void 0||e.preventDefault();}})[0];}var translate=this.getLocaleTextFunc();this.dragSource={type:2/* RowDrag */,eElement:eGui,dragItemName:()=>{var _dragItem$rowNodes;var dragItem=this.getDragItem();var dragItemCount=((_dragItem$rowNodes=dragItem.rowNodes)===null||_dragItem$rowNodes===void 0?void 0:_dragItem$rowNodes.length)||1;var rowDragText=this.getRowDragText(this.column);if(rowDragText){return rowDragText(dragItem,dragItemCount);}return dragItemCount===1?this.cellValueFn():\"\".concat(dragItemCount,\" \").concat(translate(\"rowDragRows\",\"rows\"));},getDragItem:()=>this.getDragItem(),dragStartPixels,dragSourceDomDataKey:this.gos.getDomDataKey()};this.beans.dragAndDrop.addDragSource(this.dragSource,true);}destroy(){this.removeDragSource();this.removeMouseDownListener();super.destroy();}removeDragSource(){if(!this.dragSource){return;}this.beans.dragAndDrop.removeDragSource(this.dragSource);this.dragSource=null;}removeMouseDownListener(){if(!this.mouseDownListener){return;}this.mouseDownListener();this.mouseDownListener=void 0;}};var VisibilityStrategy=class extends BeanStub{constructor(parent,rowNode,column){super();this.parent=parent;this.rowNode=rowNode;this.column=column;}setDisplayedOrVisible(neverDisplayed){var alwaysHidden=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var displayedOptions={skipAriaHidden:true};if(neverDisplayed){this.parent.setDisplayed(false,displayedOptions);}else{var shown=!alwaysHidden;var isShownSometimes=false;var{column,rowNode,parent}=this;if(column){var rowDrag=column.getColDef().rowDrag;isShownSometimes=typeof rowDrag===\"function\";shown=(alwaysHidden?!!rowDrag:column.isRowDrag(rowNode))||parent.isCustomGui();}if(isShownSometimes){parent.setDisplayed(true,displayedOptions);parent.setVisible(shown&&!alwaysHidden,displayedOptions);}else{parent.setDisplayed(shown,displayedOptions);parent.setVisible(!alwaysHidden,displayedOptions);}}}};var NonManagedVisibilityStrategy=class extends VisibilityStrategy{postConstruct(){this.addManagedPropertyListener(\"suppressRowDrag\",this.onSuppressRowDrag.bind(this));var listener=this.workOutVisibility.bind(this);this.addManagedListeners(this.rowNode,{dataChanged:listener,cellChanged:listener});this.addManagedListeners(this.beans.eventSvc,{newColumnsLoaded:listener});this.workOutVisibility();}onSuppressRowDrag(){this.workOutVisibility();}workOutVisibility(){var neverDisplayed=this.gos.get(\"suppressRowDrag\");this.setDisplayedOrVisible(neverDisplayed);}};var ManagedVisibilityStrategy=class extends VisibilityStrategy{postConstruct(){var listener=this.workOutVisibility.bind(this);this.addManagedListeners(this.beans.eventSvc,{sortChanged:listener,filterChanged:listener,columnRowGroupChanged:listener,newColumnsLoaded:listener});this.addManagedListeners(this.rowNode,{dataChanged:listener,cellChanged:listener});this.addManagedPropertyListener(\"suppressRowDrag\",this.onSuppressRowDrag.bind(this));this.workOutVisibility();}onSuppressRowDrag(){this.workOutVisibility();}workOutVisibility(){var{rowDragSvc,dragAndDrop,gos}=this.beans;var rowDragFeature=rowDragSvc.rowDragFeature;var shouldPreventRowMove=rowDragFeature&&rowDragFeature.shouldPreventRowMove();var suppressRowDrag=gos.get(\"suppressRowDrag\");var hasExternalDropZones=dragAndDrop.hasExternalDropZones();var neverDisplayed=shouldPreventRowMove&&!hasExternalDropZones||suppressRowDrag;this.setDisplayedOrVisible(neverDisplayed,this.rowNode.footer);}};// packages/ag-grid-community/src/utils/changedPath.ts\nvar ChangedPath=class{constructor(keepingColumns,rootNode){// whether changed path is active of not. it is active when a) doing\n// a transaction update or b) doing change detection. if we are doing\n// a CSRM refresh for other reasons (after sort or filter, or user calling\n// setRowData() without delta mode) then we are not active. we are also\n// marked as not active if secondary columns change in pivot (as this impacts\n// aggregations).\n// can be set inactive by:\n// a) ClientSideRowModel, if no transactions or\n// b) PivotService, if secondary columns changed\nthis.active=true;// for each node in the change path, we also store which columns need\n// to be re-aggregated.\nthis.nodeIdsToColumns={};// for quick lookup, all items in the change path are mapped by nodeId\nthis.mapToItems={};this.keepingColumns=keepingColumns;this.pathRoot={rowNode:rootNode,children:null};this.mapToItems[rootNode.id]=this.pathRoot;}depthFirstSearchChangedPath(pathItem,callback){var{rowNode,children}=pathItem;if(children){for(var i=0;i<children.length;++i){this.depthFirstSearchChangedPath(children[i],callback);}}callback(rowNode);}depthFirstSearchEverything(rowNode,callback,traverseEverything){var childrenAfterGroup=rowNode.childrenAfterGroup;if(childrenAfterGroup){for(var i=0,len=childrenAfterGroup.length;i<len;++i){var childNode=childrenAfterGroup[i];if(childNode.childrenAfterGroup){this.depthFirstSearchEverything(childNode,callback,traverseEverything);}else if(traverseEverything){callback(childNode);}}}callback(rowNode);}// traverseLeafNodes -> used when NOT doing changed path, ie traversing everything. the callback\n// will be called for child nodes in addition to parent nodes.\nforEachChangedNodeDepthFirst(callback){var traverseLeafNodes=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var includeUnchangedNodes=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if(this.active&&!includeUnchangedNodes){this.depthFirstSearchChangedPath(this.pathRoot,callback);}else{this.depthFirstSearchEverything(this.pathRoot.rowNode,callback,traverseLeafNodes);}}executeFromRootNode(callback){callback(this.pathRoot.rowNode);}createPathItems(rowNode){var pointer=rowNode;var newEntryCount=0;while(!this.mapToItems[pointer.id]){var newEntry={rowNode:pointer,children:null};this.mapToItems[pointer.id]=newEntry;newEntryCount++;pointer=pointer.parent;}return newEntryCount;}populateColumnsMap(rowNode,columns){if(!this.keepingColumns||!columns){return;}var pointer=rowNode;while(pointer){if(!this.nodeIdsToColumns[pointer.id]){this.nodeIdsToColumns[pointer.id]={};}columns.forEach(col=>this.nodeIdsToColumns[pointer.id][col.getId()]=true);pointer=pointer.parent;}}linkPathItems(rowNode,newEntryCount){var pointer=rowNode;for(var i=0;i<newEntryCount;i++){var thisItem=this.mapToItems[pointer.id];var parentItem=this.mapToItems[pointer.parent.id];if(!parentItem.children){parentItem.children=[];}parentItem.children.push(thisItem);pointer=pointer.parent;}}// called by\n// 1) change detection (provides cols) and\n// 2) groupStage if doing transaction update (doesn't provide cols)\naddParentNode(rowNode,columns){if(!rowNode||rowNode.isRowPinned()){return;}var newEntryCount=this.createPathItems(rowNode);this.linkPathItems(rowNode,newEntryCount);this.populateColumnsMap(rowNode,columns);}canSkip(rowNode){return this.active&&!this.mapToItems[rowNode.id];}getValueColumnsForNode(rowNode,valueColumns){if(!this.keepingColumns){return valueColumns;}var colsForThisNode=this.nodeIdsToColumns[rowNode.id];var result=valueColumns.filter(col=>colsForThisNode[col.getId()]);return result;}getNotValueColumnsForNode(rowNode,valueColumns){if(!this.keepingColumns){return null;}var colsForThisNode=this.nodeIdsToColumns[rowNode.id];var result=valueColumns.filter(col=>!colsForThisNode[col.getId()]);return result;}};// packages/ag-grid-community/src/dragAndDrop/rowDragFeature.ts\nvar RowDragFeature=class extends BeanStub{constructor(eContainer){super();this.eContainer=null;this.lastDraggingEvent=null;this.autoScrollService=null;this.makeGroupThrottleTimer=null;this.makeGroupThrottleTarget=null;this.makeGroupThrottled=false;this.makeGroupThrottleCallback=()=>{this.makeGroupThrottleTimer=null;var event=this.lastDraggingEvent;if(event){this.makeGroupThrottled=true;this.doManagedDrag(event,false);this.makeGroupExpanded(this.makeGroupThrottleTarget);}};this.eContainer=eContainer;}postConstruct(){var{rowModel,gos,ctrlsSvc}=this.beans;if(_isClientSideRowModel(gos,rowModel)){this.clientSideRowModel=rowModel;}ctrlsSvc.whenReady(this,p=>{var gridBodyCon=p.gridBodyCtrl;var oldVScroll=0;var getVScroll2=()=>gridBodyCon.scrollFeature.getVScrollPosition().top;this.autoScrollService=new AutoScrollService({scrollContainer:gridBodyCon.eBodyViewport,scrollAxis:\"y\",getVerticalPosition:getVScroll2,setVerticalPosition:position=>gridBodyCon.scrollFeature.setVerticalScrollPosition(position),onScrollCallback:()=>{var newVScroll=getVScroll2();if(oldVScroll!==newVScroll){oldVScroll=newVScroll;var lastDraggingEvent=this.lastDraggingEvent;if(lastDraggingEvent){this.onDragging(lastDraggingEvent);}}}});});}destroy(){super.destroy();this.eContainer=null;this.lastDraggingEvent=null;this.makeGroupThrottleClear();var autoScrollService=this.autoScrollService;if(autoScrollService){this.autoScrollService=null;autoScrollService===null||autoScrollService===void 0||autoScrollService.ensureCleared();}}getContainer(){return this.eContainer;}isInterestedIn(type){return type===2/* RowDrag */;}getIconName(){var managedDrag=this.gos.get(\"rowDragManaged\");if(managedDrag&&this.shouldPreventRowMove()){return\"notAllowed\";}return\"move\";}shouldPreventRowMove(){var _rowGroupColsSvc$colu4;var{rowGroupColsSvc,filterManager,sortSvc}=this.beans;var rowGroupCols=(_rowGroupColsSvc$colu4=rowGroupColsSvc===null||rowGroupColsSvc===void 0?void 0:rowGroupColsSvc.columns)!==null&&_rowGroupColsSvc$colu4!==void 0?_rowGroupColsSvc$colu4:[];if(rowGroupCols.length){return true;}var isFilterPresent=filterManager===null||filterManager===void 0?void 0:filterManager.isAnyFilterPresent();if(isFilterPresent){return true;}var isSortActive=sortSvc===null||sortSvc===void 0?void 0:sortSvc.isSortActive();if(isSortActive){return true;}return false;}getRowNodes(draggingEvent){if(!this.isFromThisGrid(draggingEvent)){return draggingEvent.dragItem.rowNodes||[];}var currentNode=draggingEvent.dragItem.rowNode;var isRowDragMultiRow=this.gos.get(\"rowDragMultiRow\");if(isRowDragMultiRow){var _this$beans$selection10,_this$beans$selection11;var selectedNodes=[...((_this$beans$selection10=(_this$beans$selection11=this.beans.selectionSvc)===null||_this$beans$selection11===void 0?void 0:_this$beans$selection11.getSelectedNodes())!==null&&_this$beans$selection10!==void 0?_this$beans$selection10:[])].sort((a,b)=>{if(a.rowIndex==null||b.rowIndex==null){return 0;}return this.getRowIndexNumber(a)-this.getRowIndexNumber(b);});if(selectedNodes.indexOf(currentNode)!==-1){return selectedNodes;}}return[currentNode];}onDragEnter(draggingEvent){draggingEvent.dragItem.rowNodes=this.getRowNodes(draggingEvent);this.dispatchGridEvent(\"rowDragEnter\",draggingEvent);this.getRowNodes(draggingEvent).forEach(rowNode=>{this.setRowNodeDragging(rowNode,true);});this.onEnterOrDragging(draggingEvent);}onDragging(draggingEvent){this.onEnterOrDragging(draggingEvent);}isFromThisGrid(draggingEvent){var{dragSourceDomDataKey}=draggingEvent.dragSource;return dragSourceDomDataKey===this.gos.getDomDataKey();}onEnterOrDragging(draggingEvent){if(!this.autoScrollService){return;}this.dispatchGridEvent(\"rowDragMove\",draggingEvent);this.lastDraggingEvent=draggingEvent;if(this.gos.get(\"rowDragManaged\")){this.doManagedDrag(draggingEvent,true);}this.autoScrollService.check(draggingEvent.event);}doManagedDrag(draggingEvent,throttleMakeGroup){var{dragAndDrop,gos}=this.beans;var isFromThisGrid=this.isFromThisGrid(draggingEvent);var managedDrag=gos.get(\"rowDragManaged\");if(managedDrag&&this.shouldPreventRowMove()){return;}if(gos.get(\"suppressMoveWhenRowDragging\")||!isFromThisGrid){if(dragAndDrop.isDropZoneWithinThisGrid(draggingEvent)){var rowsDrop=this.managedRowsDrop(draggingEvent,throttleMakeGroup);var target=rowsDrop===null||rowsDrop===void 0?void 0:rowsDrop.target;var rowDropHighlightSvc=this.beans.rowDropHighlightSvc;if(target&&rowsDrop.rows.length){rowDropHighlightSvc.set(target,rowsDrop.position);}else{rowDropHighlightSvc.clear();}}}else{var _rowsDrop=this.managedRowsDrop(draggingEvent,throttleMakeGroup);if(_rowsDrop){this.dropRows(_rowsDrop);}}}getRowIndexNumber(rowNode){var rowIndexStr=rowNode.getRowIndexString();return parseInt(_last(rowIndexStr.split(\"-\")),10);}managedRowsDrop(draggingEvent,throttleMakeGroup){var _clientSideRowModel$g,_target,_target2,_target$childrenAfter;var{rowNode,rowNodes:rows}=draggingEvent.dragItem;var rowsLen=rows===null||rows===void 0?void 0:rows.length;var source=rowsLen&&(rowNode!==null&&rowNode!==void 0?rowNode:rows[0]);if(!source){this.makeGroupThrottleClear();return null;}var{beans,gos,clientSideRowModel}=this;var rootNode=clientSideRowModel.rootNode;var y=_getNormalisedMousePosition(beans,draggingEvent).y;var targetRowIndex=clientSideRowModel.getRowIndexAtPixel(y);var target=(_clientSideRowModel$g=clientSideRowModel.getRow(targetRowIndex))!==null&&_clientSideRowModel$g!==void 0?_clientSideRowModel$g:null;var moved=source!==target;var yDelta=target?(y-target.rowTop-target.rowHeight/2)/target.rowHeight||0:1;var sameGrid=this.isFromThisGrid(draggingEvent);var groupingApproach=_getGroupingApproach(gos);var canSetParent=// We don't yet support drag and drop with grouping\ngroupingApproach!==\"group\"&&// We don't yet support moving tree rows from a different grid in a structured way\nsameGrid;var newParent=null;if(canSetParent&&(_target=target)!==null&&_target!==void 0&&_target.footer){var _target$sibling,_getPrevOrNext;newParent=(_target$sibling=target.sibling)!==null&&_target$sibling!==void 0?_target$sibling:rootNode;var found=(_getPrevOrNext=getPrevOrNext(clientSideRowModel,-1,target))!==null&&_getPrevOrNext!==void 0?_getPrevOrNext:getPrevOrNext(clientSideRowModel,1,target);yDelta=found&&found.rowIndex>target.rowIndex?-0.5:0.5;target=found!==null&&found!==void 0?found:null;}var above=yDelta<0;var targetInRows=false;if(sameGrid&&target){if(!moved){if(Math.abs(yDelta)<=0.5){this.makeGroupThrottleClear();return null;}targetInRows=true;}else{targetInRows=rows.indexOf(target)>=0;if(targetInRows){var newTarget=getRowsPrevOrNext(clientSideRowModel,targetRowIndex<source.rowIndex,rows);if((newTarget===null||newTarget===void 0?void 0:newTarget.parent)===target.parent){target=newTarget;targetRowIndex=target.rowIndex;}}}if(targetInRows||!canSetParent&&Math.abs(targetRowIndex-source.rowIndex)===1){above=targetRowIndex<source.rowIndex;}}var makeGroupThrottleTarget=this.makeGroupThrottleTarget;if(makeGroupThrottleTarget!==null&&makeGroupThrottleTarget!==target){this.makeGroupThrottleClear();}if((_target2=target)!==null&&_target2!==void 0&&_target2.expanded&&(_target$childrenAfter=target.childrenAfterSort)!==null&&_target$childrenAfter!==void 0&&_target$childrenAfter.length){this.makeGroupThrottled=true;this.makeGroupThrottleTarget=target;}if(newParent===null&&canSetParent){var _target$parent,_target3;if(!target||yDelta>=0.5&&target.rowIndex===beans.pageBounds.getLastRow()){newParent=rootNode;}else if(this.targetShouldBeParent(target,yDelta,targetInRows,rows)){if(this.makeGroupThrottled){newParent=target;}if(throttleMakeGroup&&(newParent===null||!target.expanded)){this.makeGroupThrottleTarget=target;this.makeGroupThrottleStart();}}newParent!==null&&newParent!==void 0?newParent:newParent=(_target$parent=(_target3=target)===null||_target3===void 0?void 0:_target3.parent)!==null&&_target$parent!==void 0?_target$parent:rootNode;}var inside=false;if(newParent!==null){if(newParent===target&&newParent!==rootNode){inside=true;var firstRow=newParent.expanded?getPrevOrNext(clientSideRowModel,1,target):null;if((firstRow===null||firstRow===void 0?void 0:firstRow.parent)===newParent){target=firstRow;inside=false;above=true;}}if(target&&!inside){var current=target;while(current&&current!==rootNode&&current!==newParent){target=current;current=current.parent;}}if(rowsHaveSameParent(rows,newParent)){newParent=null;}}if(!newParent&&targetInRows&&(canSetParent||source===target)){return null;}var position=inside?\"inside\":above?\"above\":\"below\";var result={api:this.beans.gridApi,context:this.beans.gridOptions.context,draggingEvent,sameGrid,position,source,target,newParent,rows};var customPosition=false;var isRowValidDropPosition=gos.get(\"isRowValidDropPosition\");if(isRowValidDropPosition){var canDropResult=isRowValidDropPosition(result);if(!canDropResult){result.rows=_EmptyArray;}else if(typeof canDropResult===\"object\"){if(canDropResult.rows!==void 0){var _canDropResult$rows;result.rows=(_canDropResult$rows=canDropResult.rows)!==null&&_canDropResult$rows!==void 0?_canDropResult$rows:_EmptyArray;}if(canDropResult.newParent!==void 0){result.newParent=canDropResult.newParent;}if(canDropResult.target!==void 0){result.target=canDropResult.target;}if(canDropResult.position){customPosition=true;result.position=canDropResult.position;}}}if((!result.newParent||!result.rows.length)&&!customPosition){result.position=above?\"above\":\"below\";}return result;}makeGroupThrottleStart(){if(this.makeGroupThrottleTimer===null){this.makeGroupThrottleTimer=window.setTimeout(this.makeGroupThrottleCallback,this.gos.get(\"rowDragInsertDelay\"));}}makeGroupExpanded(target){var _target$childrenAfter2;if(target&&!target.expanded&&(_target$childrenAfter2=target.childrenAfterSort)!==null&&_target$childrenAfter2!==void 0&&_target$childrenAfter2.length&&target.isExpandable()){var _this$lastDraggingEve;target.setExpanded(true,(_this$lastDraggingEve=this.lastDraggingEvent)===null||_this$lastDraggingEve===void 0?void 0:_this$lastDraggingEve.event,true);}}makeGroupThrottleClear(){this.makeGroupThrottled=false;this.makeGroupThrottleTarget=null;var timer=this.makeGroupThrottleTimer;if(timer!==null){this.makeGroupThrottleTimer=null;clearTimeout(timer);}}targetShouldBeParent(target,yDelta,targetInRows,rows){var targetRowIndex=target===null||target===void 0?void 0:target.rowIndex;if(targetInRows||targetRowIndex===null){return false;}var INSIDE_THRESHOLD=0.25;if(yDelta<-0.5+INSIDE_THRESHOLD){return false;}if(yDelta<0.5-INSIDE_THRESHOLD){return true;}var nextRow;var nextRowIndex=targetRowIndex+1;var clientSideRowModel=this.clientSideRowModel;do{nextRow=clientSideRowModel.getRow(nextRowIndex++);}while(nextRow&&nextRow.footer);var childrenAfterGroup=target.childrenAfterGroup;if(nextRow&&nextRow.parent===target&&childrenAfterGroup!==null&&childrenAfterGroup!==void 0&&childrenAfterGroup.length){var rowsSet=new Set(rows);for(var child of childrenAfterGroup){if(child.rowIndex!==null&&!rowsSet.has(child)){return true;}}}return false;}addRowDropZone(params){if(!params.getContainer()){_warn(55);return;}var dragAndDrop=this.beans.dragAndDrop;if(dragAndDrop.findExternalZone(params)){_warn(56);return;}var processedParams={getContainer:params.getContainer};if(params.fromGrid){processedParams=params;}else{if(params.onDragEnter){processedParams.onDragEnter=e=>{params.onDragEnter(this.draggingToRowDragEvent(\"rowDragEnter\",e));};}if(params.onDragLeave){processedParams.onDragLeave=e=>{params.onDragLeave(this.draggingToRowDragEvent(\"rowDragLeave\",e));};}if(params.onDragging){processedParams.onDragging=e=>{params.onDragging(this.draggingToRowDragEvent(\"rowDragMove\",e));};}if(params.onDragStop){processedParams.onDragStop=e=>{params.onDragStop(this.draggingToRowDragEvent(\"rowDragEnd\",e));};}if(params.onDragCancel){processedParams.onDragCancel=e=>{params.onDragCancel(this.draggingToRowDragEvent(\"rowDragCancel\",e));};}}var dropTarget=_objectSpread({isInterestedIn:type=>type===2/* RowDrag */,getIconName:()=>\"move\",external:true},processedParams);dragAndDrop.addDropTarget(dropTarget);this.addDestroyFunc(()=>dragAndDrop.removeDropTarget(dropTarget));}getRowDropZone(events){var getContainer=this.getContainer.bind(this);var onDragEnter=this.onDragEnter.bind(this);var onDragLeave=this.onDragLeave.bind(this);var onDragging=this.onDragging.bind(this);var onDragStop=this.onDragStop.bind(this);var onDragCancel=this.onDragCancel.bind(this);var params;if(!events){params={getContainer,onDragEnter,onDragLeave,onDragging,onDragStop,onDragCancel,/* @private */fromGrid:true};}else{params={getContainer,onDragEnter:events.onDragEnter?e=>{onDragEnter(e);events.onDragEnter(this.draggingToRowDragEvent(\"rowDragEnter\",e));}:onDragEnter,onDragLeave:events.onDragLeave?e=>{onDragLeave(e);events.onDragLeave(this.draggingToRowDragEvent(\"rowDragLeave\",e));}:onDragLeave,onDragging:events.onDragging?e=>{onDragging(e);events.onDragging(this.draggingToRowDragEvent(\"rowDragMove\",e));}:onDragging,onDragStop:events.onDragStop?e=>{onDragStop(e);events.onDragStop(this.draggingToRowDragEvent(\"rowDragEnd\",e));}:onDragStop,onDragCancel:events.onDragCancel?e=>{onDragCancel(e);events.onDragCancel(this.draggingToRowDragEvent(\"rowDragCancel\",e));}:onDragCancel,fromGrid:true};}return params;}draggingToRowDragEvent(type,draggingEvent){var beans=this.beans;var{pageBounds,rowModel,gos}=beans;var y=_getNormalisedMousePosition(this.beans,draggingEvent).y;var mouseIsPastLastRow=y>pageBounds.getCurrentPagePixelRange().pageLastPixel;var overIndex=-1;var overNode;if(!mouseIsPastLastRow){overIndex=rowModel.getRowIndexAtPixel(y);overNode=rowModel.getRow(overIndex);}var event=_addGridCommonParams(gos,{type,event:draggingEvent.event,node:draggingEvent.dragItem.rowNode,nodes:draggingEvent.dragItem.rowNodes,overIndex,overNode,y,vDirection:draggingEvent.vDirection});return event;}dispatchGridEvent(type,draggingEvent){var event=this.draggingToRowDragEvent(type,draggingEvent);this.eventSvc.dispatchEvent(event);}onDragLeave(draggingEvent){this.dispatchGridEvent(\"rowDragLeave\",draggingEvent);this.stopDragging(draggingEvent);if(this.gos.get(\"rowDragManaged\")){this.beans.rowDropHighlightSvc.clear();}this.makeGroupThrottleClear();}onDragStop(draggingEvent){this.dispatchGridEvent(\"rowDragEnd\",draggingEvent);this.stopDragging(draggingEvent);var{dragAndDrop,gos}=this.beans;if(gos.get(\"rowDragManaged\")&&(gos.get(\"suppressMoveWhenRowDragging\")||!this.isFromThisGrid(draggingEvent))&&dragAndDrop.isDropZoneWithinThisGrid(draggingEvent)){var rowsDrop=this.managedRowsDrop(draggingEvent,false);if(rowsDrop){this.dropRows(rowsDrop);}this.beans.rowDropHighlightSvc.clear();}this.makeGroupThrottleClear();}onDragCancel(draggingEvent){this.dispatchGridEvent(\"rowDragCancel\",draggingEvent);this.stopDragging(draggingEvent);var{dragAndDrop,gos}=this.beans;if(gos.get(\"rowDragManaged\")&&(gos.get(\"suppressMoveWhenRowDragging\")||!this.isFromThisGrid(draggingEvent))&&dragAndDrop.isDropZoneWithinThisGrid(draggingEvent)){this.beans.rowDropHighlightSvc.clear();}this.makeGroupThrottleClear();}stopDragging(draggingEvent){var _this$autoScrollServi;(_this$autoScrollServi=this.autoScrollService)===null||_this$autoScrollServi===void 0||_this$autoScrollServi.ensureCleared();this.getRowNodes(draggingEvent).forEach(rowNode=>{this.setRowNodeDragging(rowNode,false);});}setRowNodeDragging(rowNode,dragging){if(rowNode.dragging!==dragging){rowNode.dragging=dragging;rowNode.dispatchRowEvent(\"draggingChanged\");}}/** Drag and drop. Returns false if at least a row was moved, otherwise true */dropRows(rowsDrop){return rowsDrop.sameGrid?this.moveRows(rowsDrop):this.addRows(rowsDrop);}addRows(_ref42){var{position,target,rows}=_ref42;var getRowIdFunc=_getRowIdCallback(this.gos);var clientSideRowModel=this.clientSideRowModel;var add=rows.filter(_ref43=>{var _getRowIdFunc;var{data,rowPinned}=_ref43;return!clientSideRowModel.getRowNode((_getRowIdFunc=getRowIdFunc===null||getRowIdFunc===void 0?void 0:getRowIdFunc({data,level:0,rowPinned}))!==null&&_getRowIdFunc!==void 0?_getRowIdFunc:data.id);}).map(_ref44=>{var{data}=_ref44;return data;});if(add.length===0){return false;}var addIndex=target?getLeafSourceRowIndex(target)+(position===\"above\"?0:1):void 0;clientSideRowModel.updateRowData({add,addIndex});return true;}refreshModelAfterDrop(){this.clientSideRowModel.refreshModel({step:\"group\",keepRenderedRows:true,animate:!this.gos.get(\"suppressAnimationFrame\"),changedPath:new ChangedPath(false,this.clientSideRowModel.rootNode),rowNodesOrderChanged:true});}moveRows(_ref45){var{position,target,rows,newParent}=_ref45;var changed=false;var clientSideRowModel=this.clientSideRowModel;var leafs=/* @__PURE__ */new Set();for(var row of rows){if(row.footer||row.rowTop===null&&row!==clientSideRowModel.getRowNode(row.id)){continue;}if(newParent&&row.parent!==newParent){if(wouldFormCycle(row,newParent)){continue;}row.treeParent=newParent;changed=true;}var leafRow=getLeafRow(row);if(leafRow){leafs.add(leafRow);}}if(!changed&&leafs.size===0){return false;}var focusSvc=this.beans.focusSvc;var cellPosition=focusSvc.getFocusedCell();var cellCtrl=cellPosition&&_getCellByPosition(this.beans,cellPosition);if(leafs.size&&this.reorderLeafChildren(leafs,...this.getMoveRowsBounds(leafs,target,position===\"above\"))){changed=true;}if(!changed){return false;}this.refreshModelAfterDrop();if(cellCtrl){cellCtrl.focusCell();}else{focusSvc.clearFocusedCell();}return true;}/** For reorderLeafChildren, returns min index of the rows to move, the target index and the max index of the rows to move. */getMoveRowsBounds(leafs,target,above){var _this$clientSideRowMo,_this$clientSideRowMo2;var totalRows=(_this$clientSideRowMo=(_this$clientSideRowMo2=this.clientSideRowModel.rootNode)===null||_this$clientSideRowMo2===void 0?void 0:_this$clientSideRowMo2.allLeafChildren.length)!==null&&_this$clientSideRowMo!==void 0?_this$clientSideRowMo:0;var targetPositionIdx=getLeafSourceRowIndex(target);if(targetPositionIdx<0||targetPositionIdx>=totalRows){targetPositionIdx=totalRows;}else if(!above){++targetPositionIdx;}var firstAffectedLeafIdx=targetPositionIdx;var lastAffectedLeafIndex=Math.min(targetPositionIdx,totalRows-1);for(var row of leafs){var sourceRowIndex=row.sourceRowIndex;if(sourceRowIndex<firstAffectedLeafIdx)firstAffectedLeafIdx=sourceRowIndex;if(sourceRowIndex>lastAffectedLeafIndex)lastAffectedLeafIndex=sourceRowIndex;}return[firstAffectedLeafIdx,targetPositionIdx,lastAffectedLeafIndex];}/** Reorders the children of the root node, so that the rows to move are in the correct order.\n   * @param leafs The valid set of rows to move, as returned by getValidRowsToMove\n   * @param firstAffectedLeafIdx The first index of the rows to move\n   * @param targetPositionIdx The target index, where the rows will be moved\n   * @param lastAffectedLeafIndex The last index of the rows to move\n   * @returns True if the order of the rows changed, false otherwise\n   */reorderLeafChildren(leafs,firstAffectedLeafIdx,targetPositionIdx,lastAffectedLeafIndex){var _this$clientSideRowMo3;var orderChanged=false;var allLeafChildren=(_this$clientSideRowMo3=this.clientSideRowModel.rootNode)===null||_this$clientSideRowMo3===void 0?void 0:_this$clientSideRowMo3.allLeafChildren;if(!leafs.size||!allLeafChildren){return false;}var writeIdxLeft=firstAffectedLeafIdx;for(var readIdx=firstAffectedLeafIdx;readIdx<targetPositionIdx;++readIdx){var row=allLeafChildren[readIdx];if(!leafs.has(row)){if(row.sourceRowIndex!==writeIdxLeft){row.sourceRowIndex=writeIdxLeft;allLeafChildren[writeIdxLeft]=row;orderChanged=true;}++writeIdxLeft;}}var writeIdxRight=lastAffectedLeafIndex;for(var _readIdx=lastAffectedLeafIndex;_readIdx>=targetPositionIdx;--_readIdx){var _row=allLeafChildren[_readIdx];if(!leafs.has(_row)){if(_row.sourceRowIndex!==writeIdxRight){_row.sourceRowIndex=writeIdxRight;allLeafChildren[writeIdxRight]=_row;orderChanged=true;}--writeIdxRight;}}for(var _row2 of leafs){if(_row2.sourceRowIndex!==writeIdxLeft){_row2.sourceRowIndex=writeIdxLeft;allLeafChildren[writeIdxLeft]=_row2;orderChanged=true;}++writeIdxLeft;}return orderChanged;}};var getRowsPrevOrNext=(clientSideRowModel,above,rows)=>{return above?getPrevOrNext(clientSideRowModel,-1,rows[0]):getPrevOrNext(clientSideRowModel,1,_last(rows));};var getPrevOrNext=(clientSideRowModel,increment,initialRow)=>{if(initialRow){var rowCount=clientSideRowModel.getRowCount();var rowIndex=initialRow.rowIndex+increment;while(rowIndex>=0&&rowIndex<rowCount){var row=clientSideRowModel.getRow(rowIndex);if(!row||!row.footer){return row;}rowIndex+=increment;}}return void 0;};var wouldFormCycle=(row,newParent)=>{var parent=newParent;while(parent){if(parent===row){return true;}parent=parent.parent;}return false;};var rowsHaveSameParent=(rows,newParent)=>{for(var i=0,len=rows.length;i<len;++i){if(rows[i].parent!==newParent){return false;}}return true;};var getLeafSourceRowIndex=row=>{var leaf=getLeafRow(row);return leaf!==void 0?leaf.sourceRowIndex:-1;};var getLeafRow=row=>{while(row){if(row.sourceRowIndex>=0){return row;}var childrenAfterGroup=row.childrenAfterGroup;if(!(childrenAfterGroup!==null&&childrenAfterGroup!==void 0&&childrenAfterGroup.length)){return void 0;}row=childrenAfterGroup[0];}};// packages/ag-grid-community/src/dragAndDrop/rowDragService.ts\nvar RowDragService=class extends BeanStub{constructor(){super(...arguments);this.beanName=\"rowDragSvc\";}setupRowDrag(element,ctrl){var rowDragFeature=ctrl.createManagedBean(new RowDragFeature(element));var dragAndDrop=this.beans.dragAndDrop;dragAndDrop.addDropTarget(rowDragFeature);ctrl.addDestroyFunc(()=>dragAndDrop.removeDropTarget(rowDragFeature));this.rowDragFeature=rowDragFeature;}createRowDragComp(cellValueFn,rowNode,column,customGui,dragStartPixels,suppressVisibilityChange){return new RowDragComp(cellValueFn,rowNode,column,customGui,dragStartPixels,suppressVisibilityChange);}createRowDragCompForRow(rowNode,element){if(_isCellSelectionEnabled(this.gos)){return void 0;}var translate=this.getLocaleTextFunc();return this.createRowDragComp(()=>\"1 \".concat(translate(\"rowDragRow\",\"row\")),rowNode,void 0,element,void 0,true);}createRowDragCompForCell(rowNode,column,cellValueFn,element,dragStartPixels,suppressVisibilityChange){var gos=this.gos;if(gos.get(\"rowDragManaged\")){if(!_isClientSideRowModel(gos)||gos.get(\"pagination\")){return void 0;}}var rowDragComp=this.createRowDragComp(cellValueFn,rowNode,column,element,dragStartPixels,suppressVisibilityChange);return rowDragComp;}};// packages/ag-grid-community/src/dragAndDrop/rowDropHighlightService.ts\nvar RowDropHighlightService=class extends BeanStub{constructor(){super(...arguments);this.beanName=\"rowDropHighlightSvc\";this.uiLevel=0;this.row=null;this.position=\"none\";}postConstruct(){this.addManagedEventListeners({modelUpdated:this.onModelUpdated.bind(this)});}onModelUpdated(){var row=this.row;if(!row||row.rowIndex===null||this.position===\"none\"){this.clear();}else{this.set(row,this.position);}}destroy(){this.clear();super.destroy();}clear(){var last=this.row;if(last){this.uiLevel=0;this.position=\"none\";this.row=null;last.dispatchRowEvent(\"rowHighlightChanged\");}}set(row,dropIndicatorPosition){var nodeChanged=row!==this.row;var uiLevel=row.uiLevel;var highlightChanged=dropIndicatorPosition!==this.position;var uiLevelChanged=uiLevel!==this.uiLevel;if(nodeChanged||highlightChanged||uiLevelChanged){if(nodeChanged){this.clear();}this.uiLevel=uiLevel;this.position=dropIndicatorPosition;this.row=row;row.dispatchRowEvent(\"rowHighlightChanged\");}}};// packages/ag-grid-community/src/dragAndDrop/dragModule.ts\nvar DragModule={moduleName:\"Drag\",version:VERSION,beans:[DragService]};var DragAndDropModule={moduleName:\"DragAndDrop\",version:VERSION,dynamicBeans:{dndSourceComp:DndSourceComp},icons:{// drag handle used to pick up draggable rows\nrowDrag:\"grip\"}};var SharedDragAndDropModule={moduleName:\"SharedDragAndDrop\",version:VERSION,beans:[DragAndDropService],dependsOn:[DragModule],userComponents:{agDragAndDropImage:DragAndDropImageComponent2},icons:{// shown on drag and drop image component icon while dragging column to the side of the grid to pin\ncolumnMovePin:\"pin\",// shown on drag and drop image component icon while dragging over part of the page that is not a drop zone\ncolumnMoveHide:\"eye-slash\",// shown on drag and drop image component icon while dragging columns to reorder\ncolumnMoveMove:\"arrows\",// animating icon shown when dragging a column to the right of the grid causes horizontal scrolling\ncolumnMoveLeft:\"left\",// animating icon shown when dragging a column to the left of the grid causes horizontal scrolling\ncolumnMoveRight:\"right\",// shown on drag and drop image component icon while dragging over Row Groups drop zone\ncolumnMoveGroup:\"group\",// shown on drag and drop image component icon while dragging over Values drop zone\ncolumnMoveValue:\"aggregation\",// shown on drag and drop image component icon while dragging over pivot drop zone\ncolumnMovePivot:\"pivot\",// shown on drag and drop image component icon while dragging over drop zone that doesn't support it, e.g.\n// string column over aggregation drop zone\ndropNotAllowed:\"not-allowed\",// drag handle used to pick up draggable rows\nrowDrag:\"grip\"}};var RowDragModule={moduleName:\"RowDrag\",version:VERSION,beans:[RowDropHighlightService,RowDragService],apiFunctions:{addRowDropZone,removeRowDropZone,getRowDropZoneParams,getRowDropPositionIndicator,setRowDropPositionIndicator},dependsOn:[SharedDragAndDropModule]};var HorizontalResizeModule={moduleName:\"HorizontalResize\",version:VERSION,beans:[HorizontalResizeService],dependsOn:[DragModule]};// packages/ag-grid-community/src/columnMove/column-moving.css-GENERATED.ts\nvar columnMovingCSS=/*css*/\":where(.ag-ltr) :where(.ag-column-moving){.ag-cell,.ag-header-cell,.ag-spanned-cell-wrapper{transition:left .2s}.ag-header-group-cell{transition:left .2s,width .2s}}:where(.ag-rtl) :where(.ag-column-moving){.ag-cell,.ag-header-cell,.ag-spanned-cell-wrapper{transition:right .2s}.ag-header-group-cell{transition:right .2s,width .2s}}\";// packages/ag-grid-community/src/columnMove/columnAnimationService.ts\nvar ColumnAnimationService=class extends BeanStub{constructor(){super(...arguments);this.beanName=\"colAnimation\";this.executeNextFuncs=[];this.executeLaterFuncs=[];this.active=false;// activeNext starts with active but it is reset earlier after the nextFuncs are cleared\n// to prevent calls made to executeNextVMTurn from queuing functions after executeNextFuncs has already been flushed,\nthis.activeNext=false;this.suppressAnimation=false;this.animationThreadCount=0;}postConstruct(){this.beans.ctrlsSvc.whenReady(this,p=>this.gridBodyCtrl=p.gridBodyCtrl);}isActive(){return this.active&&!this.suppressAnimation;}setSuppressAnimation(suppress){this.suppressAnimation=suppress;}start(){if(this.active){return;}var{gos}=this;if(gos.get(\"suppressColumnMoveAnimation\")){return;}if(gos.get(\"enableRtl\")){return;}this.ensureAnimationCssClassPresent();this.active=true;this.activeNext=true;}finish(){if(!this.active){return;}this.flush(()=>this.activeNext=false,()=>this.active=false);}executeNextVMTurn(func){if(this.activeNext){this.executeNextFuncs.push(func);}else{func();}}executeLaterVMTurn(func){if(this.active){this.executeLaterFuncs.push(func);}else{func();}}ensureAnimationCssClassPresent(){this.animationThreadCount++;var animationThreadCountCopy=this.animationThreadCount;var{gridBodyCtrl}=this;gridBodyCtrl.setColumnMovingCss(true);this.executeLaterFuncs.push(()=>{if(this.animationThreadCount===animationThreadCountCopy){gridBodyCtrl.setColumnMovingCss(false);}});}flush(callbackNext,callbackLater){var{executeNextFuncs,executeLaterFuncs}=this;if(executeNextFuncs.length===0&&executeLaterFuncs.length===0){callbackNext();callbackLater();return;}var runFuncs=queue=>{while(queue.length){var func=queue.pop();if(func){func();}}};this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{callbackNext();runFuncs(executeNextFuncs);},0);window.setTimeout(()=>{callbackLater();runFuncs(executeLaterFuncs);},200);});}};// packages/ag-grid-community/src/columnMove/columnMoveApi.ts\nfunction moveColumnByIndex(beans,fromIndex,toIndex){var _beans$colMoves;(_beans$colMoves=beans.colMoves)===null||_beans$colMoves===void 0||_beans$colMoves.moveColumnByIndex(fromIndex,toIndex,\"api\");}function moveColumns(beans,columnsToMoveKeys,toIndex){var _beans$colMoves2;(_beans$colMoves2=beans.colMoves)===null||_beans$colMoves2===void 0||_beans$colMoves2.moveColumns(columnsToMoveKeys,toIndex,\"api\");}// packages/ag-grid-community/src/columnMove/columnDrag/bodyDropPivotTarget.ts\nvar BodyDropPivotTarget=class extends BeanStub{constructor(pinned){super();this.pinned=pinned;this.columnsToAggregate=[];this.columnsToGroup=[];this.columnsToPivot=[];}/** Callback for when drag enters */onDragEnter(draggingEvent){this.clearColumnsList();if(this.gos.get(\"functionsReadOnly\")){return;}var dragColumns=draggingEvent.dragItem.columns;if(!dragColumns){return;}dragColumns.forEach(column=>{if(!column.isPrimary()){return;}if(column.isAnyFunctionActive()){return;}if(column.isAllowValue()){this.columnsToAggregate.push(column);}else if(column.isAllowRowGroup()){this.columnsToGroup.push(column);}else if(column.isAllowPivot()){this.columnsToPivot.push(column);}});}getIconName(){var totalColumns=this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length;if(totalColumns>0){return this.pinned?\"pinned\":\"move\";}return null;}/** Callback for when drag leaves */// eslint-disable-next-line @typescript-eslint/no-unused-vars\nonDragLeave(draggingEvent){this.clearColumnsList();}clearColumnsList(){this.columnsToAggregate.length=0;this.columnsToGroup.length=0;this.columnsToPivot.length=0;}/** Callback for when dragging */// eslint-disable-next-line @typescript-eslint/no-unused-vars\nonDragging(draggingEvent){}/** Callback for when drag stops */// eslint-disable-next-line @typescript-eslint/no-unused-vars\nonDragStop(draggingEvent){var{valueColsSvc,rowGroupColsSvc,pivotColsSvc}=this.beans;if(this.columnsToAggregate.length>0){valueColsSvc===null||valueColsSvc===void 0||valueColsSvc.addColumns(this.columnsToAggregate,\"toolPanelDragAndDrop\");}if(this.columnsToGroup.length>0){rowGroupColsSvc===null||rowGroupColsSvc===void 0||rowGroupColsSvc.addColumns(this.columnsToGroup,\"toolPanelDragAndDrop\");}if(this.columnsToPivot.length>0){pivotColsSvc===null||pivotColsSvc===void 0||pivotColsSvc.addColumns(this.columnsToPivot,\"toolPanelDragAndDrop\");}}onDragCancel(){this.clearColumnsList();}};// packages/ag-grid-community/src/columnMove/internalColumnMoveUtils.ts\nfunction sortColsLikeCols(colsList,cols){if(!cols||cols.length<=1){return;}var notAllColsPresent=cols.filter(c=>colsList.indexOf(c)<0).length>0;if(notAllColsPresent){return;}cols.sort((a,b)=>{var indexA=colsList.indexOf(a);var indexB=colsList.indexOf(b);return indexA-indexB;});}function getBestColumnMoveIndexFromXPosition(params){var{isFromHeader,fromLeft,xPosition,fromEnter,fakeEvent,pinned,gos,colModel,colMoves,visibleCols}=params;var{allMovingColumns}=params;if(isFromHeader){var newCols=[];allMovingColumns.forEach(col=>{var movingGroup=null;var parent=col.getParent();while(parent!=null&&parent.getDisplayedLeafColumns().length===1){movingGroup=parent;parent=parent.getParent();}if(movingGroup!=null){var _movingGroup$getColGr;var isMarryChildren=!!((_movingGroup$getColGr=movingGroup.getColGroupDef())!==null&&_movingGroup$getColGr!==void 0&&_movingGroup$getColGr.marryChildren);var columnsToMove=isMarryChildren?// when marry children is true, we also have to move hidden\n// columns within the group, so grab them from the `providedColumnGroup`\nmovingGroup.getProvidedColumnGroup().getLeafColumns():movingGroup.getLeafColumns();columnsToMove.forEach(newCol=>{if(!newCols.includes(newCol)){newCols.push(newCol);}});}else if(!newCols.includes(col)){newCols.push(col);}});allMovingColumns=newCols;}var allMovingColumnsOrdered=allMovingColumns.slice();sortColsLikeCols(colModel.getCols(),allMovingColumnsOrdered);var validMoves=calculateValidMoves({movingCols:allMovingColumnsOrdered,draggingRight:fromLeft,xPosition,pinned,gos,colModel,visibleCols});var oldIndex=calculateOldIndex(allMovingColumnsOrdered,colModel);if(validMoves.length===0){return;}var firstValidMove=validMoves[0];var constrainDirection=oldIndex!==null&&!fromEnter;if(isFromHeader){constrainDirection=oldIndex!==null;}if(constrainDirection&&!fakeEvent){if(!fromLeft&&firstValidMove>=oldIndex){return;}if(fromLeft&&firstValidMove<=oldIndex){return;}}var displayedCols=visibleCols.allCols;var potentialMoves=[];var targetOrder=null;for(var i=0;i<validMoves.length;i++){var move=validMoves[i];var order=colMoves.getProposedColumnOrder(allMovingColumnsOrdered,move);if(!colMoves.doesOrderPassRules(order)){continue;}var displayedOrder=order.filter(col=>displayedCols.includes(col));if(targetOrder===null){targetOrder=displayedOrder;}else if(!_areEqual(displayedOrder,targetOrder)){break;}var fragCount=groupFragCount(order);potentialMoves.push({move,fragCount});}if(potentialMoves.length===0){return;}potentialMoves.sort((a,b)=>a.fragCount-b.fragCount);var toIndex=potentialMoves[0].move;if(toIndex>colModel.getCols().length-allMovingColumns.length){return;}return{columns:allMovingColumns,toIndex};}function attemptMoveColumns(params){var{columns,toIndex}=getBestColumnMoveIndexFromXPosition(params)||{};var{finished,colMoves}=params;if(!columns||toIndex==null){return null;}colMoves.moveColumns(columns,toIndex,\"uiColumnMoved\",finished);return finished?null:{columns,toIndex};}function calculateOldIndex(movingCols,colModel){var gridCols=colModel.getCols();var indexes=movingCols.map(col=>gridCols.indexOf(col)).sort((a,b)=>a-b);var firstIndex=indexes[0];var lastIndex=_last(indexes);var spread=lastIndex-firstIndex;var gapsExist=spread!==indexes.length-1;return gapsExist?null:firstIndex;}function groupFragCount(columns){function parents(col){var result=[];var parent=col.getOriginalParent();while(parent!=null){result.push(parent);parent=parent.getOriginalParent();}return result;}var count=0;var _loop5=function _loop5(){var a=parents(columns[i]);var b=parents(columns[i+1]);[a,b]=a.length>b.length?[a,b]:[b,a];a.forEach(parent=>{if(b.indexOf(parent)===-1){count++;}});};for(var i=0;i<columns.length-1;i++){_loop5();}return count;}function getDisplayedColumns(visibleCols,type){switch(type){case\"left\":return visibleCols.leftCols;case\"right\":return visibleCols.rightCols;default:return visibleCols.centerCols;}}function calculateValidMoves(params){var{movingCols,draggingRight,xPosition,pinned,gos,colModel,visibleCols}=params;var isMoveBlocked=gos.get(\"suppressMovableColumns\")||movingCols.some(col=>col.getColDef().suppressMovable);if(isMoveBlocked){return[];}var allDisplayedCols=getDisplayedColumns(visibleCols,pinned);var allGridCols=colModel.getCols();var movingDisplayedCols=allDisplayedCols.filter(col=>movingCols.includes(col));var otherDisplayedCols=allDisplayedCols.filter(col=>!movingCols.includes(col));var otherGridCols=allGridCols.filter(col=>!movingCols.includes(col));var displayIndex=0;var availableWidth=xPosition;if(draggingRight){var widthOfMovingDisplayedCols=0;movingDisplayedCols.forEach(col=>widthOfMovingDisplayedCols+=col.getActualWidth());availableWidth-=widthOfMovingDisplayedCols;}if(availableWidth>0){for(var i=0;i<otherDisplayedCols.length;i++){var col=otherDisplayedCols[i];availableWidth-=col.getActualWidth();if(availableWidth<0){break;}displayIndex++;}if(draggingRight){displayIndex++;}}var firstValidMove;if(displayIndex>0){var leftColumn=otherDisplayedCols[displayIndex-1];firstValidMove=otherGridCols.indexOf(leftColumn)+1;}else{firstValidMove=otherGridCols.indexOf(otherDisplayedCols[0]);if(firstValidMove===-1){firstValidMove=0;}}var validMoves=[firstValidMove];var numberComparator=(a,b)=>a-b;if(draggingRight){var pointer=firstValidMove+1;var lastIndex=allGridCols.length-1;while(pointer<=lastIndex){validMoves.push(pointer);pointer++;}validMoves.sort(numberComparator);}else{var _pointer=firstValidMove;var _lastIndex=allGridCols.length-1;var displacedCol=allGridCols[_pointer];while(_pointer<=_lastIndex&&allDisplayedCols.indexOf(displacedCol)<0){_pointer++;validMoves.push(_pointer);displacedCol=allGridCols[_pointer];}_pointer=firstValidMove-1;var firstDisplayIndex=0;while(_pointer>=firstDisplayIndex){validMoves.push(_pointer);_pointer--;}validMoves.sort(numberComparator).reverse();}return validMoves;}function normaliseX(params){var _ctrlsSvc$getHeaderRo3;var{pinned,fromKeyboard,gos,ctrlsSvc,useHeaderRow,skipScrollPadding}=params;var eViewport=(_ctrlsSvc$getHeaderRo3=ctrlsSvc.getHeaderRowContainerCtrl(pinned))===null||_ctrlsSvc$getHeaderRo3===void 0?void 0:_ctrlsSvc$getHeaderRo3.eViewport;var{x}=params;if(!eViewport){return 0;}if(fromKeyboard){x-=eViewport.getBoundingClientRect().left;}if(gos.get(\"enableRtl\")){if(useHeaderRow){eViewport=eViewport.querySelector(\".ag-header-row\");}x=eViewport.clientWidth-x;}if(pinned==null&&!skipScrollPadding){x+=ctrlsSvc.get(\"center\").getCenterViewportScrollLeft();}return x;}function setColumnsMoving(columns,isMoving){for(var column of columns){column.moving=isMoving;column.dispatchColEvent(\"movingChanged\",\"uiColumnMoved\");}}// packages/ag-grid-community/src/columnMove/columnDrag/moveColumnFeature.ts\nvar MOVE_FAIL_THRESHOLD=7;var SCROLL_MOVE_WIDTH=100;var SCROLL_GAP_NEEDED_BEFORE_MOVE=SCROLL_MOVE_WIDTH/2;var SCROLL_ACCELERATION_RATE=5;var SCROLL_TIME_INTERVAL=100;var MoveColumnFeature=class extends BeanStub{constructor(pinned){super();this.pinned=pinned;this.needToMoveLeft=false;this.needToMoveRight=false;this.lastMovedInfo=null;this.isCenterContainer=!_exists(pinned);}postConstruct(){this.beans.ctrlsSvc.whenReady(this,p=>{this.gridBodyCon=p.gridBodyCtrl;});}getIconName(){var _dragItem$columns;var{pinned,lastDraggingEvent}=this;var{dragItem}=lastDraggingEvent||{};var columns=(_dragItem$columns=dragItem===null||dragItem===void 0?void 0:dragItem.columns)!==null&&_dragItem$columns!==void 0?_dragItem$columns:[];for(var col of columns){var colPinned=col.getPinned();if(col.getColDef().lockPinned){if(colPinned==pinned){return\"move\";}continue;}var initialPinnedState=dragItem===null||dragItem===void 0?void 0:dragItem.containerType;if(initialPinnedState===pinned||!pinned){return\"move\";}if(pinned&&(!colPinned||initialPinnedState!==pinned)){return\"pinned\";}}return\"notAllowed\";}onDragEnter(draggingEvent){var dragItem=draggingEvent.dragItem;var columns=dragItem.columns;var dragCameFromToolPanel=draggingEvent.dragSource.type===0/* ToolPanel */;if(dragCameFromToolPanel){this.setColumnsVisible(columns,true,\"uiColumnDragged\");}else{var visibleState=dragItem.visibleState;var visibleColumns=(columns||[]).filter(column=>visibleState[column.getId()]);this.setColumnsVisible(visibleColumns,true,\"uiColumnDragged\");}if(!this.gos.get(\"suppressMoveWhenColumnDragging\")){this.attemptToPinColumns(columns,this.pinned);}this.onDragging(draggingEvent,true,true);}onDragging(){var draggingEvent=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.lastDraggingEvent;var fromEnter=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var fakeEvent=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var finished=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var{gos,ctrlsSvc}=this.beans;var isSuppressMoveWhenDragging=gos.get(\"suppressMoveWhenColumnDragging\");if(finished&&!isSuppressMoveWhenDragging){this.finishColumnMoving();return;}this.lastDraggingEvent=draggingEvent;if(!draggingEvent||!finished&&_missing(draggingEvent.hDirection)){return;}var mouseX=normaliseX({x:draggingEvent.x,pinned:this.pinned,gos,ctrlsSvc});if(!fromEnter){this.checkCenterForScrolling(mouseX);}if(isSuppressMoveWhenDragging){this.handleColumnDragWhileSuppressingMovement(draggingEvent,fromEnter,fakeEvent,mouseX,finished);}else{this.handleColumnDragWhileAllowingMovement(draggingEvent,fromEnter,fakeEvent,mouseX,finished);}}onDragLeave(){this.ensureIntervalCleared();this.clearHighlighted();this.updateDragItemContainerType();this.lastMovedInfo=null;}onDragStop(){this.onDragging(this.lastDraggingEvent,false,true,true);this.ensureIntervalCleared();this.lastMovedInfo=null;}onDragCancel(){this.clearHighlighted();this.ensureIntervalCleared();this.lastMovedInfo=null;}setColumnsVisible(columns,visible,source){if(!columns){return;}var allowedCols=columns.filter(c=>!c.getColDef().lockVisible);this.beans.colModel.setColsVisible(allowedCols,visible,source);}finishColumnMoving(){this.clearHighlighted();var lastMovedInfo=this.lastMovedInfo;if(!lastMovedInfo){return;}var{columns,toIndex}=lastMovedInfo;this.beans.colMoves.moveColumns(columns,toIndex,\"uiColumnMoved\",true);}updateDragItemContainerType(){var{lastDraggingEvent}=this;if(this.gos.get(\"suppressMoveWhenColumnDragging\")||!lastDraggingEvent){return;}var dragItem=lastDraggingEvent.dragItem;if(!dragItem){return;}dragItem.containerType=this.pinned;}handleColumnDragWhileSuppressingMovement(draggingEvent,fromEnter,fakeEvent,mouseX,finished){var allMovingColumns=this.getAllMovingColumns(draggingEvent,true);if(finished){var isAttemptingToPin=this.isAttemptingToPin(allMovingColumns);if(isAttemptingToPin){this.attemptToPinColumns(allMovingColumns,void 0,true);}var{fromLeft,xPosition}=this.getNormalisedXPositionInfo(allMovingColumns,isAttemptingToPin)||{};if(fromLeft==null||xPosition==null){this.finishColumnMoving();return;}this.moveColumnsAfterHighlight({allMovingColumns,xPosition,fromEnter,fakeEvent,fromLeft});}else{if(!this.beans.dragAndDrop.isDropZoneWithinThisGrid(draggingEvent)){return;}this.highlightHoveredColumn(allMovingColumns,mouseX);}}handleColumnDragWhileAllowingMovement(draggingEvent,fromEnter,fakeEvent,mouseX,finished){var allMovingColumns=this.getAllMovingColumns(draggingEvent);var fromLeft=this.normaliseDirection(draggingEvent.hDirection)===\"right\";var isFromHeader=draggingEvent.dragSource.type===1/* HeaderCell */;var params=this.getMoveColumnParams({allMovingColumns,isFromHeader,xPosition:mouseX,fromLeft,fromEnter,fakeEvent});var lastMovedInfo=attemptMoveColumns(_objectSpread(_objectSpread({},params),{},{finished}));if(lastMovedInfo){this.lastMovedInfo=lastMovedInfo;}}getAllMovingColumns(draggingEvent){var useSplit=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var dragItem=draggingEvent.dragSource.getDragItem();var columns=null;if(useSplit){columns=dragItem.columnsInSplit;if(!columns){columns=dragItem.columns;}}else{columns=dragItem.columns;}var conditionCallback=col=>col.getColDef().lockPinned?col.getPinned()==this.pinned:true;if(!columns){return[];}return columns.filter(conditionCallback);}getMoveColumnParams(params){var{allMovingColumns,isFromHeader,xPosition,fromLeft,fromEnter,fakeEvent}=params;var{gos,colModel,colMoves,visibleCols}=this.beans;return{allMovingColumns,isFromHeader,fromLeft,xPosition,pinned:this.pinned,fromEnter,fakeEvent,gos,colModel,colMoves,visibleCols};}highlightHoveredColumn(movingColumns,mouseX){var _this$lastHighlighted;var{gos,colModel}=this.beans;var isRtl=gos.get(\"enableRtl\");var consideredColumns=colModel.getCols().filter(col=>col.isVisible()&&col.getPinned()===this.pinned);var start=null;var width=null;var targetColumn=null;for(var col of consideredColumns){width=col.getActualWidth();start=this.getNormalisedColumnLeft(col,0,isRtl);if(start!=null){var end=start+width;if(start<=mouseX&&end>=mouseX){targetColumn=col;break;}}start=null;width=null;}if(!targetColumn){for(var i=consideredColumns.length-1;i>=0;i--){var currentColumn=consideredColumns[i];var parent=consideredColumns[i].getParent();if(!parent){targetColumn=currentColumn;break;}var leafDisplayedCols=parent===null||parent===void 0?void 0:parent.getDisplayedLeafColumns();if(leafDisplayedCols.length){targetColumn=_last(leafDisplayedCols);break;}}if(!targetColumn){return;}start=this.getNormalisedColumnLeft(targetColumn,0,isRtl);width=targetColumn.getActualWidth();}else if(movingColumns.indexOf(targetColumn)!==-1){targetColumn=null;}if(((_this$lastHighlighted=this.lastHighlightedColumn)===null||_this$lastHighlighted===void 0?void 0:_this$lastHighlighted.column)!==targetColumn){this.clearHighlighted();}if(targetColumn==null||start==null||width==null){return;}var position;if(mouseX-start<width/2!==isRtl){position=0/* Before */;}else{position=1/* After */;}setColumnHighlighted(targetColumn,position);this.lastHighlightedColumn={column:targetColumn,position};}getNormalisedXPositionInfo(allMovingColumns,isAttemptingToPin){var{gos,visibleCols}=this.beans;var isRtl=gos.get(\"enableRtl\");var{firstMovingCol,column,position}=this.getColumnMoveAndTargetInfo(allMovingColumns,isAttemptingToPin,isRtl);if(!firstMovingCol||!column||position==null){return;}var visibleColumns=visibleCols.allCols;var movingColIndex=visibleColumns.indexOf(firstMovingCol);var targetIndex=visibleColumns.indexOf(column);var isBefore=position===0/* Before */!==isRtl;var fromLeft=movingColIndex<targetIndex||movingColIndex===targetIndex&&!isBefore;var diff=0;if(isBefore){if(fromLeft){diff-=1;}}else{if(!fromLeft){diff+=1;}}if(targetIndex+diff===movingColIndex){return;}var targetColumn=visibleColumns[targetIndex+diff];if(!targetColumn){return;}var xPosition=this.getNormalisedColumnLeft(targetColumn,20,isRtl);return{fromLeft,xPosition};}getColumnMoveAndTargetInfo(allMovingColumns,isAttemptingToPin,isRtl){var lastHighlightedColumn=this.lastHighlightedColumn||{};var{firstMovingCol,lastMovingCol}=findFirstAndLastMovingColumns(allMovingColumns);if(!firstMovingCol||!lastMovingCol||lastHighlightedColumn.column||!isAttemptingToPin){return _objectSpread({firstMovingCol},lastHighlightedColumn);}var pinned=this.getPinDirection();var isLeft=pinned===\"left\";return{firstMovingCol,position:isLeft?1/* After */:0/* Before */,column:isLeft!==isRtl?firstMovingCol:lastMovingCol};}normaliseDirection(hDirection){if(this.gos.get(\"enableRtl\")){switch(hDirection){case\"left\":return\"right\";case\"right\":return\"left\";}}return hDirection;}getNormalisedColumnLeft(col,padding,isRtl){var{gos,ctrlsSvc}=this.beans;var left=col.getLeft();if(left==null){return null;}var width=col.getActualWidth();return normaliseX({x:isRtl?left+width-padding:left+padding,pinned:col.getPinned(),useHeaderRow:isRtl,skipScrollPadding:true,gos,ctrlsSvc});}isAttemptingToPin(columns){var isMovingHorizontally=this.needToMoveLeft||this.needToMoveRight;var isFailedMoreThanThreshold=this.failedMoveAttempts>MOVE_FAIL_THRESHOLD;return isMovingHorizontally&&isFailedMoreThanThreshold||columns.some(col=>col.getPinned()!==this.pinned);}moveColumnsAfterHighlight(params){var{allMovingColumns,xPosition,fromEnter,fakeEvent,fromLeft}=params;var columnMoveParams=this.getMoveColumnParams({allMovingColumns,isFromHeader:true,xPosition,fromLeft,fromEnter,fakeEvent});var{columns,toIndex}=getBestColumnMoveIndexFromXPosition(columnMoveParams)||{};if(columns&&toIndex!=null){this.lastMovedInfo={columns,toIndex};}this.finishColumnMoving();}clearHighlighted(){var{lastHighlightedColumn}=this;if(!lastHighlightedColumn){return;}setColumnHighlighted(lastHighlightedColumn.column,null);this.lastHighlightedColumn=null;}checkCenterForScrolling(xAdjustedForScroll){if(!this.isCenterContainer){return;}var centerCtrl=this.beans.ctrlsSvc.get(\"center\");var firstVisiblePixel=centerCtrl.getCenterViewportScrollLeft();var lastVisiblePixel=firstVisiblePixel+centerCtrl.getCenterWidth();var needToMoveRight;var needToMoveLeft;if(this.gos.get(\"enableRtl\")){needToMoveRight=xAdjustedForScroll<firstVisiblePixel+SCROLL_GAP_NEEDED_BEFORE_MOVE;needToMoveLeft=xAdjustedForScroll>lastVisiblePixel-SCROLL_GAP_NEEDED_BEFORE_MOVE;}else{needToMoveLeft=xAdjustedForScroll<firstVisiblePixel+SCROLL_GAP_NEEDED_BEFORE_MOVE;needToMoveRight=xAdjustedForScroll>lastVisiblePixel-SCROLL_GAP_NEEDED_BEFORE_MOVE;}this.needToMoveRight=needToMoveRight;this.needToMoveLeft=needToMoveLeft;if(needToMoveLeft||needToMoveRight){this.ensureIntervalStarted();}else{this.ensureIntervalCleared();}}ensureIntervalStarted(){var _this$beans$dragAndDr2;if(this.movingIntervalId){return;}this.intervalCount=0;this.failedMoveAttempts=0;this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),SCROLL_TIME_INTERVAL);(_this$beans$dragAndDr2=this.beans.dragAndDrop.getDragAndDropImageComponent())===null||_this$beans$dragAndDr2===void 0||_this$beans$dragAndDr2.setIcon(this.needToMoveLeft?\"left\":\"right\",true);}ensureIntervalCleared(){var _this$beans$dragAndDr3;if(!this.movingIntervalId){return;}window.clearInterval(this.movingIntervalId);this.movingIntervalId=null;this.failedMoveAttempts=0;(_this$beans$dragAndDr3=this.beans.dragAndDrop.getDragAndDropImageComponent())===null||_this$beans$dragAndDr3===void 0||_this$beans$dragAndDr3.setIcon(this.getIconName(),false);}moveInterval(){var pixelsToMove;this.intervalCount++;pixelsToMove=10+this.intervalCount*SCROLL_ACCELERATION_RATE;if(pixelsToMove>SCROLL_MOVE_WIDTH){pixelsToMove=SCROLL_MOVE_WIDTH;}var pixelsMoved=null;var scrollFeature=this.gridBodyCon.scrollFeature;if(this.needToMoveLeft){pixelsMoved=scrollFeature.scrollHorizontally(-pixelsToMove);}else if(this.needToMoveRight){pixelsMoved=scrollFeature.scrollHorizontally(pixelsToMove);}if(pixelsMoved!==0){this.onDragging(this.lastDraggingEvent);this.failedMoveAttempts=0;}else{var _dragAndDrop$getDragA;this.failedMoveAttempts++;var{pinnedCols,dragAndDrop,gos}=this.beans;if(this.failedMoveAttempts<=MOVE_FAIL_THRESHOLD+1||!pinnedCols){return;}(_dragAndDrop$getDragA=dragAndDrop.getDragAndDropImageComponent())===null||_dragAndDrop$getDragA===void 0||_dragAndDrop$getDragA.setIcon(\"pinned\",false);if(!gos.get(\"suppressMoveWhenColumnDragging\")){var _this$lastDraggingEve2;var columns=(_this$lastDraggingEve2=this.lastDraggingEvent)===null||_this$lastDraggingEve2===void 0?void 0:_this$lastDraggingEve2.dragItem.columns;this.attemptToPinColumns(columns,void 0,true);}}}getPinDirection(){if(this.needToMoveLeft||this.pinned===\"left\"){return\"left\";}if(this.needToMoveRight||this.pinned===\"right\"){return\"right\";}}attemptToPinColumns(columns,pinned){var fromMoving=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var allowedCols=(columns||[]).filter(c=>!c.getColDef().lockPinned);if(!allowedCols.length){return 0;}if(fromMoving){pinned=this.getPinDirection();}var{pinnedCols,dragAndDrop}=this.beans;pinnedCols===null||pinnedCols===void 0||pinnedCols.setColsPinned(allowedCols,pinned,\"uiColumnDragged\");if(fromMoving){dragAndDrop.nudge();}return allowedCols.length;}destroy(){super.destroy();this.lastDraggingEvent=null;this.clearHighlighted();this.lastMovedInfo=null;}};function setColumnHighlighted(column,highlighted){if(column.highlighted===highlighted){return;}column.highlighted=highlighted;column.dispatchColEvent(\"headerHighlightChanged\",\"uiColumnMoved\");}function findFirstAndLastMovingColumns(allMovingColumns){var moveLen=allMovingColumns.length;var firstMovingCol;var lastMovingCol;for(var i=0;i<moveLen;i++){if(!firstMovingCol){var leftCol=allMovingColumns[i];if(leftCol.getLeft()!=null){firstMovingCol=leftCol;}}if(!lastMovingCol){var rightCol=allMovingColumns[moveLen-1-i];if(rightCol.getLeft()!=null){lastMovingCol=rightCol;}}if(firstMovingCol&&lastMovingCol){break;}}return{firstMovingCol,lastMovingCol};}// packages/ag-grid-community/src/columnMove/columnDrag/bodyDropTarget.ts\nvar BodyDropTarget=class extends BeanStub{constructor(pinned,eContainer){super();this.pinned=pinned;this.eContainer=eContainer;}postConstruct(){var{ctrlsSvc,dragAndDrop}=this.beans;var pinned=this.pinned;ctrlsSvc.whenReady(this,p=>{var eSecondaryContainers;var eBodyViewport=p.gridBodyCtrl.eBodyViewport;switch(pinned){case\"left\":eSecondaryContainers=[[eBodyViewport,p.left.eContainer],[p.bottomLeft.eContainer],[p.topLeft.eContainer]];break;case\"right\":eSecondaryContainers=[[eBodyViewport,p.right.eContainer],[p.bottomRight.eContainer],[p.topRight.eContainer]];break;default:eSecondaryContainers=[[eBodyViewport,p.center.eViewport],[p.bottomCenter.eViewport],[p.topCenter.eViewport]];break;}this.eSecondaryContainers=eSecondaryContainers;});this.moveColumnFeature=this.createManagedBean(new MoveColumnFeature(pinned));this.bodyDropPivotTarget=this.createManagedBean(new BodyDropPivotTarget(pinned));dragAndDrop.addDropTarget(this);this.addDestroyFunc(()=>dragAndDrop.removeDropTarget(this));}isInterestedIn(type){return type===1/* HeaderCell */||type===0/* ToolPanel */&&this.gos.get(\"allowDragFromColumnsToolPanel\");}getSecondaryContainers(){return this.eSecondaryContainers;}getContainer(){return this.eContainer;}getIconName(){return this.currentDropListener.getIconName();}// we want to use the bodyPivotTarget if the user is dragging columns in from the toolPanel\n// and we are in pivot mode, as it has to logic to set pivot/value/group on the columns when\n// dropped into the grid's body.\nisDropColumnInPivotMode(draggingEvent){return this.beans.colModel.isPivotMode()&&draggingEvent.dragSource.type===0/* ToolPanel */;}onDragEnter(draggingEvent){this.currentDropListener=this.isDropColumnInPivotMode(draggingEvent)?this.bodyDropPivotTarget:this.moveColumnFeature;this.currentDropListener.onDragEnter(draggingEvent);}onDragLeave(params){this.currentDropListener.onDragLeave(params);}onDragging(params){this.currentDropListener.onDragging(params);}onDragStop(params){this.currentDropListener.onDragStop(params);}onDragCancel(){this.currentDropListener.onDragCancel();}};// packages/ag-grid-community/src/columnMove/columnMoveService.ts\nvar ColumnMoveService=class extends BeanStub{constructor(){super(...arguments);this.beanName=\"colMoves\";}moveColumnByIndex(fromIndex,toIndex,source){var gridColumns=this.beans.colModel.getCols();if(!gridColumns){return;}var column=gridColumns[fromIndex];this.moveColumns([column],toIndex,source);}moveColumns(columnsToMoveKeys,toIndex,source){var finished=arguments.length>3&&arguments[3]!==undefined?arguments[3]:true;var{colModel,colAnimation,visibleCols,eventSvc}=this.beans;var gridColumns=colModel.getCols();if(!gridColumns){return;}if(toIndex>gridColumns.length-columnsToMoveKeys.length){_warn(30,{toIndex});return;}colAnimation===null||colAnimation===void 0||colAnimation.start();var movedColumns=colModel.getColsForKeys(columnsToMoveKeys);if(this.doesMovePassRules(movedColumns,toIndex)){_moveInArray(colModel.getCols(),movedColumns,toIndex);visibleCols.refresh(source);eventSvc.dispatchEvent({type:\"columnMoved\",columns:movedColumns,column:movedColumns.length===1?movedColumns[0]:null,toIndex,finished,source});}colAnimation===null||colAnimation===void 0||colAnimation.finish();}doesMovePassRules(columnsToMove,toIndex){var proposedColumnOrder=this.getProposedColumnOrder(columnsToMove,toIndex);return this.doesOrderPassRules(proposedColumnOrder);}doesOrderPassRules(gridOrder){var{colModel,gos}=this.beans;if(!doesMovePassMarryChildren(gridOrder,colModel.getColTree())){return false;}var doesMovePassLockedPositions=proposedColumnOrder=>{var lockPositionToPlacement=position=>{if(!position){return 0/* NONE */;}return position===\"left\"||position===true?-1/* LEFT */:1/* RIGHT */;};var isRtl=gos.get(\"enableRtl\");var lastPlacement=isRtl?1/* RIGHT */:-1/* LEFT */;var rulePassed=true;proposedColumnOrder.forEach(col=>{var placement=lockPositionToPlacement(col.getColDef().lockPosition);if(isRtl){if(placement>lastPlacement){rulePassed=false;}}else{if(placement<lastPlacement){rulePassed=false;}}lastPlacement=placement;});return rulePassed;};if(!doesMovePassLockedPositions(gridOrder)){return false;}return true;}getProposedColumnOrder(columnsToMove,toIndex){var gridColumns=this.beans.colModel.getCols();var proposedColumnOrder=gridColumns.slice();_moveInArray(proposedColumnOrder,columnsToMove,toIndex);return proposedColumnOrder;}createBodyDropTarget(pinned,dropContainer){return new BodyDropTarget(pinned,dropContainer);}moveHeader(hDirection,eGui,column,pinned,bean){var{ctrlsSvc,gos,colModel,visibleCols,focusSvc}=this.beans;var rect=eGui.getBoundingClientRect();var left=rect.left;var isGroup=isColumnGroup(column);var width=isGroup?rect.width:column.getActualWidth();var isLeft=hDirection===\"left\"!==gos.get(\"enableRtl\");var xPosition=normaliseX({x:isLeft?left-20:left+width+20,pinned,fromKeyboard:true,gos,ctrlsSvc});var headerPosition=focusSvc.focusedHeader;attemptMoveColumns({allMovingColumns:isGroup?column.getLeafColumns():[column],isFromHeader:true,fromLeft:hDirection===\"right\",xPosition,pinned,fromEnter:false,fakeEvent:false,gos,colModel,colMoves:this,visibleCols,finished:true});var targetColumn;if(isGroup){var displayedLeafColumns=column.getDisplayedLeafColumns();targetColumn=isLeft?displayedLeafColumns[0]:_last(displayedLeafColumns);}else{targetColumn=column;}ctrlsSvc.getScrollFeature().ensureColumnVisible(targetColumn,\"auto\");if((!bean.isAlive()||gos.get(\"ensureDomOrder\"))&&headerPosition){var restoreFocusColumn;if(isGroup){var groupId=column.getGroupId();var leafCols=column.getLeafColumns();if(!leafCols.length){return;}var parent=leafCols[0].getParent();if(!parent){return;}restoreFocusColumn=findGroupWidthId(parent,groupId);}else{restoreFocusColumn=column;}if(restoreFocusColumn){focusSvc.focusHeaderPosition({headerPosition:_objectSpread(_objectSpread({},headerPosition),{},{column:restoreFocusColumn})});}}}setDragSourceForHeader(eSource,column,displayName){var{gos,colModel,dragAndDrop,visibleCols}=this.beans;var hideColumnOnExit=!gos.get(\"suppressDragLeaveHidesColumns\");var isGroup=isColumnGroup(column);var columns=isGroup?column.getProvidedColumnGroup().getLeafColumns():[column];var getDragItem=isGroup?()=>createDragItemForGroup(column,visibleCols.allCols):()=>createDragItem(column);var dragSource={type:1/* HeaderCell */,eElement:eSource,getDefaultIconName:()=>hideColumnOnExit?\"hide\":\"notAllowed\",getDragItem,dragItemName:displayName,onDragStarted:()=>{hideColumnOnExit=!gos.get(\"suppressDragLeaveHidesColumns\");setColumnsMoving(columns,true);},onDragStopped:()=>setColumnsMoving(columns,false),onDragCancelled:()=>setColumnsMoving(columns,false),onGridEnter:dragItem=>{if(hideColumnOnExit){var{columns:columns2=[],visibleState}=dragItem!==null&&dragItem!==void 0?dragItem:{};var hasVisibleState=isGroup?col=>!visibleState||visibleState[col.getColId()]:()=>true;var unlockedColumns=columns2.filter(col=>!col.getColDef().lockVisible&&hasVisibleState(col));colModel.setColsVisible(unlockedColumns,true,\"uiColumnMoved\");}},onGridExit:dragItem=>{if(hideColumnOnExit){var _dragItem$columns2;var unlockedColumns=(dragItem===null||dragItem===void 0||(_dragItem$columns2=dragItem.columns)===null||_dragItem$columns2===void 0?void 0:_dragItem$columns2.filter(col=>!col.getColDef().lockVisible))||[];colModel.setColsVisible(unlockedColumns,false,\"uiColumnMoved\");}}};dragAndDrop.addDragSource(dragSource,true);return dragSource;}};function findGroupWidthId(columnGroup,id){while(columnGroup){if(columnGroup.getGroupId()===id){return columnGroup;}columnGroup=columnGroup.getParent();}return void 0;}function createDragItem(column){var visibleState={};visibleState[column.getId()]=column.isVisible();return{columns:[column],visibleState,containerType:column.pinned};}function createDragItemForGroup(columnGroup,allCols){var _columnsInSplit$;var allColumnsOriginalOrder=columnGroup.getProvidedColumnGroup().getLeafColumns();var visibleState={};allColumnsOriginalOrder.forEach(column=>visibleState[column.getId()]=column.isVisible());var allColumnsCurrentOrder=[];allCols.forEach(column=>{if(allColumnsOriginalOrder.indexOf(column)>=0){allColumnsCurrentOrder.push(column);_removeFromArray(allColumnsOriginalOrder,column);}});allColumnsOriginalOrder.forEach(column=>allColumnsCurrentOrder.push(column));var columnsInSplit=[];var columnGroupColumns=columnGroup.getLeafColumns();for(var col of allColumnsCurrentOrder){if(columnGroupColumns.indexOf(col)!==-1){columnsInSplit.push(col);}}return{columns:allColumnsCurrentOrder,columnsInSplit,visibleState,containerType:(_columnsInSplit$=columnsInSplit[0])===null||_columnsInSplit$===void 0?void 0:_columnsInSplit$.pinned};}// packages/ag-grid-community/src/columnMove/columnMoveModule.ts\nvar ColumnMoveModule={moduleName:\"ColumnMove\",version:VERSION,beans:[ColumnMoveService,ColumnAnimationService],apiFunctions:{moveColumnByIndex,moveColumns},dependsOn:[SharedDragAndDropModule],css:[columnMovingCSS]};// packages/ag-grid-community/src/rendering/autoWidthCalculator.ts\nvar AutoWidthCalculator=class extends BeanStub{constructor(){super(...arguments);this.beanName=\"autoWidthCalc\";}postConstruct(){this.beans.ctrlsSvc.whenReady(this,p=>{this.centerRowContainerCtrl=p.center;});}// this is the trick: we create a dummy container and clone all the cells\n// into the dummy, then check the dummy's width. then destroy the dummy\n// as we don't need it any more.\n// drawback: only the cells visible on the screen are considered\ngetPreferredWidthForColumn(column,skipHeader){var eHeaderCell=this.getHeaderCellForColumn(column);if(!eHeaderCell){return-1;}var elements=this.beans.rowRenderer.getAllCellsNotSpanningForColumn(column);if(!skipHeader){elements.push(eHeaderCell);}return this.getPreferredWidthForElements(elements);}getPreferredWidthForColumnGroup(columnGroup){var eHeaderCell=this.getHeaderCellForColumn(columnGroup);if(!eHeaderCell){return-1;}return this.getPreferredWidthForElements([eHeaderCell]);}getPreferredWidthForElements(elements,extraPadding){var eDummyContainer=document.createElement(\"form\");eDummyContainer.style.position=\"fixed\";var eBodyContainer=this.centerRowContainerCtrl.eContainer;elements.forEach(el=>this.cloneItemIntoDummy(el,eDummyContainer));eBodyContainer.appendChild(eDummyContainer);var dummyContainerWidth=eDummyContainer.offsetWidth;eBodyContainer.removeChild(eDummyContainer);extraPadding=extraPadding!==null&&extraPadding!==void 0?extraPadding:this.gos.get(\"autoSizePadding\");return dummyContainerWidth+extraPadding;}getHeaderCellForColumn(column){var element=null;this.beans.ctrlsSvc.getHeaderRowContainerCtrls().forEach(container=>{var res=container.getHtmlElementForColumnHeader(column);if(res!=null){element=res;}});return element;}cloneItemIntoDummy(eCell,eDummyContainer){var eCellClone=eCell.cloneNode(true);eCellClone.style.width=\"\";eCellClone.style.position=\"static\";eCellClone.style.left=\"\";var eCloneParent=document.createElement(\"div\");var eCloneParentClassList=eCloneParent.classList;var isHeader=[\"ag-header-cell\",\"ag-header-group-cell\"].some(cls=>eCellClone.classList.contains(cls));if(isHeader){eCloneParentClassList.add(\"ag-header\",\"ag-header-row\");eCloneParent.style.position=\"static\";}else{eCloneParentClassList.add(\"ag-row\");}var pointer=eCell.parentElement;while(pointer){var isRow=[\"ag-header-row\",\"ag-row\"].some(cls=>pointer.classList.contains(cls));if(isRow){for(var i=0;i<pointer.classList.length;i++){var item=pointer.classList[i];if(item!=\"ag-row-position-absolute\"){eCloneParentClassList.add(item);}}break;}pointer=pointer.parentElement;}eCloneParent.appendChild(eCellClone);eDummyContainer.appendChild(eCloneParent);}};// packages/ag-grid-community/src/rendering/autoWidthModule.ts\nvar AutoWidthModule={moduleName:\"AutoWidth\",version:VERSION,beans:[AutoWidthCalculator]};// packages/ag-grid-community/src/columnResize/columnResizeApi.ts\nfunction setColumnWidths(beans,columnWidths){var _beans$colResize;var finished=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;var source=arguments.length>3&&arguments[3]!==undefined?arguments[3]:\"api\";(_beans$colResize=beans.colResize)===null||_beans$colResize===void 0||_beans$colResize.setColumnWidths(columnWidths,false,finished,source);}// packages/ag-grid-community/src/columnResize/groupResizeFeature.ts\nvar GroupResizeFeature=class extends BeanStub{constructor(comp,eResize,pinned,columnGroup){super();this.comp=comp;this.eResize=eResize;this.pinned=pinned;this.columnGroup=columnGroup;}postConstruct(){if(!this.columnGroup.isResizable()){this.comp.setResizableDisplayed(false);return;}var{horizontalResizeSvc,gos,colAutosize}=this.beans;var finishedWithResizeFunc=horizontalResizeSvc.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,false),onResizeEnd:this.onResizing.bind(this,true)});this.addDestroyFunc(finishedWithResizeFunc);if(!gos.get(\"suppressAutoSize\")&&colAutosize){this.addDestroyFunc(colAutosize.addColumnGroupResize(this.eResize,this.columnGroup,()=>this.resizeLeafColumnsToFit(\"uiColumnResized\")));}}onResizeStart(shiftKey){var{columnsToResize,resizeStartWidth,resizeRatios,groupAfterColumns,groupAfterStartWidth,groupAfterRatios}=this.getInitialValues(shiftKey);this.resizeCols=columnsToResize;this.resizeStartWidth=resizeStartWidth;this.resizeRatios=resizeRatios;this.resizeTakeFromCols=groupAfterColumns;this.resizeTakeFromStartWidth=groupAfterStartWidth;this.resizeTakeFromRatios=groupAfterRatios;this.toggleColumnResizing(true);}onResizing(finished,resizeAmount){var source=arguments.length>2&&arguments[2]!==undefined?arguments[2]:\"uiColumnResized\";var resizeAmountNormalised=this.normaliseDragChange(resizeAmount);var width=this.resizeStartWidth+resizeAmountNormalised;this.resizeColumnsFromLocalValues(width,source,finished);}getInitialValues(shiftKey){var getInitialSizeOfColumns=columns=>columns.reduce((totalWidth,column)=>totalWidth+column.getActualWidth(),0);var getSizeRatiosOfColumns=(columns,initialSizeOfColumns)=>columns.map(column=>column.getActualWidth()/initialSizeOfColumns);var columnsToResize=this.getColumnsToResize();var resizeStartWidth=getInitialSizeOfColumns(columnsToResize);var resizeRatios=getSizeRatiosOfColumns(columnsToResize,resizeStartWidth);var columnSizeAndRatios={columnsToResize,resizeStartWidth,resizeRatios};var groupAfter=null;if(shiftKey){var _this$beans$colGroupS,_this$beans$colGroupS2;groupAfter=(_this$beans$colGroupS=(_this$beans$colGroupS2=this.beans.colGroupSvc)===null||_this$beans$colGroupS2===void 0?void 0:_this$beans$colGroupS2.getGroupAtDirection(this.columnGroup,\"After\"))!==null&&_this$beans$colGroupS!==void 0?_this$beans$colGroupS:null;}if(groupAfter){var takeFromLeafCols=groupAfter.getDisplayedLeafColumns();var groupAfterColumns=columnSizeAndRatios.groupAfterColumns=takeFromLeafCols.filter(col=>col.isResizable());var groupAfterStartWidth=columnSizeAndRatios.groupAfterStartWidth=getInitialSizeOfColumns(groupAfterColumns);columnSizeAndRatios.groupAfterRatios=getSizeRatiosOfColumns(groupAfterColumns,groupAfterStartWidth);}else{columnSizeAndRatios.groupAfterColumns=void 0;columnSizeAndRatios.groupAfterStartWidth=void 0;columnSizeAndRatios.groupAfterRatios=void 0;}return columnSizeAndRatios;}resizeLeafColumnsToFit(source){var preferredSize=this.beans.autoWidthCalc.getPreferredWidthForColumnGroup(this.columnGroup);var initialValues=this.getInitialValues();if(preferredSize>initialValues.resizeStartWidth){this.resizeColumns(initialValues,preferredSize,source,true);}}resizeColumnsFromLocalValues(totalWidth,source){var finished=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;if(!this.resizeCols||!this.resizeRatios){return;}var initialValues={columnsToResize:this.resizeCols,resizeStartWidth:this.resizeStartWidth,resizeRatios:this.resizeRatios,groupAfterColumns:this.resizeTakeFromCols,groupAfterStartWidth:this.resizeTakeFromStartWidth,groupAfterRatios:this.resizeTakeFromRatios};this.resizeColumns(initialValues,totalWidth,source,finished);}resizeColumns(initialValues,totalWidth,source){var _this$beans$colResize2;var finished=arguments.length>3&&arguments[3]!==undefined?arguments[3]:true;var{columnsToResize,resizeStartWidth,resizeRatios,groupAfterColumns,groupAfterStartWidth,groupAfterRatios}=initialValues;var resizeSets=[];resizeSets.push({columns:columnsToResize,ratios:resizeRatios,width:totalWidth});if(groupAfterColumns){var diff=totalWidth-resizeStartWidth;resizeSets.push({columns:groupAfterColumns,ratios:groupAfterRatios,width:groupAfterStartWidth-diff});}(_this$beans$colResize2=this.beans.colResize)===null||_this$beans$colResize2===void 0||_this$beans$colResize2.resizeColumnSets({resizeSets,finished,source});if(finished){this.toggleColumnResizing(false);}}toggleColumnResizing(resizing){this.comp.toggleCss(\"ag-column-resizing\",resizing);}getColumnsToResize(){var leafCols=this.columnGroup.getDisplayedLeafColumns();return leafCols.filter(col=>col.isResizable());}// optionally inverts the drag, depending on pinned and RTL\n// note - this method is duplicated in RenderedHeaderCell - should refactor out?\nnormaliseDragChange(dragChange){var result=dragChange;if(this.gos.get(\"enableRtl\")){if(this.pinned!==\"left\"){result*=-1;}}else if(this.pinned===\"right\"){result*=-1;}return result;}destroy(){super.destroy();this.resizeCols=void 0;this.resizeRatios=void 0;this.resizeTakeFromCols=void 0;this.resizeTakeFromRatios=void 0;}};// packages/ag-grid-community/src/columnResize/resizeFeature.ts\nvar ResizeFeature=class extends BeanStub{constructor(pinned,column,eResize,comp,ctrl){super();this.pinned=pinned;this.column=column;this.eResize=eResize;this.comp=comp;this.ctrl=ctrl;}postConstruct(){var destroyResizeFuncs=[];var canResize;var canAutosize;var addResize=()=>{_setDisplayed(this.eResize,canResize);if(!canResize){return;}var{horizontalResizeSvc,colAutosize}=this.beans;var finishedWithResizeFunc=horizontalResizeSvc.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,false),onResizeEnd:this.onResizing.bind(this,true)});destroyResizeFuncs.push(finishedWithResizeFunc);if(canAutosize&&colAutosize){destroyResizeFuncs.push(colAutosize.addColumnAutosize(this.eResize,this.column));}};var removeResize=()=>{destroyResizeFuncs.forEach(f=>f());destroyResizeFuncs.length=0;};var refresh=()=>{var resize=this.column.isResizable();var autoSize=!this.gos.get(\"suppressAutoSize\")&&!this.column.getColDef().suppressAutoSize;var propertyChange=resize!==canResize||autoSize!==canAutosize;if(propertyChange){canResize=resize;canAutosize=autoSize;removeResize();addResize();}};refresh();this.addDestroyFunc(removeResize);this.ctrl.setRefreshFunction(\"resize\",refresh);}onResizing(finished,resizeAmount){var{column:key,lastResizeAmount,resizeStartWidth,beans}=this;var resizeAmountNormalised=this.normaliseResizeAmount(resizeAmount);var newWidth=resizeStartWidth+resizeAmountNormalised;var columnWidths=[{key,newWidth}];var{pinnedCols,ctrlsSvc,colResize}=beans;if(this.column.getPinned()){var _pinnedCols$leftWidth,_pinnedCols$rightWidt;var leftWidth=(_pinnedCols$leftWidth=pinnedCols===null||pinnedCols===void 0?void 0:pinnedCols.leftWidth)!==null&&_pinnedCols$leftWidth!==void 0?_pinnedCols$leftWidth:0;var rightWidth=(_pinnedCols$rightWidt=pinnedCols===null||pinnedCols===void 0?void 0:pinnedCols.rightWidth)!==null&&_pinnedCols$rightWidt!==void 0?_pinnedCols$rightWidt:0;var bodyWidth=_getInnerWidth(ctrlsSvc.getGridBodyCtrl().eBodyViewport)-50;if(leftWidth+rightWidth+(resizeAmountNormalised-lastResizeAmount)>bodyWidth){return;}}this.lastResizeAmount=resizeAmountNormalised;colResize===null||colResize===void 0||colResize.setColumnWidths(columnWidths,this.resizeWithShiftKey,finished,\"uiColumnResized\");if(finished){this.toggleColumnResizing(false);}}onResizeStart(shiftKey){this.resizeStartWidth=this.column.getActualWidth();this.lastResizeAmount=0;this.resizeWithShiftKey=shiftKey;this.toggleColumnResizing(true);}toggleColumnResizing(resizing){this.comp.toggleCss(\"ag-column-resizing\",resizing);}// optionally inverts the drag, depending on pinned and RTL\n// note - this method is duplicated in RenderedHeaderGroupCell - should refactor out?\nnormaliseResizeAmount(dragChange){var result=dragChange;var notPinningLeft=this.pinned!==\"left\";var pinningRight=this.pinned===\"right\";if(this.gos.get(\"enableRtl\")){if(notPinningLeft){result*=-1;}}else{if(pinningRight){result*=-1;}}return result;}};// packages/ag-grid-community/src/columnResize/columnResizeService.ts\nvar ColumnResizeService=class extends BeanStub{constructor(){super(...arguments);this.beanName=\"colResize\";}setColumnWidths(columnWidths,shiftKey,finished,source){var sets=[];var{colModel,gos,visibleCols}=this.beans;columnWidths.forEach(columnWidth=>{var col=colModel.getColDefCol(columnWidth.key)||colModel.getCol(columnWidth.key);if(!col){return;}sets.push({width:columnWidth.newWidth,ratios:[1],columns:[col]});var defaultIsShift=gos.get(\"colResizeDefault\")===\"shift\";if(defaultIsShift){shiftKey=!shiftKey;}if(shiftKey){var otherCol=visibleCols.getColAfter(col);if(!otherCol){return;}var widthDiff=col.getActualWidth()-columnWidth.newWidth;var otherColWidth=otherCol.getActualWidth()+widthDiff;sets.push({width:otherColWidth,ratios:[1],columns:[otherCol]});}});if(sets.length===0){return;}this.resizeColumnSets({resizeSets:sets,finished,source});}// method takes sets of columns and resizes them. either all sets will be resized, or nothing\n// be resized. this is used for example when user tries to resize a group and holds shift key,\n// then both the current group (grows), and the adjacent group (shrinks), will get resized,\n// so that's two sets for this method.\nresizeColumnSets(params){var{resizeSets,finished,source}=params;var passMinMaxCheck=!resizeSets||resizeSets.every(columnResizeSet=>checkMinAndMaxWidthsForSet(columnResizeSet));if(!passMinMaxCheck){if(finished){var columns=resizeSets&&resizeSets.length>0?resizeSets[0].columns:null;dispatchColumnResizedEvent(this.eventSvc,columns,finished,source);}return;}var changedCols=[];var allResizedCols=[];resizeSets.forEach(set=>{var{width,columns,ratios}=set;var newWidths={};var finishedCols={};columns.forEach(col=>allResizedCols.push(col));var finishedColsGrew=true;var loopCount=0;var _loop6=function _loop6(){loopCount++;if(loopCount>1e3){_error(31);return 1;// break\n}finishedColsGrew=false;var subsetCols=[];var subsetRatioTotal=0;var pixelsToDistribute=width;columns.forEach((col,index)=>{var thisColFinished=finishedCols[col.getId()];if(thisColFinished){pixelsToDistribute-=newWidths[col.getId()];}else{subsetCols.push(col);var ratioThisCol=ratios[index];subsetRatioTotal+=ratioThisCol;}});var ratioScale=1/subsetRatioTotal;subsetCols.forEach((col,index)=>{var lastCol=index===subsetCols.length-1;var colNewWidth;if(lastCol){colNewWidth=pixelsToDistribute;}else{colNewWidth=Math.round(ratios[index]*width*ratioScale);pixelsToDistribute-=colNewWidth;}var minWidth=col.getMinWidth();var maxWidth=col.getMaxWidth();if(colNewWidth<minWidth){colNewWidth=minWidth;finishedCols[col.getId()]=true;finishedColsGrew=true;}else if(maxWidth>0&&colNewWidth>maxWidth){colNewWidth=maxWidth;finishedCols[col.getId()]=true;finishedColsGrew=true;}newWidths[col.getId()]=colNewWidth;});};while(finishedColsGrew){if(_loop6())break;}columns.forEach(col=>{var newWidth=newWidths[col.getId()];var actualWidth=col.getActualWidth();if(actualWidth!==newWidth){col.setActualWidth(newWidth,source);changedCols.push(col);}});});var atLeastOneColChanged=changedCols.length>0;var flexedCols=[];if(atLeastOneColChanged){var _colFlex$refreshFlexe;var{colFlex,visibleCols,colViewport}=this.beans;flexedCols=(_colFlex$refreshFlexe=colFlex===null||colFlex===void 0?void 0:colFlex.refreshFlexedColumns({resizingCols:allResizedCols,skipSetLeft:true}))!==null&&_colFlex$refreshFlexe!==void 0?_colFlex$refreshFlexe:[];visibleCols.setLeftValues(source);visibleCols.updateBodyWidths();colViewport.checkViewportColumns();}var colsForEvent=allResizedCols.concat(flexedCols);if(atLeastOneColChanged||finished){dispatchColumnResizedEvent(this.eventSvc,colsForEvent,finished,source,flexedCols);}}resizeHeader(column,delta,shiftKey){if(!column.isResizable()){return;}var actualWidth=column.getActualWidth();var minWidth=column.getMinWidth();var maxWidth=column.getMaxWidth();var newWidth=Math.min(Math.max(actualWidth+delta,minWidth),maxWidth);this.setColumnWidths([{key:column,newWidth}],shiftKey,true,\"uiColumnResized\");}createResizeFeature(pinned,column,eResize,comp,ctrl){return new ResizeFeature(pinned,column,eResize,comp,ctrl);}createGroupResizeFeature(comp,eResize,pinned,columnGroup){return new GroupResizeFeature(comp,eResize,pinned,columnGroup);}};function checkMinAndMaxWidthsForSet(columnResizeSet){var{columns,width}=columnResizeSet;var minWidthAccumulated=0;var maxWidthAccumulated=0;var maxWidthActive=true;columns.forEach(col=>{var minWidth=col.getMinWidth();minWidthAccumulated+=minWidth||0;var maxWidth=col.getMaxWidth();if(maxWidth>0){maxWidthAccumulated+=maxWidth;}else{maxWidthActive=false;}});var minWidthPasses=width>=minWidthAccumulated;var maxWidthPasses=!maxWidthActive||width<=maxWidthAccumulated;return minWidthPasses&&maxWidthPasses;}// packages/ag-grid-community/src/columnResize/columnResizeModule.ts\nvar ColumnResizeModule={moduleName:\"ColumnResize\",version:VERSION,beans:[ColumnResizeService],apiFunctions:{setColumnWidths},dependsOn:[HorizontalResizeModule,AutoWidthModule]};// packages/ag-grid-community/src/headerRendering/cells/columnGroup/groupWidthFeature.ts\nvar GroupWidthFeature=class extends BeanStub{constructor(comp,columnGroup){super();// the children can change, we keep destroy functions related to listening to the children here\nthis.removeChildListenersFuncs=[];this.columnGroup=columnGroup;this.comp=comp;}postConstruct(){this.addListenersToChildrenColumns();this.addManagedListeners(this.columnGroup,{displayedChildrenChanged:this.onDisplayedChildrenChanged.bind(this)});this.onWidthChanged();this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this));}addListenersToChildrenColumns(){this.removeListenersOnChildrenColumns();var widthChangedListener=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(column=>{column.__addEventListener(\"widthChanged\",widthChangedListener);column.__addEventListener(\"visibleChanged\",widthChangedListener);this.removeChildListenersFuncs.push(()=>{column.__removeEventListener(\"widthChanged\",widthChangedListener);column.__removeEventListener(\"visibleChanged\",widthChangedListener);});});}removeListenersOnChildrenColumns(){this.removeChildListenersFuncs.forEach(func=>func());this.removeChildListenersFuncs=[];}onDisplayedChildrenChanged(){this.addListenersToChildrenColumns();this.onWidthChanged();}onWidthChanged(){var columnWidth=this.columnGroup.getActualWidth();this.comp.setWidth(\"\".concat(columnWidth,\"px\"));this.comp.toggleCss(\"ag-hidden\",columnWidth===0);}};// packages/ag-grid-community/src/headerRendering/cells/columnGroup/headerGroupCellCtrl.ts\nvar HeaderGroupCellCtrl=class extends AbstractHeaderCellCtrl{constructor(){super(...arguments);this.onSuppressColMoveChange=()=>{if(!this.isAlive()||this.isSuppressMoving()){this.removeDragSource();}else{if(!this.dragSource){this.setDragSource(this.eGui);}}};}setComp(comp,eGui,eResize,eHeaderCompWrapper,compBean){var{column,beans}=this;var{context,colNames,colHover,rangeSvc,colResize}=beans;this.comp=comp;compBean=setupCompBean(this,context,compBean);this.setGui(eGui,compBean);this.displayName=colNames.getDisplayNameForColumnGroup(column,\"header\");this.refreshHeaderStyles();this.addClasses();this.setupMovingCss(compBean);this.setupExpandable(compBean);this.setupTooltip();this.setupAutoHeight({wrapperElement:eHeaderCompWrapper,compBean});this.setupUserComp();this.addHeaderMouseListeners(compBean);this.addManagedPropertyListener(\"groupHeaderHeight\",this.refreshMaxHeaderHeight.bind(this));this.refreshMaxHeaderHeight();var pinned=this.rowCtrl.pinned;var leafCols=column.getProvidedColumnGroup().getLeafColumns();colHover===null||colHover===void 0||colHover.createHoverFeature(compBean,leafCols,eGui);rangeSvc===null||rangeSvc===void 0||rangeSvc.createRangeHighlightFeature(compBean,column,comp);compBean.createManagedBean(new SetLeftFeature(column,eGui,beans));compBean.createManagedBean(new GroupWidthFeature(comp,column));if(colResize){this.resizeFeature=compBean.createManagedBean(colResize.createGroupResizeFeature(comp,eResize,pinned,column));}else{comp.setResizableDisplayed(false);}compBean.createManagedBean(new ManagedFocusFeature(eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:()=>void 0,handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}));this.addHighlightListeners(compBean,leafCols);compBean.addManagedPropertyListener(\"suppressMovableColumns\",this.onSuppressColMoveChange);this.addResizeAndMoveKeyboardListeners(compBean);compBean.addDestroyFunc(()=>this.clearComponent());}getHeaderClassParams(){var{column,beans}=this;var colDef=column.getDefinition();return _addGridCommonParams(beans.gos,{colDef,columnGroup:column,floatingFilter:false});}refreshMaxHeaderHeight(){var{gos,comp}=this;var groupHeaderHeight=gos.get(\"groupHeaderHeight\");if(groupHeaderHeight!=null){if(groupHeaderHeight===0){comp.setHeaderWrapperHidden(true);}else{comp.setHeaderWrapperMaxHeight(groupHeaderHeight);}}else{comp.setHeaderWrapperHidden(false);comp.setHeaderWrapperMaxHeight(null);}}addHighlightListeners(compBean,columns){if(!this.beans.gos.get(\"suppressMoveWhenColumnDragging\")){return;}for(var column of columns){compBean.addManagedListeners(column,{headerHighlightChanged:this.onLeafColumnHighlightChanged.bind(this,column)});}}onLeafColumnHighlightChanged(column){var displayedColumns=this.column.getDisplayedLeafColumns();var isFirst=displayedColumns[0]===column;var isLast=_last(displayedColumns)===column;if(!isFirst&&!isLast){return;}var highlighted=column.getHighlighted();var isColumnMoveAtThisLevel=!!this.rowCtrl.getHeaderCellCtrls().find(ctrl=>{return ctrl.column.isMoving();});var beforeOn=false;var afterOn=false;if(isColumnMoveAtThisLevel){var isRtl=this.beans.gos.get(\"enableRtl\");var isHighlightAfter=highlighted===1/* After */;var isHighlightBefore=highlighted===0/* Before */;if(isFirst){if(isRtl){afterOn=isHighlightAfter;}else{beforeOn=isHighlightBefore;}}if(isLast){if(isRtl){beforeOn=isHighlightBefore;}else{afterOn=isHighlightAfter;}}}this.comp.toggleCss(\"ag-header-highlight-before\",beforeOn);this.comp.toggleCss(\"ag-header-highlight-after\",afterOn);}resizeHeader(delta,shiftKey){var{resizeFeature}=this;if(!resizeFeature){return;}var initialValues=resizeFeature.getInitialValues(shiftKey);resizeFeature.resizeColumns(initialValues,initialValues.resizeStartWidth+delta,\"uiColumnResized\",true);}resizeLeafColumnsToFit(source){var _this$resizeFeature3;(_this$resizeFeature3=this.resizeFeature)===null||_this$resizeFeature3===void 0||_this$resizeFeature3.resizeLeafColumnsToFit(source);}setupUserComp(){var{colGroupSvc,userCompFactory,gos,enterpriseMenuFactory}=this.beans;var columnGroup=this.column;var providedColumnGroup=columnGroup.getProvidedColumnGroup();var params=_addGridCommonParams(gos,{displayName:this.displayName,columnGroup,setExpanded:expanded=>{colGroupSvc.setColumnGroupOpened(providedColumnGroup,expanded,\"gridInitializing\");},setTooltip:(value,shouldDisplayTooltip)=>{gos.assertModuleRegistered(\"Tooltip\",3);this.setupTooltip(value,shouldDisplayTooltip);},showColumnMenu:(buttonElement,onClosedCallback)=>enterpriseMenuFactory===null||enterpriseMenuFactory===void 0?void 0:enterpriseMenuFactory.showMenuAfterButtonClick(providedColumnGroup,buttonElement,\"columnMenu\",onClosedCallback),showColumnMenuAfterMouseClick:(mouseEvent,onClosedCallback)=>enterpriseMenuFactory===null||enterpriseMenuFactory===void 0?void 0:enterpriseMenuFactory.showMenuAfterMouseEvent(providedColumnGroup,mouseEvent,\"columnMenu\",onClosedCallback),eGridHeader:this.eGui});var compDetails=_getHeaderGroupCompDetails(userCompFactory,params);if(compDetails){this.comp.setUserCompDetails(compDetails);}}addHeaderMouseListeners(compBean){var listener=e=>this.handleMouseOverChange(e.type===\"mouseenter\");var clickListener=()=>this.dispatchColumnMouseEvent(\"columnHeaderClicked\",this.column.getProvidedColumnGroup());var contextMenuListener=event=>this.handleContextMenuMouseEvent(event,void 0,this.column.getProvidedColumnGroup());compBean.addManagedListeners(this.eGui,{mouseenter:listener,mouseleave:listener,click:clickListener,contextmenu:contextMenuListener});}handleMouseOverChange(isMouseOver){this.eventSvc.dispatchEvent({type:isMouseOver?\"columnHeaderMouseOver\":\"columnHeaderMouseLeave\",column:this.column.getProvidedColumnGroup()});}setupTooltip(value,shouldDisplayTooltip){var _this$beans$tooltipSv6;this.tooltipFeature=(_this$beans$tooltipSv6=this.beans.tooltipSvc)===null||_this$beans$tooltipSv6===void 0?void 0:_this$beans$tooltipSv6.setupHeaderGroupTooltip(this.tooltipFeature,this,value,shouldDisplayTooltip);}setupExpandable(compBean){var providedColGroup=this.column.getProvidedColumnGroup();this.refreshExpanded();var listener=this.refreshExpanded.bind(this);compBean.addManagedListeners(providedColGroup,{expandedChanged:listener,expandableChanged:listener});}refreshExpanded(){var{column}=this;this.expandable=column.isExpandable();var expanded=column.isExpanded();if(this.expandable){this.comp.setAriaExpanded(expanded?\"true\":\"false\");}else{this.comp.setAriaExpanded(void 0);}this.refreshHeaderStyles();}addClasses(){var{column}=this;var colGroupDef=column.getColGroupDef();var classes=_getHeaderClassesFromColDef(colGroupDef,this.gos,null,column);if(column.isPadding()){classes.push(\"ag-header-group-cell-no-group\");var leafCols=column.getLeafColumns();if(leafCols.every(col=>col.isSpanHeaderHeight())){classes.push(\"ag-header-span-height\");}}else{classes.push(\"ag-header-group-cell-with-group\");if(colGroupDef!==null&&colGroupDef!==void 0&&colGroupDef.wrapHeaderText){classes.push(\"ag-header-cell-wrap-text\");}}classes.forEach(c=>this.comp.toggleCss(c,true));}setupMovingCss(compBean){var{column}=this;var providedColumnGroup=column.getProvidedColumnGroup();var leafColumns=providedColumnGroup.getLeafColumns();var listener=()=>this.comp.toggleCss(\"ag-header-cell-moving\",column.isMoving());leafColumns.forEach(col=>{compBean.addManagedListeners(col,{movingChanged:listener});});listener();}onFocusIn(e){if(!this.eGui.contains(e.relatedTarget)){this.focusThis();}}handleKeyDown(e){super.handleKeyDown(e);var wrapperHasFocus=this.getWrapperHasFocus();if(!this.expandable||!wrapperHasFocus){return;}if(e.key===KeyCode.ENTER){var column=this.column;var newExpandedValue=!column.isExpanded();this.beans.colGroupSvc.setColumnGroupOpened(column.getProvidedColumnGroup(),newExpandedValue,\"uiColumnExpanded\");}}// unlike columns, this will only get called once, as we don't react on props on column groups\n// (we will always destroy and recreate this comp if something changes)\nsetDragSource(eHeaderGroup){var _this$beans$colMoves$2,_this$beans$colMoves3;if(!this.isAlive()||this.isSuppressMoving()){return;}this.removeDragSource();if(!eHeaderGroup){return;}this.dragSource=(_this$beans$colMoves$2=(_this$beans$colMoves3=this.beans.colMoves)===null||_this$beans$colMoves3===void 0?void 0:_this$beans$colMoves3.setDragSourceForHeader(eHeaderGroup,this.column,this.displayName))!==null&&_this$beans$colMoves$2!==void 0?_this$beans$colMoves$2:null;}isSuppressMoving(){return this.gos.get(\"suppressMovableColumns\")||this.column.getLeafColumns().some(column=>column.getColDef().suppressMovable||column.getColDef().lockPosition);}destroy(){this.tooltipFeature=this.destroyBean(this.tooltipFeature);super.destroy();}};// packages/ag-grid-community/src/columns/columnGroups/columnGroupApi.ts\nfunction setColumnGroupOpened(beans,group,newValue){var _beans$colGroupSvc;(_beans$colGroupSvc=beans.colGroupSvc)===null||_beans$colGroupSvc===void 0||_beans$colGroupSvc.setColumnGroupOpened(group,newValue,\"api\");}function getColumnGroup(beans,name,instanceId){var _beans$colGroupSvc$ge,_beans$colGroupSvc2;return(_beans$colGroupSvc$ge=(_beans$colGroupSvc2=beans.colGroupSvc)===null||_beans$colGroupSvc2===void 0?void 0:_beans$colGroupSvc2.getColumnGroup(name,instanceId))!==null&&_beans$colGroupSvc$ge!==void 0?_beans$colGroupSvc$ge:null;}function getProvidedColumnGroup(beans,name){var _beans$colGroupSvc$ge2,_beans$colGroupSvc3;return(_beans$colGroupSvc$ge2=(_beans$colGroupSvc3=beans.colGroupSvc)===null||_beans$colGroupSvc3===void 0?void 0:_beans$colGroupSvc3.getProvidedColGroup(name))!==null&&_beans$colGroupSvc$ge2!==void 0?_beans$colGroupSvc$ge2:null;}function getDisplayNameForColumnGroup(beans,columnGroup,location){return beans.colNames.getDisplayNameForColumnGroup(columnGroup,location)||\"\";}function getColumnGroupState(beans){var _beans$colGroupSvc$ge3,_beans$colGroupSvc4;return(_beans$colGroupSvc$ge3=(_beans$colGroupSvc4=beans.colGroupSvc)===null||_beans$colGroupSvc4===void 0?void 0:_beans$colGroupSvc4.getColumnGroupState())!==null&&_beans$colGroupSvc$ge3!==void 0?_beans$colGroupSvc$ge3:[];}function setColumnGroupState(beans,stateItems){var _beans$colGroupSvc5;(_beans$colGroupSvc5=beans.colGroupSvc)===null||_beans$colGroupSvc5===void 0||_beans$colGroupSvc5.setColumnGroupState(stateItems,\"api\");}function resetColumnGroupState(beans){var _beans$colGroupSvc6;(_beans$colGroupSvc6=beans.colGroupSvc)===null||_beans$colGroupSvc6===void 0||_beans$colGroupSvc6.resetColumnGroupState(\"api\");}function getLeftDisplayedColumnGroups(beans){return beans.visibleCols.treeLeft;}function getCenterDisplayedColumnGroups(beans){return beans.visibleCols.treeCenter;}function getRightDisplayedColumnGroups(beans){return beans.visibleCols.treeRight;}function getAllDisplayedColumnGroups(beans){return beans.visibleCols.getAllTrees();}// packages/ag-grid-community/src/columns/visibleColsService.ts\nfunction _removeAllFromUnorderedArray(array,toRemove){for(var i=0;i<toRemove.length;i++){var index=array.indexOf(toRemove[i]);if(index>=0){array[index]=array[array.length-1];array.pop();}}}var VisibleColsService=class extends BeanStub{constructor(){super(...arguments);this.beanName=\"visibleCols\";// for fast lookup, to see if a column or group is still visible\nthis.colsAndGroupsMap={};// leave level columns of the displayed trees\nthis.leftCols=[];this.rightCols=[];this.centerCols=[];// all three lists above combined\nthis.allCols=[];// used by:\n// + angularGrid -> for setting body width\n// + rowController -> setting main row widths (when inserting and resizing)\n// need to cache this\nthis.bodyWidth=0;this.leftWidth=0;this.rightWidth=0;this.isBodyWidthDirty=true;}refresh(source){var skipTreeBuild=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var{colFlex,colModel,colGroupSvc,colViewport,selectionColSvc}=this.beans;if(!skipTreeBuild){this.buildTrees(colModel,colGroupSvc);}colGroupSvc===null||colGroupSvc===void 0||colGroupSvc.updateOpenClosedVisibility();this.leftCols=pickDisplayedCols(this.treeLeft);this.centerCols=pickDisplayedCols(this.treeCenter);this.rightCols=pickDisplayedCols(this.treeRight);selectionColSvc===null||selectionColSvc===void 0||selectionColSvc.refreshVisibility(this.leftCols,this.centerCols,this.rightCols);this.joinColsAriaOrder(colModel);this.joinCols();this.setLeftValues(source);this.autoHeightCols=this.allCols.filter(col=>col.isAutoHeight());colFlex===null||colFlex===void 0||colFlex.refreshFlexedColumns();this.updateBodyWidths();colViewport.checkViewportColumns(false);this.setFirstRightAndLastLeftPinned(colModel,this.leftCols,this.rightCols,source);this.eventSvc.dispatchEvent({type:\"displayedColumnsChanged\",source});}// after setColumnWidth or updateGroupsAndPresentedCols\nupdateBodyWidths(){var newBodyWidth=getWidthOfColsInList(this.centerCols);var newLeftWidth=getWidthOfColsInList(this.leftCols);var newRightWidth=getWidthOfColsInList(this.rightCols);this.isBodyWidthDirty=this.bodyWidth!==newBodyWidth;var atLeastOneChanged=this.bodyWidth!==newBodyWidth||this.leftWidth!==newLeftWidth||this.rightWidth!==newRightWidth;if(atLeastOneChanged){this.bodyWidth=newBodyWidth;this.leftWidth=newLeftWidth;this.rightWidth=newRightWidth;this.eventSvc.dispatchEvent({type:\"columnContainerWidthChanged\"});this.eventSvc.dispatchEvent({type:\"displayedColumnsWidthChanged\"});}}// sets the left pixel position of each column\nsetLeftValues(source){this.setLeftValuesOfCols(source);this.setLeftValuesOfGroups();}setFirstRightAndLastLeftPinned(colModel,leftCols,rightCols,source){var lastLeft;var firstRight;if(this.gos.get(\"enableRtl\")){lastLeft=leftCols?leftCols[0]:null;firstRight=rightCols?_last(rightCols):null;}else{lastLeft=leftCols?_last(leftCols):null;firstRight=rightCols?rightCols[0]:null;}colModel.getCols().forEach(col=>{col.setLastLeftPinned(col===lastLeft,source);col.setFirstRightPinned(col===firstRight,source);});}buildTrees(colModel,columnGroupSvc){var cols=colModel.getColsToShow();var leftCols=cols.filter(col=>col.getPinned()==\"left\");var rightCols=cols.filter(col=>col.getPinned()==\"right\");var centerCols=cols.filter(col=>col.getPinned()!=\"left\"&&col.getPinned()!=\"right\");var idCreator=new GroupInstanceIdCreator();var createGroups=params=>{return columnGroupSvc?columnGroupSvc.createColumnGroups(params):params.columns;};this.treeLeft=createGroups({columns:leftCols,idCreator,pinned:\"left\",oldDisplayedGroups:this.treeLeft});this.treeRight=createGroups({columns:rightCols,idCreator,pinned:\"right\",oldDisplayedGroups:this.treeRight});this.treeCenter=createGroups({columns:centerCols,idCreator,pinned:null,oldDisplayedGroups:this.treeCenter});this.updateColsAndGroupsMap();}clear(){this.leftCols=[];this.rightCols=[];this.centerCols=[];this.allCols=[];this.ariaOrderColumns=[];}joinColsAriaOrder(colModel){var allColumns=colModel.getCols();var pinnedLeft=[];var center=[];var pinnedRight=[];for(var col of allColumns){var pinned=col.getPinned();if(!pinned){center.push(col);}else if(pinned===true||pinned===\"left\"){pinnedLeft.push(col);}else{pinnedRight.push(col);}}this.ariaOrderColumns=pinnedLeft.concat(center).concat(pinnedRight);}getAriaColIndex(colOrGroup){var col;if(isColumnGroup(colOrGroup)){col=colOrGroup.getLeafColumns()[0];}else{col=colOrGroup;}return this.ariaOrderColumns.indexOf(col)+1;}setLeftValuesOfGroups(){[this.treeLeft,this.treeRight,this.treeCenter].forEach(columns=>{columns.forEach(column=>{if(isColumnGroup(column)){var columnGroup=column;columnGroup.checkLeft();}});});}setLeftValuesOfCols(source){var{colModel}=this.beans;var primaryCols=colModel.getColDefCols();if(!primaryCols){return;}var allColumns=colModel.getCols().slice(0);var doingRtl=this.gos.get(\"enableRtl\");[this.leftCols,this.rightCols,this.centerCols].forEach(columns=>{if(doingRtl){var left=getWidthOfColsInList(columns);columns.forEach(column=>{left-=column.getActualWidth();column.setLeft(left,source);});}else{var _left=0;columns.forEach(column=>{column.setLeft(_left,source);_left+=column.getActualWidth();});}_removeAllFromUnorderedArray(allColumns,columns);});allColumns.forEach(column=>{column.setLeft(null,source);});}joinCols(){if(this.gos.get(\"enableRtl\")){this.allCols=this.rightCols.concat(this.centerCols).concat(this.leftCols);}else{this.allCols=this.leftCols.concat(this.centerCols).concat(this.rightCols);}}getAllTrees(){if(this.treeLeft&&this.treeRight&&this.treeCenter){return this.treeLeft.concat(this.treeCenter).concat(this.treeRight);}return null;}// gridPanel -> ensureColumnVisible\nisColDisplayed(column){return this.allCols.indexOf(column)>=0;}getLeftColsForRow(rowNode){var{leftCols,beans:{colModel}}=this;var colSpanActive=colModel.colSpanActive;if(!colSpanActive){return leftCols;}return this.getColsForRow(rowNode,leftCols);}getRightColsForRow(rowNode){var{rightCols,beans:{colModel}}=this;var colSpanActive=colModel.colSpanActive;if(!colSpanActive){return rightCols;}return this.getColsForRow(rowNode,rightCols);}getColsForRow(rowNode,displayedColumns,filterCallback,emptySpaceBeforeColumn){var result=[];var lastConsideredCol=null;var _loop7=function _loop7(_i8){var col=displayedColumns[_i8];var maxAllowedColSpan=displayedColumns.length-_i8;var colSpan=Math.min(col.getColSpan(rowNode),maxAllowedColSpan);var columnsToCheckFilter=[col];if(colSpan>1){var colsToRemove=colSpan-1;for(var j=1;j<=colsToRemove;j++){columnsToCheckFilter.push(displayedColumns[_i8+j]);}_i8+=colsToRemove;}var filterPasses;if(filterCallback){filterPasses=false;columnsToCheckFilter.forEach(colForFilter=>{if(filterCallback(colForFilter)){filterPasses=true;}});}else{filterPasses=true;}if(filterPasses){if(result.length===0&&lastConsideredCol){var gapBeforeColumn=emptySpaceBeforeColumn?emptySpaceBeforeColumn(col):false;if(gapBeforeColumn){result.push(lastConsideredCol);}}result.push(col);}lastConsideredCol=col;i=_i8;};for(var i=0;i<displayedColumns.length;i++){_loop7(i);}return result;}getContainerWidth(pinned){switch(pinned){case\"left\":return this.leftWidth;case\"right\":return this.rightWidth;default:return this.bodyWidth;}}getColBefore(col){var allDisplayedColumns=this.allCols;var oldIndex=allDisplayedColumns.indexOf(col);if(oldIndex>0){return allDisplayedColumns[oldIndex-1];}return null;}isPinningLeft(){return this.leftCols.length>0;}isPinningRight(){return this.rightCols.length>0;}updateColsAndGroupsMap(){this.colsAndGroupsMap={};var func=child=>{this.colsAndGroupsMap[child.getUniqueId()]=child;};depthFirstAllColumnTreeSearch(this.treeCenter,false,func);depthFirstAllColumnTreeSearch(this.treeLeft,false,func);depthFirstAllColumnTreeSearch(this.treeRight,false,func);}isVisible(item){var fromMap=this.colsAndGroupsMap[item.getUniqueId()];return fromMap===item;}getFirstColumn(){var isRtl=this.gos.get(\"enableRtl\");var queryOrder=[\"leftCols\",\"centerCols\",\"rightCols\"];if(isRtl){queryOrder.reverse();}for(var i=0;i<queryOrder.length;i++){var container=this[queryOrder[i]];if(container.length){return isRtl?_last(container):container[0];}}return null;}// used by:\n// + rowRenderer -> for navigation\ngetColAfter(col){var allDisplayedColumns=this.allCols;var oldIndex=allDisplayedColumns.indexOf(col);if(oldIndex<allDisplayedColumns.length-1){return allDisplayedColumns[oldIndex+1];}return null;}// used by:\n// + angularGrid -> setting pinned body width\n// note: this should be cached\ngetColsLeftWidth(){return getWidthOfColsInList(this.leftCols);}// note: this should be cached\ngetDisplayedColumnsRightWidth(){return getWidthOfColsInList(this.rightCols);}isColAtEdge(col,edge){var allColumns=this.allCols;if(!allColumns.length){return false;}var isFirst=edge===\"first\";var columnToCompare;if(isColumnGroup(col)){var leafColumns=col.getDisplayedLeafColumns();if(!leafColumns.length){return false;}columnToCompare=isFirst?leafColumns[0]:_last(leafColumns);}else{columnToCompare=col;}return(isFirst?allColumns[0]:_last(allColumns))===columnToCompare;}};function depthFirstAllColumnTreeSearch(tree,useDisplayedChildren,callback){if(!tree){return;}for(var i=0;i<tree.length;i++){var child=tree[i];if(isColumnGroup(child)){var childTree=useDisplayedChildren?child.getDisplayedChildren():child.getChildren();depthFirstAllColumnTreeSearch(childTree,useDisplayedChildren,callback);}callback(child);}}function pickDisplayedCols(tree){var res=[];depthFirstAllColumnTreeSearch(tree,true,child=>{if(isColumn(child)){res.push(child);}});return res;}// packages/ag-grid-community/src/columns/columnGroups/columnGroupService.ts\nvar ColumnGroupService=class extends BeanStub{constructor(){super(...arguments);this.beanName=\"colGroupSvc\";}getColumnGroupState(){var columnGroupState=[];var gridBalancedTree=this.beans.colModel.getColTree();depthFirstOriginalTreeSearch(null,gridBalancedTree,node=>{if(isProvidedColumnGroup(node)){columnGroupState.push({groupId:node.getGroupId(),open:node.isExpanded()});}});return columnGroupState;}resetColumnGroupState(source){var primaryColumnTree=this.beans.colModel.getColDefColTree();if(!primaryColumnTree){return;}var stateItems=[];depthFirstOriginalTreeSearch(null,primaryColumnTree,child=>{if(isProvidedColumnGroup(child)){var colGroupDef=child.getColGroupDef();var groupState={groupId:child.getGroupId(),open:!colGroupDef?void 0:colGroupDef.openByDefault};stateItems.push(groupState);}});this.setColumnGroupState(stateItems,source);}setColumnGroupState(stateItems,source){var{colModel,colAnimation,visibleCols,eventSvc}=this.beans;var gridBalancedTree=colModel.getColTree();if(!gridBalancedTree.length){return;}colAnimation===null||colAnimation===void 0||colAnimation.start();var impactedGroups=[];stateItems.forEach(stateItem=>{var groupKey=stateItem.groupId;var newValue=stateItem.open;var providedColumnGroup=this.getProvidedColGroup(groupKey);if(!providedColumnGroup){return;}if(providedColumnGroup.isExpanded()===newValue){return;}providedColumnGroup.setExpanded(newValue);impactedGroups.push(providedColumnGroup);});visibleCols.refresh(source,true);if(impactedGroups.length){eventSvc.dispatchEvent({type:\"columnGroupOpened\",columnGroup:impactedGroups.length===1?impactedGroups[0]:void 0,columnGroups:impactedGroups});}colAnimation===null||colAnimation===void 0||colAnimation.finish();}// called by headerRenderer - when a header is opened or closed\nsetColumnGroupOpened(key,newValue,source){var keyAsString;if(isProvidedColumnGroup(key)){keyAsString=key.getId();}else{keyAsString=key||\"\";}this.setColumnGroupState([{groupId:keyAsString,open:newValue}],source);}getProvidedColGroup(key){var res=null;depthFirstOriginalTreeSearch(null,this.beans.colModel.getColTree(),node=>{if(isProvidedColumnGroup(node)){if(node.getId()===key){res=node;}}});return res;}getGroupAtDirection(columnGroup,direction){var requiredLevel=columnGroup.getProvidedColumnGroup().getLevel()+columnGroup.getPaddingLevel();var colGroupLeafColumns=columnGroup.getDisplayedLeafColumns();var col=direction===\"After\"?_last(colGroupLeafColumns):colGroupLeafColumns[0];var getDisplayColMethod=\"getCol\".concat(direction);while(true){var column=this.beans.visibleCols[getDisplayColMethod](col);if(!column){return null;}var groupPointer=this.getColGroupAtLevel(column,requiredLevel);if(groupPointer!==columnGroup){return groupPointer;}}}getColGroupAtLevel(column,level){var groupPointer=column.getParent();var originalGroupLevel;var groupPointerLevel;while(true){var groupPointerProvidedColumnGroup=groupPointer.getProvidedColumnGroup();originalGroupLevel=groupPointerProvidedColumnGroup.getLevel();groupPointerLevel=groupPointer.getPaddingLevel();if(originalGroupLevel+groupPointerLevel<=level){break;}groupPointer=groupPointer.getParent();}return groupPointer;}updateOpenClosedVisibility(){var allColumnGroups=this.beans.visibleCols.getAllTrees();depthFirstAllColumnTreeSearch(allColumnGroups,false,child=>{if(isColumnGroup(child)){child.calculateDisplayedColumns();}});}// returns the group with matching colId and instanceId. If instanceId is missing,\n// matches only on the colId.\ngetColumnGroup(colId,partId){if(!colId){return null;}if(isColumnGroup(colId)){return colId;}var allColumnGroups=this.beans.visibleCols.getAllTrees();var checkPartId=typeof partId===\"number\";var result=null;depthFirstAllColumnTreeSearch(allColumnGroups,false,child=>{if(isColumnGroup(child)){var columnGroup=child;var matched;if(checkPartId){matched=colId===columnGroup.getGroupId()&&partId===columnGroup.getPartId();}else{matched=colId===columnGroup.getGroupId();}if(matched){result=columnGroup;}}});return result;}createColumnGroups(params){var _this3=this;var{columns,idCreator,pinned,oldDisplayedGroups,isStandaloneStructure}=params;var oldColumnsMapped=this.mapOldGroupsById(oldDisplayedGroups);var topLevelResultCols=[];var groupsOrColsAtCurrentLevel=columns;var _loop8=function _loop8(){var currentlyIterating=groupsOrColsAtCurrentLevel;groupsOrColsAtCurrentLevel=[];var lastGroupedColIdx=0;var createGroupToIndex=to=>{var from=lastGroupedColIdx;lastGroupedColIdx=to;var previousNode=currentlyIterating[from];var previousNodeProvided=isColumnGroup(previousNode)?previousNode.getProvidedColumnGroup():previousNode;var previousNodeParent=previousNodeProvided.getOriginalParent();if(previousNodeParent==null){for(var i=from;i<to;i++){topLevelResultCols.push(currentlyIterating[i]);}return;}var newGroup=_this3.createColumnGroup(previousNodeParent,idCreator,oldColumnsMapped,pinned,isStandaloneStructure);for(var _i9=from;_i9<to;_i9++){newGroup.addChild(currentlyIterating[_i9]);}groupsOrColsAtCurrentLevel.push(newGroup);};for(var i=1;i<currentlyIterating.length;i++){var thisNode=currentlyIterating[i];var thisNodeProvided=isColumnGroup(thisNode)?thisNode.getProvidedColumnGroup():thisNode;var thisNodeParent=thisNodeProvided.getOriginalParent();var previousNode=currentlyIterating[lastGroupedColIdx];var previousNodeProvided=isColumnGroup(previousNode)?previousNode.getProvidedColumnGroup():previousNode;var previousNodeParent=previousNodeProvided.getOriginalParent();if(thisNodeParent!==previousNodeParent){createGroupToIndex(i);}}if(lastGroupedColIdx<currentlyIterating.length){createGroupToIndex(currentlyIterating.length);}};while(groupsOrColsAtCurrentLevel.length){_loop8();}if(!isStandaloneStructure){this.setupParentsIntoCols(topLevelResultCols,null);}return topLevelResultCols;}createProvidedColumnGroup(primaryColumns,colGroupDef,level,existingColumns,columnKeyCreator,existingGroups,source){var groupId=columnKeyCreator.getUniqueKey(colGroupDef.groupId||null,null);var colGroupDefMerged=createMergedColGroupDef(this.beans,colGroupDef,groupId);var providedGroup=new AgProvidedColumnGroup(colGroupDefMerged,groupId,false,level);this.createBean(providedGroup);var existingGroupAndIndex=this.findExistingGroup(colGroupDef,existingGroups);if(existingGroupAndIndex){existingGroups.splice(existingGroupAndIndex.idx,1);}var existingGroup=existingGroupAndIndex===null||existingGroupAndIndex===void 0?void 0:existingGroupAndIndex.group;if(existingGroup){providedGroup.setExpanded(existingGroup.isExpanded());}var children=_recursivelyCreateColumns(this.beans,colGroupDefMerged.children,level+1,primaryColumns,existingColumns,columnKeyCreator,existingGroups,source);providedGroup.setChildren(children);return providedGroup;}balanceColumnTree(unbalancedTree,currentDepth,columnDepth,columnKeyCreator){var result=[];for(var i=0;i<unbalancedTree.length;i++){var child=unbalancedTree[i];if(isProvidedColumnGroup(child)){var originalGroup=child;var newChildren=this.balanceColumnTree(originalGroup.getChildren(),currentDepth+1,columnDepth,columnKeyCreator);originalGroup.setChildren(newChildren);result.push(originalGroup);}else{var firstPaddedGroup=void 0;var currentPaddedGroup=void 0;for(var j=columnDepth-1;j>=currentDepth;j--){var newColId=columnKeyCreator.getUniqueKey(null,null);var colGroupDefMerged=createMergedColGroupDef(this.beans,null,newColId);var paddedGroup=new AgProvidedColumnGroup(colGroupDefMerged,newColId,true,currentDepth);this.createBean(paddedGroup);if(currentPaddedGroup){currentPaddedGroup.setChildren([paddedGroup]);}currentPaddedGroup=paddedGroup;if(!firstPaddedGroup){firstPaddedGroup=currentPaddedGroup;}}if(firstPaddedGroup&&currentPaddedGroup){result.push(firstPaddedGroup);var hasGroups=unbalancedTree.some(leaf=>isProvidedColumnGroup(leaf));if(hasGroups){currentPaddedGroup.setChildren([child]);continue;}else{currentPaddedGroup.setChildren(unbalancedTree);break;}}result.push(child);}}return result;}findDepth(balancedColumnTree){var depth=0;var pointer=balancedColumnTree;while(pointer&&pointer[0]&&isProvidedColumnGroup(pointer[0])){depth++;pointer=pointer[0].getChildren();}return depth;}findMaxDepth(treeChildren,depth){var maxDepthThisLevel=depth;for(var i=0;i<treeChildren.length;i++){var abstractColumn=treeChildren[i];if(isProvidedColumnGroup(abstractColumn)){var originalGroup=abstractColumn;var newDepth=this.findMaxDepth(originalGroup.getChildren(),depth+1);if(maxDepthThisLevel<newDepth){maxDepthThisLevel=newDepth;}}}return maxDepthThisLevel;}/**\n   * Inserts dummy group columns in the hierarchy above auto-generated columns\n   * in order to ensure auto-generated columns are leaf nodes (and therefore are\n   * displayed correctly)\n   */balanceTreeForAutoCols(autoCols,depth){var tree=[];autoCols.forEach(col=>{var nextChild=col;for(var i=depth-1;i>=0;i--){var autoGroup=new AgProvidedColumnGroup(null,\"FAKE_PATH_\".concat(col.getId(),\"}_\").concat(i),true,i);this.createBean(autoGroup);autoGroup.setChildren([nextChild]);nextChild.originalParent=autoGroup;nextChild=autoGroup;}if(depth===0){col.originalParent=null;}tree.push(nextChild);});return tree;}findExistingGroup(newGroupDef,existingGroups){var newHasId=newGroupDef.groupId!=null;if(!newHasId){return void 0;}for(var i=0;i<existingGroups.length;i++){var existingGroup=existingGroups[i];var existingDef=existingGroup.getColGroupDef();if(!existingDef){continue;}if(existingGroup.getId()===newGroupDef.groupId){return{idx:i,group:existingGroup};}}return void 0;}createColumnGroup(providedGroup,groupInstanceIdCreator,oldColumnsMapped,pinned,isStandaloneStructure){var groupId=providedGroup.getGroupId();var instanceId=groupInstanceIdCreator.getInstanceIdForKey(groupId);var uniqueId=createUniqueColumnGroupId(groupId,instanceId);var columnGroup=oldColumnsMapped[uniqueId];if(columnGroup&&columnGroup.getProvidedColumnGroup()!==providedGroup){columnGroup=null;}if(_exists(columnGroup)){columnGroup.reset();}else{columnGroup=new AgColumnGroup(providedGroup,groupId,instanceId,pinned);if(!isStandaloneStructure){this.createBean(columnGroup);}}return columnGroup;}// returns back a 2d map of ColumnGroup as follows: groupId -> instanceId -> ColumnGroup\nmapOldGroupsById(displayedGroups){var result={};var recursive=columnsOrGroups=>{columnsOrGroups.forEach(columnOrGroup=>{if(isColumnGroup(columnOrGroup)){var columnGroup=columnOrGroup;result[columnOrGroup.getUniqueId()]=columnGroup;recursive(columnGroup.getChildren());}});};if(displayedGroups){recursive(displayedGroups);}return result;}setupParentsIntoCols(columnsOrGroups,parent){columnsOrGroups.forEach(columnsOrGroup=>{columnsOrGroup.parent=parent;if(isColumnGroup(columnsOrGroup)){var columnGroup=columnsOrGroup;this.setupParentsIntoCols(columnGroup.getChildren(),columnGroup);}});}};// packages/ag-grid-community/src/columns/columnGroups/columnGroupModule.ts\nvar ColumnGroupModule={moduleName:\"ColumnGroup\",version:VERSION,dynamicBeans:{headerGroupCellCtrl:HeaderGroupCellCtrl},beans:[ColumnGroupService],apiFunctions:{getAllDisplayedColumnGroups,getCenterDisplayedColumnGroups,getColumnGroup,getColumnGroupState,getDisplayNameForColumnGroup,getLeftDisplayedColumnGroups,getProvidedColumnGroup,getRightDisplayedColumnGroups,resetColumnGroupState,setColumnGroupOpened,setColumnGroupState}};// packages/ag-grid-community/src/rendering/cellRenderers/skeletonCellRenderer.ts\nvar SkeletonCellRendererElement={tag:\"div\",cls:\"ag-skeleton-container\"};var SkeletonCellRenderer=class extends Component{constructor(){super(SkeletonCellRendererElement);}init(params){var id=\"ag-cell-skeleton-renderer-\".concat(this.getCompId());this.getGui().setAttribute(\"id\",id);this.addDestroyFunc(()=>_setAriaLabelledBy(params.eParentOfValue));_setAriaLabelledBy(params.eParentOfValue,id);if(params.deferRender){this.setupLoading(params);}else{params.node.failedLoad?this.setupFailed():this.setupLoading(params);}}setupFailed(){var localeTextFunc=this.getLocaleTextFunc();this.getGui().textContent=localeTextFunc(\"loadingError\",\"ERR\");var ariaFailed=localeTextFunc(\"ariaSkeletonCellLoadingFailed\",\"Row failed to load\");_setAriaLabel(this.getGui(),ariaFailed);}setupLoading(params){var skeletonEffect=_createElement({tag:\"div\",cls:\"ag-skeleton-effect\"});var rowIndex=params.node.rowIndex;if(rowIndex!=null){var width=75+25*(rowIndex%2===0?Math.sin(rowIndex):Math.cos(rowIndex));skeletonEffect.style.width=\"\".concat(width,\"%\");}this.getGui().appendChild(skeletonEffect);var localeTextFunc=this.getLocaleTextFunc();var ariaLoading=params.deferRender?localeTextFunc(\"ariaDeferSkeletonCellLoading\",\"Cell is loading\"):localeTextFunc(\"ariaSkeletonCellLoading\",\"Row data is loading\");_setAriaLabel(this.getGui(),ariaLoading);}refresh(_params){return false;}};// packages/ag-grid-community/src/rendering/cellRenderers/cellRendererModule.ts\nvar CheckboxCellRendererModule={moduleName:\"CheckboxCellRenderer\",version:VERSION,userComponents:{agCheckboxCellRenderer:CheckboxCellRenderer}};var SkeletonCellRendererModule={moduleName:\"SkeletonCellRenderer\",version:VERSION,userComponents:{agSkeletonCellRenderer:SkeletonCellRenderer}};// packages/ag-grid-community/src/columns/columnApi.ts\nfunction getColumnDef(beans,key){var column=beans.colModel.getColDefCol(key);if(column){return column.getColDef();}return null;}function getColumnDefs(beans){return beans.colModel.getColumnDefs();}function getDisplayNameForColumn(beans,column,location){return beans.colNames.getDisplayNameForColumn(column,location)||\"\";}function getColumn(beans,key){return beans.colModel.getColDefCol(key);}function getColumns(beans){return beans.colModel.getColDefCols();}function applyColumnState(beans,params){return _applyColumnState(beans,params,\"api\");}function getColumnState(beans){return _getColumnState(beans);}function resetColumnState(beans){_resetColumnState(beans,\"api\");}function isPinning(beans){return beans.visibleCols.isPinningLeft()||beans.visibleCols.isPinningRight();}function isPinningLeft(beans){return beans.visibleCols.isPinningLeft();}function isPinningRight(beans){return beans.visibleCols.isPinningRight();}function getDisplayedColAfter(beans,col){return beans.visibleCols.getColAfter(col);}function getDisplayedColBefore(beans,col){return beans.visibleCols.getColBefore(col);}function setColumnsVisible(beans,keys,visible){beans.colModel.setColsVisible(keys,visible,\"api\");}function setColumnsPinned(beans,keys,pinned){var _beans$pinnedCols;(_beans$pinnedCols=beans.pinnedCols)===null||_beans$pinnedCols===void 0||_beans$pinnedCols.setColsPinned(keys,pinned,\"api\");}function getAllGridColumns(beans){return beans.colModel.getCols();}function getDisplayedLeftColumns(beans){return beans.visibleCols.leftCols;}function getDisplayedCenterColumns(beans){return beans.visibleCols.centerCols;}function getDisplayedRightColumns(beans){return beans.visibleCols.rightCols;}function getAllDisplayedColumns(beans){return beans.visibleCols.allCols;}function getAllDisplayedVirtualColumns(beans){return beans.colViewport.getViewportColumns();}// packages/ag-grid-community/src/columns/columnDefFactory.ts\nfunction _deepCloneDefinition(object,keysToSkip){if(!object){return;}var obj=object;var res={};Object.keys(obj).forEach(key=>{if(keysToSkip&&keysToSkip.indexOf(key)>=0||SKIP_JS_BUILTINS.has(key)){return;}var value=obj[key];var sourceIsSimpleObject=typeof value===\"object\"&&value!==null&&value.constructor===Object;if(sourceIsSimpleObject){res[key]=_deepCloneDefinition(value);}else{res[key]=value;}});return res;}var ColumnDefFactory=class extends BeanStub{constructor(){super(...arguments);this.beanName=\"colDefFactory\";}wireBeans(beans){this.rowGroupColsSvc=beans.rowGroupColsSvc;this.pivotColsSvc=beans.pivotColsSvc;}getColumnDefs(colDefColsList,showingPivotResult,lastOrder,colsList){var _this$rowGroupColsSvc,_this$pivotColsSvc;var cols=colDefColsList.slice();if(showingPivotResult){cols.sort((a,b)=>lastOrder.indexOf(a)-lastOrder.indexOf(b));}else if(lastOrder){cols.sort((a,b)=>colsList.indexOf(a)-colsList.indexOf(b));}var rowGroupColumns=(_this$rowGroupColsSvc=this.rowGroupColsSvc)===null||_this$rowGroupColsSvc===void 0?void 0:_this$rowGroupColsSvc.columns;var pivotColumns=(_this$pivotColsSvc=this.pivotColsSvc)===null||_this$pivotColsSvc===void 0?void 0:_this$pivotColsSvc.columns;return this.buildColumnDefs(cols,rowGroupColumns,pivotColumns);}buildColumnDefs(cols){var rowGroupColumns=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];var pivotColumns=arguments.length>2&&arguments[2]!==undefined?arguments[2]:[];var res=[];var colGroupDefs={};cols.forEach(col=>{var colDef=this.createDefFromColumn(col,rowGroupColumns,pivotColumns);var addToResult=true;var childDef=colDef;var pointer=col.getOriginalParent();var lastPointer=null;while(pointer){var parentDef=null;if(pointer.isPadding()){pointer=pointer.getOriginalParent();continue;}var existingParentDef=colGroupDefs[pointer.getGroupId()];if(existingParentDef){existingParentDef.children.push(childDef);addToResult=false;break;}parentDef=this.createDefFromGroup(pointer);if(parentDef){parentDef.children=[childDef];colGroupDefs[parentDef.groupId]=parentDef;childDef=parentDef;pointer=pointer.getOriginalParent();}if(pointer!=null&&lastPointer===pointer){addToResult=false;break;}lastPointer=pointer;}if(addToResult){res.push(childDef);}});return res;}createDefFromGroup(group){var defCloned=_deepCloneDefinition(group.getColGroupDef(),[\"children\"]);if(defCloned){defCloned.groupId=group.getGroupId();}return defCloned;}createDefFromColumn(col,rowGroupColumns,pivotColumns){var colDefCloned=_deepCloneDefinition(col.getColDef());colDefCloned.colId=col.getColId();colDefCloned.width=col.getActualWidth();colDefCloned.rowGroup=col.isRowGroupActive();colDefCloned.rowGroupIndex=col.isRowGroupActive()?rowGroupColumns.indexOf(col):null;colDefCloned.pivot=col.isPivotActive();colDefCloned.pivotIndex=col.isPivotActive()?pivotColumns.indexOf(col):null;colDefCloned.aggFunc=col.isValueActive()?col.getAggFunc():null;colDefCloned.hide=col.isVisible()?void 0:true;colDefCloned.pinned=col.isPinned()?col.getPinned():null;colDefCloned.sort=col.getSort()?col.getSort():null;colDefCloned.sortIndex=col.getSortIndex()!=null?col.getSortIndex():null;return colDefCloned;}};// packages/ag-grid-community/src/columns/columnFlexService.ts\nvar ColumnFlexService=class extends BeanStub{constructor(){super(...arguments);this.beanName=\"colFlex\";}refreshFlexedColumns(){var _params$source;var params=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var source=(_params$source=params.source)!==null&&_params$source!==void 0?_params$source:\"flex\";if(params.viewportWidth!=null){this.flexViewportWidth=params.viewportWidth;}var totalSpace=this.flexViewportWidth;if(!totalSpace){return[];}var{visibleCols}=this.beans;var visibleCenterCols=visibleCols.centerCols;var flexAfterDisplayIndex=-1;if(params.resizingCols){var allResizingCols=new Set(params.resizingCols);for(var i=visibleCenterCols.length-1;i>=0;i--){if(allResizingCols.has(visibleCenterCols[i])){flexAfterDisplayIndex=i;break;}}}var hasFlexItems=false;var items=visibleCenterCols.map((col,i)=>{var flex=col.getFlex();var isFlex=flex!=null&&flex>0&&i>flexAfterDisplayIndex;hasFlexItems||(hasFlexItems=isFlex);return{col,isFlex,flex:Math.max(0,flex!==null&&flex!==void 0?flex:0),initialSize:col.getActualWidth(),min:col.getMinWidth(),max:col.getMaxWidth(),targetSize:0};});if(!hasFlexItems){return[];}var unfrozenItemCount=items.length;var unfrozenFlex=items.reduce((acc,item)=>acc+item.flex,0);var unfrozenSpace=totalSpace;var freeze=(item,width)=>{item.frozenSize=width;item.col.setActualWidth(width,source);unfrozenSpace-=width;unfrozenFlex-=item.flex;unfrozenItemCount-=1;};var isFrozen=item=>item.frozenSize!=null;for(var item of items){if(!item.isFlex){freeze(item,item.initialSize);}}while(unfrozenItemCount>0){var spaceToFill=Math.round(unfrozenFlex<1?unfrozenSpace*unfrozenFlex:unfrozenSpace);var lastUnfrozenItem=void 0;var actualLeft=0;var idealRight=0;for(var _item of items){if(isFrozen(_item)){continue;}lastUnfrozenItem=_item;idealRight+=spaceToFill*(_item.flex/unfrozenFlex);var idealSize=idealRight-actualLeft;var roundedSize=Math.round(idealSize);_item.targetSize=roundedSize;actualLeft+=roundedSize;}if(lastUnfrozenItem){lastUnfrozenItem.targetSize+=spaceToFill-actualLeft;}var totalViolation=0;for(var _item2 of items){if(isFrozen(_item2)){continue;}var unclampedSize=_item2.targetSize;var clampedSize=Math.min(Math.max(unclampedSize,_item2.min),_item2.max);totalViolation+=clampedSize-unclampedSize;_item2.violationType=clampedSize===unclampedSize?void 0:clampedSize<unclampedSize?\"max\":\"min\";_item2.targetSize=clampedSize;}var freezeType=totalViolation===0?\"all\":totalViolation>0?\"min\":\"max\";for(var _item3 of items){if(isFrozen(_item3)){continue;}if(freezeType===\"all\"||_item3.violationType===freezeType){freeze(_item3,_item3.targetSize);}}}if(!params.skipSetLeft){visibleCols.setLeftValues(source);}if(params.updateBodyWidths){visibleCols.updateBodyWidths();}var unconstrainedFlexColumns=items.filter(item=>item.isFlex&&!item.violationType).map(item=>item.col);if(params.fireResizedEvent){var changedColumns=items.filter(item=>item.initialSize!==item.frozenSize).map(item=>item.col);var flexingColumns=items.filter(item=>item.flex).map(item=>item.col);dispatchColumnResizedEvent(this.eventSvc,changedColumns,true,source,flexingColumns);}return unconstrainedFlexColumns;}initCol(column){var{flex,initialFlex}=column.colDef;if(flex!==void 0){column.flex=flex;}else if(initialFlex!==void 0){column.flex=initialFlex;}}// this method should only be used by the colModel to\n// change flex when required by the applyColumnState method.\nsetColFlex(column,flex){column.flex=flex!==null&&flex!==void 0?flex:null;column.dispatchStateUpdatedEvent(\"flex\");}};// packages/ag-grid-community/src/columns/dataTypeService.ts\nvar SORTED_CELL_DATA_TYPES_FOR_MATCHING=[\"dateTimeString\",\"dateString\",\"text\",\"number\",\"boolean\",\"date\"];var DataTypeService=class extends BeanStub{constructor(){super(...arguments);this.beanName=\"dataTypeSvc\";this.dataTypeDefinitions={};this.isPendingInference=false;this.isColumnTypeOverrideInDataTypeDefinitions=false;// keep track of any column state updates whilst waiting for data types to be inferred\nthis.columnStateUpdatesPendingInference={};this.columnStateUpdateListenerDestroyFuncs=[];// using an object here to enforce dev to not forget to implement new types as they are added\nthis.columnDefinitionPropsPerDataType={number(){return{cellEditor:\"agNumberCellEditor\"};},boolean(){return{cellEditor:\"agCheckboxCellEditor\",cellRenderer:\"agCheckboxCellRenderer\",getFindText:()=>null,suppressKeyboardEvent:params=>!!params.colDef.editable&&params.event.key===KeyCode.SPACE};},date(_ref46){var{formatValue}=_ref46;return{cellEditor:\"agDateCellEditor\",keyCreator:formatValue};},dateString(_ref47){var{formatValue}=_ref47;return{cellEditor:\"agDateStringCellEditor\",keyCreator:formatValue};},dateTime(args){return this.date(args);},dateTimeString(args){return this.dateString(args);},object(_ref48){var{formatValue,colModel,colId}=_ref48;return{cellEditorParams:{useFormatter:true},comparator:(a,b)=>{var column=colModel.getColDefCol(colId);var colDef=column===null||column===void 0?void 0:column.getColDef();if(!column||!colDef){return 0;}var valA=a==null?\"\":formatValue({column,node:null,value:a});var valB=b==null?\"\":formatValue({column,node:null,value:b});if(valA===valB)return 0;return valA>valB?1:-1;},keyCreator:formatValue};},text(){return{};}};}wireBeans(beans){this.colModel=beans.colModel;}postConstruct(){this.processDataTypeDefinitions();this.addManagedPropertyListener(\"dataTypeDefinitions\",event=>{this.processDataTypeDefinitions();this.colModel.recreateColumnDefs(event);});}processDataTypeDefinitions(){var _this$gos$get3;var defaultDataTypes=this.getDefaultDataTypes();var newDataTypeDefinitions={};var newFormatValueFuncs={};var generateFormatValueFunc=dataTypeDefinition=>{return params=>{var{column,node,value}=params;var valueFormatter=column.getColDef().valueFormatter;if(valueFormatter===dataTypeDefinition.groupSafeValueFormatter){valueFormatter=dataTypeDefinition.valueFormatter;}return this.beans.valueSvc.formatValue(column,node,value,valueFormatter);};};for(var cellDataType of Object.keys(defaultDataTypes)){var defaultDataTypeDef=defaultDataTypes[cellDataType];var mergedDataTypeDefinition=_objectSpread(_objectSpread({},defaultDataTypeDef),{},{groupSafeValueFormatter:createGroupSafeValueFormatter(defaultDataTypeDef,this.gos)});newDataTypeDefinitions[cellDataType]=mergedDataTypeDefinition;newFormatValueFuncs[cellDataType]=generateFormatValueFunc(mergedDataTypeDefinition);}var userDataTypeDefs=(_this$gos$get3=this.gos.get(\"dataTypeDefinitions\"))!==null&&_this$gos$get3!==void 0?_this$gos$get3:{};var newDataTypeMatchers={};for(var _cellDataType2 of Object.keys(userDataTypeDefs)){var userDataTypeDef=userDataTypeDefs[_cellDataType2];var _mergedDataTypeDefinition=this.processDataTypeDefinition(userDataTypeDef,userDataTypeDefs,[_cellDataType2],defaultDataTypes);if(_mergedDataTypeDefinition){newDataTypeDefinitions[_cellDataType2]=_mergedDataTypeDefinition;if(userDataTypeDef.dataTypeMatcher){newDataTypeMatchers[_cellDataType2]=userDataTypeDef.dataTypeMatcher;}newFormatValueFuncs[_cellDataType2]=generateFormatValueFunc(_mergedDataTypeDefinition);}}var{valueParser:defaultValueParser,valueFormatter:defaultValueFormatter}=defaultDataTypes.object;var{valueParser:userValueParser,valueFormatter:userValueFormatter}=newDataTypeDefinitions.object;this.hasObjectValueParser=userValueParser!==defaultValueParser;this.hasObjectValueFormatter=userValueFormatter!==defaultValueFormatter;this.formatValueFuncs=newFormatValueFuncs;this.dataTypeDefinitions=newDataTypeDefinitions;this.dataTypeMatchers=this.sortKeysInMatchers(newDataTypeMatchers,defaultDataTypes);}/**\n   * Sorts the keys in the matchers object.\n   * Does not mutate the original object, creates a copy of it with sorted keys instead.\n   */sortKeysInMatchers(matchers,dataTypes){var sortedMatchers=_objectSpread({},matchers);for(var cellDataType of SORTED_CELL_DATA_TYPES_FOR_MATCHING){var _matchers$cellDataTyp;delete sortedMatchers[cellDataType];sortedMatchers[cellDataType]=(_matchers$cellDataTyp=matchers[cellDataType])!==null&&_matchers$cellDataTyp!==void 0?_matchers$cellDataTyp:dataTypes[cellDataType].dataTypeMatcher;}return sortedMatchers;}processDataTypeDefinition(userDataTypeDef,userDataTypeDefs,alreadyProcessedDataTypes,defaultDataTypes){var mergedDataTypeDefinition;var extendsCellDataType=userDataTypeDef.extendsDataType;if(userDataTypeDef.columnTypes){this.isColumnTypeOverrideInDataTypeDefinitions=true;}if(userDataTypeDef.extendsDataType===userDataTypeDef.baseDataType){var baseDataTypeDefinition=defaultDataTypes[extendsCellDataType];var overriddenBaseDataTypeDefinition=userDataTypeDefs[extendsCellDataType];if(baseDataTypeDefinition&&overriddenBaseDataTypeDefinition){baseDataTypeDefinition=overriddenBaseDataTypeDefinition;}if(!validateDataTypeDefinition(userDataTypeDef,baseDataTypeDefinition,extendsCellDataType)){return void 0;}mergedDataTypeDefinition=mergeDataTypeDefinitions(baseDataTypeDefinition,userDataTypeDef);}else{if(alreadyProcessedDataTypes.includes(extendsCellDataType)){_warn(44);return void 0;}var extendedDataTypeDefinition=userDataTypeDefs[extendsCellDataType];if(!validateDataTypeDefinition(userDataTypeDef,extendedDataTypeDefinition,extendsCellDataType)){return void 0;}var mergedExtendedDataTypeDefinition=this.processDataTypeDefinition(extendedDataTypeDefinition,userDataTypeDefs,[...alreadyProcessedDataTypes,extendsCellDataType],defaultDataTypes);if(!mergedExtendedDataTypeDefinition){return void 0;}mergedDataTypeDefinition=mergeDataTypeDefinitions(mergedExtendedDataTypeDefinition,userDataTypeDef);}return _objectSpread(_objectSpread({},mergedDataTypeDefinition),{},{groupSafeValueFormatter:createGroupSafeValueFormatter(mergedDataTypeDefinition,this.gos)});}updateColDefAndGetColumnType(colDef,userColDef,colId){var{cellDataType}=userColDef;var{field}=userColDef;if(cellDataType===void 0){cellDataType=colDef.cellDataType;}if(cellDataType==null||cellDataType===true){cellDataType=this.canInferCellDataType(colDef,userColDef)?this.inferCellDataType(field,colId):false;}if(!cellDataType){colDef.cellDataType=false;return void 0;}var dataTypeDefinition=this.dataTypeDefinitions[cellDataType];if(!dataTypeDefinition){_warn(47,{cellDataType});return void 0;}colDef.cellDataType=cellDataType;if(dataTypeDefinition.groupSafeValueFormatter){colDef.valueFormatter=dataTypeDefinition.groupSafeValueFormatter;}if(dataTypeDefinition.valueParser){colDef.valueParser=dataTypeDefinition.valueParser;}if(!dataTypeDefinition.suppressDefaultProperties){this.setColDefPropertiesForBaseDataType(colDef,cellDataType,dataTypeDefinition,colId);}return dataTypeDefinition.columnTypes;}addColumnListeners(column){if(!this.isPendingInference){return;}var columnStateUpdates=this.columnStateUpdatesPendingInference[column.getColId()];if(!columnStateUpdates){return;}var columnListener=event=>{columnStateUpdates.add(event.key);};column.__addEventListener(\"columnStateUpdated\",columnListener);this.columnStateUpdateListenerDestroyFuncs.push(()=>column.__removeEventListener(\"columnStateUpdated\",columnListener));}canInferCellDataType(colDef,userColDef){var{gos}=this;if(!_isClientSideRowModel(gos)){return false;}var propsToCheckForInference={cellRenderer:true,valueGetter:true,valueParser:true,refData:true};if(doColDefPropsPreventInference(userColDef,propsToCheckForInference)){return false;}var columnTypes=userColDef.type===null?colDef.type:userColDef.type;if(columnTypes){var _gos$get2;var columnTypeDefs=(_gos$get2=gos.get(\"columnTypes\"))!==null&&_gos$get2!==void 0?_gos$get2:{};var hasPropsPreventingInference=convertColumnTypes(columnTypes).some(columnType=>{var columnTypeDef=columnTypeDefs[columnType.trim()];return columnTypeDef&&doColDefPropsPreventInference(columnTypeDef,propsToCheckForInference);});if(hasPropsPreventingInference){return false;}}return!doColDefPropsPreventInference(colDef,propsToCheckForInference);}inferCellDataType(field,colId){if(!field){return void 0;}var value;var initialData=this.getInitialData();if(initialData){var fieldContainsDots=field.indexOf(\".\")>=0&&!this.gos.get(\"suppressFieldDotNotation\");value=_getValueUsingField(initialData,field,fieldContainsDots);}else{this.initWaitForRowData(colId);}if(value==null){return void 0;}var matchedType=Object.keys(this.dataTypeMatchers).find(_cellDataType=>this.dataTypeMatchers[_cellDataType](value));return matchedType!==null&&matchedType!==void 0?matchedType:\"object\";}getInitialData(){var rowData=this.gos.get(\"rowData\");if(rowData!==null&&rowData!==void 0&&rowData.length){return rowData[0];}else if(this.initialData){return this.initialData;}else{var _this$beans$rowModel$;var rowNodes=(_this$beans$rowModel$=this.beans.rowModel.rootNode)===null||_this$beans$rowModel$===void 0?void 0:_this$beans$rowModel$.allLeafChildren;if(rowNodes!==null&&rowNodes!==void 0&&rowNodes.length){return rowNodes[0].data;}}return null;}initWaitForRowData(colId){this.columnStateUpdatesPendingInference[colId]=/* @__PURE__ */new Set();if(this.isPendingInference){return;}this.isPendingInference=true;var columnTypeOverridesExist=this.isColumnTypeOverrideInDataTypeDefinitions;var{colAutosize,eventSvc}=this.beans;if(columnTypeOverridesExist&&colAutosize){colAutosize.shouldQueueResizeOperations=true;}var[destroyFunc]=this.addManagedEventListeners({rowDataUpdateStarted:event=>{var{firstRowData}=event;if(!firstRowData){return;}destroyFunc===null||destroyFunc===void 0||destroyFunc();this.isPendingInference=false;this.processColumnsPendingInference(firstRowData,columnTypeOverridesExist);this.columnStateUpdatesPendingInference={};if(columnTypeOverridesExist){colAutosize===null||colAutosize===void 0||colAutosize.processResizeOperations();}eventSvc.dispatchEvent({type:\"dataTypesInferred\"});}});}processColumnsPendingInference(firstRowData,columnTypeOverridesExist){this.initialData=firstRowData;var state=[];this.destroyColumnStateUpdateListeners();var newRowGroupColumnStateWithoutIndex={};var newPivotColumnStateWithoutIndex={};for(var colId of Object.keys(this.columnStateUpdatesPendingInference)){var columnStateUpdates=this.columnStateUpdatesPendingInference[colId];var column=this.colModel.getCol(colId);if(!column){return;}var oldColDef=column.getColDef();if(!this.resetColDefIntoCol(column,\"cellDataTypeInferred\")){return;}var newColDef=column.getColDef();if(columnTypeOverridesExist&&newColDef.type&&newColDef.type!==oldColDef.type){var updatedColumnState=getUpdatedColumnState(column,columnStateUpdates);if(updatedColumnState.rowGroup&&updatedColumnState.rowGroupIndex==null){newRowGroupColumnStateWithoutIndex[colId]=updatedColumnState;}if(updatedColumnState.pivot&&updatedColumnState.pivotIndex==null){newPivotColumnStateWithoutIndex[colId]=updatedColumnState;}state.push(updatedColumnState);}}if(columnTypeOverridesExist){state.push(...this.generateColumnStateForRowGroupAndPivotIndexes(newRowGroupColumnStateWithoutIndex,newPivotColumnStateWithoutIndex));}if(state.length){_applyColumnState(this.beans,{state},\"cellDataTypeInferred\");}this.initialData=null;}generateColumnStateForRowGroupAndPivotIndexes(updatedRowGroupColumnState,updatedPivotColumnState){var existingColumnStateUpdates={};var{rowGroupColsSvc,pivotColsSvc}=this.beans;rowGroupColsSvc===null||rowGroupColsSvc===void 0||rowGroupColsSvc.restoreColumnOrder(existingColumnStateUpdates,updatedRowGroupColumnState);pivotColsSvc===null||pivotColsSvc===void 0||pivotColsSvc.restoreColumnOrder(existingColumnStateUpdates,updatedPivotColumnState);return Object.values(existingColumnStateUpdates);}resetColDefIntoCol(column,source){var userColDef=column.getUserProvidedColDef();if(!userColDef){return false;}var newColDef=_addColumnDefaultAndTypes(this.beans,userColDef,column.getColId());column.setColDef(newColDef,userColDef,source);return true;}getDateStringTypeDefinition(column){var _this$getDataTypeDefi;var{dateString}=this.dataTypeDefinitions;if(!column){return dateString;}return(_this$getDataTypeDefi=this.getDataTypeDefinition(column))!==null&&_this$getDataTypeDefi!==void 0?_this$getDataTypeDefi:dateString;}getDateParserFunction(column){return this.getDateStringTypeDefinition(column).dateParser;}getDateFormatterFunction(column){return this.getDateStringTypeDefinition(column).dateFormatter;}getDateIncludesTimeFlag(cellDataType){return cellDataType===\"dateTime\"||cellDataType===\"dateTimeString\";}getDataTypeDefinition(column){var colDef=column.getColDef();if(!colDef.cellDataType){return void 0;}return this.dataTypeDefinitions[colDef.cellDataType];}getBaseDataType(column){var _this$getDataTypeDefi2;return(_this$getDataTypeDefi2=this.getDataTypeDefinition(column))===null||_this$getDataTypeDefi2===void 0?void 0:_this$getDataTypeDefi2.baseDataType;}checkType(column,value){var _this$getDataTypeDefi3;if(value==null){return true;}var dataTypeMatcher=(_this$getDataTypeDefi3=this.getDataTypeDefinition(column))===null||_this$getDataTypeDefi3===void 0?void 0:_this$getDataTypeDefi3.dataTypeMatcher;if(!dataTypeMatcher){return true;}return dataTypeMatcher(value);}validateColDef(colDef){var warning=property=>_warn(48,{property});if(colDef.cellDataType===\"object\"){var{object}=this.dataTypeDefinitions;if(colDef.valueFormatter===object.groupSafeValueFormatter&&!this.hasObjectValueFormatter){warning(\"Formatter\");}if(colDef.editable&&colDef.valueParser===object.valueParser&&!this.hasObjectValueParser){warning(\"Parser\");}}}postProcess(colDef){var _beans$colFilter;var cellDataType=colDef.cellDataType;if(!cellDataType||typeof cellDataType!==\"string\"){return;}var{dataTypeDefinitions,beans,formatValueFuncs}=this;var dataTypeDefinition=dataTypeDefinitions[cellDataType];(_beans$colFilter=beans.colFilter)===null||_beans$colFilter===void 0||_beans$colFilter.setColDefPropsForDataType(colDef,dataTypeDefinition,formatValueFuncs[cellDataType]);}// noinspection JSUnusedGlobalSymbols\ngetFormatValue(cellDataType){return this.formatValueFuncs[cellDataType];}isColPendingInference(colId){return this.isPendingInference&&!!this.columnStateUpdatesPendingInference[colId];}setColDefPropertiesForBaseDataType(colDef,cellDataType,dataTypeDefinition,colId){var formatValue=this.formatValueFuncs[cellDataType];var partialColDef=this.columnDefinitionPropsPerDataType[dataTypeDefinition.baseDataType]({colDef,cellDataType,colModel:this.colModel,dataTypeDefinition,colId,formatValue});Object.assign(colDef,partialColDef);}getDateObjectTypeDef(baseDataType){var translate=this.getLocaleTextFunc();var includeTime=this.getDateIncludesTimeFlag(baseDataType);return{baseDataType,valueParser:params=>_parseDateTimeFromString(params.newValue&&String(params.newValue)),valueFormatter:params=>{var _serialiseDate4;if(params.value==null){return\"\";}if(!(params.value instanceof Date)||isNaN(params.value.getTime())){return translate(\"invalidDate\",\"Invalid Date\");}return(_serialiseDate4=_serialiseDate(params.value,includeTime))!==null&&_serialiseDate4!==void 0?_serialiseDate4:\"\";},dataTypeMatcher:value=>value instanceof Date};}getDateStringTypeDef(baseDataType){var includeTime=this.getDateIncludesTimeFlag(baseDataType);return{baseDataType,dateParser:value=>{var _parseDateTimeFromStr2;return(_parseDateTimeFromStr2=_parseDateTimeFromString(value))!==null&&_parseDateTimeFromStr2!==void 0?_parseDateTimeFromStr2:void 0;},dateFormatter:value=>{var _serialiseDate5;return(_serialiseDate5=_serialiseDate(value!==null&&value!==void 0?value:null,includeTime))!==null&&_serialiseDate5!==void 0?_serialiseDate5:void 0;},valueParser:params=>_isValidDate(String(params.newValue))?params.newValue:null,valueFormatter:params=>_isValidDate(String(params.value))?String(params.value):\"\",dataTypeMatcher:value=>typeof value===\"string\"&&_isValidDate(value)};}getDefaultDataTypes(){var translate=this.getLocaleTextFunc();return{number:{baseDataType:\"number\",// can be empty space with legacy copy\nvalueParser:params=>{var _params$newValue,_params$newValue$trim;return((_params$newValue=params.newValue)===null||_params$newValue===void 0||(_params$newValue$trim=_params$newValue.trim)===null||_params$newValue$trim===void 0?void 0:_params$newValue$trim.call(_params$newValue))===\"\"?null:Number(params.newValue);},valueFormatter:params=>{if(params.value==null){return\"\";}if(typeof params.value!==\"number\"||isNaN(params.value)){return translate(\"invalidNumber\",\"Invalid Number\");}return String(params.value);},dataTypeMatcher:value=>typeof value===\"number\"},text:{baseDataType:\"text\",valueParser:params=>params.newValue===\"\"?null:_toStringOrNull(params.newValue),dataTypeMatcher:value=>typeof value===\"string\"},boolean:{baseDataType:\"boolean\",valueParser:params=>{var _params$newValue2,_params$newValue2$tri;if(params.newValue==null){return params.newValue;}return((_params$newValue2=params.newValue)===null||_params$newValue2===void 0||(_params$newValue2$tri=_params$newValue2.trim)===null||_params$newValue2$tri===void 0?void 0:_params$newValue2$tri.call(_params$newValue2))===\"\"?null:String(params.newValue).toLowerCase()===\"true\";},valueFormatter:params=>params.value==null?\"\":String(params.value),dataTypeMatcher:value=>typeof value===\"boolean\"},date:this.getDateObjectTypeDef(\"date\"),dateString:this.getDateStringTypeDef(\"dateString\"),dateTime:this.getDateObjectTypeDef(\"dateTime\"),dateTimeString:_objectSpread(_objectSpread({},this.getDateStringTypeDef(\"dateTimeString\")),{},{dataTypeMatcher:value=>typeof value===\"string\"&&_isValidDateTime(value)}),object:{baseDataType:\"object\",valueParser:()=>null,valueFormatter:params=>{var _toStringOrNull2;return(_toStringOrNull2=_toStringOrNull(params.value))!==null&&_toStringOrNull2!==void 0?_toStringOrNull2:\"\";}}};}destroyColumnStateUpdateListeners(){this.columnStateUpdateListenerDestroyFuncs.forEach(destroyFunc=>destroyFunc());this.columnStateUpdateListenerDestroyFuncs=[];}destroy(){this.dataTypeDefinitions={};this.dataTypeMatchers={};this.formatValueFuncs={};this.columnStateUpdatesPendingInference={};this.destroyColumnStateUpdateListeners();super.destroy();}};function mergeDataTypeDefinitions(parentDataTypeDefinition,childDataTypeDefinition){var mergedDataTypeDefinition=_objectSpread(_objectSpread({},parentDataTypeDefinition),childDataTypeDefinition);if(parentDataTypeDefinition.columnTypes&&childDataTypeDefinition.columnTypes&&childDataTypeDefinition.appendColumnTypes){mergedDataTypeDefinition.columnTypes=[...convertColumnTypes(parentDataTypeDefinition.columnTypes),...convertColumnTypes(childDataTypeDefinition.columnTypes)];}return mergedDataTypeDefinition;}function validateDataTypeDefinition(dataTypeDefinition,parentDataTypeDefinition,parentCellDataType){if(!parentDataTypeDefinition){_warn(45,{parentCellDataType});return false;}if(parentDataTypeDefinition.baseDataType!==dataTypeDefinition.baseDataType){_warn(46);return false;}return true;}function createGroupSafeValueFormatter(dataTypeDefinition,gos){if(!dataTypeDefinition.valueFormatter){return void 0;}return params=>{var _params$node;if((_params$node=params.node)!==null&&_params$node!==void 0&&_params$node.group){var _params$colDef$pivotV;var aggFunc=((_params$colDef$pivotV=params.colDef.pivotValueColumn)!==null&&_params$colDef$pivotV!==void 0?_params$colDef$pivotV:params.column).getAggFunc();if(aggFunc){if(aggFunc===\"first\"||aggFunc===\"last\"){return dataTypeDefinition.valueFormatter(params);}if(dataTypeDefinition.baseDataType===\"number\"&&aggFunc!==\"count\"){if(typeof params.value===\"number\"){return dataTypeDefinition.valueFormatter(params);}if(typeof params.value===\"object\"){if(!params.value){return void 0;}if(\"toNumber\"in params.value){return dataTypeDefinition.valueFormatter(_objectSpread(_objectSpread({},params),{},{value:params.value.toNumber()}));}if(\"value\"in params.value){return dataTypeDefinition.valueFormatter(_objectSpread(_objectSpread({},params),{},{value:params.value.value}));}}}return void 0;}}else if(gos.get(\"groupHideOpenParents\")&&params.column.isRowGroupActive()){var _dataTypeDefinition$d;if(typeof params.value===\"string\"&&!((_dataTypeDefinition$d=dataTypeDefinition.dataTypeMatcher)!==null&&_dataTypeDefinition$d!==void 0&&_dataTypeDefinition$d.call(dataTypeDefinition,params.value))){return void 0;}}return dataTypeDefinition.valueFormatter(params);};}function doesColDefPropPreventInference(colDef,checkProps,prop,comparisonValue){if(!checkProps[prop]){return false;}var value=colDef[prop];if(value===null){checkProps[prop]=false;return false;}else{return comparisonValue===void 0?!!value:value===comparisonValue;}}function doColDefPropsPreventInference(colDef,propsToCheckForInference){return[[\"cellRenderer\",\"agSparklineCellRenderer\"],[\"valueGetter\",void 0],[\"valueParser\",void 0],[\"refData\",void 0]].some(_ref49=>{var[prop,comparisonValue]=_ref49;return doesColDefPropPreventInference(colDef,propsToCheckForInference,prop,comparisonValue);});}function getUpdatedColumnState(column,columnStateUpdates){var columnState=getColumnStateFromColDef(column);columnStateUpdates.forEach(key=>{delete columnState[key];if(key===\"rowGroup\"){delete columnState.rowGroupIndex;}else if(key===\"pivot\"){delete columnState.pivotIndex;}});return columnState;}// packages/ag-grid-community/src/columns/columnModule.ts\nvar DataTypeModule={moduleName:\"DataType\",version:VERSION,beans:[DataTypeService],dependsOn:[CheckboxCellRendererModule]};var ColumnFlexModule={moduleName:\"ColumnFlex\",version:VERSION,beans:[ColumnFlexService]};var ColumnApiModule={moduleName:\"ColumnApi\",version:VERSION,beans:[ColumnDefFactory],apiFunctions:{getColumnDef,getDisplayNameForColumn,getColumn,getColumns,applyColumnState,getColumnState,resetColumnState,isPinning,isPinningLeft,isPinningRight,getDisplayedColAfter,getDisplayedColBefore,setColumnsVisible,setColumnsPinned,getAllGridColumns,getDisplayedLeftColumns,getDisplayedCenterColumns,getDisplayedRightColumns,getAllDisplayedColumns,getAllDisplayedVirtualColumns,getColumnDefs}};// packages/ag-grid-community/src/columns/columnNameService.ts\nfunction _camelCaseToHumanText(camelCase){if(!camelCase||camelCase==null){return null;}var rex=/([a-z])([A-Z])/g;var rexCaps=/([A-Z]+)([A-Z])([a-z])/g;var words=camelCase.replace(rex,\"$1 $2\").replace(rexCaps,\"$1 $2$3\").replace(/\\./g,\" \").split(\" \");return words.map(word=>word.substring(0,1).toUpperCase()+(word.length>1?word.substring(1,word.length):\"\")).join(\" \");}var ColumnNameService=class extends BeanStub{constructor(){super(...arguments);this.beanName=\"colNames\";}getDisplayNameForColumn(column,location){var includeAggFunc=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if(!column){return null;}var headerName=this.getHeaderName(column.getColDef(),column,null,null,location);var{aggColNameSvc}=this.beans;if(includeAggFunc&&aggColNameSvc){return aggColNameSvc.getHeaderName(column,headerName);}return headerName;}getDisplayNameForProvidedColumnGroup(columnGroup,providedColumnGroup,location){var colGroupDef=providedColumnGroup===null||providedColumnGroup===void 0?void 0:providedColumnGroup.getColGroupDef();if(colGroupDef){return this.getHeaderName(colGroupDef,null,columnGroup,providedColumnGroup,location);}return null;}getDisplayNameForColumnGroup(columnGroup,location){return this.getDisplayNameForProvidedColumnGroup(columnGroup,columnGroup.getProvidedColumnGroup(),location);}// location is where the column is going to appear, ie who is calling us\ngetHeaderName(colDef,column,columnGroup,providedColumnGroup,location){var headerValueGetter=colDef.headerValueGetter;if(headerValueGetter){var params=_addGridCommonParams(this.gos,{colDef,column,columnGroup,providedColumnGroup,location});if(typeof headerValueGetter===\"function\"){return headerValueGetter(params);}else if(typeof headerValueGetter===\"string\"){var _this$beans$expressio,_this$beans$expressio2;return(_this$beans$expressio=(_this$beans$expressio2=this.beans.expressionSvc)===null||_this$beans$expressio2===void 0?void 0:_this$beans$expressio2.evaluate(headerValueGetter,params))!==null&&_this$beans$expressio!==void 0?_this$beans$expressio:null;}return\"\";}else if(colDef.headerName!=null){return colDef.headerName;}else if(colDef.field){return _camelCaseToHumanText(colDef.field);}return\"\";}};// packages/ag-grid-community/src/columns/columnViewportService.ts\nvar ColumnViewportService=class extends BeanStub{constructor(){super(...arguments);this.beanName=\"colViewport\";// cols in center that are in the viewport\nthis.colsWithinViewport=[];// same as colsWithinViewport, except we always include columns with headerAutoHeight\nthis.headerColsWithinViewport=[];// A hash key to keep track of changes in viewport columns\nthis.colsWithinViewportHash=\"\";// all columns & groups to be rendered, index by row.\n// used by header rows to get all items to render for that row.\nthis.rowsOfHeadersToRenderLeft={};this.rowsOfHeadersToRenderRight={};this.rowsOfHeadersToRenderCenter={};}wireBeans(beans){this.visibleCols=beans.visibleCols;this.colModel=beans.colModel;}postConstruct(){this.suppressColumnVirtualisation=this.gos.get(\"suppressColumnVirtualisation\");}setScrollPosition(scrollWidth,scrollPosition){var afterScroll=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var{visibleCols}=this;var bodyWidthDirty=visibleCols.isBodyWidthDirty;var noChange=scrollWidth===this.scrollWidth&&scrollPosition===this.scrollPosition&&!bodyWidthDirty;if(noChange){return;}this.scrollWidth=scrollWidth;this.scrollPosition=scrollPosition;visibleCols.isBodyWidthDirty=true;if(this.gos.get(\"enableRtl\")){var bodyWidth=visibleCols.bodyWidth;this.viewportLeft=bodyWidth-scrollPosition-scrollWidth;this.viewportRight=bodyWidth-scrollPosition;}else{this.viewportLeft=scrollPosition;this.viewportRight=scrollWidth+scrollPosition;}if(this.colModel.ready){this.checkViewportColumns(afterScroll);}}getHeadersToRender(type,depth){var result;switch(type){case\"left\":result=this.rowsOfHeadersToRenderLeft[depth];break;case\"right\":result=this.rowsOfHeadersToRenderRight[depth];break;default:result=this.rowsOfHeadersToRenderCenter[depth];break;}return result||[];}extractViewportColumns(){var displayedColumnsCenter=this.visibleCols.centerCols;if(this.isColumnVirtualisationSuppressed()){this.colsWithinViewport=displayedColumnsCenter;this.headerColsWithinViewport=displayedColumnsCenter;}else{this.colsWithinViewport=displayedColumnsCenter.filter(this.isColumnInRowViewport.bind(this));this.headerColsWithinViewport=displayedColumnsCenter.filter(this.isColumnInHeaderViewport.bind(this));}}isColumnVirtualisationSuppressed(){return this.suppressColumnVirtualisation||this.viewportRight===0;}clear(suppressHashClear){this.rowsOfHeadersToRenderLeft={};this.rowsOfHeadersToRenderRight={};this.rowsOfHeadersToRenderCenter={};if(!suppressHashClear){this.colsWithinViewportHash=\"\";}}isColumnInHeaderViewport(col){if(col.isAutoHeaderHeight()||isAnyParentAutoHeaderHeight(col)){return true;}return this.isColumnInRowViewport(col);}isColumnInRowViewport(col){if(col.isAutoHeight()){return true;}var columnLeft=col.getLeft()||0;var columnRight=columnLeft+col.getActualWidth();var leftBounds=this.viewportLeft-200;var rightBounds=this.viewportRight+200;var columnToMuchLeft=columnLeft<leftBounds&&columnRight<leftBounds;var columnToMuchRight=columnLeft>rightBounds&&columnRight>rightBounds;return!columnToMuchLeft&&!columnToMuchRight;}// used by Grid API only\ngetViewportColumns(){var{leftCols,rightCols}=this.visibleCols;var res=this.colsWithinViewport.concat(leftCols).concat(rightCols);return res;}// + rowRenderer\n// if we are not column spanning, this just returns back the virtual centre columns,\n// however if we are column spanning, then different rows can have different virtual\n// columns, so we have to work out the list for each individual row.\ngetColsWithinViewport(rowNode){if(!this.colModel.colSpanActive){return this.colsWithinViewport;}var emptySpaceBeforeColumn=col=>{var left=col.getLeft();return _exists(left)&&left>this.viewportLeft;};var inViewportCallback=this.isColumnVirtualisationSuppressed()?void 0:this.isColumnInRowViewport.bind(this);var{visibleCols}=this;var displayedColumnsCenter=visibleCols.centerCols;return visibleCols.getColsForRow(rowNode,displayedColumnsCenter,inViewportCallback,emptySpaceBeforeColumn);}// checks what columns are currently displayed due to column virtualisation. dispatches an event\n// if the list of columns has changed.\n// + setColumnWidth(), setViewportPosition(), setColumnDefs(), sizeColumnsToFit()\ncheckViewportColumns(){var afterScroll=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var viewportColumnsChanged=this.extractViewport();if(viewportColumnsChanged){this.eventSvc.dispatchEvent({type:\"virtualColumnsChanged\",afterScroll});}}calculateHeaderRows(){this.clear(true);var renderedColIds={};var{leftCols,rightCols,treeLeft,treeRight,treeCenter}=this.visibleCols;var allRenderedCols=this.headerColsWithinViewport.concat(leftCols).concat(rightCols);allRenderedCols.forEach(col=>renderedColIds[col.getId()]=true);var testGroup=(children,result,depth)=>{var returnValue=false;for(var i=0;i<children.length;i++){var child=children[i];var addThisItem=false;if(isColumn(child)){addThisItem=renderedColIds[child.getId()]===true;}else{var columnGroup=child;var displayedChildren=columnGroup.getDisplayedChildren();if(displayedChildren){addThisItem=testGroup(displayedChildren,result,depth+1);}}if(addThisItem){returnValue=true;if(!result[depth]){result[depth]=[];}result[depth].push(child);}}return returnValue;};testGroup(treeLeft,this.rowsOfHeadersToRenderLeft,0);testGroup(treeRight,this.rowsOfHeadersToRenderRight,0);testGroup(treeCenter,this.rowsOfHeadersToRenderCenter,0);}extractViewport(){var hashColumn=c=>\"\".concat(c.getId(),\"-\").concat(c.getPinned()||\"normal\");this.extractViewportColumns();var newHash=this.getViewportColumns().map(hashColumn).join(\"#\");var changed=this.colsWithinViewportHash!==newHash;if(changed){this.colsWithinViewportHash=newHash;this.calculateHeaderRows();}return changed;}};function isAnyParentAutoHeaderHeight(col){while(col){if(col.isAutoHeaderHeight()){return true;}col=col.getParent();}return false;}// packages/ag-grid-community/src/components/framework/agComponentUtils.ts\nvar AgComponentUtils=class extends BeanStub{constructor(){super(...arguments);this.beanName=\"agCompUtils\";}adaptFunction(type,jsCompFunc){if(!type.cellRenderer){return null;}class Adapter{refresh(){return false;}getGui(){return this.eGui;}init(params){var callbackResult=jsCompFunc(params);var type2=typeof callbackResult;if(type2===\"string\"||type2===\"number\"||type2===\"boolean\"){this.eGui=_loadTemplate(\"<span>\"+callbackResult+\"</span>\");return;}if(callbackResult==null){this.eGui=_createElement({tag:\"span\"});return;}this.eGui=callbackResult;}}return Adapter;}};// packages/ag-grid-community/src/components/framework/cellRendererFunctionModule.ts\nvar CellRendererFunctionModule={moduleName:\"CellRendererFunction\",version:VERSION,beans:[AgComponentUtils]};// packages/ag-grid-community/src/components/framework/registry.ts\nvar Registry=class extends BeanStub{constructor(){super(...arguments);this.beanName=\"registry\";this.agGridDefaults={};this.agGridDefaultOverrides={};this.jsComps={};this.selectors={};this.icons={};}postConstruct(){var comps=this.gos.get(\"components\");if(comps!=null){for(var key of Object.keys(comps)){this.jsComps[key]=comps[key];}}}registerModule(module){var{icons,userComponents,dynamicBeans,selectors}=module;if(userComponents){var registerUserComponent=(name,component,params,processParams)=>{this.agGridDefaults[name]=component;if(params||processParams){this.agGridDefaultOverrides[name]={params,processParams};}};for(var name of Object.keys(userComponents)){var comp=userComponents[name];if(isComponentMetaFunc(comp)){comp=comp.getComp(this.beans);}if(typeof comp===\"object\"){var{classImp,params,processParams}=comp;registerUserComponent(name,classImp,params,processParams);}else{registerUserComponent(name,comp);}}}if(dynamicBeans){var _this$dynamicBeans;(_this$dynamicBeans=this.dynamicBeans)!==null&&_this$dynamicBeans!==void 0?_this$dynamicBeans:this.dynamicBeans={};for(var _name of Object.keys(dynamicBeans)){this.dynamicBeans[_name]=dynamicBeans[_name];}}selectors===null||selectors===void 0||selectors.forEach(selector=>{this.selectors[selector.selector]=selector;});if(icons){for(var _name2 of Object.keys(icons)){this.icons[_name2]=icons[_name2];}}}getUserComponent(propertyName,name){var _this$beans$validatio2;var createResult=(component,componentFromFramework,params,processParams)=>({componentFromFramework,component,params,processParams});var{frameworkOverrides}=this.beans;var registeredViaFrameworkComp=frameworkOverrides.frameworkComponent(name,this.gos.get(\"components\"));if(registeredViaFrameworkComp!=null){return createResult(registeredViaFrameworkComp,true);}var jsComponent=this.jsComps[name];if(jsComponent){var isFwkComp=frameworkOverrides.isFrameworkComponent(jsComponent);return createResult(jsComponent,isFwkComp);}var defaultComponent=this.agGridDefaults[name];if(defaultComponent){var overrides=this.agGridDefaultOverrides[name];return createResult(defaultComponent,false,overrides===null||overrides===void 0?void 0:overrides.params,overrides===null||overrides===void 0?void 0:overrides.processParams);}(_this$beans$validatio2=this.beans.validation)===null||_this$beans$validatio2===void 0||_this$beans$validatio2.missingUserComponent(propertyName,name,this.agGridDefaults,this.jsComps);return null;}createDynamicBean(name,mandatory){if(!this.dynamicBeans){throw new Error(_errMsg(279,{name}));}var BeanClass=this.dynamicBeans[name];if(BeanClass==null){if(mandatory){var _this$beans$validatio3,_this$beans$validatio4;throw new Error((_this$beans$validatio3=(_this$beans$validatio4=this.beans.validation)===null||_this$beans$validatio4===void 0?void 0:_this$beans$validatio4.missingDynamicBean(name))!==null&&_this$beans$validatio3!==void 0?_this$beans$validatio3:_errMsg(256));}return void 0;}for(var _len9=arguments.length,args=new Array(_len9>2?_len9-2:0),_key0=2;_key0<_len9;_key0++){args[_key0-2]=arguments[_key0];}return new BeanClass(...args);}getSelector(name){return this.selectors[name];}getIcon(name){return this.icons[name];}};// packages/ag-grid-community/src/ctrlsService.ts\nvar NUM_CTRLS=23;var CtrlsService=class extends BeanStub{constructor(){super(...arguments);this.beanName=\"ctrlsSvc\";this.params={};this.ready=false;this.readyCallbacks=[];}postConstruct(){var _this$beans$framework5,_this$beans$framework6,_this$beans$framework7;this.addEventListener(\"ready\",()=>{this.updateReady();if(this.ready){this.readyCallbacks.forEach(c=>c(this.params));this.readyCallbacks.length=0;}},(_this$beans$framework5=(_this$beans$framework6=(_this$beans$framework7=this.beans.frameworkOverrides).runWhenReadyAsync)===null||_this$beans$framework6===void 0?void 0:_this$beans$framework6.call(_this$beans$framework7))!==null&&_this$beans$framework5!==void 0?_this$beans$framework5:false);}updateReady(){var values=Object.values(this.params);this.ready=values.length===NUM_CTRLS&&values.every(ctrl=>{var _ctrl$isAlive;return(_ctrl$isAlive=ctrl===null||ctrl===void 0?void 0:ctrl.isAlive())!==null&&_ctrl$isAlive!==void 0?_ctrl$isAlive:false;});}whenReady(caller,callback){if(this.ready){callback(this.params);}else{this.readyCallbacks.push(callback);}caller.addDestroyFunc(()=>{var index=this.readyCallbacks.indexOf(callback);if(index>=0){this.readyCallbacks.splice(index,1);}});}register(ctrlType,ctrl){this.params[ctrlType]=ctrl;this.updateReady();if(this.ready){this.dispatchLocalEvent({type:\"ready\"});}ctrl.addDestroyFunc(()=>{this.updateReady();});}get(ctrlType){return this.params[ctrlType];}getGridBodyCtrl(){return this.params.gridBodyCtrl;}getHeaderRowContainerCtrls(){var{leftHeader,centerHeader,rightHeader}=this.params;return[leftHeader,rightHeader,centerHeader];}getHeaderRowContainerCtrl(pinned){var params=this.params;switch(pinned){case\"left\":return params.leftHeader;case\"right\":return params.rightHeader;default:return params.centerHeader;}}getScrollFeature(){return this.getGridBodyCtrl().scrollFeature;}};// packages/ag-grid-community/src/theming/core/core.css-GENERATED.ts\nvar coreCSS=/*css*/\":where(.ag-root-wrapper,.ag-popup,.ag-dnd-ghost,.ag-chart),:where(.ag-root-wrapper,.ag-popup,.ag-dnd-ghost,.ag-chart) :where([class^=ag-]){box-sizing:border-box;&:after,&:before{box-sizing:border-box}&:where(div,span,label):focus-visible{box-shadow:inset var(--ag-focus-shadow);outline:none;&.invalid{box-shadow:inset var(--ag-focus-error-shadow)}}&:where(button){color:inherit}}:where(.ag-root-wrapper,.ag-popup,.ag-dnd-ghost,.ag-chart) :where([class^=ag-]) ::-ms-clear{display:none}.ag-aria-description-container{border:0;z-index:9999;clip:rect(1px,1px,1px,1px);height:1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px}.ag-hidden{display:none!important}.ag-invisible{visibility:hidden!important}.ag-unselectable{-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-selectable{-webkit-user-select:text;-moz-user-select:text;user-select:text}.ag-tab-guard{display:block;height:0;position:absolute;width:0}:where(.ag-virtual-list-viewport) .ag-tab-guard{position:sticky}.ag-tab-guard-top{top:1px}.ag-tab-guard-bottom{bottom:1px}.ag-shake-left-to-right{animation-direction:alternate;animation-duration:.2s;animation-iteration-count:infinite;animation-name:ag-shake-left-to-right}@keyframes ag-shake-left-to-right{0%{padding-left:6px;padding-right:2px}to{padding-left:2px;padding-right:6px}}.ag-body-horizontal-scroll-viewport,.ag-body-vertical-scroll-viewport,.ag-body-viewport,.ag-center-cols-viewport,.ag-floating-bottom-viewport,.ag-floating-top-viewport,.ag-header-viewport,.ag-sticky-bottom-viewport,.ag-sticky-top-viewport,.ag-virtual-list-viewport{flex:1 1 auto;height:100%;min-width:0;overflow:hidden;position:relative}.ag-viewport{position:relative}.ag-spanning-container{position:absolute;top:0;z-index:1}.ag-body-viewport,.ag-center-cols-viewport,.ag-floating-bottom-viewport,.ag-floating-top-viewport,.ag-header-viewport,.ag-sticky-bottom-viewport,.ag-sticky-top-viewport{overflow-x:auto;-ms-overflow-style:none!important;scrollbar-width:none!important;&::-webkit-scrollbar{display:none!important}}.ag-body-viewport{display:flex;overflow-x:hidden;&:where(.ag-layout-normal){overflow-y:auto;-webkit-overflow-scrolling:touch}}.ag-floating-bottom-container,.ag-floating-top-container,.ag-sticky-bottom-container,.ag-sticky-top-container{min-height:1px}.ag-center-cols-viewport{min-height:100%;width:100%}.ag-body-horizontal-scroll-viewport{overflow-x:scroll}.ag-body-vertical-scroll-viewport{overflow-y:scroll}.ag-virtual-list-viewport{overflow:auto;width:100%}.ag-body-container,.ag-body-horizontal-scroll-container,.ag-body-vertical-scroll-container,.ag-center-cols-container,.ag-floating-bottom-container,.ag-floating-bottom-full-width-container,.ag-floating-top-container,.ag-full-width-container,.ag-header-container,.ag-pinned-left-cols-container,.ag-pinned-right-cols-container,.ag-sticky-bottom-container,.ag-sticky-top-container,.ag-virtual-list-container{position:relative}.ag-floating-bottom-container,.ag-floating-top-container,.ag-header-container,.ag-pinned-left-floating-bottom,.ag-pinned-left-floating-top,.ag-pinned-right-floating-bottom,.ag-pinned-right-floating-top,.ag-sticky-bottom-container,.ag-sticky-top-container{height:100%;white-space:nowrap}.ag-center-cols-container,.ag-pinned-right-cols-container{display:block}.ag-body-horizontal-scroll-container{height:100%}.ag-body-vertical-scroll-container{width:100%}.ag-floating-bottom-full-width-container,.ag-floating-top-full-width-container,.ag-full-width-container,.ag-sticky-bottom-full-width-container,.ag-sticky-top-full-width-container{pointer-events:none;position:absolute;top:0}:where(.ag-ltr) .ag-floating-bottom-full-width-container,:where(.ag-ltr) .ag-floating-top-full-width-container,:where(.ag-ltr) .ag-full-width-container,:where(.ag-ltr) .ag-sticky-bottom-full-width-container,:where(.ag-ltr) .ag-sticky-top-full-width-container{left:0}:where(.ag-rtl) .ag-floating-bottom-full-width-container,:where(.ag-rtl) .ag-floating-top-full-width-container,:where(.ag-rtl) .ag-full-width-container,:where(.ag-rtl) .ag-sticky-bottom-full-width-container,:where(.ag-rtl) .ag-sticky-top-full-width-container{right:0}.ag-full-width-container{width:100%}.ag-floating-bottom-full-width-container,.ag-floating-top-full-width-container{display:inline-block;height:100%;overflow:hidden;width:100%}.ag-virtual-list-container{overflow:hidden}.ag-body{display:flex;flex:1 1 auto;flex-direction:row!important;min-height:0;position:relative}.ag-body-horizontal-scroll,.ag-body-vertical-scroll{display:flex;min-height:0;min-width:0;position:relative;&:where(.ag-scrollbar-invisible){bottom:0;position:absolute;&:where(.ag-apple-scrollbar){opacity:0;transition:opacity .4s;visibility:hidden;&:where(.ag-scrollbar-scrolling,.ag-scrollbar-active){opacity:1;visibility:visible}}}}.ag-body-horizontal-scroll{width:100%;&:where(.ag-scrollbar-invisible){left:0;right:0}}.ag-body-vertical-scroll{height:100%;&:where(.ag-scrollbar-invisible){top:0;z-index:10}}:where(.ag-ltr) .ag-body-vertical-scroll{&:where(.ag-scrollbar-invisible){right:0}}:where(.ag-rtl) .ag-body-vertical-scroll{&:where(.ag-scrollbar-invisible){left:0}}.ag-force-vertical-scroll{overflow-y:scroll!important}.ag-horizontal-left-spacer,.ag-horizontal-right-spacer{height:100%;min-width:0;overflow-x:scroll;&:where(.ag-scroller-corner){overflow-x:hidden}}:where(.ag-row-animation) .ag-row{transition:transform .4s,top .4s,opacity .2s;&:where(.ag-after-created){transition:transform .4s,top .4s,height .4s,opacity .2s}}:where(.ag-row-animation.ag-prevent-animation) .ag-row{transition:none!important;&:where(.ag-row.ag-after-created){transition:none!important}}:where(.ag-row-no-animation) .ag-row{transition:none}.ag-row-loading{align-items:center;display:flex}.ag-row-position-absolute{position:absolute}.ag-row-position-relative{position:relative}.ag-full-width-row{overflow:hidden;pointer-events:all}.ag-row-inline-editing{z-index:1}.ag-row-dragging{z-index:2}.ag-stub-cell{align-items:center;display:flex}.ag-cell{display:inline-block;height:100%;position:absolute;white-space:nowrap;&:focus-visible{box-shadow:none}}.ag-cell-value{flex:1 1 auto}.ag-cell-value,.ag-group-value{overflow:hidden;text-overflow:ellipsis}.ag-cell-wrap-text{white-space:normal;word-break:break-word}:where(.ag-cell) .ag-icon{display:inline-block;vertical-align:middle}.ag-floating-top{display:flex;overflow:hidden;position:relative;white-space:nowrap;width:100%}:where(.ag-floating-top:not(.ag-invisible)){border-bottom:var(--ag-pinned-row-border)}.ag-floating-bottom{display:flex;overflow:hidden;position:relative;white-space:nowrap;width:100%}:where(.ag-floating-bottom:not(.ag-invisible)){border-top:var(--ag-pinned-row-border)}.ag-sticky-bottom,.ag-sticky-top{background-color:var(--ag-background-color);display:flex;height:0;overflow:hidden;position:absolute;width:100%;z-index:1}.ag-opacity-zero{opacity:0!important}.ag-cell-label-container{align-items:center;display:flex;flex-direction:row-reverse;height:100%;justify-content:space-between;width:100%}:where(.ag-right-aligned-header){.ag-cell-label-container{flex-direction:row}.ag-header-cell-text{text-align:end}}.ag-column-group-icons{display:block;>*{cursor:pointer}}:where(.ag-ltr){direction:ltr;.ag-body,.ag-body-horizontal-scroll,.ag-body-viewport,.ag-floating-bottom,.ag-floating-top,.ag-header,.ag-sticky-bottom,.ag-sticky-top{flex-direction:row}}:where(.ag-rtl){direction:rtl;text-align:right;.ag-body,.ag-body-horizontal-scroll,.ag-body-viewport,.ag-floating-bottom,.ag-floating-top,.ag-header,.ag-sticky-bottom,.ag-sticky-top{flex-direction:row-reverse}.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{display:block}}:where(.ag-rtl){.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{transform:rotate(180deg)}}:where(.ag-rtl){.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{transform:rotate(-180deg)}}.ag-measurement-container{height:0;overflow:hidden;visibility:hidden;width:0}.ag-measurement-element-border{display:inline-block;&:before{border-left:var(--ag-internal-measurement-border);content:\\\"\\\";display:block}}.ag-group{position:relative;width:100%}.ag-group-title-bar{align-items:center;display:flex;padding:var(--ag-spacing)}.ag-group-title{display:inline;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:where(.ag-group-title-bar) .ag-group-title{cursor:default}.ag-group-toolbar{align-items:center;display:flex;padding:var(--ag-spacing)}.ag-group-container{display:flex}.ag-disabled .ag-group-container{pointer-events:none}.ag-disabled-group-container,.ag-disabled-group-title-bar{opacity:.5}.ag-group-container-horizontal{flex-flow:row wrap}.ag-group-container-vertical{flex-direction:column}.ag-group-title-bar-icon{cursor:pointer;flex:none}:where(.ag-ltr) .ag-group-title-bar-icon{margin-right:var(--ag-spacing)}:where(.ag-rtl) .ag-group-title-bar-icon{margin-left:var(--ag-spacing)}:where(.ag-group-item-alignment-stretch) .ag-group-item{align-items:stretch}:where(.ag-group-item-alignment-start) .ag-group-item{align-items:flex-start}:where(.ag-group-item-alignment-end) .ag-group-item{align-items:flex-end}.ag-popup-child{top:0;z-index:5;&:where(:not(.ag-tooltip-custom)){box-shadow:var(--ag-popup-shadow)}}.ag-popup-editor{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-large-text-input{display:block}:where(.ag-ltr) .ag-row:not(.ag-row-level-0) .ag-pivot-leaf-group{margin-left:var(--ag-row-group-indent-size)}:where(.ag-rtl) .ag-row:not(.ag-row-level-0) .ag-pivot-leaf-group{margin-right:var(--ag-row-group-indent-size)}:where(.ag-ltr) .ag-row-group-leaf-indent{margin-left:calc(var(--ag-cell-widget-spacing) + var(--ag-icon-size))}:where(.ag-rtl) .ag-row-group-leaf-indent{margin-right:calc(var(--ag-cell-widget-spacing) + var(--ag-icon-size))}.ag-value-change-delta{padding:0 2px}.ag-value-change-delta-up{color:var(--ag-value-change-delta-up-color)}.ag-value-change-delta-down{color:var(--ag-value-change-delta-down-color)}.ag-value-change-value{background-color:transparent;border-radius:1px;padding-left:1px;padding-right:1px;transition:background-color 1s}.ag-value-change-value-highlight{background-color:var(--ag-value-change-value-highlight-background-color);transition:background-color .1s}.ag-cell-data-changed{background-color:var(--ag-value-change-value-highlight-background-color)!important}.ag-cell-data-changed-animation{background-color:transparent}.ag-cell-highlight{background-color:var(--ag-range-selection-highlight-color)!important}.ag-row,.ag-spanned-row{color:var(--ag-cell-text-color);font-family:var(--ag-cell-font-family);font-size:var(--ag-data-font-size);white-space:nowrap;--ag-internal-content-line-height:calc(min(var(--ag-row-height), var(--ag-line-height, 1000px)) - var(--ag-internal-row-border-width, 1px) - 2px)}.ag-row{background-color:var(--ag-background-color);border-bottom:var(--ag-row-border);height:var(--ag-row-height);width:100%;&.ag-row-editing-invalid{background-color:var(--ag-full-row-edit-invalid-background-color)}}:where(.ag-body-vertical-content-no-gap>div>div>div,.ag-body-vertical-content-no-gap>div>div>div>div)>.ag-row-last{border-bottom-color:transparent}.ag-sticky-bottom{border-top:var(--ag-row-border);box-sizing:content-box!important}.ag-group-contracted,.ag-group-expanded{cursor:pointer}.ag-cell,.ag-full-width-row .ag-cell-wrapper.ag-row-group{border:1px solid transparent;line-height:var(--ag-internal-content-line-height);-webkit-font-smoothing:subpixel-antialiased}:where(.ag-ltr) .ag-cell{border-right:var(--ag-column-border)}:where(.ag-rtl) .ag-cell{border-left:var(--ag-column-border)}.ag-spanned-cell-wrapper{background-color:var(--ag-background-color);position:absolute}.ag-spanned-cell-wrapper>.ag-spanned-cell{display:block;position:relative}:where(.ag-ltr) :where(.ag-body-horizontal-content-no-gap) .ag-column-last{border-right-color:transparent}:where(.ag-rtl) :where(.ag-body-horizontal-content-no-gap) .ag-column-last{border-left-color:transparent}.ag-cell-wrapper{align-items:center;display:flex;>:where(:not(.ag-cell-value,.ag-group-value)){align-items:center;display:flex;height:var(--ag-internal-content-line-height)}&:where(.ag-row-group){align-items:flex-start}:where(.ag-full-width-row) &:where(.ag-row-group){align-items:center;height:100%}}:where(.ag-ltr) .ag-cell-wrapper{padding-left:calc(var(--ag-indentation-level)*var(--ag-row-group-indent-size))}:where(.ag-rtl) .ag-cell-wrapper{padding-right:calc(var(--ag-indentation-level)*var(--ag-row-group-indent-size))}:where(.ag-cell-wrap-text:not(.ag-cell-auto-height)) .ag-cell-wrapper{align-items:normal;height:100%;:where(.ag-cell-value){height:100%}}:where(.ag-ltr) .ag-row>.ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}:where(.ag-rtl) .ag-row>.ag-cell-wrapper.ag-row-group{padding-right:calc(var(--ag-cell-horizontal-padding) + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}.ag-cell-focus:not(.ag-cell-range-selected):focus-within,.ag-cell-range-single-cell,.ag-cell-range-single-cell.ag-cell-range-handle,.ag-context-menu-open .ag-cell-focus:not(.ag-cell-range-selected),.ag-context-menu-open .ag-full-width-row.ag-row-focus .ag-cell-wrapper.ag-row-group,.ag-full-width-row.ag-row-focus:focus .ag-cell-wrapper.ag-row-group{border:1px solid;border-color:var(--ag-range-selection-border-color);border-style:var(--ag-range-selection-border-style);outline:initial}.ag-full-width-row.ag-row-focus:focus{box-shadow:none}:where(.ag-ltr) .ag-group-contracted,:where(.ag-ltr) .ag-group-expanded,:where(.ag-ltr) .ag-row-drag,:where(.ag-ltr) .ag-selection-checkbox{margin-right:var(--ag-cell-widget-spacing)}:where(.ag-rtl) .ag-group-contracted,:where(.ag-rtl) .ag-group-expanded,:where(.ag-rtl) .ag-row-drag,:where(.ag-rtl) .ag-selection-checkbox{margin-left:var(--ag-cell-widget-spacing)}:where(.ag-ltr) .ag-group-child-count{margin-left:3px}:where(.ag-rtl) .ag-group-child-count{margin-right:3px}.ag-row-highlight-above:after,.ag-row-highlight-below:after,.ag-row-highlight-inside:after{background-color:var(--ag-range-selection-border-color);content:\\\"\\\";height:1px;pointer-events:none;position:absolute;width:calc(100% - 1px)}:where(.ag-ltr) .ag-row-highlight-above:after,:where(.ag-ltr) .ag-row-highlight-below:after,:where(.ag-ltr) .ag-row-highlight-inside:after{left:1px}:where(.ag-rtl) .ag-row-highlight-above:after,:where(.ag-rtl) .ag-row-highlight-below:after,:where(.ag-rtl) .ag-row-highlight-inside:after{right:1px}.ag-row-highlight-above:after{top:0}.ag-row-highlight-below:after{bottom:0}.ag-row-highlight-indent:after{display:block;width:auto}:where(.ag-ltr) .ag-row-highlight-indent:after{left:calc((var(--ag-cell-widget-spacing) + var(--ag-icon-size))*2 + var(--ag-cell-horizontal-padding) + var(--ag-row-highlight-level)*var(--ag-row-group-indent-size));right:1px}:where(.ag-rtl) .ag-row-highlight-indent:after{left:1px;right:calc((var(--ag-cell-widget-spacing) + var(--ag-icon-size))*2 + var(--ag-cell-horizontal-padding) + var(--ag-row-highlight-level)*var(--ag-row-group-indent-size))}.ag-row-highlight-inside:after{background-color:var(--ag-selected-row-background-color);border:1px solid var(--ag-range-selection-border-color);display:block;height:auto;inset:0;width:auto}.ag-row-odd{background-color:var(--ag-odd-row-background-color)}.ag-row-selected:before{background-color:var(--ag-selected-row-background-color);content:\\\"\\\";display:block;inset:0;pointer-events:none;position:absolute}.ag-row-hover.ag-full-width-row.ag-row-group:before,.ag-row-hover:not(.ag-full-width-row):before{background-color:var(--ag-row-hover-color);content:\\\"\\\";display:block;inset:0;pointer-events:none;position:absolute}.ag-row-hover.ag-row-selected:before{background-color:var(--ag-row-hover-color);background-image:linear-gradient(var(--ag-selected-row-background-color),var(--ag-selected-row-background-color))}.ag-row.ag-full-width-row.ag-row-group>*{position:relative}.ag-column-hover{background-color:var(--ag-column-hover-color)}.ag-header-range-highlight{background-color:var(--ag-range-header-highlight-color)}.ag-right-aligned-cell{font-variant-numeric:tabular-nums}:where(.ag-ltr) .ag-right-aligned-cell{text-align:right}:where(.ag-rtl) .ag-right-aligned-cell{text-align:left}.ag-right-aligned-cell .ag-cell-value,.ag-right-aligned-cell .ag-group-value{margin-left:auto}:where(.ag-ltr) .ag-cell:not(.ag-cell-inline-editing),:where(.ag-ltr) .ag-full-width-row .ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px + var(--ag-row-group-indent-size)*var(--ag-indentation-level));padding-right:calc(var(--ag-cell-horizontal-padding) - 1px)}:where(.ag-rtl) .ag-cell:not(.ag-cell-inline-editing),:where(.ag-rtl) .ag-full-width-row .ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px);padding-right:calc(var(--ag-cell-horizontal-padding) - 1px + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}.ag-row>.ag-cell-wrapper{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px);padding-right:calc(var(--ag-cell-horizontal-padding) - 1px)}.ag-row-dragging{cursor:move;opacity:.5}.ag-details-row{background-color:var(--ag-background-color);padding:calc(var(--ag-spacing)*3.75)}.ag-layout-auto-height,.ag-layout-print{.ag-center-cols-container,.ag-center-cols-viewport{min-height:150px}}.ag-overlay-loading-wrapper{background-color:var(--ag-modal-overlay-background-color)}.ag-skeleton-container{align-content:center;height:100%;width:100%}.ag-skeleton-effect{animation:ag-skeleton-loading 1.5s ease-in-out .5s infinite;background-color:var(--ag-row-loading-skeleton-effect-color);border-radius:.25rem;height:1em;width:100%}:where(.ag-ltr) .ag-right-aligned-cell .ag-skeleton-effect{margin-left:auto}:where(.ag-rtl) .ag-right-aligned-cell .ag-skeleton-effect{margin-right:auto}@keyframes ag-skeleton-loading{0%{opacity:1}50%{opacity:.4}to{opacity:1}}.ag-loading{align-items:center;display:flex;height:100%}:where(.ag-ltr) .ag-loading{padding-left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-loading{padding-right:var(--ag-cell-horizontal-padding)}:where(.ag-ltr) .ag-loading-icon{padding-right:var(--ag-cell-widget-spacing)}:where(.ag-rtl) .ag-loading-icon{padding-left:var(--ag-cell-widget-spacing)}.ag-icon-loading{animation-duration:1s;animation-iteration-count:infinite;animation-name:spin;animation-timing-function:linear}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.ag-input-wrapper,.ag-picker-field-wrapper{align-items:center;display:flex;flex:1 1 auto;line-height:normal;position:relative}.ag-input-field{align-items:center;display:flex;flex-direction:row}.ag-input-field-input:where(:not([type=checkbox],[type=radio])){flex:1 1 auto;min-width:0;width:100%}.ag-header{background-color:var(--ag-header-background-color);border-bottom:var(--ag-header-row-border);color:var(--ag-header-text-color);display:flex;font-family:var(--ag-header-font-family);font-size:var(--ag-header-font-size);font-weight:var(--ag-header-font-weight);overflow:hidden;white-space:nowrap;width:100%}.ag-header-row{height:var(--ag-header-height);position:absolute}.ag-floating-filter-button-button,.ag-header-cell-filter-button,.ag-header-cell-menu-button,.ag-header-expand-icon,.ag-panel-title-bar-button,:where(.ag-header-cell-sortable) .ag-header-cell-label{cursor:pointer}:where(.ag-ltr) .ag-header-expand-icon{margin-left:4px}:where(.ag-rtl) .ag-header-expand-icon{margin-right:4px}.ag-header-row:where(:not(:first-child)){:where(.ag-header-cell:not(.ag-header-span-height.ag-header-span-total,.ag-header-parent-hidden),.ag-header-group-cell.ag-header-group-cell-with-group){border-top:var(--ag-header-row-border)}}.ag-header-row:where(:not(.ag-header-row-column-group)){overflow:hidden}:where(.ag-header.ag-header-allow-overflow) .ag-header-row{overflow:visible}.ag-header-cell{display:inline-flex;overflow:hidden}.ag-header-group-cell{contain:paint;display:flex}.ag-header-cell,.ag-header-group-cell{align-items:center;gap:var(--ag-cell-widget-spacing);height:100%;padding:0 var(--ag-cell-horizontal-padding);position:absolute}@property --ag-internal-moving-color{syntax:\\\"<color>\\\";inherits:false;initial-value:transparent}@property --ag-internal-hover-color{syntax:\\\"<color>\\\";inherits:false;initial-value:transparent}.ag-header-cell:where(:not(.ag-floating-filter)),.ag-header-group-cell{&:before{background-image:linear-gradient(var(--ag-internal-hover-color),var(--ag-internal-hover-color)),linear-gradient(var(--ag-internal-moving-color),var(--ag-internal-moving-color));content:\\\"\\\";inset:0;position:absolute;--ag-internal-moving-color:transparent;--ag-internal-hover-color:transparent;transition:--ag-internal-moving-color var(--ag-header-cell-background-transition-duration),--ag-internal-hover-color var(--ag-header-cell-background-transition-duration)}&:where(:hover):before{--ag-internal-hover-color:var(--ag-header-cell-hover-background-color)}&:where(.ag-header-cell-moving):before{--ag-internal-moving-color:var(--ag-header-cell-moving-background-color);--ag-internal-hover-color:var(--ag-header-cell-hover-background-color)}}:where(.ag-header-cell:not(.ag-floating-filter) *,.ag-header-group-cell *){position:relative;z-index:1}.ag-header-cell-menu-button:where(:not(.ag-header-menu-always-show)){opacity:0;transition:opacity .2s}.ag-header-cell-filter-button,:where(.ag-header-cell.ag-header-active) .ag-header-cell-menu-button{opacity:1}.ag-header-cell-label,.ag-header-group-cell-label{align-items:center;align-self:stretch;display:flex;flex:1 1 auto;overflow:hidden;padding:5px 0}:where(.ag-ltr) .ag-sort-indicator-icon{padding-left:var(--ag-spacing)}:where(.ag-rtl) .ag-sort-indicator-icon{padding-right:var(--ag-spacing)}.ag-header-cell-label{text-overflow:ellipsis}.ag-header-group-cell-label.ag-sticky-label{flex:none;max-width:100%;overflow:visible;position:sticky}:where(.ag-ltr) .ag-header-group-cell-label.ag-sticky-label{left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-header-group-cell-label.ag-sticky-label{right:var(--ag-cell-horizontal-padding)}.ag-header-cell-text,.ag-header-group-text{overflow:hidden;text-overflow:ellipsis}.ag-header-cell-text{word-break:break-word}.ag-header-cell-comp-wrapper{width:100%}:where(.ag-header-group-cell) .ag-header-cell-comp-wrapper{display:flex}:where(.ag-header-cell:not(.ag-header-cell-auto-height)) .ag-header-cell-comp-wrapper{align-items:center;display:flex;height:100%}.ag-header-cell-wrap-text .ag-header-cell-comp-wrapper{white-space:normal}.ag-header-cell-comp-wrapper-limited-height>*{overflow:hidden}:where(.ag-right-aligned-header) .ag-header-cell-label{flex-direction:row-reverse}:where(.ag-ltr) :where(.ag-header-cell:not(.ag-right-aligned-header)){.ag-header-label-icon,.ag-header-menu-icon{margin-left:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-header-cell:not(.ag-right-aligned-header)){.ag-header-label-icon,.ag-header-menu-icon{margin-right:var(--ag-spacing)}}:where(.ag-ltr) :where(.ag-header-cell.ag-right-aligned-header){.ag-header-label-icon,.ag-header-menu-icon{margin-right:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-header-cell.ag-right-aligned-header){.ag-header-label-icon,.ag-header-menu-icon{margin-left:var(--ag-spacing)}}.ag-header-cell:after,.ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{content:\\\"\\\";height:var(--ag-header-column-border-height);position:absolute;top:calc(50% - var(--ag-header-column-border-height)*.5);z-index:1}:where(.ag-ltr) .ag-header-cell:after,:where(.ag-ltr) .ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{border-right:var(--ag-header-column-border);right:0}:where(.ag-rtl) .ag-header-cell:after,:where(.ag-rtl) .ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{border-left:var(--ag-header-column-border);left:0}.ag-header-highlight-after:after,.ag-header-highlight-before:after{background-color:var(--ag-accent-color);content:\\\"\\\";height:100%;position:absolute;width:1px}:where(.ag-ltr) .ag-header-highlight-before:after{left:0}:where(.ag-rtl) .ag-header-highlight-before:after{right:0}:where(.ag-ltr) .ag-header-highlight-after:after{right:0;:where(.ag-pinned-left-header) &{right:1px}}:where(.ag-rtl) .ag-header-highlight-after:after{left:0;:where(.ag-pinned-left-header) &{left:1px}}.ag-header-cell-resize{align-items:center;cursor:ew-resize;display:flex;height:100%;position:absolute;top:0;width:8px;z-index:2;&:after{background-color:var(--ag-header-column-resize-handle-color);content:\\\"\\\";height:var(--ag-header-column-resize-handle-height);position:absolute;top:calc(50% - var(--ag-header-column-resize-handle-height)*.5);width:var(--ag-header-column-resize-handle-width);z-index:1}}:where(.ag-ltr) .ag-header-cell-resize{right:-3px;&:after{left:calc(50% - var(--ag-header-column-resize-handle-width))}}:where(.ag-rtl) .ag-header-cell-resize{left:-3px;&:after{right:calc(50% - var(--ag-header-column-resize-handle-width))}}:where(.ag-header-cell.ag-header-span-height) .ag-header-cell-resize:after{height:calc(100% - var(--ag-spacing)*4);top:calc(var(--ag-spacing)*2)}.ag-header-group-cell-no-group:where(.ag-header-span-height){display:none}.ag-sort-indicator-container{display:flex;gap:var(--ag-spacing)}.ag-layout-print{&.ag-body{display:block;height:unset}&.ag-root-wrapper{display:inline-block}.ag-body-horizontal-scroll,.ag-body-vertical-scroll{display:none}&.ag-force-vertical-scroll{overflow-y:visible!important}}@media print{.ag-root-wrapper.ag-layout-print{display:table;.ag-body-horizontal-scroll-viewport,.ag-body-viewport,.ag-center-cols-container,.ag-center-cols-viewport,.ag-root,.ag-root-wrapper-body,.ag-virtual-list-viewport{display:block!important;height:auto!important;overflow:hidden!important}.ag-cell,.ag-row{-moz-column-break-inside:avoid;break-inside:avoid}}}ag-grid,ag-grid-angular{display:block}.ag-chart,.ag-dnd-ghost,.ag-popup,.ag-root-wrapper{cursor:default;line-height:normal;white-space:normal;-webkit-font-smoothing:antialiased;background-color:var(--ag-background-color);color:var(--ag-text-color);color-scheme:var(--ag-browser-color-scheme);font-family:var(--ag-font-family);font-size:var(--ag-font-size);--ag-indentation-level:0}.ag-root-wrapper{border:var(--ag-wrapper-border);border-radius:var(--ag-wrapper-border-radius);display:flex;flex-direction:column;overflow:hidden;position:relative;&.ag-layout-normal{height:100%}}.ag-root-wrapper-body{display:flex;flex-direction:row;&.ag-layout-normal{flex:1 1 auto;height:0;min-height:0}}.ag-root{display:flex;flex-direction:column;position:relative;&.ag-layout-auto-height,&.ag-layout-normal{flex:1 1 auto;overflow:hidden;width:0}&.ag-layout-normal{height:100%}}.ag-drag-handle{color:var(--ag-drag-handle-color);cursor:grab}.ag-list-item,.ag-virtual-list-item{height:var(--ag-list-item-height)}.ag-virtual-list-item{position:absolute;width:100%}.ag-select-list{background-color:var(--ag-picker-list-background-color);border:var(--ag-picker-list-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);overflow:hidden auto}.ag-list-item{align-items:center;display:flex;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;&.ag-active-item{background-color:var(--ag-row-hover-color)}}.ag-select-list-item{cursor:default;-webkit-user-select:none;-moz-user-select:none;user-select:none;:where(span){overflow:hidden;text-overflow:ellipsis;white-space:nowrap}}:where(.ag-ltr) .ag-select-list-item{padding-left:calc(var(--ag-cell-horizontal-padding)/2)}:where(.ag-rtl) .ag-select-list-item{padding-right:calc(var(--ag-cell-horizontal-padding)/2)}.ag-list-item-hovered:after{background-color:var(--ag-accent-color);content:\\\"\\\";height:1px;left:0;position:absolute;right:0}.ag-item-highlight-top:after{top:0}.ag-item-highlight-bottom:after{bottom:0}:where(.ag-icon):before{align-items:center;background-color:currentcolor;color:inherit;content:\\\"\\\";display:flex;font-family:inherit;font-size:var(--ag-icon-size);font-style:normal;font-variant:normal;height:var(--ag-icon-size);justify-content:center;line-height:var(--ag-icon-size);-webkit-mask-size:contain;mask-size:contain;text-transform:none;width:var(--ag-icon-size)}.ag-icon{background-position:50%;background-repeat:no-repeat;background-size:contain;color:var(--ag-icon-color);display:block;height:var(--ag-icon-size);position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:var(--ag-icon-size)}.ag-column-select-column-group-readonly,.ag-column-select-column-readonly,.ag-disabled,[disabled]{.ag-icon{opacity:.5}&.ag-icon-grip{opacity:.35}}.ag-column-select-column-readonly{&.ag-icon-grip,.ag-icon-grip{opacity:.35}}.ag-chart-menu-icon,.ag-chart-settings-next,.ag-chart-settings-prev,.ag-column-group-icons,.ag-column-select-header-icon,.ag-filter-toolpanel-expand,.ag-floating-filter-button-button,.ag-group-title-bar-icon,.ag-header-cell-filter-button,.ag-header-cell-menu-button,.ag-header-expand-icon,.ag-panel-title-bar-button,.ag-panel-title-bar-button-icon,.ag-set-filter-group-icons,:where(.ag-group-contracted) .ag-icon,:where(.ag-group-expanded) .ag-icon{background-color:var(--ag-icon-button-background-color);border-radius:var(--ag-icon-button-border-radius);box-shadow:0 0 0 var(--ag-icon-button-background-spread) var(--ag-icon-button-background-color);color:var(--ag-icon-button-color);&:hover{background-color:var(--ag-icon-button-hover-background-color);box-shadow:0 0 0 var(--ag-icon-button-background-spread) var(--ag-icon-button-hover-background-color);color:var(--ag-icon-button-hover-color)}}.ag-filter-active{background-image:linear-gradient(var(--ag-icon-button-active-background-color),var(--ag-icon-button-active-background-color));border-radius:1px;outline:solid var(--ag-icon-button-background-spread) var(--ag-icon-button-active-background-color);position:relative;&:after{background-color:var(--ag-accent-color);border-radius:50%;content:\\\"\\\";height:6px;position:absolute;top:-1px;width:6px}:where(.ag-icon-filter){clip-path:path(\\\"M8,0C8,4.415 11.585,8 16,8L16,16L0,16L0,0L8,0Z\\\");color:var(--ag-icon-button-active-color)}}:where(.ag-ltr) .ag-filter-active{&:after{right:-1px}}:where(.ag-rtl) .ag-filter-active{&:after{left:-1px}}.ag-menu{background-color:var(--ag-menu-background-color);border:var(--ag-menu-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-menu-shadow);color:var(--ag-menu-text-color);max-height:100%;overflow-y:auto}.ag-menu,.ag-resizer{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-resizer{pointer-events:none;z-index:1}:where(.ag-resizer){&.ag-resizer-topLeft{cursor:nwse-resize;height:5px;left:0;top:0;width:5px}&.ag-resizer-top{cursor:ns-resize;height:5px;left:5px;right:5px;top:0}&.ag-resizer-topRight{cursor:nesw-resize;height:5px;right:0;top:0;width:5px}&.ag-resizer-right{bottom:5px;cursor:ew-resize;right:0;top:5px;width:5px}&.ag-resizer-bottomRight{bottom:0;cursor:nwse-resize;height:5px;right:0;width:5px}&.ag-resizer-bottom{bottom:0;cursor:ns-resize;height:5px;left:5px;right:5px}&.ag-resizer-bottomLeft{bottom:0;cursor:nesw-resize;height:5px;left:0;width:5px}&.ag-resizer-left{bottom:5px;cursor:ew-resize;left:0;top:5px;width:5px}}\";// packages/ag-grid-community/src/theming/inject.ts\nvar IS_SSR=typeof window!==\"object\"||!((_window=window)!==null&&_window!==void 0&&(_window=_window.document)!==null&&_window!==void 0&&(_window=_window.fonts)!==null&&_window!==void 0&&_window.forEach);var _injectGlobalCSS=(css,styleContainer,debugId,layer,priority,nonce)=>{if(IS_SSR)return;if(FORCE_LEGACY_THEMES)return;if(layer){css=\"@layer \".concat(CSS.escape(layer),\" { \").concat(css,\" }\");}var injections=injectionState.map.get(styleContainer);if(!injections){injections=[];injectionState.map.set(styleContainer,injections);}if(injections.find(i=>i.css===css))return;var el=document.createElement(\"style\");if(nonce){el.setAttribute(\"nonce\",nonce);}el.dataset.agGlobalCss=debugId;el.textContent=css;var newInjection={css,el,priority};var insertAfter;for(var injection of injections){if(injection.priority>priority)break;insertAfter=injection;}if(insertAfter){insertAfter.el.insertAdjacentElement(\"afterend\",el);var index=injections.indexOf(insertAfter);injections.splice(index+1,0,newInjection);}else{styleContainer.insertBefore(el,styleContainer.querySelector(\":not(title, meta)\"));injections.push(newInjection);}};var _injectCoreAndModuleCSS=(styleContainer,layer,nonce)=>{_injectGlobalCSS(coreCSS,styleContainer,\"core\",layer,0,nonce);Array.from(_getAllRegisteredModules()).sort((a,b)=>a.moduleName.localeCompare(b.moduleName)).forEach(module=>{var _module$css;return(_module$css=module.css)===null||_module$css===void 0?void 0:_module$css.forEach(css=>_injectGlobalCSS(css,styleContainer,\"module-\".concat(module.moduleName),layer,0,nonce));});};var _registerGridUsingThemingAPI=environment=>{injectionState.grids.add(environment);};var _unregisterGridUsingThemingAPI=environment=>{injectionState.grids.delete(environment);if(injectionState.grids.size===0){injectionState.map=/* @__PURE__ */new WeakMap();for(var style of document.head.querySelectorAll(\"style[data-ag-global-css]\")){style.remove();}}};var _a;var injectionState=(_a$agStyleInjectionSt=(_a=typeof window===\"object\"?window:{}).agStyleInjectionState)!==null&&_a$agStyleInjectionSt!==void 0?_a$agStyleInjectionSt:_a.agStyleInjectionState={map:/* @__PURE__ */new WeakMap(),grids:/* @__PURE__ */new Set()};// packages/ag-grid-community/src/theming/Part.ts\nvar createPart=args=>{return new PartImpl(args);};var defaultModeName=\"$default\";var partCounter=0;var PartImpl=class{constructor(_ref50){var _modeParams$defaultMo;var{feature,params,modeParams={},css,cssImports}=_ref50;this.feature=feature;this.css=css;this.cssImports=cssImports;this.modeParams=_objectSpread({// NOTE: it's important that default is defined first, putting it\n// first in iteration order, because when merging params the default\n// params override any prior modal params, so modal params in this\n// part need to come after default params to prevent them from being\n// immediately overridden.\n[defaultModeName]:_objectSpread(_objectSpread({},(_modeParams$defaultMo=modeParams[defaultModeName])!==null&&_modeParams$defaultMo!==void 0?_modeParams$defaultMo:{}),params!==null&&params!==void 0?params:{})},modeParams);}use(styleContainer,layer,nonce){var inject=this._inject;if(inject==null){var{css}=this;if(css){var _this$feature;var className=\"ag-theme-\".concat((_this$feature=this.feature)!==null&&_this$feature!==void 0?_this$feature:\"part\",\"-\").concat(++partCounter);if(typeof css===\"function\")css=css();css=\":where(.\".concat(className,\") {\\n\").concat(css,\"\\n}\\n\");for(var cssImport of(_this$cssImports=this.cssImports)!==null&&_this$cssImports!==void 0?_this$cssImports:[]){var _this$cssImports;css=\"@import url(\".concat(JSON.stringify(cssImport),\");\\n\").concat(css);}inject={css,class:className};}else{inject=false;}this._inject=inject;}if(inject&&styleContainer){_injectGlobalCSS(inject.css,styleContainer,inject.class,layer,1,nonce);}return inject?inject.class:false;}};// packages/ag-grid-community/src/theming/theme-utils.ts\nvar kebabCase=str=>str.replace(/[A-Z]/g,m=>\"-\".concat(m)).toLowerCase();var paramToVariableName=paramName=>\"--ag-\".concat(kebabCase(paramName));var paramToVariableExpression=paramName=>\"var(\".concat(paramToVariableName(paramName),\")\");var clamp=(value,min,max)=>Math.max(min,Math.min(max,value));var memoize=fn=>{var values=/* @__PURE__ */new Map();return a=>{var key=a;if(!values.has(key)){values.set(key,fn(a));}return values.get(key);};};var accentMix=mix=>({ref:\"accentColor\",mix});var foregroundMix=mix=>({ref:\"foregroundColor\",mix});var foregroundBackgroundMix=mix=>({ref:\"foregroundColor\",mix,onto:\"backgroundColor\"});var foregroundHeaderBackgroundMix=mix=>({ref:\"foregroundColor\",mix,onto:\"headerBackgroundColor\"});var backgroundColor={ref:\"backgroundColor\"};var foregroundColor={ref:\"foregroundColor\"};var accentColor={ref:\"accentColor\"};// packages/ag-grid-community/src/theming/core/core-css.ts\nvar defaultLightColorSchemeParams={backgroundColor:\"#fff\",foregroundColor:\"#181d1f\",borderColor:foregroundMix(0.15),chromeBackgroundColor:foregroundBackgroundMix(0.02),browserColorScheme:\"light\"};var coreDefaults=_objectSpread(_objectSpread({},defaultLightColorSchemeParams),{},{textColor:foregroundColor,accentColor:\"#2196f3\",invalidColor:\"#e02525\",wrapperBorder:true,rowBorder:true,headerRowBorder:true,footerRowBorder:{ref:\"rowBorder\"},columnBorder:{style:\"solid\",width:1,color:\"transparent\"},headerColumnBorder:false,headerColumnBorderHeight:\"100%\",pinnedColumnBorder:true,pinnedRowBorder:true,sidePanelBorder:true,sideBarPanelWidth:250,sideBarBackgroundColor:{ref:\"chromeBackgroundColor\"},sideButtonBarBackgroundColor:{ref:\"sideBarBackgroundColor\"},sideButtonBarTopPadding:0,sideButtonSelectedUnderlineWidth:2,sideButtonSelectedUnderlineColor:\"transparent\",sideButtonSelectedUnderlineTransitionDuration:0,sideButtonBackgroundColor:\"transparent\",sideButtonTextColor:{ref:\"textColor\"},sideButtonHoverBackgroundColor:{ref:\"sideButtonBackgroundColor\"},sideButtonHoverTextColor:{ref:\"sideButtonTextColor\"},sideButtonSelectedBackgroundColor:backgroundColor,sideButtonSelectedTextColor:{ref:\"sideButtonTextColor\"},sideButtonBorder:\"solid 1px transparent\",sideButtonSelectedBorder:true,sideButtonLeftPadding:{ref:\"spacing\"},sideButtonRightPadding:{ref:\"spacing\"},sideButtonVerticalPadding:{calc:\"spacing * 3\"},fontFamily:[\"-apple-system\",\"BlinkMacSystemFont\",\"Segoe UI\",\"Roboto\",\"Oxygen-Sans\",\"Ubuntu\",\"Cantarell\",\"Helvetica Neue\",\"sans-serif\"],headerBackgroundColor:{ref:\"chromeBackgroundColor\"},headerFontFamily:{ref:\"fontFamily\"},cellFontFamily:{ref:\"fontFamily\"},headerFontWeight:500,headerFontSize:{ref:\"fontSize\"},dataFontSize:{ref:\"fontSize\"},headerTextColor:{ref:\"textColor\"},headerCellHoverBackgroundColor:\"transparent\",headerCellMovingBackgroundColor:{ref:\"headerCellHoverBackgroundColor\"},headerCellBackgroundTransitionDuration:\"0.2s\",cellTextColor:{ref:\"textColor\"},subtleTextColor:{ref:\"textColor\",mix:0.5},rangeSelectionBorderStyle:\"solid\",rangeSelectionBorderColor:accentColor,rangeSelectionBackgroundColor:accentMix(0.2),rangeSelectionChartBackgroundColor:\"#0058FF1A\",rangeSelectionChartCategoryBackgroundColor:\"#00FF841A\",rangeSelectionHighlightColor:accentMix(0.5),rangeHeaderHighlightColor:foregroundHeaderBackgroundMix(0.08),rowNumbersSelectedColor:accentMix(0.5),rowHoverColor:accentMix(0.08),columnHoverColor:accentMix(0.05),selectedRowBackgroundColor:accentMix(0.12),modalOverlayBackgroundColor:{ref:\"backgroundColor\",mix:0.66},oddRowBackgroundColor:backgroundColor,borderWidth:1,borderRadius:4,wrapperBorderRadius:8,cellHorizontalPadding:{calc:\"spacing * 2 * cellHorizontalPaddingScale\"},cellWidgetSpacing:{calc:\"spacing * 1.5\"},cellHorizontalPaddingScale:1,rowGroupIndentSize:{calc:\"cellWidgetSpacing + iconSize\"},valueChangeDeltaUpColor:\"#43a047\",valueChangeDeltaDownColor:\"#e53935\",valueChangeValueHighlightBackgroundColor:\"#16a08580\",spacing:8,fontSize:14,rowHeight:{calc:\"max(iconSize, dataFontSize) + spacing * 3.25 * rowVerticalPaddingScale\"},rowVerticalPaddingScale:1,headerHeight:{calc:\"max(iconSize, dataFontSize) + spacing * 4 * headerVerticalPaddingScale\"},headerVerticalPaddingScale:1,paginationPanelHeight:{ref:\"rowHeight\",calc:\"max(rowHeight, 22px)\"},popupShadow:\"0 0 16px #00000026\",cardShadow:\"0 1px 4px 1px #00000018\",dropdownShadow:{ref:\"cardShadow\"},dragAndDropImageBackgroundColor:backgroundColor,dragAndDropImageBorder:true,dragAndDropImageShadow:{ref:\"popupShadow\"},dragHandleColor:foregroundMix(0.7),focusShadow:{spread:3,color:accentMix(0.5)},focusErrorShadow:{spread:3,color:{ref:\"invalidColor\",onto:\"backgroundColor\",mix:0.5}},headerColumnResizeHandleHeight:\"30%\",headerColumnResizeHandleWidth:2,headerColumnResizeHandleColor:{ref:\"borderColor\"},widgetContainerHorizontalPadding:{calc:\"spacing * 1.5\"},widgetContainerVerticalPadding:{calc:\"spacing * 1.5\"},widgetHorizontalSpacing:{calc:\"spacing * 1.5\"},widgetVerticalSpacing:{ref:\"spacing\"},listItemHeight:{calc:\"max(iconSize, dataFontSize) + widgetVerticalSpacing\"},iconSize:16,iconColor:\"inherit\",iconButtonColor:{ref:\"iconColor\"},iconButtonBackgroundColor:\"transparent\",iconButtonBackgroundSpread:4,iconButtonBorderRadius:1,iconButtonHoverColor:{ref:\"iconButtonColor\"},iconButtonHoverBackgroundColor:foregroundMix(0.1),iconButtonActiveColor:accentColor,iconButtonActiveBackgroundColor:accentMix(0.28),iconButtonActiveIndicatorColor:accentColor,toggleButtonWidth:28,toggleButtonHeight:18,toggleButtonOnBackgroundColor:accentColor,toggleButtonOffBackgroundColor:foregroundBackgroundMix(0.3),toggleButtonSwitchBackgroundColor:backgroundColor,toggleButtonSwitchInset:2,menuBorder:{color:foregroundMix(0.2)},menuBackgroundColor:foregroundBackgroundMix(0.03),menuTextColor:foregroundBackgroundMix(0.95),menuShadow:{ref:\"popupShadow\"},menuSeparatorColor:{ref:\"borderColor\"},setFilterIndentSize:{ref:\"iconSize\"},chartMenuPanelWidth:260,chartMenuLabelColor:foregroundMix(0.8),dialogShadow:{ref:\"popupShadow\"},cellEditingBorder:{color:accentColor},cellEditingShadow:{ref:\"cardShadow\"},fullRowEditInvalidBackgroundColor:{ref:\"invalidColor\",onto:\"backgroundColor\",mix:0.25},dialogBorder:{color:foregroundMix(0.2)},panelBackgroundColor:backgroundColor,panelTitleBarBackgroundColor:{ref:\"headerBackgroundColor\"},panelTitleBarIconColor:{ref:\"headerTextColor\"},panelTitleBarTextColor:{ref:\"headerTextColor\"},panelTitleBarFontWeight:{ref:\"headerFontWeight\"},panelTitleBarBorder:true,columnSelectIndentSize:{ref:\"iconSize\"},toolPanelSeparatorBorder:true,tooltipBackgroundColor:{ref:\"chromeBackgroundColor\"},tooltipErrorBackgroundColor:{ref:\"invalidColor\",onto:\"backgroundColor\",mix:0.1},tooltipTextColor:{ref:\"textColor\"},tooltipErrorTextColor:{ref:\"invalidColor\"},tooltipBorder:true,tooltipErrorBorder:{color:{ref:\"invalidColor\",onto:\"backgroundColor\",mix:0.25}},columnDropCellBackgroundColor:foregroundMix(0.07),columnDropCellTextColor:{ref:\"textColor\"},columnDropCellDragHandleColor:{ref:\"textColor\"},columnDropCellBorder:{color:foregroundMix(0.13)},selectCellBackgroundColor:foregroundMix(0.07),selectCellBorder:{color:foregroundMix(0.13)},advancedFilterBuilderButtonBarBorder:true,advancedFilterBuilderIndentSize:{calc:\"spacing * 2 + iconSize\"},advancedFilterBuilderJoinPillColor:\"#f08e8d\",advancedFilterBuilderColumnPillColor:\"#a6e194\",advancedFilterBuilderOptionPillColor:\"#f3c08b\",advancedFilterBuilderValuePillColor:\"#85c0e4\",filterPanelApplyButtonColor:backgroundColor,filterPanelApplyButtonBackgroundColor:accentColor,filterPanelCardSubtleColor:{ref:\"textColor\",mix:0.7},filterPanelCardSubtleHoverColor:{ref:\"textColor\"},findMatchColor:foregroundColor,findMatchBackgroundColor:\"#ffff00\",findActiveMatchColor:foregroundColor,findActiveMatchBackgroundColor:\"#ffa500\",filterToolPanelGroupIndent:{ref:\"spacing\"},rowLoadingSkeletonEffectColor:foregroundMix(0.15),statusBarLabelColor:foregroundColor,statusBarLabelFontWeight:500,statusBarValueColor:foregroundColor,statusBarValueFontWeight:500,pinnedSourceRowTextColor:{ref:\"textColor\"},pinnedSourceRowBackgroundColor:{ref:\"backgroundColor\"},pinnedSourceRowFontWeight:600,pinnedRowFontWeight:600,pinnedRowBackgroundColor:{ref:\"backgroundColor\"},pinnedRowTextColor:{ref:\"textColor\"}});// packages/ag-grid-community/src/theming/parts/batch-edit/batch-edit-style-default.css-GENERATED.ts\nvar batchEditStyleDefaultCSS=/*css*/\".ag-cell-batch-edit{background-color:var(--ag-cell-batch-edit-background-color);color:var(--ag-cell-batch-edit-text-color);display:inherit}.ag-row-batch-edit{background-color:var(--ag-row-batch-edit-background-color);color:var(--ag-row-batch-edit-text-color)}\";// packages/ag-grid-community/src/theming/parts/batch-edit/batch-edit-styles.ts\nvar baseParams={cellBatchEditBackgroundColor:\"rgba(220 181 139 / 16%)\",cellBatchEditTextColor:\"#422f00\",rowBatchEditBackgroundColor:{ref:\"cellBatchEditBackgroundColor\"},rowBatchEditTextColor:{ref:\"cellBatchEditTextColor\"}};var baseDarkBatchEditParams=_objectSpread(_objectSpread({},baseParams),{},{cellBatchEditTextColor:\"#f3d0b3\"});var makeBatchEditStyleBaseTreeShakeable=()=>createPart({feature:\"batchEditStyle\",params:baseParams,css:batchEditStyleDefaultCSS});var batchEditStyleBase=/* @__PURE__ */makeBatchEditStyleBaseTreeShakeable();// packages/ag-grid-community/src/theming/parts/button-style/button-style-base.css-GENERATED.ts\nvar buttonStyleBaseCSS=/*css*/\":where(.ag-button){background:none;border:none;color:inherit;cursor:pointer;font-family:inherit;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;margin:0;padding:0;text-indent:inherit;text-shadow:inherit;text-transform:inherit;word-spacing:inherit;&:disabled{cursor:default}&:focus-visible{box-shadow:var(--ag-focus-shadow);outline:none}}.ag-standard-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:var(--ag-button-background-color);border:var(--ag-button-border);border-radius:var(--ag-button-border-radius);color:var(--ag-button-text-color);cursor:pointer;font-weight:var(--ag-button-font-weight);padding:var(--ag-button-vertical-padding) var(--ag-button-horizontal-padding);&:hover{background-color:var(--ag-button-hover-background-color);border:var(--ag-button-hover-border);color:var(--ag-button-hover-text-color)}&:active{background-color:var(--ag-button-active-background-color);border:var(--ag-button-active-border);color:var(--ag-button-active-text-color)}&:disabled{background-color:var(--ag-button-disabled-background-color);border:var(--ag-button-disabled-border);color:var(--ag-button-disabled-text-color)}}\";// packages/ag-grid-community/src/theming/parts/button-style/button-styles.ts\nvar baseParams2={buttonTextColor:\"inherit\",buttonFontWeight:\"normal\",buttonBackgroundColor:\"transparent\",buttonBorder:false,buttonBorderRadius:{ref:\"borderRadius\"},buttonHorizontalPadding:{calc:\"spacing * 2\"},buttonVerticalPadding:{ref:\"spacing\"},buttonHoverTextColor:{ref:\"buttonTextColor\"},buttonHoverBackgroundColor:{ref:\"buttonBackgroundColor\"},buttonHoverBorder:{ref:\"buttonBorder\"},buttonActiveTextColor:{ref:\"buttonHoverTextColor\"},buttonActiveBackgroundColor:{ref:\"buttonHoverBackgroundColor\"},buttonActiveBorder:{ref:\"buttonHoverBorder\"},buttonDisabledTextColor:{ref:\"inputDisabledTextColor\"},buttonDisabledBackgroundColor:{ref:\"inputDisabledBackgroundColor\"},buttonDisabledBorder:{ref:\"inputDisabledBorder\"}};var makeButtonStyleBaseTreeShakeable=()=>createPart({feature:\"buttonStyle\",params:baseParams2,css:buttonStyleBaseCSS});var buttonStyleBase=/* @__PURE__ */makeButtonStyleBaseTreeShakeable();var makeButtonStyleQuartzTreeShakeable=()=>createPart({feature:\"buttonStyle\",params:_objectSpread(_objectSpread({},baseParams2),{},{buttonBackgroundColor:backgroundColor,buttonBorder:true,buttonHoverBackgroundColor:{ref:\"rowHoverColor\"},buttonActiveBorder:{color:accentColor}}),css:buttonStyleBaseCSS});var buttonStyleQuartz=/* @__PURE__ */makeButtonStyleQuartzTreeShakeable();var makeButtonStyleAlpineTreeShakeable=()=>createPart({feature:\"buttonStyle\",params:_objectSpread(_objectSpread({},baseParams2),{},{buttonBackgroundColor:backgroundColor,buttonBorder:{color:accentColor},buttonFontWeight:600,buttonTextColor:accentColor,buttonHoverBackgroundColor:{ref:\"rowHoverColor\"},buttonActiveBackgroundColor:accentColor,buttonActiveTextColor:backgroundColor}),css:buttonStyleBaseCSS});var buttonStyleAlpine=/* @__PURE__ */makeButtonStyleAlpineTreeShakeable();var makeButtonStyleBalhamTreeShakeable=()=>createPart({feature:\"buttonStyle\",params:_objectSpread(_objectSpread({},baseParams2),{},{buttonBorder:{color:foregroundColor,width:2,style:\"outset\"},buttonActiveBorder:{color:foregroundColor,width:2,style:\"inset\"},buttonBackgroundColor:foregroundBackgroundMix(0.07),buttonHoverBackgroundColor:backgroundColor,buttonVerticalPadding:{calc:\"spacing * 0.5\"}}),css:buttonStyleBaseCSS});var buttonStyleBalham=/* @__PURE__ */makeButtonStyleBalhamTreeShakeable();// packages/ag-grid-community/src/theming/parts/column-drop-style/column-drop-style-bordered.css-GENERATED.ts\nvar columnDropStyleBorderedCSS=/*css*/\".ag-column-drop-vertical-empty-message{align-items:center;border:dashed var(--ag-border-width);border-color:var(--ag-border-color);display:flex;inset:0;justify-content:center;margin:calc(var(--ag-spacing)*1.5) calc(var(--ag-spacing)*2);overflow:hidden;padding:calc(var(--ag-spacing)*2);position:absolute}\";// packages/ag-grid-community/src/theming/parts/column-drop-style/column-drop-style-plain.css-GENERATED.ts\nvar columnDropStylePlainCSS=/*css*/\".ag-column-drop-vertical-empty-message{color:var(--ag-subtle-text-color);font-size:calc(var(--ag-font-size) - 1px);font-weight:600;padding-top:var(--ag-spacing)}:where(.ag-ltr) .ag-column-drop-vertical-empty-message{padding-left:calc(var(--ag-icon-size) + var(--ag-spacing) + var(--ag-widget-horizontal-spacing));padding-right:var(--ag-spacing)}:where(.ag-rtl) .ag-column-drop-vertical-empty-message{padding-left:var(--ag-spacing);padding-right:calc(var(--ag-icon-size) + var(--ag-spacing) + var(--ag-widget-horizontal-spacing))}\";// packages/ag-grid-community/src/theming/parts/column-drop-style/column-drop-styles.ts\nvar makeColumnDropStyleBorderedTreeShakeable=()=>{return createPart({feature:\"columnDropStyle\",css:columnDropStyleBorderedCSS});};var columnDropStyleBordered=/* @__PURE__ */makeColumnDropStyleBorderedTreeShakeable();var makeColumnDropStylePlainTreeShakeable=()=>{return createPart({feature:\"columnDropStyle\",css:columnDropStylePlainCSS});};var columnDropStylePlain=/* @__PURE__ */makeColumnDropStylePlainTreeShakeable();// packages/ag-grid-community/src/theming/theme-types.ts\nvar paramTypes=[\"colorScheme\",\"color\",\"length\",\"scale\",\"borderStyle\",\"border\",\"shadow\",\"image\",\"fontFamily\",\"fontWeight\",\"duration\"];var getParamType=memoize(param=>{var _paramTypes$find;param=param.toLowerCase();return(_paramTypes$find=paramTypes.find(type=>param.endsWith(type.toLowerCase())))!==null&&_paramTypes$find!==void 0?_paramTypes$find:\"length\";});var literalToCSS=value=>{if(typeof value===\"object\"&&value!==null&&value!==void 0&&value.ref)return paramToVariableExpression(value.ref);if(typeof value===\"string\")return value;if(typeof value===\"number\")return String(value);return false;};var colorValueToCss=value=>{if(typeof value===\"string\")return value;if(value&&\"ref\"in value){var colorExpr=paramToVariableExpression(value.ref);if(value.mix==null){return colorExpr;}var backgroundExpr=value.onto?paramToVariableExpression(value.onto):\"transparent\";return\"color-mix(in srgb, \".concat(backgroundExpr,\", \").concat(colorExpr,\" \").concat(clamp(value.mix*100,0,100),\"%)\");}return false;};var colorSchemeValueToCss=literalToCSS;var lengthValueToCss=value=>{if(typeof value===\"string\")return value;if(typeof value===\"number\")return\"\".concat(value,\"px\");if(value&&\"calc\"in value){var valueWithSpaces=value.calc.replace(/ ?[*/+] ?/g,\" $& \");return\"calc(\".concat(valueWithSpaces.replace(/-?\\b[a-z][a-z0-9]*\\b(?![-(])/gi,p=>p[0]===\"-\"?p:\" \".concat(paramToVariableExpression(p),\" \")),\")\");}if(value&&\"ref\"in value)return paramToVariableExpression(value.ref);return false;};var scaleValueToCss=literalToCSS;var borderValueToCss=(value,param)=>{var _value$style,_value$width,_value$color;if(typeof value===\"string\")return value;if(value===true)return borderValueToCss({},param);if(value===false)return param===\"columnBorder\"?borderValueToCss({color:\"transparent\"},param):\"none\";if(value&&\"ref\"in value)return paramToVariableExpression(value.ref);return borderStyleValueToCss((_value$style=value.style)!==null&&_value$style!==void 0?_value$style:\"solid\")+\" \"+lengthValueToCss((_value$width=value.width)!==null&&_value$width!==void 0?_value$width:{ref:\"borderWidth\"})+\" \"+colorValueToCss((_value$color=value.color)!==null&&_value$color!==void 0?_value$color:{ref:\"borderColor\"});};var shadowValueToCss=value=>{var _value$offsetX,_value$offsetY,_value$radius,_value$spread,_value$color2;if(typeof value===\"string\")return value;if(value===false)return\"none\";if(value&&\"ref\"in value)return paramToVariableExpression(value.ref);return[lengthValueToCss((_value$offsetX=value.offsetX)!==null&&_value$offsetX!==void 0?_value$offsetX:0),lengthValueToCss((_value$offsetY=value.offsetY)!==null&&_value$offsetY!==void 0?_value$offsetY:0),lengthValueToCss((_value$radius=value.radius)!==null&&_value$radius!==void 0?_value$radius:0),lengthValueToCss((_value$spread=value.spread)!==null&&_value$spread!==void 0?_value$spread:0),colorValueToCss((_value$color2=value.color)!==null&&_value$color2!==void 0?_value$color2:{ref:\"foregroundColor\"})].join(\" \");};var borderStyleValueToCss=literalToCSS;var fontFamilyValueToCss=value=>{if(typeof value===\"string\")return value.includes(\",\")?value:quoteUnsafeChars(value);if(value&&\"googleFont\"in value)return fontFamilyValueToCss(value.googleFont);if(value&&\"ref\"in value)return paramToVariableExpression(value.ref);if(Array.isArray(value)){return value.map(font=>{if(typeof font===\"object\"&&\"googleFont\"in font){font=font.googleFont;}return quoteUnsafeChars(font);}).join(\", \");}return false;};var quoteUnsafeChars=font=>// don't quote var() expressions or quote safe identifier names, so that\n// people can specify fonts like sans-serif which are keywords not strings,\n// or var(--my-var)\n/^[\\w-]+$|\\w\\(/.test(font)?font:JSON.stringify(font);var fontWeightValueToCss=literalToCSS;var imageValueToCss=value=>{if(typeof value===\"string\")return value;if(value&&\"url\"in value)return\"url(\".concat(JSON.stringify(value.url),\")\");if(value&&\"svg\"in value)return imageValueToCss({url:\"data:image/svg+xml,\".concat(encodeURIComponent(value.svg))});if(value&&\"ref\"in value)return paramToVariableExpression(value.ref);return false;};var durationValueToCss=(value,param)=>{if(typeof value===\"string\")return value;if(typeof value===\"number\"){if(value>=10){_error(104,{value,param});}return\"\".concat(value,\"s\");}if(value&&\"ref\"in value)return paramToVariableExpression(value.ref);return false;};var paramValidators={color:colorValueToCss,colorScheme:colorSchemeValueToCss,length:lengthValueToCss,scale:scaleValueToCss,border:borderValueToCss,borderStyle:borderStyleValueToCss,shadow:shadowValueToCss,image:imageValueToCss,fontFamily:fontFamilyValueToCss,fontWeight:fontWeightValueToCss,duration:durationValueToCss};var paramValueToCss=(param,value)=>{var type=getParamType(param);return paramValidators[type](value,param);};// packages/ag-grid-community/src/theming/Theme.ts\nvar FORCE_LEGACY_THEMES=false;var _asThemeImpl=theme=>{if(!(theme instanceof ThemeImpl)){throw new Error(\"theme is not an object created by createTheme\");}return theme;};var createTheme=()=>new ThemeImpl().withPart(buttonStyleQuartz).withPart(columnDropStyleBordered).withPart(batchEditStyleBase);var ThemeImpl=class _ThemeImpl{constructor(){var parts=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];this.parts=parts;}withPart(part){if(typeof part===\"function\")part=part();if(!(part instanceof PartImpl)){_logPreInitErr(259,{part},\"Invalid part\");return this;}return new _ThemeImpl([...this.parts,part]);}withoutPart(feature){return this.withPart(createPart({feature}));}withParams(params){var mode=arguments.length>1&&arguments[1]!==undefined?arguments[1]:defaultModeName;return this.withPart(createPart({modeParams:{[mode]:params}}));}/**\n   * Called by a grid instance when it starts using the theme. This installs\n   * the theme's parts into document head, or the shadow DOM if the provided\n   * container is within a shadow root.\n   */_startUse(_ref51){var{styleContainer,cssLayer,nonce,loadThemeGoogleFonts}=_ref51;if(IS_SSR)return;if(FORCE_LEGACY_THEMES)return;uninstallLegacyCSS();_injectCoreAndModuleCSS(styleContainer,cssLayer,nonce);var googleFontsUsed=getGoogleFontsUsed(this);if(googleFontsUsed.length>0){for(var googleFont of googleFontsUsed){if(loadThemeGoogleFonts){loadGoogleFont(googleFont,nonce);}}}for(var part of this.parts){part.use(styleContainer,cssLayer,nonce);}}/**\n   * Return CSS that that applies the params of this theme to elements with\n   * the provided class name\n   */_getCssClass(){var _this$_cssClassCache;if(FORCE_LEGACY_THEMES)return\"ag-theme-quartz\";return(_this$_cssClassCache=this._cssClassCache)!==null&&_this$_cssClassCache!==void 0?_this$_cssClassCache:this._cssClassCache=deduplicatePartsByFeature(this.parts).map(part=>part.use(void 0,void 0,void 0)).filter(Boolean).join(\" \");}_getModeParams(){var paramsCache=this._paramsCache;if(!paramsCache){var mergedModeParams={// NOTE: defining the default mode here is important, it ensures\n// that the default mode is first in iteration order, which puts\n// it first in outputted CSS, allowing other modes to override it\n[defaultModeName]:_objectSpread({},coreDefaults)};for(var part of deduplicatePartsByFeature(this.parts)){for(var partMode of Object.keys(part.modeParams)){var partParams=part.modeParams[partMode];if(partParams){var _mergedModeParams$par;var mergedParams=(_mergedModeParams$par=mergedModeParams[partMode])!==null&&_mergedModeParams$par!==void 0?_mergedModeParams$par:mergedModeParams[partMode]={};var partParamNames=/* @__PURE__ */new Set();for(var partParamName of Object.keys(partParams)){var partParamValue=partParams[partParamName];if(partParamValue!==void 0){mergedParams[partParamName]=partParamValue;partParamNames.add(partParamName);}}if(partMode===defaultModeName){for(var mergedMode of Object.keys(mergedModeParams)){var mergedParams2=mergedModeParams[mergedMode];if(mergedMode!==defaultModeName){for(var _partParamName of partParamNames){delete mergedParams2[_partParamName];}}}}}}}this._paramsCache=paramsCache=mergedModeParams;}return paramsCache;}/**\n   * Return the CSS chunk that is inserted into the grid DOM, and will\n   * therefore be removed automatically when the grid is destroyed or it\n   * starts to use a new theme.\n   *\n   * @param className a unique class name on the grid wrapper used to scope the returned CSS to the grid instance\n   */_getPerGridCss(className){var selectorPlaceholder=\"##SELECTOR##\";var innerParamsCss=this._paramsCssCache;if(!innerParamsCss){var variablesCss=\"\";var inheritanceCss=\"\";var modeParams=this._getModeParams();for(var mode of Object.keys(modeParams)){var params=modeParams[mode];if(mode!==defaultModeName){var escapedMode=typeof CSS===\"object\"?CSS.escape(mode):mode;var wrapPrefix=\":where([data-ag-theme-mode=\\\"\".concat(escapedMode,\"\\\"]) & {\\n\");variablesCss+=wrapPrefix;inheritanceCss+=wrapPrefix;}for(var key of Object.keys(params).sort()){var value=params[key];var cssValue=paramValueToCss(key,value);if(cssValue===false){_error(107,{key,value});}else{var cssName=paramToVariableName(key);var inheritedName=cssName.replace(\"--ag-\",\"--ag-inherited-\");variablesCss+=\"\\t\".concat(cssName,\": var(\").concat(inheritedName,\", \").concat(cssValue,\");\\n\");inheritanceCss+=\"\\t\".concat(inheritedName,\": var(\").concat(cssName,\");\\n\");}}if(mode!==defaultModeName){variablesCss+=\"}\\n\";inheritanceCss+=\"}\\n\";}}var css=\"\".concat(selectorPlaceholder,\" {\\n\").concat(variablesCss,\"}\\n\");css+=\":has(> \".concat(selectorPlaceholder,\"):not(\").concat(selectorPlaceholder,\") {\\n\").concat(inheritanceCss,\"}\\n\");this._paramsCssCache=innerParamsCss=css;}return innerParamsCss.replaceAll(selectorPlaceholder,\":where(.\".concat(className,\")\"));}};var deduplicatePartsByFeature=parts=>{var lastPartByFeature=/* @__PURE__ */new Map();for(var part of parts){lastPartByFeature.set(part.feature,part);}var result=[];for(var _part of parts){if(!_part.feature||lastPartByFeature.get(_part.feature)===_part){result.push(_part);}}return result;};var getGoogleFontsUsed=theme=>{var googleFontsUsed=/* @__PURE__ */new Set();var visitParamValue=paramValue=>{if(Array.isArray(paramValue)){paramValue.forEach(visitParamValue);}else{var googleFont=paramValue===null||paramValue===void 0?void 0:paramValue.googleFont;if(typeof googleFont===\"string\"){googleFontsUsed.add(googleFont);}}};var allModeValues=Object.values(theme._getModeParams());var allValues=allModeValues.flatMap(mv=>Object.values(mv));allValues.forEach(visitParamValue);return Array.from(googleFontsUsed).sort();};var uninstalledLegacyCSS=false;var uninstallLegacyCSS=()=>{if(uninstalledLegacyCSS)return;uninstalledLegacyCSS=true;for(var style of Array.from(document.head.querySelectorAll('style[data-ag-scope=\"legacy\"]'))){style.remove();}};var googleFontsLoaded=/* @__PURE__ */new Set();var loadGoogleFont=/*#__PURE__*/function(){var _ref52=_asyncToGenerator(function*(font,nonce){googleFontsLoaded.add(font);var css=\"@import url('https://\".concat(googleFontsDomain,\"/css2?family=\").concat(encodeURIComponent(font),\":wght@100;200;300;400;500;600;700;800;900&display=swap');\\n\");_injectGlobalCSS(css,document.head,\"googleFont:\".concat(font),void 0,0,nonce);});return function loadGoogleFont(_x,_x2){return _ref52.apply(this,arguments);};}();var googleFontsDomain=\"fonts.googleapis.com\";// packages/ag-grid-community/src/theming/parts/checkbox-style/checkbox-style-default.css-GENERATED.ts\nvar checkboxStyleDefaultCSS=/*css*/\".ag-checkbox-input-wrapper,.ag-radio-button-input-wrapper{background-color:var(--ag-checkbox-unchecked-background-color);border:solid var(--ag-checkbox-border-width) var(--ag-checkbox-unchecked-border-color);flex:none;height:var(--ag-icon-size);position:relative;width:var(--ag-icon-size);:where(input){-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:block;height:var(--ag-icon-size);margin:0;opacity:0;width:var(--ag-icon-size)}&:after{content:\\\"\\\";display:block;inset:0;-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;pointer-events:none;position:absolute}&:where(.ag-checked){background-color:var(--ag-checkbox-checked-background-color);border-color:var(--ag-checkbox-checked-border-color);&:after{background-color:var(--ag-checkbox-checked-shape-color)}}&:where(:focus-within,:active){box-shadow:var(--ag-focus-shadow)}&:where(.ag-disabled){filter:grayscale();opacity:.5}}.ag-checkbox-input-wrapper{border-radius:var(--ag-checkbox-border-radius);&:where(.ag-checked):after{-webkit-mask-image:var(--ag-checkbox-checked-shape-image);mask-image:var(--ag-checkbox-checked-shape-image)}&:where(.ag-indeterminate){background-color:var(--ag-checkbox-indeterminate-background-color);border-color:var(--ag-checkbox-indeterminate-border-color);&:after{background-color:var(--ag-checkbox-indeterminate-shape-color);-webkit-mask-image:var(--ag-checkbox-indeterminate-shape-image);mask-image:var(--ag-checkbox-indeterminate-shape-image)}}}.ag-cell-editing-error .ag-checkbox-input-wrapper:focus-within{box-shadow:var(--ag-focus-error-shadow)}.ag-radio-button-input-wrapper{border-radius:100%;&:where(.ag-checked):after{-webkit-mask-image:var(--ag-radio-checked-shape-image);mask-image:var(--ag-radio-checked-shape-image)}}\";// packages/ag-grid-community/src/theming/parts/checkbox-style/checkbox-styles.ts\nvar makeCheckboxStyleDefaultTreeShakeable=()=>createPart({feature:\"checkboxStyle\",params:{checkboxBorderWidth:1,checkboxBorderRadius:{ref:\"borderRadius\"},checkboxUncheckedBackgroundColor:backgroundColor,checkboxUncheckedBorderColor:foregroundBackgroundMix(0.3),checkboxCheckedBackgroundColor:accentColor,checkboxCheckedBorderColor:{ref:\"checkboxCheckedBackgroundColor\"},checkboxCheckedShapeImage:{svg:'<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"10\" height=\"7\" fill=\"none\"><path stroke=\"#000\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.75\" d=\"M1 3.5 3.5 6l5-5\"/></svg>'},checkboxCheckedShapeColor:backgroundColor,checkboxIndeterminateBackgroundColor:foregroundBackgroundMix(0.3),checkboxIndeterminateBorderColor:{ref:\"checkboxIndeterminateBackgroundColor\"},checkboxIndeterminateShapeImage:{svg:'<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"10\" height=\"2\" fill=\"none\"><rect width=\"10\" height=\"2\" fill=\"#000\" rx=\"1\"/></svg>'},checkboxIndeterminateShapeColor:backgroundColor,radioCheckedShapeImage:{svg:'<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"6\" height=\"6\" fill=\"none\"><circle cx=\"3\" cy=\"3\" r=\"3\" fill=\"#000\"/></svg>'}},css:checkboxStyleDefaultCSS});var checkboxStyleDefault=/* @__PURE__ */makeCheckboxStyleDefaultTreeShakeable();// packages/ag-grid-community/src/theming/parts/color-scheme/color-schemes.ts\nvar makeColorSchemeLightTreeShakeable=()=>createPart({feature:\"colorScheme\",params:defaultLightColorSchemeParams});var colorSchemeLight=/* @__PURE__ */makeColorSchemeLightTreeShakeable();var makeColorSchemeLightWarmTreeShakeable=()=>createPart({feature:\"colorScheme\",params:_objectSpread(_objectSpread({},defaultLightColorSchemeParams),{},{foregroundColor:\"#000000de\",borderColor:\"#60300026\",chromeBackgroundColor:\"#60300005\"})});var colorSchemeLightWarm=/* @__PURE__ */makeColorSchemeLightWarmTreeShakeable();var makeColorSchemeLightColdTreeShakeable=()=>createPart({feature:\"colorScheme\",params:_objectSpread(_objectSpread({},defaultLightColorSchemeParams),{},{foregroundColor:\"#000\",chromeBackgroundColor:\"#f3f8f8\"})});var colorSchemeLightCold=/* @__PURE__ */makeColorSchemeLightColdTreeShakeable();var darkParams=()=>_objectSpread(_objectSpread(_objectSpread({},defaultLightColorSchemeParams),baseDarkBatchEditParams),{},{backgroundColor:\"hsl(217, 0%, 17%)\",foregroundColor:\"#FFF\",chromeBackgroundColor:foregroundBackgroundMix(0.05),rowHoverColor:accentMix(0.15),selectedRowBackgroundColor:accentMix(0.2),menuBackgroundColor:foregroundBackgroundMix(0.1),browserColorScheme:\"dark\",popupShadow:\"0 0px 20px #000A\",cardShadow:\"0 1px 4px 1px #000A\",advancedFilterBuilderJoinPillColor:\"#7a3a37\",advancedFilterBuilderColumnPillColor:\"#355f2d\",advancedFilterBuilderOptionPillColor:\"#5a3168\",advancedFilterBuilderValuePillColor:\"#374c86\",filterPanelApplyButtonColor:foregroundColor,findMatchColor:backgroundColor,findActiveMatchColor:backgroundColor,checkboxUncheckedBorderColor:foregroundBackgroundMix(0.4),toggleButtonOffBackgroundColor:foregroundBackgroundMix(0.4),rowBatchEditBackgroundColor:foregroundBackgroundMix(0.1)});var makeColorSchemeDarkTreeShakeable=()=>createPart({feature:\"colorScheme\",params:darkParams()});var colorSchemeDark=/* @__PURE__ */makeColorSchemeDarkTreeShakeable();var makeColorSchemeDarkWarmTreeShakeable=()=>createPart({feature:\"colorScheme\",params:{backgroundColor:\"hsl(29, 10%, 17%)\",foregroundColor:\"#FFF\",browserColorScheme:\"dark\"}});var darkBlueParams=()=>_objectSpread(_objectSpread({},darkParams()),{},{backgroundColor:\"#1f2836\"});var colorSchemeDarkWarm=/* @__PURE__ */makeColorSchemeDarkWarmTreeShakeable();var makeColorSchemeDarkBlueTreeShakeable=()=>createPart({feature:\"colorScheme\",params:darkBlueParams()});var colorSchemeDarkBlue=/* @__PURE__ */makeColorSchemeDarkBlueTreeShakeable();var makeColorSchemeVariableTreeShakeable=()=>createPart({feature:\"colorScheme\",params:defaultLightColorSchemeParams,modeParams:{light:defaultLightColorSchemeParams,dark:darkParams(),\"dark-blue\":darkBlueParams()}});var colorSchemeVariable=/* @__PURE__ */makeColorSchemeVariableTreeShakeable();// packages/ag-grid-community/src/theming/parts/icon-set/balham/icon-set-balham.css-GENERATED.ts\nvar iconSetBalhamCSS=/*css*/\".ag-icon-aggregation:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eaggregation%3C/title%3E%3Cpath d='M25.128 2.002c2.56.096 4.772 2.292 4.87 4.87a712 712 0 0 1 0 18.256c-.096 2.56-2.292 4.772-4.87 4.87a712 712 0 0 1-18.256 0c-2.558-.096-4.772-2.29-4.87-4.87a712 712 0 0 1 0-18.256c.096-2.56 2.292-4.772 4.87-4.87a712 712 0 0 1 18.256 0M7.006 4c-1.57.02-2.946 1.348-3.004 2.922-.078 6.078-.23 12.16.002 18.234.094 1.484 1.354 2.746 2.84 2.84 6.1.232 12.212.232 18.312 0 1.48-.094 2.746-1.35 2.84-2.84.232-6.1.232-12.212 0-18.312-.094-1.48-1.35-2.746-2.84-2.84C19.11 3.774 13.056 4 7.006 4M22 12h-2v-2h-8v.092c.056 1.352 3.426 2.598 4.472 4.404.682 1.174.438 2.754-.572 3.72C14.29 19.618 12 20.924 12 22h8v-2h2v4H10c0-1.586-.098-3.304 1.016-4.314 1.904-1.632 4.89-3.108 3.54-4.42-1.918-1.68-4.464-2.936-4.554-5.12L10 8h12z'/%3E%3C/svg%3E\\\")}.ag-icon-arrows:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Earrows%3C/title%3E%3Cpath d='m6.414 17 2.294 2.292-1.416 1.416L2.586 16l4.706-4.708 1.416 1.416L6.414 15H15V6.414l-2.292 2.294-1.416-1.416L16 2.586l4.708 4.706-1.416 1.416L17 6.414V15h8.586l-2.294-2.292 1.416-1.416L29.414 16l-4.706 4.708-1.416-1.416L25.586 17H17v8.586l2.292-2.294 1.416 1.416L16 29.414l-4.708-4.706 1.416-1.416L15 25.586V17z'/%3E%3C/svg%3E\\\")}.ag-icon-asc:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Easc%3C/title%3E%3Cpath d='m15 10.621-4.292 4.294-1.416-1.416L16 6.793l6.708 6.706-1.416 1.416L17 10.621v14.586h-2z'/%3E%3C/svg%3E\\\")}.ag-icon-cancel:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Ecancel%3C/title%3E%3Cpath d='M16 4C9.378 4 4 9.378 4 16s5.378 12 12 12 12-5.378 12-12S22.622 4 16 4m0 2c5.52 0 10 4.48 10 10s-4.48 10-10 10S6 21.52 6 16 10.48 6 16 6m0 8.586 5.292-5.294 1.416 1.416L17.414 16l5.294 5.292-1.416 1.416L16 17.414l-5.292 5.294-1.416-1.416L14.586 16l-5.294-5.292 1.416-1.416z'/%3E%3C/svg%3E\\\")}.ag-icon-chart:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Echart%3C/title%3E%3Cpath d='M6.667 12.267h4v13.067h-4zm7.466-5.6h3.733v18.667h-3.733zM21.6 17.333h3.733v8H21.6z'/%3E%3C/svg%3E\\\")}.ag-icon-color-picker:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Ecolor-picker%3C/title%3E%3Cpath d='M23.907 17.587 10.574 4.254l-1.88 1.88 3.173 3.173-8.28 8.28 10.16 10.16zm-16.547 0 6.387-6.387 6.387 6.387H7.361zm18.387 2s-2.667 2.893-2.667 4.667c0 1.467 1.2 2.667 2.667 2.667s2.667-1.2 2.667-2.667c0-1.773-2.667-4.667-2.667-4.667'/%3E%3C/svg%3E\\\")}.ag-icon-columns:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Ecolumns%3C/title%3E%3Cpath d='M14 25h-2V7h2zm6 0h-2V7h2zm6 0h-2V7h2zM8 25H6V7h2z'/%3E%3C/svg%3E\\\")}.ag-icon-contracted:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Econtracted%3C/title%3E%3Cpath d='m21.061 16-8.706 8.708-1.416-1.416L18.233 16l-7.294-7.292 1.416-1.416z'/%3E%3C/svg%3E\\\")}.ag-icon-copy:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Ecopy%3C/title%3E%3Cpath d='M21.929 27.999h-7.828a5.09 5.09 0 0 1-5.086-5.086v-9.812a5.087 5.087 0 0 1 5.086-5.086h7.828a5.09 5.09 0 0 1 5.086 5.086v9.812a5.087 5.087 0 0 1-5.086 5.086m.16-17.984h-8.088a2.94 2.94 0 0 0-2.938 2.938v10.132a2.94 2.94 0 0 0 2.938 2.938h8.088a2.94 2.94 0 0 0 2.936-2.938V12.953a2.94 2.94 0 0 0-2.936-2.938M7.041 26.013h-2.05a4 4 0 0 1-.006-.228V9.065a5.07 5.07 0 0 1 5.064-5.064h12.812q.069 0 .134.002v2.012H9.915a2.876 2.876 0 0 0-2.874 2.874z'/%3E%3C/svg%3E\\\")}.ag-icon-cross:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='4 4 24 24'%3E%3Ctitle%3Ecross%3C/title%3E%3Cpath d='m16 14.586 5.292-5.294 1.416 1.416L17.414 16l5.294 5.292-1.416 1.416L16 17.414l-5.292 5.294-1.416-1.416L14.586 16l-5.294-5.292 1.416-1.416z'/%3E%3C/svg%3E\\\")}.ag-icon-csv:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M384 131.9c-7.753-8.433-110.425-128.473-114.9-133L48-.1C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48zm-35.9 2.1H257V27.9zM30 479V27h200l1 105c0 13.3-1.3 29 12 29h111l1 318z' style='fill-rule:nonzero' transform='matrix(.06285 0 0 .06285 3.934 -.054)'/%3E%3Cpath d='M.688-.226a.2.2 0 0 1-.017.074.28.28 0 0 1-.145.14.412.412 0 0 1-.234.013.28.28 0 0 1-.202-.168.468.468 0 0 1-.04-.19q0-.086.025-.155a.319.319 0 0 1 .182-.191.4.4 0 0 1 .134-.025q.087 0 .155.035a.3.3 0 0 1 .104.085.17.17 0 0 1 .036.097.06.06 0 0 1-.018.044.06.06 0 0 1-.042.019.06.06 0 0 1-.042-.013.2.2 0 0 1-.031-.046.2.2 0 0 0-.066-.079.16.16 0 0 0-.095-.027.17.17 0 0 0-.142.068.3.3 0 0 0-.053.193.4.4 0 0 0 .023.139.2.2 0 0 0 .067.083.2.2 0 0 0 .1.027q.063 0 .106-.031a.2.2 0 0 0 .065-.091.2.2 0 0 1 .023-.046q.014-.018.044-.018a.06.06 0 0 1 .044.018.06.06 0 0 1 .019.045' style='fill-rule:nonzero' transform='matrix(8.39799 0 0 12.455 7.122 25.977)'/%3E%3Cpath d='M.622-.215a.2.2 0 0 1-.033.117.23.23 0 0 1-.098.081.4.4 0 0 1-.153.029.34.34 0 0 1-.175-.04.23.23 0 0 1-.079-.077.17.17 0 0 1-.031-.093q0-.027.019-.045a.06.06 0 0 1 .046-.019.06.06 0 0 1 .039.014.1.1 0 0 1 .027.044.3.3 0 0 0 .03.057q.015.023.044.038.03.015.076.015.065 0 .105-.03a.09.09 0 0 0 .04-.075.08.08 0 0 0-.022-.058.14.14 0 0 0-.056-.034 1 1 0 0 0-.092-.025.7.7 0 0 1-.129-.042.2.2 0 0 1-.083-.066.17.17 0 0 1-.03-.104q0-.058.032-.105a.2.2 0 0 1 .093-.07.4.4 0 0 1 .144-.025q.066 0 .114.016a.3.3 0 0 1 .08.044.2.2 0 0 1 .046.057q.015.03.015.058a.07.07 0 0 1-.018.046.06.06 0 0 1-.046.021q-.025 0-.038-.012a.2.2 0 0 1-.028-.041.2.2 0 0 0-.047-.063Q.387-.625.326-.625a.15.15 0 0 0-.09.025q-.035.024-.035.059 0 .021.012.037a.1.1 0 0 0 .032.027.4.4 0 0 0 .111.036q.06.015.11.031.048.018.083.042a.2.2 0 0 1 .054.062.2.2 0 0 1 .019.091' style='fill-rule:nonzero' transform='matrix(8.39799 0 0 12.455 13.339 25.977)'/%3E%3Cpath d='m.184-.633.162.48.163-.483q.013-.038.019-.053a.062.062 0 0 1 .061-.039q.018 0 .034.009a.1.1 0 0 1 .025.025q.009.015.009.031L.654-.64l-.007.025-.009.024-.173.468-.019.051a.2.2 0 0 1-.021.042.1.1 0 0 1-.033.03.1.1 0 0 1-.049.012.1.1 0 0 1-.05-.011A.1.1 0 0 1 .26-.03a.2.2 0 0 1-.021-.042L.22-.123.05-.587.041-.612.033-.638.03-.662q0-.025.02-.046a.07.07 0 0 1 .05-.02q.037 0 .053.023.015.023.031.072' style='fill-rule:nonzero' transform='matrix(8.39799 0 0 12.455 18.94 25.977)'/%3E%3C/svg%3E\\\")}.ag-icon-cut:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M14.703 15.096 6.215 4.719a1 1 0 1 1 1.548-1.267l13.058 15.965A5.001 5.001 0 0 1 28 23.916a5 5 0 0 1-4.999 4.999 5 5 0 0 1-4.999-4.999 4.98 4.98 0 0 1 1.23-3.283l-3.238-3.958-3.272 4.001a4.98 4.98 0 0 1 1.265 3.323 5 5 0 0 1-4.999 4.999 5 5 0 0 1-4.999-4.999 5 5 0 0 1 7.13-4.522zM8.991 20.8a3.1 3.1 0 0 0-3.1 3.1c0 1.711 1.389 3.1 3.1 3.1s3.1-1.389 3.1-3.1-1.389-3.1-3.1-3.1M23 20.8a3.1 3.1 0 0 0-3.1 3.1c0 1.711 1.389 3.1 3.1 3.1s3.1-1.389 3.1-3.1-1.389-3.1-3.1-3.1m-5.723-8.852 1.292 1.579 7.205-8.808a1 1 0 0 0-1.548-1.267z' style='fill-rule:nonzero'/%3E%3C/svg%3E\\\")}.ag-icon-desc:before,.ag-icon-down:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Edesc%3C/title%3E%3Cpath d='m17 21.379 4.292-4.294 1.416 1.416L16 25.207l-6.708-6.706 1.416-1.416L15 21.379V6.793h2z'/%3E%3C/svg%3E\\\")}.ag-icon-excel:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M384 131.9c-7.753-8.433-110.425-128.473-114.9-133L48-.1C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48zm-35.9 2.1H257V27.9zM30 479V27h200l1 105c0 13.3-1.3 29 12 29h111l1 318z' style='fill-rule:nonzero' transform='matrix(.06285 0 0 .06285 3.934 -.054)'/%3E%3Cpath d='m.052-.139.16-.234-.135-.208a.4.4 0 0 1-.028-.052.1.1 0 0 1-.01-.042.05.05 0 0 1 .018-.037.07.07 0 0 1 .045-.016q.03 0 .047.018a1 1 0 0 1 .047.066l.107.174.115-.174.024-.038.019-.026.021-.015a.1.1 0 0 1 .027-.005.06.06 0 0 1 .044.016.05.05 0 0 1 .018.039q0 .033-.038.089l-.141.211.152.234a.3.3 0 0 1 .03.051.1.1 0 0 1 .009.038.1.1 0 0 1-.008.031.1.1 0 0 1-.024.023.1.1 0 0 1-.034.008.1.1 0 0 1-.035-.008.1.1 0 0 1-.023-.022L.427-.067.301-.265l-.134.204-.022.034-.016.019a.1.1 0 0 1-.022.015.1.1 0 0 1-.03.005.06.06 0 0 1-.044-.016.06.06 0 0 1-.017-.047q0-.036.036-.088' style='fill-rule:nonzero' transform='matrix(17.82892 0 0 16.50777 10.371 25.928)'/%3E%3C/svg%3E\\\")}.ag-icon-expanded:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eexpanded%3C/title%3E%3Cpath d='M21.061 8.708 13.767 16l7.294 7.292-1.416 1.416L10.939 16l8.706-8.708z'/%3E%3C/svg%3E\\\")}.ag-icon-eye-slash:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eeye-slash%3C/title%3E%3Cpath d='M9.304 7.89a15.2 15.2 0 0 1 6.404-1.638c.294-.002.292-.002.584 0 5.956.174 11.328 4.088 13.62 9.748 0 0-1.318 3.178-3.224 5.174a13.6 13.6 0 0 1-2.226 1.874L26.414 25 25 26.414l-2.336-2.336C17.866 26.396 11.776 26.15 7.36 22.96a14.9 14.9 0 0 1-4.168-4.612c-.41-.71-.694-1.336-1.104-2.348 0 0 .898-2.218 2.002-3.718a14.6 14.6 0 0 1 3.442-3.334L5.586 7 7 5.586zm-.3 2.528c-2.038 1.344-3.708 3.246-4.724 5.508L4.248 16c2.46 5.762 9.622 9.064 15.63 7.15q.688-.219 1.342-.516l-.912-.912a6.96 6.96 0 0 1-4.19 1.394c-3.862 0-7-3.136-7-7 0-1.57.52-3.022 1.394-4.19zm14.032 11.204a13.25 13.25 0 0 0 4.684-5.548l.032-.074c-1.984-4.646-6.834-7.798-12.006-7.748-1.712.05-3.386.458-4.922 1.158l1.102 1.102a6.97 6.97 0 0 1 4.192-1.396 7.003 7.003 0 0 1 5.606 11.192zm-11.09-8.262a5.003 5.003 0 0 0 6.928 6.928zm8.342 5.514a5.002 5.002 0 0 0-6.928-6.928z'/%3E%3C/svg%3E\\\")}.ag-icon-eye:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eeye%3C/title%3E%3Cpath d='M16.292 6.32c5.956.174 11.328 4.086 13.62 9.746 0 0-1.318 3.18-3.224 5.176-4.862 5.088-13.534 5.97-19.328 1.784a14.9 14.9 0 0 1-4.168-4.612c-.41-.71-.694-1.336-1.104-2.348 0 0 .898-2.216 2.002-3.716 2.678-3.64 7.03-5.896 11.618-6.03.294-.004.292-.004.584 0m-.546 2c-4.896.142-9.458 3.202-11.466 7.672l-.032.074c2.46 5.762 9.622 9.066 15.63 7.152 3.458-1.102 6.342-3.738 7.842-7.076l.032-.076C25.768 11.42 20.918 8.27 15.746 8.32m.254.946c3.754 0 6.8 3.048 6.8 6.8 0 3.754-3.046 6.8-6.8 6.8s-6.8-3.046-6.8-6.8c0-3.752 3.046-6.8 6.8-6.8m5 6.768V16c0-2.76-2.24-5-5-5s-5 2.24-5 5v.066c0 2.76 2.24 5 5 5s5-2.24 5-5z'/%3E%3C/svg%3E\\\")}.ag-icon-filter:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Efilter%3C/title%3E%3Cpath d='M26 8.184c-.066 2.658-4.058 5.154-6.742 7.974a1.05 1.05 0 0 0-.258.682v3.66L13 25c0-2.74.066-5.482-.002-8.222a1.05 1.05 0 0 0-.256-.62C10.026 13.304 6.06 10.61 6 8.184V6h20zM8 8c0 .304.06.612.258.842 2.716 2.854 6.682 5.548 6.742 7.974V21l2-1.5v-2.684c.066-2.658 4.058-5.154 6.742-7.974.198-.23.258-.538.258-.842z'/%3E%3C/svg%3E\\\")}.ag-icon-first:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Efirst%3C/title%3E%3Cpath d='M24.354 8.708 17.06 16l7.294 7.292-1.416 1.416L14.232 16l8.706-8.708zM9.646 8v16h-2V8z'/%3E%3C/svg%3E\\\")}.ag-icon-group:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Egroup%3C/title%3E%3Cpath d='M25.128 2.002c2.56.096 4.772 2.292 4.87 4.87a712 712 0 0 1 0 18.256c-.096 2.56-2.292 4.772-4.87 4.87a712 712 0 0 1-18.256 0c-2.558-.096-4.772-2.29-4.87-4.87a712 712 0 0 1 0-18.256c.096-2.56 2.292-4.772 4.87-4.87a712 712 0 0 1 18.256 0M7.006 4c-1.57.02-2.946 1.348-3.004 2.922-.078 6.078-.23 12.16.002 18.234.094 1.484 1.354 2.746 2.84 2.84 6.1.232 12.212.232 18.312 0 1.48-.094 2.746-1.35 2.84-2.84.232-6.1.232-12.212 0-18.312-.094-1.48-1.35-2.746-2.84-2.84C19.11 3.774 13.056 4 7.006 4M14 21h-4v-2h4zm12 0H16v-2h10zm-12-4h-4v-2h4zm12 0H16v-2h10zm-16-4H6v-2h4zm16 0H12v-2h14z'/%3E%3C/svg%3E\\\")}.ag-icon-last:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Elast%3C/title%3E%3Cpath d='m17.768 16-8.706 8.708-1.416-1.416L14.94 16 7.646 8.708l1.416-1.416zm6.586 8h-2V8h2z'/%3E%3C/svg%3E\\\")}.ag-icon-left:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eleft%3C/title%3E%3Cpath d='m17.621 11-2 2h12.586v6H15.621l2 2-4.414 4.414L3.793 16l9.414-9.414zm-11 5 6.586 6.586L14.793 21l-4-4h15.414v-2H10.793l4-4-1.586-1.586z'/%3E%3C/svg%3E\\\")}.ag-icon-linked:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Elinked%3C/title%3E%3Cpath d='M17.138 13.418a1.03 1.03 0 0 0-.298.658s.125.096.226.178c1.372 1.114 2.033 3.039 1.582 4.796a4.7 4.7 0 0 1-1.205 2.123c-1.145 1.151-2.296 2.294-3.445 3.441-1.241 1.232-3.185 1.691-4.864 1.105-1.546-.54-2.756-1.938-3.048-3.572-.267-1.496.246-3.108 1.319-4.186l.578-.578-.03-.092a10.5 10.5 0 0 1-.452-2.3v-.005c-.776.775-1.621 1.489-2.275 2.396-1.817 2.522-1.643 6.323.706 8.669 1.813 1.811 4.708 2.462 7.171 1.517a6.75 6.75 0 0 0 2.336-1.518l3.427-3.424c1.939-1.954 2.533-5.126 1.294-7.674a6.8 6.8 0 0 0-2.071-2.481l-.003-.002zM21.265 4a6.8 6.8 0 0 0-4.734 1.964l-3.427 3.424c-1.961 1.977-2.52 5.092-1.32 7.619a6.8 6.8 0 0 0 2.098 2.537l.003.002c.32-.32.643-.637.96-.96.167-.172.27-.401.286-.64l-.204-.167c-1.603-1.287-2.215-3.68-1.316-5.616a4.7 4.7 0 0 1 .918-1.32c1.145-1.151 2.296-2.294 3.445-3.441 1.239-1.23 3.178-1.694 4.864-1.105 1.83.639 3.16 2.498 3.12 4.493a4.8 4.8 0 0 1-1.391 3.265l-.578.578.03.092c.235.743.387 1.519.452 2.3v.005c.732-.731 1.521-1.406 2.162-2.244 1.192-1.559 1.643-3.651 1.204-5.575a6.8 6.8 0 0 0-3.98-4.703 6.8 6.8 0 0 0-2.529-.506h-.061z'/%3E%3C/svg%3E\\\")}.ag-icon-loading:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eloading%3C/title%3E%3Cpath d='M17 29h-2v-8h2zm-3.586-9L7 26.414 5.586 25 12 18.586zm13 5L25 26.414 18.586 20 20 18.586zM29 17h-8v-2h8zm-18 0H3v-2h8zm2.414-5L12 13.414 5.586 7 7 5.586zm13-5L20 13.414 18.586 12 25 5.586zM17 11h-2V3h2z'/%3E%3C/svg%3E\\\")}.ag-icon-maximize:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='3 3 26 26'%3E%3Ctitle%3Emaximize%3C/title%3E%3Cpath d='m7.54 17.4.1 6.98 6.96.1-2.24-2.24L16 18.6 13.4 16l-3.64 3.64zm16.92-2.8-.1-6.98-6.96-.1 2.24 2.24L16 13.4l2.6 2.6 3.64-3.64z'/%3E%3C/svg%3E\\\")}.ag-icon-menu:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Emenu%3C/title%3E%3Cpath d='M26 23H6v-2h20zm0-6H6v-2h20zm0-6H6V9h20z'/%3E%3C/svg%3E\\\")}.ag-icon-menu-alt:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' fill='none'%3E%3Cpath fill='%23000' d='M16 18a2 2 0 1 0 0-4 2 2 0 0 0 0 4m0-7a2 2 0 1 0 0-4 2 2 0 0 0 0 4m0 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4'/%3E%3C/svg%3E\\\")}.ag-icon-minimize:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='3 3 26 26'%3E%3Ctitle%3Eminimize%3C/title%3E%3Cpath d='m14.8 24.26-.1-6.96-6.96-.1 2.24 2.24-3.64 3.64 2.6 2.6 3.64-3.64zm2.4-16.52.1 6.96 6.96.1-2.24-2.24 3.64-3.64-2.6-2.6-3.64 3.64z'/%3E%3C/svg%3E\\\")}.ag-icon-minus:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M7.515 7.515c-4.683 4.682-4.683 12.288 0 16.97 4.682 4.683 12.288 4.683 16.97 0 4.683-4.682 4.683-12.288 0-16.97-4.682-4.683-12.288-4.683-16.97 0m1.414 1.414c3.903-3.903 10.239-3.903 14.142 0s3.903 10.239 0 14.142-10.239 3.903-14.142 0-3.903-10.239 0-14.142m-1.414 6.07h16.97v2.002H7.515z' style='fill-rule:nonzero'/%3E%3C/svg%3E\\\")}.ag-icon-next:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Enext%3C/title%3E%3Cpath d='m21.061 16-8.706 8.708-1.416-1.416L18.233 16l-7.294-7.292 1.416-1.416z'/%3E%3C/svg%3E\\\")}.ag-icon-none:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Enone%3C/title%3E%3Cpath d='m10.044 21.258 4.478-4.198L16 18.444 9 25l-7-6.556 1.478-1.384 4.478 4.198V7h2.088zm14 3.742h-2.088V10.742l-4.478 4.198L16 13.556 23 7q3.5 3.28 7 6.556l-1.478 1.384-4.478-4.198z'/%3E%3C/svg%3E\\\")}.ag-icon-not-allowed:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Enot-allowed%3C/title%3E%3Cpath d='M16.186 3.646c8.188.154 14.898 9.796 11.17 17.78-3.298 7.066-13.932 9.374-19.848 3.87-3.9-3.632-5.076-9.896-2.684-14.708 2.082-4.19 6.588-6.974 11.362-6.942m-.298 1.998c-6.922.132-12.578 8.308-9.33 15.052 3.342 6.934 15.246 7.646 18.932 0 3.076-6.386-1.988-15.1-9.602-15.052m7.596 6.422c2.864 5.33-1.744 13.186-8.306 12.536a8.6 8.6 0 0 1-3.232-.998l-1.266-.706L22.778 10.8q.351.633.706 1.266m-9.422 10.276c3.296 1.028 7.246-1.006 8.216-4.418a6.6 6.6 0 0 0-.056-3.742zm2.104-14.696a8.8 8.8 0 0 1 3.936 1.038l1.266.706L9.27 21.488c-3.018-5.41-.99-13.37 6.318-13.834q.289-.01.578-.008m-.31 2c-4.06.154-7.23 4.614-6.03 8.46l8.16-8.16a6.8 6.8 0 0 0-2.13-.3'/%3E%3C/svg%3E\\\")}.ag-icon-paste:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Epaste%3C/title%3E%3Cpath d='M20 6.5c0-1-1-3-4-3s-4 2-4 3H8c-2.21 0-4 1.79-4 4v14c0 2.21 1.79 4 4 4h16c2.21 0 4-1.79 4-4v-14c0-2.21-1.79-4-4-4zm-4 .546c.734 0 1.334.572 1.334 1.272S16.734 9.59 16 9.59s-1.334-.572-1.334-1.272.6-1.272 1.334-1.272M24 26.5H8a2 2 0 0 1-2-2v-14a2 2 0 0 1 2-2h2v4h12v-4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2'/%3E%3C/svg%3E\\\")}.ag-icon-pin:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Epin%3C/title%3E%3Cpath d='m10.78 19.777-4.668-4.666s.032-1 .67-1.87c1.366-1.86 4.052-1.96 6.056-1.572l3.158-3.108c-.7-2.342 3.352-5.046 3.352-5.046l9.166 9.168q-.334.447-.67.894c-1.074 1.426-2.538 2.63-4.272 2.338l-3.32 3.218c.046.344.042.03.118 1.152.144 2.13-.64 4.324-2.632 5.34l-.746.364-4.798-4.798-7.292 7.294-1.416-1.416zm8.24-13.672c-.688.568-1.416 1.45-1.024 2.072l.49.722-4.986 4.988c-1.988-.506-4.346-.636-5.156.614l9.02 9.032q.14-.099.272-.21c1.226-1.08.764-3.04.498-4.9l4.79-4.79s1.47.938 2.936-.776l-6.79-6.79q-.026.019-.05.038'/%3E%3C/svg%3E\\\")}.ag-icon-pivot:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Epivot%3C/title%3E%3Cpath d='M25.128 2.002c2.56.096 4.772 2.292 4.87 4.87a712 712 0 0 1 0 18.256c-.096 2.56-2.292 4.772-4.87 4.87a712 712 0 0 1-18.256 0c-2.558-.096-4.772-2.29-4.87-4.87a712 712 0 0 1 0-18.256c.096-2.56 2.292-4.772 4.87-4.87a712 712 0 0 1 18.256 0m2.966 7.954H9.892v18.136c5.086.13 10.18.098 15.264-.096 1.48-.094 2.746-1.35 2.84-2.84.192-5.064.226-10.134.098-15.2M3.968 24.1q.015.528.036 1.056c.094 1.484 1.354 2.746 2.84 2.84l1.012.036V24.1zM22 15.414l-.292.294-1.416-1.416L23 11.586l2.708 2.706-1.416 1.416-.292-.294v3.592c-.032 2.604-2.246 4.892-4.872 4.992L15.414 24l.294.292-1.416 1.416L11.586 23l2.706-2.708 1.416 1.416-.322.32c3.372.03 6.578-.164 6.614-3.034zM3.88 18.038c.002 1.346.012 2.694.038 4.04h3.938v-4.04zm.05-6.062a681 681 0 0 0-.044 4.042h3.97v-4.042zm5.962-7.99Q8.449 3.999 7.006 4c-1.57.02-2.946 1.348-3.004 2.922q-.02 1.517-.042 3.034h3.896v-2.02h2.036zm14.244-.016v3.966h3.898q-.017-.546-.038-1.092c-.094-1.48-1.35-2.746-2.84-2.84q-.51-.019-1.02-.034m-8.14-.054q-2.035.022-4.07.048v3.972h4.07zm6.106.008c-1.358-.022-2.714-.026-4.07-.022v4.034h4.07z'/%3E%3C/svg%3E\\\")}.ag-icon-plus:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M7.515 7.515c-4.683 4.682-4.683 12.288 0 16.97 4.682 4.683 12.288 4.683 16.97 0 4.683-4.682 4.683-12.288 0-16.97-4.682-4.683-12.288-4.683-16.97 0m1.414 1.414c3.903-3.903 10.239-3.903 14.142 0s3.903 10.239 0 14.142-10.239 3.903-14.142 0-3.903-10.239 0-14.142M15 15l-.001-7.485h2.002L17 15l7.485-.001v2.002L17 17l.001 7.485h-2.002L15 17l-7.485.001v-2.002z' style='fill-rule:nonzero'/%3E%3C/svg%3E\\\")}.ag-icon-previous:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eprevious%3C/title%3E%3Cpath d='M21.061 8.708 13.767 16l7.294 7.292-1.416 1.416L10.939 16l8.706-8.708z'/%3E%3C/svg%3E\\\")}.ag-icon-right:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eright%3C/title%3E%3Cpath d='m28.207 16-9.414 9.414L14.379 21l2-2H3.793v-6h12.586l-2-2 4.414-4.414zm-11-5 4 4H5.793v2h15.414l-4 4 1.586 1.586L25.379 16l-6.586-6.586z'/%3E%3C/svg%3E\\\")}.ag-icon-save:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Esave%3C/title%3E%3Cpath d='M25.333 16v9.333H6.666V16H3.999v9.333C3.999 26.8 5.199 28 6.666 28h18.667C26.8 28 28 26.8 28 25.333V16zm-8 .893 3.453-3.44 1.88 1.88L15.999 22l-6.667-6.667 1.88-1.88 3.453 3.44V4h2.667v12.893z'/%3E%3C/svg%3E\\\")}.ag-icon-small-down:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Esmall-down%3C/title%3E%3Cpath d='M24.708 12.355 16 21.061l-8.708-8.706 1.416-1.416L16 18.233l7.292-7.294z'/%3E%3C/svg%3E\\\")}.ag-icon-small-left:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Esmall-left%3C/title%3E%3Cpath d='M21.061 8.708 13.767 16l7.294 7.292-1.416 1.416L10.939 16l8.706-8.708z'/%3E%3C/svg%3E\\\")}.ag-icon-small-right:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Esmall-right%3C/title%3E%3Cpath d='m21.061 16-8.706 8.708-1.416-1.416L18.233 16l-7.294-7.292 1.416-1.416z'/%3E%3C/svg%3E\\\")}.ag-icon-small-up:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Esmall-up%3C/title%3E%3Cpath d='m24.708 19.645-1.416 1.416L16 13.767l-7.292 7.294-1.416-1.416L16 10.939z'/%3E%3C/svg%3E\\\")}.ag-icon-tick:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Etick%3C/title%3E%3Cpath d='M24.708 10.855 13 22.561l-5.708-5.706 1.416-1.416L13 19.733 23.292 9.439z'/%3E%3C/svg%3E\\\")}.ag-icon-tree-closed:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Etree-closed%3C/title%3E%3Cpath d='m21.061 16-8.706 8.708-1.416-1.416L18.233 16l-7.294-7.292 1.416-1.416z'/%3E%3C/svg%3E\\\")}.ag-icon-tree-indeterminate:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Etree-indeterminate%3C/title%3E%3Cpath d='M6 15h20v2H6z'/%3E%3C/svg%3E\\\")}.ag-icon-tree-open:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Etree-open%3C/title%3E%3Cpath d='M24.708 12.355 16 21.061l-8.708-8.706 1.416-1.416L16 18.233l7.292-7.294z'/%3E%3C/svg%3E\\\")}.ag-icon-unlinked:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eunlinked%3C/title%3E%3Cpath d='M5.35 3.999a.2.2 0 0 0-.14.058c-.388.38-.768.768-1.152 1.152a.21.21 0 0 0-.002.288c7.459 7.506 14.965 14.965 22.447 22.447a.21.21 0 0 0 .288.002q.576-.574 1.151-1.151a.21.21 0 0 0 .002-.288C20.484 19.002 12.979 11.542 5.497 4.06a.2.2 0 0 0-.146-.061zm.611 12.548c-1.933 1.939-2.538 5.119-1.289 7.688a6.79 6.79 0 0 0 4.891 3.672 6.82 6.82 0 0 0 5.893-1.866l1.984-1.984-1.438-1.438-1.986 1.986c-1.486 1.476-3.993 1.81-5.834.629a4.73 4.73 0 0 1-2.024-2.853 4.76 4.76 0 0 1 1.241-4.393l1.986-1.986-1.438-1.438-1.984 1.984zM21.273 3.999a6.78 6.78 0 0 0-4.727 1.963l-1.984 1.984L16 9.384l1.985-1.985a4.74 4.74 0 0 1 2.776-1.338c1.974-.224 4.045.926 4.845 2.834.712 1.699.329 3.778-1.004 5.12L22.616 16l1.439 1.438q1-1 2-2c2.012-2.031 2.557-5.368 1.112-7.982-1.144-2.07-3.432-3.441-5.834-3.459h-.061z'/%3E%3C/svg%3E\\\")}.ag-icon-up:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Easc%3C/title%3E%3Cpath d='m15 10.621-4.292 4.294-1.416-1.416L16 6.793l6.708 6.706-1.416 1.416L17 10.621v14.586h-2z'/%3E%3C/svg%3E\\\")}.ag-icon-grip:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Egrip%3C/title%3E%3Cpath d='M8 24H6v-4h2zm6 0h-2v-4h2zm6 0h-2v-4h2zm6 0h-2v-4h2zM8 18H6v-4h2zm6 0h-2v-4h2zm6 0h-2v-4h2zm6 0h-2v-4h2zM8 12H6V8h2zm6 0h-2V8h2zm6 0h-2V8h2zm6 0h-2V8h2z'/%3E%3C/svg%3E\\\")}.ag-icon-settings:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' fill='none' viewBox='0 0 32 32'%3E%3Cpath fill='%23000' d='M30 8h-4.1c-.5-2.3-2.5-4-4.9-4s-4.4 1.7-4.9 4H2v2h14.1c.5 2.3 2.5 4 4.9 4s4.4-1.7 4.9-4H30zm-9 4c-1.7 0-3-1.3-3-3s1.3-3 3-3 3 1.3 3 3-1.3 3-3 3M2 24h4.1c.5 2.3 2.5 4 4.9 4s4.4-1.7 4.9-4H30v-2H15.9c-.5-2.3-2.5-4-4.9-4s-4.4 1.7-4.9 4H2zm9-4c1.7 0 3 1.3 3 3s-1.3 3-3 3-3-1.3-3-3 1.3-3 3-3'/%3E%3C/svg%3E\\\")}.ag-icon-column-arrow:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 32 32'%3E%3Cpath fill='currentColor' fill-rule='evenodd' d='M11 4a1 1 0 0 1 1 1v22a1 1 0 1 1-2 0V5a1 1 0 0 1 1-1' clip-rule='evenodd'/%3E%3Cpath fill='currentColor' fill-rule='evenodd' d='M2 13a1 1 0 0 1 1-1h23.5a1 1 0 1 1 0 2H3a1 1 0 0 1-1-1' clip-rule='evenodd'/%3E%3Cpath fill='currentColor' fill-rule='evenodd' d='M2 4h18v24H2zm2 2v20h14V6zM26.793 13 23 9.207l1.414-1.414L29.621 13l-5.207 5.207L23 16.793z' clip-rule='evenodd'/%3E%3C/svg%3E\\\")}.ag-icon-un-pin:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' fill='none' viewBox='0 0 32 32'%3E%3Cpath fill='currentColor' fill-rule='evenodd' d='m6.112 15.111 3.272 3.271 1.436-1.402-2.476-2.479c.81-1.25 3.168-1.12 5.156-.614l4.986-4.988-.49-.722c-.392-.622.336-1.504 1.024-2.072l.008-.007.01-.006.032-.025 1.447 1.447 1.432-1.397-2.601-2.602s-4.052 2.704-3.352 5.046l-3.158 3.108c-2.004-.388-4.69-.288-6.056 1.572-.638.87-.67 1.87-.67 1.87m.581 11.582.014.014 5.502-5.501 4.783 4.783.746-.364c1.992-1.016 2.776-3.21 2.632-5.34-.055-.805-.068-.87-.088-.97-.008-.04-.017-.085-.03-.182l3.32-3.218c1.734.292 3.198-.912 4.272-2.338q.337-.447.67-.894l-.001-.001-.007-.007-.007-.007-.007-.007-3.87-3.87 1.585-1.584-1.414-1.414-14.381 14.38-1.237 1.209-5.69 5.687 1.417 1.416zM23.21 10.206l2.65 2.651c-1.465 1.714-2.935.776-2.935.776l-4.79 4.79q.041.291.087.583c.257 1.676.513 3.35-.585 4.317a4 4 0 0 1-.272.21l-3.739-3.744z' clip-rule='evenodd'/%3E%3C/svg%3E\\\")}.ag-icon-pinned-top:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' fill='none' viewBox='0 0 32 32'%3E%3Cpath fill='currentColor' d='m16.708 10.878 8.708 8.706L24 21l-6.292-6.294V27h-2V14.706L9.416 21 8 19.584q4.348-4.344 8.691-8.69zM25 6H8v2h17z'/%3E%3C/svg%3E\\\")}.ag-icon-pinned-bottom:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' fill='none' viewBox='0 0 32 32'%3E%3Cpath fill='currentColor' d='M16.708 22.122 8 13.416 9.416 12l6.292 6.294V6h2v12.294L24 12l1.416 1.416-8.691 8.69zM7.416 28h17v-2h-17z'/%3E%3C/svg%3E\\\")}.ag-icon-chevron-up:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='none' viewBox='0 0 16 16'%3E%3Cpath fill='currentColor' fill-rule='evenodd' d='M3.479 10.521a.75.75 0 0 1 0-1.06l4-4a.75.75 0 0 1 1.06 0l4 4a.75.75 0 0 1-1.06 1.06l-3.47-3.47-3.47 3.47a.75.75 0 0 1-1.06 0' clip-rule='evenodd'/%3E%3C/svg%3E\\\")}.ag-icon-chevron-down:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='none' viewBox='0 0 16 16'%3E%3Cpath fill='currentColor' fill-rule='evenodd' d='M12.521 5.461a.75.75 0 0 1 0 1.06l-4 4a.75.75 0 0 1-1.06 0l-4-4a.75.75 0 0 1 1.06-1.06l3.47 3.47 3.47-3.47a.75.75 0 0 1 1.06 0' clip-rule='evenodd'/%3E%3C/svg%3E\\\")}.ag-icon-chevron-left:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='none' viewBox='0 0 16 16'%3E%3Cpath fill='currentColor' fill-rule='evenodd' d='M10.53 12.512a.75.75 0 0 1-1.06 0l-4-4a.75.75 0 0 1 0-1.06l4-4a.75.75 0 0 1 1.06 1.06l-3.47 3.47 3.47 3.47a.75.75 0 0 1 0 1.06' clip-rule='evenodd'/%3E%3C/svg%3E\\\")}.ag-icon-chevron-right:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='none' viewBox='0 0 16 16'%3E%3Cpath fill='currentColor' fill-rule='evenodd' d='M5.47 3.47a.75.75 0 0 1 1.06 0l4 4a.75.75 0 0 1 0 1.06l-4 4a.75.75 0 0 1-1.06-1.06L8.94 8 5.47 4.53a.75.75 0 0 1 0-1.06' clip-rule='evenodd'/%3E%3C/svg%3E\\\")}.ag-icon-filter-add:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' fill='none' viewBox='0 0 32 32'%3E%3Cpath fill='currentColor' d='M19.834 8H8c0 .304.06.612.258.842 2.716 2.854 6.682 5.548 6.742 7.974V21l2-1.5v-2.684c.056-2.267 2.968-4.417 5.49-6.75v3.087c-1.081.974-2.245 1.968-3.232 3.005a1.05 1.05 0 0 0-.258.682v3.66L13 25c0-2.74.066-5.482-.002-8.222a1.05 1.05 0 0 0-.256-.62C10.026 13.304 6.06 10.61 6 8.184V6h13.834z'/%3E%3Cpath fill='currentColor' d='M26 6h2.946v2.002H26v3.313h-2.002V8.002h-2.946V6h2.946V3.04H26z'/%3E%3C/svg%3E\\\")}.ag-icon-edit:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' fill='none' viewBox='0 0 32 32'%3E%3Cpath fill='currentColor' d='M23.182 5a3.82 3.82 0 0 1 2.83 6.383l-.131.137-2.09 2.088a1 1 0 0 1-.084.099 1 1 0 0 1-.098.084L12.533 24.869a3 3 0 0 1-1.245.746l-4.353 1.32-.003.002a1.5 1.5 0 0 1-1.87-1.867l.003-.004 1.32-4.352v-.003l.06-.174c.13-.344.321-.661.565-.936l.126-.135L18.209 8.39a1 1 0 0 1 .18-.181l2.092-2.09.137-.132A3.82 3.82 0 0 1 23.182 5M8.548 20.883a1 1 0 0 0-.25.415l-1.049 3.451 3.457-1.048.114-.042q.17-.076.301-.206l10.458-10.46-2.572-2.572zM23.182 7c-.482 0-.946.19-1.287.531v.001l-1.474 1.475 2.572 2.572 1.474-1.474.121-.133A1.82 1.82 0 0 0 23.182 7'/%3E%3C/svg%3E\\\")}\";// packages/ag-grid-community/src/theming/parts/icon-set/balham/icon-set-balham.ts\nvar iconSetBalham=/* @__PURE__ */createPart({feature:\"iconSet\",css:iconSetBalhamCSS});// packages/ag-grid-community/src/theming/parts/icon-set/alpine/icon-set-alpine.css-GENERATED.ts\nvar iconSetAlpineCSS=/*css*/\".ag-icon-aggregation:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M24 6H8v2l8 8-8 8v2h16v-2H11l8-8-8-8h13z' style='fill-rule:nonzero'/%3E%3C/svg%3E\\\")}.ag-icon-arrows:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M7.515 11.171 2.687 16l4.828 4.829-1.414 1.414L-.142 16l6.243-6.243zm16.97 0 1.414-1.414L32.142 16l-6.243 6.243-1.414-1.414L29.313 16zM16.028 13.2l2.829 2.828-2.829 2.829-2.828-2.829zm-4.857 11.285L16 29.313l4.829-4.828 1.414 1.414L16 32.142l-6.243-6.243zm0-16.97L9.757 6.101 16-.142l6.243 6.243-1.414 1.414L16 2.687z' style='fill-rule:nonzero'/%3E%3C/svg%3E\\\")}.ag-icon-asc:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m5.333 16 1.88 1.88 7.453-7.44v16.227h2.667V10.44l7.44 7.453L26.666 16 15.999 5.333 5.332 16z' style='fill-rule:nonzero'/%3E%3C/svg%3E\\\")}.ag-icon-cancel:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M16 2.667A13.32 13.32 0 0 0 2.667 16c0 7.373 5.96 13.333 13.333 13.333S29.333 23.373 29.333 16 23.373 2.667 16 2.667m6.667 18.12-1.88 1.88L16 17.88l-4.787 4.787-1.88-1.88L14.12 16l-4.787-4.787 1.88-1.88L16 14.12l4.787-4.787 1.88 1.88L17.88 16z' style='fill-rule:nonzero'/%3E%3C/svg%3E\\\")}.ag-icon-chart:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Echart%3C/title%3E%3Cg fill='%23000' fill-rule='nonzero'%3E%3Cpath d='M14 7h4v18h-4zM8 17h4v8H8zM20 13h4v12h-4z'/%3E%3C/g%3E%3C/svg%3E\\\")}.ag-icon-color-picker:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M23.907 17.587 10.574 4.254l-1.88 1.88 3.173 3.173-8.28 8.28 10.16 10.16zm-16.547 0 6.387-6.387 6.387 6.387zm18.387 2s-2.667 2.893-2.667 4.667c0 1.467 1.2 2.667 2.667 2.667s2.667-1.2 2.667-2.667c0-1.773-2.667-4.667-2.667-4.667' style='fill-rule:nonzero'/%3E%3C/svg%3E\\\")}.ag-icon-columns:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M26 25H6V7h20zM12 11H8v12h4zm6 0h-4v12h4zm6 12V11h-4v12z' style='fill-rule:nonzero' transform='translate(0 -1)'/%3E%3C/svg%3E\\\")}.ag-icon-contracted:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m12 6 10 10-10 10-2-2 8-8-8-8z'/%3E%3C/svg%3E\\\")}.ag-icon-copy:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M22 1.333H6A2.675 2.675 0 0 0 3.333 4v18.667H6V4h16zm4 5.334H11.333a2.675 2.675 0 0 0-2.667 2.667v18.667c0 1.467 1.2 2.667 2.667 2.667H26c1.467 0 2.667-1.2 2.667-2.667V9.334c0-1.467-1.2-2.667-2.667-2.667M26 28H11.333V9.333H26z' style='fill-rule:nonzero'/%3E%3C/svg%3E\\\")}.ag-icon-cross:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M15.984 13.894 27.05 2.828l2.122 2.122-11.066 11.066 11.066 11.066-2.122 2.12-11.066-11.066L4.918 29.202l-2.12-2.12 11.066-11.066L2.798 4.95l2.12-2.122z'/%3E%3C/svg%3E\\\")}.ag-icon-csv:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M384 131.9c-7.753-8.433-110.425-128.473-114.9-133L48-.1C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48zm-35.9 2.1H257V27.9zM30 479V27h200l1 105c0 13.3-1.3 29 12 29h111l1 318z' style='fill-rule:nonzero' transform='matrix(.06285 0 0 .06285 3.934 -.054)'/%3E%3Cpath d='M.688-.226a.2.2 0 0 1-.017.074.28.28 0 0 1-.145.14.412.412 0 0 1-.234.013.28.28 0 0 1-.202-.168.468.468 0 0 1-.04-.19q0-.086.025-.155a.319.319 0 0 1 .182-.191.4.4 0 0 1 .134-.025q.087 0 .155.035a.3.3 0 0 1 .104.085.17.17 0 0 1 .036.097.06.06 0 0 1-.018.044.06.06 0 0 1-.042.019.06.06 0 0 1-.042-.013.2.2 0 0 1-.031-.046.2.2 0 0 0-.066-.079.16.16 0 0 0-.095-.027.17.17 0 0 0-.142.068.3.3 0 0 0-.053.193.4.4 0 0 0 .023.139.2.2 0 0 0 .067.083.2.2 0 0 0 .1.027q.063 0 .106-.031a.2.2 0 0 0 .065-.091.2.2 0 0 1 .023-.046q.014-.018.044-.018a.06.06 0 0 1 .044.018.06.06 0 0 1 .019.045' style='fill-rule:nonzero' transform='matrix(8.39799 0 0 12.455 7.122 25.977)'/%3E%3Cpath d='M.622-.215a.2.2 0 0 1-.033.117.23.23 0 0 1-.098.081.4.4 0 0 1-.153.029.34.34 0 0 1-.175-.04.23.23 0 0 1-.079-.077.17.17 0 0 1-.031-.093q0-.027.019-.045a.06.06 0 0 1 .046-.019.06.06 0 0 1 .039.014.1.1 0 0 1 .027.044.3.3 0 0 0 .03.057q.015.023.044.038.03.015.076.015.065 0 .105-.03a.09.09 0 0 0 .04-.075.08.08 0 0 0-.022-.058.14.14 0 0 0-.056-.034 1 1 0 0 0-.092-.025.7.7 0 0 1-.129-.042.2.2 0 0 1-.083-.066.17.17 0 0 1-.03-.104q0-.058.032-.105a.2.2 0 0 1 .093-.07.4.4 0 0 1 .144-.025q.066 0 .114.016a.3.3 0 0 1 .08.044.2.2 0 0 1 .046.057q.015.03.015.058a.07.07 0 0 1-.018.046.06.06 0 0 1-.046.021q-.025 0-.038-.012a.2.2 0 0 1-.028-.041.2.2 0 0 0-.047-.063Q.387-.625.326-.625a.15.15 0 0 0-.09.025q-.035.024-.035.059 0 .021.012.037a.1.1 0 0 0 .032.027.4.4 0 0 0 .111.036q.06.015.11.031.048.018.083.042a.2.2 0 0 1 .054.062.2.2 0 0 1 .019.091' style='fill-rule:nonzero' transform='matrix(8.39799 0 0 12.455 13.339 25.977)'/%3E%3Cpath d='m.184-.633.162.48.163-.483q.013-.038.019-.053a.062.062 0 0 1 .061-.039q.018 0 .034.009a.1.1 0 0 1 .025.025q.009.015.009.031L.654-.64l-.007.025-.009.024-.173.468-.019.051a.2.2 0 0 1-.021.042.1.1 0 0 1-.033.03.1.1 0 0 1-.049.012.1.1 0 0 1-.05-.011A.1.1 0 0 1 .26-.03a.2.2 0 0 1-.021-.042L.22-.123.05-.587.041-.612.033-.638.03-.662q0-.025.02-.046a.07.07 0 0 1 .05-.02q.037 0 .053.023.015.023.031.072' style='fill-rule:nonzero' transform='matrix(8.39799 0 0 12.455 18.94 25.977)'/%3E%3C/svg%3E\\\")}.ag-icon-cut:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M13.775 15.198 3.835 2.945a1.501 1.501 0 0 1 2.33-1.89l14.997 18.488A6.003 6.003 0 0 1 29.657 25c0 3.311-2.688 6-6 6s-6-2.689-6-6c0-1.335.437-2.569 1.176-3.566l-3.127-3.855-3.001 3.7A5.97 5.97 0 0 1 14 25c0 3.311-2.689 6-6 6s-6-2.689-6-6a6.003 6.003 0 0 1 8.315-5.536zm9.882 6.702a3.1 3.1 0 0 0-3.1 3.1c0 1.711 1.389 3.1 3.1 3.1s3.1-1.389 3.1-3.1-1.389-3.1-3.1-3.1M8 21.95a3.05 3.05 0 1 0 .001 6.101A3.05 3.05 0 0 0 8 21.95m9.63-11.505 1.932 2.381 8.015-9.881a1.5 1.5 0 0 0-2.329-1.89z' style='fill-rule:nonzero'/%3E%3C/svg%3E\\\")}.ag-icon-desc:before,.ag-icon-down:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m26.667 16-1.88-1.88-7.453 7.44V5.333h-2.667V21.56l-7.44-7.453L5.334 16l10.667 10.667z' style='fill-rule:nonzero'/%3E%3C/svg%3E\\\")}.ag-icon-excel:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M384 131.9c-7.753-8.433-110.425-128.473-114.9-133L48-.1C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48zm-35.9 2.1H257V27.9zM30 479V27h200l1 105c0 13.3-1.3 29 12 29h111l1 318z' style='fill-rule:nonzero' transform='matrix(.06285 0 0 .06285 3.934 -.054)'/%3E%3Cpath d='m.052-.139.16-.234-.135-.208a.4.4 0 0 1-.028-.052.1.1 0 0 1-.01-.042.05.05 0 0 1 .018-.037.07.07 0 0 1 .045-.016q.03 0 .047.018a1 1 0 0 1 .047.066l.107.174.115-.174.024-.038.019-.026.021-.015a.1.1 0 0 1 .027-.005.06.06 0 0 1 .044.016.05.05 0 0 1 .018.039q0 .033-.038.089l-.141.211.152.234a.3.3 0 0 1 .03.051.1.1 0 0 1 .009.038.1.1 0 0 1-.008.031.1.1 0 0 1-.024.023.1.1 0 0 1-.034.008.1.1 0 0 1-.035-.008.1.1 0 0 1-.023-.022L.427-.067.301-.265l-.134.204-.022.034-.016.019a.1.1 0 0 1-.022.015.1.1 0 0 1-.03.005.06.06 0 0 1-.044-.016.06.06 0 0 1-.017-.047q0-.036.036-.088' style='fill-rule:nonzero' transform='matrix(17.82892 0 0 16.50777 10.371 25.928)'/%3E%3C/svg%3E\\\")}.ag-icon-expanded:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M20 26 10 16 20 6l2 2-8 8 8 8z'/%3E%3C/svg%3E\\\")}.ag-icon-eye-slash:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eeye-slash%3C/title%3E%3Cpath fill='%23000' fill-rule='nonzero' d='M8.95 10.364 7 8.414 8.414 7l2.32 2.32A13.2 13.2 0 0 1 16.5 8c5.608 0 10.542 3.515 12.381 8.667L29 17l-.119.333a13 13 0 0 1-4.255 5.879l1.466 1.466-1.414 1.414-1.754-1.753A13.2 13.2 0 0 1 16.5 26c-5.608 0-10.542-3.515-12.381-8.667L4 17l.119-.333a13 13 0 0 1 4.83-6.303m1.445 1.445A11.02 11.02 0 0 0 6.148 17c1.646 4.177 5.728 7 10.352 7 1.76 0 3.441-.409 4.94-1.146l-1.878-1.878A5.06 5.06 0 0 1 16.5 22c-2.789 0-5.05-2.239-5.05-5 0-1.158.398-2.223 1.065-3.07zm1.855-.974 1.794 1.795A5.07 5.07 0 0 1 16.5 12c2.789 0 5.05 2.239 5.05 5 0 .9-.24 1.745-.661 2.474l2.305 2.306A11 11 0 0 0 26.852 17c-1.646-4.177-5.728-7-10.352-7-1.495 0-2.933.295-4.25.835'/%3E%3C/svg%3E\\\")}.ag-icon-eye:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M16.5 23c4.624 0 8.706-2.823 10.352-7-1.646-4.177-5.728-7-10.352-7s-8.706 2.823-10.352 7c1.646 4.177 5.728 7 10.352 7M4.119 15.667C5.958 10.515 10.892 7 16.5 7s10.542 3.515 12.381 8.667L29 16l-.119.333C27.042 21.485 22.108 25 16.5 25S5.958 21.485 4.119 16.333L4 16zM16.5 21c2.789 0 5.049-2.239 5.049-5s-2.26-5-5.049-5-5.049 2.239-5.049 5 2.26 5 5.049 5' style='fill-rule:nonzero'/%3E%3C/svg%3E\\\")}.ag-icon-filter:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m28 8-8 8v5l-6 6V16L6 8V6h22zM9 8l7 7v7l2-2v-5l7-7z' style='fill-rule:nonzero'/%3E%3C/svg%3E\\\")}.ag-icon-first:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M24.273 22.12 18.153 16l6.12-6.12L22.393 8l-8 8 8 8zM7.727 8h2.667v16H7.727z' style='fill-rule:nonzero'/%3E%3C/svg%3E\\\")}.ag-icon-group:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M14 7v1H9V7zm0-3v1H5.001V4zm-7 7H5v-1h2zm0-3H5V7h2zM3 5H1V4h2zm11 5v1H9v-1zm-7 4H5v-1h2zm7-1v1H9v-1z' style='fill-rule:nonzero' transform='matrix(2 0 0 2 0 -2)'/%3E%3C/svg%3E\\\")}.ag-icon-last:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m7.727 9.88 6.12 6.12-6.12 6.12L9.607 24l8-8-8-8zM21.607 8h2.667v16h-2.667z' style='fill-rule:nonzero'/%3E%3C/svg%3E\\\")}.ag-icon-left:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M26.667 14.667H10.44l7.453-7.453L16 5.334 5.333 16.001 16 26.668l1.88-1.88-7.44-7.453h16.227z' style='fill-rule:nonzero'/%3E%3C/svg%3E\\\")}.ag-icon-linked:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M5.2 16a4.136 4.136 0 0 1 4.133-4.133h5.333V9.334H9.333a6.67 6.67 0 0 0-6.667 6.667 6.67 6.67 0 0 0 6.667 6.667h5.333v-2.533H9.333A4.136 4.136 0 0 1 5.2 16.002zm5.467 1.333h10.667v-2.667H10.667zm12-8h-5.333v2.533h5.333a4.136 4.136 0 0 1 4.133 4.133 4.136 4.136 0 0 1-4.133 4.133h-5.333v2.533h5.333a6.67 6.67 0 0 0 6.667-6.667 6.67 6.67 0 0 0-6.667-6.667z' style='fill-rule:nonzero'/%3E%3C/svg%3E\\\")}.ag-icon-loading:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M17 29h-2v-8h2zm-3.586-9L7 26.414 5.586 25 12 18.586zm13 5L25 26.414 18.586 20 20 18.586zM29 17h-8v-2h8zm-18 0H3v-2h8zm2.414-5L12 13.414 5.586 7 7 5.586zm13-5L20 13.414 18.586 12 25 5.586zM17 11h-2V3h2z' style='fill-rule:nonzero' transform='translate(-3.692 -3.692)scale(1.23077)'/%3E%3C/svg%3E\\\")}.ag-icon-maximize:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M14 30H2V18h2.828v7.05l8.254-8.252 2.12 2.12-8.252 8.254H14zm4-28h12v12h-2.828V6.95l-8.254 8.252-2.12-2.12 8.252-8.254H18z'/%3E%3C/svg%3E\\\")}.ag-icon-menu:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M20 13H0v-2h20zm0-6H0V5h20zm0-6H0v-2h20z' style='fill-rule:nonzero' transform='translate(6 9)'/%3E%3C/svg%3E\\\")}.ag-icon-menu-alt:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' fill='none' viewBox='0 0 32 32'%3E%3Cpath fill='%23000' d='M16 19a3 3 0 1 0 0-6 3 3 0 0 0 0 6M16 11a3 3 0 1 0 0-6 3 3 0 0 0 0 6M16 27a3 3 0 1 0 0-6 3 3 0 0 0 0 6'/%3E%3C/svg%3E\\\")}.ag-icon-minimize:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M2 18h12v12h-2.828v-7.05l-8.254 8.252-2.12-2.12 8.252-8.254H2zm28-4H18V2h2.828v7.05L29.082.798l2.12 2.12-8.252 8.254H30z'/%3E%3C/svg%3E\\\")}.ag-icon-minus:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M6.572 6.572a13.32 13.32 0 0 0 0 18.856 13.32 13.32 0 0 0 18.856 0 13.32 13.32 0 0 0 0-18.856 13.32 13.32 0 0 0-18.856 0m17.527 8.099v2.658H7.901v-2.658z' style='fill-rule:nonzero'/%3E%3C/svg%3E\\\")}.ag-icon-next:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M10.94 6 9.06 7.88 17.167 16 9.06 24.12 10.94 26l10-10z' style='fill-rule:nonzero' transform='translate(1)'/%3E%3C/svg%3E\\\")}.ag-icon-none:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Enone%3C/title%3E%3Cg fill='%23000' fill-rule='nonzero'%3E%3Cpath d='M23.708 14.645 16 6.939l-7.708 7.706 1.416 1.416L16 9.767l6.292 6.294zM23.708 20.355 16 28.061l-7.708-7.706 1.416-1.416L16 25.233l6.292-6.294z'/%3E%3C/g%3E%3C/svg%3E\\\")}.ag-icon-not-allowed:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M16 2.667C8.64 2.667 2.667 8.64 2.667 16S8.64 29.333 16 29.333 29.333 23.36 29.333 16 23.36 2.667 16 2.667M5.333 16c0-5.893 4.773-10.667 10.667-10.667 2.467 0 4.733.84 6.533 2.253L7.586 22.533A10.54 10.54 0 0 1 5.333 16M16 26.667c-2.467 0-4.733-.84-6.533-2.253L24.414 9.467A10.54 10.54 0 0 1 26.667 16c0 5.893-4.773 10.667-10.667 10.667' style='fill-rule:nonzero'/%3E%3C/svg%3E\\\")}.ag-icon-paste:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M25.334 4H19.76C19.2 2.453 17.733 1.333 16 1.333S12.8 2.453 12.24 4H6.667A2.675 2.675 0 0 0 4 6.667V28c0 1.467 1.2 2.667 2.667 2.667h18.667c1.467 0 2.667-1.2 2.667-2.667V6.667C28.001 5.2 26.801 4 25.334 4M16 4c.733 0 1.333.6 1.333 1.333s-.6 1.333-1.333 1.333-1.333-.6-1.333-1.333S15.267 4 16 4m9.333 24H6.666V6.667h2.667v4h13.333v-4h2.667z' style='fill-rule:nonzero'/%3E%3C/svg%3E\\\")}.ag-icon-pin:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m10.78 19.777-4.668-4.666s.032-1 .67-1.87c1.366-1.86 4.052-1.96 6.056-1.572l3.158-3.108c-.7-2.342 3.352-5.046 3.352-5.046l9.166 9.168q-.334.447-.67.894c-1.074 1.426-2.538 2.63-4.272 2.338l-3.32 3.218c.046.344.042.03.118 1.152.144 2.13-.64 4.324-2.632 5.34l-.746.364-4.798-4.798-7.292 7.294-1.416-1.416zm8.24-13.672c-.688.568-1.416 1.45-1.024 2.072l.49.722-4.986 4.988c-1.988-.506-4.346-.636-5.156.614l9.02 9.032q.14-.099.272-.21c1.226-1.08.764-3.04.498-4.9l4.79-4.79s1.47.938 2.936-.776l-6.79-6.79q-.026.019-.05.038' style='fill-rule:nonzero'/%3E%3C/svg%3E\\\")}.ag-icon-pivot:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M25.128 2.002c2.56.096 4.772 2.292 4.87 4.87a712 712 0 0 1 0 18.256c-.096 2.56-2.292 4.772-4.87 4.87a712 712 0 0 1-18.256 0c-2.558-.096-4.772-2.29-4.87-4.87a712 712 0 0 1 0-18.256c.096-2.56 2.292-4.772 4.87-4.87a712 712 0 0 1 18.256 0m2.966 7.954H9.892v18.136c5.086.13 10.18.098 15.264-.096 1.48-.094 2.746-1.35 2.84-2.84.192-5.064.226-10.134.098-15.2M3.968 24.1q.015.528.036 1.056c.094 1.484 1.354 2.746 2.84 2.84l1.012.036V24.1zM22 15.414l-.292.294-1.416-1.416L23 11.586l2.708 2.706-1.416 1.416-.292-.294v3.592c-.032 2.604-2.246 4.892-4.872 4.992L15.414 24l.294.292-1.416 1.416L11.586 23l2.706-2.708 1.416 1.416-.322.32c3.372.03 6.578-.164 6.614-3.034zM3.88 18.038c.002 1.346.012 2.694.038 4.04h3.938v-4.04zm.05-6.062a681 681 0 0 0-.044 4.042h3.97v-4.042zm5.962-7.99Q8.449 3.999 7.006 4c-1.57.02-2.946 1.348-3.004 2.922q-.02 1.517-.042 3.034h3.896v-2.02h2.036zm14.244-.016v3.966h3.898q-.017-.546-.038-1.092c-.094-1.48-1.35-2.746-2.84-2.84q-.51-.019-1.02-.034m-8.14-.054q-2.035.022-4.07.048v3.972h4.07zm6.106.008a213 213 0 0 0-4.07-.022v4.034h4.07z' style='fill-rule:nonzero'/%3E%3C/svg%3E\\\")}.ag-icon-plus:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M6.572 6.572a13.32 13.32 0 0 0 0 18.856 13.32 13.32 0 0 0 18.856 0 13.32 13.32 0 0 0 0-18.856 13.32 13.32 0 0 0-18.856 0m17.527 8.099v2.658h-6.77v6.77h-2.658v-6.77h-6.77v-2.658h6.77v-6.77h2.658v6.77z' style='fill-rule:nonzero'/%3E%3C/svg%3E\\\")}.ag-icon-previous:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M21.94 7.88 20.06 6l-10 10 10 10 1.88-1.88L13.833 16z' style='fill-rule:nonzero'/%3E%3C/svg%3E\\\")}.ag-icon-right:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m16 5.333-1.88 1.88 7.44 7.453H5.333v2.667H21.56l-7.44 7.453 1.88 1.88 10.667-10.667L16 5.332z' style='fill-rule:nonzero'/%3E%3C/svg%3E\\\")}.ag-icon-save:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M15.708 2.355 8 10.061.292 2.355 1.708.939 8 7.233 14.292.939z' style='fill-rule:nonzero' transform='translate(8 14)'/%3E%3Cpath d='M5 26h22v2H5zM15 4h2v18h-2z'/%3E%3C/svg%3E\\\")}.ag-icon-small-down:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M7.334 10.667 16 21.334l8.667-10.667z' style='fill-rule:nonzero'/%3E%3C/svg%3E\\\")}.ag-icon-small-left:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M21.333 7.334 10.666 16l10.667 8.667z' style='fill-rule:nonzero'/%3E%3C/svg%3E\\\")}.ag-icon-small-right:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M10.667 24.666 21.334 16 10.667 7.333z' style='fill-rule:nonzero'/%3E%3C/svg%3E\\\")}.ag-icon-small-up:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M7.334 21.333 16 10.666l8.667 10.667z' style='fill-rule:nonzero'/%3E%3C/svg%3E\\\")}.ag-icon-tick:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M11.586 22.96 27.718 6.828 29.84 8.95 11.586 27.202 2.4 18.016l2.12-2.122z'/%3E%3C/svg%3E\\\")}.ag-icon-tree-closed:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m11.94 6-1.88 1.88L18.167 16l-8.107 8.12L11.94 26l10-10z' style='fill-rule:nonzero'/%3E%3C/svg%3E\\\")}.ag-icon-tree-indeterminate:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M6 13.5h20v3H6z'/%3E%3C/svg%3E\\\")}.ag-icon-tree-open:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M24.12 9.06 16 17.167 7.88 9.06 6 10.94l10 10 10-10z' style='fill-rule:nonzero' transform='translate(0 1)'/%3E%3C/svg%3E\\\")}.ag-icon-unlinked:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M22.667 9.333h-5.333v2.533h5.333a4.136 4.136 0 0 1 4.133 4.133c0 1.907-1.307 3.507-3.08 3.973l1.947 1.947c2.173-1.107 3.667-3.32 3.667-5.92a6.67 6.67 0 0 0-6.667-6.667zm-1.334 5.334h-2.92l2.667 2.667h.253zM2.667 5.693 6.814 9.84A6.65 6.65 0 0 0 2.667 16a6.67 6.67 0 0 0 6.667 6.667h5.333v-2.533H9.334a4.136 4.136 0 0 1-4.133-4.133c0-2.12 1.613-3.867 3.68-4.093l2.76 2.76h-.973v2.667h3.64l3.027 3.027v2.307h2.307l5.347 5.333 1.68-1.68L4.362 4.002 2.669 5.695z' style='fill-rule:nonzero'/%3E%3C/svg%3E\\\")}.ag-icon-up:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m5.333 16 1.88 1.88 7.453-7.44v16.227h2.667V10.44l7.44 7.453L26.666 16 15.999 5.333 5.332 16z' style='fill-rule:nonzero'/%3E%3C/svg%3E\\\")}.ag-icon-grip:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M8 24H6v-4h2zm6 0h-2v-4h2zm6 0h-2v-4h2zm6 0h-2v-4h2zM8 18H6v-4h2zm6 0h-2v-4h2zm6 0h-2v-4h2zm6 0h-2v-4h2zM8 12H6V8h2zm6 0h-2V8h2zm6 0h-2V8h2zm6 0h-2V8h2z' style='fill-rule:nonzero'/%3E%3C/svg%3E\\\")}.ag-icon-settings:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' fill='none' viewBox='0 0 32 32'%3E%3Cpath fill='%23000' d='M30 8h-4.1c-.5-2.3-2.5-4-4.9-4s-4.4 1.7-4.9 4H2v2h14.1c.5 2.3 2.5 4 4.9 4s4.4-1.7 4.9-4H30zm-9 4c-1.7 0-3-1.3-3-3s1.3-3 3-3 3 1.3 3 3-1.3 3-3 3M2 24h4.1c.5 2.3 2.5 4 4.9 4s4.4-1.7 4.9-4H30v-2H15.9c-.5-2.3-2.5-4-4.9-4s-4.4 1.7-4.9 4H2zm9-4c1.7 0 3 1.3 3 3s-1.3 3-3 3-3-1.3-3-3 1.3-3 3-3'/%3E%3C/svg%3E\\\")}.ag-icon-column-arrow:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 32 32'%3E%3Cpath fill='currentColor' fill-rule='evenodd' d='M11 4a1 1 0 0 1 1 1v22a1 1 0 1 1-2 0V5a1 1 0 0 1 1-1' clip-rule='evenodd'/%3E%3Cpath fill='currentColor' fill-rule='evenodd' d='M2 13a1 1 0 0 1 1-1h23.5a1 1 0 1 1 0 2H3a1 1 0 0 1-1-1' clip-rule='evenodd'/%3E%3Cpath fill='currentColor' fill-rule='evenodd' d='M2 4h18v24H2zm2 2v20h14V6zM26.793 13 23 9.207l1.414-1.414L29.621 13l-5.207 5.207L23 16.793z' clip-rule='evenodd'/%3E%3C/svg%3E\\\")}.ag-icon-un-pin:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' fill='none' viewBox='0 0 32 32'%3E%3Cpath fill='currentColor' fill-rule='evenodd' d='m6.112 15.111 3.272 3.271 1.436-1.402-2.476-2.479c.81-1.25 3.168-1.12 5.156-.614l4.986-4.988-.49-.722c-.392-.622.336-1.504 1.024-2.072l.008-.007.01-.006.032-.025 1.447 1.447 1.432-1.397-2.601-2.602s-4.052 2.704-3.352 5.046l-3.158 3.108c-2.004-.388-4.69-.288-6.056 1.572-.638.87-.67 1.87-.67 1.87m.581 11.582.014.014 5.502-5.501 4.783 4.783.746-.364c1.992-1.016 2.776-3.21 2.632-5.34-.055-.805-.068-.87-.088-.97-.008-.04-.017-.085-.03-.182l3.32-3.218c1.734.292 3.198-.912 4.272-2.338q.337-.447.67-.894l-.001-.001-.007-.007-.007-.007-.007-.007-3.87-3.87 1.585-1.584-1.414-1.414-14.381 14.38-1.237 1.209-5.69 5.687 1.417 1.416zM23.21 10.206l2.65 2.651c-1.465 1.714-2.935.776-2.935.776l-4.79 4.79q.041.291.087.583c.257 1.676.513 3.35-.585 4.317a4 4 0 0 1-.272.21l-3.739-3.744z' clip-rule='evenodd'/%3E%3C/svg%3E\\\")}.ag-icon-pinned-top:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' fill='none' viewBox='0 0 32 32'%3E%3Cpath fill='currentColor' d='m16.708 10.878 8.708 8.706L24 21l-6.292-6.294V27h-2V14.706L9.416 21 8 19.584q4.348-4.344 8.691-8.69zM25 6H8v2h17z'/%3E%3C/svg%3E\\\")}.ag-icon-pinned-bottom:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' fill='none' viewBox='0 0 32 32'%3E%3Cpath fill='currentColor' d='M16.708 22.122 8 13.416 9.416 12l6.292 6.294V6h2v12.294L24 12l1.416 1.416-8.691 8.69zM7.416 28h17v-2h-17z'/%3E%3C/svg%3E\\\")}.ag-icon-chevron-up:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='none' viewBox='0 0 16 16'%3E%3Cpath fill='currentColor' fill-rule='evenodd' d='M3.479 10.521a.75.75 0 0 1 0-1.06l4-4a.75.75 0 0 1 1.06 0l4 4a.75.75 0 0 1-1.06 1.06l-3.47-3.47-3.47 3.47a.75.75 0 0 1-1.06 0' clip-rule='evenodd'/%3E%3C/svg%3E\\\")}.ag-icon-chevron-down:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='none' viewBox='0 0 16 16'%3E%3Cpath fill='currentColor' fill-rule='evenodd' d='M12.521 5.461a.75.75 0 0 1 0 1.06l-4 4a.75.75 0 0 1-1.06 0l-4-4a.75.75 0 0 1 1.06-1.06l3.47 3.47 3.47-3.47a.75.75 0 0 1 1.06 0' clip-rule='evenodd'/%3E%3C/svg%3E\\\")}.ag-icon-chevron-left:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='none' viewBox='0 0 16 16'%3E%3Cpath fill='currentColor' fill-rule='evenodd' d='M10.53 12.512a.75.75 0 0 1-1.06 0l-4-4a.75.75 0 0 1 0-1.06l4-4a.75.75 0 0 1 1.06 1.06l-3.47 3.47 3.47 3.47a.75.75 0 0 1 0 1.06' clip-rule='evenodd'/%3E%3C/svg%3E\\\")}.ag-icon-chevron-right:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='none' viewBox='0 0 16 16'%3E%3Cpath fill='currentColor' fill-rule='evenodd' d='M5.47 3.47a.75.75 0 0 1 1.06 0l4 4a.75.75 0 0 1 0 1.06l-4 4a.75.75 0 0 1-1.06-1.06L8.94 8 5.47 4.53a.75.75 0 0 1 0-1.06' clip-rule='evenodd'/%3E%3C/svg%3E\\\")}.ag-icon-filter-add:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' fill='none' viewBox='0 0 32 32'%3E%3Cpath fill='currentColor' d='M19.834 8H8c0 .304.06.612.258.842 2.716 2.854 6.682 5.548 6.742 7.974V21l2-1.5v-2.684c.056-2.267 2.968-4.417 5.49-6.75v3.087c-1.081.974-2.245 1.968-3.232 3.005a1.05 1.05 0 0 0-.258.682v3.66L13 25c0-2.74.066-5.482-.002-8.222a1.05 1.05 0 0 0-.256-.62C10.026 13.304 6.06 10.61 6 8.184V6h13.834z'/%3E%3Cpath fill='currentColor' d='M26 6h2.946v2.002H26v3.313h-2.002V8.002h-2.946V6h2.946V3.04H26z'/%3E%3C/svg%3E\\\")}.ag-icon-edit:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' fill='none' viewBox='0 0 32 32'%3E%3Cpath fill='currentColor' d='M6.222 25.778h1.611l14.834-14.811-1.611-1.611-14.834 14.81zM4 28v-4.733L22.644 4.656a2.26 2.26 0 0 1 1.567-.634q.423 0 .833.167.412.166.734.478l1.589 1.6q.333.322.483.733t.15.822q0 .423-.161.839-.162.416-.472.728L8.733 28zm17.856-17.833-.8-.811 1.61 1.61z'/%3E%3C/svg%3E\\\")}\";// packages/ag-grid-community/src/theming/parts/icon-set/alpine/icon-set-alpine.ts\nvar iconSetAlpine=/* @__PURE__ */createPart({feature:\"iconSet\",css:iconSetAlpineCSS});// packages/ag-grid-community/src/theming/parts/icon-set/material/icon-set-material.css-GENERATED.ts\nvar iconSetMaterialCSS=/*css*/\".ag-icon-aggregation:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eaggregation%3C/title%3E%3Cpath d='M24 5.333H8V8l8.667 8L8 24v2.667h16v-4h-9.333L21.334 16l-6.667-6.667H24z'/%3E%3C/svg%3E\\\")}.ag-icon-arrows:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Earrows%3C/title%3E%3Cpath d='M13.333 11.556h5.333V8h3.556L16 1.778 9.778 8h3.556zm-1.777 1.777H8V9.777l-6.222 6.222L8 22.221v-3.556h3.556zM30.222 16 24 9.778v3.556h-3.556v5.333H24v3.556l6.222-6.222zm-11.555 4.444h-5.333V24H9.778L16 30.222 22.222 24h-3.556z'/%3E%3C/svg%3E\\\")}.ag-icon-asc:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Easc%3C/title%3E%3Cpath d='m5.333 16 1.88 1.88 7.453-7.44v16.227h2.667V10.44l7.44 7.453L26.666 16 15.999 5.333z'/%3E%3C/svg%3E\\\")}.ag-icon-cancel:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Ecancel%3C/title%3E%3Cpath d='M16 2.667C8.627 2.667 2.667 8.627 2.667 16S8.627 29.333 16 29.333 29.333 23.373 29.333 16 23.373 2.667 16 2.667m6.667 18.12-1.88 1.88L16 17.88l-4.787 4.787-1.88-1.88L14.12 16l-4.787-4.787 1.88-1.88L16 14.12l4.787-4.787 1.88 1.88L17.88 16z'/%3E%3C/svg%3E\\\")}.ag-icon-chart:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Echart%3C/title%3E%3Cpath d='M6.667 12.267h4v13.067h-4zm7.466-5.6h3.733v18.667h-3.733zM21.6 17.333h3.733v8H21.6z'/%3E%3C/svg%3E\\\")}.ag-icon-color-picker:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Ecolor-picker%3C/title%3E%3Cpath d='M23.907 17.587 10.574 4.254l-1.88 1.88 3.173 3.173-8.28 8.28 10.16 10.16zm-16.547 0 6.387-6.387 6.387 6.387H7.361zm18.387 2s-2.667 2.893-2.667 4.667c0 1.467 1.2 2.667 2.667 2.667s2.667-1.2 2.667-2.667c0-1.773-2.667-4.667-2.667-4.667'/%3E%3C/svg%3E\\\")}.ag-icon-columns:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Ecolumns%3C/title%3E%3Cpath d='M5.333 10.667h5.333V5.334H5.333zm8 16h5.333v-5.333h-5.333zm-8 0h5.333v-5.333H5.333zm0-8h5.333v-5.333H5.333zm8 0h5.333v-5.333h-5.333zm8-13.334v5.333h5.333V5.333zm-8 5.334h5.333V5.334h-5.333zm8 8h5.333v-5.333h-5.333zm0 8h5.333v-5.333h-5.333z'/%3E%3C/svg%3E\\\")}.ag-icon-contracted:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Econtracted%3C/title%3E%3Cpath d='m12.94 8-1.88 1.88L17.167 16l-6.107 6.12L12.94 24l8-8z'/%3E%3C/svg%3E\\\")}.ag-icon-copy:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Ecopy%3C/title%3E%3Cpath d='M22 1.333H6A2.675 2.675 0 0 0 3.333 4v18.667H6V4h16zm4 5.334H11.333a2.675 2.675 0 0 0-2.667 2.667v18.667c0 1.467 1.2 2.667 2.667 2.667H26c1.467 0 2.667-1.2 2.667-2.667V9.334c0-1.467-1.2-2.667-2.667-2.667M26 28H11.333V9.333H26z'/%3E%3C/svg%3E\\\")}.ag-icon-cross:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Ecross%3C/title%3E%3Cpath d='m25.333 8.547-1.88-1.88L16 14.12 8.547 6.667l-1.88 1.88L14.12 16l-7.453 7.453 1.88 1.88L16 17.88l7.453 7.453 1.88-1.88L17.88 16z'/%3E%3C/svg%3E\\\")}.ag-icon-csv:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M384 131.9c-7.753-8.433-110.425-128.473-114.9-133L48-.1C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48zm-35.9 2.1H257V27.9zM30 479V27h200l1 105c0 13.3-1.3 29 12 29h111l1 318z' style='fill-rule:nonzero' transform='matrix(.06285 0 0 .06285 3.934 -.054)'/%3E%3Cpath d='M.688-.226a.2.2 0 0 1-.017.074.28.28 0 0 1-.145.14.412.412 0 0 1-.234.013.28.28 0 0 1-.202-.168.468.468 0 0 1-.04-.19q0-.086.025-.155a.319.319 0 0 1 .182-.191.4.4 0 0 1 .134-.025q.087 0 .155.035a.3.3 0 0 1 .104.085.17.17 0 0 1 .036.097.06.06 0 0 1-.018.044.06.06 0 0 1-.042.019.06.06 0 0 1-.042-.013.2.2 0 0 1-.031-.046.2.2 0 0 0-.066-.079.16.16 0 0 0-.095-.027.17.17 0 0 0-.142.068.3.3 0 0 0-.053.193.4.4 0 0 0 .023.139.2.2 0 0 0 .067.083.2.2 0 0 0 .1.027q.063 0 .106-.031a.2.2 0 0 0 .065-.091.2.2 0 0 1 .023-.046q.014-.018.044-.018a.06.06 0 0 1 .044.018.06.06 0 0 1 .019.045' style='fill-rule:nonzero' transform='matrix(8.39799 0 0 12.455 7.122 25.977)'/%3E%3Cpath d='M.622-.215a.2.2 0 0 1-.033.117.23.23 0 0 1-.098.081.4.4 0 0 1-.153.029.34.34 0 0 1-.175-.04.23.23 0 0 1-.079-.077.17.17 0 0 1-.031-.093q0-.027.019-.045a.06.06 0 0 1 .046-.019.06.06 0 0 1 .039.014.1.1 0 0 1 .027.044.3.3 0 0 0 .03.057q.015.023.044.038.03.015.076.015.065 0 .105-.03a.09.09 0 0 0 .04-.075.08.08 0 0 0-.022-.058.14.14 0 0 0-.056-.034 1 1 0 0 0-.092-.025.7.7 0 0 1-.129-.042.2.2 0 0 1-.083-.066.17.17 0 0 1-.03-.104q0-.058.032-.105a.2.2 0 0 1 .093-.07.4.4 0 0 1 .144-.025q.066 0 .114.016a.3.3 0 0 1 .08.044.2.2 0 0 1 .046.057q.015.03.015.058a.07.07 0 0 1-.018.046.06.06 0 0 1-.046.021q-.025 0-.038-.012a.2.2 0 0 1-.028-.041.2.2 0 0 0-.047-.063Q.387-.625.326-.625a.15.15 0 0 0-.09.025q-.035.024-.035.059 0 .021.012.037a.1.1 0 0 0 .032.027.4.4 0 0 0 .111.036q.06.015.11.031.048.018.083.042a.2.2 0 0 1 .054.062.2.2 0 0 1 .019.091' style='fill-rule:nonzero' transform='matrix(8.39799 0 0 12.455 13.339 25.977)'/%3E%3Cpath d='m.184-.633.162.48.163-.483q.013-.038.019-.053a.062.062 0 0 1 .061-.039q.018 0 .034.009a.1.1 0 0 1 .025.025q.009.015.009.031L.654-.64l-.007.025-.009.024-.173.468-.019.051a.2.2 0 0 1-.021.042.1.1 0 0 1-.033.03.1.1 0 0 1-.049.012.1.1 0 0 1-.05-.011A.1.1 0 0 1 .26-.03a.2.2 0 0 1-.021-.042L.22-.123.05-.587.041-.612.033-.638.03-.662q0-.025.02-.046a.07.07 0 0 1 .05-.02q.037 0 .053.023.015.023.031.072' style='fill-rule:nonzero' transform='matrix(8.39799 0 0 12.455 18.94 25.977)'/%3E%3C/svg%3E\\\")}.ag-icon-cut:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m19 3-6 6 2 2 7-7V3m-10 9.5a.503.503 0 0 1-.5-.5c0-.274.226-.5.5-.5s.5.226.5.5-.226.5-.5.5M6 20c-1.097 0-2-.903-2-2a2 2 0 0 1 2-2c1.097 0 2 .903 2 2a2 2 0 0 1-2 2M6 8c-1.097 0-2-.903-2-2a2 2 0 0 1 2-2c1.097 0 2 .903 2 2a2 2 0 0 1-2 2m3.64-.36c.23-.5.36-1.05.36-1.64 0-2.194-1.806-4-4-4S2 3.806 2 6s1.806 4 4 4c.59 0 1.14-.13 1.64-.36L10 12l-2.36 2.36C7.14 14.13 6.59 14 6 14c-2.194 0-4 1.806-4 4s1.806 4 4 4 4-1.806 4-4c0-.59-.13-1.14-.36-1.64L12 14l7 7h3v-1z' style='fill-rule:nonzero' transform='translate(4 4)'/%3E%3C/svg%3E\\\")}.ag-icon-desc:before,.ag-icon-down:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Edesc%3C/title%3E%3Cpath d='m26.667 16-1.88-1.88-7.453 7.44V5.333h-2.667V21.56l-7.44-7.453L5.334 16l10.667 10.667L26.668 16z'/%3E%3C/svg%3E\\\")}.ag-icon-excel:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M384 131.9c-7.753-8.433-110.425-128.473-114.9-133L48-.1C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48zm-35.9 2.1H257V27.9zM30 479V27h200l1 105c0 13.3-1.3 29 12 29h111l1 318z' style='fill-rule:nonzero' transform='matrix(.06285 0 0 .06285 3.934 -.054)'/%3E%3Cpath d='m.052-.139.16-.234-.135-.208a.4.4 0 0 1-.028-.052.1.1 0 0 1-.01-.042.05.05 0 0 1 .018-.037.07.07 0 0 1 .045-.016q.03 0 .047.018a1 1 0 0 1 .047.066l.107.174.115-.174.024-.038.019-.026.021-.015a.1.1 0 0 1 .027-.005.06.06 0 0 1 .044.016.05.05 0 0 1 .018.039q0 .033-.038.089l-.141.211.152.234a.3.3 0 0 1 .03.051.1.1 0 0 1 .009.038.1.1 0 0 1-.008.031.1.1 0 0 1-.024.023.1.1 0 0 1-.034.008.1.1 0 0 1-.035-.008.1.1 0 0 1-.023-.022L.427-.067.301-.265l-.134.204-.022.034-.016.019a.1.1 0 0 1-.022.015.1.1 0 0 1-.03.005.06.06 0 0 1-.044-.016.06.06 0 0 1-.017-.047q0-.036.036-.088' style='fill-rule:nonzero' transform='matrix(17.82892 0 0 16.50777 10.371 25.928)'/%3E%3C/svg%3E\\\")}.ag-icon-expanded:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eexpanded%3C/title%3E%3Cpath d='M20.94 9.88 19.06 8l-8 8 8 8 1.88-1.88L14.833 16z'/%3E%3C/svg%3E\\\")}.ag-icon-eye-slash:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eeye-slash%3C/title%3E%3Cpath d='M21.106 15.088A5.19 5.19 0 0 0 16 10.814a5.17 5.17 0 0 0-3.668 1.522L9.866 9.868a12.2 12.2 0 0 1 6.133-1.646c5.186 0 9.614 3.225 11.408 7.778a12.34 12.34 0 0 1-5.276 6.133l-2.468-2.466a5.17 5.17 0 0 0 1.449-2.802h-2.123c-.148.508-.42.964-.782 1.33l-1.33-1.33h-2.514l2.196 2.196q-.272.049-.56.05a3.11 3.11 0 0 1-2.99-2.245h-2.123a5.19 5.19 0 0 0 7.3 3.836l2.247 2.247a12.2 12.2 0 0 1-4.434.828c-5.186 0-9.614-3.225-11.408-7.778a12.3 12.3 0 0 1 3.781-5.111l2.924 2.924a5.1 5.1 0 0 0-.404 1.275h4.206l-1.296-1.296a3.1 3.1 0 0 1 2.196-.903c1.404 0 2.587.924 2.976 2.199h2.13z'/%3E%3C/svg%3E\\\")}.ag-icon-eye:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eeye%3C/title%3E%3Cpath d='M16 8.222c-5.186 0-9.614 3.225-11.408 7.778 1.794 4.553 6.222 7.778 11.408 7.778S25.614 20.553 27.408 16C25.614 11.447 21.186 8.222 16 8.222m0 12.964c-2.862 0-5.186-2.324-5.186-5.186s2.324-5.186 5.186-5.186 5.186 2.324 5.186 5.186-2.324 5.186-5.186 5.186m0-8.297c-1.721 0-3.111 1.39-3.111 3.111s1.39 3.111 3.111 3.111 3.111-1.39 3.111-3.111-1.39-3.111-3.111-3.111'/%3E%3C/svg%3E\\\")}.ag-icon-filter:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Efilter%3C/title%3E%3Cpath d='M13.333 24h5.333v-2.667h-5.333zM4 8v2.667h24V8zm4 9.333h16v-2.667H8z'/%3E%3C/svg%3E\\\")}.ag-icon-first:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Efirst%3C/title%3E%3Cpath d='M24.273 22.12 18.153 16l6.12-6.12L22.393 8l-8 8 8 8zM7.727 8h2.667v16H7.727z'/%3E%3C/svg%3E\\\")}.ag-icon-group:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Egroup%3C/title%3E%3Cpath d='M18.667 21.333h8.889A3.555 3.555 0 0 1 24 24.889h-5.333zm8.888-7.111v3.556h-8.889v-3.556zM24 7.111a3.555 3.555 0 0 1 3.556 3.556h-16V7.111zm-8.889 17.778h-3.556v-3.556h3.556zm0-7.111h-3.556v-3.556h3.556zM8 10.667H4.444A3.555 3.555 0 0 1 8 7.111z'/%3E%3C/svg%3E\\\")}.ag-icon-last:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Elast%3C/title%3E%3Cpath d='m7.727 9.88 6.12 6.12-6.12 6.12L9.607 24l8-8-8-8zM21.607 8h2.667v16h-2.667z'/%3E%3C/svg%3E\\\")}.ag-icon-left:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eleft%3C/title%3E%3Cpath d='M26.667 14.667H10.44l7.453-7.453L16 5.334 5.333 16.001 16 26.668l1.88-1.88-7.44-7.453h16.227v-2.667z'/%3E%3C/svg%3E\\\")}.ag-icon-linked:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Elinked%3C/title%3E%3Cpath d='M5.2 16a4.136 4.136 0 0 1 4.133-4.133h5.333V9.334H9.333c-3.68 0-6.667 2.987-6.667 6.667s2.987 6.667 6.667 6.667h5.333v-2.533H9.333A4.136 4.136 0 0 1 5.2 16.002zm5.467 1.333h10.667v-2.667H10.667zm12-8h-5.333v2.533h5.333c2.28 0 4.133 1.853 4.133 4.133s-1.853 4.133-4.133 4.133h-5.333v2.533h5.333c3.68 0 6.667-2.987 6.667-6.667s-2.987-6.667-6.667-6.667z'/%3E%3C/svg%3E\\\")}.ag-icon-loading:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eloading%3C/title%3E%3Cpath d='m17.778 11.708 3.25-3.251 2.516 2.516-3.251 3.25h4.597v3.556h-4.597l3.251 3.25-2.516 2.516-3.25-3.251v4.597h-3.556v-4.597l-3.25 3.251-2.516-2.516 3.251-3.25H7.11v-3.556h4.597l-3.251-3.25 2.516-2.516 3.25 3.251V7.111h3.556zm-3.251 7.847h2.944l2.084-2.084v-2.944l-2.084-2.084h-2.944l-2.084 2.084v2.944z'/%3E%3C/svg%3E\\\")}.ag-icon-maximize:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Emaximize%3C/title%3E%3Cpath d='M4 4h24v2.667H4z'/%3E%3C/svg%3E\\\")}.ag-icon-menu:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Emenu%3C/title%3E%3Cpath d='M4 24h24v-2.667H4zm0-6.667h24v-2.667H4zM4 8v2.667h24V8z'/%3E%3C/svg%3E\\\")}.ag-icon-menu-alt:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' fill='none' viewBox='0 0 32 32'%3E%3Cpath fill='%23000' d='M16 26.667a2.57 2.57 0 0 1-1.883-.784A2.57 2.57 0 0 1 13.333 24q0-1.1.784-1.883A2.57 2.57 0 0 1 16 21.333q1.1 0 1.883.784.784.783.784 1.883t-.784 1.883a2.57 2.57 0 0 1-1.883.784m0-8a2.57 2.57 0 0 1-1.883-.784A2.57 2.57 0 0 1 13.333 16q0-1.1.784-1.883A2.57 2.57 0 0 1 16 13.333q1.1 0 1.883.784.784.783.784 1.883t-.784 1.883a2.57 2.57 0 0 1-1.883.784m0-8a2.57 2.57 0 0 1-1.883-.784A2.57 2.57 0 0 1 13.333 8q0-1.1.784-1.883A2.57 2.57 0 0 1 16 5.333q1.1 0 1.883.784.784.783.784 1.883t-.784 1.883a2.57 2.57 0 0 1-1.883.784'/%3E%3C/svg%3E\\\")}.ag-icon-minimize:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eminimize%3C/title%3E%3Cpath d='M8 25.333h16V28H8z'/%3E%3C/svg%3E\\\")}.ag-icon-minus:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M6.572 6.572a13.32 13.32 0 0 0 0 18.856 13.32 13.32 0 0 0 18.856 0 13.32 13.32 0 0 0 0-18.856 13.32 13.32 0 0 0-18.856 0m17.527 8.099v2.658H7.901v-2.658z' style='fill-rule:nonzero'/%3E%3C/svg%3E\\\")}.ag-icon-next:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Enext%3C/title%3E%3Cpath d='m12.94 8-1.88 1.88L17.167 16l-6.107 6.12L12.94 24l8-8z'/%3E%3C/svg%3E\\\")}.ag-icon-none:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Enone%3C/title%3E%3Cpath d='M4 24h16v-2.667H4zM4 8v2.667h24V8zm0 9.333h24v-2.667H4z'/%3E%3C/svg%3E\\\")}.ag-icon-not-allowed:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Enot-allowed%3C/title%3E%3Cpath d='M16 2.667C8.64 2.667 2.667 8.64 2.667 16S8.64 29.333 16 29.333 29.333 23.36 29.333 16 23.36 2.667 16 2.667M5.333 16c0-5.893 4.773-10.667 10.667-10.667 2.467 0 4.733.84 6.533 2.253L7.586 22.533A10.54 10.54 0 0 1 5.333 16M16 26.667c-2.467 0-4.733-.84-6.533-2.253L24.414 9.467A10.54 10.54 0 0 1 26.667 16c0 5.893-4.773 10.667-10.667 10.667'/%3E%3C/svg%3E\\\")}.ag-icon-paste:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Epaste%3C/title%3E%3Cpath d='M25.333 4H19.76C19.2 2.453 17.733 1.333 16 1.333S12.8 2.453 12.24 4H6.667A2.675 2.675 0 0 0 4 6.667V28c0 1.467 1.2 2.667 2.667 2.667h18.667c1.467 0 2.667-1.2 2.667-2.667V6.667C28.001 5.2 26.801 4 25.334 4zM16 4c.733 0 1.333.6 1.333 1.333s-.6 1.333-1.333 1.333-1.333-.6-1.333-1.333S15.267 4 16 4m9.333 24H6.666V6.667h2.667v4h13.333v-4h2.667z'/%3E%3C/svg%3E\\\")}.ag-icon-pin:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Epin%3C/title%3E%3Cpath d='m11.106 22.093-4.444 4.444-1.259-1.259 4.444-4.444zm5.872-16.63 9.618 9.62-.962.962-.962-.962-7.694 3.847 1.924 1.924-2.74 2.74-7.696-7.696 2.741-2.74 1.924 1.925 3.847-7.696-.962-.962z'/%3E%3C/svg%3E\\\")}.ag-icon-pivot:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Epivot%3C/title%3E%3Cpath d='M26.667 30.223H5.334a3.556 3.556 0 0 1-3.556-3.556V5.334a3.556 3.556 0 0 1 3.556-3.556h21.333a3.556 3.556 0 0 1 3.556 3.556v21.333a3.556 3.556 0 0 1-3.556 3.556m-16-8.89H5.334v5.333h5.333zm16-7.11H12.444v12.444h14.223zm-9.15 6.85-2.039 2.037 2.039 2.039-1.257 1.257-3.295-3.296 3.295-3.295q.63.628 1.257 1.257zm-6.85-6.85H5.334v5.333h5.333zm15.74 3.816-1.257 1.256-2.039-2.037-2.037 2.037-1.257-1.256 3.295-3.296zM10.667 5.333H5.334v5.333h5.333zm8.889 0h-7.112v5.333h7.112zm7.111 0h-5.333v5.333h5.333z'/%3E%3C/svg%3E\\\")}.ag-icon-plus:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M6.572 6.572a13.32 13.32 0 0 0 0 18.856 13.32 13.32 0 0 0 18.856 0 13.32 13.32 0 0 0 0-18.856 13.32 13.32 0 0 0-18.856 0m17.527 8.099v2.658h-6.77v6.77h-2.658v-6.77h-6.77v-2.658h6.77v-6.77h2.658v6.77z' style='fill-rule:nonzero'/%3E%3C/svg%3E\\\")}.ag-icon-previous:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eprevious%3C/title%3E%3Cpath d='M20.94 9.88 19.06 8l-8 8 8 8 1.88-1.88L14.833 16z'/%3E%3C/svg%3E\\\")}.ag-icon-right:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eright%3C/title%3E%3Cpath d='m16 5.333-1.88 1.88 7.44 7.453H5.333v2.667H21.56l-7.44 7.453 1.88 1.88 10.667-10.667L16 5.332z'/%3E%3C/svg%3E\\\")}.ag-icon-save:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Esave%3C/title%3E%3Cpath d='M25.333 16v9.333H6.666V16H3.999v9.333C3.999 26.8 5.199 28 6.666 28h18.667C26.8 28 28 26.8 28 25.333V16zm-8 .893 3.453-3.44 1.88 1.88L15.999 22l-6.667-6.667 1.88-1.88 3.453 3.44V4h2.667v12.893z'/%3E%3C/svg%3E\\\")}.ag-icon-small-down:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Esmall-down%3C/title%3E%3Cpath d='M9.333 12.667 16 19.334l6.667-6.667H9.334z'/%3E%3C/svg%3E\\\")}.ag-icon-small-left:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Esmall-left%3C/title%3E%3Cpath d='M19.333 9.333 12.666 16l6.667 6.667V9.334z'/%3E%3C/svg%3E\\\")}.ag-icon-small-right:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Esmall-right%3C/title%3E%3Cpath d='M12.667 22.667 19.334 16l-6.667-6.667v13.333z'/%3E%3C/svg%3E\\\")}.ag-icon-small-up:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Esmall-up%3C/title%3E%3Cpath d='M9.333 19.333 16 12.666l6.667 6.667H9.334z'/%3E%3C/svg%3E\\\")}.ag-icon-tick:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Etick%3C/title%3E%3Cpath d='m11.727 21.167-5.56-5.56-1.893 1.88 7.453 7.453 16-16-1.88-1.88z'/%3E%3C/svg%3E\\\")}.ag-icon-tree-closed:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Etree-closed%3C/title%3E%3Cpath d='m12.94 8-1.88 1.88L17.167 16l-6.107 6.12L12.94 24l8-8z'/%3E%3C/svg%3E\\\")}.ag-icon-tree-indeterminate:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Etree-indeterminate%3C/title%3E%3Cpath d='M6.667 14.667h18.667v2.667H6.667z'/%3E%3C/svg%3E\\\")}.ag-icon-tree-open:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Etree-open%3C/title%3E%3Cpath d='M22.12 11.06 16 17.167 9.88 11.06 8 12.94l8 8 8-8z'/%3E%3C/svg%3E\\\")}.ag-icon-unlinked:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eunlinked%3C/title%3E%3Cpath d='M22.667 9.333h-5.333v2.533h5.333a4.136 4.136 0 0 1 4.133 4.133c0 1.907-1.307 3.507-3.08 3.973l1.947 1.947c2.173-1.107 3.667-3.32 3.667-5.92a6.67 6.67 0 0 0-6.667-6.667zm-1.334 5.334h-2.92l2.667 2.667h.253zM2.667 5.693 6.814 9.84A6.65 6.65 0 0 0 2.667 16a6.67 6.67 0 0 0 6.667 6.667h5.333v-2.533H9.334a4.136 4.136 0 0 1-4.133-4.133c0-2.12 1.613-3.867 3.68-4.093l2.76 2.76h-.973v2.667h3.64l3.027 3.027v2.307h2.307l5.347 5.333 1.68-1.68L4.362 4.002 2.669 5.695z'/%3E%3C/svg%3E\\\")}.ag-icon-up:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Easc%3C/title%3E%3Cpath d='m5.333 16 1.88 1.88 7.453-7.44v16.227h2.667V10.44l7.44 7.453L26.666 16 15.999 5.333z'/%3E%3C/svg%3E\\\")}.ag-icon-grip:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Egrip%3C/title%3E%3Cpath d='M26.667 12H5.334v2.667h21.333zM5.333 20h21.333v-2.667H5.333z'/%3E%3C/svg%3E\\\")}.ag-icon-settings:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' fill='none' viewBox='0 0 32 32'%3E%3Cpath fill='%23000' d='M30 8h-4.1c-.5-2.3-2.5-4-4.9-4s-4.4 1.7-4.9 4H2v2h14.1c.5 2.3 2.5 4 4.9 4s4.4-1.7 4.9-4H30zm-9 4c-1.7 0-3-1.3-3-3s1.3-3 3-3 3 1.3 3 3-1.3 3-3 3M2 24h4.1c.5 2.3 2.5 4 4.9 4s4.4-1.7 4.9-4H30v-2H15.9c-.5-2.3-2.5-4-4.9-4s-4.4 1.7-4.9 4H2zm9-4c1.7 0 3 1.3 3 3s-1.3 3-3 3-3-1.3-3-3 1.3-3 3-3'/%3E%3C/svg%3E\\\")}.ag-icon-column-arrow:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 32 32'%3E%3Cpath fill='currentColor' fill-rule='evenodd' d='M11 4a1 1 0 0 1 1 1v22a1 1 0 1 1-2 0V5a1 1 0 0 1 1-1' clip-rule='evenodd'/%3E%3Cpath fill='currentColor' fill-rule='evenodd' d='M2 13a1 1 0 0 1 1-1h23.5a1 1 0 1 1 0 2H3a1 1 0 0 1-1-1' clip-rule='evenodd'/%3E%3Cpath fill='currentColor' fill-rule='evenodd' d='M2 4h18v24H2zm2 2v20h14V6zM26.793 13 23 9.207l1.414-1.414L29.621 13l-5.207 5.207L23 16.793z' clip-rule='evenodd'/%3E%3C/svg%3E\\\")}.ag-icon-un-pin:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='none' viewBox='0 0 16 16'%3E%3Cpath fill='currentColor' d='M8 11a.75.75 0 0 0-.75.75v3.333a.75.75 0 1 0 1.5 0V11.75A.75.75 0 0 0 8 11'/%3E%3Cpath fill='currentColor' d='M13.11 1.436a.75.75 0 0 0-1.22-.872l-10 14a.75.75 0 1 0 1.22.872L5.207 12.5h7.376a.75.75 0 0 0 .75-.75v-1.174a2.08 2.08 0 0 0-1.153-1.863l-1.185-.599-.005-.002a.58.58 0 0 1-.323-.522V5.165a2.083 2.083 0 0 0 1.854-2.904zm-3.943 5.52v.634a2.08 2.08 0 0 0 1.153 1.863l1.185.6.005.002a.58.58 0 0 1 .323.522V11H6.28zM9.277 1H5.25a2.084 2.084 0 0 0-.083 4.165v1.676l1.5-2.132v-.292a.75.75 0 0 0-.75-.75H5.25a.584.584 0 0 1 0-1.167h2.972z'/%3E%3C/svg%3E\\\")}.ag-icon-pinned-top:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='none' viewBox='0 0 16 16'%3E%3Cpath fill='currentColor' d='M12.53 3.72A.75.75 0 0 1 12 5H4a.75.75 0 0 1 0-1.5h8a.75.75 0 0 1 .53.22M3.269 10.744a.75.75 0 0 1 .2-.524l4-4a.75.75 0 0 1 1.06 0l4 4a.75.75 0 1 1-1.06 1.06L8.75 8.56V14a.75.75 0 0 1-1.5 0V8.56l-2.72 2.72a.75.75 0 0 1-1.26-.536'/%3E%3C/svg%3E\\\")}.ag-icon-pinned-bottom:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='none' viewBox='0 0 16 16'%3E%3Cpath fill='currentColor' d='M3.47 12.28A.75.75 0 0 1 4 11h8a.75.75 0 0 1 0 1.5H4a.75.75 0 0 1-.53-.22M12.731 5.256a.75.75 0 0 1-.2.524l-4 4a.75.75 0 0 1-1.06 0l-4-4a.75.75 0 1 1 1.06-1.06l2.72 2.72V2a.75.75 0 0 1 1.5 0v5.44l2.72-2.72a.75.75 0 0 1 1.26.536'/%3E%3C/svg%3E\\\")}.ag-icon-chevron-up:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='none' viewBox='0 0 16 16'%3E%3Cpath fill='currentColor' fill-rule='evenodd' d='M3.479 10.521a.75.75 0 0 1 0-1.06l4-4a.75.75 0 0 1 1.06 0l4 4a.75.75 0 0 1-1.06 1.06l-3.47-3.47-3.47 3.47a.75.75 0 0 1-1.06 0' clip-rule='evenodd'/%3E%3C/svg%3E\\\")}.ag-icon-chevron-down:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='none' viewBox='0 0 16 16'%3E%3Cpath fill='currentColor' fill-rule='evenodd' d='M12.521 5.461a.75.75 0 0 1 0 1.06l-4 4a.75.75 0 0 1-1.06 0l-4-4a.75.75 0 0 1 1.06-1.06l3.47 3.47 3.47-3.47a.75.75 0 0 1 1.06 0' clip-rule='evenodd'/%3E%3C/svg%3E\\\")}.ag-icon-chevron-left:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='none' viewBox='0 0 16 16'%3E%3Cpath fill='currentColor' fill-rule='evenodd' d='M10.53 12.512a.75.75 0 0 1-1.06 0l-4-4a.75.75 0 0 1 0-1.06l4-4a.75.75 0 0 1 1.06 1.06l-3.47 3.47 3.47 3.47a.75.75 0 0 1 0 1.06' clip-rule='evenodd'/%3E%3C/svg%3E\\\")}.ag-icon-chevron-right:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='none' viewBox='0 0 16 16'%3E%3Cpath fill='currentColor' fill-rule='evenodd' d='M5.47 3.47a.75.75 0 0 1 1.06 0l4 4a.75.75 0 0 1 0 1.06l-4 4a.75.75 0 0 1-1.06-1.06L8.94 8 5.47 4.53a.75.75 0 0 1 0-1.06' clip-rule='evenodd'/%3E%3C/svg%3E\\\")}.ag-icon-filter-add:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' fill='none' viewBox='0 0 32 32'%3E%3Cpath fill='currentColor' d='M18.666 24h-5.333v-2.667h5.333zM24 17.333H8v-2.667h16zm3.59-9.344h3.221v2.657h-3.22v3.22h-2.656v-3.22h-3.221V7.989h3.22V4.77h2.657zm-8.582 2.678H4V8h15.008z'/%3E%3C/svg%3E\\\")}.ag-icon-edit:before{mask-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' fill='none' viewBox='0 0 32 32'%3E%3Cpath fill='currentColor' d='M6.222 25.778h1.611l14.834-14.811-1.611-1.611-14.834 14.81zM4 28v-4.733L22.644 4.656a2.26 2.26 0 0 1 1.567-.634q.423 0 .833.167.412.166.734.478l1.589 1.6q.333.322.483.733t.15.822q0 .423-.161.839-.162.416-.472.728L8.733 28zm17.856-17.833-.8-.811 1.61 1.61z'/%3E%3C/svg%3E\\\")}\";// packages/ag-grid-community/src/theming/parts/icon-set/material/icon-set-material.ts\nvar iconSetMaterial=/* @__PURE__ */createPart({feature:\"iconSet\",css:iconSetMaterialCSS});// packages/ag-grid-community/src/theming/parts/icon-set/overrides/icon-overrides.ts\nvar iconOverrides=args=>{var cssParts=[];if(args.type===\"image\"){var{icons,mask}=args;for(var key of Object.keys(icons)){var imageCssValue=imageValueToCss(icons[key]);if(mask){cssParts.push(\".ag-icon-\".concat(key,\"::before { mask-image: \").concat(imageCssValue,\"; }\"));}else{cssParts.push(\".ag-icon-\".concat(key,\"::before { background-image: \").concat(imageCssValue,\"; \").concat(unsetMaskIcon,\" }\"));}}}if(args.type===\"font\"){var{family,weight,color,icons:_icons}=args;var properties=unsetMaskIcon;if(family){properties+=\" font-family: \".concat(fontFamilyValueToCss(family),\";\");}if(weight){properties+=\" font-weight: \".concat(fontWeightValueToCss(weight),\";\");}if(color){properties+=\" color: \".concat(colorValueToCss(color),\";\");}for(var _key1 of Object.keys(_icons)){cssParts.push(\".ag-icon-\".concat(_key1,\"::before { content: \").concat(JSON.stringify(_icons[_key1]),\"; \").concat(properties,\" }\"));}}return createPart({css:cssParts.join(\";\\n\"),cssImports:args.cssImports});};var unsetMaskIcon=\"background-color: unset; mask-image: unset; -webkit-mask-image: unset;\";// packages/ag-grid-community/src/theming/parts/icon-set/quartz/quartz-icon-data.ts\nvar iconNameToSvgFragment={aggregation:'<path d=\"M18 7V4H6l6 8-6 8h12v-3\"/>',arrows:'<polyline points=\"5 9 2 12 5 15\"/><polyline points=\"9 5 12 2 15 5\"/><polyline points=\"15 19 12 22 9 19\"/><polyline points=\"19 9 22 12 19 15\"/><line x1=\"2\" x2=\"22\" y1=\"12\" y2=\"12\"/><line x1=\"12\" x2=\"12\" y1=\"2\" y2=\"22\"/>',asc:'<path d=\"m5 12 7-7 7 7\"/><path d=\"M12 19V5\"/>',cancel:'<path d=\"m18 6-12 12\"/><path d=\"m6 6 12 12\"/>',chart:'<line x1=\"18\" x2=\"18\" y1=\"20\" y2=\"10\"/><line x1=\"12\" x2=\"12\" y1=\"20\" y2=\"4\"/><line x1=\"6\" x2=\"6\" y1=\"20\" y2=\"14\"/>',\"color-picker\":'<path d=\"m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z\"/><path d=\"m5 2 5 5\"/><path d=\"M2 13h15\"/><path d=\"M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z\"/>',columns:'<path d=\"M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18\"/>',contracted:'<path d=\"m9 18 6-6-6-6\"/>',copy:'<rect width=\"14\" height=\"14\" x=\"8\" y=\"8\" rx=\"2\" ry=\"2\"/><path d=\"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2\"/>',cross:'<path d=\"M18 6 6 18\"/><path d=\"m6 6 12 12\"/>',csv:'<path d=\"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z\"/><polyline points=\"14 2 14 8 20 8\"/><path d=\"M8 13h2\"/><path d=\"M8 17h2\"/><path d=\"M14 13h2\"/><path d=\"M14 17h2\"/>',cut:'<circle cx=\"6\" cy=\"6\" r=\"3\"/><path d=\"M8.12 8.12 12 12\"/><path d=\"M20 4 8.12 15.88\"/><circle cx=\"6\" cy=\"18\" r=\"3\"/><path d=\"M14.8 14.8 20 20\"/>',desc:'<path d=\"M12 5v14\"/><path d=\"m19 12-7 7-7-7\"/>',down:'<path d=\"M12 5v14\"/><path d=\"m19 12-7 7-7-7\"/>',excel:'<path d=\"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z\"/><polyline points=\"14 2 14 8 20 8\"/><path d=\"M8 13h2\"/><path d=\"M8 17h2\"/><path d=\"M14 13h2\"/><path d=\"M14 17h2\"/>',expanded:'<path d=\"m15 18-6-6 6-6\"/>',\"eye-slash\":'<path d=\"M9.88 9.88a3 3 0 1 0 4.24 4.24\"/><path d=\"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68\"/><path d=\"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61\"/><line x1=\"2\" x2=\"22\" y1=\"2\" y2=\"22\"/>',eye:'<path d=\"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z\"/><circle cx=\"12\" cy=\"12\" r=\"3\"/>',filter:'<path d=\"M3 6h18\"/><path d=\"M7 12h10\"/><path d=\"M10 18h4\"/>',first:'<path d=\"m17 18-6-6 6-6\"/><path d=\"M7 6v12\"/>',group:'<path d=\"M16 12H3\"/><path d=\"M16 18H3\"/><path d=\"M10 6H3\"/><path d=\"M21 18V8a2 2 0 0 0-2-2h-5\"/><path d=\"m16 8-2-2 2-2\"/>',last:'<path d=\"m7 18 6-6-6-6\"/><path d=\"M17 6v12\"/>',left:'<path d=\"m12 19-7-7 7-7\"/><path d=\"M19 12H5\"/>',linked:'<path d=\"M9 17H7A5 5 0 0 1 7 7h2\"/><path d=\"M15 7h2a5 5 0 1 1 0 10h-2\"/><line x1=\"8\" x2=\"16\" y1=\"12\" y2=\"12\"/>',loading:'<line x1=\"12\" x2=\"12\" y1=\"2\" y2=\"6\"/><line x1=\"12\" x2=\"12\" y1=\"18\" y2=\"22\"/><line x1=\"4.93\" x2=\"7.76\" y1=\"4.93\" y2=\"7.76\"/><line x1=\"16.24\" x2=\"19.07\" y1=\"16.24\" y2=\"19.07\"/><line x1=\"2\" x2=\"6\" y1=\"12\" y2=\"12\"/><line x1=\"18\" x2=\"22\" y1=\"12\" y2=\"12\"/><line x1=\"4.93\" x2=\"7.76\" y1=\"19.07\" y2=\"16.24\"/><line x1=\"16.24\" x2=\"19.07\" y1=\"7.76\" y2=\"4.93\"/>',maximize:'<polyline points=\"15 3 21 3 21 9\"/><polyline points=\"9 21 3 21 3 15\"/><line x1=\"21\" x2=\"14\" y1=\"3\" y2=\"10\"/><line x1=\"3\" x2=\"10\" y1=\"21\" y2=\"14\"/>',menu:'<line x1=\"4\" x2=\"20\" y1=\"12\" y2=\"12\"/><line x1=\"4\" x2=\"20\" y1=\"6\" y2=\"6\"/><line x1=\"4\" x2=\"20\" y1=\"18\" y2=\"18\"/>',\"menu-alt\":'<circle cx=\"12\" cy=\"5\" r=\"0.75\" fill=\"#D9D9D9\"/><circle cx=\"12\" cy=\"12\" r=\"0.75\" fill=\"#D9D9D9\"/><circle cx=\"12\" cy=\"19\" r=\"0.75\" fill=\"#D9D9D9\"/>',minimize:'<polyline points=\"4 14 10 14 10 20\"/><polyline points=\"20 10 14 10 14 4\"/><line x1=\"14\" x2=\"21\" y1=\"10\" y2=\"3\"/><line x1=\"3\" x2=\"10\" y1=\"21\" y2=\"14\"/>',minus:'<circle cx=\"12\" cy=\"12\" r=\"10\"/><path d=\"M8 12h8\"/>',next:'<path d=\"m9 18 6-6-6-6\"/>',none:'<path d=\"m7 15 5 5 5-5\"/><path d=\"m7 9 5-5 5 5\"/>',\"not-allowed\":'<circle cx=\"12\" cy=\"12\" r=\"10\"/><path d=\"m4.9 4.9 14.2 14.2\"/>',paste:'<path d=\"M15 2H9a1 1 0 0 0-1 1v2c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V3c0-.6-.4-1-1-1Z\"/><path d=\"M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2M16 4h2a2 2 0 0 1 2 2v2M11 14h10\"/><path d=\"m17 10 4 4-4 4\"/>',pin:'<line x1=\"12\" x2=\"12\" y1=\"17\" y2=\"22\"/><path d=\"M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z\"/>',pivot:'<path d=\"M15 3v18\"/><rect width=\"18\" height=\"18\" x=\"3\" y=\"3\" rx=\"2\"/><path d=\"M21 9H3\"/><path d=\"M21 15H3\"/>',plus:'<circle cx=\"12\" cy=\"12\" r=\"10\"/><path d=\"M8 12h8\"/><path d=\"M12 8v8\"/>',previous:'<path d=\"m15 18-6-6 6-6\"/>',right:'<path d=\"M5 12h14\"/><path d=\"m12 5 7 7-7 7\"/>',save:'<path d=\"M12 17V3\"/><path d=\"m6 11 6 6 6-6\"/><path d=\"M19 21H5\"/>',\"small-left\":'<path d=\"m15 18-6-6 6-6\"/>',\"small-right\":'<path d=\"m9 18 6-6-6-6\"/>',tick:'<path d=\"M20 6 9 17l-5-5\"/>',\"tree-closed\":'<path d=\"m9 18 6-6-6-6\"/>',\"tree-indeterminate\":'<path d=\"M5 12h14\"/>',\"tree-open\":'<path d=\"m6 9 6 6 6-6\"/>',unlinked:'<path d=\"M9 17H7A5 5 0 0 1 7 7\"/><path d=\"M15 7h2a5 5 0 0 1 4 8\"/><line x1=\"8\" x2=\"12\" y1=\"12\" y2=\"12\"/><line x1=\"2\" x2=\"22\" y1=\"2\" y2=\"22\"/>',up:'<path d=\"m5 12 7-7 7 7\"/><path d=\"M12 19V5\"/>',grip:'<circle cx=\"5\" cy=\"8\" r=\"0.5\"/><circle cx=\"12\" cy=\"8\" r=\"0.5\"/><circle cx=\"19\" cy=\"8\" r=\"0.5\"/><circle cx=\"5\" cy=\"16\" r=\"0.5\"/><circle cx=\"12\" cy=\"16\" r=\"0.5\"/><circle cx=\"19\" cy=\"16\" r=\"0.5\"/><g stroke=\"none\" fill=\"currentColor\"><circle cx=\"5\" cy=\"8\" r=\"1\"/><circle cx=\"12\" cy=\"8\" r=\"1\"/><circle cx=\"19\" cy=\"8\" r=\"1\"/><circle cx=\"5\" cy=\"16\" r=\"1\"/><circle cx=\"12\" cy=\"16\" r=\"1\"/><circle cx=\"19\" cy=\"16\" r=\"1\"/></g>',settings:'<path d=\"M20 7h-9\"/><path d=\"M14 17H5\"/><circle cx=\"17\" cy=\"17\" r=\"3\"/><circle cx=\"7\" cy=\"7\" r=\"3\"/>'};var iconNameToFullSvg={\"column-arrow\":'<svg xmlns=\"http://www.w3.org/2000/svg\" class=\"ag-icon\" fill=\"none\" viewBox=\"0 0 32 32\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M0 26C0 28.2092 1.79086 30 4 30H14C16.2091 30 18 28.2092 18 26V15H25.8786L24.4394 16.4393C23.8536 17.0251 23.8536 17.9749 24.4394 18.5607C25.0252 19.1464 25.9748 19.1464 26.5606 18.5607L30.5606 14.5607C31.1464 13.9749 31.1464 13.0251 30.5606 12.4393L26.5606 8.43934C25.9748 7.85356 25.0252 7.85356 24.4394 8.43934C23.8536 9.02512 23.8536 9.97488 24.4394 10.5607L25.8786 12H18V6C18 3.79086 16.2091 2 14 2H4C1.79086 2 0 3.79086 0 6V26ZM14 5H10.5V12H15V6C15 5.44772 14.5523 5 14 5ZM4 5H7.5V12H3V6C3 5.44772 3.44772 5 4 5ZM10.5 15H15V26C15 26.5522 14.5523 27 14 27H10.5V15ZM4 27H7.5V15H3V26C3 26.5522 3.44772 27 4 27Z\" fill=\"currentColor\"/></svg>',\"small-down\":'<svg xmlns=\"http://www.w3.org/2000/svg\" class=\"ag-icon\" fill=\"black\" stroke=\"none\" viewBox=\"0 0 32 32\"><path d=\"M7.334 10.667 16 21.334l8.667-10.667H7.334Z\"/></svg>',\"small-up\":'<svg xmlns=\"http://www.w3.org/2000/svg\" class=\"ag-icon\" fill=\"black\" stroke=\"none\" viewBox=\"0 0 32 32\"><path d=\"M7.334 21.333 16 10.666l8.667 10.667H7.334Z\"/></svg>',\"pinned-top\":'<svg xmlns=\"http://www.w3.org/2000/svg\" class=\"ag-icon\" fill=\"none\" viewBox=\"0 0 16 16\"><path fill=\"currentColor\" d=\"M12.53 3.72A.75.75 0 0 1 12 5H4a.75.75 0 0 1 0-1.5h8a.75.75 0 0 1 .53.22ZM3.269 10.744a.75.75 0 0 1 .2-.524l4-4a.75.75 0 0 1 1.06 0l4 4a.75.75 0 1 1-1.06 1.06L8.75 8.56V14a.75.75 0 0 1-1.5 0V8.56l-2.72 2.72a.75.75 0 0 1-1.26-.536Z\"/></svg>',\"pinned-bottom\":'<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" class=\"ag-icon\" viewBox=\"0 0 16 16\"><path fill=\"currentColor\" d=\"M3.47 12.28A.75.75 0 0 1 4 11h8a.75.75 0 0 1 0 1.5H4a.75.75 0 0 1-.53-.22ZM12.731 5.256a.75.75 0 0 1-.2.524l-4 4a.75.75 0 0 1-1.06 0l-4-4a.75.75 0 1 1 1.06-1.06l2.72 2.72V2a.75.75 0 0 1 1.5 0v5.44l2.72-2.72a.75.75 0 0 1 1.26.536Z\"/></svg>',\"un-pin\":'<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" class=\"ag-icon\" viewBox=\"0 0 16 16\"><path fill=\"currentColor\" d=\"M8 11a.75.75 0 0 0-.75.75v3.333a.75.75 0 1 0 1.5 0V11.75A.75.75 0 0 0 8 11Z\"/><path fill=\"currentColor\" d=\"M13.11 1.436a.75.75 0 0 0-1.22-.872l-10 14a.75.75 0 1 0 1.22.872L5.207 12.5h7.376a.75.75 0 0 0 .75-.75v-1.174a2.08 2.08 0 0 0-1.153-1.863l-1.185-.599-.005-.002a.58.58 0 0 1-.323-.522V5.165a2.083 2.083 0 0 0 1.854-2.904l.589-.825Zm-3.943 5.52v.634a2.08 2.08 0 0 0 1.153 1.863l1.185.6.005.002a.58.58 0 0 1 .323.522V11H6.28l2.887-4.044ZM9.277 1H5.25a2.084 2.084 0 0 0-.083 4.165v1.676l1.5-2.132v-.292a.75.75 0 0 0-.75-.75H5.25a.584.584 0 0 1 0-1.167h2.972L9.277 1Z\"/></svg>',\"chevron-down\":'<svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" class=\"ag-icon\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M12 6L8 10L4 6\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/></svg>',\"chevron-up\":'<svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" class=\"ag-icon\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M4 10L8 6L12 10\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/></svg>',\"chevron-left\":'<svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" class=\"ag-icon\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M10 12L6 8L10 4\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/></svg>',\"chevron-right\":'<svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" class=\"ag-icon\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M6 12L10 8L6 4\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/></svg>',\"filter-add\":'<svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" class=\"ag-icon\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M5.12126 7.75L10.8517 7.75\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\"/><path d=\"M6.65934 11.748L9.32778 11.748\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\"/><path d=\"M12.2943 1.04872V6.19184M14.9886 3.74341H9.68478\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\"/><path d=\"M8.25488 3C8.04799 3.18323 7.91706 3.45099 7.91699 3.74902C7.91713 4.04868 8.04988 4.31681 8.25879 4.5H2C1.58579 4.5 1.25 4.16421 1.25 3.75C1.25 3.33579 1.58579 3 2 3H8.25488Z\" fill=\"currentColor\"/></svg>',edit:'<svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M3.5 10.6262V12.5012H5.375L10.905 6.97122L9.03 5.09622L3.5 10.6262ZM12.355 5.52122C12.4014 5.47497 12.4381 5.42002 12.4632 5.35953C12.4883 5.29905 12.5012 5.23421 12.5012 5.16872C12.5012 5.10324 12.4883 5.0384 12.4632 4.97791C12.4381 4.91742 12.4014 4.86248 12.355 4.81622L11.185 3.64622C11.1387 3.59987 11.0838 3.5631 11.0233 3.53801C10.9628 3.51291 10.898 3.5 10.8325 3.5C10.767 3.5 10.7022 3.51291 10.6417 3.53801C10.5812 3.5631 10.5263 3.59987 10.48 3.64622L9.565 4.56122L11.44 6.43622L12.355 5.52122Z\" fill=\"currentColor\"/></svg>'};var getQuartzIconsCss=function getQuartzIconsCss(){var args=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var result=\"\";for(var iconName of[...Object.keys(iconNameToSvgFragment),...Object.keys(iconNameToFullSvg)]){var iconSvg=quartzIconSvg(iconName,args.strokeWidth);result+=\".ag-icon-\".concat(iconName,\"::before { mask-image: url('data:image/svg+xml,\").concat(encodeURIComponent(iconSvg),\"'); }\\n\");}return result;};var quartzIconSvg=function quartzIconSvg(name){var strokeWidth=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1.5;var fullSVG=iconNameToFullSvg[name];if(fullSVG)return fullSVG;var svgFragment=iconNameToSvgFragment[name];if(!svgFragment)throw new Error(\"Missing icon data for \".concat(name));return\"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" class=\\\"ag-icon\\\" fill=\\\"none\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" stroke=\\\"black\\\" stroke-width=\\\"\".concat(strokeWidth,\"\\\" viewBox=\\\"0 0 24 24\\\"><style>* { vector-effect: non-scaling-stroke; }</style>\")+svgFragment+\"</svg>\";};// packages/ag-grid-community/src/theming/parts/icon-set/quartz/icon-set-quartz.ts\nvar iconSetQuartz=function iconSetQuartz(){var args=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return createPart({feature:\"iconSet\",css:()=>getQuartzIconsCss(args)});};var iconSetQuartzLight=/* @__PURE__ */iconSetQuartz({strokeWidth:1});var iconSetQuartzRegular=/* @__PURE__ */iconSetQuartz();var iconSetQuartzBold=/* @__PURE__ */iconSetQuartz({strokeWidth:2});// packages/ag-grid-community/src/theming/parts/input-style/input-style-base.css-GENERATED.ts\nvar inputStyleBaseCSS=/*css*/\":where(.ag-input-field-input[type=number]:not(.ag-number-field-input-stepper)){-webkit-appearance:textfield;-moz-appearance:textfield;appearance:textfield;&::-webkit-inner-spin-button,&::-webkit-outer-spin-button{-webkit-appearance:none;appearance:none;margin:0}}.ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){background-color:var(--ag-input-background-color);border:var(--ag-input-border);border-radius:var(--ag-input-border-radius);color:var(--ag-input-text-color);font-family:inherit;font-size:inherit;line-height:inherit;margin:0;min-height:var(--ag-input-height);padding:0;&:where(:disabled){background-color:var(--ag-input-disabled-background-color);border:var(--ag-input-disabled-border);color:var(--ag-input-disabled-text-color)}&:where(:focus){background-color:var(--ag-input-focus-background-color);border:var(--ag-input-focus-border);box-shadow:var(--ag-input-focus-shadow);color:var(--ag-input-focus-text-color);outline:none}&:where(:invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&:where(.invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&::-moz-placeholder{color:var(--ag-input-placeholder-text-color)}&::placeholder{color:var(--ag-input-placeholder-text-color)}}:where(.ag-ltr) .ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){padding-left:var(--ag-input-padding-start)}:where(.ag-rtl) .ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){padding-right:var(--ag-input-padding-start)}:where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter,.ag-filter-add-select){.ag-input-wrapper:before{background-color:currentcolor;color:var(--ag-input-icon-color);content:\\\"\\\";display:block;height:12px;-webkit-mask-image:url(\\\"data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS41Ij48cGF0aCBkPSJNNS4zIDlhMy43IDMuNyAwIDEgMCAwLTcuNSAzLjcgMy43IDAgMCAwIDAgNy41Wk0xMC41IDEwLjUgOC4zIDguMiIvPjwvc3ZnPg==\\\");mask-image:url(\\\"data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS41Ij48cGF0aCBkPSJNNS4zIDlhMy43IDMuNyAwIDEgMCAwLTcuNSAzLjcgMy43IDAgMCAwIDAgNy41Wk0xMC41IDEwLjUgOC4zIDguMiIvPjwvc3ZnPg==\\\");-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;opacity:.5;position:absolute;width:12px}}:where(.ag-ltr) :where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter,.ag-filter-add-select){.ag-input-wrapper:before{margin-left:var(--ag-spacing)}.ag-number-field-input,.ag-text-field-input{padding-left:calc(var(--ag-spacing)*1.5 + 12px)}}:where(.ag-rtl) :where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter,.ag-filter-add-select){.ag-input-wrapper:before{margin-right:var(--ag-spacing)}.ag-number-field-input,.ag-text-field-input{padding-right:calc(var(--ag-spacing)*1.5 + 12px)}}\";// packages/ag-grid-community/src/theming/parts/input-style/input-style-bordered.css-GENERATED.ts\nvar inputStyleBorderedCSS=/*css*/\".ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){&:focus{box-shadow:var(--ag-focus-shadow);&:where(.invalid),&:where(:invalid){box-shadow:var(--ag-focus-error-shadow)}}}\";// packages/ag-grid-community/src/theming/parts/input-style/input-style-underlined.css-GENERATED.ts\nvar inputStyleUnderlinedCSS=/*css*/\".ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){border-left:none;border-right:none;border-top:none}\";// packages/ag-grid-community/src/theming/parts/input-style/input-styles.ts\nvar baseParams3={inputBackgroundColor:\"transparent\",inputBorder:false,inputBorderRadius:0,inputTextColor:{ref:\"textColor\"},inputPlaceholderTextColor:{ref:\"inputTextColor\",mix:0.5},inputPaddingStart:0,inputHeight:{calc:\"max(iconSize, fontSize) + spacing * 2\"},inputFocusBackgroundColor:{ref:\"inputBackgroundColor\"},inputFocusBorder:{ref:\"inputBorder\"},inputFocusShadow:\"none\",inputFocusTextColor:{ref:\"inputTextColor\"},inputDisabledBackgroundColor:{ref:\"inputBackgroundColor\"},inputDisabledBorder:{ref:\"inputBorder\"},inputDisabledTextColor:{ref:\"inputTextColor\"},inputInvalidBackgroundColor:{ref:\"inputBackgroundColor\"},inputInvalidBorder:{ref:\"inputBorder\"},inputInvalidTextColor:{ref:\"inputTextColor\"},inputIconColor:{ref:\"inputTextColor\"},pickerButtonBorder:false,pickerButtonFocusBorder:{ref:\"inputFocusBorder\"},pickerButtonBackgroundColor:{ref:\"backgroundColor\"},pickerButtonFocusBackgroundColor:{ref:\"backgroundColor\"},pickerListBorder:false,pickerListBackgroundColor:{ref:\"backgroundColor\"}};var makeInputStyleBaseTreeShakeable=()=>createPart({feature:\"inputStyle\",params:baseParams3,css:inputStyleBaseCSS});var inputStyleBase=/* @__PURE__ */makeInputStyleBaseTreeShakeable();var makeInputStyleBorderedTreeShakeable=()=>createPart({feature:\"inputStyle\",params:_objectSpread(_objectSpread({},baseParams3),{},{inputBackgroundColor:backgroundColor,inputBorder:true,inputBorderRadius:{ref:\"borderRadius\"},inputPaddingStart:{ref:\"spacing\"},inputFocusBorder:{color:accentColor},inputFocusShadow:{ref:\"focusShadow\"},inputDisabledBackgroundColor:foregroundBackgroundMix(0.06),inputDisabledTextColor:{ref:\"textColor\",mix:0.5},inputInvalidBorder:{color:{ref:\"invalidColor\"}},pickerButtonBorder:true,pickerListBorder:true}),css:()=>inputStyleBaseCSS+inputStyleBorderedCSS});var inputStyleBordered=/* @__PURE__ */makeInputStyleBorderedTreeShakeable();var makeInputStyleUnderlinedTreeShakeable=()=>createPart({feature:\"inputStyle\",params:_objectSpread(_objectSpread({},baseParams3),{},{inputBackgroundColor:\"transparent\",inputBorder:{width:2,color:foregroundMix(0.3)},inputPaddingStart:{ref:\"spacing\"},inputFocusBorder:\"solid 2px var(--ag-accent-color)\",inputDisabledTextColor:{ref:\"textColor\",mix:0.5},inputDisabledBorder:\"solid 1px var(--ag-border-color)\",inputInvalidBorder:{width:2,color:{ref:\"invalidColor\",mix:0.3}}}),css:()=>inputStyleBaseCSS+inputStyleUnderlinedCSS});var inputStyleUnderlined=/* @__PURE__ */makeInputStyleUnderlinedTreeShakeable();// packages/ag-grid-community/src/theming/parts/tab-style/tab-style-base.css-GENERATED.ts\nvar tabStyleBaseCSS=/*css*/\".ag-tabs-header{background-color:var(--ag-tab-bar-background-color);border-bottom:var(--ag-tab-bar-border);display:flex;flex:1;gap:var(--ag-tab-spacing);padding:var(--ag-tab-bar-top-padding) var(--ag-tab-bar-horizontal-padding) 0}.ag-tabs-header-wrapper{display:flex}.ag-tabs-close-button-wrapper{align-items:center;border:0;display:flex;padding:var(--ag-spacing)}:where(.ag-ltr) .ag-tabs-close-button-wrapper{border-right:solid var(--ag-border-width) var(--ag-border-color)}:where(.ag-rtl) .ag-tabs-close-button-wrapper{border-left:solid var(--ag-border-width) var(--ag-border-color)}.ag-tabs-close-button{background-color:unset;border:0;cursor:pointer;padding:0}.ag-tab{align-items:center;background-color:var(--ag-tab-background-color);border-left:var(--ag-tab-selected-border-width) solid transparent;border-right:var(--ag-tab-selected-border-width) solid transparent;color:var(--ag-tab-text-color);cursor:pointer;display:flex;flex:1;justify-content:center;padding:var(--ag-tab-top-padding) var(--ag-tab-horizontal-padding) var(--ag-tab-bottom-padding);position:relative;&:hover{background-color:var(--ag-tab-hover-background-color);color:var(--ag-tab-hover-text-color)}&.ag-tab-selected{background-color:var(--ag-tab-selected-background-color);color:var(--ag-tab-selected-text-color)}&:after{background-color:var(--ag-tab-selected-underline-color);bottom:0;content:\\\"\\\";display:block;height:var(--ag-tab-selected-underline-width);left:0;opacity:0;position:absolute;right:0;transition:opacity var(--ag-tab-selected-underline-transition-duration)}&.ag-tab-selected:after{opacity:1}}:where(.ag-ltr) .ag-tab{&.ag-tab-selected{&:where(:not(:first-of-type)){border-left-color:var(--ag-tab-selected-border-color)}&:where(:not(:last-of-type)){border-right-color:var(--ag-tab-selected-border-color)}}}:where(.ag-rtl) .ag-tab{&.ag-tab-selected{&:where(:not(:first-of-type)){border-right-color:var(--ag-tab-selected-border-color)}&:where(:not(:last-of-type)){border-left-color:var(--ag-tab-selected-border-color)}}}\";// packages/ag-grid-community/src/theming/parts/tab-style/tab-style-rolodex.css-GENERATED.ts\nvar tabStyleRolodexCSS=/*css*/\".ag-tab{border-left:var(--ag-tab-selected-border-width) solid transparent;border-right:var(--ag-tab-selected-border-width) solid transparent;border-top:var(--ag-tab-selected-border-width) solid transparent;flex:none;&.ag-tab-selected{border-left-color:var(--ag-tab-selected-border-color);border-right-color:var(--ag-tab-selected-border-color);border-top-color:var(--ag-tab-selected-border-color);margin-bottom:-1px;padding-bottom:calc(var(--ag-tab-bottom-padding) + 1px)}}\";// packages/ag-grid-community/src/theming/parts/tab-style/tab-styles.ts\nvar baseParams4={tabBarBackgroundColor:\"transparent\",tabBarHorizontalPadding:0,tabBarTopPadding:0,tabBackgroundColor:\"transparent\",tabTextColor:{ref:\"textColor\"},tabHorizontalPadding:{ref:\"spacing\"},tabTopPadding:{ref:\"spacing\"},tabBottomPadding:{ref:\"spacing\"},tabSpacing:\"0\",tabHoverBackgroundColor:{ref:\"tabBackgroundColor\"},tabHoverTextColor:{ref:\"tabTextColor\"},tabSelectedBackgroundColor:{ref:\"tabBackgroundColor\"},tabSelectedTextColor:{ref:\"tabTextColor\"},tabSelectedBorderWidth:{ref:\"borderWidth\"},tabSelectedBorderColor:\"transparent\",tabSelectedUnderlineColor:\"transparent\",tabSelectedUnderlineWidth:0,tabSelectedUnderlineTransitionDuration:0,tabBarBorder:false};var makeTabStyleBaseTreeShakeable=()=>createPart({feature:\"tabStyle\",params:baseParams4,css:tabStyleBaseCSS});var tabStyleBase=/* @__PURE__ */makeTabStyleBaseTreeShakeable();var makeTabStyleQuartzTreeShakeable=()=>createPart({feature:\"tabStyle\",params:_objectSpread(_objectSpread({},baseParams4),{},{tabBarBorder:true,tabBarBackgroundColor:foregroundMix(0.05),tabTextColor:{ref:\"textColor\",mix:0.7},tabSelectedTextColor:{ref:\"textColor\"},tabHoverTextColor:{ref:\"textColor\"},tabSelectedBorderColor:{ref:\"borderColor\"},tabSelectedBackgroundColor:backgroundColor}),css:tabStyleBaseCSS});var tabStyleQuartz=/* @__PURE__ */makeTabStyleQuartzTreeShakeable();var makeTabStyleMaterialTreeShakeable=()=>createPart({feature:\"tabStyle\",params:_objectSpread(_objectSpread({},baseParams4),{},{tabBarBackgroundColor:{ref:\"chromeBackgroundColor\"},tabSelectedUnderlineColor:{ref:\"primaryColor\"},tabSelectedUnderlineWidth:2,tabSelectedUnderlineTransitionDuration:0}),css:tabStyleBaseCSS});var tabStyleMaterial=/* @__PURE__ */makeTabStyleMaterialTreeShakeable();var makeTabStyleAlpineTreeShakeable=()=>createPart({feature:\"tabStyle\",params:_objectSpread(_objectSpread({},baseParams4),{},{tabBarBorder:true,tabBarBackgroundColor:{ref:\"chromeBackgroundColor\"},tabHoverTextColor:accentColor,tabSelectedTextColor:accentColor,tabSelectedUnderlineColor:accentColor,tabSelectedUnderlineWidth:2,tabSelectedUnderlineTransitionDuration:\"0.3s\"}),css:tabStyleBaseCSS});var tabStyleAlpine=/* @__PURE__ */makeTabStyleAlpineTreeShakeable();var makeTabStyleRolodexTreeShakeable=()=>createPart({feature:\"tabStyle\",params:_objectSpread(_objectSpread({},baseParams4),{},{tabBarBackgroundColor:{ref:\"chromeBackgroundColor\"},tabBarHorizontalPadding:{ref:\"spacing\"},tabBarTopPadding:{ref:\"spacing\"},tabBarBorder:true,tabHorizontalPadding:{calc:\"spacing * 2\"},tabTopPadding:{ref:\"spacing\"},tabBottomPadding:{ref:\"spacing\"},tabSpacing:{ref:\"spacing\"},tabSelectedBorderColor:{ref:\"borderColor\"},tabSelectedBackgroundColor:backgroundColor}),css:()=>tabStyleBaseCSS+tabStyleRolodexCSS});var tabStyleRolodex=/* @__PURE__ */makeTabStyleRolodexTreeShakeable();// packages/ag-grid-community/src/theming/parts/theme/material-adjustments.css-GENERATED.ts\nvar materialAdjustmentsCSS=/*css*/\".ag-dnd-ghost,.ag-filter-toolpanel-header,.ag-filter-toolpanel-search,.ag-multi-filter-group-title-bar,.ag-panel-title-bar-title,.ag-status-bar{color:var(--ag-header-text-color);font-size:calc(var(--ag-font-size) - 1px);font-weight:600}.ag-column-drop-horizontal{background-color:color-mix(in srgb,var(--ag-background-color),var(--ag-foreground-color) 8%)}.ag-cell.ag-cell-inline-editing{background-color:var(--ag-background-color);background-image:linear-gradient(0deg,var(--ag-input-background-color),var(--ag-input-background-color));border:var(--ag-input-border)!important;border-width:1px!important;height:calc(var(--ag-row-height) + var(--ag-spacing)*3);padding:var(--ag-spacing);:where(.ag-row-last:not(.ag-row-first)) &{bottom:0}:where(.ag-has-focus) &{border:var(--ag-input-focus-border)!important;border-width:1px!important}}.ag-advanced-filter-builder-button,.ag-standard-button{text-transform:uppercase}.ag-status-bar{border:solid var(--ag-border-width) var(--ag-border-color)}.ag-list-item-hovered:after{background-color:var(--ag-primary-color)}.ag-pill-button:hover{color:var(--ag-primary-color)}.ag-header-highlight-after:after,.ag-header-highlight-before:after{background-color:var(--ag-primary-color)}.ag-filter-add-button,.ag-filter-add-button:hover{border-bottom:2px solid var(--ag-primary-color)}\";// packages/ag-grid-community/src/theming/parts/theme/themes.ts\nvar makeThemeQuartzTreeShakeable=()=>createTheme().withPart(checkboxStyleDefault).withPart(colorSchemeVariable).withPart(iconSetQuartzRegular).withPart(tabStyleQuartz).withPart(inputStyleBordered).withPart(columnDropStyleBordered).withParams({fontFamily:[{googleFont:\"IBM Plex Sans\"},\"-apple-system\",\"BlinkMacSystemFont\",\"Segoe UI\",\"Roboto\",\"Oxygen-Sans\",\"Ubuntu\"]});var themeQuartz=/* @__PURE__ */makeThemeQuartzTreeShakeable();var makeThemeAlpineTreeShakeable=()=>createTheme().withPart(buttonStyleAlpine).withPart(checkboxStyleDefault).withPart(colorSchemeVariable).withPart(iconSetAlpine).withPart(tabStyleAlpine).withPart(inputStyleBordered).withPart(columnDropStyleBordered).withParams({accentColor:\"#2196f3\",selectedRowBackgroundColor:accentMix(0.3),inputFocusBorder:{color:accentMix(0.4)},focusShadow:{radius:2,spread:1.6,color:accentMix(0.4)},iconButtonHoverBackgroundColor:\"transparent\",iconButtonActiveBackgroundColor:\"transparent\",checkboxUncheckedBorderColor:foregroundBackgroundMix(0.45),checkboxIndeterminateBackgroundColor:foregroundBackgroundMix(0.45),checkboxIndeterminateBorderColor:foregroundBackgroundMix(0.45),checkboxBorderWidth:2,checkboxBorderRadius:2,fontSize:13,dataFontSize:14,headerFontWeight:700,borderRadius:3,wrapperBorderRadius:3,tabSelectedUnderlineColor:accentColor,tabSelectedBorderWidth:0,tabSelectedUnderlineTransitionDuration:0.3,sideButtonSelectedUnderlineColor:accentColor,sideButtonSelectedUnderlineWidth:2,sideButtonSelectedUnderlineTransitionDuration:0.3,sideButtonBorder:false,sideButtonSelectedBorder:false,sideButtonBarTopPadding:{calc:\"spacing * 3\"},sideButtonSelectedBackgroundColor:\"transparent\",sideButtonHoverTextColor:accentColor,iconButtonHoverColor:accentColor,toggleButtonWidth:28,toggleButtonHeight:18,toggleButtonSwitchInset:1,toggleButtonOffBackgroundColor:foregroundBackgroundMix(0.45)});var themeAlpine=/* @__PURE__ */makeThemeAlpineTreeShakeable();var makeThemeBalhamTreeShakeable=()=>createTheme().withPart(buttonStyleBalham).withPart(checkboxStyleDefault).withPart(colorSchemeVariable).withPart(iconSetBalham).withPart(tabStyleRolodex).withPart(inputStyleBordered).withPart(columnDropStylePlain).withParams({accentColor:\"#0091ea\",borderColor:foregroundMix(0.2),spacing:4,widgetVerticalSpacing:{calc:\"max(8px, spacing)\"},borderRadius:2,wrapperBorderRadius:2,headerColumnResizeHandleColor:\"transparent\",headerColumnBorder:true,headerColumnBorderHeight:\"50%\",oddRowBackgroundColor:{ref:\"chromeBackgroundColor\",mix:0.5},checkboxBorderRadius:2,checkboxBorderWidth:1,checkboxUncheckedBackgroundColor:backgroundColor,checkboxUncheckedBorderColor:foregroundBackgroundMix(0.5),checkboxCheckedBackgroundColor:backgroundColor,checkboxCheckedBorderColor:accentColor,checkboxCheckedShapeColor:accentColor,checkboxIndeterminateBackgroundColor:backgroundColor,checkboxIndeterminateBorderColor:foregroundBackgroundMix(0.5),checkboxIndeterminateShapeColor:foregroundBackgroundMix(0.5),focusShadow:{radius:2,spread:1,color:accentColor},headerTextColor:foregroundMix(0.6),iconButtonHoverBackgroundColor:\"transparent\",iconButtonActiveBackgroundColor:\"transparent\",fontSize:12,tabSelectedBackgroundColor:backgroundColor,headerFontWeight:\"bold\",toggleButtonWidth:32,toggleButtonHeight:16,toggleButtonSwitchInset:1,toggleButtonOffBackgroundColor:foregroundBackgroundMix(0.5),sideButtonBorder:true,sideButtonBarTopPadding:{calc:\"spacing * 4\"},popupShadow:\"5px 5px 10px rgba(0, 0, 0, 0.3)\",statusBarLabelColor:foregroundMix(0.54),statusBarLabelFontWeight:600,statusBarValueFontWeight:600,panelTitleBarIconColor:foregroundColor});var themeBalham=/* @__PURE__ */makeThemeBalhamTreeShakeable();var makeStyleMaterialTreeShakeable=()=>{var sharedParams={tabSelectedUnderlineColor:{ref:\"primaryColor\"},sideButtonSelectedUnderlineColor:{ref:\"primaryColor\"},buttonTextColor:{ref:\"primaryColor\"},rangeSelectionBackgroundColor:{ref:\"primaryColor\",mix:0.2},rangeSelectionBorderColor:{ref:\"primaryColor\"},rangeSelectionHighlightColor:{ref:\"primaryColor\",mix:0.5},rangeHeaderHighlightColor:{ref:\"foregroundColor\",mix:0.08},rowNumbersSelectedColor:{ref:\"primaryColor\",mix:0.5},inputFocusBorder:{width:2,color:{ref:\"primaryColor\"}},pickerButtonFocusBorder:{width:1,color:{ref:\"primaryColor\"}},cellEditingBorder:{color:{ref:\"primaryColor\"}},menuBackgroundColor:{ref:\"backgroundColor\"},sideButtonBarBackgroundColor:backgroundColor,sideButtonSelectedBackgroundColor:\"transparent\",sideButtonBarTopPadding:{calc:\"spacing * 4\"},headerColumnResizeHandleColor:\"none\",headerBackgroundColor:{ref:\"backgroundColor\"},rowHoverColor:foregroundMix(0.08),columnHoverColor:foregroundMix(0.08),headerCellHoverBackgroundColor:foregroundMix(0.05),statusBarLabelColor:foregroundMix(0.63),statusBarLabelFontWeight:600,statusBarValueFontWeight:600,valueChangeValueHighlightBackgroundColor:\"#00acc1\",panelTitleBarIconColor:foregroundColor,advancedFilterBuilderButtonBarBorder:false,filterPanelApplyButtonColor:{ref:\"buttonTextColor\"},filterPanelApplyButtonBackgroundColor:{ref:\"buttonBackgroundColor\"}};var lightParams=_objectSpread(_objectSpread({},sharedParams),{},{primaryColor:\"#3f51b5\",foregroundColor:\"#000D\",headerTextColor:\"#0008\",accentColor:\"#ff4081\",checkboxUncheckedBorderColor:foregroundColor,checkboxIndeterminateBackgroundColor:foregroundColor,toggleButtonOffBackgroundColor:foregroundColor,selectedRowBackgroundColor:\"rgba(33, 150, 243, 0.3)\"});var darkParams2=_objectSpread(_objectSpread({},sharedParams),{},{primaryColor:\"#3f51b5\",foregroundColor:\"#fffD\",headerTextColor:\"#fff8\",accentColor:\"#bb86fc\",checkboxUncheckedBorderColor:foregroundBackgroundMix(0.5),checkboxIndeterminateBackgroundColor:foregroundBackgroundMix(0.5),toggleButtonOffBackgroundColor:foregroundBackgroundMix(0.5),selectedRowBackgroundColor:\"#bb86fc33\"});return createPart({feature:\"styleMaterial\",css:materialAdjustmentsCSS,params:lightParams,modeParams:{light:lightParams,dark:darkParams2,\"dark-blue\":darkParams2}});};var styleMaterial=/* @__PURE__ */makeStyleMaterialTreeShakeable();var makeThemeMaterialTreeShakeable=()=>/* @__PURE__ */createTheme().withPart(buttonStyleBase).withPart(checkboxStyleDefault).withPart(colorSchemeVariable).withPart(iconSetMaterial).withPart(tabStyleMaterial).withPart(inputStyleUnderlined).withPart(columnDropStylePlain).withPart(styleMaterial).withParams({rowHeight:{calc:\"max(iconSize, dataFontSize) + spacing * 3.75 * rowVerticalPaddingScale\"},headerHeight:{calc:\"max(iconSize, dataFontSize) + spacing * 4.75 * headerVerticalPaddingScale\"},widgetVerticalSpacing:{calc:\"spacing * 1.75\"},cellHorizontalPadding:{calc:\"spacing * 3\"},buttonHorizontalPadding:{ref:\"spacing\"},widgetContainerHorizontalPadding:{calc:\"spacing * 1.5\"},widgetContainerVerticalPadding:{calc:\"spacing * 2\"},fontSize:13,iconSize:18,borderRadius:0,wrapperBorderRadius:0,wrapperBorder:false,menuBorder:false,dialogBorder:false,panelTitleBarBorder:false,tabSelectedBorderWidth:0,tabSelectedUnderlineTransitionDuration:0.3,sidePanelBorder:false,sideButtonSelectedBorder:false,sideButtonSelectedUnderlineWidth:2,sideButtonSelectedUnderlineTransitionDuration:0.3,sideButtonBorder:false,buttonBorder:false,buttonDisabledBorder:false,focusShadow:{spread:4,color:foregroundMix(0.16)},fontFamily:[{googleFont:\"Roboto\"},\"-apple-system\",\"BlinkMacSystemFont\",\"Segoe UI\",\"Oxygen-Sans\",\"Ubuntu\",\"Cantarell\",\"Helvetica Neue\",\"sans-serif\"],inputHeight:{calc:\"max(iconSize, fontSize) + spacing * 3\"},pickerButtonBorder:{width:1,color:\"transparent\"},headerFontWeight:600,headerFontSize:{calc:\"fontSize - 1px\"},checkboxBorderWidth:2,checkboxBorderRadius:2,toggleButtonWidth:34,toggleButtonSwitchInset:1,cardShadow:\"0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12)\",popupShadow:\"5px 5px 10px rgba(0, 0, 0, 0.3)\"});var themeMaterial=/* @__PURE__ */makeThemeMaterialTreeShakeable();// packages/ag-grid-community/src/environment.ts\nvar CELL_HORIZONTAL_PADDING={cssName:\"--ag-cell-horizontal-padding\",changeKey:\"cellHorizontalPaddingChanged\",defaultValue:16};var INDENTATION_LEVEL={cssName:\"--ag-indentation-level\",changeKey:\"indentationLevelChanged\",defaultValue:0,noWarn:true,cacheDefault:true};var ROW_GROUP_INDENT_SIZE={cssName:\"--ag-row-group-indent-size\",changeKey:\"rowGroupIndentSizeChanged\",defaultValue:0};var ROW_HEIGHT={cssName:\"--ag-row-height\",changeKey:\"rowHeightChanged\",defaultValue:42};var HEADER_HEIGHT={cssName:\"--ag-header-height\",changeKey:\"headerHeightChanged\",defaultValue:48};var LIST_ITEM_HEIGHT={cssName:\"--ag-list-item-height\",changeKey:\"listItemHeightChanged\",defaultValue:24};var ROW_BORDER_WIDTH={cssName:\"--ag-row-border\",changeKey:\"rowBorderWidthChanged\",defaultValue:1,border:true};var PINNED_BORDER_WIDTH={cssName:\"--ag-pinned-row-border\",changeKey:\"pinnedRowBorderWidthChanged\",defaultValue:1,border:true};var paramsId=0;var Environment=class extends BeanStub{constructor(){super(...arguments);this.beanName=\"environment\";this.sizeEls=/* @__PURE__ */new Map();this.lastKnownValues=/* @__PURE__ */new Map();this.sizesMeasured=false;this.paramsClass=\"ag-theme-params-\".concat(++paramsId);this.globalCSS=[];}wireBeans(beans){var _gridOptions$themeSty;var{eGridDiv,gridOptions}=beans;this.eGridDiv=eGridDiv;this.eStyleContainer=(_gridOptions$themeSty=gridOptions.themeStyleContainer)!==null&&_gridOptions$themeSty!==void 0?_gridOptions$themeSty:eGridDiv.getRootNode()===document?document.head:eGridDiv;this.cssLayer=gridOptions.themeCssLayer;this.styleNonce=gridOptions.styleNonce;}postConstruct(){this.addManagedPropertyListener(\"theme\",()=>this.handleThemeGridOptionChange());this.handleThemeGridOptionChange();this.addManagedPropertyListener(\"rowHeight\",()=>this.refreshRowHeightVariable());this.getSizeEl(ROW_HEIGHT);this.getSizeEl(HEADER_HEIGHT);this.getSizeEl(LIST_ITEM_HEIGHT);this.getSizeEl(ROW_BORDER_WIDTH);this.getSizeEl(PINNED_BORDER_WIDTH);this.refreshRowBorderWidthVariable();this.addDestroyFunc(()=>_unregisterGridUsingThemingAPI(this));this.mutationObserver=new MutationObserver(()=>{this.fireGridStylesChangedEvent(\"themeChanged\");});this.addDestroyFunc(()=>this.mutationObserver.disconnect());}getPinnedRowBorderWidth(){return this.getCSSVariablePixelValue(PINNED_BORDER_WIDTH);}getRowBorderWidth(){return this.getCSSVariablePixelValue(ROW_BORDER_WIDTH);}getDefaultRowHeight(){return this.getCSSVariablePixelValue(ROW_HEIGHT);}getDefaultHeaderHeight(){return this.getCSSVariablePixelValue(HEADER_HEIGHT);}getDefaultCellHorizontalPadding(){return this.getCSSVariablePixelValue(CELL_HORIZONTAL_PADDING);}getCellPaddingLeft(){var cellHorizontalPadding=this.getDefaultCellHorizontalPadding();var indentationLevel=this.getCSSVariablePixelValue(INDENTATION_LEVEL);var rowGroupIndentSize=this.getCSSVariablePixelValue(ROW_GROUP_INDENT_SIZE);return cellHorizontalPadding-1+rowGroupIndentSize*indentationLevel;}getCellPadding(){var cellPaddingRight=this.getDefaultCellHorizontalPadding()-1;return this.getCellPaddingLeft()+cellPaddingRight;}getDefaultColumnMinWidth(){return Math.min(36,this.getDefaultRowHeight());}getDefaultListItemHeight(){return this.getCSSVariablePixelValue(LIST_ITEM_HEIGHT);}applyThemeClasses(el){var{gridTheme}=this;var themeClass=\"\";if(gridTheme){themeClass=\"\".concat(this.paramsClass,\" \").concat(gridTheme._getCssClass());}else{this.mutationObserver.disconnect();var node=this.eGridDiv;while(node){var isThemeEl=false;for(var className of Array.from(node.classList)){if(className.startsWith(\"ag-theme-\")){isThemeEl=true;themeClass=themeClass?\"\".concat(themeClass,\" \").concat(className):className;}}if(isThemeEl){this.mutationObserver.observe(node,{attributes:true,attributeFilter:[\"class\"]});}node=node.parentElement;}}for(var _className of Array.from(el.classList)){if(_className.startsWith(\"ag-theme-\")){el.classList.remove(_className);}}if(themeClass){var oldClass=el.className;el.className=oldClass+(oldClass?\" \":\"\")+themeClass;}}refreshRowHeightVariable(){var{eGridDiv}=this;var oldRowHeight=eGridDiv.style.getPropertyValue(\"--ag-line-height\").trim();var height=this.gos.get(\"rowHeight\");if(height==null||isNaN(height)||!isFinite(height)){if(oldRowHeight!==null){eGridDiv.style.setProperty(\"--ag-line-height\",null);}return-1;}var newRowHeight=\"\".concat(height,\"px\");if(oldRowHeight!=newRowHeight){eGridDiv.style.setProperty(\"--ag-line-height\",newRowHeight);return height;}return oldRowHeight!=\"\"?parseFloat(oldRowHeight):-1;}addGlobalCSS(css,debugId){if(this.gridTheme){_injectGlobalCSS(css,this.eStyleContainer,debugId,this.cssLayer,0,this.styleNonce);}else{this.globalCSS.push([css,debugId]);}}getCSSVariablePixelValue(variable){var cached=this.lastKnownValues.get(variable);if(cached!=null){return cached;}var measurement=this.measureSizeEl(variable);if(measurement===\"detached\"||measurement===\"no-styles\"){if(variable.cacheDefault){this.lastKnownValues.set(variable,variable.defaultValue);}return variable.defaultValue;}this.lastKnownValues.set(variable,measurement);return measurement;}measureSizeEl(variable){var sizeEl=this.getSizeEl(variable);if(sizeEl.offsetParent==null){return\"detached\";}var newSize=sizeEl.offsetWidth;if(newSize===NO_VALUE_SENTINEL)return\"no-styles\";this.sizesMeasured=true;return newSize;}getMeasurementContainer(){var container=this.eMeasurementContainer;if(!container){container=this.eMeasurementContainer=_createElement({tag:\"div\",cls:\"ag-measurement-container\"});this.eGridDiv.appendChild(container);}return container;}getSizeEl(variable){var sizeEl=this.sizeEls.get(variable);if(sizeEl){return sizeEl;}var container=this.getMeasurementContainer();sizeEl=_createElement({tag:\"div\"});var{border,noWarn}=variable;if(border){sizeEl.className=\"ag-measurement-element-border\";sizeEl.style.setProperty(\"--ag-internal-measurement-border\",\"var(\".concat(variable.cssName,\", solid \").concat(NO_VALUE_SENTINEL,\"px)\"));}else{sizeEl.style.width=\"var(\".concat(variable.cssName,\", \").concat(NO_VALUE_SENTINEL,\"px)\");}container.appendChild(sizeEl);this.sizeEls.set(variable,sizeEl);var lastMeasurement=this.measureSizeEl(variable);if(lastMeasurement===\"no-styles\"&&!noWarn){_warn(9,{variable});}var unsubscribe=_observeResize(this.beans,sizeEl,()=>{var newMeasurement=this.measureSizeEl(variable);if(newMeasurement===\"detached\"||newMeasurement===\"no-styles\"){return;}this.lastKnownValues.set(variable,newMeasurement);if(newMeasurement!==lastMeasurement){lastMeasurement=newMeasurement;this.fireGridStylesChangedEvent(variable.changeKey);}});this.addDestroyFunc(()=>unsubscribe());return sizeEl;}fireGridStylesChangedEvent(change){if(change===\"rowBorderWidthChanged\"){this.refreshRowBorderWidthVariable();}this.eventSvc.dispatchEvent({type:\"gridStylesChanged\",[change]:true});}refreshRowBorderWidthVariable(){var width=this.getCSSVariablePixelValue(ROW_BORDER_WIDTH);this.eGridDiv.style.setProperty(\"--ag-internal-row-border-width\",\"\".concat(width,\"px\"));}handleThemeGridOptionChange(){var{gos,eGridDiv,globalCSS,gridTheme:oldGridTheme}=this;var themeGridOption=gos.get(\"theme\");var newGridTheme;if(themeGridOption===\"legacy\"){newGridTheme=void 0;}else{var themeOrDefault=themeGridOption!==null&&themeGridOption!==void 0?themeGridOption:themeQuartz;if(themeOrDefault instanceof ThemeImpl){newGridTheme=themeOrDefault;}else{_error(240,{theme:themeOrDefault});}}if(newGridTheme!==oldGridTheme){var _newGridTheme;if(newGridTheme){_registerGridUsingThemingAPI(this);_injectCoreAndModuleCSS(this.eStyleContainer,this.cssLayer,this.styleNonce);for(var[css,debugId]of globalCSS){_injectGlobalCSS(css,this.eStyleContainer,debugId,this.cssLayer,0,this.styleNonce);}globalCSS.length=0;}this.gridTheme=newGridTheme;(_newGridTheme=newGridTheme)===null||_newGridTheme===void 0||_newGridTheme._startUse({loadThemeGoogleFonts:gos.get(\"loadThemeGoogleFonts\"),styleContainer:this.eStyleContainer,cssLayer:this.cssLayer,nonce:this.styleNonce});var eParamsStyle=this.eParamsStyle;if(!eParamsStyle){eParamsStyle=this.eParamsStyle=_createElement({tag:\"style\"});var styleNonce=this.gos.get(\"styleNonce\");if(styleNonce){eParamsStyle.setAttribute(\"nonce\",styleNonce);}eGridDiv.appendChild(eParamsStyle);}if(!IS_SSR){var _newGridTheme2;eParamsStyle.textContent=((_newGridTheme2=newGridTheme)===null||_newGridTheme2===void 0?void 0:_newGridTheme2._getPerGridCss(this.paramsClass))||\"\";}this.applyThemeClasses(eGridDiv);this.fireGridStylesChangedEvent(\"themeChanged\");}if(newGridTheme&&getComputedStyle(this.getMeasurementContainer()).getPropertyValue(\"--ag-legacy-styles-loaded\")){if(themeGridOption){_error(106);}else{_error(239);}}}};var NO_VALUE_SENTINEL=15538;// packages/ag-grid-community/src/eventService.ts\nvar EventService=class extends BeanStub{constructor(){super(...arguments);this.beanName=\"eventSvc\";this.globalSvc=new LocalEventService();}postConstruct(){var{globalListener,globalSyncListener}=this.beans;if(globalListener){this.addGlobalListener(globalListener,true);}if(globalSyncListener){this.addGlobalListener(globalSyncListener,false);}}addEventListener(eventType,listener,async){this.globalSvc.addEventListener(eventType,listener,async);}removeEventListener(eventType,listener,async){this.globalSvc.removeEventListener(eventType,listener,async);}addGlobalListener(listener){var async=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;this.globalSvc.addGlobalListener(listener,async);}removeGlobalListener(listener){var async=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;this.globalSvc.removeGlobalListener(listener,async);}/** @deprecated DO NOT FIRE LOCAL EVENTS OFF THE EVENT SERVICE */dispatchLocalEvent(){}dispatchEvent(event){this.globalSvc.dispatchEvent(_addGridCommonParams(this.gos,event));}dispatchEventOnce(event){this.globalSvc.dispatchEventOnce(_addGridCommonParams(this.gos,event));}};// packages/ag-grid-community/src/navigation/headerNavigationService.ts\nfunction isAnyChildSpanningHeaderHeight(columnGroup){if(!columnGroup){return false;}return columnGroup.getLeafColumns().some(col=>col.isSpanHeaderHeight());}function getHeaderIndexToFocus(column,currentIndex){var nextColumn;if(isColumnGroup(column)&&isAnyChildSpanningHeaderHeight(column)&&column.isPadding()){var targetColumn=column;nextColumn=targetColumn.getLeafColumns()[0];var col=nextColumn;while(col!==targetColumn){currentIndex++;col=col.getParent();}}return{column:nextColumn||column,headerRowIndex:currentIndex};}var HeaderNavigationService=class extends BeanStub{constructor(){super(...arguments);this.beanName=\"headerNavigation\";this.currentHeaderRowWithoutSpan=-1;}postConstruct(){var beans=this.beans;beans.ctrlsSvc.whenReady(this,p=>{this.gridBodyCon=p.gridBodyCtrl;});var eDocument=_getDocument(beans);this.addManagedElementListeners(eDocument,{mousedown:()=>{this.currentHeaderRowWithoutSpan=-1;}});}getHeaderPositionForColumn(colKey,floatingFilter){var column;var{colModel,colGroupSvc,ctrlsSvc}=this.beans;if(typeof colKey===\"string\"){column=colModel.getCol(colKey);if(!column){var _colGroupSvc$getColum;column=(_colGroupSvc$getColum=colGroupSvc===null||colGroupSvc===void 0?void 0:colGroupSvc.getColumnGroup(colKey))!==null&&_colGroupSvc$getColum!==void 0?_colGroupSvc$getColum:null;}}else{column=colKey;}if(!column){return null;}var centerHeaderContainer=ctrlsSvc.getHeaderRowContainerCtrl();var allCtrls=centerHeaderContainer===null||centerHeaderContainer===void 0?void 0:centerHeaderContainer.getAllCtrls();var isFloatingFilterVisible=_last(allCtrls||[]).type===\"filter\";var headerRowCount=getFocusHeaderRowCount(this.beans)-1;var row=-1;var col=column;while(col){row++;col=col.getParent();}var headerRowIndex=row;if(floatingFilter&&isFloatingFilterVisible&&headerRowIndex===headerRowCount-1){headerRowIndex++;}return headerRowIndex===-1?null:{headerRowIndex,column};}/*\n   * This method navigates grid header vertically\n   * @returns {boolean} true to preventDefault on the event that caused this navigation.\n   */navigateVertically(direction,event){var focusSvc=this.beans.focusSvc;var fromHeader=focusSvc.focusedHeader;if(!fromHeader){return false;}var{headerRowIndex}=fromHeader;var column=fromHeader.column;var rowLen=getFocusHeaderRowCount(this.beans);var isUp=direction===\"UP\";var currentRowType=this.getHeaderRowType(headerRowIndex);var{headerRowIndex:nextRow,column:nextFocusColumn,headerRowIndexWithoutSpan}=isUp?getColumnVisibleParent(currentRowType,column,headerRowIndex):getColumnVisibleChild(currentRowType,column,headerRowIndex);var skipColumn=false;if(nextRow<0){nextRow=0;nextFocusColumn=column;skipColumn=true;}if(nextRow>=rowLen){nextRow=-1;this.currentHeaderRowWithoutSpan=-1;}else if(headerRowIndexWithoutSpan!==void 0){this.currentHeaderRowWithoutSpan=headerRowIndexWithoutSpan;}if(!skipColumn&&!nextFocusColumn){return false;}return focusSvc.focusHeaderPosition({headerPosition:{headerRowIndex:nextRow,column:nextFocusColumn},allowUserOverride:true,event});}/*\n   * This method navigates grid header horizontally\n   * @returns {boolean} true to preventDefault on the event that caused this navigation.\n   */navigateHorizontally(direction){var fromTab=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var event=arguments.length>2?arguments[2]:undefined;var{focusSvc,gos}=this.beans;var focusedHeader=_objectSpread({},focusSvc.focusedHeader);var nextHeader;var normalisedDirection;if(this.currentHeaderRowWithoutSpan!==-1){focusedHeader.headerRowIndex=this.currentHeaderRowWithoutSpan;}else{this.currentHeaderRowWithoutSpan=focusedHeader.headerRowIndex;}if(direction===\"LEFT\"!==gos.get(\"enableRtl\")){normalisedDirection=\"Before\";nextHeader=this.findHeader(focusedHeader,normalisedDirection);}else{normalisedDirection=\"After\";nextHeader=this.findHeader(focusedHeader,normalisedDirection);}var userFunc=gos.getCallback(\"tabToNextHeader\");if(fromTab&&userFunc){var wasFocusedFromUserFunc=focusSvc.focusHeaderPositionFromUserFunc({userFunc,headerPosition:nextHeader,direction:normalisedDirection});if(wasFocusedFromUserFunc){var{headerRowIndex}=focusSvc.focusedHeader||{};if(headerRowIndex!=null&&headerRowIndex!=focusedHeader.headerRowIndex){this.currentHeaderRowWithoutSpan=headerRowIndex;}}return wasFocusedFromUserFunc;}if(nextHeader||!fromTab){return focusSvc.focusHeaderPosition({headerPosition:nextHeader,direction:normalisedDirection,fromTab,allowUserOverride:true,event});}return this.focusNextHeaderRow(focusedHeader,normalisedDirection,event);}focusNextHeaderRow(focusedHeader,direction,event){var _nextPosition;var currentIndex=focusedHeader.headerRowIndex;var nextPosition=null;var nextRowIndex;var beans=this.beans;if(direction===\"Before\"){if(currentIndex>0){nextRowIndex=currentIndex-1;this.currentHeaderRowWithoutSpan-=1;nextPosition=this.findColAtEdgeForHeaderRow(nextRowIndex,\"end\");}}else{nextRowIndex=currentIndex+1;if(this.currentHeaderRowWithoutSpan<getFocusHeaderRowCount(beans)){this.currentHeaderRowWithoutSpan+=1;}else{this.currentHeaderRowWithoutSpan=-1;}nextPosition=this.findColAtEdgeForHeaderRow(nextRowIndex,\"start\");}if(!nextPosition){return false;}var{column,headerRowIndex}=getHeaderIndexToFocus(nextPosition.column,(_nextPosition=nextPosition)===null||_nextPosition===void 0?void 0:_nextPosition.headerRowIndex);return beans.focusSvc.focusHeaderPosition({headerPosition:{column,headerRowIndex},direction,fromTab:true,allowUserOverride:true,event});}scrollToColumn(column){var direction=arguments.length>1&&arguments[1]!==undefined?arguments[1]:\"After\";if(column.getPinned()){return;}var columnToScrollTo;if(isColumnGroup(column)){var columns=column.getDisplayedLeafColumns();columnToScrollTo=direction===\"Before\"?_last(columns):columns[0];}else{columnToScrollTo=column;}this.gridBodyCon.scrollFeature.ensureColumnVisible(columnToScrollTo);}findHeader(focusedHeader,direction){var nextColumn;var getColMethod;var{colGroupSvc,visibleCols}=this.beans;if(isColumnGroup(focusedHeader.column)){var _colGroupSvc$getGroup;nextColumn=(_colGroupSvc$getGroup=colGroupSvc===null||colGroupSvc===void 0?void 0:colGroupSvc.getGroupAtDirection(focusedHeader.column,direction))!==null&&_colGroupSvc$getGroup!==void 0?_colGroupSvc$getGroup:void 0;}else{getColMethod=\"getCol\".concat(direction);nextColumn=visibleCols[getColMethod](focusedHeader.column);}if(!nextColumn){return;}var{headerRowIndex}=focusedHeader;if(this.getHeaderRowType(headerRowIndex)!==\"filter\"){var columnsInPath=[nextColumn];while(nextColumn.getParent()){nextColumn=nextColumn.getParent();columnsInPath.push(nextColumn);}nextColumn=columnsInPath[Math.max(0,columnsInPath.length-1-headerRowIndex)];}var{column,headerRowIndex:indexToFocus}=getHeaderIndexToFocus(nextColumn,headerRowIndex);return{column,headerRowIndex:indexToFocus};}getHeaderRowType(rowIndex){var centerHeaderContainer=this.beans.ctrlsSvc.getHeaderRowContainerCtrl();if(centerHeaderContainer){return centerHeaderContainer.getRowType(rowIndex);}}findColAtEdgeForHeaderRow(level,position){var{visibleCols,ctrlsSvc,colGroupSvc}=this.beans;var displayedColumns=visibleCols.allCols;var column=displayedColumns[position===\"start\"?0:displayedColumns.length-1];if(!column){return;}var childContainer=ctrlsSvc.getHeaderRowContainerCtrl(column.getPinned());var type=childContainer===null||childContainer===void 0?void 0:childContainer.getRowType(level);if(type==\"group\"){var columnGroup=colGroupSvc===null||colGroupSvc===void 0?void 0:colGroupSvc.getColGroupAtLevel(column,level);return{headerRowIndex:level,column:columnGroup};}return{// if type==null, means the header level didn't exist\nheaderRowIndex:type==null?-1:level,column};}};function getColumnVisibleParent(currentRowType,currentColumn,currentIndex){var isFloatingFilter=currentRowType===\"filter\";var isColumn2=currentRowType===\"column\";var nextFocusColumn=isFloatingFilter?currentColumn:currentColumn.getParent();var nextRow=currentIndex-1;var headerRowIndexWithoutSpan=nextRow;if(isColumn2&&isAnyChildSpanningHeaderHeight(currentColumn.getParent())){while(nextFocusColumn&&nextFocusColumn.isPadding()){nextFocusColumn=nextFocusColumn.getParent();nextRow--;}headerRowIndexWithoutSpan=nextRow;if(nextRow<0){nextFocusColumn=currentColumn;nextRow=currentIndex;headerRowIndexWithoutSpan=void 0;}}return{column:nextFocusColumn,headerRowIndex:nextRow,headerRowIndexWithoutSpan};}function getColumnVisibleChild(currentRowType,column,currentIndex){var direction=arguments.length>3&&arguments[3]!==undefined?arguments[3]:\"After\";var nextFocusColumn=column;var nextRow=currentIndex+1;var headerRowIndexWithoutSpan=nextRow;if(currentRowType===\"group\"){var leafColumns=column.getDisplayedLeafColumns();var leafColumn=direction===\"After\"?leafColumns[0]:_last(leafColumns);var columnsInTheWay=[];var currentColumn=leafColumn;while(currentColumn.getParent()!==column){currentColumn=currentColumn.getParent();columnsInTheWay.push(currentColumn);}nextFocusColumn=leafColumn;if(leafColumn.isSpanHeaderHeight()){for(var i=columnsInTheWay.length-1;i>=0;i--){var colToFocus=columnsInTheWay[i];if(!colToFocus.isPadding()){nextFocusColumn=colToFocus;break;}nextRow++;}}else{nextFocusColumn=_last(columnsInTheWay);if(!nextFocusColumn){nextFocusColumn=leafColumn;}}}return{column:nextFocusColumn,headerRowIndex:nextRow,headerRowIndexWithoutSpan};}// packages/ag-grid-community/src/focusService.ts\nvar FocusService=class extends BeanStub{constructor(){super(...arguments);this.beanName=\"focusSvc\";/** If a cell was destroyed that previously had focus, focus needs restored when the cell reappears */this.focusFallbackTimeout=null;this.needsFocusRestored=false;}wireBeans(beans){this.colModel=beans.colModel;this.visibleCols=beans.visibleCols;this.rowRenderer=beans.rowRenderer;this.navigation=beans.navigation;this.filterManager=beans.filterManager;this.overlays=beans.overlays;}postConstruct(){var clearFocusedCellListener=this.clearFocusedCell.bind(this);this.addManagedEventListeners({columnPivotModeChanged:clearFocusedCellListener,newColumnsLoaded:this.onColumnEverythingChanged.bind(this),columnGroupOpened:clearFocusedCellListener,columnRowGroupChanged:clearFocusedCellListener});this.addDestroyFunc(_registerKeyboardFocusEvents(this.beans));}attemptToRecoverFocus(){this.needsFocusRestored=true;if(this.focusFallbackTimeout!=null){clearTimeout(this.focusFallbackTimeout);}this.focusFallbackTimeout=window.setTimeout(this.setFocusRecovered.bind(this),100);}setFocusRecovered(){this.needsFocusRestored=false;if(this.focusFallbackTimeout!=null){clearTimeout(this.focusFallbackTimeout);this.focusFallbackTimeout=null;}}/**\n   * Specifies whether to take focus, as grid either already has focus, or lost it due\n   * to a destroyed cell\n   * @returns true if the grid should re-take focus, otherwise false\n   */shouldTakeFocus(){if(this.gos.get(\"suppressFocusAfterRefresh\")){this.setFocusRecovered();return false;}if(this.needsFocusRestored){this.setFocusRecovered();return true;}return this.doesRowOrCellHaveBrowserFocus();}onColumnEverythingChanged(){if(!this.focusedCell){return;}var col=this.focusedCell.column;var colFromColumnModel=this.colModel.getCol(col.getId());if(col!==colFromColumnModel){this.clearFocusedCell();}}// we check if the browser is focusing something, and if it is, and\n// it's the cell we think is focused, then return the cell. so this\n// methods returns the cell if a) we think it has focus and b) the\n// browser thinks it has focus. this then returns nothing if we\n// first focus a cell, then second click outside the grid, as then the\n// grid cell will still be focused as far as the grid is concerned,\n// however the browser focus will have moved somewhere else.\ngetFocusCellToUseAfterRefresh(){var{gos,focusedCell}=this;if(gos.get(\"suppressFocusAfterRefresh\")||gos.get(\"suppressCellFocus\")||!focusedCell){return null;}if(!this.doesRowOrCellHaveBrowserFocus()){return null;}return focusedCell;}getFocusHeaderToUseAfterRefresh(){if(this.gos.get(\"suppressFocusAfterRefresh\")||!this.focusedHeader){return null;}if(!this.isDomDataPresentInHierarchy(_getActiveDomElement(this.beans),DOM_DATA_KEY_HEADER_CTRL)){return null;}return this.focusedHeader;}/**\n   * Check for both cells and rows, as a row might be destroyed and the dom data removed before the cell if the\n   * row is animating out.\n   */doesRowOrCellHaveBrowserFocus(){var activeElement=_getActiveDomElement(this.beans);if(this.isDomDataPresentInHierarchy(activeElement,DOM_DATA_KEY_CELL_CTRL)){return true;}return this.isDomDataPresentInHierarchy(activeElement,DOM_DATA_KEY_ROW_CTRL);}isDomDataPresentInHierarchy(eBrowserCell,key){var ePointer=eBrowserCell;while(ePointer){var data=_getDomData(this.gos,ePointer,key);if(data){return true;}ePointer=ePointer.parentNode;}return false;}getFocusedCell(){return this.focusedCell;}getFocusEventParams(focusedCellPosition){var{rowIndex,rowPinned,column}=focusedCellPosition;var params={rowIndex,rowPinned,column,isFullWidthCell:false};var rowCtrl=this.rowRenderer.getRowByPosition({rowIndex,rowPinned});if(rowCtrl){params.isFullWidthCell=rowCtrl.isFullWidth();}return params;}clearFocusedCell(){if(this.focusedCell==null){return;}var focusEventParams=this.getFocusEventParams(this.focusedCell);this.focusedCell=null;this.eventSvc.dispatchEvent(_objectSpread({type:\"cellFocusCleared\"},focusEventParams));}setFocusedCell(params){this.setFocusRecovered();var{column,rowIndex,rowPinned,forceBrowserFocus=false,preventScrollOnBrowserFocus=false,sourceEvent}=params;var gridColumn=this.colModel.getCol(column);if(!gridColumn){this.focusedCell=null;return;}this.focusedCell={rowIndex,rowPinned:_makeNull(rowPinned),column:gridColumn};var focusEventParams=this.getFocusEventParams(this.focusedCell);this.eventSvc.dispatchEvent(_objectSpread(_objectSpread(_objectSpread({type:\"cellFocused\"},focusEventParams),this.previousCellFocusParams&&{previousParams:this.previousCellFocusParams}),{},{forceBrowserFocus,preventScrollOnBrowserFocus,sourceEvent}));this.previousCellFocusParams=focusEventParams;}isCellFocused(cellPosition){if(this.focusedCell==null){return false;}return _areCellsEqual(cellPosition,this.focusedCell);}isHeaderWrapperFocused(headerCtrl){if(this.focusedHeader==null){return false;}var{column,rowCtrl:{rowIndex:headerRowIndex,pinned}}=headerCtrl;var{column:focusedColumn,headerRowIndex:focusedHeaderRowIndex}=this.focusedHeader;return column===focusedColumn&&headerRowIndex===focusedHeaderRowIndex&&pinned==focusedColumn.getPinned();}focusHeaderPosition(params){var _this$filterManager4;this.setFocusRecovered();if(_isHeaderFocusSuppressed(this.beans)){return false;}var{direction,fromTab,allowUserOverride,event,fromCell,rowWithoutSpanValue}=params;var{headerPosition}=params;if(fromCell&&(_this$filterManager4=this.filterManager)!==null&&_this$filterManager4!==void 0&&_this$filterManager4.isAdvFilterHeaderActive()){return this.focusAdvancedFilter(headerPosition);}if(allowUserOverride){var currentPosition=this.focusedHeader;var headerRowCount=getFocusHeaderRowCount(this.beans);if(fromTab){var userFunc=this.gos.getCallback(\"tabToNextHeader\");if(userFunc){headerPosition=this.getHeaderPositionFromUserFunc({userFunc,direction,currentPosition,headerPosition,headerRowCount});}}else{var _userFunc=this.gos.getCallback(\"navigateToNextHeader\");if(_userFunc&&event){var params2={key:event.key,previousHeaderPosition:currentPosition,nextHeaderPosition:headerPosition,headerRowCount,event};headerPosition=_userFunc(params2);}}}if(!headerPosition){return false;}return this.focusProvidedHeaderPosition({headerPosition,direction,event,fromCell,rowWithoutSpanValue});}focusHeaderPositionFromUserFunc(params){if(_isHeaderFocusSuppressed(this.beans)){return false;}var{userFunc,headerPosition,direction,event}=params;var currentPosition=this.focusedHeader;var headerRowCount=getFocusHeaderRowCount(this.beans);var newHeaderPosition=this.getHeaderPositionFromUserFunc({userFunc,direction,currentPosition,headerPosition,headerRowCount});return!!newHeaderPosition&&this.focusProvidedHeaderPosition({headerPosition:newHeaderPosition,direction,event});}getHeaderPositionFromUserFunc(params){var{userFunc,direction,currentPosition,headerPosition,headerRowCount}=params;var userFuncParams={backwards:direction===\"Before\",previousHeaderPosition:currentPosition,nextHeaderPosition:headerPosition,headerRowCount};var userResult=userFunc(userFuncParams);if(userResult===true){return currentPosition;}if(userResult===false){return null;}return userResult;}focusProvidedHeaderPosition(params){var{headerPosition,direction,fromCell,rowWithoutSpanValue,event}=params;var{column,headerRowIndex}=headerPosition;var{filterManager,ctrlsSvc,headerNavigation}=this.beans;if(headerRowIndex===-1){if(filterManager!==null&&filterManager!==void 0&&filterManager.isAdvFilterHeaderActive()){return this.focusAdvancedFilter(headerPosition);}return this.focusGridView({column,event});}headerNavigation===null||headerNavigation===void 0||headerNavigation.scrollToColumn(column,direction);var headerRowContainerCtrl=ctrlsSvc.getHeaderRowContainerCtrl(column.getPinned());var focusSuccess=(headerRowContainerCtrl===null||headerRowContainerCtrl===void 0?void 0:headerRowContainerCtrl.focusHeader(headerPosition.headerRowIndex,column,event))||false;if(headerNavigation&&focusSuccess&&(rowWithoutSpanValue!=null||fromCell)){headerNavigation.currentHeaderRowWithoutSpan=rowWithoutSpanValue!==null&&rowWithoutSpanValue!==void 0?rowWithoutSpanValue:-1;}return focusSuccess;}focusFirstHeader(){var _this$overlays;if((_this$overlays=this.overlays)!==null&&_this$overlays!==void 0&&_this$overlays.isExclusive()&&this.focusOverlay()){return true;}var firstColumn=this.visibleCols.allCols[0];if(!firstColumn){return false;}var{colGroupSvc}=this.beans;if(colGroupSvc&&firstColumn.getParent()){firstColumn=colGroupSvc.getColGroupAtLevel(firstColumn,0);}var headerPosition=getHeaderIndexToFocus(firstColumn,0);return this.focusHeaderPosition({headerPosition,rowWithoutSpanValue:0});}focusLastHeader(event){var _this$overlays2;if((_this$overlays2=this.overlays)!==null&&_this$overlays2!==void 0&&_this$overlays2.isExclusive()&&this.focusOverlay(true)){return true;}var headerRowIndex=getFocusHeaderRowCount(this.beans)-1;var column=_last(this.visibleCols.allCols);return this.focusHeaderPosition({headerPosition:{headerRowIndex,column},rowWithoutSpanValue:-1,event});}focusPreviousFromFirstCell(event){var _this$filterManager5;if((_this$filterManager5=this.filterManager)!==null&&_this$filterManager5!==void 0&&_this$filterManager5.isAdvFilterHeaderActive()){return this.focusAdvancedFilter(null);}return this.focusLastHeader(event);}isAnyCellFocused(){return!!this.focusedCell;}isRowFocused(rowIndex,rowPinnedType){if(this.focusedCell==null){return false;}return this.focusedCell.rowIndex===rowIndex&&this.focusedCell.rowPinned===_makeNull(rowPinnedType);}focusOverlay(backwards){var _this$overlays3,_this$overlays$eWrapp;var overlayGui=((_this$overlays3=this.overlays)===null||_this$overlays3===void 0?void 0:_this$overlays3.isVisible())&&((_this$overlays$eWrapp=this.overlays.eWrapper)===null||_this$overlays$eWrapp===void 0?void 0:_this$overlays$eWrapp.getGui());return!!overlayGui&&_focusInto(overlayGui,backwards);}focusGridView(params){var _this$overlays4;var{backwards=false,canFocusOverlay=true,event}=params;if((_this$overlays4=this.overlays)!==null&&_this$overlays4!==void 0&&_this$overlays4.isExclusive()){return canFocusOverlay&&this.focusOverlay(backwards);}if(_isCellFocusSuppressed(this.beans)){if(backwards){if(!_isHeaderFocusSuppressed(this.beans)){return this.focusLastHeader();}}if(canFocusOverlay&&this.focusOverlay(backwards)){return true;}if(backwards){return false;}return _focusNextGridCoreContainer(this.beans,backwards);}var nextRow=backwards?_getLastRow(this.beans):_getFirstRow(this.beans);if(nextRow){var _params$column,_this$focusedHeader,_this$navigation,_this$beans$rangeSvc;var column=(_params$column=params.column)!==null&&_params$column!==void 0?_params$column:(_this$focusedHeader=this.focusedHeader)===null||_this$focusedHeader===void 0?void 0:_this$focusedHeader.column;var{rowIndex,rowPinned}=nextRow;var rowNode=_getRowNode(this.beans,nextRow);if(!column||!rowNode||rowIndex==null){return false;}if(column.isSuppressNavigable(rowNode)){var _this$beans$navigatio4;var isRtl=this.gos.get(\"enableRtl\");var key;if(!event||event.key===KeyCode.TAB){key=isRtl?KeyCode.LEFT:KeyCode.RIGHT;}else{key=event.key;}(_this$beans$navigatio4=this.beans.navigation)===null||_this$beans$navigatio4===void 0||_this$beans$navigatio4.navigateToNextCell(null,key,{rowIndex,column,rowPinned:rowPinned||null},true);return true;}(_this$navigation=this.navigation)===null||_this$navigation===void 0||_this$navigation.ensureCellVisible({rowIndex,column,rowPinned});if(backwards){var _this$navigation2;var rowCtrl=this.rowRenderer.getRowByPosition(nextRow);if(rowCtrl!==null&&rowCtrl!==void 0&&rowCtrl.isFullWidth()&&(_this$navigation2=this.navigation)!==null&&_this$navigation2!==void 0&&_this$navigation2.tryToFocusFullWidthRow(nextRow,backwards)){return true;}}this.setFocusedCell({rowIndex,column,rowPinned:_makeNull(rowPinned),forceBrowserFocus:true});(_this$beans$rangeSvc=this.beans.rangeSvc)===null||_this$beans$rangeSvc===void 0||_this$beans$rangeSvc.setRangeToCell({rowIndex,rowPinned,column});return true;}if(canFocusOverlay&&this.focusOverlay(backwards)){return true;}if(backwards&&this.focusLastHeader()){return true;}return false;}focusAdvancedFilter(position){var _this$beans$advancedF,_this$beans$advancedF2;this.advFilterFocusColumn=position===null||position===void 0?void 0:position.column;return(_this$beans$advancedF=(_this$beans$advancedF2=this.beans.advancedFilter)===null||_this$beans$advancedF2===void 0?void 0:_this$beans$advancedF2.getCtrl().focusHeaderComp())!==null&&_this$beans$advancedF!==void 0?_this$beans$advancedF:false;}focusNextFromAdvancedFilter(backwards,forceFirstColumn){var _ref53,_this$visibleCols$all;var column=(_ref53=forceFirstColumn?void 0:this.advFilterFocusColumn)!==null&&_ref53!==void 0?_ref53:(_this$visibleCols$all=this.visibleCols.allCols)===null||_this$visibleCols$all===void 0?void 0:_this$visibleCols$all[0];if(backwards){return this.focusHeaderPosition({headerPosition:{column,headerRowIndex:getFocusHeaderRowCount(this.beans)-1}});}else{return this.focusGridView({column});}}clearAdvancedFilterColumn(){this.advFilterFocusColumn=void 0;}};// packages/ag-grid-community/src/gridBodyComp/scrollVisibleService.ts\nvar ScrollVisibleService=class extends BeanStub{constructor(){super(...arguments);this.beanName=\"scrollVisibleSvc\";}wireBeans(beans){this.ctrlsSvc=beans.ctrlsSvc;this.colAnimation=beans.colAnimation;}postConstruct(){this.getScrollbarWidth();this.addManagedEventListeners({displayedColumnsChanged:this.updateScrollVisible.bind(this),displayedColumnsWidthChanged:this.updateScrollVisible.bind(this)});}updateScrollVisible(){var{colAnimation}=this;if(colAnimation!==null&&colAnimation!==void 0&&colAnimation.isActive()){colAnimation.executeLaterVMTurn(()=>{colAnimation.executeLaterVMTurn(()=>this.updateScrollVisibleImpl());});}else{this.updateScrollVisibleImpl();}}updateScrollVisibleImpl(){var _this$colAnimation;var centerRowCtrl=this.ctrlsSvc.get(\"center\");if(!centerRowCtrl||(_this$colAnimation=this.colAnimation)!==null&&_this$colAnimation!==void 0&&_this$colAnimation.isActive()){return;}var params={horizontalScrollShowing:centerRowCtrl.isHorizontalScrollShowing(),verticalScrollShowing:this.verticalScrollShowing};this.setScrollsVisible(params);this.updateScrollGap();}updateScrollGap(){var centerRowCtrl=this.ctrlsSvc.get(\"center\");var horizontalGap=centerRowCtrl.hasHorizontalScrollGap();var verticalGap=centerRowCtrl.hasVerticalScrollGap();var atLeastOneDifferent=this.horizontalScrollGap!==horizontalGap||this.verticalScrollGap!==verticalGap;if(atLeastOneDifferent){this.horizontalScrollGap=horizontalGap;this.verticalScrollGap=verticalGap;this.eventSvc.dispatchEvent({type:\"scrollGapChanged\"});}}setScrollsVisible(params){var atLeastOneDifferent=this.horizontalScrollShowing!==params.horizontalScrollShowing||this.verticalScrollShowing!==params.verticalScrollShowing;if(atLeastOneDifferent){this.horizontalScrollShowing=params.horizontalScrollShowing;this.verticalScrollShowing=params.verticalScrollShowing;this.eventSvc.dispatchEvent({type:\"scrollVisibilityChanged\"});}}// the user might be using some non-standard scrollbar, eg a scrollbar that has zero\n// width and overlays (like the Safari scrollbar, but presented in Chrome). so we\n// allow the user to provide the scroll width before we work it out.\ngetScrollbarWidth(){if(this.scrollbarWidth==null){var gridOptionsScrollbarWidth=this.gos.get(\"scrollbarWidth\");var useGridOptions=typeof gridOptionsScrollbarWidth===\"number\"&&gridOptionsScrollbarWidth>=0;var scrollbarWidth=useGridOptions?gridOptionsScrollbarWidth:_getScrollbarWidth();if(scrollbarWidth!=null){this.scrollbarWidth=scrollbarWidth;this.eventSvc.dispatchEvent({type:\"scrollbarWidthChanged\"});}}return this.scrollbarWidth;}};// packages/ag-grid-community/src/gridDestroyService.ts\nvar GridDestroyService=class extends BeanStub{constructor(){super(...arguments);this.beanName=\"gridDestroySvc\";this.destroyCalled=false;}destroy(){var _stateSvc$getState,_ctrlsSvc$get;if(this.destroyCalled){return;}var{stateSvc,ctrlsSvc,context}=this.beans;this.eventSvc.dispatchEvent({type:\"gridPreDestroyed\",state:(_stateSvc$getState=stateSvc===null||stateSvc===void 0?void 0:stateSvc.getState())!==null&&_stateSvc$getState!==void 0?_stateSvc$getState:{}});this.destroyCalled=true;(_ctrlsSvc$get=ctrlsSvc.get(\"gridCtrl\"))===null||_ctrlsSvc$get===void 0||_ctrlsSvc$get.destroyGridUi();context.destroy();super.destroy();}};// packages/ag-grid-community/src/events.ts\nvar ALWAYS_SYNC_GLOBAL_EVENTS=/* @__PURE__ */new Set([\"gridPreDestroyed\",\"fillStart\",\"pasteStart\"]);// packages/ag-grid-community/src/eventTypes.ts\nvar _PUBLIC_EVENTS=[\"columnEverythingChanged\",\"newColumnsLoaded\",\"columnPivotModeChanged\",\"pivotMaxColumnsExceeded\",\"columnRowGroupChanged\",\"expandOrCollapseAll\",\"columnPivotChanged\",\"gridColumnsChanged\",\"columnValueChanged\",\"columnMoved\",\"columnVisible\",\"columnPinned\",\"columnGroupOpened\",\"columnResized\",\"displayedColumnsChanged\",\"virtualColumnsChanged\",\"columnHeaderMouseOver\",\"columnHeaderMouseLeave\",\"columnHeaderClicked\",\"columnHeaderContextMenu\",\"asyncTransactionsFlushed\",\"rowGroupOpened\",\"rowDataUpdated\",\"pinnedRowDataChanged\",\"pinnedRowsChanged\",\"rangeSelectionChanged\",\"cellSelectionChanged\",\"chartCreated\",\"chartRangeSelectionChanged\",\"chartOptionsChanged\",\"chartDestroyed\",\"toolPanelVisibleChanged\",\"toolPanelSizeChanged\",\"modelUpdated\",\"cutStart\",\"cutEnd\",\"pasteStart\",\"pasteEnd\",\"fillStart\",\"fillEnd\",\"cellSelectionDeleteStart\",\"cellSelectionDeleteEnd\",\"rangeDeleteStart\",\"rangeDeleteEnd\",\"undoStarted\",\"undoEnded\",\"redoStarted\",\"redoEnded\",\"cellClicked\",\"cellDoubleClicked\",\"cellMouseDown\",\"cellContextMenu\",\"cellValueChanged\",\"cellEditRequest\",\"rowValueChanged\",\"headerFocused\",\"cellFocused\",\"rowSelected\",\"selectionChanged\",\"tooltipShow\",\"tooltipHide\",\"cellKeyDown\",\"cellMouseOver\",\"cellMouseOut\",\"filterChanged\",\"filterModified\",\"filterUiChanged\",\"filterOpened\",\"floatingFilterUiChanged\",\"advancedFilterBuilderVisibleChanged\",\"sortChanged\",\"virtualRowRemoved\",\"rowClicked\",\"rowDoubleClicked\",\"gridReady\",\"gridPreDestroyed\",\"gridSizeChanged\",\"viewportChanged\",\"firstDataRendered\",\"dragStarted\",\"dragStopped\",\"dragCancelled\",\"rowEditingStarted\",\"rowEditingStopped\",\"cellEditingStarted\",\"cellEditingStopped\",\"bodyScroll\",\"bodyScrollEnd\",\"paginationChanged\",\"componentStateChanged\",\"storeRefreshed\",\"stateUpdated\",\"columnMenuVisibleChanged\",\"contextMenuVisibleChanged\",\"rowDragEnter\",\"rowDragMove\",\"rowDragLeave\",\"rowDragEnd\",\"rowDragCancel\",\"findChanged\",\"rowResizeStarted\",\"rowResizeEnded\",\"columnsReset\"];var _INTERNAL_EVENTS=[\"scrollbarWidthChanged\",\"keyShortcutChangedCellStart\",\"keyShortcutChangedCellEnd\",\"pinnedHeightChanged\",\"cellFocusCleared\",\"fullWidthRowFocused\",\"checkboxChanged\",\"heightScaleChanged\",\"suppressMovableColumns\",\"suppressMenuHide\",\"suppressFieldDotNotation\",\"columnPanelItemDragStart\",\"columnPanelItemDragEnd\",\"bodyHeightChanged\",\"columnContainerWidthChanged\",\"displayedColumnsWidthChanged\",\"scrollVisibilityChanged\",\"scrollGapChanged\",\"columnHoverChanged\",\"flashCells\",\"paginationPixelOffsetChanged\",\"displayedRowsChanged\",\"leftPinnedWidthChanged\",\"rightPinnedWidthChanged\",\"rowContainerHeightChanged\",\"headerHeightChanged\",\"columnGroupHeaderHeightChanged\",\"columnHeaderHeightChanged\",\"gridStylesChanged\",\"storeUpdated\",\"filterDestroyed\",\"rowDataUpdateStarted\",\"rowCountReady\",\"advancedFilterEnabledChanged\",\"dataTypesInferred\",\"fieldValueChanged\",\"fieldPickerValueSelected\",\"richSelectListRowSelected\",\"sideBarUpdated\",\"alignedGridScroll\",\"alignedGridColumn\",\"gridOptionsChanged\",\"chartTitleEdit\",\"recalculateRowBounds\",\"stickyTopOffsetChanged\",\"overlayExclusiveChanged\",\"beforeRefreshModel\",\"rowNodeDataChanged\",\"cellEditValuesChanged\",\"filterSwitched\",\"batchEditingStarted\",\"batchEditingStopped\",\"filterClosed\"];var _GET_ALL_EVENTS=()=>[..._PUBLIC_EVENTS,..._INTERNAL_EVENTS];// packages/ag-grid-community/src/publicEventHandlersMap.ts\nvar _PUBLIC_EVENT_HANDLERS_MAP=_PUBLIC_EVENTS.reduce((mem,ev)=>{mem[ev]=_getCallbackForEvent(ev);return mem;},{});// packages/ag-grid-community/src/sort/sortIndicatorComp.ts\nvar makeIconParams=(dataRefSuffix,classSuffix)=>({tag:\"span\",ref:\"eSort\".concat(dataRefSuffix),cls:\"ag-sort-indicator-icon ag-sort-\".concat(classSuffix,\" ag-hidden\"),attrs:{\"aria-hidden\":\"true\"}});var SortIndicatorElement={tag:\"span\",cls:\"ag-sort-indicator-container\",children:[makeIconParams(\"Order\",\"order\"),makeIconParams(\"Asc\",\"ascending-icon\"),makeIconParams(\"Desc\",\"descending-icon\"),makeIconParams(\"Mixed\",\"mixed-icon\"),makeIconParams(\"None\",\"none-icon\")]};var SortIndicatorComp=class extends Component{constructor(skipTemplate){super();// Elements might by undefined when the user provides a custom template\nthis.eSortOrder=RefPlaceholder;this.eSortAsc=RefPlaceholder;this.eSortDesc=RefPlaceholder;this.eSortMixed=RefPlaceholder;this.eSortNone=RefPlaceholder;if(!skipTemplate){this.setTemplate(SortIndicatorElement);}}attachCustomElements(eSortOrder,eSortAsc,eSortDesc,eSortMixed,eSortNone){this.eSortOrder=eSortOrder;this.eSortAsc=eSortAsc;this.eSortDesc=eSortDesc;this.eSortMixed=eSortMixed;this.eSortNone=eSortNone;}setupSort(column){var suppressOrder=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;this.column=column;this.suppressOrder=suppressOrder;this.setupMultiSortIndicator();if(!column.isSortable()&&!column.getColDef().showRowGroup){return;}this.addInIcon(\"sortAscending\",this.eSortAsc,column);this.addInIcon(\"sortDescending\",this.eSortDesc,column);this.addInIcon(\"sortUnSort\",this.eSortNone,column);var updateIcons=this.updateIcons.bind(this);var sortUpdated=this.onSortChanged.bind(this);this.addManagedPropertyListener(\"unSortIcon\",updateIcons);this.addManagedEventListeners({newColumnsLoaded:updateIcons,// Watch global events, as row group columns can effect their display column.\nsortChanged:sortUpdated,// when grouping changes so can sort indexes and icons\ncolumnRowGroupChanged:sortUpdated});this.onSortChanged();}addInIcon(iconName,eParent,column){if(eParent==null){return;}var eIcon=_createIconNoSpan(iconName,this.beans,column);if(eIcon){eParent.appendChild(eIcon);}}onSortChanged(){this.updateIcons();if(!this.suppressOrder){this.updateSortOrder();}}updateIcons(){var{eSortAsc,eSortDesc,eSortNone,column,gos,beans}=this;var sortDirection=beans.sortSvc.getDisplaySortForColumn(column);if(eSortAsc){var isAscending=sortDirection===\"asc\";_setDisplayed(eSortAsc,isAscending,{skipAriaHidden:true});}if(eSortDesc){var isDescending=sortDirection===\"desc\";_setDisplayed(eSortDesc,isDescending,{skipAriaHidden:true});}if(eSortNone){var alwaysHideNoSort=!column.getColDef().unSortIcon&&!gos.get(\"unSortIcon\");var isNone=sortDirection===null||sortDirection===void 0;_setDisplayed(eSortNone,!alwaysHideNoSort&&isNone,{skipAriaHidden:true});}}setupMultiSortIndicator(){var{eSortMixed,column,gos}=this;this.addInIcon(\"sortUnSort\",eSortMixed,column);var isColumnShowingRowGroup=column.getColDef().showRowGroup;var areGroupsCoupled=_isColumnsSortingCoupledToGroup(gos);if(areGroupsCoupled&&isColumnShowingRowGroup){this.addManagedEventListeners({// Watch global events, as row group columns can effect their display column.\nsortChanged:this.updateMultiSortIndicator.bind(this),// when grouping changes so can sort indexes and icons\ncolumnRowGroupChanged:this.updateMultiSortIndicator.bind(this)});this.updateMultiSortIndicator();}}updateMultiSortIndicator(){var{eSortMixed,beans,column}=this;if(eSortMixed){var isMixedSort=beans.sortSvc.getDisplaySortForColumn(column)===\"mixed\";_setDisplayed(eSortMixed,isMixedSort,{skipAriaHidden:true});}}// we listen here for global sort events, NOT column sort events, as we want to do this\n// when sorting has been set on all column (if we listened just for our col (where we\n// set the asc / desc icons) then it's possible other cols are yet to get their sorting state.\nupdateSortOrder(){var _sortSvc$getDisplaySo;var{eSortOrder,column,beans:{sortSvc}}=this;if(!eSortOrder){return;}var allColumnsWithSorting=sortSvc.getColumnsWithSortingOrdered();var indexThisCol=(_sortSvc$getDisplaySo=sortSvc.getDisplaySortIndexForColumn(column))!==null&&_sortSvc$getDisplaySo!==void 0?_sortSvc$getDisplaySo:-1;var moreThanOneColSorting=allColumnsWithSorting.some(col=>{var _sortSvc$getDisplaySo2;return(_sortSvc$getDisplaySo2=sortSvc.getDisplaySortIndexForColumn(col))!==null&&_sortSvc$getDisplaySo2!==void 0?_sortSvc$getDisplaySo2:-1>=1;});var showIndex=indexThisCol>=0&&moreThanOneColSorting;_setDisplayed(eSortOrder,showIndex,{skipAriaHidden:true});if(indexThisCol>=0){eSortOrder.textContent=(indexThisCol+1).toString();}else{_clearElement(eSortOrder);}}};var SortIndicatorSelector={selector:\"AG-SORT-INDICATOR\",component:SortIndicatorComp};// packages/ag-grid-community/src/sort/sortService.ts\nvar DEFAULT_SORTING_ORDER=[\"asc\",\"desc\",null];var SortService=class extends BeanStub{constructor(){super(...arguments);this.beanName=\"sortSvc\";}progressSort(column,multiSort,source){var nextDirection=this.getNextSortDirection(column);this.setSortForColumn(column,nextDirection,multiSort,source);}progressSortFromEvent(column,event){var sortUsingCtrl=this.gos.get(\"multiSortKey\")===\"ctrl\";var multiSort=sortUsingCtrl?event.ctrlKey||event.metaKey:event.shiftKey;this.progressSort(column,multiSort,\"uiColumnSorted\");}setSortForColumn(column,sort,multiSort,source){if(sort!==\"asc\"&&sort!==\"desc\"){sort=null;}var{gos,showRowGroupCols}=this.beans;var isColumnsSortingCoupledToGroup=_isColumnsSortingCoupledToGroup(gos);var columnsToUpdate=[column];if(isColumnsSortingCoupledToGroup){if(column.getColDef().showRowGroup){var _showRowGroupCols$get;var rowGroupColumns=showRowGroupCols===null||showRowGroupCols===void 0||(_showRowGroupCols$get=showRowGroupCols.getSourceColumnsForGroupColumn)===null||_showRowGroupCols$get===void 0?void 0:_showRowGroupCols$get.call(showRowGroupCols,column);var sortableRowGroupColumns=rowGroupColumns===null||rowGroupColumns===void 0?void 0:rowGroupColumns.filter(col=>col.isSortable());if(sortableRowGroupColumns){columnsToUpdate=[column,...sortableRowGroupColumns];}}}columnsToUpdate.forEach(col=>this.setColSort(col,sort,source));var doingMultiSort=(multiSort||gos.get(\"alwaysMultiSort\"))&&!gos.get(\"suppressMultiSort\");var updatedColumns=[];if(!doingMultiSort){var clearedColumns=this.clearSortBarTheseColumns(columnsToUpdate,source);updatedColumns.push(...clearedColumns);}this.updateSortIndex(column);updatedColumns.push(...columnsToUpdate);this.dispatchSortChangedEvents(source,updatedColumns);}updateSortIndex(lastColToChange){var{gos,colModel,showRowGroupCols}=this.beans;var isCoupled=_isColumnsSortingCoupledToGroup(gos);var groupParent=showRowGroupCols===null||showRowGroupCols===void 0?void 0:showRowGroupCols.getShowRowGroupCol(lastColToChange.getId());var lastSortIndexCol=isCoupled?groupParent||lastColToChange:lastColToChange;var allSortedCols=this.getColumnsWithSortingOrdered();colModel.forAllCols(col=>this.setColSortIndex(col,null));var allSortedColsWithoutChangesOrGroups=allSortedCols.filter(col=>{if(isCoupled&&col.getColDef().showRowGroup){return false;}return col!==lastSortIndexCol;});var sortedColsWithIndices=lastSortIndexCol.getSort()?[...allSortedColsWithoutChangesOrGroups,lastSortIndexCol]:allSortedColsWithoutChangesOrGroups;sortedColsWithIndices.forEach((col,idx)=>this.setColSortIndex(col,idx));}// gets called by API, so if data changes, use can call this, which will end up\n// working out the sort order again of the rows.\nonSortChanged(source,columns){this.dispatchSortChangedEvents(source,columns);}isSortActive(){var isSorting=false;this.beans.colModel.forAllCols(col=>{if(col.getSort()){isSorting=true;}});return isSorting;}dispatchSortChangedEvents(source,columns){var event={type:\"sortChanged\",source};if(columns){event.columns=columns;}this.eventSvc.dispatchEvent(event);}clearSortBarTheseColumns(columnsToSkip,source){var clearedColumns=[];this.beans.colModel.forAllCols(columnToClear=>{if(!columnsToSkip.includes(columnToClear)){if(columnToClear.getSort()){clearedColumns.push(columnToClear);}this.setColSort(columnToClear,void 0,source);}});return clearedColumns;}getNextSortDirection(column){var _ref54,_column$getColDef$sor;var sortingOrder=(_ref54=(_column$getColDef$sor=column.getColDef().sortingOrder)!==null&&_column$getColDef$sor!==void 0?_column$getColDef$sor:this.gos.get(\"sortingOrder\"))!==null&&_ref54!==void 0?_ref54:DEFAULT_SORTING_ORDER;var currentIndex=sortingOrder.indexOf(column.getSort());var notInArray=currentIndex<0;var lastItemInArray=currentIndex==sortingOrder.length-1;return notInArray||lastItemInArray?sortingOrder[0]:sortingOrder[currentIndex+1];}/**\n   * @returns a map of sort indexes for every sorted column, if groups sort primaries then they will have equivalent indices\n   */getIndexedSortMap(){var _rowGroupColsSvc$colu5;var{gos,colModel,showRowGroupCols,rowGroupColsSvc}=this.beans;var allSortedCols=[];colModel.forAllCols(col=>{if(col.getSort()){allSortedCols.push(col);}});if(colModel.isPivotMode()){var isSortingLinked=_isColumnsSortingCoupledToGroup(gos);allSortedCols=allSortedCols.filter(col=>{var isAggregated=!!col.getAggFunc();var isSecondary=!col.isPrimary();var isGroup=isSortingLinked?showRowGroupCols===null||showRowGroupCols===void 0?void 0:showRowGroupCols.getShowRowGroupCol(col.getId()):col.getColDef().showRowGroup;return isAggregated||isSecondary||isGroup;});}var sortedRowGroupCols=(_rowGroupColsSvc$colu5=rowGroupColsSvc===null||rowGroupColsSvc===void 0?void 0:rowGroupColsSvc.columns.filter(col=>!!col.getSort()))!==null&&_rowGroupColsSvc$colu5!==void 0?_rowGroupColsSvc$colu5:[];var allColsIndexes={};allSortedCols.forEach((col,index)=>allColsIndexes[col.getId()]=index);allSortedCols.sort((a,b)=>{var iA=a.getSortIndex();var iB=b.getSortIndex();if(iA!=null&&iB!=null){return iA-iB;}else if(iA==null&&iB==null){var posA=allColsIndexes[a.getId()];var posB=allColsIndexes[b.getId()];return posA>posB?1:-1;}else if(iB==null){return-1;}else{return 1;}});var isSortLinked=_isColumnsSortingCoupledToGroup(gos)&&!!sortedRowGroupCols.length;if(isSortLinked){allSortedCols=[...new Set(// if linked sorting, replace all columns with the display group column for index purposes, and ensure uniqueness\nallSortedCols.map(col=>{var _showRowGroupCols$get2;return(_showRowGroupCols$get2=showRowGroupCols===null||showRowGroupCols===void 0?void 0:showRowGroupCols.getShowRowGroupCol(col.getId()))!==null&&_showRowGroupCols$get2!==void 0?_showRowGroupCols$get2:col;}))];}var indexMap=/* @__PURE__ */new Map();allSortedCols.forEach((col,idx)=>indexMap.set(col,idx));if(isSortLinked){sortedRowGroupCols.forEach(col=>{var groupDisplayCol=showRowGroupCols.getShowRowGroupCol(col.getId());indexMap.set(col,indexMap.get(groupDisplayCol));});}return indexMap;}getColumnsWithSortingOrdered(){return[...this.getIndexedSortMap().entries()].sort((_ref55,_ref56)=>{var[,idx1]=_ref55;var[,idx2]=_ref56;return idx1-idx2;}).map(_ref57=>{var[col]=_ref57;return col;});}// used by server side row models, to sent sort to server\ngetSortModel(){return this.getColumnsWithSortingOrdered().filter(column=>column.getSort()).map(column=>({sort:column.getSort(),colId:column.getId()}));}getSortOptions(){return this.getColumnsWithSortingOrdered().filter(column=>column.getSort()).map(column=>({sort:column.getSort(),column}));}canColumnDisplayMixedSort(column){var isColumnSortCouplingActive=_isColumnsSortingCoupledToGroup(this.gos);var isGroupDisplayColumn=!!column.getColDef().showRowGroup;return isColumnSortCouplingActive&&isGroupDisplayColumn;}getDisplaySortForColumn(column){var _this$beans$showRowGr3;var linkedColumns=(_this$beans$showRowGr3=this.beans.showRowGroupCols)===null||_this$beans$showRowGr3===void 0?void 0:_this$beans$showRowGr3.getSourceColumnsForGroupColumn(column);if(!this.canColumnDisplayMixedSort(column)||!(linkedColumns!==null&&linkedColumns!==void 0&&linkedColumns.length)){return column.getSort();}var columnHasUniqueData=column.getColDef().field!=null||!!column.getColDef().valueGetter;var sortableColumns=columnHasUniqueData?[column,...linkedColumns]:linkedColumns;var firstSort=sortableColumns[0].getSort();var allMatch=sortableColumns.every(col=>col.getSort()==firstSort);if(!allMatch){return\"mixed\";}return firstSort;}getDisplaySortIndexForColumn(column){return this.getIndexedSortMap().get(column);}setupHeader(comp,column,clickElement){var lastMovingChanged=0;comp.addManagedListeners(column,{movingChanged:()=>{lastMovingChanged=Date.now();}});if(clickElement){comp.addManagedElementListeners(clickElement,{click:event=>{var moving=column.isMoving();var nowTime=Date.now();var movedRecently=nowTime-lastMovingChanged<50;var columnMoving=moving||movedRecently;if(!columnMoving){this.progressSortFromEvent(column,event);}}});}var onSortingChanged=()=>{var sort=column.getSort();comp.toggleCss(\"ag-header-cell-sorted-asc\",sort===\"asc\");comp.toggleCss(\"ag-header-cell-sorted-desc\",sort===\"desc\");comp.toggleCss(\"ag-header-cell-sorted-none\",!sort);if(column.getColDef().showRowGroup){var _this$beans$showRowGr4;var sourceColumns=(_this$beans$showRowGr4=this.beans.showRowGroupCols)===null||_this$beans$showRowGr4===void 0?void 0:_this$beans$showRowGr4.getSourceColumnsForGroupColumn(column);var sortDirectionsMatch=sourceColumns===null||sourceColumns===void 0?void 0:sourceColumns.every(sourceCol=>column.getSort()==sourceCol.getSort());var isMultiSorting=!sortDirectionsMatch;comp.toggleCss(\"ag-header-cell-sorted-mixed\",isMultiSorting);}};comp.addManagedEventListeners({sortChanged:onSortingChanged,columnRowGroupChanged:onSortingChanged});}initCol(column){var{sort,initialSort,sortIndex,initialSortIndex}=column.colDef;if(sort!==void 0){if(sort===\"asc\"||sort===\"desc\"){column.sort=sort;}}else{if(initialSort===\"asc\"||initialSort===\"desc\"){column.sort=initialSort;}}if(sortIndex!==void 0){if(sortIndex!==null){column.sortIndex=sortIndex;}}else{if(initialSortIndex!==null){column.sortIndex=initialSortIndex;}}}updateColSort(column,sort,source){if(sort!==void 0){if(sort===\"desc\"||sort===\"asc\"){this.setColSort(column,sort,source);}else{this.setColSort(column,void 0,source);}}}setColSort(column,sort,source){if(column.sort!==sort){column.sort=sort;column.dispatchColEvent(\"sortChanged\",source);}column.dispatchStateUpdatedEvent(\"sort\");}setColSortIndex(column,sortOrder){column.sortIndex=sortOrder;column.dispatchStateUpdatedEvent(\"sortIndex\");}createSortIndicator(skipTemplate){return new SortIndicatorComp(skipTemplate);}getSortIndicatorSelector(){return SortIndicatorSelector;}};// packages/ag-grid-community/src/validation/rules/userCompValidations.ts\nvar USER_COMP_MODULES={agSetColumnFilter:\"SetFilter\",agSetColumnFloatingFilter:\"SetFilter\",agMultiColumnFilter:\"MultiFilter\",agMultiColumnFloatingFilter:\"MultiFilter\",agGroupColumnFilter:\"GroupFilter\",agGroupColumnFloatingFilter:\"GroupFilter\",agGroupCellRenderer:\"GroupCellRenderer\",agGroupRowRenderer:\"GroupCellRenderer\",agRichSelect:\"RichSelect\",agRichSelectCellEditor:\"RichSelect\",agDetailCellRenderer:\"SharedMasterDetail\",agSparklineCellRenderer:\"Sparklines\",agDragAndDropImage:\"SharedDragAndDrop\",agColumnHeader:\"ColumnHeaderComp\",agColumnGroupHeader:\"ColumnGroupHeaderComp\",agSortIndicator:\"Sort\",agAnimateShowChangeCellRenderer:\"HighlightChanges\",agAnimateSlideCellRenderer:\"HighlightChanges\",agLoadingCellRenderer:\"LoadingCellRenderer\",agSkeletonCellRenderer:\"SkeletonCellRenderer\",agCheckboxCellRenderer:\"CheckboxCellRenderer\",agLoadingOverlay:\"Overlay\",agNoRowsOverlay:\"Overlay\",agTooltipComponent:\"Tooltip\",agReadOnlyFloatingFilter:\"CustomFilter\",agTextColumnFilter:\"TextFilter\",agNumberColumnFilter:\"NumberFilter\",agDateColumnFilter:\"DateFilter\",agDateInput:\"DateFilter\",agTextColumnFloatingFilter:\"TextFilter\",agNumberColumnFloatingFilter:\"NumberFilter\",agDateColumnFloatingFilter:\"DateFilter\",agCellEditor:\"TextEditor\",agSelectCellEditor:\"SelectEditor\",agTextCellEditor:\"TextEditor\",agNumberCellEditor:\"NumberEditor\",agDateCellEditor:\"DateEditor\",agDateStringCellEditor:\"DateEditor\",agCheckboxCellEditor:\"CheckboxEditor\",agLargeTextCellEditor:\"LargeTextEditor\",agMenuItem:\"MenuItem\",agColumnsToolPanel:\"ColumnsToolPanel\",agFiltersToolPanel:\"FiltersToolPanel\",agNewFiltersToolPanel:\"NewFiltersToolPanel\",agAggregationComponent:\"StatusBar\",agSelectedRowCountComponent:\"StatusBar\",agTotalRowCountComponent:\"StatusBar\",agFilteredRowCountComponent:\"StatusBar\",agTotalAndFilteredRowCountComponent:\"StatusBar\",agFindCellRenderer:\"Find\"};// packages/ag-grid-community/src/validation/rules/colDefValidations.ts\nvar COLUMN_DEFINITION_DEPRECATIONS=()=>({checkboxSelection:{version:\"32.2\",message:\"Use `rowSelection.checkboxes` in `GridOptions` instead.\"},headerCheckboxSelection:{version:\"32.2\",message:\"Use `rowSelection.headerCheckbox = true` in `GridOptions` instead.\"},headerCheckboxSelectionFilteredOnly:{version:\"32.2\",message:'Use `rowSelection.selectAll = \"filtered\"` in `GridOptions` instead.'},headerCheckboxSelectionCurrentPageOnly:{version:\"32.2\",message:'Use `rowSelection.selectAll = \"currentPage\"` in `GridOptions` instead.'},showDisabledCheckboxes:{version:\"32.2\",message:\"Use `rowSelection.hideDisabledCheckboxes = true` in `GridOptions` instead.\"}});var COLUMN_DEFINITION_MOD_VALIDATIONS={aggFunc:\"SharedAggregation\",autoHeight:\"RowAutoHeight\",cellClass:\"CellStyle\",cellClassRules:\"CellStyle\",cellEditor:_ref58=>{var{cellEditor:_cellEditor,editable}=_ref58;if(!editable){return null;}if(typeof _cellEditor===\"string\"){var _USER_COMP_MODULES$_c;return(_USER_COMP_MODULES$_c=USER_COMP_MODULES[_cellEditor])!==null&&_USER_COMP_MODULES$_c!==void 0?_USER_COMP_MODULES$_c:\"CustomEditor\";}return\"CustomEditor\";},cellRenderer:_ref59=>{var{cellRenderer:_cellRenderer}=_ref59;if(typeof _cellRenderer!==\"string\"){return null;}return USER_COMP_MODULES[_cellRenderer];},cellStyle:\"CellStyle\",columnChooserParams:\"ColumnMenu\",contextMenuItems:\"ContextMenu\",dndSource:\"DragAndDrop\",dndSourceOnRowDrag:\"DragAndDrop\",editable:_ref60=>{var{editable:_editable,cellEditor}=_ref60;if(_editable&&!cellEditor){return\"TextEditor\";}return null;},enableCellChangeFlash:\"HighlightChanges\",enablePivot:\"SharedPivot\",enableRowGroup:\"SharedRowGrouping\",enableValue:\"SharedAggregation\",filter:_ref61=>{var{filter:_filter}=_ref61;if(_filter&&typeof _filter!==\"string\"&&typeof _filter!==\"boolean\"){return\"CustomFilter\";}if(typeof _filter===\"string\"){var _USER_COMP_MODULES$_f;return(_USER_COMP_MODULES$_f=USER_COMP_MODULES[_filter])!==null&&_USER_COMP_MODULES$_f!==void 0?_USER_COMP_MODULES$_f:\"ColumnFilter\";}return\"ColumnFilter\";},floatingFilter:\"ColumnFilter\",getQuickFilterText:\"QuickFilter\",headerTooltip:\"Tooltip\",mainMenuItems:\"ColumnMenu\",menuTabs:options=>{var _options$menuTabs;var enterpriseMenuTabs=[\"columnsMenuTab\",\"generalMenuTab\"];if((_options$menuTabs=options.menuTabs)!==null&&_options$menuTabs!==void 0&&_options$menuTabs.some(tab=>enterpriseMenuTabs.includes(tab))){return\"ColumnMenu\";}return null;},pivot:\"SharedPivot\",pivotIndex:\"SharedPivot\",rowDrag:\"RowDrag\",rowGroup:\"SharedRowGrouping\",rowGroupIndex:\"SharedRowGrouping\",tooltipField:\"Tooltip\",tooltipValueGetter:\"Tooltip\",spanRows:\"CellSpan\"};var COLUMN_DEFINITION_VALIDATIONS=()=>{var validations={autoHeight:{supportedRowModels:[\"clientSide\",\"serverSide\"],validate:(_colDef,_ref62)=>{var{paginationAutoPageSize}=_ref62;if(paginationAutoPageSize){return\"colDef.autoHeight is not supported with paginationAutoPageSize.\";}return null;}},cellRendererParams:{validate:colDef=>{var groupColumn=colDef.rowGroup!=null||colDef.rowGroupIndex!=null||colDef.cellRenderer===\"agGroupCellRenderer\";if(groupColumn&&\"checkbox\"in colDef.cellRendererParams){return'Since v33.0, `cellRendererParams.checkbox` has been deprecated. Use `rowSelection.checkboxLocation = \"autoGroupColumn\"` instead.';}return null;}},flex:{validate:(_options,gridOptions)=>{if(gridOptions.autoSizeStrategy){return\"colDef.flex is not supported with gridOptions.autoSizeStrategy\";}return null;}},headerCheckboxSelection:{supportedRowModels:[\"clientSide\",\"serverSide\"],validate:(_options,_ref63)=>{var{rowSelection}=_ref63;return rowSelection===\"multiple\"?null:\"headerCheckboxSelection is only supported with rowSelection=multiple\";}},headerCheckboxSelectionCurrentPageOnly:{supportedRowModels:[\"clientSide\"],validate:(_options,_ref64)=>{var{rowSelection}=_ref64;return rowSelection===\"multiple\"?null:\"headerCheckboxSelectionCurrentPageOnly is only supported with rowSelection=multiple\";}},headerCheckboxSelectionFilteredOnly:{supportedRowModels:[\"clientSide\"],validate:(_options,_ref65)=>{var{rowSelection}=_ref65;return rowSelection===\"multiple\"?null:\"headerCheckboxSelectionFilteredOnly is only supported with rowSelection=multiple\";}},headerValueGetter:{validate:_options=>{var headerValueGetter=_options.headerValueGetter;if(typeof headerValueGetter===\"function\"||typeof headerValueGetter===\"string\"){return null;}return\"headerValueGetter must be a function or a valid string expression\";}},icons:{validate:_ref66=>{var{icons}=_ref66;if(icons){if(icons[\"smallDown\"]){return _errMsg(262);}if(icons[\"smallLeft\"]){return _errMsg(263);}if(icons[\"smallRight\"]){return _errMsg(264);}}return null;}},sortingOrder:{validate:_options=>{var sortingOrder=_options.sortingOrder;if(Array.isArray(sortingOrder)&&sortingOrder.length>0){var invalidItems=sortingOrder.filter(a=>!DEFAULT_SORTING_ORDER.includes(a));if(invalidItems.length>0){return\"sortingOrder must be an array with elements from [\".concat(DEFAULT_SORTING_ORDER.map(toStringWithNullUndefined).join(),\"], currently it includes [\").concat(invalidItems.map(toStringWithNullUndefined).join(),\"]\");}}else if(!Array.isArray(sortingOrder)||sortingOrder.length<=0){return\"sortingOrder must be an array with at least one element, currently it's \".concat(sortingOrder);}return null;}},type:{validate:_options=>{var type=_options.type;if(type instanceof Array){var invalidArray=type.some(a=>typeof a!==\"string\");if(invalidArray){return\"if colDef.type is supplied an array it should be of type 'string[]'\";}return null;}if(typeof type===\"string\"){return null;}return\"colDef.type should be of type 'string' | 'string[]'\";}},rowSpan:{validate:(_options,_ref67)=>{var{suppressRowTransform}=_ref67;if(!suppressRowTransform){return\"colDef.rowSpan requires suppressRowTransform to be enabled.\";}return null;}},spanRows:{dependencies:{editable:{required:[false,void 0]},rowDrag:{required:[false,void 0]},colSpan:{required:[void 0]},rowSpan:{required:[void 0]}},validate:(_options,_ref68)=>{var{rowSelection,cellSelection,suppressRowTransform,enableCellSpan,rowDragEntireRow,enableCellTextSelection}=_ref68;if(typeof rowSelection===\"object\"){if((rowSelection===null||rowSelection===void 0?void 0:rowSelection.mode)===\"singleRow\"&&rowSelection!==null&&rowSelection!==void 0&&rowSelection.enableClickSelection){return\"colDef.spanRows is not supported with rowSelection.clickSelection\";}}if(cellSelection){return\"colDef.spanRows is not supported with cellSelection.\";}if(suppressRowTransform){return\"colDef.spanRows is not supported with suppressRowTransform.\";}if(!enableCellSpan){return\"colDef.spanRows requires enableCellSpan to be enabled.\";}if(rowDragEntireRow){return\"colDef.spanRows is not supported with rowDragEntireRow.\";}if(enableCellTextSelection){return\"colDef.spanRows is not supported with enableCellTextSelection.\";}return null;}}};return validations;};var colDefPropertyMap={headerName:void 0,columnGroupShow:void 0,headerStyle:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellAriaRole:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnChooserParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressHeaderMenuButton:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,spanRows:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0,mainMenuItems:void 0,contextMenuItems:void 0,suppressFloatingFilterButton:void 0,suppressHeaderFilterButton:void 0,suppressHeaderContextMenu:void 0,loadingCellRenderer:void 0,loadingCellRendererParams:void 0,loadingCellRendererSelector:void 0,context:void 0,dateComponent:void 0,dateComponentParams:void 0,getFindText:void 0};var ALL_PROPERTIES=()=>Object.keys(colDefPropertyMap);var COL_DEF_VALIDATORS=()=>({objectName:\"colDef\",allProperties:ALL_PROPERTIES(),docsUrl:\"column-properties/\",deprecations:COLUMN_DEFINITION_DEPRECATIONS(),validations:COLUMN_DEFINITION_VALIDATIONS()});// packages/ag-grid-community/src/propertyKeys.ts\nvar STRING_GRID_OPTIONS=[\"overlayLoadingTemplate\",\"overlayNoRowsTemplate\",\"gridId\",\"quickFilterText\",\"rowModelType\",\"editType\",\"domLayout\",\"clipboardDelimiter\",\"rowGroupPanelShow\",\"multiSortKey\",\"pivotColumnGroupTotals\",\"pivotRowTotals\",\"pivotPanelShow\",\"fillHandleDirection\",\"groupDisplayType\",\"treeDataDisplayType\",\"treeDataChildrenField\",\"treeDataParentIdField\",\"colResizeDefault\",\"tooltipTrigger\",\"serverSidePivotResultFieldSeparator\",\"columnMenu\",\"tooltipShowMode\",\"invalidEditValueMode\",\"grandTotalRow\",\"themeCssLayer\",\"findSearchValue\",\"styleNonce\",\"renderingMode\"];var OBJECT_GRID_OPTIONS=[\"components\",\"rowStyle\",\"context\",\"autoGroupColumnDef\",\"localeText\",\"icons\",\"datasource\",\"dragAndDropImageComponentParams\",\"serverSideDatasource\",\"viewportDatasource\",\"groupRowRendererParams\",\"aggFuncs\",\"fullWidthCellRendererParams\",\"defaultColGroupDef\",\"defaultColDef\",\"defaultCsvExportParams\",\"defaultExcelExportParams\",\"columnTypes\",\"rowClassRules\",\"detailCellRendererParams\",\"loadingCellRendererParams\",\"loadingOverlayComponentParams\",\"noRowsOverlayComponentParams\",\"popupParent\",\"themeStyleContainer\",\"statusBar\",\"chartThemeOverrides\",\"customChartThemes\",\"chartToolPanelsDef\",\"dataTypeDefinitions\",\"advancedFilterParent\",\"advancedFilterBuilderParams\",\"initialState\",\"autoSizeStrategy\",\"selectionColumnDef\",\"findOptions\",\"filterHandlers\"];var ARRAY_GRID_OPTIONS=[\"sortingOrder\",\"alignedGrids\",\"rowData\",\"columnDefs\",\"excelStyles\",\"pinnedTopRowData\",\"pinnedBottomRowData\",\"chartThemes\",\"rowClass\",\"paginationPageSizeSelector\"];var _NUMBER_GRID_OPTIONS=[\"rowHeight\",\"detailRowHeight\",\"rowBuffer\",\"headerHeight\",\"groupHeaderHeight\",\"groupLockGroupColumns\",\"floatingFiltersHeight\",\"pivotHeaderHeight\",\"pivotGroupHeaderHeight\",\"groupDefaultExpanded\",\"pivotDefaultExpanded\",\"viewportRowModelPageSize\",\"viewportRowModelBufferSize\",\"autoSizePadding\",\"maxBlocksInCache\",\"maxConcurrentDatasourceRequests\",\"tooltipShowDelay\",\"tooltipHideDelay\",\"cacheOverflowSize\",\"paginationPageSize\",\"cacheBlockSize\",\"infiniteInitialRowCount\",\"serverSideInitialRowCount\",\"scrollbarWidth\",\"asyncTransactionWaitMillis\",\"blockLoadDebounceMillis\",\"keepDetailRowsCount\",\"undoRedoCellEditingLimit\",\"cellFlashDuration\",\"cellFadeDuration\",\"tabIndex\",\"pivotMaxGeneratedColumns\",\"rowDragInsertDelay\"];var OTHER_GRID_OPTIONS=[\"theme\",\"rowSelection\"];var _BOOLEAN_MIXED_GRID_OPTIONS=[\"cellSelection\",\"sideBar\",\"rowNumbers\",\"suppressGroupChangesColumnVisibility\",\"groupAggFiltering\",\"suppressStickyTotalRow\",\"groupHideParentOfSingleChild\",\"enableRowPinning\"];var _BOOLEAN_GRID_OPTIONS=[\"loadThemeGoogleFonts\",\"suppressMakeColumnVisibleAfterUnGroup\",\"suppressRowClickSelection\",\"suppressCellFocus\",\"suppressHeaderFocus\",\"suppressHorizontalScroll\",\"groupSelectsChildren\",\"alwaysShowHorizontalScroll\",\"alwaysShowVerticalScroll\",\"debug\",\"enableBrowserTooltips\",\"enableCellExpressions\",\"groupSuppressBlankHeader\",\"suppressMenuHide\",\"suppressRowDeselection\",\"unSortIcon\",\"suppressMultiSort\",\"alwaysMultiSort\",\"singleClickEdit\",\"suppressLoadingOverlay\",\"suppressNoRowsOverlay\",\"suppressAutoSize\",\"skipHeaderOnAutoSize\",\"suppressColumnMoveAnimation\",\"suppressMoveWhenColumnDragging\",\"suppressMovableColumns\",\"suppressFieldDotNotation\",\"enableRangeSelection\",\"enableRangeHandle\",\"enableFillHandle\",\"suppressClearOnFillReduction\",\"deltaSort\",\"suppressTouch\",\"allowContextMenuWithControlKey\",\"suppressContextMenu\",\"suppressDragLeaveHidesColumns\",\"suppressRowGroupHidesColumns\",\"suppressMiddleClickScrolls\",\"suppressPreventDefaultOnMouseWheel\",\"suppressCopyRowsToClipboard\",\"copyHeadersToClipboard\",\"copyGroupHeadersToClipboard\",\"pivotMode\",\"suppressAggFuncInHeader\",\"suppressColumnVirtualisation\",\"alwaysAggregateAtRootLevel\",\"suppressFocusAfterRefresh\",\"functionsReadOnly\",\"animateRows\",\"groupSelectsFiltered\",\"groupRemoveSingleChildren\",\"groupRemoveLowestSingleChildren\",\"enableRtl\",\"enableCellSpan\",\"suppressClickEdit\",\"rowDragEntireRow\",\"rowDragManaged\",\"suppressRowDrag\",\"suppressMoveWhenRowDragging\",\"rowDragMultiRow\",\"enableGroupEdit\",\"embedFullWidthRows\",\"suppressPaginationPanel\",\"groupHideOpenParents\",\"groupAllowUnbalanced\",\"pagination\",\"paginationAutoPageSize\",\"suppressScrollOnNewData\",\"suppressScrollWhenPopupsAreOpen\",\"purgeClosedRowNodes\",\"cacheQuickFilter\",\"includeHiddenColumnsInQuickFilter\",\"ensureDomOrder\",\"accentedSort\",\"suppressChangeDetection\",\"valueCache\",\"valueCacheNeverExpires\",\"aggregateOnlyChangedColumns\",\"suppressAnimationFrame\",\"suppressExcelExport\",\"suppressCsvExport\",\"includeHiddenColumnsInAdvancedFilter\",\"suppressMultiRangeSelection\",\"enterNavigatesVerticallyAfterEdit\",\"enterNavigatesVertically\",\"suppressPropertyNamesCheck\",\"rowMultiSelectWithClick\",\"suppressRowHoverHighlight\",\"suppressRowTransform\",\"suppressClipboardPaste\",\"suppressLastEmptyLineOnPaste\",\"enableCharts\",\"suppressMaintainUnsortedOrder\",\"enableCellTextSelection\",\"suppressBrowserResizeObserver\",\"suppressMaxRenderedRowRestriction\",\"excludeChildrenWhenTreeDataFiltering\",\"tooltipMouseTrack\",\"tooltipInteraction\",\"keepDetailRows\",\"paginateChildRows\",\"preventDefaultOnContextMenu\",\"undoRedoCellEditing\",\"allowDragFromColumnsToolPanel\",\"pivotSuppressAutoColumn\",\"suppressExpandablePivotGroups\",\"debounceVerticalScrollbar\",\"detailRowAutoHeight\",\"serverSideSortAllLevels\",\"serverSideEnableClientSideSort\",\"serverSideOnlyRefreshFilteredGroups\",\"suppressAggFilteredOnly\",\"showOpenedGroup\",\"suppressClipboardApi\",\"suppressModelUpdateAfterUpdateTransaction\",\"stopEditingWhenCellsLoseFocus\",\"groupMaintainOrder\",\"columnHoverHighlight\",\"readOnlyEdit\",\"suppressRowVirtualisation\",\"enableCellEditingOnBackspace\",\"resetRowDataOnUpdate\",\"removePivotHeaderRowWhenSingleValueColumn\",\"suppressCopySingleCellRanges\",\"suppressGroupRowsSticky\",\"suppressCutToClipboard\",\"rowGroupPanelSuppressSort\",\"allowShowChangeAfterFilter\",\"enableAdvancedFilter\",\"masterDetail\",\"treeData\",\"reactiveCustomComponents\",\"applyQuickFilterBeforePivotOrAgg\",\"suppressServerSideFullWidthLoadingRow\",\"suppressAdvancedFilterEval\",\"loading\",\"maintainColumnOrder\",\"enableStrictPivotColumnOrder\",\"suppressSetFilterByDefault\",\"enableFilterHandlers\"];var _FUNCTION_GRID_OPTIONS=[\"doesExternalFilterPass\",\"processPivotResultColDef\",\"processPivotResultColGroupDef\",\"getBusinessKeyForNode\",\"isRowSelectable\",\"rowDragText\",\"groupRowRenderer\",\"dragAndDropImageComponent\",\"fullWidthCellRenderer\",\"loadingCellRenderer\",\"loadingOverlayComponent\",\"noRowsOverlayComponent\",\"detailCellRenderer\",\"quickFilterParser\",\"quickFilterMatcher\",\"getLocaleText\",\"isExternalFilterPresent\",\"getRowHeight\",\"getRowClass\",\"getRowStyle\",\"getFullRowEditValidationErrors\",\"getContextMenuItems\",\"getMainMenuItems\",\"processRowPostCreate\",\"processCellForClipboard\",\"getGroupRowAgg\",\"isFullWidthRow\",\"sendToClipboard\",\"focusGridInnerElement\",\"navigateToNextHeader\",\"tabToNextHeader\",\"navigateToNextCell\",\"tabToNextCell\",\"processCellFromClipboard\",\"getDocument\",\"postProcessPopup\",\"getChildCount\",\"getDataPath\",\"isRowMaster\",\"postSortRows\",\"processHeaderForClipboard\",\"processUnpinnedColumns\",\"processGroupHeaderForClipboard\",\"paginationNumberFormatter\",\"processDataFromClipboard\",\"getServerSideGroupKey\",\"isServerSideGroup\",\"createChartContainer\",\"getChartToolbarItems\",\"fillOperation\",\"isApplyServerSideTransaction\",\"getServerSideGroupLevelParams\",\"isServerSideGroupOpenByDefault\",\"isGroupOpenByDefault\",\"initialGroupOrderComparator\",\"loadingCellRendererSelector\",\"getRowId\",\"chartMenuItems\",\"groupTotalRow\",\"alwaysPassFilter\",\"isRowPinnable\",\"isRowPinned\",\"isRowValidDropPosition\"];var _GET_ALL_GRID_OPTIONS=()=>[...ARRAY_GRID_OPTIONS,...OBJECT_GRID_OPTIONS,...STRING_GRID_OPTIONS,..._NUMBER_GRID_OPTIONS,..._FUNCTION_GRID_OPTIONS,..._BOOLEAN_GRID_OPTIONS,..._BOOLEAN_MIXED_GRID_OPTIONS,...OTHER_GRID_OPTIONS];// packages/ag-grid-community/src/validation/rules/gridOptionsValidations.ts\nvar GRID_OPTION_DEPRECATIONS=()=>({suppressLoadingOverlay:{version:\"32\",message:\"Use `loading`=false instead.\"},enableFillHandle:{version:\"32.2\",message:\"Use `cellSelection.handle` instead.\"},enableRangeHandle:{version:\"32.2\",message:\"Use `cellSelection.handle` instead.\"},enableRangeSelection:{version:\"32.2\",message:\"Use `cellSelection = true` instead.\"},suppressMultiRangeSelection:{version:\"32.2\",message:\"Use `cellSelection.suppressMultiRanges` instead.\"},suppressClearOnFillReduction:{version:\"32.2\",message:\"Use `cellSelection.handle.suppressClearOnFillReduction` instead.\"},fillHandleDirection:{version:\"32.2\",message:\"Use `cellSelection.handle.direction` instead.\"},fillOperation:{version:\"32.2\",message:\"Use `cellSelection.handle.setFillValue` instead.\"},suppressRowClickSelection:{version:\"32.2\",message:\"Use `rowSelection.enableClickSelection` instead.\"},suppressRowDeselection:{version:\"32.2\",message:\"Use `rowSelection.enableClickSelection` instead.\"},rowMultiSelectWithClick:{version:\"32.2\",message:\"Use `rowSelection.enableSelectionWithoutKeys` instead.\"},groupSelectsChildren:{version:\"32.2\",message:'Use `rowSelection.groupSelects = \"descendants\"` instead.'},groupSelectsFiltered:{version:\"32.2\",message:'Use `rowSelection.groupSelects = \"filteredDescendants\"` instead.'},isRowSelectable:{version:\"32.2\",message:\"Use `selectionOptions.isRowSelectable` instead.\"},suppressCopySingleCellRanges:{version:\"32.2\",message:\"Use `rowSelection.copySelectedRows` instead.\"},suppressCopyRowsToClipboard:{version:\"32.2\",message:\"Use `rowSelection.copySelectedRows` instead.\"},onRangeSelectionChanged:{version:\"32.2\",message:\"Use `onCellSelectionChanged` instead.\"},onRangeDeleteStart:{version:\"32.2\",message:\"Use `onCellSelectionDeleteStart` instead.\"},onRangeDeleteEnd:{version:\"32.2\",message:\"Use `onCellSelectionDeleteEnd` instead.\"},suppressBrowserResizeObserver:{version:\"32.2\",message:\"The grid always uses the browser's ResizeObserver, this grid option has no effect.\"},onColumnEverythingChanged:{version:\"32.2\",message:\"Either use `onDisplayedColumnsChanged` which is fired at the same time, or use one of the more specific column events.\"},groupRemoveSingleChildren:{version:\"33\",message:\"Use `groupHideParentOfSingleChild` instead.\"},groupRemoveLowestSingleChildren:{version:\"33\",message:'Use `groupHideParentOfSingleChild: \"leafGroupsOnly\"` instead.'},suppressRowGroupHidesColumns:{version:\"33\",message:'Use `suppressGroupChangesColumnVisibility: \"suppressHideOnGroup\"` instead.'},suppressMakeColumnVisibleAfterUnGroup:{version:\"33\",message:'Use `suppressGroupChangesColumnVisibility: \"suppressShowOnUngroup\"` instead.'},unSortIcon:{version:\"33\",message:\"Use `defaultColDef.unSortIcon` instead.\"},sortingOrder:{version:\"33\",message:\"Use `defaultColDef.sortingOrder` instead.\"},suppressPropertyNamesCheck:{version:\"33\",message:\"`gridOptions` and `columnDefs` both have a `context` property that should be used for arbitrary user data. This means that column definitions and gridOptions should only contain valid properties making this property redundant.\"},suppressAdvancedFilterEval:{version:\"34\",message:\"Advanced filter no longer uses function evaluation, so this option has no effect.\"}});function toConstrainedNum(key,value,min){if(typeof value===\"number\"||value==null){if(value==null){return null;}return value>=min?null:\"\".concat(key,\": value should be greater than or equal to \").concat(min);}return\"\".concat(key,\": value should be a number\");}var GRID_OPTIONS_MODULES={alignedGrids:\"AlignedGrids\",allowContextMenuWithControlKey:\"ContextMenu\",autoSizeStrategy:\"ColumnAutoSize\",cellSelection:\"CellSelection\",columnHoverHighlight:\"ColumnHover\",datasource:\"InfiniteRowModel\",doesExternalFilterPass:\"ExternalFilter\",editType:\"EditCore\",invalidEditValueMode:\"EditCore\",enableAdvancedFilter:\"AdvancedFilter\",enableCellSpan:\"CellSpan\",enableCharts:\"IntegratedCharts\",enableRangeSelection:\"CellSelection\",enableRowPinning:\"PinnedRow\",findSearchValue:\"Find\",getFullRowEditValidationErrors:\"EditCore\",getContextMenuItems:\"ContextMenu\",getLocaleText:\"Locale\",getMainMenuItems:\"ColumnMenu\",getRowClass:\"RowStyle\",getRowStyle:\"RowStyle\",groupTotalRow:\"SharedRowGrouping\",grandTotalRow:\"SharedRowGrouping\",initialState:\"GridState\",isExternalFilterPresent:\"ExternalFilter\",isRowPinnable:\"PinnedRow\",isRowPinned:\"PinnedRow\",localeText:\"Locale\",masterDetail:\"SharedMasterDetail\",pagination:\"Pagination\",pinnedBottomRowData:\"PinnedRow\",pinnedTopRowData:\"PinnedRow\",pivotMode:\"SharedPivot\",pivotPanelShow:\"RowGroupingPanel\",quickFilterText:\"QuickFilter\",rowClass:\"RowStyle\",rowClassRules:\"RowStyle\",rowData:\"ClientSideRowModel\",rowDragManaged:\"RowDrag\",rowGroupPanelShow:\"RowGroupingPanel\",rowNumbers:\"RowNumbers\",rowSelection:\"SharedRowSelection\",rowStyle:\"RowStyle\",serverSideDatasource:\"ServerSideRowModel\",sideBar:\"SideBar\",statusBar:\"StatusBar\",treeData:\"SharedTreeData\",undoRedoCellEditing:\"UndoRedoEdit\",valueCache:\"ValueCache\",viewportDatasource:\"ViewportRowModel\"};var GRID_OPTION_VALIDATIONS=()=>{var definedValidations={autoSizePadding:{validate(_ref69){var{autoSizePadding}=_ref69;return toConstrainedNum(\"autoSizePadding\",autoSizePadding,0);}},cacheBlockSize:{supportedRowModels:[\"serverSide\",\"infinite\"],validate(_ref70){var{cacheBlockSize}=_ref70;return toConstrainedNum(\"cacheBlockSize\",cacheBlockSize,1);}},cacheOverflowSize:{validate(_ref71){var{cacheOverflowSize}=_ref71;return toConstrainedNum(\"cacheOverflowSize\",cacheOverflowSize,1);}},datasource:{supportedRowModels:[\"infinite\"]},domLayout:{validate:options=>{var domLayout=options.domLayout;var validLayouts=[\"autoHeight\",\"normal\",\"print\"];if(domLayout&&!validLayouts.includes(domLayout)){return\"domLayout must be one of [\".concat(validLayouts.join(),\"], currently it's \").concat(domLayout);}return null;}},enableFillHandle:{dependencies:{enableRangeSelection:{required:[true]}}},enableRangeHandle:{dependencies:{enableRangeSelection:{required:[true]}}},enableRangeSelection:{dependencies:{rowDragEntireRow:{required:[false,void 0]}}},enableRowPinning:{supportedRowModels:[\"clientSide\"],validate(_ref72){var{enableRowPinning,pinnedTopRowData,pinnedBottomRowData}=_ref72;if(enableRowPinning&&(pinnedTopRowData||pinnedBottomRowData)){return\"Manual row pinning cannot be used together with pinned row data. Either set `enableRowPinning` to `false`, or remove `pinnedTopRowData` and `pinnedBottomRowData`.\";}return null;}},isRowPinnable:{supportedRowModels:[\"clientSide\"],validate(_ref73){var{enableRowPinning,isRowPinnable,pinnedTopRowData,pinnedBottomRowData}=_ref73;if(isRowPinnable&&(pinnedTopRowData||pinnedBottomRowData)){return\"Manual row pinning cannot be used together with pinned row data. Either remove `isRowPinnable`, or remove `pinnedTopRowData` and `pinnedBottomRowData`.\";}if(!enableRowPinning&&isRowPinnable){return\"`isRowPinnable` requires `enableRowPinning` to be set.\";}return null;}},isRowPinned:{supportedRowModels:[\"clientSide\"],validate(_ref74){var{enableRowPinning,isRowPinned,pinnedTopRowData,pinnedBottomRowData}=_ref74;if(isRowPinned&&(pinnedTopRowData||pinnedBottomRowData)){return\"Manual row pinning cannot be used together with pinned row data. Either remove `isRowPinned`, or remove `pinnedTopRowData` and `pinnedBottomRowData`.\";}if(!enableRowPinning&&isRowPinned){return\"`isRowPinned` requires `enableRowPinning` to be set.\";}return null;}},groupDefaultExpanded:{supportedRowModels:[\"clientSide\"]},groupHideOpenParents:{supportedRowModels:[\"clientSide\",\"serverSide\"],dependencies:{groupTotalRow:{required:[void 0,\"bottom\"]},treeData:{required:[void 0,false],reason:\"Tree Data has values at the group level so it doesn't make sense to hide them.\"}}},groupHideParentOfSingleChild:{dependencies:{groupHideOpenParents:{required:[void 0,false]}}},groupRemoveLowestSingleChildren:{dependencies:{groupHideOpenParents:{required:[void 0,false]},groupRemoveSingleChildren:{required:[void 0,false]}}},groupRemoveSingleChildren:{dependencies:{groupHideOpenParents:{required:[void 0,false]},groupRemoveLowestSingleChildren:{required:[void 0,false]}}},groupSelectsChildren:{dependencies:{rowSelection:{required:[\"multiple\"]}}},icons:{validate:_ref75=>{var{icons}=_ref75;if(icons){if(icons[\"smallDown\"]){return _errMsg(262);}if(icons[\"smallLeft\"]){return _errMsg(263);}if(icons[\"smallRight\"]){return _errMsg(264);}}return null;}},infiniteInitialRowCount:{validate(_ref76){var{infiniteInitialRowCount}=_ref76;return toConstrainedNum(\"infiniteInitialRowCount\",infiniteInitialRowCount,1);}},initialGroupOrderComparator:{supportedRowModels:[\"clientSide\"]},keepDetailRowsCount:{validate(_ref77){var{keepDetailRowsCount}=_ref77;return toConstrainedNum(\"keepDetailRowsCount\",keepDetailRowsCount,1);}},paginationPageSize:{validate(_ref78){var{paginationPageSize}=_ref78;return toConstrainedNum(\"paginationPageSize\",paginationPageSize,1);}},paginationPageSizeSelector:{validate:options=>{var values=options.paginationPageSizeSelector;if(typeof values===\"boolean\"||values==null){return null;}if(!values.length){return\"'paginationPageSizeSelector' cannot be an empty array.\\n                    If you want to hide the page size selector, set paginationPageSizeSelector to false.\";}return null;}},pivotMode:{dependencies:{treeData:{required:[false,void 0],reason:\"Pivot Mode is not supported with Tree Data.\"}}},quickFilterText:{supportedRowModels:[\"clientSide\"]},rowBuffer:{validate(_ref79){var{rowBuffer}=_ref79;return toConstrainedNum(\"rowBuffer\",rowBuffer,0);}},rowClass:{validate:options=>{var rowClass=options.rowClass;if(typeof rowClass===\"function\"){return\"rowClass should not be a function, please use getRowClass instead\";}return null;}},rowData:{supportedRowModels:[\"clientSide\"]},rowDragManaged:{supportedRowModels:[\"clientSide\"],dependencies:{pagination:{required:[false,void 0]}}},rowSelection:{validate(_ref80){var{rowSelection}=_ref80;if(rowSelection&&typeof rowSelection===\"string\"){return'As of version 32.2.1, using `rowSelection` with the values \"single\" or \"multiple\" has been deprecated. Use the object value instead.';}if(rowSelection&&typeof rowSelection!==\"object\"){return\"Expected `RowSelectionOptions` object for the `rowSelection` property.\";}if(rowSelection&&rowSelection.mode!==\"multiRow\"&&rowSelection.mode!==\"singleRow\"){return\"Selection mode \\\"\".concat(rowSelection.mode,\"\\\" is invalid. Use one of 'singleRow' or 'multiRow'.\");}return null;}},rowStyle:{validate:options=>{var rowStyle=options.rowStyle;if(rowStyle&&typeof rowStyle===\"function\"){return\"rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead\";}return null;}},serverSideDatasource:{supportedRowModels:[\"serverSide\"]},serverSideInitialRowCount:{supportedRowModels:[\"serverSide\"],validate(_ref81){var{serverSideInitialRowCount}=_ref81;return toConstrainedNum(\"serverSideInitialRowCount\",serverSideInitialRowCount,1);}},serverSideOnlyRefreshFilteredGroups:{supportedRowModels:[\"serverSide\"]},serverSideSortAllLevels:{supportedRowModels:[\"serverSide\"]},sortingOrder:{validate:_options=>{var sortingOrder=_options.sortingOrder;if(Array.isArray(sortingOrder)&&sortingOrder.length>0){var invalidItems=sortingOrder.filter(a=>!DEFAULT_SORTING_ORDER.includes(a));if(invalidItems.length>0){return\"sortingOrder must be an array with elements from [\".concat(DEFAULT_SORTING_ORDER.map(toStringWithNullUndefined).join(),\"], currently it includes [\").concat(invalidItems.map(toStringWithNullUndefined).join(),\"]\");}}else if(!Array.isArray(sortingOrder)||sortingOrder.length<=0){return\"sortingOrder must be an array with at least one element, currently it's \".concat(sortingOrder);}return null;}},tooltipHideDelay:{validate:options=>{if(options.tooltipHideDelay&&options.tooltipHideDelay<0){return\"tooltipHideDelay should not be lower than 0\";}return null;}},tooltipShowDelay:{validate:options=>{if(options.tooltipShowDelay&&options.tooltipShowDelay<0){return\"tooltipShowDelay should not be lower than 0\";}return null;}},treeData:{supportedRowModels:[\"clientSide\",\"serverSide\"],validate:options=>{var _options$rowModelType;var rowModel=(_options$rowModelType=options.rowModelType)!==null&&_options$rowModelType!==void 0?_options$rowModelType:\"clientSide\";switch(rowModel){case\"clientSide\":{var{treeDataChildrenField,treeDataParentIdField,getDataPath,getRowId}=options;if(!treeDataChildrenField&&!treeDataParentIdField&&!getDataPath){return\"treeData requires either 'treeDataChildrenField' or 'treeDataParentIdField' or 'getDataPath' in the clientSide row model.\";}if(treeDataChildrenField){if(getDataPath){return\"Cannot use both 'treeDataChildrenField' and 'getDataPath' at the same time.\";}if(treeDataParentIdField){return\"Cannot use both 'treeDataChildrenField' and 'treeDataParentIdField' at the same time.\";}}if(treeDataParentIdField){if(!getRowId){return\"getRowId callback not provided, tree data with parent id cannot be built.\";}if(getDataPath){return\"Cannot use both 'treeDataParentIdField' and 'getDataPath' at the same time.\";}}return null;}case\"serverSide\":{var ssrmWarning=\"treeData requires 'isServerSideGroup' and 'getServerSideGroupKey' in the \".concat(rowModel,\" row model.\");return options.isServerSideGroup&&options.getServerSideGroupKey?null:ssrmWarning;}}return null;}},viewportDatasource:{supportedRowModels:[\"viewport\"]},viewportRowModelBufferSize:{validate(_ref82){var{viewportRowModelBufferSize}=_ref82;return toConstrainedNum(\"viewportRowModelBufferSize\",viewportRowModelBufferSize,0);}},viewportRowModelPageSize:{validate(_ref83){var{viewportRowModelPageSize}=_ref83;return toConstrainedNum(\"viewportRowModelPageSize\",viewportRowModelPageSize,1);}},rowDragEntireRow:{dependencies:{cellSelection:{required:[void 0]}}},autoGroupColumnDef:{validate(_ref84){var{autoGroupColumnDef,showOpenedGroup}=_ref84;if(autoGroupColumnDef!==null&&autoGroupColumnDef!==void 0&&autoGroupColumnDef.field&&showOpenedGroup){return\"autoGroupColumnDef.field and showOpenedGroup are not supported when used together.\";}if(autoGroupColumnDef!==null&&autoGroupColumnDef!==void 0&&autoGroupColumnDef.valueGetter&&showOpenedGroup){return\"autoGroupColumnDef.valueGetter and showOpenedGroup are not supported when used together.\";}return null;}},renderingMode:{validate:options=>{var renderingMode=options.renderingMode;var validModes=[\"default\",\"legacy\"];if(renderingMode&&!validModes.includes(renderingMode)){return\"renderingMode must be one of [\".concat(validModes.join(),\"], currently it's \").concat(renderingMode);}return null;}}};var validations={};_BOOLEAN_GRID_OPTIONS.forEach(key=>{validations[key]={expectedType:\"boolean\"};});_NUMBER_GRID_OPTIONS.forEach(key=>{validations[key]={expectedType:\"number\"};});_mergeDeep(validations,definedValidations);return validations;};var GRID_OPTIONS_VALIDATORS=()=>({objectName:\"gridOptions\",allProperties:[..._GET_ALL_GRID_OPTIONS(),...Object.values(_PUBLIC_EVENT_HANDLERS_MAP)],propertyExceptions:[\"api\"],docsUrl:\"grid-options/\",deprecations:GRID_OPTION_DEPRECATIONS(),validations:GRID_OPTION_VALIDATIONS()});// packages/ag-grid-community/src/gridOptionsService.ts\nvar changeSetId=0;var gridInstanceSequence=0;var GridOptionsService=class extends BeanStub{constructor(){super(...arguments);this.beanName=\"gos\";this.domDataKey=\"__AG_\"+Math.random().toString();/** This is only used for the main DOM element */this.gridInstanceId=gridInstanceSequence++;// Used to hold user events until the grid is ready\n// Required to support React 19 StrictMode. See IFrameworkOverrides.runWhenReadyAsync but also is likely a good idea that onGridReady is the first event fired.\nthis.gridReadyFired=false;this.queueEvents=[];this.propEventSvc=new LocalEventService();// responsible for calling the onXXX functions on gridOptions\n// It forces events defined in GridOptionsService.alwaysSyncGlobalEvents to be fired synchronously.\n// This is required for events such as GridPreDestroyed.\n// Other events can be fired asynchronously or synchronously depending on config.\nthis.globalEventHandlerFactory=restrictToSyncOnly=>{return(eventName,event)=>{if(!this.isAlive()){return;}var alwaysSync=ALWAYS_SYNC_GLOBAL_EVENTS.has(eventName);if(alwaysSync&&!restrictToSyncOnly||!alwaysSync&&restrictToSyncOnly){return;}if(!isPublicEventHandler(eventName)){return;}var fireEvent=(name,e)=>{var eventHandlerName=_PUBLIC_EVENT_HANDLERS_MAP[name];var eventHandler=this.gridOptions[eventHandlerName];if(typeof eventHandler===\"function\"){this.beans.frameworkOverrides.wrapOutgoing(()=>eventHandler(e));}};if(this.gridReadyFired){fireEvent(eventName,event);}else{if(eventName===\"gridReady\"){fireEvent(eventName,event);this.gridReadyFired=true;for(var q of this.queueEvents){fireEvent(q.eventName,q.event);}this.queueEvents=[];}else{this.queueEvents.push({eventName,event});}}};};}wireBeans(beans){this.gridOptions=beans.gridOptions;this.validation=beans.validation;this.api=beans.gridApi;this.gridId=beans.context.getGridId();}// This is quicker then having code call gridOptionsService.get('context')\nget gridOptionsContext(){return this.gridOptions[\"context\"];}postConstruct(){this.validateGridOptions(this.gridOptions);this.eventSvc.addGlobalListener(this.globalEventHandlerFactory().bind(this),true);this.eventSvc.addGlobalListener(this.globalEventHandlerFactory(true).bind(this),false);this.propEventSvc.setFrameworkOverrides(this.beans.frameworkOverrides);this.addManagedEventListeners({gridOptionsChanged:_ref85=>{var{options}=_ref85;this.updateGridOptions({options,force:true,source:\"gridOptionsUpdated\"});}});}destroy(){super.destroy();this.queueEvents=[];}/**\n   * Get the raw value of the GridOptions property provided.\n   * @param property\n   */get(property){var _this$gridOptions$pro;return(_this$gridOptions$pro=this.gridOptions[property])!==null&&_this$gridOptions$pro!==void 0?_this$gridOptions$pro:GRID_OPTION_DEFAULTS[property];}/**\n   * Get the GridOption callback but wrapped so that the common params of api and context are automatically applied to the params.\n   * @param property GridOption callback properties based on the fact that this property has a callback with params extending AgGridCommon\n   */getCallback(property){return this.mergeGridCommonParams(this.gridOptions[property]);}/**\n   * Returns `true` if a value has been specified for this GridOption.\n   * @param property GridOption property\n   */exists(property){return _exists(this.gridOptions[property]);}/**\n   * Wrap the user callback and attach the api and context to the params object on the way through.\n   * @param callback User provided callback\n   * @returns Wrapped callback where the params object not require api and context\n   */mergeGridCommonParams(callback){if(callback){var wrapped=callbackParams=>{return callback(this.addGridCommonParams(callbackParams));};return wrapped;}return callback;}updateGridOptions(_ref86){var{options,force,source=\"api\"}=_ref86;var changeSet={id:changeSetId++,properties:[]};var events=[];var{gridOptions,validation:validation2}=this;for(var key of Object.keys(options)){var value=options[key];validation2===null||validation2===void 0||validation2.warnOnInitialPropertyUpdate(source,key);var shouldForce=force||typeof value===\"object\"&&source===\"api\";var previousValue=gridOptions[key];if(shouldForce||previousValue!==value){gridOptions[key]=value;var event={type:key,currentValue:value,previousValue,changeSet,source};events.push(event);}}this.validateGridOptions(this.gridOptions);changeSet.properties=events.map(event=>event.type);events.forEach(event=>{_logIfDebug(this,\"Updated property \".concat(event.type,\" from\"),event.previousValue,\" to \",event.currentValue);this.propEventSvc.dispatchEvent(event);});}addPropertyEventListener(key,listener){this.propEventSvc.addEventListener(key,listener);}removePropertyEventListener(key,listener){this.propEventSvc.removeEventListener(key,listener);}getDomDataKey(){return this.domDataKey;}/** Prefer _addGridCommonParams from gridOptionsUtils for bundle size savings */addGridCommonParams(params){params.api=this.api;params.context=this.gridOptionsContext;return params;}validateOptions(options,modValidations){for(var key of Object.keys(options)){var value=options[key];if(value==null||value===false){continue;}var moduleToCheck=modValidations[key];if(typeof moduleToCheck===\"function\"){moduleToCheck=moduleToCheck(options,this.gridOptions,this.beans);}if(moduleToCheck){this.assertModuleRegistered(moduleToCheck,key);}}}validateGridOptions(gridOptions){var _this$validation;this.validateOptions(gridOptions,GRID_OPTIONS_MODULES);(_this$validation=this.validation)===null||_this$validation===void 0||_this$validation.processGridOptions(gridOptions);}validateColDef(colDef,colId,skipInferenceCheck){var _this$beans$dataTypeS;if(skipInferenceCheck||!((_this$beans$dataTypeS=this.beans.dataTypeSvc)!==null&&_this$beans$dataTypeS!==void 0&&_this$beans$dataTypeS.isColPendingInference(colId))){var _this$validation2;this.validateOptions(colDef,COLUMN_DEFINITION_MOD_VALIDATIONS);(_this$validation2=this.validation)===null||_this$validation2===void 0||_this$validation2.validateColDef(colDef);}}assertModuleRegistered(moduleName,reasonOrId){var registered=Array.isArray(moduleName)?moduleName.some(modName=>this.isModuleRegistered(modName)):this.isModuleRegistered(moduleName);if(!registered){_error(200,_objectSpread(_objectSpread({},this.getModuleErrorParams()),{},{moduleName,reasonOrId}));}return registered;}getModuleErrorParams(){return{gridId:this.gridId,gridScoped:_areModulesGridScoped(),rowModelType:this.get(\"rowModelType\"),isUmd:_isUmd()};}isModuleRegistered(moduleName){return _isModuleRegistered(moduleName,this.gridId,this.get(\"rowModelType\"));}};function isPublicEventHandler(eventName){return!!_PUBLIC_EVENT_HANDLERS_MAP[eventName];}// packages/ag-grid-community/src/headerRendering/cells/column/headerComp.ts\nfunction getHeaderCompElementParams(includeSortIndicator){var hiddenAttrs={\"aria-hidden\":\"true\"};return{tag:\"div\",cls:\"ag-cell-label-container\",role:\"presentation\",children:[{tag:\"span\",ref:\"eMenu\",cls:\"ag-header-icon ag-header-cell-menu-button\",attrs:hiddenAttrs},{tag:\"span\",ref:\"eFilterButton\",cls:\"ag-header-icon ag-header-cell-filter-button\",attrs:hiddenAttrs},{tag:\"div\",ref:\"eLabel\",cls:\"ag-header-cell-label\",role:\"presentation\",children:[{tag:\"span\",ref:\"eText\",cls:\"ag-header-cell-text\"},{tag:\"span\",ref:\"eFilter\",cls:\"ag-header-icon ag-header-label-icon ag-filter-icon\",attrs:hiddenAttrs},includeSortIndicator?{tag:\"ag-sort-indicator\",ref:\"eSortIndicator\"}:null]}]};}var HeaderCompElement=getHeaderCompElementParams(true);var HeaderCompElementNoSort=getHeaderCompElementParams(false);var HeaderComp=class extends Component{constructor(){super(...arguments);// All the elements are optional, as they are not guaranteed to be present if the user provides a custom template\nthis.eFilter=RefPlaceholder;this.eFilterButton=RefPlaceholder;this.eSortIndicator=RefPlaceholder;this.eMenu=RefPlaceholder;this.eLabel=RefPlaceholder;this.eText=RefPlaceholder;/**\n     * Selectors for custom headers templates, i.e when the ag-sort-indicator is not present.\n     */this.eSortOrder=RefPlaceholder;this.eSortAsc=RefPlaceholder;this.eSortDesc=RefPlaceholder;this.eSortMixed=RefPlaceholder;this.eSortNone=RefPlaceholder;this.isLoadingInnerComponent=false;}refresh(params){var _this$beans2;var oldParams=this.params;this.params=params;if(this.workOutTemplate(params,!!((_this$beans2=this.beans)!==null&&_this$beans2!==void 0&&_this$beans2.sortSvc))!=this.currentTemplate||this.workOutShowMenu()!=this.currentShowMenu||params.enableSorting!=this.currentSort||this.currentSuppressMenuHide!=null&&this.shouldSuppressMenuHide()!=this.currentSuppressMenuHide||oldParams.enableFilterButton!=params.enableFilterButton||oldParams.enableFilterIcon!=params.enableFilterIcon){return false;}if(this.innerHeaderComponent){var _this$innerHeaderComp,_this$innerHeaderComp2;var mergedParams=_objectSpread({},params);_mergeDeep(mergedParams,params.innerHeaderComponentParams);(_this$innerHeaderComp=(_this$innerHeaderComp2=this.innerHeaderComponent).refresh)===null||_this$innerHeaderComp===void 0||_this$innerHeaderComp.call(_this$innerHeaderComp2,mergedParams);}else{this.setDisplayName(params);}return true;}workOutTemplate(params,isSorting){var paramsTemplate=params.template;if(paramsTemplate){return paramsTemplate!==null&&paramsTemplate!==void 0&&paramsTemplate.trim?paramsTemplate.trim():paramsTemplate;}else{return isSorting?HeaderCompElement:HeaderCompElementNoSort;}}init(params){this.params=params;var{sortSvc,touchSvc,rowNumbersSvc,userCompFactory}=this.beans;var sortComp=sortSvc===null||sortSvc===void 0?void 0:sortSvc.getSortIndicatorSelector();this.currentTemplate=this.workOutTemplate(params,!!sortComp);this.setTemplate(this.currentTemplate,sortComp?[sortComp]:void 0);touchSvc===null||touchSvc===void 0||touchSvc.setupForHeader(this);this.setMenu();this.setupSort();rowNumbersSvc===null||rowNumbersSvc===void 0||rowNumbersSvc.setupForHeader(this);this.setupFilterIcon();this.setupFilterButton();this.workOutInnerHeaderComponent(userCompFactory,params);this.setDisplayName(params);}workOutInnerHeaderComponent(userCompFactory,params){var userCompDetails=_getInnerHeaderCompDetails(userCompFactory,params,params);if(!userCompDetails){return;}this.isLoadingInnerComponent=true;userCompDetails.newAgStackInstance().then(comp=>{this.isLoadingInnerComponent=false;if(!comp){return;}if(this.isAlive()){this.innerHeaderComponent=comp;if(this.eText){this.eText.appendChild(comp.getGui());}}else{this.destroyBean(comp);}});}setDisplayName(params){var{displayName}=params;var oldDisplayName=this.currentDisplayName;this.currentDisplayName=displayName;if(!this.eText||oldDisplayName===displayName||this.innerHeaderComponent||this.isLoadingInnerComponent){return;}this.eText.textContent=_toString(displayName);}addInIcon(iconName,eParent,column){var eIcon=_createIconNoSpan(iconName,this.beans,column);if(eIcon){eParent.appendChild(eIcon);}}workOutShowMenu(){var _this$beans$menuSvc;return this.params.enableMenu&&!!((_this$beans$menuSvc=this.beans.menuSvc)!==null&&_this$beans$menuSvc!==void 0&&_this$beans$menuSvc.isHeaderMenuButtonEnabled());}shouldSuppressMenuHide(){var _this$beans$menuSvc2;return!!((_this$beans$menuSvc2=this.beans.menuSvc)!==null&&_this$beans$menuSvc2!==void 0&&_this$beans$menuSvc2.isHeaderMenuButtonAlwaysShowEnabled());}setMenu(){if(!this.eMenu){return;}this.currentShowMenu=this.workOutShowMenu();if(!this.currentShowMenu){_removeFromParent(this.eMenu);this.eMenu=void 0;return;}var{gos,eMenu,params}=this;var isLegacyMenu=_isLegacyMenuEnabled(gos);this.addInIcon(isLegacyMenu?\"menu\":\"menuAlt\",eMenu,params.column);eMenu.classList.toggle(\"ag-header-menu-icon\",!isLegacyMenu);var currentSuppressMenuHide=this.shouldSuppressMenuHide();this.currentSuppressMenuHide=currentSuppressMenuHide;this.addManagedElementListeners(eMenu,{click:()=>this.showColumnMenu(this.eMenu)});this.toggleMenuAlwaysShow(currentSuppressMenuHide);}toggleMenuAlwaysShow(alwaysShow){var _this$eMenu;(_this$eMenu=this.eMenu)===null||_this$eMenu===void 0||_this$eMenu.classList.toggle(\"ag-header-menu-always-show\",alwaysShow);}showColumnMenu(element){var{currentSuppressMenuHide,params}=this;if(!currentSuppressMenuHide){this.toggleMenuAlwaysShow(true);}params.showColumnMenu(element,()=>{if(!currentSuppressMenuHide){this.toggleMenuAlwaysShow(false);}});}onMenuKeyboardShortcut(isFilterShortcut){var{params,gos,beans,eMenu,eFilterButton}=this;var column=params.column;var isLegacyMenuEnabled=_isLegacyMenuEnabled(gos);if(isFilterShortcut&&!isLegacyMenuEnabled){var _beans$menuSvc;if((_beans$menuSvc=beans.menuSvc)!==null&&_beans$menuSvc!==void 0&&_beans$menuSvc.isFilterMenuInHeaderEnabled(column)){var _ref87;params.showFilter((_ref87=eFilterButton!==null&&eFilterButton!==void 0?eFilterButton:eMenu)!==null&&_ref87!==void 0?_ref87:this.getGui());return true;}}else if(params.enableMenu){var _ref88;this.showColumnMenu((_ref88=eMenu!==null&&eMenu!==void 0?eMenu:eFilterButton)!==null&&_ref88!==void 0?_ref88:this.getGui());return true;}return false;}setupSort(){var{sortSvc}=this.beans;if(!sortSvc){return;}var{enableSorting,column}=this.params;this.currentSort=enableSorting;if(!this.eSortIndicator){this.eSortIndicator=this.createBean(sortSvc.createSortIndicator(true));var{eSortIndicator,eSortOrder,eSortAsc,eSortDesc,eSortMixed,eSortNone}=this;eSortIndicator.attachCustomElements(eSortOrder,eSortAsc,eSortDesc,eSortMixed,eSortNone);}this.eSortIndicator.setupSort(column);if(!this.currentSort){return;}sortSvc.setupHeader(this,column,this.eLabel);}setupFilterIcon(){var{eFilter,params}=this;if(!eFilter){return;}var onFilterChangedIcon=()=>{var filterPresent=params.column.isFilterActive();_setDisplayed(eFilter,filterPresent,{skipAriaHidden:true});};this.configureFilter(params.enableFilterIcon,eFilter,onFilterChangedIcon,\"filterActive\");}setupFilterButton(){var{eFilterButton,params}=this;if(!eFilterButton){return;}var configured=this.configureFilter(params.enableFilterButton,eFilterButton,this.onFilterChangedButton.bind(this),\"filter\");if(configured){this.addManagedElementListeners(eFilterButton,{click:()=>params.showFilter(eFilterButton)});}else{this.eFilterButton=void 0;}}configureFilter(enabled,element,filterChangedCallback,icon){if(!enabled){_removeFromParent(element);return false;}var column=this.params.column;this.addInIcon(icon,element,column);this.addManagedListeners(column,{filterChanged:filterChangedCallback});filterChangedCallback();return true;}onFilterChangedButton(){var filterPresent=this.params.column.isFilterActive();this.eFilterButton.classList.toggle(\"ag-filter-active\",filterPresent);}getAnchorElementForMenu(isFilter){var _ref90;var{eFilterButton,eMenu}=this;if(isFilter){var _ref89;return(_ref89=eFilterButton!==null&&eFilterButton!==void 0?eFilterButton:eMenu)!==null&&_ref89!==void 0?_ref89:this.getGui();}return(_ref90=eMenu!==null&&eMenu!==void 0?eMenu:eFilterButton)!==null&&_ref90!==void 0?_ref90:this.getGui();}destroy(){super.destroy();if(this.innerHeaderComponent){this.destroyBean(this.innerHeaderComponent);this.innerHeaderComponent=void 0;}}};// packages/ag-grid-community/src/headerRendering/cells/columnGroup/headerGroupComp.ts\nvar HeaderGroupCompElement={tag:\"div\",cls:\"ag-header-group-cell-label\",role:\"presentation\",children:[{tag:\"span\",ref:\"agLabel\",cls:\"ag-header-group-text\",role:\"presentation\"},{tag:\"span\",ref:\"agOpened\",cls:\"ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded\"},{tag:\"span\",ref:\"agClosed\",cls:\"ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed\"}]};var HeaderGroupComp=class extends Component{constructor(){super(HeaderGroupCompElement);this.agOpened=RefPlaceholder;this.agClosed=RefPlaceholder;this.agLabel=RefPlaceholder;this.isLoadingInnerComponent=false;}init(params){var{userCompFactory,touchSvc}=this.beans;this.params=params;this.checkWarnings();this.workOutInnerHeaderGroupComponent(userCompFactory,params);this.setupLabel(params);this.addGroupExpandIcon(params);this.setupExpandIcons();touchSvc===null||touchSvc===void 0||touchSvc.setupForHeaderGroup(this);}checkWarnings(){var paramsAny=this.params;if(paramsAny.template){_warn(89);}}workOutInnerHeaderGroupComponent(userCompFactory,params){var userCompDetails=_getInnerHeaderGroupCompDetails(userCompFactory,params,params);if(!userCompDetails){return;}this.isLoadingInnerComponent=true;userCompDetails.newAgStackInstance().then(comp=>{this.isLoadingInnerComponent=false;if(!comp){return;}if(this.isAlive()){this.innerHeaderGroupComponent=comp;this.agLabel.appendChild(comp.getGui());}else{this.destroyBean(comp);}});}setupExpandIcons(){var{agOpened,agClosed,params:{columnGroup},beans}=this;this.addInIcon(\"columnGroupOpened\",agOpened);this.addInIcon(\"columnGroupClosed\",agClosed);var expandAction=event=>{if(_isStopPropagationForAgGrid(event)){return;}var newExpandedValue=!columnGroup.isExpanded();beans.colGroupSvc.setColumnGroupOpened(columnGroup.getProvidedColumnGroup(),newExpandedValue,\"uiColumnExpanded\");};this.addTouchAndClickListeners(beans,agClosed,expandAction);this.addTouchAndClickListeners(beans,agOpened,expandAction);var stopPropagationAction=event=>{_stopPropagationForAgGrid(event);};this.addManagedElementListeners(agClosed,{dblclick:stopPropagationAction});this.addManagedElementListeners(agOpened,{dblclick:stopPropagationAction});this.addManagedElementListeners(this.getGui(),{dblclick:expandAction});this.updateIconVisibility();var providedColumnGroup=columnGroup.getProvidedColumnGroup();var updateIcon=this.updateIconVisibility.bind(this);this.addManagedListeners(providedColumnGroup,{expandedChanged:updateIcon,expandableChanged:updateIcon});}addTouchAndClickListeners(beans,eElement,action){var _beans$touchSvc;(_beans$touchSvc=beans.touchSvc)===null||_beans$touchSvc===void 0||_beans$touchSvc.setupForHeaderGroupElement(this,eElement,action);this.addManagedElementListeners(eElement,{click:action});}updateIconVisibility(){var{agOpened,agClosed,params:{columnGroup}}=this;if(columnGroup.isExpandable()){var expanded=columnGroup.isExpanded();_setDisplayed(agOpened,expanded);_setDisplayed(agClosed,!expanded);}else{_setDisplayed(agOpened,false);_setDisplayed(agClosed,false);}}addInIcon(iconName,element){var eIcon=_createIconNoSpan(iconName,this.beans,null);if(eIcon){element.appendChild(eIcon);}}addGroupExpandIcon(params){if(!params.columnGroup.isExpandable()){var{agOpened,agClosed}=this;_setDisplayed(agOpened,false);_setDisplayed(agClosed,false);return;}}setupLabel(params){var _columnGroup$getColGr;var{displayName,columnGroup}=params;var hasInnerComponent=this.innerHeaderGroupComponent||this.isLoadingInnerComponent;if(_exists(displayName)&&!hasInnerComponent){this.agLabel.textContent=_toString(displayName);}this.toggleCss(\"ag-sticky-label\",!((_columnGroup$getColGr=columnGroup.getColGroupDef())!==null&&_columnGroup$getColGr!==void 0&&_columnGroup$getColGr.suppressStickyLabel));}destroy(){super.destroy();if(this.innerHeaderGroupComponent){this.destroyBean(this.innerHeaderGroupComponent);this.innerHeaderGroupComponent=void 0;}}};// packages/ag-grid-community/src/headerRendering/cells/headerModule.ts\nvar ColumnHeaderCompModule={moduleName:\"ColumnHeaderComp\",version:VERSION,userComponents:{agColumnHeader:HeaderComp},icons:{// button to launch legacy column menu\nmenu:\"menu\",// button to launch new enterprise column menu\nmenuAlt:\"menu-alt\"}};var ColumnGroupHeaderCompModule={moduleName:\"ColumnGroupHeaderComp\",version:VERSION,userComponents:{agColumnGroupHeader:HeaderGroupComp},icons:{// header column group shown when expanded (click to contract)\ncolumnGroupOpened:\"expanded\",// header column group shown when contracted (click to expand)\ncolumnGroupClosed:\"contracted\"}};// packages/ag-grid-community/src/misc/animationFrameService.ts\nvar AnimationFrameService=class extends BeanStub{constructor(){super(...arguments);this.beanName=\"animationFrameSvc\";// p1 and p2 are create tasks are to do with row and cell creation.\n// for them we want to execute according to row order, so we use\n// TaskItem so we know what index the item is for.\nthis.p1={list:[],sorted:false};// eg drawing back-ground of rows\nthis.p2={list:[],sorted:false};// eg cell renderers, adding hover functionality\nthis.f1={list:[],sorted:false};// eg framework cell renderers\n// destroy tasks are to do with row removal. they are done after row creation as the user will need to see new\n// rows first (as blank is scrolled into view), when we remove the old rows (no longer in view) is not as\n// important.\nthis.destroyTasks=[];this.ticking=false;// we need to know direction of scroll, to build up rows in the direction of\n// the scroll. eg if user scrolls down, we extend the rows by building down.\nthis.scrollGoingDown=true;this.lastScrollTop=0;this.taskCount=0;}setScrollTop(scrollTop){this.scrollGoingDown=scrollTop>=this.lastScrollTop;if(scrollTop===0){this.scrollGoingDown=true;}this.lastScrollTop=scrollTop;}postConstruct(){this.active=!this.gos.get(\"suppressAnimationFrame\");this.batchFrameworkComps=this.beans.frameworkOverrides.batchFrameworkComps;}// this method is for our AG Grid sanity only - if animation frames are turned off,\n// then no place in the code should be looking to add any work to be done in animation\n// frames. this stops bugs - where some code is asking for a frame to be executed\n// when it should not.\nverify(){if(this.active===false){_warn(92);}}createTask(task,index,list,isFramework){var isDeferred=arguments.length>4&&arguments[4]!==undefined?arguments[4]:false;this.verify();var taskList=list;if(isFramework&&this.batchFrameworkComps){taskList=\"f1\";}var taskItem={task,index,createOrder:++this.taskCount,deferred:isDeferred};this.addTaskToList(this[taskList],taskItem);this.schedule();}addTaskToList(taskList,task){taskList.list.push(task);taskList.sorted=false;}sortTaskList(taskList){if(taskList.sorted){return;}var sortDirection=this.scrollGoingDown?1:-1;taskList.list.sort((a,b)=>{if(a.deferred!==b.deferred){return a.deferred?-1:1;}if(a.index!==b.index){return sortDirection*(b.index-a.index);}return b.createOrder-a.createOrder;});taskList.sorted=true;}addDestroyTask(task){this.verify();this.destroyTasks.push(task);this.schedule();}executeFrame(millis){var _this4=this;var{p1,p2,f1,destroyTasks,beans}=this;var{ctrlsSvc,frameworkOverrides}=beans;var p1Tasks=p1.list;var p2Tasks=p2.list;var f1Tasks=f1.list;var frameStart=Date.now();var duration=0;var noMaxMillis=millis<=0;var scrollFeature=ctrlsSvc.getScrollFeature();var _loop9=function _loop9(){var gridBodyDidSomething=scrollFeature.scrollGridIfNeeded();if(!gridBodyDidSomething){var task;if(p1Tasks.length){_this4.sortTaskList(p1);task=p1Tasks.pop().task;}else if(p2Tasks.length){_this4.sortTaskList(p2);task=p2Tasks.pop().task;}else if(f1Tasks.length){frameworkOverrides.wrapOutgoing(()=>{while(noMaxMillis||duration<millis){var gridBodyDidSomething2=scrollFeature.scrollGridIfNeeded();if(!gridBodyDidSomething2){if(f1Tasks.length){_this4.sortTaskList(f1);task=f1Tasks.pop().task;task();}else{break;}}else{break;}duration=Date.now()-frameStart;}});task=()=>{};}else if(destroyTasks.length){task=destroyTasks.pop();}else{return 1;// break\n}task();}duration=Date.now()-frameStart;};while(noMaxMillis||duration<millis){if(_loop9())break;}if(p1Tasks.length||p2Tasks.length||f1Tasks.length||destroyTasks.length){this.requestFrame();}else{this.ticking=false;}}flushAllFrames(){if(!this.active){return;}this.executeFrame(-1);}schedule(){if(!this.active){return;}if(!this.ticking){this.ticking=true;this.requestFrame();}}requestFrame(){var callback=this.executeFrame.bind(this,60);_requestAnimationFrame(this.beans,callback);}isQueueEmpty(){return!this.ticking;}};// packages/ag-grid-community/src/misc/animationFrameModule.ts\nvar AnimationFrameModule={moduleName:\"AnimationFrame\",version:VERSION,beans:[AnimationFrameService]};// packages/ag-grid-community/src/misc/touchService.ts\nvar TouchService=class extends BeanStub{constructor(){super(...arguments);this.beanName=\"touchSvc\";}mockBodyContextMenu(ctrl,listener){this.mockContextMenu(ctrl,ctrl.eBodyViewport,listener);}mockHeaderContextMenu(ctrl,listener){this.mockContextMenu(ctrl,ctrl.eGui,listener);}mockRowContextMenu(ctrl){if(!_isIOSUserAgent()){return;}var listener=(mouseListener,touch,touchEvent)=>{var _touchEvent$target,_this$beans$contextMe4;var{rowCtrl,cellCtrl}=ctrl.getControlsForEventTarget((_touchEvent$target=touchEvent===null||touchEvent===void 0?void 0:touchEvent.target)!==null&&_touchEvent$target!==void 0?_touchEvent$target:null);if(cellCtrl!==null&&cellCtrl!==void 0&&cellCtrl.column){cellCtrl.dispatchCellContextMenuEvent(touchEvent!==null&&touchEvent!==void 0?touchEvent:null);}(_this$beans$contextMe4=this.beans.contextMenuSvc)===null||_this$beans$contextMe4===void 0||_this$beans$contextMe4.handleContextMenuMouseEvent(void 0,touchEvent,rowCtrl,cellCtrl);};this.mockContextMenu(ctrl,ctrl.element,listener);}handleCellDoubleClick(ctrl,mouseEvent){var isDoubleClickOnIPad=()=>{if(!_isIOSUserAgent()||_isEventSupported(\"dblclick\")){return false;}var nowMillis=Date.now();var res=nowMillis-ctrl.lastIPadMouseClickEvent<200;ctrl.lastIPadMouseClickEvent=nowMillis;return res;};if(isDoubleClickOnIPad()){ctrl.onCellDoubleClicked(mouseEvent);mouseEvent.preventDefault();return true;}return false;}setupForHeader(comp){var{gos,sortSvc,menuSvc}=this.beans;if(gos.get(\"suppressTouch\")){return;}var{params,eMenu,eFilterButton}=comp;var touchListener=new TouchListener(comp.getGui(),true);var suppressMenuHide=comp.shouldSuppressMenuHide();var tapMenuButton=suppressMenuHide&&_exists(eMenu)&&params.enableMenu;var menuTouchListener=tapMenuButton?new TouchListener(eMenu,true):touchListener;if(params.enableMenu||menuSvc!==null&&menuSvc!==void 0&&menuSvc.isHeaderContextMenuEnabled(params.column)){var eventType=tapMenuButton?\"tap\":\"longTap\";var showMenuFn=event=>params.showColumnMenuAfterMouseClick(event.touchStart);comp.addManagedListeners(menuTouchListener,{[eventType]:showMenuFn});}if(params.enableSorting){var tapListener=event=>{var target=event.touchStart.target;if(suppressMenuHide&&(eMenu!==null&&eMenu!==void 0&&eMenu.contains(target)||eFilterButton!==null&&eFilterButton!==void 0&&eFilterButton.contains(target))){return;}sortSvc===null||sortSvc===void 0||sortSvc.progressSort(params.column,false,\"uiColumnSorted\");};comp.addManagedListeners(touchListener,{tap:tapListener});}if(params.enableFilterButton&&eFilterButton){var filterButtonTouchListener=new TouchListener(eFilterButton,true);comp.addManagedListeners(filterButtonTouchListener,{tap:()=>params.showFilter(eFilterButton)});comp.addDestroyFunc(()=>filterButtonTouchListener.destroy());}comp.addDestroyFunc(()=>touchListener.destroy());if(tapMenuButton){comp.addDestroyFunc(()=>menuTouchListener.destroy());}}setupForHeaderGroup(comp){var _this$beans$menuSvc3;var params=comp.params;if((_this$beans$menuSvc3=this.beans.menuSvc)!==null&&_this$beans$menuSvc3!==void 0&&_this$beans$menuSvc3.isHeaderContextMenuEnabled(params.columnGroup.getProvidedColumnGroup())){var touchListener=new TouchListener(params.eGridHeader,true);var showMenuFn=event=>params.showColumnMenuAfterMouseClick(event.touchStart);comp.addManagedListeners(touchListener,{longTap:showMenuFn});comp.addDestroyFunc(()=>touchListener.destroy());}}setupForHeaderGroupElement(comp,eElement,action){var touchListener=new TouchListener(eElement,true);comp.addManagedListeners(touchListener,{tap:action});comp.addDestroyFunc(()=>touchListener.destroy());}mockContextMenu(ctrl,element,listener){if(!_isIOSUserAgent()){return;}var touchListener=new TouchListener(element);var longTapListener=event=>{if(!_isEventFromThisGrid(this.gos,event.touchEvent)){return;}listener(void 0,event.touchStart,event.touchEvent);};ctrl.addManagedListeners(touchListener,{longTap:longTapListener});ctrl.addDestroyFunc(()=>touchListener.destroy());}};// packages/ag-grid-community/src/misc/touchModule.ts\nvar TouchModule={moduleName:\"Touch\",version:VERSION,beans:[TouchService]};// packages/ag-grid-community/src/navigation/cellNavigationService.ts\nvar CellNavigationService=class extends BeanStub{constructor(){super(...arguments);this.beanName=\"cellNavigation\";}wireBeans(beans){this.rowSpanSvc=beans.rowSpanSvc;}// returns null if no cell to focus on, ie at the end of the grid\ngetNextCellToFocus(key,focusedCell){var ctrlPressed=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if(ctrlPressed){return this.getNextCellToFocusWithCtrlPressed(key,focusedCell);}return this.getNextCellToFocusWithoutCtrlPressed(key,focusedCell);}getNextCellToFocusWithCtrlPressed(key,focusedCell){var upKey=key===KeyCode.UP;var downKey=key===KeyCode.DOWN;var leftKey=key===KeyCode.LEFT;var column;var rowIndex;var{pageBounds,gos,visibleCols}=this.beans;if(upKey||downKey){rowIndex=upKey?pageBounds.getFirstRow():pageBounds.getLastRow();column=focusedCell.column;}else{var isRtl=gos.get(\"enableRtl\");rowIndex=focusedCell.rowIndex;var allColumns=leftKey!==isRtl?visibleCols.allCols:[...visibleCols.allCols].reverse();column=allColumns.find(col=>this.isCellGoodToFocusOn({rowIndex,rowPinned:null,column:col}));}return column?{rowIndex,rowPinned:null,column}:null;}getNextCellToFocusWithoutCtrlPressed(key,focusedCell){var pointer=focusedCell;var finished=false;while(!finished){switch(key){case KeyCode.UP:pointer=this.getCellAbove(pointer);break;case KeyCode.DOWN:pointer=this.getCellBelow(pointer);break;case KeyCode.RIGHT:pointer=this.gos.get(\"enableRtl\")?this.getCellToLeft(pointer):this.getCellToRight(pointer);break;case KeyCode.LEFT:pointer=this.gos.get(\"enableRtl\")?this.getCellToRight(pointer):this.getCellToLeft(pointer);break;default:pointer=null;_warn(8,{key});break;}if(pointer){finished=this.isCellGoodToFocusOn(pointer);}else{finished=true;}}return pointer;}isCellGoodToFocusOn(gridCell){var column=gridCell.column;var rowNode;var{pinnedRowModel,rowModel}=this.beans;switch(gridCell.rowPinned){case\"top\":rowNode=pinnedRowModel===null||pinnedRowModel===void 0?void 0:pinnedRowModel.getPinnedTopRow(gridCell.rowIndex);break;case\"bottom\":rowNode=pinnedRowModel===null||pinnedRowModel===void 0?void 0:pinnedRowModel.getPinnedBottomRow(gridCell.rowIndex);break;default:rowNode=rowModel.getRow(gridCell.rowIndex);break;}if(!rowNode){return false;}var suppressNavigable=this.isSuppressNavigable(column,rowNode);return!suppressNavigable;}getCellToLeft(lastCell){if(!lastCell){return null;}var colToLeft=this.beans.visibleCols.getColBefore(lastCell.column);if(!colToLeft){return null;}return{rowIndex:lastCell.rowIndex,column:colToLeft,rowPinned:lastCell.rowPinned};}getCellToRight(lastCell){if(!lastCell){return null;}var colToRight=this.beans.visibleCols.getColAfter(lastCell.column);if(!colToRight){return null;}return{rowIndex:lastCell.rowIndex,column:colToRight,rowPinned:lastCell.rowPinned};}getCellBelow(lastCell){var _this$rowSpanSvc$getC,_this$rowSpanSvc;if(!lastCell){return null;}var adjustedLastCell=(_this$rowSpanSvc$getC=(_this$rowSpanSvc=this.rowSpanSvc)===null||_this$rowSpanSvc===void 0?void 0:_this$rowSpanSvc.getCellEnd(lastCell))!==null&&_this$rowSpanSvc$getC!==void 0?_this$rowSpanSvc$getC:lastCell;var rowBelow=_getRowBelow(this.beans,adjustedLastCell);if(rowBelow){return{rowIndex:rowBelow.rowIndex,column:lastCell.column,rowPinned:rowBelow.rowPinned};}return null;}getCellAbove(lastCell){var _this$rowSpanSvc$getC2,_this$rowSpanSvc2;if(!lastCell){return null;}var adjustedLastCell=(_this$rowSpanSvc$getC2=(_this$rowSpanSvc2=this.rowSpanSvc)===null||_this$rowSpanSvc2===void 0?void 0:_this$rowSpanSvc2.getCellStart(lastCell))!==null&&_this$rowSpanSvc$getC2!==void 0?_this$rowSpanSvc$getC2:lastCell;var rowAbove=_getRowAbove(this.beans,{rowIndex:adjustedLastCell.rowIndex,rowPinned:adjustedLastCell.rowPinned});if(rowAbove){return{rowIndex:rowAbove.rowIndex,column:lastCell.column,rowPinned:rowAbove.rowPinned};}return null;}getNextTabbedCell(gridCell,backwards){if(backwards){return this.getNextTabbedCellBackwards(gridCell);}return this.getNextTabbedCellForwards(gridCell);}getNextTabbedCellForwards(gridCell){var{visibleCols,pagination}=this.beans;var displayedColumns=visibleCols.allCols;var newRowIndex=gridCell.rowIndex;var newFloating=gridCell.rowPinned;var newColumn=visibleCols.getColAfter(gridCell.column);if(!newColumn){var _pagination$isRowInPa;newColumn=displayedColumns[0];var rowBelow=_getRowBelow(this.beans,gridCell);if(_missing(rowBelow)){return null;}if(!rowBelow.rowPinned&&!((_pagination$isRowInPa=pagination===null||pagination===void 0?void 0:pagination.isRowInPage(rowBelow.rowIndex))!==null&&_pagination$isRowInPa!==void 0?_pagination$isRowInPa:true)){return null;}newRowIndex=rowBelow?rowBelow.rowIndex:null;newFloating=rowBelow?rowBelow.rowPinned:null;}return{rowIndex:newRowIndex,column:newColumn,rowPinned:newFloating};}getNextTabbedCellBackwards(gridCell){var{beans}=this;var{visibleCols,pagination}=beans;var displayedColumns=visibleCols.allCols;var newRowIndex=gridCell.rowIndex;var newFloating=gridCell.rowPinned;var newColumn=visibleCols.getColBefore(gridCell.column);if(!newColumn){var _pagination$isRowInPa2;newColumn=_last(displayedColumns);var rowAbove=_getRowAbove(beans,{rowIndex:gridCell.rowIndex,rowPinned:gridCell.rowPinned});if(_missing(rowAbove)){return null;}if(!rowAbove.rowPinned&&!((_pagination$isRowInPa2=pagination===null||pagination===void 0?void 0:pagination.isRowInPage(rowAbove.rowIndex))!==null&&_pagination$isRowInPa2!==void 0?_pagination$isRowInPa2:true)){return null;}newRowIndex=rowAbove?rowAbove.rowIndex:null;newFloating=rowAbove?rowAbove.rowPinned:null;}return{rowIndex:newRowIndex,column:newColumn,rowPinned:newFloating};}isSuppressNavigable(column,rowNode){var{suppressNavigable}=column.colDef;if(typeof suppressNavigable===\"boolean\"){return suppressNavigable;}if(typeof suppressNavigable===\"function\"){var params=column.createColumnFunctionCallbackParams(rowNode);var userFunc=suppressNavigable;return userFunc(params);}return false;}};// packages/ag-grid-community/src/navigation/navigationApi.ts\nfunction getFocusedCell(beans){return beans.focusSvc.getFocusedCell();}function clearFocusedCell(beans){return beans.focusSvc.clearFocusedCell();}function setFocusedCell(beans,rowIndex,colKey,rowPinned){beans.focusSvc.setFocusedCell({rowIndex,column:colKey,rowPinned,forceBrowserFocus:true});}function tabToNextCell(beans,event){var _beans$navigation$tab,_beans$navigation2;return(_beans$navigation$tab=(_beans$navigation2=beans.navigation)===null||_beans$navigation2===void 0?void 0:_beans$navigation2.tabToNextCell(false,event))!==null&&_beans$navigation$tab!==void 0?_beans$navigation$tab:false;}function tabToPreviousCell(beans,event){var _beans$navigation$tab2,_beans$navigation3;return(_beans$navigation$tab2=(_beans$navigation3=beans.navigation)===null||_beans$navigation3===void 0?void 0:_beans$navigation3.tabToNextCell(true,event))!==null&&_beans$navigation$tab2!==void 0?_beans$navigation$tab2:false;}function setFocusedHeader(beans,colKey){var _beans$headerNavigati;var floatingFilter=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var headerPosition=(_beans$headerNavigati=beans.headerNavigation)===null||_beans$headerNavigati===void 0?void 0:_beans$headerNavigati.getHeaderPositionForColumn(colKey,floatingFilter);if(!headerPosition){return;}beans.focusSvc.focusHeaderPosition({headerPosition});}// packages/ag-grid-community/src/navigation/navigationService.ts\nvar NavigationService=class extends BeanStub{constructor(){super();this.beanName=\"navigation\";this.onPageDown=_throttle(this.onPageDown,100);this.onPageUp=_throttle(this.onPageUp,100);}postConstruct(){this.beans.ctrlsSvc.whenReady(this,p=>{this.gridBodyCon=p.gridBodyCtrl;});}handlePageScrollingKey(event){var fromFullWidth=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var key=event.key;var alt=event.altKey;var ctrl=event.ctrlKey||event.metaKey;var rangeServiceShouldHandleShift=!!this.beans.rangeSvc&&event.shiftKey;var currentCell=_getCellPositionForEvent(this.gos,event);var processed=false;switch(key){case KeyCode.PAGE_HOME:case KeyCode.PAGE_END:if(!ctrl&&!alt){this.onHomeOrEndKey(key);processed=true;}break;case KeyCode.LEFT:case KeyCode.RIGHT:case KeyCode.UP:case KeyCode.DOWN:if(!currentCell){return false;}if(ctrl&&!alt&&!rangeServiceShouldHandleShift){this.onCtrlUpDownLeftRight(key,currentCell);processed=true;}break;case KeyCode.PAGE_DOWN:case KeyCode.PAGE_UP:if(!ctrl&&!alt){processed=this.handlePageUpDown(key,currentCell,fromFullWidth);}break;}if(processed){event.preventDefault();}return processed;}handlePageUpDown(key,currentCell,fromFullWidth){if(fromFullWidth){currentCell=this.beans.focusSvc.getFocusedCell();}if(!currentCell){return false;}if(key===KeyCode.PAGE_UP){this.onPageUp(currentCell);}else{this.onPageDown(currentCell);}return true;}navigateTo(navigateParams){var{scrollIndex,scrollType,scrollColumn,focusIndex,focusColumn}=navigateParams;var{scrollFeature}=this.gridBodyCon;if(_exists(scrollColumn)&&!scrollColumn.isPinned()){scrollFeature.ensureColumnVisible(scrollColumn);}if(_exists(scrollIndex)){scrollFeature.ensureIndexVisible(scrollIndex,scrollType);}if(!navigateParams.isAsync){scrollFeature.ensureIndexVisible(focusIndex);}var{focusSvc,rangeSvc}=this.beans;focusSvc.setFocusedCell({rowIndex:focusIndex,column:focusColumn,rowPinned:null,forceBrowserFocus:true});rangeSvc===null||rangeSvc===void 0||rangeSvc.setRangeToCell({rowIndex:focusIndex,rowPinned:null,column:focusColumn});}// this method is throttled, see the `constructor`\nonPageDown(gridCell){var beans=this.beans;var scrollPosition=getVScroll(beans);var pixelsInOnePage=this.getViewportHeight();var{pageBounds,rowModel,rowAutoHeight}=beans;var pagingPixelOffset=pageBounds.getPixelOffset();var currentPageBottomPixel=scrollPosition.top+pixelsInOnePage;var currentPageBottomRow=rowModel.getRowIndexAtPixel(currentPageBottomPixel+pagingPixelOffset);if(rowAutoHeight!==null&&rowAutoHeight!==void 0&&rowAutoHeight.active){this.navigateToNextPageWithAutoHeight(gridCell,currentPageBottomRow);}else{this.navigateToNextPage(gridCell,currentPageBottomRow);}}// this method is throttled, see the `constructor`\nonPageUp(gridCell){var beans=this.beans;var scrollPosition=getVScroll(beans);var{pageBounds,rowModel,rowAutoHeight}=beans;var pagingPixelOffset=pageBounds.getPixelOffset();var currentPageTopPixel=scrollPosition.top;var currentPageTopRow=rowModel.getRowIndexAtPixel(currentPageTopPixel+pagingPixelOffset);if(rowAutoHeight!==null&&rowAutoHeight!==void 0&&rowAutoHeight.active){this.navigateToNextPageWithAutoHeight(gridCell,currentPageTopRow,true);}else{this.navigateToNextPage(gridCell,currentPageTopRow,true);}}navigateToNextPage(gridCell,scrollIndex){var up=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var{pageBounds,rowModel}=this.beans;var pixelsInOnePage=this.getViewportHeight();var firstRow=pageBounds.getFirstRow();var lastRow=pageBounds.getLastRow();var pagingPixelOffset=pageBounds.getPixelOffset();var currentRowNode=rowModel.getRow(gridCell.rowIndex);var rowPixelDiff=up?// eslint-disable-next-line @typescript-eslint/no-non-null-asserted-optional-chain\n(currentRowNode===null||currentRowNode===void 0?void 0:currentRowNode.rowHeight)-pixelsInOnePage-pagingPixelOffset:pixelsInOnePage-pagingPixelOffset;var nextCellPixel=(currentRowNode===null||currentRowNode===void 0?void 0:currentRowNode.rowTop)+rowPixelDiff;var focusIndex=rowModel.getRowIndexAtPixel(nextCellPixel+pagingPixelOffset);if(focusIndex===gridCell.rowIndex){var diff=up?-1:1;scrollIndex=focusIndex=gridCell.rowIndex+diff;}var scrollType;if(up){scrollType=\"bottom\";if(focusIndex<firstRow){focusIndex=firstRow;}if(scrollIndex<firstRow){scrollIndex=firstRow;}}else{scrollType=\"top\";if(focusIndex>lastRow){focusIndex=lastRow;}if(scrollIndex>lastRow){scrollIndex=lastRow;}}if(this.isRowTallerThanView(rowModel.getRow(focusIndex))){scrollIndex=focusIndex;scrollType=\"top\";}this.navigateTo({scrollIndex,scrollType,scrollColumn:null,focusIndex,focusColumn:gridCell.column});}navigateToNextPageWithAutoHeight(gridCell,scrollIndex){var up=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;this.navigateTo({scrollIndex,scrollType:up?\"bottom\":\"top\",scrollColumn:null,focusIndex:scrollIndex,focusColumn:gridCell.column});setTimeout(()=>{var focusIndex=this.getNextFocusIndexForAutoHeight(gridCell,up);this.navigateTo({scrollIndex,scrollType:up?\"bottom\":\"top\",scrollColumn:null,focusIndex,focusColumn:gridCell.column,isAsync:true});},50);}getNextFocusIndexForAutoHeight(gridCell){var up=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var step=up?-1:1;var pixelsInOnePage=this.getViewportHeight();var{pageBounds,rowModel}=this.beans;var lastRowIndex=pageBounds.getLastRow();var pixelSum=0;var currentIndex=gridCell.rowIndex;while(currentIndex>=0&&currentIndex<=lastRowIndex){var currentCell=rowModel.getRow(currentIndex);if(currentCell){var _currentCell$rowHeigh;var currentCellHeight=(_currentCell$rowHeigh=currentCell.rowHeight)!==null&&_currentCell$rowHeigh!==void 0?_currentCell$rowHeigh:0;if(pixelSum+currentCellHeight>pixelsInOnePage){break;}pixelSum+=currentCellHeight;}currentIndex+=step;}return Math.max(0,Math.min(currentIndex,lastRowIndex));}getViewportHeight(){var beans=this.beans;var scrollPosition=getVScroll(beans);var scrollbarWidth=this.beans.scrollVisibleSvc.getScrollbarWidth();var pixelsInOnePage=scrollPosition.bottom-scrollPosition.top;if(beans.ctrlsSvc.get(\"center\").isHorizontalScrollShowing()){pixelsInOnePage-=scrollbarWidth;}return pixelsInOnePage;}isRowTallerThanView(rowNode){if(!rowNode){return false;}var rowHeight=rowNode.rowHeight;if(typeof rowHeight!==\"number\"){return false;}return rowHeight>this.getViewportHeight();}onCtrlUpDownLeftRight(key,gridCell){var cellToFocus=this.beans.cellNavigation.getNextCellToFocus(key,gridCell,true);var{rowIndex}=cellToFocus;var column=cellToFocus.column;this.navigateTo({scrollIndex:rowIndex,scrollType:null,scrollColumn:column,focusIndex:rowIndex,focusColumn:column});}// home brings focus to top left cell, end brings focus to bottom right, grid scrolled to bring\n// same cell into view (which means either scroll all the way up, or all the way down).\nonHomeOrEndKey(key){var homeKey=key===KeyCode.PAGE_HOME;var{visibleCols,pageBounds,rowModel}=this.beans;var allColumns=visibleCols.allCols;var scrollIndex=homeKey?pageBounds.getFirstRow():pageBounds.getLastRow();var rowNode=rowModel.getRow(scrollIndex);if(!rowNode){return;}var columnToSelect=(homeKey?allColumns:[...allColumns].reverse()).find(col=>!col.isSuppressNavigable(rowNode));if(!columnToSelect){return;}this.navigateTo({scrollIndex,scrollType:null,scrollColumn:columnToSelect,focusIndex:scrollIndex,focusColumn:columnToSelect});}// result of keyboard event\nonTabKeyDown(previous,keyboardEvent){var backwards=keyboardEvent.shiftKey;var movedToNextCell=this.tabToNextCellCommon(previous,backwards,keyboardEvent);var beans=this.beans;var{ctrlsSvc,pageBounds,focusSvc,gos}=beans;if(movedToNextCell!==false){if(movedToNextCell){keyboardEvent.preventDefault();}else if(movedToNextCell===null){ctrlsSvc.get(\"gridCtrl\").allowFocusForNextCoreContainer(backwards);}return;}if(backwards){var{rowIndex,rowPinned}=previous.getRowPosition();var firstRow=rowPinned?rowIndex===0:rowIndex===pageBounds.getFirstRow();if(firstRow){if(gos.get(\"headerHeight\")===0||_isHeaderFocusSuppressed(beans)){_focusNextGridCoreContainer(beans,true,true);}else{keyboardEvent.preventDefault();focusSvc.focusPreviousFromFirstCell(keyboardEvent);}}}else{if(previous instanceof CellCtrl){previous.focusCell(true);}if(!backwards&&focusSvc.focusOverlay(false)||_focusNextGridCoreContainer(beans,backwards)){keyboardEvent.preventDefault();}}}// comes from API\ntabToNextCell(backwards,event){var beans=this.beans;var{focusSvc,rowRenderer}=beans;var focusedCell=focusSvc.getFocusedCell();if(!focusedCell){return false;}var cellOrRow=_getCellByPosition(beans,focusedCell);if(!cellOrRow){cellOrRow=rowRenderer.getRowByPosition(focusedCell);if(!cellOrRow||!cellOrRow.isFullWidth()){return false;}}return!!this.tabToNextCellCommon(cellOrRow,backwards,event,\"api\");}tabToNextCellCommon(previous,backwards,event){var _previous$getAllCellC;var source=arguments.length>3&&arguments[3]!==undefined?arguments[3]:\"ui\";var{editSvc,focusSvc}=this.beans;var res=void 0;var cellCtrl=previous instanceof CellCtrl?previous:(_previous$getAllCellC=previous.getAllCellCtrls())===null||_previous$getAllCellC===void 0?void 0:_previous$getAllCellC[0];if(editSvc!==null&&editSvc!==void 0&&editSvc.isEditing()){res=editSvc===null||editSvc===void 0?void 0:editSvc.moveToNextCell(cellCtrl,backwards,event,source);}else{res=this.moveToNextCellNotEditing(previous,backwards,event);}if(res===null){return res;}return res||!!focusSvc.focusedHeader;}// returns null if no navigation should be performed\nmoveToNextCellNotEditing(previousCell,backwards,event){var displayedColumns=this.beans.visibleCols.allCols;var cellPos;if(previousCell instanceof RowCtrl){cellPos=_objectSpread(_objectSpread({},previousCell.getRowPosition()),{},{column:backwards?displayedColumns[0]:_last(displayedColumns)});if(this.gos.get(\"embedFullWidthRows\")&&event){var focusedContainer=previousCell.findFullWidthInfoForEvent(event);if(focusedContainer){cellPos.column=focusedContainer.column;}}}else{cellPos=previousCell.getFocusedCellPosition();}var nextCell=this.findNextCellToFocusOn(cellPos,{backwards,startEditing:false});if(nextCell===false){return null;}if(nextCell instanceof CellCtrl){nextCell.focusCell(true);}else if(nextCell){return this.tryToFocusFullWidthRow(nextCell,backwards);}return _exists(nextCell);}/**\n   * called by the cell, when tab is pressed while editing.\n   * @returns RenderedCell when navigation successful, false if navigation should not be performed, otherwise null\n   */findNextCellToFocusOn(previousPosition,_ref91){var{backwards,startEditing,skipToNextEditableCell}=_ref91;var nextPosition=previousPosition;var beans=this.beans;var{cellNavigation,gos,focusSvc,rowRenderer,rangeSvc}=beans;while(true){if(previousPosition!==nextPosition){previousPosition=nextPosition;}if(!backwards){nextPosition=this.getLastCellOfColSpan(nextPosition);}nextPosition=cellNavigation.getNextTabbedCell(nextPosition,backwards);var userFunc=gos.getCallback(\"tabToNextCell\");if(_exists(userFunc)){var params={backwards,editing:startEditing,previousCellPosition:previousPosition,nextCellPosition:nextPosition?nextPosition:null};var userResult=userFunc(params);if(userResult===true){nextPosition=previousPosition;}else if(userResult===false){return false;}else{nextPosition={rowIndex:userResult.rowIndex,column:userResult.column,rowPinned:userResult.rowPinned};}}if(!nextPosition){return null;}if(nextPosition.rowIndex<0){var headerLen=getFocusHeaderRowCount(beans);focusSvc.focusHeaderPosition({headerPosition:{headerRowIndex:headerLen+nextPosition.rowIndex,column:nextPosition.column},fromCell:true});return null;}var fullRowEdit=gos.get(\"editType\")===\"fullRow\";if(startEditing&&(!fullRowEdit||skipToNextEditableCell)){var cellIsEditable=this.isCellEditable(nextPosition);if(!cellIsEditable){continue;}}this.ensureCellVisible(nextPosition);var nextCell=_getCellByPosition(beans,nextPosition);if(!nextCell){var _nextPosition2;var row=rowRenderer.getRowByPosition(nextPosition);if(!row||!row.isFullWidth()||startEditing){continue;}return _objectSpread(_objectSpread({},row.getRowPosition()),{},{column:(_nextPosition2=nextPosition)===null||_nextPosition2===void 0?void 0:_nextPosition2.column});}if(cellNavigation.isSuppressNavigable(nextCell.column,nextCell.rowNode)){continue;}nextCell.setFocusedCellPosition(nextPosition);rangeSvc===null||rangeSvc===void 0||rangeSvc.setRangeToCell(nextPosition);return nextCell;}}isCellEditable(cell){var rowNode=this.lookupRowNodeForCell(cell);if(rowNode){return cell.column.isCellEditable(rowNode);}return false;}lookupRowNodeForCell(_ref92){var{rowIndex,rowPinned}=_ref92;var{pinnedRowModel,rowModel}=this.beans;if(rowPinned===\"top\"){return pinnedRowModel===null||pinnedRowModel===void 0?void 0:pinnedRowModel.getPinnedTopRow(rowIndex);}if(rowPinned===\"bottom\"){return pinnedRowModel===null||pinnedRowModel===void 0?void 0:pinnedRowModel.getPinnedBottomRow(rowIndex);}return rowModel.getRow(rowIndex);}// we use index for rows, but column object for columns, as the next column (by index) might not\n// be visible (header grouping) so it's not reliable, so using the column object instead.\nnavigateToNextCell(event,key,currentCell,allowUserOverride){var nextCell=currentCell;var hitEdgeOfGrid=false;var beans=this.beans;var{cellNavigation,focusSvc,gos}=beans;while(nextCell&&(nextCell===currentCell||!this.isValidNavigateCell(nextCell))){if(gos.get(\"enableRtl\")){if(key===KeyCode.LEFT){nextCell=this.getLastCellOfColSpan(nextCell);}}else if(key===KeyCode.RIGHT){nextCell=this.getLastCellOfColSpan(nextCell);}nextCell=cellNavigation.getNextCellToFocus(key,nextCell);hitEdgeOfGrid=_missing(nextCell);}if(hitEdgeOfGrid&&event&&event.key===KeyCode.UP){nextCell={rowIndex:-1,rowPinned:null,column:currentCell.column};}if(allowUserOverride){var userFunc=gos.getCallback(\"navigateToNextCell\");if(_exists(userFunc)){var params={key,previousCellPosition:currentCell,nextCellPosition:nextCell?nextCell:null,event};var userCell=userFunc(params);if(_exists(userCell)){nextCell={rowPinned:userCell.rowPinned,rowIndex:userCell.rowIndex,column:userCell.column};}else{nextCell=null;}}}if(!nextCell){return;}if(nextCell.rowIndex<0){var headerLen=getFocusHeaderRowCount(beans);focusSvc.focusHeaderPosition({headerPosition:{headerRowIndex:headerLen+nextCell.rowIndex,column:currentCell.column},event:event||void 0,fromCell:true});return;}var normalisedPosition=this.getNormalisedPosition(nextCell);if(normalisedPosition){this.focusPosition(normalisedPosition);}else{this.tryToFocusFullWidthRow(nextCell);}}getNormalisedPosition(cellPosition){var _this$beans$spannedRo;var isSpannedCell=!!((_this$beans$spannedRo=this.beans.spannedRowRenderer)!==null&&_this$beans$spannedRo!==void 0&&_this$beans$spannedRo.getCellByPosition(cellPosition));if(isSpannedCell){return cellPosition;}this.ensureCellVisible(cellPosition);var cellCtrl=_getCellByPosition(this.beans,cellPosition);if(!cellCtrl){return null;}cellPosition=cellCtrl.getFocusedCellPosition();this.ensureCellVisible(cellPosition);return cellPosition;}tryToFocusFullWidthRow(position,backwards){var{visibleCols,rowRenderer,focusSvc,eventSvc}=this.beans;var displayedColumns=visibleCols.allCols;var rowComp=rowRenderer.getRowByPosition(position);if(!rowComp||!rowComp.isFullWidth()){return false;}var currentCellFocused=focusSvc.getFocusedCell();var cellPosition={rowIndex:position.rowIndex,rowPinned:position.rowPinned,column:position.column||(backwards?_last(displayedColumns):displayedColumns[0])};this.focusPosition(cellPosition);var fromBelow=backwards==null?currentCellFocused!=null&&_isRowBefore(cellPosition,currentCellFocused):backwards;eventSvc.dispatchEvent({type:\"fullWidthRowFocused\",rowIndex:cellPosition.rowIndex,rowPinned:cellPosition.rowPinned,column:cellPosition.column,isFullWidthCell:true,fromBelow});return true;}focusPosition(cellPosition){var{focusSvc,rangeSvc}=this.beans;focusSvc.setFocusedCell({rowIndex:cellPosition.rowIndex,column:cellPosition.column,rowPinned:cellPosition.rowPinned,forceBrowserFocus:true});rangeSvc===null||rangeSvc===void 0||rangeSvc.setRangeToCell(cellPosition);}isValidNavigateCell(cell){var rowNode=_getRowNode(this.beans,cell);return!!rowNode;}getLastCellOfColSpan(cell){var cellCtrl=_getCellByPosition(this.beans,cell);if(!cellCtrl){return cell;}var colSpanningList=cellCtrl.getColSpanningList();if(colSpanningList.length===1){return cell;}return{rowIndex:cell.rowIndex,column:_last(colSpanningList),rowPinned:cell.rowPinned};}ensureCellVisible(gridCell){var isGroupStickyEnabled=_isGroupRowsSticky(this.gos);var rowNode=this.beans.rowModel.getRow(gridCell.rowIndex);var skipScrollToRow=isGroupStickyEnabled&&(rowNode===null||rowNode===void 0?void 0:rowNode.sticky);var{scrollFeature}=this.gridBodyCon;if(!skipScrollToRow&&_missing(gridCell.rowPinned)){scrollFeature.ensureIndexVisible(gridCell.rowIndex);}if(!gridCell.column.isPinned()){scrollFeature.ensureColumnVisible(gridCell.column);}}};function getVScroll(beans){return beans.ctrlsSvc.getScrollFeature().getVScrollPosition();}// packages/ag-grid-community/src/navigation/navigationModule.ts\nvar KeyboardNavigationModule={moduleName:\"KeyboardNavigation\",version:VERSION,beans:[NavigationService,CellNavigationService,HeaderNavigationService],apiFunctions:{getFocusedCell,clearFocusedCell,setFocusedCell,setFocusedHeader,tabToNextCell,tabToPreviousCell}};// packages/ag-grid-community/src/pagination/pageBoundsListener.ts\nvar PageBoundsListener=class extends BeanStub{constructor(){super(...arguments);this.beanName=\"pageBoundsListener\";}postConstruct(){this.addManagedEventListeners({modelUpdated:this.onModelUpdated.bind(this),recalculateRowBounds:this.calculatePages.bind(this)});this.onModelUpdated();}onModelUpdated(modelUpdatedEvent){var _modelUpdatedEvent$an,_modelUpdatedEvent$ne,_modelUpdatedEvent$ne2,_modelUpdatedEvent$ne3,_modelUpdatedEvent$ke;this.calculatePages();this.eventSvc.dispatchEvent({type:\"paginationChanged\",animate:(_modelUpdatedEvent$an=modelUpdatedEvent===null||modelUpdatedEvent===void 0?void 0:modelUpdatedEvent.animate)!==null&&_modelUpdatedEvent$an!==void 0?_modelUpdatedEvent$an:false,newData:(_modelUpdatedEvent$ne=modelUpdatedEvent===null||modelUpdatedEvent===void 0?void 0:modelUpdatedEvent.newData)!==null&&_modelUpdatedEvent$ne!==void 0?_modelUpdatedEvent$ne:false,newPage:(_modelUpdatedEvent$ne2=modelUpdatedEvent===null||modelUpdatedEvent===void 0?void 0:modelUpdatedEvent.newPage)!==null&&_modelUpdatedEvent$ne2!==void 0?_modelUpdatedEvent$ne2:false,newPageSize:(_modelUpdatedEvent$ne3=modelUpdatedEvent===null||modelUpdatedEvent===void 0?void 0:modelUpdatedEvent.newPageSize)!==null&&_modelUpdatedEvent$ne3!==void 0?_modelUpdatedEvent$ne3:false,keepRenderedRows:(_modelUpdatedEvent$ke=modelUpdatedEvent===null||modelUpdatedEvent===void 0?void 0:modelUpdatedEvent.keepRenderedRows)!==null&&_modelUpdatedEvent$ke!==void 0?_modelUpdatedEvent$ke:false});}calculatePages(){var{pageBounds,pagination,rowModel}=this.beans;if(pagination){pagination.calculatePages();}else{pageBounds.calculateBounds(0,rowModel.getRowCount()-1);}}};// packages/ag-grid-community/src/pagination/pageBoundsService.ts\nvar PageBoundsService=class extends BeanStub{constructor(){super(...arguments);this.beanName=\"pageBounds\";this.pixelOffset=0;}getFirstRow(){var _this$topRowBounds$ro,_this$topRowBounds;return(_this$topRowBounds$ro=(_this$topRowBounds=this.topRowBounds)===null||_this$topRowBounds===void 0?void 0:_this$topRowBounds.rowIndex)!==null&&_this$topRowBounds$ro!==void 0?_this$topRowBounds$ro:-1;}getLastRow(){var _this$bottomRowBounds,_this$bottomRowBounds2;return(_this$bottomRowBounds=(_this$bottomRowBounds2=this.bottomRowBounds)===null||_this$bottomRowBounds2===void 0?void 0:_this$bottomRowBounds2.rowIndex)!==null&&_this$bottomRowBounds!==void 0?_this$bottomRowBounds:-1;}getCurrentPageHeight(){var{topRowBounds,bottomRowBounds}=this;if(!topRowBounds||!bottomRowBounds){return 0;}return Math.max(bottomRowBounds.rowTop+bottomRowBounds.rowHeight-topRowBounds.rowTop,0);}getCurrentPagePixelRange(){var _topRowBounds$rowTop;var{topRowBounds,bottomRowBounds}=this;var pageFirstPixel=(_topRowBounds$rowTop=topRowBounds===null||topRowBounds===void 0?void 0:topRowBounds.rowTop)!==null&&_topRowBounds$rowTop!==void 0?_topRowBounds$rowTop:0;var pageLastPixel=bottomRowBounds?bottomRowBounds.rowTop+bottomRowBounds.rowHeight:0;return{pageFirstPixel,pageLastPixel};}calculateBounds(topDisplayedRowIndex,bottomDisplayedRowIndex){var{rowModel}=this.beans;var topRowBounds=rowModel.getRowBounds(topDisplayedRowIndex);if(topRowBounds){topRowBounds.rowIndex=topDisplayedRowIndex;}this.topRowBounds=topRowBounds;var bottomRowBounds=rowModel.getRowBounds(bottomDisplayedRowIndex);if(bottomRowBounds){bottomRowBounds.rowIndex=bottomDisplayedRowIndex;}this.bottomRowBounds=bottomRowBounds;this.calculatePixelOffset();}getPixelOffset(){return this.pixelOffset;}calculatePixelOffset(){var _this$topRowBounds$ro2,_this$topRowBounds2;var value=(_this$topRowBounds$ro2=(_this$topRowBounds2=this.topRowBounds)===null||_this$topRowBounds2===void 0?void 0:_this$topRowBounds2.rowTop)!==null&&_this$topRowBounds$ro2!==void 0?_this$topRowBounds$ro2:0;if(this.pixelOffset===value){return;}this.pixelOffset=value;this.eventSvc.dispatchEvent({type:\"paginationPixelOffsetChanged\"});}};// packages/ag-grid-community/src/pinnedColumns/pinnedColumnModule.css-GENERATED.ts\nvar pinnedColumnModuleCSS=/*css*/\".ag-pinned-left-floating-bottom,.ag-pinned-left-floating-top,.ag-pinned-right-floating-bottom,.ag-pinned-right-floating-top{min-width:0;overflow:hidden;position:relative}.ag-pinned-left-sticky-top,.ag-pinned-right-sticky-top{height:100%;overflow:hidden;position:relative}.ag-sticky-bottom-full-width-container,.ag-sticky-top-full-width-container{height:100%;overflow:hidden;width:100%}.ag-pinned-left-header,.ag-pinned-right-header{display:inline-block;height:100%;overflow:hidden;position:relative}.ag-body-horizontal-scroll:not(.ag-scrollbar-invisible){.ag-horizontal-left-spacer:not(.ag-scroller-corner){border-right:var(--ag-pinned-column-border)}.ag-horizontal-right-spacer:not(.ag-scroller-corner){border-left:var(--ag-pinned-column-border)}}.ag-pinned-right-header{border-left:var(--ag-pinned-column-border)}.ag-pinned-left-header{border-right:var(--ag-pinned-column-border)}.ag-cell.ag-cell-first-right-pinned:not(.ag-cell-range-left,.ag-cell-range-single-cell,.ag-cell-focus:not(.ag-cell-range-selected):focus-within){border-left:var(--ag-pinned-column-border)}.ag-cell.ag-cell-last-left-pinned:not(.ag-cell-range-right,.ag-cell-range-single-cell,.ag-cell-focus:not(.ag-cell-range-selected):focus-within){border-right:var(--ag-pinned-column-border)}.ag-pinned-left-header .ag-header-cell-resize:after{left:calc(50% - var(--ag-header-column-resize-handle-width))}.ag-pinned-right-header .ag-header-cell-resize:after{left:50%}.ag-pinned-left-header .ag-header-cell-resize{right:-3px}.ag-pinned-right-header .ag-header-cell-resize{left:-3px}\";// packages/ag-grid-community/src/gridBodyComp/rowContainer/setPinnedWidthFeature.ts\nvar SetPinnedWidthFeature=class extends BeanStub{constructor(isLeft,elements){super();this.isLeft=isLeft;this.elements=elements;this.getWidth=isLeft?()=>this.beans.pinnedCols.leftWidth:()=>this.beans.pinnedCols.rightWidth;}postConstruct(){this.addManagedEventListeners({[\"\".concat(this.isLeft?\"left\":\"right\",\"PinnedWidthChanged\")]:this.onPinnedWidthChanged.bind(this)});}onPinnedWidthChanged(){var width=this.getWidth();var displayed=width>0;for(var element of this.elements){if(element){_setDisplayed(element,displayed);_setFixedWidth(element,width);}}}};// packages/ag-grid-community/src/pinnedColumns/pinnedColumnService.ts\nvar PinnedColumnService=class extends BeanStub{constructor(){super(...arguments);this.beanName=\"pinnedCols\";}postConstruct(){this.beans.ctrlsSvc.whenReady(this,p=>{this.gridBodyCtrl=p.gridBodyCtrl;});var listener=this.checkContainerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:listener,displayedColumnsWidthChanged:listener});this.addManagedPropertyListener(\"domLayout\",listener);}checkContainerWidths(){var{gos,visibleCols,eventSvc}=this.beans;var printLayout=_isDomLayout(gos,\"print\");var newLeftWidth=printLayout?0:visibleCols.getColsLeftWidth();var newRightWidth=printLayout?0:visibleCols.getDisplayedColumnsRightWidth();if(newLeftWidth!=this.leftWidth){this.leftWidth=newLeftWidth;eventSvc.dispatchEvent({type:\"leftPinnedWidthChanged\"});}if(newRightWidth!=this.rightWidth){this.rightWidth=newRightWidth;eventSvc.dispatchEvent({type:\"rightPinnedWidthChanged\"});}}keepPinnedColumnsNarrowerThanViewport(){var eBodyViewport=this.gridBodyCtrl.eBodyViewport;var bodyWidth=_getInnerWidth(eBodyViewport);if(bodyWidth<=50){return;}var processedColumnsToRemove=this.getPinnedColumnsOverflowingViewport(bodyWidth-50);var processUnpinnedColumns=this.gos.getCallback(\"processUnpinnedColumns\");var{columns,hasLockedPinned}=processedColumnsToRemove;var columnsToRemove=columns;if(!columnsToRemove.length&&!hasLockedPinned){return;}if(processUnpinnedColumns){var params={columns:columnsToRemove,viewportWidth:bodyWidth};columnsToRemove=processUnpinnedColumns(params);}if(!columnsToRemove||!columnsToRemove.length){return;}columnsToRemove=columnsToRemove.filter(col=>!isRowNumberCol(col));this.setColsPinned(columnsToRemove,null,\"viewportSizeFeature\");}createPinnedWidthFeature(isLeft){for(var _len0=arguments.length,elements=new Array(_len0>1?_len0-1:0),_key10=1;_key10<_len0;_key10++){elements[_key10-1]=arguments[_key10];}return new SetPinnedWidthFeature(isLeft,elements);}setColsPinned(keys,pinned,source){var{colModel,colAnimation,visibleCols,gos}=this.beans;if(!colModel.cols){return;}if(!(keys!==null&&keys!==void 0&&keys.length)){return;}if(_isDomLayout(gos,\"print\")){_warn(37);return;}colAnimation===null||colAnimation===void 0||colAnimation.start();var actualPinned;if(pinned===true||pinned===\"left\"){actualPinned=\"left\";}else if(pinned===\"right\"){actualPinned=\"right\";}else{actualPinned=null;}var updatedCols=[];keys.forEach(key=>{if(!key){return;}var column=colModel.getCol(key);if(!column){return;}if(column.getPinned()!==actualPinned){this.setColPinned(column,actualPinned);updatedCols.push(column);}});if(updatedCols.length){visibleCols.refresh(source);dispatchColumnPinnedEvent(this.eventSvc,updatedCols,source);}colAnimation===null||colAnimation===void 0||colAnimation.finish();}initCol(column){var{pinned,initialPinned}=column.colDef;if(pinned!==void 0){this.setColPinned(column,pinned);}else{this.setColPinned(column,initialPinned);}}setColPinned(column,pinned){if(pinned===true||pinned===\"left\"){column.pinned=\"left\";}else if(pinned===\"right\"){column.pinned=\"right\";}else{column.pinned=null;}column.dispatchStateUpdatedEvent(\"pinned\");}setupHeaderPinnedWidth(ctrl){var{scrollVisibleSvc}=this.beans;if(ctrl.pinned==null){return;}var pinningLeft=ctrl.pinned===\"left\";var pinningRight=ctrl.pinned===\"right\";ctrl.hidden=true;var listener=()=>{var width=pinningLeft?this.leftWidth:this.rightWidth;if(width==null){return;}var hidden=width==0;var hiddenChanged=ctrl.hidden!==hidden;var isRtl=this.gos.get(\"enableRtl\");var scrollbarWidth=scrollVisibleSvc.getScrollbarWidth();var addPaddingForScrollbar=scrollVisibleSvc.verticalScrollShowing&&(isRtl&&pinningLeft||!isRtl&&pinningRight);var widthWithPadding=addPaddingForScrollbar?width+scrollbarWidth:width;ctrl.comp.setPinnedContainerWidth(\"\".concat(widthWithPadding,\"px\"));ctrl.comp.setDisplayed(!hidden);if(hiddenChanged){ctrl.hidden=hidden;ctrl.refresh();}};ctrl.addManagedEventListeners({leftPinnedWidthChanged:listener,rightPinnedWidthChanged:listener,scrollVisibilityChanged:listener,scrollbarWidthChanged:listener});}getHeaderResizeDiff(diff,column){var pinned=column.getPinned();if(pinned){var{leftWidth,rightWidth}=this;var bodyWidth=_getInnerWidth(this.beans.ctrlsSvc.getGridBodyCtrl().eBodyViewport)-50;if(leftWidth+rightWidth+diff>bodyWidth){if(bodyWidth>leftWidth+rightWidth){diff=bodyWidth-leftWidth-rightWidth;}else{return 0;}}}return diff;}getPinnedColumnsOverflowingViewport(viewportWidth){var _this$rightWidth,_this$leftWidth;var pinnedRightWidth=(_this$rightWidth=this.rightWidth)!==null&&_this$rightWidth!==void 0?_this$rightWidth:0;var pinnedLeftWidth=(_this$leftWidth=this.leftWidth)!==null&&_this$leftWidth!==void 0?_this$leftWidth:0;var totalPinnedWidth=pinnedRightWidth+pinnedLeftWidth;var hasLockedPinned=false;if(totalPinnedWidth<viewportWidth){return{columns:[],hasLockedPinned};}var{visibleCols}=this.beans;var pinnedLeftColumns=[...visibleCols.leftCols];var pinnedRightColumns=[...visibleCols.rightCols];var indexRight=0;var indexLeft=0;var totalWidthRemoved=0;var columnsToRemove=[];var spaceNecessary=totalPinnedWidth-totalWidthRemoved-viewportWidth;while((indexLeft<pinnedLeftColumns.length||indexRight<pinnedRightColumns.length)&&spaceNecessary>0){if(indexRight<pinnedRightColumns.length){var currentColumn=pinnedRightColumns[indexRight++];if(currentColumn.colDef.lockPinned){hasLockedPinned=true;continue;}spaceNecessary-=currentColumn.getActualWidth();columnsToRemove.push(currentColumn);}if(indexLeft<pinnedLeftColumns.length&&spaceNecessary>0){var _currentColumn=pinnedLeftColumns[indexLeft++];if(_currentColumn.colDef.lockPinned){hasLockedPinned=true;continue;}spaceNecessary-=_currentColumn.getActualWidth();columnsToRemove.push(_currentColumn);}}return{columns:columnsToRemove,hasLockedPinned};}};// packages/ag-grid-community/src/pinnedColumns/pinnedColumnModule.ts\nvar PinnedColumnModule={moduleName:\"PinnedColumn\",version:VERSION,beans:[PinnedColumnService],css:[pinnedColumnModuleCSS]};// packages/ag-grid-community/src/rendering/ariaAnnouncementService.ts\nvar AriaAnnouncementService=class extends BeanStub{constructor(){super();this.beanName=\"ariaAnnounce\";this.descriptionContainer=null;this.pendingAnnouncements=/* @__PURE__ */new Map();this.lastAnnouncement=\"\";this.updateAnnouncement=_debounce(this,this.updateAnnouncement.bind(this),200);}postConstruct(){var beans=this.beans;var eDocument=_getDocument(beans);var div=this.descriptionContainer=eDocument.createElement(\"div\");div.classList.add(\"ag-aria-description-container\");_setAriaLive(div,\"polite\");_setAriaRelevant(div,\"additions text\");_setAriaAtomic(div,true);beans.eGridDiv.appendChild(div);}/**\n   * @param key used for debouncing calls\n   */announceValue(value,key){this.pendingAnnouncements.set(key,value);this.updateAnnouncement();}updateAnnouncement(){if(!this.descriptionContainer){return;}var value=Array.from(this.pendingAnnouncements.values()).join(\". \");this.pendingAnnouncements.clear();this.descriptionContainer.textContent=\"\";setTimeout(()=>{this.handleAnnouncementUpdate(value);},50);}handleAnnouncementUpdate(value){if(!this.isAlive()||!this.descriptionContainer){return;}var valueToAnnounce=value;if(valueToAnnounce==null||valueToAnnounce.replace(/[ .]/g,\"\")==\"\"){this.lastAnnouncement=\"\";return;}if(this.lastAnnouncement===valueToAnnounce){valueToAnnounce=\"\".concat(valueToAnnounce,\"\\u200B\");}this.lastAnnouncement=valueToAnnounce;this.descriptionContainer.textContent=valueToAnnounce;}destroy(){super.destroy();var{descriptionContainer}=this;if(descriptionContainer){var _descriptionContainer;_clearElement(descriptionContainer);(_descriptionContainer=descriptionContainer.parentElement)===null||_descriptionContainer===void 0||_descriptionContainer.removeChild(descriptionContainer);}this.descriptionContainer=null;this.pendingAnnouncements.clear();}};// packages/ag-grid-community/src/rendering/ariaModule.ts\nvar AriaModule={moduleName:\"Aria\",version:VERSION,beans:[AriaAnnouncementService]};// packages/ag-grid-community/src/rendering/overlays/overlayApi.ts\nfunction showLoadingOverlay(beans){var _beans$overlays3;(_beans$overlays3=beans.overlays)===null||_beans$overlays3===void 0||_beans$overlays3.showLoadingOverlay();}function showNoRowsOverlay(beans){var _beans$overlays4;(_beans$overlays4=beans.overlays)===null||_beans$overlays4===void 0||_beans$overlays4.showNoRowsOverlay();}function hideOverlay(beans){var _beans$overlays5;(_beans$overlays5=beans.overlays)===null||_beans$overlays5===void 0||_beans$overlays5.hideOverlay();}// packages/ag-grid-community/src/rendering/overlays/overlayWrapperComponent.css-GENERATED.ts\nvar overlayWrapperComponentCSS=/*css*/\".ag-overlay{inset:0;pointer-events:none;position:absolute;z-index:2}.ag-overlay-panel,.ag-overlay-wrapper{display:flex;height:100%;width:100%}.ag-overlay-wrapper{align-items:center;flex:none;justify-content:center;text-align:center}.ag-overlay-loading-wrapper{pointer-events:all}.ag-overlay-loading-center{background:var(--ag-background-color);border:solid var(--ag-border-width) var(--ag-border-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-popup-shadow);padding:var(--ag-spacing)}\";// packages/ag-grid-community/src/rendering/overlays/overlayWrapperComponent.ts\nvar OverlayWrapperElement={tag:\"div\",cls:\"ag-overlay\",role:\"presentation\",children:[{tag:\"div\",cls:\"ag-overlay-panel\",role:\"presentation\",children:[{tag:\"div\",ref:\"eOverlayWrapper\",cls:\"ag-overlay-wrapper\",role:\"presentation\"}]}]};var OverlayWrapperComponent=class extends Component{constructor(){super(OverlayWrapperElement);this.eOverlayWrapper=RefPlaceholder;this.activePromise=null;this.activeOverlay=null;this.updateListenerDestroyFunc=null;this.activeCssClass=null;this.elToFocusAfter=null;this.registerCSS(overlayWrapperComponentCSS);}handleKeyDown(e){if(e.key!==KeyCode.TAB||e.defaultPrevented||_isStopPropagationForAgGrid(e)){return;}var beans=this.beans;var nextEl=_findNextFocusableElement(beans,this.eOverlayWrapper,false,e.shiftKey);if(nextEl){return;}var isFocused=false;if(e.shiftKey){isFocused=beans.focusSvc.focusGridView({column:_last(beans.visibleCols.allCols),backwards:true,canFocusOverlay:false});}else{isFocused=_focusNextGridCoreContainer(beans,false);}if(isFocused){e.preventDefault();}}updateLayoutClasses(cssClass,params){var overlayWrapperClassList=this.eOverlayWrapper.classList;var{AUTO_HEIGHT,NORMAL,PRINT}=LayoutCssClasses;overlayWrapperClassList.toggle(AUTO_HEIGHT,params.autoHeight);overlayWrapperClassList.toggle(NORMAL,params.normal);overlayWrapperClassList.toggle(PRINT,params.print);}postConstruct(){this.createManagedBean(new LayoutFeature(this));this.setDisplayed(false,{skipAriaHidden:true});this.beans.overlays.setOverlayWrapperComp(this);this.addManagedElementListeners(this.getFocusableElement(),{keydown:this.handleKeyDown.bind(this)});}setWrapperTypeClass(overlayWrapperCssClass){var overlayWrapperClassList=this.eOverlayWrapper.classList;if(this.activeCssClass){overlayWrapperClassList.toggle(this.activeCssClass,false);}this.activeCssClass=overlayWrapperCssClass;overlayWrapperClassList.toggle(overlayWrapperCssClass,true);}showOverlay(overlayComponentPromise,overlayWrapperCssClass,exclusive,gridOption){this.setWrapperTypeClass(overlayWrapperCssClass);this.destroyActiveOverlay();this.elToFocusAfter=null;this.activePromise=overlayComponentPromise;if(!overlayComponentPromise){return;}this.setDisplayed(true,{skipAriaHidden:true});if(exclusive&&this.isGridFocused()){var activeElement=_getActiveDomElement(this.beans);if(activeElement&&!_isNothingFocused(this.beans)){this.elToFocusAfter=activeElement;}}overlayComponentPromise.then(comp=>{if(this.activePromise!==overlayComponentPromise){if(this.activeOverlay!==comp){this.destroyBean(comp);comp=null;}return;}this.activePromise=null;if(!comp){return;}if(this.activeOverlay!==comp){this.eOverlayWrapper.appendChild(comp.getGui());this.activeOverlay=comp;if(gridOption){var component=comp;this.updateListenerDestroyFunc=this.addManagedPropertyListener(gridOption,_ref93=>{var _component$refresh;var{currentValue}=_ref93;(_component$refresh=component.refresh)===null||_component$refresh===void 0||_component$refresh.call(component,_addGridCommonParams(this.gos,_objectSpread({},currentValue!==null&&currentValue!==void 0?currentValue:{})));});}}if(exclusive&&this.isGridFocused()){_focusInto(this.eOverlayWrapper);}});}updateOverlayWrapperPaddingTop(padding){this.eOverlayWrapper.style.setProperty(\"padding-top\",\"\".concat(padding,\"px\"));}destroyActiveOverlay(){var _elementToFocus,_elementToFocus$focus;this.activePromise=null;var activeOverlay=this.activeOverlay;if(!activeOverlay){return;}var elementToFocus=this.elToFocusAfter;this.activeOverlay=null;this.elToFocusAfter=null;if(elementToFocus&&!this.isGridFocused()){elementToFocus=null;}var updateListenerDestroyFunc=this.updateListenerDestroyFunc;if(updateListenerDestroyFunc){updateListenerDestroyFunc();this.updateListenerDestroyFunc=null;}this.destroyBean(activeOverlay);_clearElement(this.eOverlayWrapper);(_elementToFocus=elementToFocus)===null||_elementToFocus===void 0||(_elementToFocus$focus=_elementToFocus.focus)===null||_elementToFocus$focus===void 0||_elementToFocus$focus.call(_elementToFocus,{preventScroll:true});}hideOverlay(){this.destroyActiveOverlay();this.setDisplayed(false,{skipAriaHidden:true});}isGridFocused(){var activeEl=_getActiveDomElement(this.beans);return!!activeEl&&this.beans.eGridDiv.contains(activeEl);}destroy(){this.elToFocusAfter=null;this.destroyActiveOverlay();this.beans.overlays.setOverlayWrapperComp(void 0);super.destroy();}};var OverlayWrapperSelector={selector:\"AG-OVERLAY-WRAPPER\",component:OverlayWrapperComponent};// packages/ag-grid-community/src/rendering/overlays/overlayService.ts\nvar OverlayService=class extends BeanStub{constructor(){super(...arguments);this.beanName=\"overlays\";this.state=0/* Hidden */;this.showInitialOverlay=true;this.wrapperPadding=0;}postConstruct(){this.isClientSide=_isClientSideRowModel(this.gos);this.isServerSide=!this.isClientSide&&_isServerSideRowModel(this.gos);var updateOverlayVisibility=()=>this.updateOverlayVisibility();this.addManagedEventListeners({newColumnsLoaded:updateOverlayVisibility,rowDataUpdated:updateOverlayVisibility,gridSizeChanged:this.refreshWrapperPadding.bind(this),rowCountReady:()=>{this.showInitialOverlay=false;this.updateOverlayVisibility();}});this.addManagedPropertyListener(\"loading\",updateOverlayVisibility);}setOverlayWrapperComp(overlayWrapperComp){this.eWrapper=overlayWrapperComp;this.updateOverlayVisibility();}/** Returns true if the overlay is visible. */isVisible(){return this.state!==0/* Hidden */&&!!this.eWrapper;}/** Returns true if the overlay is visible and is exclusive (popup over the grid) */isExclusive(){return this.state===1/* Loading */&&!!this.eWrapper;}showLoadingOverlay(){this.showInitialOverlay=false;var gos=this.gos;var loading=gos.get(\"loading\");if(!loading&&(loading!==void 0||gos.get(\"suppressLoadingOverlay\"))){return;}this.doShowLoadingOverlay();}showNoRowsOverlay(){this.showInitialOverlay=false;var gos=this.gos;if(gos.get(\"loading\")||gos.get(\"suppressNoRowsOverlay\")){return;}this.doShowNoRowsOverlay();}hideOverlay(){this.showInitialOverlay=false;if(this.gos.get(\"loading\")){_warn(99);return;}this.doHideOverlay();}getOverlayWrapperSelector(){return OverlayWrapperSelector;}getOverlayWrapperCompClass(){return OverlayWrapperComponent;}updateOverlayVisibility(){if(!this.eWrapper){this.state=0/* Hidden */;return;}var{state,isClientSide,isServerSide,beans:{gos,colModel,rowModel}}=this;var loading=this.gos.get(\"loading\");if(loading!==void 0){this.showInitialOverlay=false;}if(this.showInitialOverlay&&loading===void 0&&!gos.get(\"suppressLoadingOverlay\")){loading=!gos.get(\"columnDefs\")||!colModel.ready||!gos.get(\"rowData\")&&isClientSide;}if(loading){if(state!==1/* Loading */){this.doShowLoadingOverlay();}}else{this.showInitialOverlay=false;if(isClientSide&&rowModel.isEmpty()&&!gos.get(\"suppressNoRowsOverlay\")){if(state!==2/* NoRows */){this.doShowNoRowsOverlay();}}else if(state===1/* Loading */||!isServerSide&&state!==0/* Hidden */){this.doHideOverlay();}}}doShowLoadingOverlay(){if(!this.eWrapper){return;}this.state=1/* Loading */;this.showOverlay(_getLoadingOverlayCompDetails(this.beans.userCompFactory,_addGridCommonParams(this.gos,{})),\"ag-overlay-loading-wrapper\",\"loadingOverlayComponentParams\");this.updateExclusive();}doShowNoRowsOverlay(){if(!this.eWrapper){return;}this.state=2/* NoRows */;this.showOverlay(_getNoRowsOverlayCompDetails(this.beans.userCompFactory,_addGridCommonParams(this.gos,{})),\"ag-overlay-no-rows-wrapper\",\"noRowsOverlayComponentParams\");this.updateExclusive();}doHideOverlay(){if(!this.eWrapper){return;}this.state=0/* Hidden */;this.eWrapper.hideOverlay();this.updateExclusive();}showOverlay(compDetails,wrapperCssClass,gridOption){var _compDetails$newAgSta,_this$eWrapper;var promise=(_compDetails$newAgSta=compDetails===null||compDetails===void 0?void 0:compDetails.newAgStackInstance())!==null&&_compDetails$newAgSta!==void 0?_compDetails$newAgSta:null;(_this$eWrapper=this.eWrapper)===null||_this$eWrapper===void 0||_this$eWrapper.showOverlay(promise,wrapperCssClass,this.isExclusive(),gridOption);this.refreshWrapperPadding();}updateExclusive(){var wasExclusive=this.exclusive;this.exclusive=this.isExclusive();if(this.exclusive!==wasExclusive){this.eventSvc.dispatchEvent({type:\"overlayExclusiveChanged\"});}}refreshWrapperPadding(){var eWrapper=this.eWrapper;if(!eWrapper){return;}var newPadding=0;if(this.state===2/* NoRows */){var headerCtrl=this.beans.ctrlsSvc.get(\"gridHeaderCtrl\");var headerHeight=(headerCtrl===null||headerCtrl===void 0?void 0:headerCtrl.headerHeight)||0;newPadding=headerHeight;}else if(this.wrapperPadding!==0){newPadding=0;}if(this.wrapperPadding===newPadding){return;}this.wrapperPadding=newPadding;eWrapper.updateOverlayWrapperPaddingTop(newPadding);}};// packages/ag-grid-community/src/rendering/overlays/overlayModule.ts\nvar OverlayModule={moduleName:\"Overlay\",version:VERSION,userComponents:{agLoadingOverlay:LoadingOverlayComponent2,agNoRowsOverlay:NoRowsOverlayComponent2},apiFunctions:{showLoadingOverlay,showNoRowsOverlay,hideOverlay},beans:[OverlayService]};// packages/ag-grid-community/src/rendering/rowContainerHeightService.ts\nvar RowContainerHeightService=class extends BeanStub{constructor(){super(...arguments);this.beanName=\"rowContainerHeight\";// the scrollY position\nthis.scrollY=0;// how tall the body is\nthis.uiBodyHeight=0;}postConstruct(){this.addManagedEventListeners({bodyHeightChanged:this.updateOffset.bind(this)});this.maxDivHeight=_getMaxDivHeight();_logIfDebug(this.gos,\"RowContainerHeightService - maxDivHeight = \"+this.maxDivHeight);}updateOffset(){if(!this.stretching){return;}var newScrollY=this.beans.ctrlsSvc.getScrollFeature().getVScrollPosition().top;var newBodyHeight=this.getUiBodyHeight();var atLeastOneChanged=newScrollY!==this.scrollY||newBodyHeight!==this.uiBodyHeight;if(atLeastOneChanged){this.scrollY=newScrollY;this.uiBodyHeight=newBodyHeight;this.calculateOffset();}}calculateOffset(){this.setUiContainerHeight(this.maxDivHeight);this.pixelsToShave=this.modelHeight-this.uiContainerHeight;this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;var scrollPercent=this.scrollY/this.maxScrollY;var divStretchOffset=scrollPercent*this.pixelsToShave;_logIfDebug(this.gos,\"RowContainerHeightService - Div Stretch Offset = \".concat(divStretchOffset,\" (\").concat(this.pixelsToShave,\" * \").concat(scrollPercent,\")\"));this.setDivStretchOffset(divStretchOffset);}setUiContainerHeight(height){if(height!==this.uiContainerHeight){this.uiContainerHeight=height;this.eventSvc.dispatchEvent({type:\"rowContainerHeightChanged\"});}}clearOffset(){this.setUiContainerHeight(this.modelHeight);this.pixelsToShave=0;this.setDivStretchOffset(0);}setDivStretchOffset(newOffset){var newOffsetFloor=typeof newOffset===\"number\"?Math.floor(newOffset):null;if(this.divStretchOffset===newOffsetFloor){return;}this.divStretchOffset=newOffsetFloor;this.eventSvc.dispatchEvent({type:\"heightScaleChanged\"});}setModelHeight(modelHeight){this.modelHeight=modelHeight;this.stretching=modelHeight!=null&&// null happens when in print layout\nthis.maxDivHeight>0&&modelHeight>this.maxDivHeight;if(this.stretching){this.calculateOffset();}else{this.clearOffset();}}getRealPixelPosition(modelPixel){return modelPixel-this.divStretchOffset;}getUiBodyHeight(){var pos=this.beans.ctrlsSvc.getScrollFeature().getVScrollPosition();return pos.bottom-pos.top;}getScrollPositionForPixel(rowTop){if(this.pixelsToShave<=0){return rowTop;}var modelMaxScroll=this.modelHeight-this.getUiBodyHeight();var scrollPercent=rowTop/modelMaxScroll;var scrollPixel=this.maxScrollY*scrollPercent;return scrollPixel;}};// packages/ag-grid-community/src/rendering/rowRenderer.ts\nvar ROW_ANIMATION_TIMEOUT=400;var RowRenderer=class extends BeanStub{constructor(){super(...arguments);this.beanName=\"rowRenderer\";this.destroyFuncsForColumnListeners=[];// map of row ids to row objects. keeps track of which elements\n// are rendered for which rows in the dom.\nthis.rowCtrlsByRowIndex={};this.zombieRowCtrls={};this.allRowCtrls=[];this.topRowCtrls=[];this.bottomRowCtrls=[];// we only allow one refresh at a time, otherwise the internal memory structure here\n// will get messed up. this can happen if the user has a cellRenderer, and inside the\n// renderer they call an API method that results in another pass of the refresh,\n// then it will be trying to draw rows in the middle of a refresh.\nthis.refreshInProgress=false;this.dataFirstRenderedFired=false;this.setupRangeSelectionListeners=()=>{var onCellSelectionChanged=()=>{this.getAllCellCtrls().forEach(cellCtrl=>cellCtrl.onCellSelectionChanged());};var onColumnMovedPinnedVisible=()=>{this.getAllCellCtrls().forEach(cellCtrl=>cellCtrl.updateRangeBordersIfRangeCount());};var addCellSelectionListeners=()=>{this.eventSvc.addEventListener(\"cellSelectionChanged\",onCellSelectionChanged);this.eventSvc.addEventListener(\"columnMoved\",onColumnMovedPinnedVisible);this.eventSvc.addEventListener(\"columnPinned\",onColumnMovedPinnedVisible);this.eventSvc.addEventListener(\"columnVisible\",onColumnMovedPinnedVisible);};var removeCellSelectionListeners=()=>{this.eventSvc.removeEventListener(\"cellSelectionChanged\",onCellSelectionChanged);this.eventSvc.removeEventListener(\"columnMoved\",onColumnMovedPinnedVisible);this.eventSvc.removeEventListener(\"columnPinned\",onColumnMovedPinnedVisible);this.eventSvc.removeEventListener(\"columnVisible\",onColumnMovedPinnedVisible);};this.addDestroyFunc(()=>removeCellSelectionListeners());this.addManagedPropertyListeners([\"enableRangeSelection\",\"cellSelection\"],()=>{var isEnabled=_isCellSelectionEnabled(this.gos);if(isEnabled){addCellSelectionListeners();}else{removeCellSelectionListeners();}});var cellSelectionEnabled=_isCellSelectionEnabled(this.gos);if(cellSelectionEnabled){addCellSelectionListeners();}};}wireBeans(beans){this.pageBounds=beans.pageBounds;this.colModel=beans.colModel;this.pinnedRowModel=beans.pinnedRowModel;this.rowModel=beans.rowModel;this.focusSvc=beans.focusSvc;this.rowContainerHeight=beans.rowContainerHeight;this.ctrlsSvc=beans.ctrlsSvc;this.editSvc=beans.editSvc;}postConstruct(){this.ctrlsSvc.whenReady(this,p=>{this.gridBodyCtrl=p.gridBodyCtrl;this.initialise();});}initialise(){this.addManagedEventListeners({paginationChanged:this.onPageLoaded.bind(this),pinnedRowDataChanged:this.onPinnedRowDataChanged.bind(this),pinnedRowsChanged:this.onPinnedRowsChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),bodyScroll:this.onBodyScroll.bind(this),bodyHeightChanged:this.redraw.bind(this,{})});this.addManagedPropertyListeners([\"domLayout\",\"embedFullWidthRows\"],()=>this.onDomLayoutChanged());this.addManagedPropertyListeners([\"suppressMaxRenderedRowRestriction\",\"rowBuffer\"],()=>this.redraw());this.addManagedPropertyListener(\"suppressCellFocus\",e=>this.onSuppressCellFocusChanged(e.currentValue));this.addManagedPropertyListeners([\"groupSuppressBlankHeader\",\"getBusinessKeyForNode\",\"fullWidthCellRenderer\",\"fullWidthCellRendererParams\",\"suppressStickyTotalRow\",\"groupRowRenderer\",\"groupRowRendererParams\",// maybe only needs to refresh FW rows...\n\"loadingCellRenderer\",\"loadingCellRendererParams\",\"detailCellRenderer\",\"detailCellRendererParams\",\"enableRangeSelection\",\"enableCellTextSelection\"],()=>this.redrawRows());this.addManagedPropertyListener(\"cellSelection\",_ref94=>{var{currentValue,previousValue}=_ref94;if(!previousValue&&currentValue||previousValue&&!currentValue){this.redrawRows();}});var{stickyRowSvc,gos,showRowGroupCols}=this.beans;if(showRowGroupCols){this.addManagedPropertyListener(\"showOpenedGroup\",()=>{var columns=showRowGroupCols.getShowRowGroupCols();if(columns.length){this.refreshCells({columns,force:true});}});}if(stickyRowSvc){this.stickyRowFeature=stickyRowSvc.createStickyRowFeature(this,this.createRowCon.bind(this),this.destroyRowCtrls.bind(this));}else{var gridBodyCtrl=this.gridBodyCtrl;gridBodyCtrl.setStickyTopHeight(0);gridBodyCtrl.setStickyBottomHeight(0);}this.registerCellEventListeners();this.initialiseCache();this.printLayout=_isDomLayout(gos,\"print\");this.embedFullWidthRows=this.printLayout||gos.get(\"embedFullWidthRows\");this.redrawAfterModelUpdate();}initialiseCache(){if(this.gos.get(\"keepDetailRows\")){var countProp=this.getKeepDetailRowsCount();var count=countProp!=null?countProp:3;this.cachedRowCtrls=new RowCtrlCache(count);}}getKeepDetailRowsCount(){return this.gos.get(\"keepDetailRowsCount\");}getStickyTopRowCtrls(){var _this$stickyRowFeatur,_this$stickyRowFeatur2;return(_this$stickyRowFeatur=(_this$stickyRowFeatur2=this.stickyRowFeature)===null||_this$stickyRowFeatur2===void 0?void 0:_this$stickyRowFeatur2.stickyTopRowCtrls)!==null&&_this$stickyRowFeatur!==void 0?_this$stickyRowFeatur:[];}getStickyBottomRowCtrls(){var _this$stickyRowFeatur3,_this$stickyRowFeatur4;return(_this$stickyRowFeatur3=(_this$stickyRowFeatur4=this.stickyRowFeature)===null||_this$stickyRowFeatur4===void 0?void 0:_this$stickyRowFeatur4.stickyBottomRowCtrls)!==null&&_this$stickyRowFeatur3!==void 0?_this$stickyRowFeatur3:[];}updateAllRowCtrls(){var _this$cachedRowCtrls$,_this$cachedRowCtrls;var liveList=Object.values(this.rowCtrlsByRowIndex);var zombieList=Object.values(this.zombieRowCtrls);var cachedList=(_this$cachedRowCtrls$=(_this$cachedRowCtrls=this.cachedRowCtrls)===null||_this$cachedRowCtrls===void 0?void 0:_this$cachedRowCtrls.getEntries())!==null&&_this$cachedRowCtrls$!==void 0?_this$cachedRowCtrls$:[];if(zombieList.length>0||cachedList.length>0){this.allRowCtrls=[...liveList,...zombieList,...cachedList];}else{this.allRowCtrls=liveList;}}/**\n   * Checks if the cell is rendered or not. Also returns true if row ctrl is present but has not rendered\n   * cells yet.\n   * @returns true if cellCtrl is present, or if the row is present but has not rendered rows yet\n   */isCellBeingRendered(rowIndex,column){var _this$beans$spannedRo2;var rowCtrl=this.rowCtrlsByRowIndex[rowIndex];if(!column||!rowCtrl){return!!rowCtrl;}if(rowCtrl.isFullWidth()){return true;}var spannedCell=(_this$beans$spannedRo2=this.beans.spannedRowRenderer)===null||_this$beans$spannedRo2===void 0?void 0:_this$beans$spannedRo2.getCellByPosition({rowIndex,column,rowPinned:null});return!!spannedCell||!!rowCtrl.getCellCtrl(column)||!rowCtrl.isRowRendered();}/**\n   * Notifies all row and cell controls of any change in focused cell.\n   * @param event cell focused event\n   */updateCellFocus(event){this.getAllCellCtrls().forEach(cellCtrl=>cellCtrl.onCellFocused(event));this.getFullWidthRowCtrls().forEach(rowCtrl=>rowCtrl.onFullWidthRowFocused(event));}/**\n   * Called when a new cell is focused in the grid\n   * - if the focused cell isn't rendered; re-draw rows to dry to render it\n   * - subsequently updates all cell and row controls with the new focused cell\n   * @param event cell focused event\n   */onCellFocusChanged(event){if(event&&event.rowIndex!=null&&!event.rowPinned){var _this$beans$colModel$;var col=(_this$beans$colModel$=this.beans.colModel.getCol(event.column))!==null&&_this$beans$colModel$!==void 0?_this$beans$colModel$:void 0;if(!this.isCellBeingRendered(event.rowIndex,col)){this.redraw();}}this.updateCellFocus(event);}onSuppressCellFocusChanged(suppressCellFocus){this.getAllCellCtrls().forEach(cellCtrl=>cellCtrl.onSuppressCellFocusChanged(suppressCellFocus));this.getFullWidthRowCtrls().forEach(rowCtrl=>rowCtrl.onSuppressCellFocusChanged(suppressCellFocus));}// in a clean design, each cell would register for each of these events. however when scrolling, all the cells\n// registering and de-registering for events is a performance bottleneck. so we register here once and inform\n// all active cells.\nregisterCellEventListeners(){this.addManagedEventListeners({cellFocused:event=>this.onCellFocusChanged(event),cellFocusCleared:()=>this.updateCellFocus(),flashCells:event=>{var{cellFlashSvc}=this.beans;if(cellFlashSvc){this.getAllCellCtrls().forEach(cellCtrl=>cellFlashSvc.onFlashCells(cellCtrl,event));}},columnHoverChanged:()=>{this.getAllCellCtrls().forEach(cellCtrl=>cellCtrl.onColumnHover());},displayedColumnsChanged:()=>{this.getAllCellCtrls().forEach(cellCtrl=>cellCtrl.onDisplayedColumnsChanged());},displayedColumnsWidthChanged:()=>{if(this.printLayout){this.getAllCellCtrls().forEach(cellCtrl=>cellCtrl.onLeftChanged());}}});this.setupRangeSelectionListeners();this.refreshListenersToColumnsForCellComps();this.addManagedEventListeners({gridColumnsChanged:this.refreshListenersToColumnsForCellComps.bind(this)});this.addDestroyFunc(this.removeGridColumnListeners.bind(this));}// executes all functions in destroyFuncsForColumnListeners and then clears the list\nremoveGridColumnListeners(){this.destroyFuncsForColumnListeners.forEach(func=>func());this.destroyFuncsForColumnListeners.length=0;}// this function adds listeners onto all the grid columns, which are the column that we could have cellComps for.\n// when the grid columns change, we add listeners again. in an ideal design, each CellComp would just register to\n// the column it belongs to on creation, however this was a bottleneck with the number of cells, so do it here\n// once instead.\nrefreshListenersToColumnsForCellComps(){this.removeGridColumnListeners();var cols=this.colModel.getCols();cols.forEach(col=>{var forEachCellWithThisCol=callback=>{this.getAllCellCtrls().forEach(cellCtrl=>{if(cellCtrl.column===col){callback(cellCtrl);}});};var leftChangedListener=()=>{forEachCellWithThisCol(cellCtrl=>cellCtrl.onLeftChanged());};var widthChangedListener=()=>{forEachCellWithThisCol(cellCtrl=>cellCtrl.onWidthChanged());};var firstRightPinnedChangedListener=()=>{forEachCellWithThisCol(cellCtrl=>cellCtrl.onFirstRightPinnedChanged());};var lastLeftPinnedChangedListener=()=>{forEachCellWithThisCol(cellCtrl=>cellCtrl.onLastLeftPinnedChanged());};var colDefChangedListener=()=>{forEachCellWithThisCol(cellCtrl=>cellCtrl.onColDefChanged());};col.__addEventListener(\"leftChanged\",leftChangedListener);col.__addEventListener(\"widthChanged\",widthChangedListener);col.__addEventListener(\"firstRightPinnedChanged\",firstRightPinnedChangedListener);col.__addEventListener(\"lastLeftPinnedChanged\",lastLeftPinnedChangedListener);col.__addEventListener(\"colDefChanged\",colDefChangedListener);this.destroyFuncsForColumnListeners.push(()=>{col.__removeEventListener(\"leftChanged\",leftChangedListener);col.__removeEventListener(\"widthChanged\",widthChangedListener);col.__removeEventListener(\"firstRightPinnedChanged\",firstRightPinnedChangedListener);col.__removeEventListener(\"lastLeftPinnedChanged\",lastLeftPinnedChangedListener);col.__removeEventListener(\"colDefChanged\",colDefChangedListener);});});}onDomLayoutChanged(){var printLayout=_isDomLayout(this.gos,\"print\");var embedFullWidthRows=printLayout||this.gos.get(\"embedFullWidthRows\");var destroyRows=embedFullWidthRows!==this.embedFullWidthRows||this.printLayout!==printLayout;this.printLayout=printLayout;this.embedFullWidthRows=embedFullWidthRows;if(destroyRows){this.redrawAfterModelUpdate({domLayoutChanged:true});}}// for row models that have datasources, when we update the datasource, we need to force the rowRenderer\n// to redraw all rows. otherwise the old rows from the old datasource will stay displayed.\ndatasourceChanged(){this.firstRenderedRow=0;this.lastRenderedRow=-1;var rowIndexesToRemove=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(rowIndexesToRemove);}onPageLoaded(event){var params={recycleRows:event.keepRenderedRows,animate:event.animate,newData:event.newData,newPage:event.newPage,// because this is a model updated event (not pinned rows), we\n// can skip updating the pinned rows. this is needed so that if user\n// is doing transaction updates, the pinned rows are not getting constantly\n// trashed - or editing cells in pinned rows are not refreshed and put into read mode\nonlyBody:true};this.redrawAfterModelUpdate(params);}/**\n   * @param column AgColumn\n   * @returns An array with HTMLElement for every cell of the column passed as param.\n   * If the cell is spanning across multiple columns, it only returns the html element\n   * if the column passed is the first column of the span (used for auto width calculation).\n   */getAllCellsNotSpanningForColumn(column){var res=[];this.getAllRowCtrls().forEach(rowCtrl=>{var _rowCtrl$getCellCtrl2;var eCell=(_rowCtrl$getCellCtrl2=rowCtrl.getCellCtrl(column,true))===null||_rowCtrl$getCellCtrl2===void 0?void 0:_rowCtrl$getCellCtrl2.eGui;if(eCell){res.push(eCell);}});return res;}refreshFloatingRowComps(){var recycleRows=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;this.refreshFloatingRows(this.topRowCtrls,\"top\",recycleRows);this.refreshFloatingRows(this.bottomRowCtrls,\"bottom\",recycleRows);}/**\n   * Determines which row controllers need to be destroyed and re-created vs which ones can\n   * be re-used.\n   *\n   * This is operation is to pinned/floating rows as `this.recycleRows` is to normal/body rows.\n   *\n   * All `RowCtrl` instances in `rowCtrls` that don't correspond to `RowNode` instances in `rowNodes` are destroyed.\n   * All `RowNode` instances in `rowNodes` that don't correspond to `RowCtrl` instances in `rowCtrls` are created.\n   * All instances in `rowCtrls` must be in the same order as their corresponding nodes in `rowNodes`.\n   *\n   * @param rowCtrls The list of existing row controllers\n   * @param rowNodes The canonical list of row nodes that should have associated controllers\n   */refreshFloatingRows(rowCtrls,floating,recycleRows){var _ref95;var{pinnedRowModel,beans,printLayout}=this;var rowCtrlMap=Object.fromEntries(rowCtrls.map(ctrl=>[ctrl.rowNode.id,ctrl]));pinnedRowModel===null||pinnedRowModel===void 0||pinnedRowModel.forEachPinnedRow(floating,(node,i)=>{var rowCtrl=rowCtrls[i];var rowCtrlDoesNotExist=rowCtrl&&pinnedRowModel.getPinnedRowById(rowCtrl.rowNode.id,floating)===void 0;if(rowCtrlDoesNotExist){rowCtrl.destroyFirstPass();rowCtrl.destroySecondPass();}if(node.id in rowCtrlMap&&recycleRows){rowCtrls[i]=rowCtrlMap[node.id];delete rowCtrlMap[node.id];}else{rowCtrls[i]=new RowCtrl(node,beans,false,false,printLayout);}});var rowNodeCount=(_ref95=floating===\"top\"?pinnedRowModel===null||pinnedRowModel===void 0?void 0:pinnedRowModel.getPinnedTopRowCount():pinnedRowModel===null||pinnedRowModel===void 0?void 0:pinnedRowModel.getPinnedBottomRowCount())!==null&&_ref95!==void 0?_ref95:0;rowCtrls.length=rowNodeCount;}onPinnedRowDataChanged(){var params={recycleRows:true};this.redrawAfterModelUpdate(params);}onPinnedRowsChanged(){this.redrawAfterModelUpdate({recycleRows:true});}redrawRow(rowNode){var _this$cachedRowCtrls2;var suppressEvent=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(rowNode.sticky){var _this$stickyRowFeatur5;(_this$stickyRowFeatur5=this.stickyRowFeature)===null||_this$stickyRowFeatur5===void 0||_this$stickyRowFeatur5.refreshStickyNode(rowNode);}else if((_this$cachedRowCtrls2=this.cachedRowCtrls)!==null&&_this$cachedRowCtrls2!==void 0&&_this$cachedRowCtrls2.has(rowNode)){this.cachedRowCtrls.removeRow(rowNode);return;}else{var destroyAndRecreateCtrl=dataStruct=>{var ctrl=dataStruct[rowNode.rowIndex];if(!ctrl){return;}if(ctrl.rowNode!==rowNode){return;}ctrl.destroyFirstPass();ctrl.destroySecondPass();dataStruct[rowNode.rowIndex]=this.createRowCon(rowNode,false,false);};switch(rowNode.rowPinned){case\"top\":destroyAndRecreateCtrl(this.topRowCtrls);break;case\"bottom\":destroyAndRecreateCtrl(this.bottomRowCtrls);break;default:destroyAndRecreateCtrl(this.rowCtrlsByRowIndex);this.updateAllRowCtrls();}}if(!suppressEvent){this.dispatchDisplayedRowsChanged(false);}}redrawRows(rowNodes){var{editSvc}=this.beans;if(editSvc!==null&&editSvc!==void 0&&editSvc.isEditing()){if(editSvc.isBatchEditing()){editSvc.cleanupEditors();}else{editSvc.stopEditing(void 0,{source:\"api\"});}}var partialRefresh=rowNodes!=null;if(partialRefresh){rowNodes===null||rowNodes===void 0||rowNodes.forEach(node=>this.redrawRow(node,true));this.dispatchDisplayedRowsChanged(false);return;}this.redrawAfterModelUpdate();}// gets called from:\n// +) initialisation (in registerGridComp) params = null\n// +) onDomLayoutChanged, params = null\n// +) onPageLoaded, recycleRows, animate, newData, newPage from event, onlyBody=true\n// +) onPinnedRowDataChanged, recycleRows = true\n// +) redrawRows (from Grid API), recycleRows = true/false\nredrawAfterModelUpdate(){var _this$beans$focusSvc;var params=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};this.getLockOnRefresh();var focusedCell=(_this$beans$focusSvc=this.beans.focusSvc)===null||_this$beans$focusSvc===void 0?void 0:_this$beans$focusSvc.getFocusCellToUseAfterRefresh();this.updateContainerHeights();this.scrollToTopIfNewData(params);var recycleRows=!params.domLayoutChanged&&!!params.recycleRows;var animate=params.animate&&_isAnimateRows(this.gos);var rowsToRecycle=recycleRows?this.getRowsToRecycle():null;if(!recycleRows){this.removeAllRowComps();}this.workOutFirstAndLastRowsToRender();var{stickyRowFeature,gos}=this;if(stickyRowFeature){stickyRowFeature.checkStickyRows();var extraHeight=stickyRowFeature.extraTopHeight+stickyRowFeature.extraBottomHeight;if(extraHeight){this.updateContainerHeights(extraHeight);}}this.recycleRows(rowsToRecycle,animate);this.gridBodyCtrl.updateRowCount();if(!params.onlyBody){this.refreshFloatingRowComps(gos.get(\"enableRowPinning\")?recycleRows:void 0);}this.dispatchDisplayedRowsChanged();if(focusedCell!=null){this.restoreFocusedCell(focusedCell);}this.releaseLockOnRefresh();}scrollToTopIfNewData(params){var scrollToTop=params.newData||params.newPage;var suppressScrollToTop=this.gos.get(\"suppressScrollOnNewData\");if(scrollToTop&&!suppressScrollToTop){var _this$stickyRowFeatur6;this.gridBodyCtrl.scrollFeature.scrollToTop();(_this$stickyRowFeatur6=this.stickyRowFeature)===null||_this$stickyRowFeatur6===void 0||_this$stickyRowFeatur6.resetOffsets();}}updateContainerHeights(){var additionalHeight=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var{rowContainerHeight}=this;if(this.printLayout){rowContainerHeight.setModelHeight(null);return;}var containerHeight=this.pageBounds.getCurrentPageHeight();if(containerHeight===0){containerHeight=1;}rowContainerHeight.setModelHeight(containerHeight+additionalHeight);}getLockOnRefresh(){var _this$beans$framework8,_this$beans$framework9;if(this.refreshInProgress){throw new Error(_errMsg(252));}this.refreshInProgress=true;(_this$beans$framework8=(_this$beans$framework9=this.beans.frameworkOverrides).getLockOnRefresh)===null||_this$beans$framework8===void 0||_this$beans$framework8.call(_this$beans$framework9);}releaseLockOnRefresh(){var _this$beans$framework0,_this$beans$framework1;this.refreshInProgress=false;(_this$beans$framework0=(_this$beans$framework1=this.beans.frameworkOverrides).releaseLockOnRefresh)===null||_this$beans$framework0===void 0||_this$beans$framework0.call(_this$beans$framework1);}isRefreshInProgress(){return this.refreshInProgress;}// sets the focus to the provided cell, if the cell is provided. this way, the user can call refresh without\n// worry about the focus been lost. this is important when the user is using keyboard navigation to do edits\n// and the cellEditor is calling 'refresh' to get other cells to update (as other cells might depend on the\n// edited cell).\nrestoreFocusedCell(cellPosition){if(!cellPosition){return;}var focusSvc=this.beans.focusSvc;var cellToFocus=this.findPositionToFocus(cellPosition);if(!cellToFocus){focusSvc.focusHeaderPosition({headerPosition:{headerRowIndex:getFocusHeaderRowCount(this.beans)-1,column:cellPosition.column}});return;}if(cellPosition.rowIndex!==cellToFocus.rowIndex||cellPosition.rowPinned!=cellToFocus.rowPinned){focusSvc.setFocusedCell(_objectSpread(_objectSpread({},cellToFocus),{},{preventScrollOnBrowserFocus:true,forceBrowserFocus:true}));return;}if(!focusSvc.doesRowOrCellHaveBrowserFocus()){this.updateCellFocus(_addGridCommonParams(this.gos,_objectSpread(_objectSpread({},cellToFocus),{},{forceBrowserFocus:true,preventScrollOnBrowserFocus:true,type:\"cellFocused\"})));}}findPositionToFocus(cellPosition){var{pagination,pageBounds}=this.beans;var rowPosition=cellPosition;if(rowPosition.rowPinned==null&&pagination&&pageBounds&&!pagination.isRowInPage(rowPosition.rowIndex)){rowPosition={rowPinned:null,rowIndex:pageBounds.getFirstRow()};}while(rowPosition){if(rowPosition.rowPinned==null&&pageBounds){if(rowPosition.rowIndex<pageBounds.getFirstRow()){rowPosition=_getRowAbove(this.beans,{rowPinned:null,rowIndex:0});if(!rowPosition){return null;}}else if(rowPosition.rowIndex>pageBounds.getLastRow()){rowPosition={rowPinned:null,rowIndex:pageBounds.getLastRow()};}}var row=this.getRowByPosition(rowPosition);if(row!==null&&row!==void 0&&row.isAlive()){return _objectSpread(_objectSpread({},row.getRowPosition()),{},{column:cellPosition.column});}rowPosition=_getRowAbove(this.beans,rowPosition);}return null;}getAllCellCtrls(){var res=[];var rowCtrls=this.getAllRowCtrls();var rowCtrlsLength=rowCtrls.length;for(var i=0;i<rowCtrlsLength;i++){var cellCtrls=rowCtrls[i].getAllCellCtrls();var cellCtrlsLength=cellCtrls.length;for(var j=0;j<cellCtrlsLength;j++){res.push(cellCtrls[j]);}}return res;}getAllRowCtrls(){var _spannedRowRenderer$g,_spannedRowRenderer$g2,_spannedRowRenderer$g3;var{spannedRowRenderer}=this.beans;var stickyTopRowCtrls=this.getStickyTopRowCtrls();var stickyBottomRowCtrls=this.getStickyBottomRowCtrls();var res=[...this.topRowCtrls,...this.bottomRowCtrls,...stickyTopRowCtrls,...stickyBottomRowCtrls,...((_spannedRowRenderer$g=spannedRowRenderer===null||spannedRowRenderer===void 0?void 0:spannedRowRenderer.getCtrls(\"top\"))!==null&&_spannedRowRenderer$g!==void 0?_spannedRowRenderer$g:[]),...((_spannedRowRenderer$g2=spannedRowRenderer===null||spannedRowRenderer===void 0?void 0:spannedRowRenderer.getCtrls(\"bottom\"))!==null&&_spannedRowRenderer$g2!==void 0?_spannedRowRenderer$g2:[]),...((_spannedRowRenderer$g3=spannedRowRenderer===null||spannedRowRenderer===void 0?void 0:spannedRowRenderer.getCtrls(\"center\"))!==null&&_spannedRowRenderer$g3!==void 0?_spannedRowRenderer$g3:[]),...Object.values(this.rowCtrlsByRowIndex)];return res;}addRenderedRowListener(eventName,rowIndex,callback){var rowComp=this.rowCtrlsByRowIndex[rowIndex];if(rowComp){rowComp.addEventListener(eventName,callback);}}refreshCells(){var{rowNodes,columns,force,suppressFlash}=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var refreshCellParams={force,newData:false,suppressFlash};for(var cellCtrl of this.getCellCtrls(rowNodes,columns)){cellCtrl.refreshOrDestroyCell(refreshCellParams);}this.refreshFullWidth(rowNodes);}refreshRows(){var params=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};this.getRowCtrls(params.rowNodes).forEach(rowCtrl=>rowCtrl.refreshRow(params));this.refreshFullWidth(params.rowNodes);}refreshFullWidth(rowNodes){if(!rowNodes){return;}var rowRedrawn=false;for(var rowCtrl of this.getRowCtrls(rowNodes)){if(!rowCtrl.isFullWidth()){continue;}var refreshed=rowCtrl.refreshFullWidth();if(!refreshed){rowRedrawn=true;this.redrawRow(rowCtrl.rowNode,true);}}if(rowRedrawn){this.dispatchDisplayedRowsChanged(false);}}/**\n   * @param rowNodes if provided, returns the RowCtrls for the provided rowNodes. otherwise returns all RowCtrls.\n   */getRowCtrls(rowNodes){var rowIdsMap=mapRowNodes(rowNodes);var allRowCtrls=this.getAllRowCtrls();if(!rowNodes||!rowIdsMap){return allRowCtrls;}return allRowCtrls.filter(rowCtrl=>{var rowNode=rowCtrl.rowNode;return isRowInMap(rowNode,rowIdsMap);});}// returns CellCtrl's that match the provided rowNodes and columns. eg if one row node\n// and two columns provided, that identifies 4 cells, so 4 CellCtrl's returned.\ngetCellCtrls(rowNodes,columns){var colIdsMap;if(_exists(columns)){colIdsMap={};columns.forEach(colKey=>{var column=this.colModel.getCol(colKey);if(_exists(column)){colIdsMap[column.getId()]=true;}});}var res=[];this.getRowCtrls(rowNodes).forEach(rowCtrl=>{rowCtrl.getAllCellCtrls().forEach(cellCtrl=>{var colId=cellCtrl.column.getId();var excludeColFromRefresh=colIdsMap&&!colIdsMap[colId];if(excludeColFromRefresh){return;}res.push(cellCtrl);});});return res;}destroy(){this.removeAllRowComps(true);super.destroy();}removeAllRowComps(){var _this$stickyRowFeatur7;var suppressAnimation=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var rowIndexesToRemove=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(rowIndexesToRemove,suppressAnimation);(_this$stickyRowFeatur7=this.stickyRowFeature)===null||_this$stickyRowFeatur7===void 0||_this$stickyRowFeatur7.destroyStickyCtrls();}getRowsToRecycle(){var stubNodeIndexes=[];for(var index of Object.keys(this.rowCtrlsByRowIndex)){var rowCtrl=this.rowCtrlsByRowIndex[index];var stubNode=rowCtrl.rowNode.id==null;if(stubNode){stubNodeIndexes.push(index);}}this.removeRowCtrls(stubNodeIndexes);var ctrlsByIdMap={};for(var _rowCtrl of Object.values(this.rowCtrlsByRowIndex)){var rowNode=_rowCtrl.rowNode;ctrlsByIdMap[rowNode.id]=_rowCtrl;}this.rowCtrlsByRowIndex={};return ctrlsByIdMap;}// takes array of row indexes\nremoveRowCtrls(rowsToRemove){var suppressAnimation=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;rowsToRemove.forEach(indexToRemove=>{var rowCtrl=this.rowCtrlsByRowIndex[indexToRemove];if(rowCtrl){rowCtrl.destroyFirstPass(suppressAnimation);rowCtrl.destroySecondPass();}delete this.rowCtrlsByRowIndex[indexToRemove];});}onBodyScroll(e){if(e.direction!==\"vertical\"){return;}this.redraw({afterScroll:true});}// gets called when rows don't change, but viewport does, so after:\n// 1) height of grid body changes, ie number of displayed rows has changed\n// 2) grid scrolled to new position\n// 3) ensure index visible (which is a scroll)\nredraw(){var params=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var{focusSvc,animationFrameSvc}=this.beans;var{afterScroll}=params;var cellFocused;var stickyRowFeature=this.stickyRowFeature;if(stickyRowFeature){cellFocused=(focusSvc===null||focusSvc===void 0?void 0:focusSvc.getFocusCellToUseAfterRefresh())||void 0;}var oldFirstRow=this.firstRenderedRow;var oldLastRow=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();var hasStickyRowChanges=false;if(stickyRowFeature){hasStickyRowChanges=stickyRowFeature.checkStickyRows();var extraHeight=stickyRowFeature.extraTopHeight+stickyRowFeature.extraBottomHeight;if(extraHeight){this.updateContainerHeights(extraHeight);}}var rangeChanged=this.firstRenderedRow!==oldFirstRow||this.lastRenderedRow!==oldLastRow;if(afterScroll&&!hasStickyRowChanges&&!rangeChanged){return;}this.getLockOnRefresh();this.recycleRows(null,false,afterScroll);this.releaseLockOnRefresh();this.dispatchDisplayedRowsChanged(afterScroll&&!hasStickyRowChanges);if(cellFocused!=null){var newFocusedCell=focusSvc===null||focusSvc===void 0?void 0:focusSvc.getFocusCellToUseAfterRefresh();if(cellFocused!=null&&newFocusedCell==null){animationFrameSvc===null||animationFrameSvc===void 0||animationFrameSvc.flushAllFrames();this.restoreFocusedCell(cellFocused);}}}removeRowCompsNotToDraw(indexesToDraw,suppressAnimation){var indexesToDrawMap={};indexesToDraw.forEach(index=>indexesToDrawMap[index]=true);var existingIndexes=Object.keys(this.rowCtrlsByRowIndex);var indexesNotToDraw=existingIndexes.filter(index=>!indexesToDrawMap[index]);this.removeRowCtrls(indexesNotToDraw,suppressAnimation);}calculateIndexesToDraw(rowsToRecycle){var _this$beans$focusSvc2;var indexesToDraw=[];for(var i=this.firstRenderedRow;i<=this.lastRenderedRow;i++){indexesToDraw.push(i);}var pagination=this.beans.pagination;var focusedRowIndex=(_this$beans$focusSvc2=this.beans.focusSvc)===null||_this$beans$focusSvc2===void 0||(_this$beans$focusSvc2=_this$beans$focusSvc2.getFocusedCell())===null||_this$beans$focusSvc2===void 0?void 0:_this$beans$focusSvc2.rowIndex;if(focusedRowIndex!=null&&(focusedRowIndex<this.firstRenderedRow||focusedRowIndex>this.lastRenderedRow)&&(!pagination||pagination.isRowInPage(focusedRowIndex))&&focusedRowIndex<this.rowModel.getRowCount()){indexesToDraw.push(focusedRowIndex);}var checkRowToDraw=rowComp=>{var index=rowComp.rowNode.rowIndex;if(index==null||index===focusedRowIndex){return;}if(index<this.firstRenderedRow||index>this.lastRenderedRow){if(this.doNotUnVirtualiseRow(rowComp)){indexesToDraw.push(index);}}};for(var rowCtrl of Object.values(this.rowCtrlsByRowIndex)){checkRowToDraw(rowCtrl);}if(rowsToRecycle){for(var _rowCtrl2 of Object.values(rowsToRecycle)){checkRowToDraw(_rowCtrl2);}}indexesToDraw.sort((a,b)=>a-b);var ret=[];for(var _i0=0;_i0<indexesToDraw.length;_i0++){var currRow=indexesToDraw[_i0];var rowNode=this.rowModel.getRow(currRow);if(rowNode&&!rowNode.sticky){ret.push(currRow);}}return ret;}recycleRows(rowsToRecycle){var animate=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var afterScroll=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var indexesToDraw=this.calculateIndexesToDraw(rowsToRecycle);if(this.printLayout||afterScroll){animate=false;}this.removeRowCompsNotToDraw(indexesToDraw,!animate);var rowCtrls=[];indexesToDraw.forEach(rowIndex=>{var rowCtrl=this.createOrUpdateRowCtrl(rowIndex,rowsToRecycle,animate,afterScroll);if(_exists(rowCtrl)){rowCtrls.push(rowCtrl);}});if(rowsToRecycle){var{animationFrameSvc}=this.beans;var useAnimationFrame=(animationFrameSvc===null||animationFrameSvc===void 0?void 0:animationFrameSvc.active)&&afterScroll&&!this.printLayout;if(useAnimationFrame){animationFrameSvc.addDestroyTask(()=>{this.destroyRowCtrls(rowsToRecycle,animate);this.updateAllRowCtrls();this.dispatchDisplayedRowsChanged();});}else{this.destroyRowCtrls(rowsToRecycle,animate);}}this.updateAllRowCtrls();}dispatchDisplayedRowsChanged(){var afterScroll=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;this.eventSvc.dispatchEvent({type:\"displayedRowsChanged\",afterScroll});}onDisplayedColumnsChanged(){var{visibleCols}=this.beans;var pinningLeft=visibleCols.isPinningLeft();var pinningRight=visibleCols.isPinningRight();var atLeastOneChanged=this.pinningLeft!==pinningLeft||pinningRight!==this.pinningRight;if(atLeastOneChanged){this.pinningLeft=pinningLeft;this.pinningRight=pinningRight;if(this.embedFullWidthRows){this.redrawFullWidthEmbeddedRows();}}}// when embedding, what gets showed in each section depends on what is pinned. eg if embedding group expand / collapse,\n// then it should go into the pinned left area if pinning left, or the center area if not pinning.\nredrawFullWidthEmbeddedRows(){var rowsToRemove=[];this.getFullWidthRowCtrls().forEach(fullWidthCtrl=>{var rowIndex=fullWidthCtrl.rowNode.rowIndex;rowsToRemove.push(rowIndex.toString());});this.refreshFloatingRowComps();this.removeRowCtrls(rowsToRemove);this.redraw({afterScroll:true});}getFullWidthRowCtrls(rowNodes){var rowNodesMap=mapRowNodes(rowNodes);return this.getAllRowCtrls().filter(rowCtrl=>{if(!rowCtrl.isFullWidth()){return false;}var rowNode=rowCtrl.rowNode;if(rowNodesMap!=null&&!isRowInMap(rowNode,rowNodesMap)){return false;}return true;});}createOrUpdateRowCtrl(rowIndex,rowsToRecycle,animate,afterScroll){var rowNode;var rowCtrl=this.rowCtrlsByRowIndex[rowIndex];if(!rowCtrl){rowNode=this.rowModel.getRow(rowIndex);if(_exists(rowNode)&&_exists(rowsToRecycle)&&rowsToRecycle[rowNode.id]&&rowNode.alreadyRendered){rowCtrl=rowsToRecycle[rowNode.id];rowsToRecycle[rowNode.id]=null;}}var creatingNewRowCtrl=!rowCtrl;if(creatingNewRowCtrl){if(!rowNode){rowNode=this.rowModel.getRow(rowIndex);}if(_exists(rowNode)){rowCtrl=this.createRowCon(rowNode,animate,afterScroll);}else{return;}}if(rowNode){rowNode.alreadyRendered=true;}this.rowCtrlsByRowIndex[rowIndex]=rowCtrl;return rowCtrl;}destroyRowCtrls(rowCtrlsMap,animate){var _this5=this;var executeInAWhileFuncs=[];if(rowCtrlsMap){var _loop0=function _loop0(rowCtrl){if(!rowCtrl){return 0;// continue\n}if(_this5.cachedRowCtrls&&rowCtrl.isCacheable()){_this5.cachedRowCtrls.addRow(rowCtrl);return 0;// continue\n}rowCtrl.destroyFirstPass(!animate);if(animate){var instanceId=rowCtrl.instanceId;_this5.zombieRowCtrls[instanceId]=rowCtrl;executeInAWhileFuncs.push(()=>{rowCtrl.destroySecondPass();delete _this5.zombieRowCtrls[instanceId];});}else{rowCtrl.destroySecondPass();}},_ret;for(var rowCtrl of Object.values(rowCtrlsMap)){_ret=_loop0(rowCtrl);if(_ret===0)continue;}}if(animate){executeInAWhileFuncs.push(()=>{this.updateAllRowCtrls();this.dispatchDisplayedRowsChanged();});window.setTimeout(()=>executeInAWhileFuncs.forEach(func=>func()),ROW_ANIMATION_TIMEOUT);}}getRowBuffer(){return this.gos.get(\"rowBuffer\");}getRowBufferInPixels(){var rowsToBuffer=this.getRowBuffer();var defaultRowHeight=_getRowHeightAsNumber(this.beans);return rowsToBuffer*defaultRowHeight;}workOutFirstAndLastRowsToRender(){var{rowContainerHeight,pageBounds,rowModel}=this;rowContainerHeight.updateOffset();var newFirst;var newLast;if(!rowModel.isRowsToRender()){newFirst=0;newLast=-1;}else if(this.printLayout){this.beans.environment.refreshRowHeightVariable();newFirst=pageBounds.getFirstRow();newLast=pageBounds.getLastRow();}else{var bufferPixels=this.getRowBufferInPixels();var scrollFeature=this.ctrlsSvc.getScrollFeature();var suppressRowVirtualisation=this.gos.get(\"suppressRowVirtualisation\");var rowHeightsChanged=false;var firstPixel;var lastPixel;do{var paginationOffset=pageBounds.getPixelOffset();var{pageFirstPixel,pageLastPixel}=pageBounds.getCurrentPagePixelRange();var divStretchOffset=rowContainerHeight.divStretchOffset;var bodyVRange=scrollFeature.getVScrollPosition();var bodyTopPixel=bodyVRange.top;var bodyBottomPixel=bodyVRange.bottom;if(suppressRowVirtualisation){firstPixel=pageFirstPixel+divStretchOffset;lastPixel=pageLastPixel+divStretchOffset;}else{firstPixel=Math.max(bodyTopPixel+paginationOffset-bufferPixels,pageFirstPixel)+divStretchOffset;lastPixel=Math.min(bodyBottomPixel+paginationOffset+bufferPixels,pageLastPixel)+divStretchOffset;}this.firstVisibleVPixel=Math.max(bodyTopPixel+paginationOffset,pageFirstPixel)+divStretchOffset;this.lastVisibleVPixel=Math.min(bodyBottomPixel+paginationOffset,pageLastPixel)+divStretchOffset;rowHeightsChanged=this.ensureAllRowsInRangeHaveHeightsCalculated(firstPixel,lastPixel);}while(rowHeightsChanged);var firstRowIndex=rowModel.getRowIndexAtPixel(firstPixel);var lastRowIndex=rowModel.getRowIndexAtPixel(lastPixel);var pageFirstRow=pageBounds.getFirstRow();var pageLastRow=pageBounds.getLastRow();if(firstRowIndex<pageFirstRow){firstRowIndex=pageFirstRow;}if(lastRowIndex>pageLastRow){lastRowIndex=pageLastRow;}newFirst=firstRowIndex;newLast=lastRowIndex;}var rowLayoutNormal=_isDomLayout(this.gos,\"normal\");var suppressRowCountRestriction=this.gos.get(\"suppressMaxRenderedRowRestriction\");var rowBufferMaxSize=Math.max(this.getRowBuffer(),500);if(rowLayoutNormal&&!suppressRowCountRestriction){if(newLast-newFirst>rowBufferMaxSize){newLast=newFirst+rowBufferMaxSize;}}var firstDiffers=newFirst!==this.firstRenderedRow;var lastDiffers=newLast!==this.lastRenderedRow;if(firstDiffers||lastDiffers){this.firstRenderedRow=newFirst;this.lastRenderedRow=newLast;this.eventSvc.dispatchEvent({type:\"viewportChanged\",firstRow:newFirst,lastRow:newLast});}}/**\n   * This event will only be fired once, and is queued until after the browser next renders.\n   * This allows us to fire an event during the start of the render cycle, when we first see data being rendered\n   * but not execute the event until all of the data has finished being rendered to the dom.\n   */dispatchFirstDataRenderedEvent(){if(this.dataFirstRenderedFired){return;}this.dataFirstRenderedFired=true;_requestAnimationFrame(this.beans,()=>{this.beans.eventSvc.dispatchEvent({type:\"firstDataRendered\",firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow});});}ensureAllRowsInRangeHaveHeightsCalculated(topPixel,bottomPixel){var _this$pinnedRowModel2,_this$stickyRowFeatur8;var pinnedRowHeightsChanged=(_this$pinnedRowModel2=this.pinnedRowModel)===null||_this$pinnedRowModel2===void 0?void 0:_this$pinnedRowModel2.ensureRowHeightsValid();var stickyHeightsChanged=(_this$stickyRowFeatur8=this.stickyRowFeature)===null||_this$stickyRowFeatur8===void 0?void 0:_this$stickyRowFeatur8.ensureRowHeightsValid();var{pageBounds,rowModel}=this;var rowModelHeightsChanged=rowModel.ensureRowHeightsValid(topPixel,bottomPixel,pageBounds.getFirstRow(),pageBounds.getLastRow());if(rowModelHeightsChanged||stickyHeightsChanged){this.eventSvc.dispatchEvent({type:\"recalculateRowBounds\"});}if(stickyHeightsChanged||rowModelHeightsChanged||pinnedRowHeightsChanged){this.updateContainerHeights();return true;}return false;}// check that none of the rows to remove are editing or focused as:\n// a) if editing, we want to keep them, otherwise the user will loose the context of the edit,\n//    eg user starts editing, enters some text, then scrolls down and then up, next time row rendered\n//    the edit is reset - so we want to keep it rendered.\n// b) if focused, we want ot keep keyboard focus, so if user ctrl+c, it goes to clipboard,\n//    otherwise the user can range select and drag (with focus cell going out of the viewport)\n//    and then ctrl+c, nothing will happen if cell is removed from dom.\n// c) if detail record of master detail, as users complained that the context of detail rows\n//    was getting lost when detail row out of view. eg user expands to show detail row,\n//    then manipulates the detail panel (eg sorts the detail grid), then context is lost\n//    after detail panel is scrolled out of / into view.\ndoNotUnVirtualiseRow(rowCtrl){var _this$editSvc8;var REMOVE_ROW=false;var KEEP_ROW=true;var rowNode=rowCtrl.rowNode;var rowHasFocus=this.focusSvc.isRowFocused(rowNode.rowIndex,rowNode.rowPinned);var rowIsEditing=(_this$editSvc8=this.editSvc)===null||_this$editSvc8===void 0?void 0:_this$editSvc8.isEditing(rowCtrl);var rowIsDetail=rowNode.detail;var mightWantToKeepRow=rowHasFocus||rowIsEditing||rowIsDetail;if(!mightWantToKeepRow){return REMOVE_ROW;}var rowNodePresent=this.isRowPresent(rowNode);return rowNodePresent?KEEP_ROW:REMOVE_ROW;}isRowPresent(rowNode){var _this$beans$paginatio3,_this$beans$paginatio4;if(!this.rowModel.isRowPresent(rowNode)){return false;}return(_this$beans$paginatio3=(_this$beans$paginatio4=this.beans.pagination)===null||_this$beans$paginatio4===void 0?void 0:_this$beans$paginatio4.isRowInPage(rowNode.rowIndex))!==null&&_this$beans$paginatio3!==void 0?_this$beans$paginatio3:true;}createRowCon(rowNode,animate,afterScroll){var _this$cachedRowCtrls$2,_this$cachedRowCtrls3,_this$beans$animation;var rowCtrlFromCache=(_this$cachedRowCtrls$2=(_this$cachedRowCtrls3=this.cachedRowCtrls)===null||_this$cachedRowCtrls3===void 0?void 0:_this$cachedRowCtrls3.getRow(rowNode))!==null&&_this$cachedRowCtrls$2!==void 0?_this$cachedRowCtrls$2:null;if(rowCtrlFromCache){return rowCtrlFromCache;}var useAnimationFrameForCreate=afterScroll&&!this.printLayout&&!!((_this$beans$animation=this.beans.animationFrameSvc)!==null&&_this$beans$animation!==void 0&&_this$beans$animation.active);var res=new RowCtrl(rowNode,this.beans,animate,useAnimationFrameForCreate,this.printLayout);return res;}getRenderedNodes(){var viewportRows=Object.values(this.rowCtrlsByRowIndex).map(rowCtrl=>rowCtrl.rowNode);var stickyTopRows=this.getStickyTopRowCtrls().map(rowCtrl=>rowCtrl.rowNode);var stickyBottomRows=this.getStickyBottomRowCtrls().map(rowCtrl=>rowCtrl.rowNode);return[...stickyTopRows,...viewportRows,...stickyBottomRows];}getRowByPosition(rowPosition){var rowCtrl;var{rowIndex}=rowPosition;switch(rowPosition.rowPinned){case\"top\":rowCtrl=this.topRowCtrls[rowIndex];break;case\"bottom\":rowCtrl=this.bottomRowCtrls[rowIndex];break;default:rowCtrl=this.rowCtrlsByRowIndex[rowIndex];if(!rowCtrl){rowCtrl=this.getStickyTopRowCtrls().find(ctrl=>ctrl.rowNode.rowIndex===rowIndex)||null;if(!rowCtrl){rowCtrl=this.getStickyBottomRowCtrls().find(ctrl=>ctrl.rowNode.rowIndex===rowIndex)||null;}}break;}return rowCtrl;}// returns true if any row between startIndex and endIndex is rendered. used by\n// SSRM or IRM, as they don't want to purge visible blocks from cache.\nisRangeInRenderedViewport(startIndex,endIndex){var parentClosed=startIndex==null||endIndex==null;if(parentClosed){return false;}var blockAfterViewport=startIndex>this.lastRenderedRow;var blockBeforeViewport=endIndex<this.firstRenderedRow;var blockInsideViewport=!blockBeforeViewport&&!blockAfterViewport;return blockInsideViewport;}};var RowCtrlCache=class{constructor(maxCount){// map for fast access\nthis.entriesMap={};// list for keeping order\nthis.entriesList=[];this.maxCount=maxCount;}addRow(rowCtrl){this.entriesMap[rowCtrl.rowNode.id]=rowCtrl;this.entriesList.push(rowCtrl);rowCtrl.setCached(true);if(this.entriesList.length>this.maxCount){var rowCtrlToDestroy=this.entriesList[0];rowCtrlToDestroy.destroyFirstPass();rowCtrlToDestroy.destroySecondPass();this.removeFromCache(rowCtrlToDestroy);}}getRow(rowNode){if(rowNode==null||rowNode.id==null){return null;}var res=this.entriesMap[rowNode.id];if(!res){return null;}this.removeFromCache(res);res.setCached(false);var rowNodeMismatch=res.rowNode!=rowNode;return rowNodeMismatch?null:res;}has(rowNode){return this.entriesMap[rowNode.id]!=null;}removeRow(rowNode){var rowNodeId=rowNode.id;var ctrl=this.entriesMap[rowNodeId];delete this.entriesMap[rowNodeId];_removeFromArray(this.entriesList,ctrl);}removeFromCache(rowCtrl){var rowNodeId=rowCtrl.rowNode.id;delete this.entriesMap[rowNodeId];_removeFromArray(this.entriesList,rowCtrl);}getEntries(){return this.entriesList;}};function mapRowNodes(rowNodes){if(!rowNodes){return;}var res={top:{},bottom:{},normal:{}};rowNodes.forEach(rowNode=>{var id=rowNode.id;switch(rowNode.rowPinned){case\"top\":res.top[id]=rowNode;break;case\"bottom\":res.bottom[id]=rowNode;break;default:res.normal[id]=rowNode;break;}});return res;}function isRowInMap(rowNode,rowIdsMap){var id=rowNode.id;var floating=rowNode.rowPinned;switch(floating){case\"top\":return rowIdsMap.top[id]!=null;case\"bottom\":return rowIdsMap.bottom[id]!=null;default:return rowIdsMap.normal[id]!=null;}}// packages/ag-grid-community/src/sort/rowNodeSorter.ts\nvar RowNodeSorter=class extends BeanStub{constructor(){super(...arguments);this.beanName=\"rowNodeSorter\";}postConstruct(){var{gos}=this;this.isAccentedSort=gos.get(\"accentedSort\");this.primaryColumnsSortGroups=_isColumnsSortingCoupledToGroup(gos);this.addManagedPropertyListener(\"accentedSort\",propChange=>this.isAccentedSort=propChange.currentValue);this.addManagedPropertyListener(\"autoGroupColumnDef\",()=>this.primaryColumnsSortGroups=_isColumnsSortingCoupledToGroup(gos));}doFullSort(rowNodes,sortOptions){var sortedRowNodes=rowNodes.map((rowNode,currentPos)=>({currentPos,rowNode}));sortedRowNodes.sort(this.compareRowNodes.bind(this,sortOptions));return sortedRowNodes.map(item=>item.rowNode);}compareRowNodes(sortOptions,sortedNodeA,sortedNodeB){var nodeA=sortedNodeA.rowNode;var nodeB=sortedNodeB.rowNode;for(var i=0,len=sortOptions.length;i<len;i++){var sortOption=sortOptions[i];var isDescending=sortOption.sort===\"desc\";var valueA=this.getValue(nodeA,sortOption.column);var valueB=this.getValue(nodeB,sortOption.column);var comparatorResult=void 0;var providedComparator=this.getComparator(sortOption,nodeA);if(providedComparator){comparatorResult=providedComparator(valueA,valueB,nodeA,nodeB,isDescending);}else{comparatorResult=_defaultComparator(valueA,valueB,this.isAccentedSort);}var validResult=!isNaN(comparatorResult);if(validResult&&comparatorResult!==0){return sortOption.sort===\"asc\"?comparatorResult:comparatorResult*-1;}}return sortedNodeA.currentPos-sortedNodeB.currentPos;}getComparator(sortOption,rowNode){var column=sortOption.column;var comparatorOnCol=column.getColDef().comparator;if(comparatorOnCol!=null){return comparatorOnCol;}if(!column.getColDef().showRowGroup){return;}var groupLeafField=!rowNode.group&&column.getColDef().field;if(!groupLeafField){return;}var primaryColumn=this.beans.colModel.getColDefCol(groupLeafField);if(!primaryColumn){return;}return primaryColumn.getColDef().comparator;}getValue(node,column){var{valueSvc,colModel,showRowGroupCols,gos}=this.beans;if(!this.primaryColumnsSortGroups){return valueSvc.getValue(column,node,false);}var isNodeGroupedAtLevel=node.rowGroupColumn===column;if(isNodeGroupedAtLevel){var _node$groupData;var isGroupRows=_isGroupUseEntireRow(gos,colModel.isPivotActive());if(isGroupRows){var _node$allLeafChildren;var leafChild=(_node$allLeafChildren=node.allLeafChildren)===null||_node$allLeafChildren===void 0?void 0:_node$allLeafChildren[0];if(leafChild){return valueSvc.getValue(column,leafChild,false);}return void 0;}var displayCol=showRowGroupCols===null||showRowGroupCols===void 0?void 0:showRowGroupCols.getShowRowGroupCol(column.getId());if(!displayCol){return void 0;}return(_node$groupData=node.groupData)===null||_node$groupData===void 0?void 0:_node$groupData[displayCol.getId()];}if(node.group&&column.getColDef().showRowGroup){return void 0;}return valueSvc.getValue(column,node,false);}};// packages/ag-grid-community/src/sort/sortApi.ts\nfunction onSortChanged(beans){var _beans$sortSvc;(_beans$sortSvc=beans.sortSvc)===null||_beans$sortSvc===void 0||_beans$sortSvc.onSortChanged(\"api\");}// packages/ag-grid-community/src/sort/sortModule.ts\nvar SortModule={moduleName:\"Sort\",version:VERSION,beans:[SortService,RowNodeSorter],apiFunctions:{onSortChanged},userComponents:{agSortIndicator:SortIndicatorComp},icons:{// show on column header when column is sorted ascending\nsortAscending:\"asc\",// show on column header when column is sorted descending\nsortDescending:\"desc\",// show on column header when column has no sort, only when enabled with gridOptions.unSortIcon=true\nsortUnSort:\"none\"}};// packages/ag-grid-community/src/syncService.ts\nvar SyncService=class extends BeanStub{constructor(){super(...arguments);this.beanName=\"syncSvc\";this.waitingForColumns=false;}postConstruct(){this.addManagedPropertyListener(\"columnDefs\",event=>this.setColumnDefs(event));}start(){this.beans.ctrlsSvc.whenReady(this,()=>{var columnDefs=this.gos.get(\"columnDefs\");if(columnDefs){this.setColumnsAndData(columnDefs);}else{this.waitingForColumns=true;}this.gridReady();});}setColumnsAndData(columnDefs){var{colModel,rowModel}=this.beans;colModel.setColumnDefs(columnDefs!==null&&columnDefs!==void 0?columnDefs:[],\"gridInitializing\");rowModel.start();}gridReady(){var{eventSvc,gos}=this;eventSvc.dispatchEvent({type:\"gridReady\"});_logIfDebug(gos,\"initialised successfully, enterprise = \".concat(gos.isModuleRegistered(\"EnterpriseCore\")));}setColumnDefs(event){var columnDefs=this.gos.get(\"columnDefs\");if(!columnDefs){return;}if(this.waitingForColumns){this.waitingForColumns=false;this.setColumnsAndData(columnDefs);return;}this.beans.colModel.setColumnDefs(columnDefs,_convertColumnEventSourceType(event.source));}};// packages/ag-grid-community/src/valueService/cellApi.ts\nfunction expireValueCache(beans){var _beans$valueCache;(_beans$valueCache=beans.valueCache)===null||_beans$valueCache===void 0||_beans$valueCache.expire();}function getCellValue(beans,params){var _beans$colModel$getCo;var{colKey,rowNode,useFormatter}=params;var column=(_beans$colModel$getCo=beans.colModel.getColDefCol(colKey))!==null&&_beans$colModel$getCo!==void 0?_beans$colModel$getCo:beans.colModel.getCol(colKey);if(_missing(column)){return null;}var value=beans.valueSvc.getValueForDisplay(column,rowNode).value;if(useFormatter){var formattedValue=beans.valueSvc.formatValue(column,rowNode,value);return formattedValue!==null&&formattedValue!==void 0?formattedValue:_toString(value);}return value;}// packages/ag-grid-community/src/valueService/changeDetectionService.ts\nvar SOURCE_PASTE=\"paste\";var ChangeDetectionService=class extends BeanStub{constructor(){super(...arguments);this.beanName=\"changeDetectionSvc\";this.clientSideRowModel=null;}postConstruct(){var{gos,rowModel}=this.beans;if(_isClientSideRowModel(gos,rowModel)){this.clientSideRowModel=rowModel;}this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this)});}onCellValueChanged(event){var{gos,rowRenderer}=this.beans;if(event.source===SOURCE_PASTE||gos.get(\"suppressChangeDetection\")){return;}var rowNode=event.node;var nodesToRefresh=[rowNode];var clientSideRowModel=this.clientSideRowModel;var rootNode=clientSideRowModel===null||clientSideRowModel===void 0?void 0:clientSideRowModel.rootNode;if(rootNode&&!rowNode.isRowPinned()){var onlyChangedColumns=gos.get(\"aggregateOnlyChangedColumns\");var changedPath=new ChangedPath(onlyChangedColumns,rootNode);changedPath.addParentNode(rowNode.parent,[event.column]);clientSideRowModel.doAggregate(changedPath);changedPath.forEachChangedNodeDepthFirst(rowNode2=>{nodesToRefresh.push(rowNode2);if(rowNode2.sibling){nodesToRefresh.push(rowNode2.sibling);}});}rowRenderer.refreshCells({rowNodes:nodesToRefresh});}};// packages/ag-grid-community/src/valueService/expressionService.ts\nvar ExpressionService=class extends BeanStub{constructor(){super(...arguments);this.beanName=\"expressionSvc\";this.cache={};}evaluate(expression,params){if(typeof expression===\"string\"){return this.evaluateExpression(expression,params);}else{_error(15,{expression});}}evaluateExpression(expression,params){try{var javaScriptFunction=this.createExpressionFunction(expression);var result=javaScriptFunction(params.value,params.context,params.oldValue,params.newValue,params.value,params.node,params.data,params.colDef,params.rowIndex,params.api,params.getValue,params.column,params.columnGroup);return result;}catch(e){_error(16,{expression,params,e});return null;}}createExpressionFunction(expression){var expressionToFunctionCache=this.cache;if(expressionToFunctionCache[expression]){return expressionToFunctionCache[expression];}var functionBody=this.createFunctionBody(expression);var theFunction=new Function(\"x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, getValue, column, columnGroup\",functionBody);expressionToFunctionCache[expression]=theFunction;return theFunction;}createFunctionBody(expression){if(expression.indexOf(\"return\")>=0){return expression;}else{return\"return \"+expression+\";\";}}};// packages/ag-grid-community/src/valueService/valueCache.ts\nvar ValueCache=class extends BeanStub{constructor(){super(...arguments);this.beanName=\"valueCache\";this.cacheVersion=0;}postConstruct(){var gos=this.gos;this.active=gos.get(\"valueCache\");this.neverExpires=gos.get(\"valueCacheNeverExpires\");}onDataChanged(){if(this.neverExpires){return;}this.expire();}expire(){this.cacheVersion++;}setValue(rowNode,colId,value){if(this.active){var cacheVersion=this.cacheVersion;if(rowNode.__cacheVersion!==cacheVersion){rowNode.__cacheVersion=cacheVersion;rowNode.__cacheData={};}rowNode.__cacheData[colId]=value;}}getValue(rowNode,colId){if(!this.active||rowNode.__cacheVersion!==this.cacheVersion){return void 0;}return rowNode.__cacheData[colId];}};// packages/ag-grid-community/src/valueService/valueModule.ts\nvar ValueCacheModule={moduleName:\"ValueCache\",version:VERSION,beans:[ValueCache],apiFunctions:{expireValueCache}};var ExpressionModule={moduleName:\"Expression\",version:VERSION,beans:[ExpressionService]};var ChangeDetectionModule={moduleName:\"ChangeDetection\",version:VERSION,beans:[ChangeDetectionService]};var CellApiModule={moduleName:\"CellApi\",version:VERSION,apiFunctions:{getCellValue}};// packages/ag-grid-community/src/valueService/valueService.ts\nvar EDITING_CHECK_SIBLINGS={checkSiblings:true};var ValueService=class extends BeanStub{constructor(){super(...arguments);this.beanName=\"valueSvc\";this.hasEdit=false;this.initialised=false;this.isSsrm=false;}wireBeans(beans){this.expressionSvc=beans.expressionSvc;this.colModel=beans.colModel;this.valueCache=beans.valueCache;this.dataTypeSvc=beans.dataTypeSvc;this.editSvc=beans.editSvc;this.hasEdit=!!beans.editSvc;}postConstruct(){if(!this.initialised){this.init();}}init(){this.executeValueGetter=this.valueCache?this.executeValueGetterWithValueCache.bind(this):this.executeValueGetterWithoutValueCache.bind(this);this.isSsrm=_isServerSideRowModel(this.gos);this.cellExpressions=this.gos.get(\"enableCellExpressions\");this.isTreeData=this.gos.get(\"treeData\");this.initialised=true;var listener=event=>this.callColumnCellValueChangedHandler(event);this.eventSvc.addEventListener(\"cellValueChanged\",listener,true);this.addDestroyFunc(()=>this.eventSvc.removeEventListener(\"cellValueChanged\",listener,true));this.addManagedPropertyListener(\"treeData\",propChange=>this.isTreeData=propChange.currentValue);}/**\n   * Use this function to get a displayable cell value.\n   * The values from this function are not used for sorting, filtering, or aggregation purposes.\n   * Handles: groupHideOpenParents, showOpenedGroup and groupSuppressBlankHeader behaviours\n   */getValueForDisplay(column,node){var includeValueFormatted=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var exporting=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var source=arguments.length>4&&arguments[4]!==undefined?arguments[4]:\"ui\";var{showRowGroupColValueSvc}=this.beans;var isFullWidthGroup=!column&&node.group;var isGroupCol=column===null||column===void 0?void 0:column.colDef.showRowGroup;var processTreeDataAsGroup=!this.isTreeData||node.footer;if(showRowGroupColValueSvc&&processTreeDataAsGroup&&(isFullWidthGroup||isGroupCol)){var groupValue=showRowGroupColValueSvc.getGroupValue(node,column);if(groupValue==null){return{value:null,valueFormatted:null};}if(!includeValueFormatted){return{value:groupValue.value,valueFormatted:null};}var valueFormatted=showRowGroupColValueSvc.formatAndPrefixGroupColValue(groupValue,column,exporting);return{value:groupValue.value,valueFormatted};}if(!column){return{value:node.key,valueFormatted:null};}var isPivotLeaf=node.leafGroup&&this.colModel.isPivotMode();var isOpenedGroup=node.group&&node.expanded&&!node.footer&&!isPivotLeaf;var groupShowsAggData=this.gos.get(\"groupSuppressBlankHeader\")||!node.sibling;var ignoreAggData=isOpenedGroup&&!groupShowsAggData;var value=this.getValue(column,node,ignoreAggData,source);var format=includeValueFormatted&&!(exporting&&column.colDef.useValueFormatterForExport===false);return{value,valueFormatted:format?this.formatValue(column,node,value):null};}getValue(column,rowNode){var ignoreAggData=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var source=arguments.length>3&&arguments[3]!==undefined?arguments[3]:\"ui\";if(!this.initialised){this.init();}if(!rowNode){return;}var colDef=column.getColDef();var field=colDef.field;var colId=column.getColId();var data=rowNode.data;if(this.hasEdit&&source===\"ui\"){var editSvc=this.editSvc;if(editSvc.isRowEditing(rowNode,EDITING_CHECK_SIBLINGS)){data=editSvc.getRowDataValue(rowNode,EDITING_CHECK_SIBLINGS);}if(editSvc.isEditing()){var newValue=editSvc.getCellDataValue({rowNode,column});if(newValue!==void 0){return newValue;}}}var result;var rowGroupColId=colDef.showRowGroup;if(typeof rowGroupColId===\"string\"){var _this$beans$rowGroupC,_this$beans$rowGroupC2;var colRowGroupIndex=(_this$beans$rowGroupC=(_this$beans$rowGroupC2=this.beans.rowGroupColsSvc)===null||_this$beans$rowGroupC2===void 0?void 0:_this$beans$rowGroupC2.getColumnIndex(rowGroupColId))!==null&&_this$beans$rowGroupC!==void 0?_this$beans$rowGroupC:-1;if(colRowGroupIndex>rowNode.level){return null;}}var allowUserValuesForCell=typeof rowGroupColId!==\"string\"||!rowNode.group;var groupDataExists=rowNode.groupData&&colId in rowNode.groupData;var aggDataExists=!ignoreAggData&&rowNode.aggData&&rowNode.aggData[colId]!==void 0;var ignoreSsrmAggData=this.isSsrm&&ignoreAggData&&!!colDef.aggFunc;var ssrmFooterGroupCol=this.isSsrm&&rowNode.footer&&rowNode.field&&(colDef.showRowGroup===true||colDef.showRowGroup===rowNode.field);if(this.isTreeData&&aggDataExists){result=rowNode.aggData[colId];}else if(this.isTreeData&&colDef.valueGetter){result=this.executeValueGetter(colDef.valueGetter,data,column,rowNode);}else if(this.isTreeData&&field&&data){result=_getValueUsingField(data,field,column.isFieldContainsDots());}else if(groupDataExists){result=rowNode.groupData[colId];}else if(aggDataExists){result=rowNode.aggData[colId];}else if(colDef.valueGetter&&!ignoreSsrmAggData){if(!allowUserValuesForCell){return result;}result=this.executeValueGetter(colDef.valueGetter,data,column,rowNode);}else if(ssrmFooterGroupCol){result=_getValueUsingField(data,rowNode.field,column.isFieldContainsDots());}else if(field&&data&&!ignoreSsrmAggData){if(!allowUserValuesForCell){return result;}result=_getValueUsingField(data,field,column.isFieldContainsDots());}if(this.cellExpressions&&typeof result===\"string\"&&result.indexOf(\"=\")===0){var cellValueGetter=result.substring(1);result=this.executeValueGetter(cellValueGetter,data,column,rowNode);}return result;}parseValue(column,rowNode,newValue,oldValue){var colDef=column.getColDef();var valueParser=colDef.valueParser;if(_exists(valueParser)){var _this$expressionSvc;var params=_addGridCommonParams(this.gos,{node:rowNode,data:rowNode===null||rowNode===void 0?void 0:rowNode.data,oldValue,newValue,colDef,column});if(typeof valueParser===\"function\"){return valueParser(params);}return(_this$expressionSvc=this.expressionSvc)===null||_this$expressionSvc===void 0?void 0:_this$expressionSvc.evaluate(valueParser,params);}return newValue;}getDeleteValue(column,rowNode){if(_exists(column.getColDef().valueParser)){var _this$parseValue;return(_this$parseValue=this.parseValue(column,rowNode,\"\",this.getValueForDisplay(column,rowNode).value))!==null&&_this$parseValue!==void 0?_this$parseValue:null;}return null;}formatValue(column,node,value,suppliedFormatter){var useFormatterFromColumn=arguments.length>4&&arguments[4]!==undefined?arguments[4]:true;var{expressionSvc}=this.beans;var result=null;var formatter;var colDef=column.getColDef();if(suppliedFormatter){formatter=suppliedFormatter;}else if(useFormatterFromColumn){formatter=colDef.valueFormatter;}if(formatter){var data=node?node.data:null;if(node){var position={rowNode:node};if(this.hasEdit){var editSvc=this.editSvc;if(editSvc.isEditing(position,EDITING_CHECK_SIBLINGS)){data=editSvc.getRowDataValue(node,EDITING_CHECK_SIBLINGS);}}}var params=_addGridCommonParams(this.gos,{value,node,data,colDef,column});if(typeof formatter===\"function\"){result=formatter(params);}else{result=expressionSvc?expressionSvc.evaluate(formatter,params):null;}}else if(colDef.refData){return colDef.refData[value]||\"\";}if(result==null&&Array.isArray(value)){result=value.join(\", \");}return result;}/**\n   * Sets the value of a GridCell\n   * @param rowNode The `RowNode` to be updated\n   * @param colKey The `Column` to be updated\n   * @param newValue The new value to be set\n   * @param eventSource The event source\n   * @returns `True` if the value has been updated, otherwise`False`.\n   */setValue(rowNode,colKey,newValue,eventSource){var _this$valueCache;var column=this.colModel.getColDefCol(colKey);if(!rowNode||!column){return false;}if(_missing(rowNode.data)){rowNode.data={};}var{field,valueSetter}=column.getColDef();if(_missing(field)&&_missing(valueSetter)){_warn(17);return false;}if(this.dataTypeSvc&&!this.dataTypeSvc.checkType(column,newValue)){_warn(135);return false;}var params=_addGridCommonParams(this.gos,{node:rowNode,data:rowNode.data,oldValue:this.getValue(column,rowNode,void 0,eventSource),newValue,colDef:column.getColDef(),column});params.newValue=newValue;var valueWasDifferent;if(_exists(valueSetter)){if(typeof valueSetter===\"function\"){valueWasDifferent=valueSetter(params);}else{var _this$expressionSvc2;valueWasDifferent=(_this$expressionSvc2=this.expressionSvc)===null||_this$expressionSvc2===void 0?void 0:_this$expressionSvc2.evaluate(valueSetter,params);}}else{valueWasDifferent=this.setValueUsingField(rowNode.data,field,newValue,column.isFieldContainsDots());}if(valueWasDifferent===void 0){valueWasDifferent=true;}if(!valueWasDifferent){return false;}rowNode.resetQuickFilterAggregateText();(_this$valueCache=this.valueCache)===null||_this$valueCache===void 0||_this$valueCache.onDataChanged();var savedValue=this.getValue(column,rowNode);this.dispatchCellValueChangedEvent(rowNode,params,savedValue,eventSource);if(rowNode.pinnedSibling){this.dispatchCellValueChangedEvent(rowNode.pinnedSibling,params,savedValue,eventSource);}return true;}dispatchCellValueChangedEvent(rowNode,params,value,source){this.eventSvc.dispatchEvent({type:\"cellValueChanged\",event:null,rowIndex:rowNode.rowIndex,rowPinned:rowNode.rowPinned,column:params.column,colDef:params.colDef,data:rowNode.data,node:rowNode,oldValue:params.oldValue,newValue:value,value,source});}callColumnCellValueChangedHandler(event){var onCellValueChanged=event.colDef.onCellValueChanged;if(typeof onCellValueChanged===\"function\"){this.beans.frameworkOverrides.wrapOutgoing(()=>{onCellValueChanged({node:event.node,data:event.data,oldValue:event.oldValue,newValue:event.newValue,colDef:event.colDef,column:event.column,api:event.api,context:event.context});});}}setValueUsingField(data,field,newValue,isFieldContainsDots){if(!field){return false;}var valuesAreSame=false;if(!isFieldContainsDots){valuesAreSame=data[field]===newValue;if(!valuesAreSame){data[field]=newValue;}}else{var fieldPieces=field.split(\".\");var currentObject=data;while(fieldPieces.length>0&&currentObject){var fieldPiece=fieldPieces.shift();if(fieldPieces.length===0){valuesAreSame=currentObject[fieldPiece]===newValue;if(!valuesAreSame){currentObject[fieldPiece]=newValue;}}else{currentObject=currentObject[fieldPiece];}}}return!valuesAreSame;}executeValueGetterWithValueCache(valueGetter,data,column,rowNode){var colId=column.getColId();var valueFromCache=this.valueCache.getValue(rowNode,colId);if(valueFromCache!==void 0){return valueFromCache;}var result=this.executeValueGetterWithoutValueCache(valueGetter,data,column,rowNode);this.valueCache.setValue(rowNode,colId,result);return result;}executeValueGetterWithoutValueCache(valueGetter,data,column,rowNode){var params=_addGridCommonParams(this.gos,{data,node:rowNode,column,colDef:column.getColDef(),getValue:this.getValueCallback.bind(this,rowNode)});var result;if(typeof valueGetter===\"function\"){result=valueGetter(params);}else{var _this$expressionSvc3;result=(_this$expressionSvc3=this.expressionSvc)===null||_this$expressionSvc3===void 0?void 0:_this$expressionSvc3.evaluate(valueGetter,params);}return result;}getValueCallback(node,field){var otherColumn=this.colModel.getColDefCol(field);if(otherColumn){return this.getValue(otherColumn,node);}return null;}// used by row grouping and pivot, to get key for a row. col can be a pivot col or a row grouping col\ngetKeyForNode(col,rowNode){var value=this.getValue(col,rowNode);var keyCreator=col.getColDef().keyCreator;var result=value;if(keyCreator){var keyParams=_addGridCommonParams(this.gos,{value,colDef:col.getColDef(),column:col,node:rowNode,data:rowNode.data});result=keyCreator(keyParams);}if(typeof result===\"string\"||result==null){return result;}result=String(result);if(result===\"[object Object]\"){_warn(121);}return result;}};// packages/ag-grid-community/src/gridCoreModule.ts\nvar CommunityCoreModule={moduleName:\"CommunityCore\",version:VERSION,beans:[GridDestroyService,ApiFunctionService,Registry,UserComponentFactory,RowContainerHeightService,VisibleColsService,EventService,GridOptionsService,ColumnModel,PageBoundsService,PageBoundsListener,RowRenderer,ValueService,FocusService,Environment,ScrollVisibleService,CtrlsService,SyncService,ColumnNameService,ColumnViewportService],icons:{// icon on select dropdowns (select cell editor, charts tool panels)\nselectOpen:\"small-down\",/** @deprecated v33 */smallDown:\"small-down\",/** @deprecated v33 */colorPicker:\"color-picker\",/** @deprecated v33 */smallUp:\"small-up\",/** @deprecated v33 */checkboxChecked:\"small-up\",/** @deprecated v33 */checkboxIndeterminate:\"checkbox-indeterminate\",/** @deprecated v33 */checkboxUnchecked:\"checkbox-unchecked\",/** @deprecated v33 */radioButtonOn:\"radio-button-on\",/** @deprecated v33 */radioButtonOff:\"radio-button-off\",/** @deprecated v33 */smallLeft:\"small-left\",/** @deprecated v33 */smallRight:\"small-right\"},apiFunctions:{getGridId,destroy,isDestroyed,getGridOption,setGridOption,updateGridOptions,isModuleRegistered},dependsOn:[DataTypeModule,ColumnMoveModule,ColumnResizeModule,SortModule,ColumnHeaderCompModule,ColumnGroupModule,ColumnGroupHeaderCompModule,OverlayModule,ChangeDetectionModule,AnimationFrameModule,KeyboardNavigationModule,PinnedColumnModule,AriaModule,TouchModule,CellRendererFunctionModule,ColumnFlexModule,ExpressionModule,SkeletonCellRendererModule]};// packages/ag-grid-community/src/utils/fuzzyMatch.ts\nfunction _fuzzySuggestions(params){var{inputValue,allSuggestions,hideIrrelevant,filterByPercentageOfBestMatch}=params;var thisSuggestions=allSuggestions.map((text,idx)=>({value:text,relevance:hybridFuzzySearch(inputValue,text),idx}));thisSuggestions.sort((a,b)=>b.relevance-a.relevance);if(hideIrrelevant){thisSuggestions=thisSuggestions.filter(suggestion=>suggestion.relevance!==0);}if(thisSuggestions.length>0&&filterByPercentageOfBestMatch&&filterByPercentageOfBestMatch>0){var bestMatch=thisSuggestions[0].relevance;var limit=bestMatch*filterByPercentageOfBestMatch;thisSuggestions=thisSuggestions.filter(suggestion=>limit-suggestion.relevance<0);}var values=[];var indices=[];for(var suggestion of thisSuggestions){values.push(suggestion.value);indices.push(suggestion.idx);}return{values,indices};}function hybridFuzzySearch(str1,str2){if(str1===str2){return 1e3;}var len1=str1.length;var len2=str2.length;if(len1===0||len2===0){return 0;}var str1Lower=str1.toLocaleLowerCase();var str2Lower=str2.toLocaleLowerCase();var str2PositionInStr1=str2Lower.indexOf(str1Lower);if(str2PositionInStr1!==-1){return 980-str2PositionInStr1*2;}var commonChars=[...str1Lower].filter(char=>str2Lower.includes(char));if(commonChars.length===0){return 0;}var previousRow=Array.from({length:len2+1},(_,i)=>i);for(var i=0;i<len1;i++){var currentRow=[i+1];for(var j=0;j<len2;j++){var insertions=previousRow[j+1]+1;var deletions=currentRow[j]+1;var substitutions=previousRow[j]+(str1[i]!==str2[j]?1:0);if(len2>10&&j>len2/2){substitutions+=1;}if(i>0&&j>0&&str1[i-1]===str2[j-1]){substitutions-=4;}currentRow.push(Math.min(insertions,deletions,substitutions));}previousRow=currentRow;}var distance=Math.round(previousRow[len2]);var score=Math.max(1,1e3-distance*30);return Math.max(1,score);}// packages/ag-grid-community/src/validation/enterpriseModuleNames.ts\nvar ENTERPRISE_MODULE_NAMES={AdvancedFilter:1,AllEnterprise:1,BatchEdit:1,CellSelection:1,Clipboard:1,ColumnMenu:1,ColumnsToolPanel:1,ContextMenu:1,ExcelExport:1,FiltersToolPanel:1,Find:1,GridCharts:1,IntegratedCharts:1,GroupFilter:1,MasterDetail:1,Menu:1,MultiFilter:1,NewFiltersToolPanel:1,Pivot:1,RangeSelection:1,RichSelect:1,RowNumbers:1,RowGrouping:1,RowGroupingPanel:1,ServerSideRowModelApi:1,ServerSideRowModel:1,SetFilter:1,SideBar:1,Sparklines:1,StatusBar:1,TreeData:1,ViewportRowModel:1};// packages/ag-grid-community/src/validation/resolvableModuleNames.ts\nvar ALL_COLUMN_FILTERS=[\"TextFilter\",\"NumberFilter\",\"DateFilter\",\"SetFilter\",\"MultiFilter\",\"GroupFilter\",\"CustomFilter\"];var RESOLVABLE_MODULE_NAMES={EditCore:[\"TextEditor\",\"NumberEditor\",\"DateEditor\",\"CheckboxEditor\",\"LargeTextEditor\",\"SelectEditor\",\"RichSelect\",\"CustomEditor\"],CheckboxCellRenderer:[\"AllCommunity\"],ClientSideRowModelHierarchy:[\"RowGrouping\",\"Pivot\",\"TreeData\"],ColumnFilter:ALL_COLUMN_FILTERS,ColumnGroupHeaderComp:[\"AllCommunity\"],ColumnGroup:[\"AllCommunity\"],ColumnHeaderComp:[\"AllCommunity\"],ColumnMove:[\"AllCommunity\"],ColumnResize:[\"AllCommunity\"],CommunityCore:[\"AllCommunity\"],CsrmSsrmSharedApi:[\"ClientSideRowModelApi\",\"ServerSideRowModelApi\"],EnterpriseCore:[\"AllEnterprise\"],FilterCore:[...ALL_COLUMN_FILTERS,\"QuickFilter\",\"ExternalFilter\",\"AdvancedFilter\"],GroupCellRenderer:[\"RowGrouping\",\"Pivot\",\"TreeData\",\"MasterDetail\",\"ServerSideRowModel\"],KeyboardNavigation:[\"AllCommunity\"],LoadingCellRenderer:[\"ServerSideRowModel\"],MenuCore:[\"ColumnMenu\",\"ContextMenu\"],MenuItem:[\"ColumnMenu\",\"ContextMenu\",\"MultiFilter\",\"IntegratedCharts\",\"ColumnsToolPanel\"],Overlay:[\"AllCommunity\"],PinnedColumn:[\"AllCommunity\"],SharedAggregation:[\"RowGrouping\",\"Pivot\",\"TreeData\",\"ServerSideRowModel\"],SharedDragAndDrop:[\"AllCommunity\"],SharedMasterDetail:[\"MasterDetail\",\"ServerSideRowModel\"],SharedMenu:[...ALL_COLUMN_FILTERS,\"ColumnMenu\",\"ContextMenu\"],SharedPivot:[\"Pivot\",\"ServerSideRowModel\"],SharedRowGrouping:[\"RowGrouping\",\"ServerSideRowModel\"],SharedRowSelection:[\"RowSelection\",\"ServerSideRowModel\"],SkeletonCellRenderer:[\"ServerSideRowModel\"],Sort:[\"AllCommunity\"],SsrmInfiniteSharedApi:[\"InfiniteRowModel\",\"ServerSideRowModelApi\"],SharedTreeData:[\"TreeData\",\"ServerSideRowModel\"]};var MODULES_FOR_ROW_MODELS={InfiniteRowModel:\"infinite\",ClientSideRowModelApi:\"clientSide\",ClientSideRowModel:\"clientSide\",ServerSideRowModelApi:\"serverSide\",ServerSideRowModel:\"serverSide\",ViewportRowModel:\"viewport\"};function resolveModuleNames(moduleName,rowModelType){var resolvedModuleNames=[];(Array.isArray(moduleName)?moduleName:[moduleName]).forEach(modName=>{var resolved=RESOLVABLE_MODULE_NAMES[modName];if(resolved){resolved.forEach(resolvedModName=>{var rowModelForModule=MODULES_FOR_ROW_MODELS[resolvedModName];if(!rowModelForModule||rowModelForModule===rowModelType){resolvedModuleNames.push(resolvedModName);}});}else{resolvedModuleNames.push(modName);}});return resolvedModuleNames;}// packages/ag-grid-community/src/validation/errorMessages/errorText.ts\nvar NoModulesRegisteredError=()=>\"No AG Grid modules are registered! It is recommended to start with all Community features via the AllCommunityModule:\\n                    \\n    import { ModuleRegistry, AllCommunityModule } from 'ag-grid-community';\\n    \\n    ModuleRegistry.registerModules([ AllCommunityModule ]);\\n    \";var moduleImportMsg=moduleNames=>{var imports=moduleNames.map(moduleName=>\"import { \".concat(convertToUserModuleName(moduleName),\" } from '\").concat(ENTERPRISE_MODULE_NAMES[moduleName]?\"ag-grid-enterprise\":\"ag-grid-community\",\"';\"));var includeCharts=moduleNames.some(m=>m===\"IntegratedCharts\"||m===\"Sparklines\");if(includeCharts){var chartImport=\"import { AgChartsEnterpriseModule } from 'ag-charts-enterprise';\";imports.push(chartImport);}return\"import { ModuleRegistry } from 'ag-grid-community'; \\n\".concat(imports.join(\" \\n\"),\" \\n\\nModuleRegistry.registerModules([ \").concat(moduleNames.map(m=>convertToUserModuleName(m,true)).join(\", \"),\" ]); \\n\\nFor more info see: \").concat(baseDocLink,\"/modules/\");};function convertToUserModuleName(moduleName){var inModuleRegistration=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(inModuleRegistration&&(moduleName===\"IntegratedCharts\"||moduleName===\"Sparklines\")){return\"\".concat(moduleName,\"Module.with(AgChartsEnterpriseModule)\");}return\"\".concat(moduleName,\"Module\");}function umdMissingModule(reasonOrId,moduleNames){var chartModules=moduleNames.filter(m=>m===\"IntegratedCharts\"||m===\"Sparklines\");var message=\"\";var agChartsDynamic=globalThis===null||globalThis===void 0?void 0:globalThis.agCharts;if(!agChartsDynamic&&chartModules.length>0){message=\"Unable to use \".concat(reasonOrId,\" as either the ag-charts-community or ag-charts-enterprise script needs to be included alongside ag-grid-enterprise.\\n\");}else if(moduleNames.some(m=>ENTERPRISE_MODULE_NAMES[m])){message=message+\"Unable to use \".concat(reasonOrId,\" as that requires the ag-grid-enterprise script to be included.\\n\");}return message;}function missingRowModelTypeError(_ref96){var{moduleName,rowModelType}=_ref96;return\"To use the \".concat(moduleName,\"Module you must set the gridOption \\\"rowModelType='\").concat(rowModelType,\"'\\\"\");}var missingModule=_ref97=>{var{reasonOrId,moduleName,gridScoped,gridId,rowModelType,additionalText,isUmd:isUmd2}=_ref97;var resolvedModuleNames=resolveModuleNames(moduleName,rowModelType);var reason=typeof reasonOrId===\"string\"?reasonOrId:MISSING_MODULE_REASONS[reasonOrId];if(isUmd2){return umdMissingModule(reason,resolvedModuleNames);}var chartModules=resolvedModuleNames.filter(m=>m===\"IntegratedCharts\"||m===\"Sparklines\");var chartImportRequired=chartModules.length>0?\"\".concat(chartModules.map(m=>convertToUserModuleName(m)).join(),\" must be initialised with an AG Charts module. One of 'AgChartsCommunityModule' / 'AgChartsEnterpriseModule'.\"):\"\";var explanation=\"Unable to use \".concat(reason,\" as \").concat(resolvedModuleNames.length>1?\"one of \"+resolvedModuleNames.map(m=>convertToUserModuleName(m)).join(\", \"):convertToUserModuleName(resolvedModuleNames[0]),\" is not registered\").concat(gridScoped?\" for gridId: \"+gridId:\"\",\". \").concat(chartImportRequired,\" Check if you have registered the module:\\n\");return\"\".concat(explanation,\"\\n\").concat(moduleImportMsg(resolvedModuleNames))+(additionalText?\" \\n\\n\".concat(additionalText):\"\");};var missingChartsWithModule=gridModule=>{return\"\".concat(gridModule,\" must be initialised with an AG Charts module. One of 'AgChartsCommunityModule' / 'AgChartsEnterpriseModule'.\\n\\nimport { AgChartsEnterpriseModule } from 'ag-charts-enterprise';\\nimport { ModuleRegistry } from 'ag-grid-community';\\nimport { \").concat(gridModule,\" } from 'ag-grid-enterprise';\\n    \\nModuleRegistry.registerModules([\").concat(gridModule,\".with(AgChartsEnterpriseModule)]);\\n    \");};var clipboardApiError=method=>\"AG Grid: Unable to use the Clipboard API (navigator.clipboard.\".concat(method,\"()). The reason why it could not be used has been logged in the previous line. For this reason the grid has defaulted to using a workaround which doesn't perform as well. Either fix why Clipboard API is blocked, OR stop this message from appearing by setting grid property suppressClipboardApi=true (which will default the grid to using the workaround rather than the API.\");var AG_GRID_ERRORS={1:()=>\"`rowData` must be an array\",2:_ref98=>{var{nodeId}=_ref98;return\"Duplicate node id '\".concat(nodeId,\"' detected from getRowId callback, this could cause issues in your grid.\");},3:()=>\"Calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.\",4:_ref99=>{var{id}=_ref99;return\"Could not find row id=\".concat(id,\", data item was not found for this id\");},5:_ref100=>{var{data}=_ref100;return[\"Could not find data item as object was not found.\",data,\" Consider using getRowId to help the Grid find matching row data\"];},6:()=>\"'groupHideOpenParents' only works when specifying specific columns for 'colDef.showRowGroup'\",7:()=>\"Pivoting is not supported with aligned grids as it may produce different columns in each grid.\",8:_ref101=>{var{key}=_ref101;return\"Unknown key for navigation \".concat(key);},9:_ref102=>{var{variable}=_ref102;return\"No value for \".concat(variable===null||variable===void 0?void 0:variable.cssName,\". This usually means that the grid has been initialised before styles have been loaded. The default value of \").concat(variable===null||variable===void 0?void 0:variable.defaultValue,\" will be used and updated when styles load.\");},10:_ref103=>{var{eventType}=_ref103;return\"As of v33, the '\".concat(eventType,\"' event is deprecated. Use the global 'modelUpdated' event to determine when row children have changed.\");},11:()=>\"No gridOptions provided to createGrid\",12:_ref104=>{var{colKey}=_ref104;return[\"column \",colKey,\" not found\"];},13:()=>\"Could not find rowIndex, this means tasks are being executed on a rowNode that has been removed from the grid.\",14:_ref105=>{var{groupPrefix}=_ref105;return\"Row IDs cannot start with \".concat(groupPrefix,\", this is a reserved prefix for AG Grid's row grouping feature.\");},15:_ref106=>{var{expression}=_ref106;return[\"value should be either a string or a function\",expression];},16:_ref107=>{var{expression,params,e}=_ref107;return[\"Processing of the expression failed\",\"Expression = \",expression,\"Params = \",params,\"Exception = \",e];},17:()=>\"you need either field or valueSetter set on colDef for editing to work\",18:()=>\"alignedGrids contains an undefined option.\",19:()=>\"alignedGrids - No api found on the linked grid.\",20:()=>\"You may want to configure via a callback to avoid setup race conditions:\\n                     \\\"alignedGrids: () => [linkedGrid]\\\"\",21:()=>\"pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.\",22:_ref108=>{var{key}=_ref108;return\"\".concat(key,\" is an initial property and cannot be updated.\");},23:()=>\"The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead.\",24:()=>\"row height must be a number if not using standard row model\",25:_ref109=>{var{id}=_ref109;return[\"The getRowId callback must return a string. The ID \",id,\" is being cast to a string.\"];},26:_ref110=>{var{fnName,preDestroyLink}=_ref110;return\"Grid API function \".concat(fnName,\"() cannot be called as the grid has been destroyed.\\n Either clear local references to the grid api, when it is destroyed, or check gridApi.isDestroyed() to avoid calling methods against a destroyed grid.\\n To run logic when the grid is about to be destroyed use the gridPreDestroy event. See: \").concat(preDestroyLink);},27:_ref111=>{var{fnName,module}=_ref111;return\"API function '\".concat(fnName,\"' not registered to module '\").concat(module,\"'\");},28:()=>\"setRowCount cannot be used while using row grouping.\",29:()=>\"tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?\",30:_ref112=>{var{toIndex}=_ref112;return[\"tried to insert columns in invalid location, toIndex = \",toIndex,\"remember that you should not count the moving columns when calculating the new index\"];},31:()=>\"infinite loop in resizeColumnSets\",32:()=>\"applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state.\",33:()=>\"stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON.\",34:_ref113=>{var{key}=_ref113;return\"the column type '\".concat(key,\"' is a default column type and cannot be overridden.\");},35:()=>\"Column type definitions 'columnTypes' with a 'type' attribute are not supported because a column type cannot refer to another column type. Only column definitions 'columnDefs' can use the 'type' attribute to refer to a column type.\",36:_ref114=>{var{t}=_ref114;return\"colDef.type '\"+t+\"' does not correspond to defined gridOptions.columnTypes\";},37:()=>\"Changing the column pinning status is not allowed with domLayout='print'\",38:_ref115=>{var{iconName}=_ref115;return\"provided icon '\".concat(iconName,\"' needs to be a string or a function\");},39:()=>\"Applying column order broke a group where columns should be married together. Applying new order has been discarded.\",40:_ref116=>{var{e,method}=_ref116;return\"\".concat(e,\"\\n\").concat(clipboardApiError(method));},41:()=>\"Browser did not allow document.execCommand('copy'). Ensure 'api.copySelectedRowsToClipboard() is invoked via a user event, i.e. button click, otherwise the browser will prevent it for security reasons.\",42:()=>\"Browser does not support document.execCommand('copy') for clipboard operations\",43:_ref117=>{var{iconName}=_ref117;return\"As of v33, icon '\".concat(iconName,\"' is deprecated. Use the icon CSS name instead.\");},44:()=>'Data type definition hierarchies (via the \"extendsDataType\" property) cannot contain circular references.',45:_ref118=>{var{parentCellDataType}=_ref118;return\"The data type definition \".concat(parentCellDataType,\" does not exist.\");},46:()=>'The \"baseDataType\" property of a data type definition must match that of its parent.',47:_ref119=>{var{cellDataType}=_ref119;return\"Missing data type definition - \\\"\".concat(cellDataType,\"\\\"\");},48:_ref120=>{var{property}=_ref120;return\"Cell data type is \\\"object\\\" but no Value \".concat(property,\" has been provided. Please either provide an object data type definition with a Value \").concat(property,\", or set \\\"colDef.value\").concat(property,\"\\\"\");},49:_ref121=>{var{methodName}=_ref121;return\"Framework component is missing the method \".concat(methodName,\"()\");},50:_ref122=>{var{compName}=_ref122;return\"Could not find component \".concat(compName,\", did you forget to configure this component?\");},51:()=>\"Export cancelled. Export is not allowed as per your configuration.\",52:()=>\"There is no `window` associated with the current `document`\",53:()=>\"unknown value type during csv conversion\",54:()=>\"Could not find document body, it is needed for drag and drop and context menu.\",55:()=>\"addRowDropZone - A container target needs to be provided\",56:()=>\"addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.\",57:()=>\"unable to show popup filter, filter instantiation failed\",58:()=>\"no values found for select cellEditor\",59:()=>\"cannot select pinned rows\",60:()=>\"cannot select node until it has finished loading\",61:()=>\"since version v32.2.0, rowNode.isFullWidthCell() has been deprecated. Instead check `rowNode.detail` followed by the user provided `isFullWidthRow` grid option.\",62:_ref123=>{var{colId}=_ref123;return\"setFilterModel() - no column found for colId: \".concat(colId);},63:_ref124=>{var{colId}=_ref124;return\"setFilterModel() - unable to fully apply model, filtering disabled for colId: \".concat(colId);},64:_ref125=>{var{colId}=_ref125;return\"setFilterModel() - unable to fully apply model, unable to create filter for colId: \".concat(colId);},65:()=>\"filter missing setModel method, which is needed for setFilterModel\",66:()=>\"filter API missing getModel method, which is needed for getFilterModel\",67:()=>\"Filter is missing isFilterActive() method\",68:()=>\"Column Filter API methods have been disabled as Advanced Filters are enabled.\",69:_ref126=>{var{guiFromFilter}=_ref126;return\"getGui method from filter returned \".concat(guiFromFilter,\"; it should be a DOM element.\");},70:_ref127=>{var{newFilter}=_ref127;return\"Grid option quickFilterText only supports string inputs, received: \".concat(typeof newFilter);},71:()=>\"debounceMs is ignored when apply button is present\",72:_ref128=>{var{keys}=_ref128;return[\"ignoring FilterOptionDef as it doesn't contain one of \",keys];},73:()=>\"invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'\",74:()=>\"no filter options for filter\",75:()=>\"Unknown button type specified\",76:_ref129=>{var{filterModelType}=_ref129;return['Unexpected type of filter \"',filterModelType,'\", it looks like the filter was configured with incorrect Filter Options'];},77:()=>\"Filter model is missing 'conditions'\",78:()=>'Filter Model contains more conditions than \"filterParams.maxNumConditions\". Additional conditions have been ignored.',79:()=>'\"filterParams.maxNumConditions\" must be greater than or equal to zero.',80:()=>'\"filterParams.numAlwaysVisibleConditions\" must be greater than or equal to zero.',81:()=>'\"filterParams.numAlwaysVisibleConditions\" cannot be greater than \"filterParams.maxNumConditions\".',82:_ref130=>{var{param}=_ref130;return\"DateFilter \".concat(param,\" is not a number\");},83:()=>\"DateFilter minValidYear should be <= maxValidYear\",84:()=>\"DateFilter minValidDate should be <= maxValidDate\",85:()=>\"DateFilter should not have both minValidDate and minValidYear parameters set at the same time! minValidYear will be ignored.\",86:()=>\"DateFilter should not have both maxValidDate and maxValidYear parameters set at the same time! maxValidYear will be ignored.\",87:()=>\"DateFilter parameter minValidDate should always be lower than or equal to parameter maxValidDate.\",88:_ref131=>{var{index}=_ref131;return\"Invalid row index for ensureIndexVisible: \".concat(index);},89:()=>\"A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)\",90:()=>\"datasource is missing getRows method\",91:()=>\"Filter is missing method doesFilterPass\",92:()=>\"AnimationFrameService called but animation frames are off\",93:()=>\"cannot add multiple ranges when `cellSelection.suppressMultiRanges = true`\",94:_ref132=>{var{paginationPageSizeOption,pageSizeSet,pageSizesSet,pageSizeOptions}=_ref132;return\"'paginationPageSize=\".concat(paginationPageSizeOption,\"'\").concat(pageSizeSet?\"\":\" (default value)\",\", but \").concat(paginationPageSizeOption,\" is not included in\").concat(pageSizesSet?\"\":\" the default\",\" paginationPageSizeSelector=[\").concat(pageSizeOptions===null||pageSizeOptions===void 0?void 0:pageSizeOptions.join(\", \"),\"].\");},95:_ref133=>{var{paginationPageSizeOption,paginationPageSizeSelector:paginationPageSizeSelector2}=_ref133;return\"Either set '\".concat(paginationPageSizeSelector2,\"' to an array that includes \").concat(paginationPageSizeOption,\" or to 'false' to disable the page size selector.\");},96:_ref134=>{var{id,data}=_ref134;return[\"Duplicate ID\",id,\"found for pinned row with data\",data,\"When `getRowId` is defined, it must return unique IDs for all pinned rows. Use the `rowPinned` parameter.\"];},97:_ref135=>{var{colId}=_ref135;return\"cellEditor for column \".concat(colId,\" is missing getGui() method\");},98:()=>\"popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.\",99:()=>\"Since v32, `api.hideOverlay()` does not hide the loading overlay when `loading=true`. Set `loading=false` instead.\",// 100: ({ rowModelType }: { rowModelType: RowModelType }) =>\n//     `selectAll only available when rowModelType='clientSide', ie not ${rowModelType}` as const,\n101:_ref136=>{var{propertyName,componentName,agGridDefaults,jsComps}=_ref136;var textOutput=[];var validComponents=[// Don't include the old names / internals in potential suggestions\n...Object.keys(agGridDefaults!==null&&agGridDefaults!==void 0?agGridDefaults:[]).filter(k=>![\"agCellEditor\",\"agGroupRowRenderer\",\"agSortIndicator\"].includes(k)),...Object.keys(jsComps!==null&&jsComps!==void 0?jsComps:[])];var suggestions=_fuzzySuggestions({inputValue:componentName,allSuggestions:validComponents,hideIrrelevant:true,filterByPercentageOfBestMatch:0.8}).values;textOutput.push(\"Could not find '\".concat(componentName,\"' component. It was configured as \\\"\").concat(propertyName,\": '\").concat(componentName,\"'\\\" but it wasn't found in the list of registered components.\\n\"));if(suggestions.length>0){textOutput.push(\"         Did you mean: [\".concat(suggestions.slice(0,3),\"]?\\n\"));}textOutput.push(\"If using a custom component check it has been registered correctly.\");return textOutput;},102:()=>\"selectAll: 'filtered' only works when gridOptions.rowModelType='clientSide'\",103:()=>\"Invalid selection state. When using client-side row model, the state must conform to `string[]`.\",104:_ref137=>{var{value,param}=_ref137;return\"Numeric value \".concat(value,\" passed to \").concat(param,\" param will be interpreted as \").concat(value,\" seconds. If this is intentional use \\\"\").concat(value,\"s\\\" to silence this warning.\");},105:_ref138=>{var{e}=_ref138;return[\"chart rendering failed\",e];},106:()=>\"Theming API and Legacy Themes are both used in the same page. A Theming API theme has been provided to the 'theme' grid option, but the file (ag-grid.css) is also included and will cause styling issues. Remove ag-grid.css from the page. See the migration guide: \".concat(baseDocLink,\"/theming-migration/\"),107:_ref139=>{var{key,value}=_ref139;return\"Invalid value for theme param \".concat(key,\" - \").concat(value);},108:_ref140=>{var{e}=_ref140;return[\"chart update failed\",e];},109:_ref141=>{var{aggFuncOrString}=_ref141;return\"unrecognised aggregation function \".concat(aggFuncOrString);},110:()=>\"groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup\",111:()=>\"Invalid selection state. When `groupSelects` is enabled, the state must conform to `IServerSideGroupSelectionState`.\",113:()=>\"Set Filter cannot initialise because you are using a row model that does not contain all rows in the browser. Either use a different filter type, or configure Set Filter such that you provide it with values\",114:_ref142=>{var{component}=_ref142;return\"Could not find component with name of \".concat(component,\". Is it in Vue.components?\");},// 115: () => 'The provided selection state should be an object.' as const,\n116:()=>\"Invalid selection state. The state must conform to `IServerSideSelectionState`.\",117:()=>\"selectAll must be of boolean type.\",118:()=>\"Infinite scrolling must be enabled in order to set the row count.\",119:()=>\"Unable to instantiate filter\",120:()=>\"MultiFloatingFilterComp expects MultiFilter as its parent\",121:()=>\"a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (see AG Grid docs) or b) to toString() on the object to return a key\",122:()=>\"could not find the document, document is empty\",123:()=>\"Advanced Filter is only supported with the Client-Side Row Model or Server-Side Row Model.\",124:()=>\"No active charts to update.\",125:_ref143=>{var{chartId}=_ref143;return\"Unable to update chart. No active chart found with ID: \".concat(chartId,\".\");},126:()=>\"unable to restore chart as no chart model is provided\",127:_ref144=>{var{allRange}=_ref144;return\"unable to create chart as \".concat(allRange?\"there are no columns in the grid\":\"no range is selected\",\".\");},128:_ref145=>{var{feature}=_ref145;return\"\".concat(feature,\" is only available if using 'multiRow' selection mode.\");},129:_ref146=>{var{feature,rowModel}=_ref146;return\"\".concat(feature,\" is only available if using 'clientSide' or 'serverSide' rowModelType, you are using \").concat(rowModel,\".\");},130:()=>'cannot multi select unless selection mode is \"multiRow\"',// 131: () => 'cannot range select while selecting multiple rows' as const,\n132:()=>\"Row selection features are not available unless `rowSelection` is enabled.\",133:_ref147=>{var{iconName}=_ref147;return\"icon '\".concat(iconName,\"' function should return back a string or a dom object\");},134:_ref148=>{var{iconName}=_ref148;return\"Did not find icon '\".concat(iconName,\"'\");},135:()=>\"Data type of the new value does not match the cell data type of the column\",136:()=>\"Unable to update chart as the 'type' is missing. It must be either 'rangeChartUpdate', 'pivotChartUpdate', or 'crossFilterChartUpdate'.\",137:_ref149=>{var{type,currentChartType}=_ref149;return\"Unable to update chart as a '\".concat(type,\"' update type is not permitted on a \").concat(currentChartType,\".\");},138:_ref150=>{var{chartType}=_ref150;return\"invalid chart type supplied: \".concat(chartType);},139:_ref151=>{var{customThemeName}=_ref151;return\"a custom chart theme with the name \".concat(customThemeName,\" has been supplied but not added to the 'chartThemes' list\");},140:_ref152=>{var{name}=_ref152;return\"no stock theme exists with the name '\".concat(name,\"' and no custom chart theme with that name was supplied to 'customChartThemes'\");},141:()=>\"cross filtering with row grouping is not supported.\",142:()=>\"cross filtering is only supported in the client side row model.\",143:_ref153=>{var{panel}=_ref153;return\"'\".concat(panel,\"' is not a valid Chart Tool Panel name\");},144:_ref154=>{var{type}=_ref154;return\"Invalid charts data panel group name supplied: '\".concat(type,\"'\");},145:_ref155=>{var{group}=_ref155;return\"As of v32, only one charts customize panel group can be expanded at a time. '\".concat(group,\"' will not be expanded.\");},146:_ref156=>{var{comp}=_ref156;return\"Unable to instantiate component '\".concat(comp,\"' as its module hasn't been loaded. Add 'ValidationModule' to see which module is required.\");},147:_ref157=>{var{group}=_ref157;return\"Invalid charts customize panel group name supplied: '\".concat(group,\"'\");},148:_ref158=>{var{group}=_ref158;return\"invalid chartGroupsDef config '\".concat(group,\"'\");},149:_ref159=>{var{group,chartType}=_ref159;return\"invalid chartGroupsDef config '\".concat(group,\".\").concat(chartType,\"'\");},150:()=>\"'seriesChartTypes' are required when the 'customCombo' chart type is specified.\",151:_ref160=>{var{chartType}=_ref160;return\"invalid chartType '\".concat(chartType,\"' supplied in 'seriesChartTypes', converting to 'line' instead.\");},152:_ref161=>{var{colId}=_ref161;return\"no 'seriesChartType' found for colId = '\".concat(colId,\"', defaulting to 'line'.\");},153:_ref162=>{var{chartDataType}=_ref162;return\"unexpected chartDataType value '\".concat(chartDataType,\"' supplied, instead use 'category', 'series' or 'excluded'\");},154:_ref163=>{var{colId}=_ref163;return\"cross filtering requires a 'agSetColumnFilter' or 'agMultiColumnFilter' to be defined on the column with id: \".concat(colId);},155:_ref164=>{var{option}=_ref164;return\"'\".concat(option,\"' is not a valid Chart Toolbar Option\");},156:_ref165=>{var{panel}=_ref165;return\"Invalid panel in chartToolPanelsDef.panels: '\".concat(panel,\"'\");},157:_ref166=>{var{unrecognisedGroupIds}=_ref166;return[\"unable to find group(s) for supplied groupIds:\",unrecognisedGroupIds];},158:()=>\"can not expand a column item that does not represent a column group header\",159:()=>\"Invalid params supplied to createExcelFileForExcel() - `ExcelExportParams.data` is empty.\",160:()=>\"Export cancelled. Export is not allowed as per your configuration.\",161:()=>\"The Excel Exporter is currently on Multi Sheet mode. End that operation by calling 'api.getMultipleSheetAsExcel()' or 'api.exportMultipleSheetsAsExcel()'\",162:_ref167=>{var{id,dataType}=_ref167;return\"Unrecognized data type for excel export [\".concat(id,\".dataType=\").concat(dataType,\"]\");},163:_ref168=>{var{featureName}=_ref168;return\"Excel table export does not work with \".concat(featureName,\". The exported Excel file will not contain any Excel tables.\\n Please turn off \").concat(featureName,\" to enable Excel table exports.\");},164:()=>\"Unable to add data table to Excel sheet: A table already exists.\",165:()=>\"Unable to add data table to Excel sheet: Missing required parameters.\",166:_ref169=>{var{unrecognisedGroupIds}=_ref169;return[\"unable to find groups for these supplied groupIds:\",unrecognisedGroupIds];},167:_ref170=>{var{unrecognisedColIds}=_ref170;return[\"unable to find columns for these supplied colIds:\",unrecognisedColIds];},168:()=>\"detailCellRendererParams.template should be function or string\",169:()=>'Reference to eDetailGrid was missing from the details template. Please add data-ref=\"eDetailGrid\" to the template.',170:_ref171=>{var{providedStrategy}=_ref171;return\"invalid cellRendererParams.refreshStrategy = \".concat(providedStrategy,\" supplied, defaulting to refreshStrategy = 'rows'.\");},171:()=>\"could not find detail grid options for master detail, please set gridOptions.detailCellRendererParams.detailGridOptions\",172:()=>\"could not find getDetailRowData for master / detail, please set gridOptions.detailCellRendererParams.getDetailRowData\",173:_ref172=>{var{group}=_ref172;return\"invalid chartGroupsDef config '\".concat(group,\"'\");},174:_ref173=>{var{group,chartType}=_ref173;return\"invalid chartGroupsDef config '\".concat(group,\".\").concat(chartType,\"'\");},175:_ref174=>{var{menuTabName,itemsToConsider}=_ref174;return[\"Trying to render an invalid menu item '\".concat(menuTabName,\"'. Check that your 'menuTabs' contains one of \"),itemsToConsider];},176:_ref175=>{var{key}=_ref175;return\"unknown menu item type \".concat(key);},177:()=>\"valid values for cellSelection.handle.direction are 'x', 'y' and 'xy'. Default to 'xy'.\",178:_ref176=>{var{colId}=_ref176;return\"column \".concat(colId,\" is not visible\");},179:()=>\"totalValueGetter should be either a function or a string (expression)\",180:()=>\"agRichSelectCellEditor requires cellEditorParams.values to be set\",181:()=>\"agRichSelectCellEditor cannot have `multiSelect` and `allowTyping` set to `true`. AllowTyping has been turned off.\",182:()=>'you cannot mix groupDisplayType = \"multipleColumns\" with treeData, only one column can be used to display groups when doing tree data',183:()=>\"Group Column Filter only works on group columns. Please use a different filter.\",184:_ref177=>{var{parentGroupData,childNodeData}=_ref177;return[\"duplicate group keys for row data, keys should be unique\",[parentGroupData,childNodeData]];},185:_ref178=>{var{data}=_ref178;return[\"getDataPath() should not return an empty path\",[data]];},186:_ref179=>{var{rowId,rowData,duplicateRowsData}=_ref179;return[\"duplicate group keys for row data, keys should be unique\",rowId,rowData,...(duplicateRowsData!==null&&duplicateRowsData!==void 0?duplicateRowsData:[])];},187:_ref180=>{var{rowId,firstData,secondData}=_ref180;return[\"Duplicate node id \".concat(rowId,\". Row IDs are provided via the getRowId() callback. Please modify the getRowId() callback code to provide unique row id values.\"),\"first instance\",firstData,\"second instance\",secondData];},188:()=>\"getRowId callback must be provided for Server Side Row Model selection to work correctly.\",189:_ref181=>{var{startRow}=_ref181;return\"invalid value \".concat(startRow,\" for startRow, the value should be >= 0\");},190:_ref182=>{var{rowGroupId,data}=_ref182;return[\"null and undefined values are not allowed for server side row model keys\",rowGroupId?\"column = \".concat(rowGroupId):\"\",\"data is \",data];},// 191: () => `cannot multi select unless selection mode is 'multiRow'` as const,\n// 192: () => `cannot use range selection when multi selecting rows` as const,\n// 193: () => \"cannot multi select unless selection mode is 'multiRow'\" as const,\n194:_ref183=>{var{method}=_ref183;return\"calling gridApi.\".concat(method,\"() is only possible when using rowModelType=`clientSide`.\");},195:_ref184=>{var{justCurrentPage}=_ref184;return\"selecting just \".concat(justCurrentPage?\"current page\":\"filtered\",\" only works when gridOptions.rowModelType='clientSide'\");},196:_ref185=>{var{key}=_ref185;return\"Provided ids must be of string type. Invalid id provided: \".concat(key);},197:()=>\"`toggledNodes` must be an array of string ids.\",// 198: () => `cannot multi select unless selection mode is 'multiRow'` as const,\n199:()=>\"getSelectedNodes and getSelectedRows functions cannot be used with select all functionality with the server-side row model. Use `api.getServerSideSelectionState()` instead.\",200:missingModule,201:_ref186=>{var{rowModelType}=_ref186;return\"Could not find row model for rowModelType = \".concat(rowModelType);},202:()=>\"`getSelectedNodes` and `getSelectedRows` functions cannot be used with `groupSelectsChildren` and the server-side row model. Use `api.getServerSideSelectionState()` instead.\",203:()=>\"Server Side Row Model does not support Dynamic Row Height and Cache Purging. Either a) remove getRowHeight() callback or b) remove maxBlocksInCache property. Purging has been disabled.\",204:()=>\"Server Side Row Model does not support Auto Row Height and Cache Purging. Either a) remove colDef.autoHeight or b) remove maxBlocksInCache property. Purging has been disabled.\",205:_ref187=>{var{duplicateIdText}=_ref187;return\"Unable to display rows as duplicate row ids (\".concat(duplicateIdText,\") were returned by the getRowId callback. Please modify the getRowId callback to provide unique ids.\");},206:()=>\"getRowId callback must be implemented for transactions to work. Transaction was ignored.\",207:()=>'The Set Filter Parameter \"defaultToNothingSelected\" value was ignored because it does not work when \"excelMode\" is used.',208:()=>\"Set Filter Value Formatter must return string values. Please ensure the Set Filter Value Formatter returns string values for complex objects.\",209:()=>\"Set Filter Key Creator is returning null for provided values and provided values are primitives. Please provide complex objects. See \".concat(baseDocLink,\"/filter-set-filter-list/#filter-value-types\"),210:()=>\"Set Filter has a Key Creator, but provided values are primitives. Did you mean to provide complex objects?\",211:()=>\"property treeList=true for Set Filter params, but you did not provide a treeListPathGetter or values of type Date.\",212:()=>\"please review all your toolPanel components, it seems like at least one of them doesn't have an id\",213:()=>\"Advanced Filter does not work with Filters Tool Panel. Filters Tool Panel has been disabled.\",214:_ref188=>{var{key}=_ref188;return\"unable to lookup Tool Panel as invalid key supplied: \".concat(key);},215:_ref189=>{var{key,defaultByKey}=_ref189;return\"the key \".concat(key,\" is not a valid key for specifying a tool panel, valid keys are: \").concat(Object.keys(defaultByKey!==null&&defaultByKey!==void 0?defaultByKey:{}).join(\",\"));},216:_ref190=>{var{name}=_ref190;return\"Missing component for '\".concat(name,\"'\");},217:_ref191=>{var{invalidColIds}=_ref191;return[\"unable to find grid columns for the supplied colDef(s):\",invalidColIds];},218:_ref192=>{var{property,defaultOffset}=_ref192;return\"\".concat(property,\" must be a number, the value you provided is not a valid number. Using the default of \").concat(defaultOffset,\"px.\");},219:_ref193=>{var{property}=_ref193;return\"Property \".concat(property,\" does not exist on the target object.\");},220:_ref194=>{var{lineDash}=_ref194;return\"'\".concat(lineDash,\"' is not a valid 'lineDash' option.\");},221:()=>\"agAggregationComponent should only be used with the client and server side row model.\",222:()=>\"agFilteredRowCountComponent should only be used with the client side row model.\",223:()=>\"agSelectedRowCountComponent should only be used with the client and server side row model.\",224:()=>\"agTotalAndFilteredRowCountComponent should only be used with the client side row model.\",225:()=>\"agTotalRowCountComponent should only be used with the client side row model.\",226:()=>\"viewport is missing init method.\",227:()=>\"menu item icon must be DOM node or string\",228:_ref195=>{var{menuItemOrString}=_ref195;return\"unrecognised menu item \".concat(menuItemOrString);},229:_ref196=>{var{index}=_ref196;return[\"invalid row index for ensureIndexVisible: \",index];},230:()=>\"detailCellRendererParams.template is not supported by AG Grid React. To change the template, provide a Custom Detail Cell Renderer. See https://www.ag-grid.com/react-data-grid/master-detail-custom-detail/\",// @deprecated v32 mark for removal as part of v32 deprecated features\n231:()=>\"As of v32, using custom components with `reactiveCustomComponents = false` is deprecated.\",232:()=>\"Using both rowData and v-model. rowData will be ignored.\",233:_ref197=>{var{methodName}=_ref197;return\"Framework component is missing the method \".concat(methodName,\"()\");},234:()=>'Group Column Filter does not work with the colDef property \"field\". This property will be ignored.',235:()=>'Group Column Filter does not work with the colDef property \"filterValueGetter\". This property will be ignored.',236:()=>'Group Column Filter does not work with the colDef property \"filterParams\". This property will be ignored.',237:()=>\"Group Column Filter does not work with Tree Data enabled. Please disable Tree Data, or use a different filter.\",238:()=>\"setRowCount can only accept a positive row count.\",239:()=>'Theming API and CSS File Themes are both used in the same page. In v33 we released the Theming API as the new default method of styling the grid. See the migration docs https://www.ag-grid.com/react-data-grid/theming-migration/. Because no value was provided to the `theme` grid option it defaulted to themeQuartz. But the file (ag-grid.css) is also included and will cause styling issues. Either pass the string \"legacy\" to the theme grid option to use v32 style themes, or remove ag-grid.css from the page to use Theming API.',240:_ref198=>{var{theme}=_ref198;return\"theme grid option must be a Theming API theme object or the string \\\"legacy\\\", received: \".concat(theme);},// 241: () => `cannot select multiple rows when rowSelection.mode is set to 'singleRow'` as const,\n// 242: () => 'cannot select multiple rows when using rangeSelect' as const,\n243:()=>\"Failed to deserialize state - each provided state object must be an object.\",244:()=>\"Failed to deserialize state - `selectAllChildren` must be a boolean value or undefined.\",245:()=>\"Failed to deserialize state - `toggledNodes` must be an array.\",246:()=>\"Failed to deserialize state - Every `toggledNode` requires an associated string id.\",247:()=>\"Row selection state could not be parsed due to invalid data. Ensure all child state has toggledNodes or does not conform with the parent rule. \\nPlease rebuild the selection state and reapply it.\",248:()=>\"SetFloatingFilter expects SetFilter as its parent\",249:()=>\"Must supply a Value Formatter in Set Filter params when using a Key Creator\",250:()=>\"Must supply a Key Creator in Set Filter params when `treeList = true` on a group column, and Tree Data or Row Grouping is enabled.\",251:_ref199=>{var{chartType}=_ref199;return\"AG Grid: Unable to create chart as an invalid chartType = '\".concat(chartType,\"' was supplied.\");},252:()=>\"cannot get grid to draw rows when it is in the middle of drawing rows. \\nYour code probably called a grid API method while the grid was in the render stage. \\nTo overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). \\nTo see what part of your code that caused the refresh check this stacktrace.\",253:_ref200=>{var{version}=_ref200;return[\"Illegal version string: \",version];},254:()=>\"Cannot create chart: no chart themes available.\",255:_ref201=>{var{point}=_ref201;return\"Lone surrogate U+\".concat(point===null||point===void 0?void 0:point.toString(16).toUpperCase(),\" is not a scalar value\");},256:()=>\"Unable to initialise. See validation error, or load ValidationModule if missing.\",257:()=>missingChartsWithModule(\"IntegratedChartsModule\"),258:()=>missingChartsWithModule(\"SparklinesModule\"),259:_ref202=>{var{part}=_ref202;return\"the argument to theme.withPart must be a Theming API part object, received: \".concat(part);},260:_ref203=>{var{propName,compName,gridScoped,gridId,rowModelType}=_ref203;return missingModule({reasonOrId:\"AG Grid '\".concat(propName,\"' component: \").concat(compName),moduleName:USER_COMP_MODULES[compName],gridId,gridScoped,rowModelType});},261:()=>\"As of v33, `column.isHovered()` is deprecated. Use `api.isColumnHovered(column)` instead.\",262:()=>'As of v33, icon key \"smallDown\" is deprecated. Use \"advancedFilterBuilderSelect\" for Advanced Filter Builder dropdown, \"selectOpen\" for Select cell editor and dropdowns (e.g. Integrated Charts menu), \"richSelectOpen\" for Rich Select cell editor.',263:()=>'As of v33, icon key \"smallLeft\" is deprecated. Use \"panelDelimiterRtl\" for Row Group Panel / Pivot Panel, \"subMenuOpenRtl\" for sub-menus.',264:()=>'As of v33, icon key \"smallRight\" is deprecated. Use \"panelDelimiter\" for Row Group Panel / Pivot Panel, \"subMenuOpen\" for sub-menus.',265:_ref204=>{var{colId}=_ref204;return\"Unable to infer chart data type for column '\".concat(colId,\"' if first data entry is null. Please specify \\\"chartDataType\\\", or a \\\"cellDataType\\\" in the column definition. For more information, see \").concat(baseDocLink,\"/integrated-charts-range-chart#coldefchartdatatype .\");},266:()=>'As of v33.1, using \"keyCreator\" with the Rich Select Editor has been deprecated. It now requires the \"formatValue\" callback to convert complex data to strings.',267:()=>\"Detail grids can not use a different theme to the master grid, the `theme` detail grid option will be ignored.\",268:()=>\"Transactions aren't supported with tree data when using treeDataChildrenField\",269:()=>\"When `masterSelects: 'detail'`, detail grids must be configured with multi-row selection\",270:_ref205=>{var{id,parentId}=_ref205;return\"Cycle detected for row with id='\".concat(id,\"' and parent id='\").concat(parentId,\"'. Resetting the parent for row with id='\").concat(id,\"' and showing it as a root-level node.\");},271:_ref206=>{var{id,parentId}=_ref206;return\"Parent row not found for row with id='\".concat(id,\"' and parent id='\").concat(parentId,\"'. Showing row with id='\").concat(id,\"' as a root-level node.\");},272:()=>NoModulesRegisteredError(),273:_ref207=>{var{providedId,usedId}=_ref207;return\"Provided column id '\".concat(providedId,\"' was already in use, ensure all column and group ids are unique. Using '\").concat(usedId,\"' instead.\");},274:_ref208=>{var{prop}=_ref208;var msg=\"Since v33, \".concat(prop,\" has been deprecated.\");switch(prop){case\"maxComponentCreationTimeMs\":msg+=\" This property is no longer required and so will be removed in a future version.\";break;case\"setGridApi\":msg+=\" This method is not called by AG Grid. To access the GridApi see: https://ag-grid.com/react-data-grid/grid-interface/#grid-api \";break;case\"children\":msg+=\" For multiple versions AgGridReact does not support children.\";break;}return msg;},275:missingRowModelTypeError,276:()=>\"Row Numbers Row Resizer cannot be used when Grid Columns have `autoHeight` enabled.\",277:_ref209=>{var{colId}=_ref209;return\"'enableFilterHandlers' is set to true, but column '\".concat(colId,\"' does not have 'filter.doesFilterPass' or 'filter.handler' set.\");},278:_ref210=>{var{colId}=_ref210;return\"Unable to create filter handler for column '\".concat(colId,\"'\");},279:_2=>{},// `Unable to create dynamic bean '${name}' during module init lifecycle, dynamic beans must be initialised on first use.` as const,\n280:_ref211=>{var{colId}=_ref211;return\"'name' must be provided for custom filter components for column '\".concat(colId);},281:_ref212=>{var{colId}=_ref212;return\"Filter for column '\".concat(colId,\"' does not have 'filterParams.buttons', but the new Filters Tool Panel has buttons configured. Either configure buttons for the filter, or disable buttons on the Filters Tool Panel.\");},282:()=>\"New filter tool panel requires `enableFilterHandlers: true`.\",283:()=>\"As of v34, use the same method on the filter handler (`api.getColumnFilterHandler()`) instead.\",284:()=>\"As of v34, filters are active when they have a model. Use `api.getColumnFilterModel()` instead.\",285:()=>\"As of v34, use (`api.getColumnFilterModel()`) instead.\",286:()=>\"As of v34, use (`api.setColumnFilterModel()`) instead.\",287:()=>\"`api.doFilterAction()` requires `enableFilterHandlers = true\",288:()=>\"`api.getColumnFilterModel(key, true)` requires `enableFilterHandlers = true\",289:_ref213=>{var{rowModelType}=_ref213;return\"Row Model '\".concat(rowModelType,\"' is not supported with Batch Editing\");},290:_ref214=>{var{rowIndex,rowPinned}=_ref214;return\"Row with index '\".concat(rowIndex,\"' and pinned state '\").concat(rowPinned,\"' not found\");}};function getError(errorId,args){var msgOrFunc=AG_GRID_ERRORS[errorId];if(!msgOrFunc){return[\"Missing error text for error id \".concat(errorId,\"!\")];}var errorBody=msgOrFunc(args);var errorLink=getErrorLink(errorId,args);var errorSuffix=\"\\nSee \".concat(errorLink);return Array.isArray(errorBody)?errorBody.concat(errorSuffix):[errorBody,errorSuffix];}var MISSING_MODULE_REASONS={1:\"Charting Aggregation\",2:\"pivotResultFields\",3:\"setTooltip\"};// packages/ag-grid-community/src/grid.ts\nfunction createGrid(eGridDiv,gridOptions,params){if(!gridOptions){_error(11);return{};}var gridParams=params;var destroyCallback;if(!(gridParams!==null&&gridParams!==void 0&&gridParams.setThemeOnGridDiv)){var newGridDiv=_createElement({tag:\"div\"});newGridDiv.style.height=\"100%\";eGridDiv.appendChild(newGridDiv);eGridDiv=newGridDiv;destroyCallback=()=>eGridDiv.remove();}var api=new GridCoreCreator().create(eGridDiv,gridOptions,context=>{var gridComp=new GridComp(eGridDiv);context.createBean(gridComp);},void 0,params,destroyCallback);return api;}var nextGridId=1;var GridCoreCreator=class{create(eGridDiv,providedOptions,createUi,acceptChanges,params,destroyCallback){var _gridOptions$gridId;var gridOptions=GlobalGridOptions.applyGlobalGridOptions(providedOptions);var gridId=(_gridOptions$gridId=gridOptions.gridId)!==null&&_gridOptions$gridId!==void 0?_gridOptions$gridId:String(nextGridId++);var registeredModules=this.getRegisteredModules(params,gridId,gridOptions.rowModelType);var beanClasses=this.createBeansList(gridOptions.rowModelType,registeredModules,gridId);var providedBeanInstances=this.createProvidedBeans(eGridDiv,gridOptions,params);if(!beanClasses){return void 0;}var contextParams={providedBeanInstances,beanClasses,gridId,beanInitComparator:gridBeanInitComparator,beanDestroyComparator:gridBeanDestroyComparator,derivedBeans:[createGridApi],destroyCallback};var context=new Context(contextParams);this.registerModuleFeatures(context,registeredModules);createUi(context);context.getBean(\"syncSvc\").start();if(acceptChanges){acceptChanges(context);}return context.getBean(\"gridApi\");}getRegisteredModules(params,gridId,rowModelType){var _params$modules;_registerModule(CommunityCoreModule,void 0,true);params===null||params===void 0||(_params$modules=params.modules)===null||_params$modules===void 0||_params$modules.forEach(m=>_registerModule(m,gridId));return _getRegisteredModules(gridId,getDefaultRowModelType(rowModelType));}registerModuleFeatures(context,registeredModules){var registry=context.getBean(\"registry\");var apiFunctionSvc=context.getBean(\"apiFunctionSvc\");registeredModules.forEach(module=>{registry.registerModule(module);var apiFunctions=module.apiFunctions;if(apiFunctions){var names=Object.keys(apiFunctions);names.forEach(name=>{apiFunctionSvc===null||apiFunctionSvc===void 0||apiFunctionSvc.addFunction(name,apiFunctions[name]);});}});}createProvidedBeans(eGridDiv,gridOptions,params){var frameworkOverrides=params?params.frameworkOverrides:null;if(_missing(frameworkOverrides)){frameworkOverrides=new VanillaFrameworkOverrides();}var seed={gridOptions,eGridDiv,globalListener:params?params.globalListener:null,globalSyncListener:params?params.globalSyncListener:null,frameworkOverrides};if(params&&params.providedBeanInstances){Object.assign(seed,params.providedBeanInstances);}return seed;}createBeansList(userProvidedRowModelType,registeredModules,gridId){var rowModelModuleNames={clientSide:\"ClientSideRowModel\",infinite:\"InfiniteRowModel\",serverSide:\"ServerSideRowModel\",viewport:\"ViewportRowModel\"};var rowModelType=getDefaultRowModelType(userProvidedRowModelType);var rowModuleModelName=rowModelModuleNames[rowModelType];if(!rowModuleModelName){_logPreInitErr(201,{rowModelType},\"Unknown rowModelType \".concat(rowModelType,\".\"));return;}if(!_hasUserRegistered()){_logPreInitErr(272,void 0,NoModulesRegisteredError());return;}if(!userProvidedRowModelType){var registeredRowModelModules=Object.entries(rowModelModuleNames).filter(_ref215=>{var[rowModelType2,module]=_ref215;return _isModuleRegistered(module,gridId,rowModelType2);});if(registeredRowModelModules.length==1){var[userRowModelType,moduleName]=registeredRowModelModules[0];if(userRowModelType!==rowModelType){var params={moduleName,rowModelType:userRowModelType};_logPreInitErr(275,params,missingRowModelTypeError(params));return;}}}if(!_isModuleRegistered(rowModuleModelName,gridId,rowModelType)){_logPreInitErr(200,{reasonOrId:\"rowModelType = '\".concat(rowModelType,\"'\"),moduleName:rowModuleModelName,gridScoped:_areModulesGridScoped(),gridId,rowModelType},\"Missing module \".concat(rowModuleModelName,\"Module for rowModelType \").concat(rowModelType,\".\"));return;}var beans=/* @__PURE__ */new Set();registeredModules.forEach(module=>{var _module$beans;return(_module$beans=module.beans)===null||_module$beans===void 0?void 0:_module$beans.forEach(bean=>beans.add(bean));});return Array.from(beans);}};function getDefaultRowModelType(passedRowModelType){return passedRowModelType!==null&&passedRowModelType!==void 0?passedRowModelType:\"clientSide\";}// packages/ag-grid-community/src/api/rowModelApiUtils.ts\nfunction _getClientSideRowModel(beans){var rowModel=beans.rowModel;return rowModel.getType()===\"clientSide\"?rowModel:void 0;}function _getInfiniteRowModel(beans){var rowModel=beans.rowModel;return rowModel.getType()===\"infinite\"?rowModel:void 0;}function _getServerSideRowModel(beans){var rowModel=beans.rowModel;return rowModel.getType()===\"serverSide\"?rowModel:void 0;}// packages/ag-grid-community/src/misc/locale/localeService.ts\nvar LocaleService=class extends BeanStub{constructor(){super(...arguments);this.beanName=\"localeSvc\";}getLocaleTextFunc(){var gos=this.gos;var getLocaleText=gos.getCallback(\"getLocaleText\");if(getLocaleText){return(key,defaultValue,variableValues)=>{var params={key,defaultValue,variableValues};return getLocaleText(params);};}var localeText=gos.get(\"localeText\");return(key,defaultValue,variableValues)=>{var localisedText=localeText&&localeText[key];if(localisedText&&variableValues&&variableValues.length){var found=0;while(true){if(found>=variableValues.length){break;}var idx=localisedText.indexOf(\"${variable}\");if(idx===-1){break;}localisedText=localisedText.replace(\"${variable}\",variableValues[found++]);}}return localisedText!==null&&localisedText!==void 0?localisedText:defaultValue;};}};// packages/ag-grid-community/src/misc/state/stateUtils.ts\nfunction convertColumnState(columnState){var enablePivotMode=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var sortColumns=[];var groupColIds=[];var aggregationColumns=[];var pivotColIds=[];var leftColIds=[];var rightColIds=[];var hiddenColIds=[];var columnSizes=[];var columns=[];var defaultSortIndex=0;for(var i=0;i<columnState.length;i++){var{colId,sort,sortIndex,rowGroup,rowGroupIndex,aggFunc,pivot,pivotIndex,pinned,hide,width,flex}=columnState[i];columns.push(colId);if(sort){sortColumns[sortIndex!==null&&sortIndex!==void 0?sortIndex:defaultSortIndex++]={colId,sort};}if(rowGroup){groupColIds[rowGroupIndex!==null&&rowGroupIndex!==void 0?rowGroupIndex:0]=colId;}if(typeof aggFunc===\"string\"){aggregationColumns.push({colId,aggFunc});}if(pivot){pivotColIds[pivotIndex!==null&&pivotIndex!==void 0?pivotIndex:0]=colId;}if(pinned){(pinned===\"right\"?rightColIds:leftColIds).push(colId);}if(hide){hiddenColIds.push(colId);}if(flex!=null||width){columnSizes.push({colId,flex:flex!==null&&flex!==void 0?flex:void 0,width});}}return{sort:sortColumns.length?{sortModel:sortColumns}:void 0,rowGroup:groupColIds.length?{groupColIds}:void 0,aggregation:aggregationColumns.length?{aggregationModel:aggregationColumns}:void 0,pivot:pivotColIds.length||enablePivotMode?{pivotMode:enablePivotMode,pivotColIds}:void 0,columnPinning:leftColIds.length||rightColIds.length?{leftColIds,rightColIds}:void 0,columnVisibility:hiddenColIds.length?{hiddenColIds}:void 0,columnSizing:columnSizes.length?{columnSizingModel:columnSizes}:void 0,columnOrder:columns.length?{orderedColIds:columns}:void 0};}function _convertColumnGroupState(columnGroupState){var openColumnGroups=[];columnGroupState.forEach(_ref216=>{var{groupId,open}=_ref216;if(open){openColumnGroups.push(groupId);}});return openColumnGroups.length?{openColumnGroupIds:openColumnGroups}:void 0;}function convertColumnGroupState(columnGroupState){return{columnGroup:_convertColumnGroupState(columnGroupState)};}// packages/ag-grid-community/src/components/framework/frameworkComponentWrapper.ts\nvar BaseComponentWrapper=class{wrap(OriginalConstructor,mandatoryMethods,optionalMethods,componentType){var wrapper=this.createWrapper(OriginalConstructor,componentType);mandatoryMethods===null||mandatoryMethods===void 0||mandatoryMethods.forEach(methodName=>{this.createMethod(wrapper,methodName,true);});optionalMethods===null||optionalMethods===void 0||optionalMethods.forEach(methodName=>{this.createMethod(wrapper,methodName,false);});return wrapper;}createMethod(wrapper,methodName,mandatory){wrapper.addMethod(methodName,this.createMethodProxy(wrapper,methodName,mandatory));}createMethodProxy(wrapper,methodName,mandatory){return function(){if(wrapper.hasMethod(methodName)){return wrapper.callMethod(methodName,arguments);}if(mandatory){_warn(49,{methodName});}return null;};}};// packages/ag-grid-community/src/tooltip/tooltipComponent.ts\nvar TooltipComponentElement={tag:\"div\",cls:\"ag-tooltip\"};var TooltipComponent2=class extends PopupComponent{constructor(){super(TooltipComponentElement);}// will need to type params\ninit(params){var{value}=params;var eGui=this.getGui();eGui.textContent=_toString(value);var locationKebabCase=params.location.replace(/([a-z])([A-Z0-9])/g,\"$1-$2\").toLowerCase();eGui.classList.add(\"ag-\".concat(locationKebabCase,\"-tooltip\"));}};// packages/ag-grid-community/src/tooltip/tooltipStateManager.ts\nvar SHOW_QUICK_TOOLTIP_DIFF=1e3;var FADE_OUT_TOOLTIP_TIMEOUT=1e3;var INTERACTIVE_HIDE_DELAY=100;var lastTooltipHideTime;var isLocked=false;var TooltipStateManager=class extends BeanStub{constructor(tooltipCtrl,getTooltipValue){super();this.tooltipCtrl=tooltipCtrl;this.getTooltipValue=getTooltipValue;this.interactionEnabled=false;this.isInteractingWithTooltip=false;this.state=0/* NOTHING */;// when showing the tooltip, we need to make sure it's the most recent instance we request, as due to\n// async we could request two tooltips before the first instance returns, in which case we should\n// disregard the second instance.\nthis.tooltipInstanceCount=0;this.tooltipMouseTrack=false;}wireBeans(beans){this.popupSvc=beans.popupSvc;this.userCompFactory=beans.userCompFactory;}postConstruct(){if(this.gos.get(\"tooltipInteraction\")){this.interactionEnabled=true;}this.tooltipTrigger=this.getTooltipTrigger();this.tooltipMouseTrack=this.gos.get(\"tooltipMouseTrack\");var el=this.tooltipCtrl.getGui();if(this.tooltipTrigger===0/* HOVER */){this.addManagedListeners(el,{mouseenter:this.onMouseEnter.bind(this),mouseleave:this.onMouseLeave.bind(this)});}if(this.tooltipTrigger===1/* FOCUS */){this.addManagedListeners(el,{focusin:this.onFocusIn.bind(this),focusout:this.onFocusOut.bind(this)});}this.addManagedListeners(el,{mousemove:this.onMouseMove.bind(this)});if(!this.interactionEnabled){this.addManagedListeners(el,{mousedown:this.onMouseDown.bind(this),keydown:this.onKeyDown.bind(this)});}}getGridOptionsTooltipDelay(delayOption){var delay=this.gos.get(delayOption);return Math.max(200,delay);}getTooltipDelay(type){var _this$tooltipCtrl$get3,_this$tooltipCtrl$get4,_this$tooltipCtrl2;if(type===\"show\"){var _this$tooltipCtrl$get,_this$tooltipCtrl$get2,_this$tooltipCtrl;return(_this$tooltipCtrl$get=(_this$tooltipCtrl$get2=(_this$tooltipCtrl=this.tooltipCtrl).getTooltipShowDelayOverride)===null||_this$tooltipCtrl$get2===void 0?void 0:_this$tooltipCtrl$get2.call(_this$tooltipCtrl))!==null&&_this$tooltipCtrl$get!==void 0?_this$tooltipCtrl$get:this.getGridOptionsTooltipDelay(\"tooltipShowDelay\");}return(_this$tooltipCtrl$get3=(_this$tooltipCtrl$get4=(_this$tooltipCtrl2=this.tooltipCtrl).getTooltipHideDelayOverride)===null||_this$tooltipCtrl$get4===void 0?void 0:_this$tooltipCtrl$get4.call(_this$tooltipCtrl2))!==null&&_this$tooltipCtrl$get3!==void 0?_this$tooltipCtrl$get3:this.getGridOptionsTooltipDelay(\"tooltipHideDelay\");}destroy(){this.setToDoNothing();super.destroy();}getTooltipTrigger(){var trigger=this.gos.get(\"tooltipTrigger\");if(!trigger||trigger===\"hover\"){return 0/* HOVER */;}return 1/* FOCUS */;}onMouseEnter(e){if(this.interactionEnabled&&this.interactiveTooltipTimeoutId){this.unlockService();this.startHideTimeout();}if(_isIOSUserAgent()){return;}if(isLocked){this.showTooltipTimeoutId=window.setTimeout(()=>{this.prepareToShowTooltip(e);},INTERACTIVE_HIDE_DELAY);}else{this.prepareToShowTooltip(e);}}onMouseMove(e){if(this.lastMouseEvent){this.lastMouseEvent=e;}if(this.tooltipMouseTrack&&this.state===2/* SHOWING */&&this.tooltipComp){this.positionTooltip();}}onMouseDown(){this.setToDoNothing();}onMouseLeave(){if(this.interactionEnabled){this.lockService();}else{this.setToDoNothing();}}onFocusIn(){this.prepareToShowTooltip();}onFocusOut(e){var _this$tooltipComp;var relatedTarget=e.relatedTarget;var parentCompGui=this.tooltipCtrl.getGui();var tooltipGui=(_this$tooltipComp=this.tooltipComp)===null||_this$tooltipComp===void 0?void 0:_this$tooltipComp.getGui();if(this.isInteractingWithTooltip||parentCompGui.contains(relatedTarget)||this.interactionEnabled&&tooltipGui!==null&&tooltipGui!==void 0&&tooltipGui.contains(relatedTarget)){return;}this.setToDoNothing();}onKeyDown(){if(this.isInteractingWithTooltip){this.isInteractingWithTooltip=false;}this.setToDoNothing();}prepareToShowTooltip(mouseEvent){if(this.state!=0/* NOTHING */||isLocked){return;}var delay=0;if(mouseEvent){delay=this.isLastTooltipHiddenRecently()?200:this.getTooltipDelay(\"show\");}this.lastMouseEvent=mouseEvent||null;this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),delay);this.state=1/* WAITING_TO_SHOW */;}isLastTooltipHiddenRecently(){var now=Date.now();var then=lastTooltipHideTime;return now-then<SHOW_QUICK_TOOLTIP_DIFF;}setToDoNothing(fromHideTooltip){if(!fromHideTooltip&&this.state===2/* SHOWING */){this.hideTooltip();}if(this.onBodyScrollEventCallback){this.onBodyScrollEventCallback();this.onBodyScrollEventCallback=void 0;}if(this.onColumnMovedEventCallback){this.onColumnMovedEventCallback();this.onColumnMovedEventCallback=void 0;}if(this.onDocumentKeyDownCallback){this.onDocumentKeyDownCallback();this.onDocumentKeyDownCallback=void 0;}this.clearTimeouts();this.state=0/* NOTHING */;this.lastMouseEvent=null;}showTooltip(){var _ctrl$getRowNode,_ctrl$getLocation,_ctrl$getLocation2,_ctrl$getColDef,_ctrl$getColumn,_ctrl$getRowIndex,_ctrl$getValueFormatt,_ctrl$getAdditionalPa,_ctrl$getAdditionalPa2;var value=this.getTooltipValue();var ctrl=this.tooltipCtrl;if(!_exists(value)||ctrl.shouldDisplayTooltip&&!ctrl.shouldDisplayTooltip()){this.setToDoNothing();return;}var rowNode=(_ctrl$getRowNode=ctrl.getRowNode)===null||_ctrl$getRowNode===void 0?void 0:_ctrl$getRowNode.call(ctrl);var params=_addGridCommonParams(this.gos,_objectSpread({location:(_ctrl$getLocation=(_ctrl$getLocation2=ctrl.getLocation)===null||_ctrl$getLocation2===void 0?void 0:_ctrl$getLocation2.call(ctrl))!==null&&_ctrl$getLocation!==void 0?_ctrl$getLocation:\"UNKNOWN\",//'cell',\ncolDef:(_ctrl$getColDef=ctrl.getColDef)===null||_ctrl$getColDef===void 0?void 0:_ctrl$getColDef.call(ctrl),column:(_ctrl$getColumn=ctrl.getColumn)===null||_ctrl$getColumn===void 0?void 0:_ctrl$getColumn.call(ctrl),rowIndex:(_ctrl$getRowIndex=ctrl.getRowIndex)===null||_ctrl$getRowIndex===void 0?void 0:_ctrl$getRowIndex.call(ctrl),node:rowNode,data:rowNode===null||rowNode===void 0?void 0:rowNode.data,value,valueFormatted:(_ctrl$getValueFormatt=ctrl.getValueFormatted)===null||_ctrl$getValueFormatt===void 0?void 0:_ctrl$getValueFormatt.call(ctrl),hideTooltipCallback:()=>this.hideTooltip(true)},(_ctrl$getAdditionalPa=(_ctrl$getAdditionalPa2=ctrl.getAdditionalParams)===null||_ctrl$getAdditionalPa2===void 0?void 0:_ctrl$getAdditionalPa2.call(ctrl))!==null&&_ctrl$getAdditionalPa!==void 0?_ctrl$getAdditionalPa:{}));this.state=2/* SHOWING */;this.tooltipInstanceCount++;var callback=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);var userDetails=_getTooltipCompDetails(this.userCompFactory,params);userDetails===null||userDetails===void 0||userDetails.newAgStackInstance().then(callback);}hideTooltip(forceHide){if(!forceHide&&this.isInteractingWithTooltip){return;}if(this.tooltipComp){this.destroyTooltipComp();lastTooltipHideTime=Date.now();}this.eventSvc.dispatchEvent({type:\"tooltipHide\",parentGui:this.tooltipCtrl.getGui()});if(forceHide){this.isInteractingWithTooltip=false;}this.setToDoNothing(true);}newTooltipComponentCallback(tooltipInstanceCopy,tooltipComp){var _this$popupSvc3;var compNoLongerNeeded=this.state!==2/* SHOWING */||this.tooltipInstanceCount!==tooltipInstanceCopy;if(compNoLongerNeeded){this.destroyBean(tooltipComp);return;}var eGui=tooltipComp.getGui();this.tooltipComp=tooltipComp;if(!eGui.classList.contains(\"ag-tooltip\")){eGui.classList.add(\"ag-tooltip-custom\");}if(this.tooltipTrigger===0/* HOVER */){eGui.classList.add(\"ag-tooltip-animate\");}if(this.interactionEnabled){eGui.classList.add(\"ag-tooltip-interactive\");}var translate=this.getLocaleTextFunc();var addPopupRes=(_this$popupSvc3=this.popupSvc)===null||_this$popupSvc3===void 0?void 0:_this$popupSvc3.addPopup({eChild:eGui,ariaLabel:translate(\"ariaLabelTooltip\",\"Tooltip\")});if(addPopupRes){this.tooltipPopupDestroyFunc=addPopupRes.hideFunc;}this.positionTooltip();if(this.tooltipTrigger===1/* FOCUS */){var listener=()=>this.setToDoNothing();[this.onBodyScrollEventCallback,this.onColumnMovedEventCallback]=this.addManagedEventListeners({bodyScroll:listener,columnMoved:listener});}if(this.interactionEnabled){[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener]=this.addManagedElementListeners(eGui,{mouseenter:this.onTooltipMouseEnter.bind(this),mouseleave:this.onTooltipMouseLeave.bind(this)});[this.onDocumentKeyDownCallback]=this.addManagedElementListeners(_getDocument(this.beans),{keydown:e=>{if(!eGui.contains(e===null||e===void 0?void 0:e.target)){this.onKeyDown();}}});if(this.tooltipTrigger===1/* FOCUS */){[this.tooltipFocusInListener,this.tooltipFocusOutListener]=this.addManagedElementListeners(eGui,{focusin:this.onTooltipFocusIn.bind(this),focusout:this.onTooltipFocusOut.bind(this)});}}this.eventSvc.dispatchEvent({type:\"tooltipShow\",tooltipGui:eGui,parentGui:this.tooltipCtrl.getGui()});this.startHideTimeout();}onTooltipMouseEnter(){this.isInteractingWithTooltip=true;this.unlockService();}onTooltipMouseLeave(){if(this.isTooltipFocused()){return;}this.isInteractingWithTooltip=false;this.lockService();}onTooltipFocusIn(){this.isInteractingWithTooltip=true;}isTooltipFocused(){var _this$tooltipComp2;var tooltipGui=(_this$tooltipComp2=this.tooltipComp)===null||_this$tooltipComp2===void 0?void 0:_this$tooltipComp2.getGui();var activeEl=_getActiveDomElement(this.beans);return!!tooltipGui&&tooltipGui.contains(activeEl);}onTooltipFocusOut(e){var parentGui=this.tooltipCtrl.getGui();if(this.isTooltipFocused()){return;}this.isInteractingWithTooltip=false;if(parentGui.contains(e.relatedTarget)){this.startHideTimeout();}else{this.hideTooltip();}}positionTooltip(){var params={type:\"tooltip\",ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack};if(this.lastMouseEvent){var _this$popupSvc4;(_this$popupSvc4=this.popupSvc)===null||_this$popupSvc4===void 0||_this$popupSvc4.positionPopupUnderMouseEvent(_objectSpread(_objectSpread({},params),{},{mouseEvent:this.lastMouseEvent}));}else{var _this$popupSvc5;(_this$popupSvc5=this.popupSvc)===null||_this$popupSvc5===void 0||_this$popupSvc5.positionPopupByComponent(_objectSpread(_objectSpread({},params),{},{eventSource:this.tooltipCtrl.getGui(),position:\"under\",keepWithinBounds:true,nudgeY:5}));}}destroyTooltipComp(){this.tooltipComp.getGui().classList.add(\"ag-tooltip-hiding\");var tooltipPopupDestroyFunc=this.tooltipPopupDestroyFunc;var tooltipComp=this.tooltipComp;var delay=this.tooltipTrigger===0/* HOVER */?FADE_OUT_TOOLTIP_TIMEOUT:0;window.setTimeout(()=>{tooltipPopupDestroyFunc();this.destroyBean(tooltipComp);},delay);this.clearTooltipListeners();this.tooltipPopupDestroyFunc=void 0;this.tooltipComp=void 0;}clearTooltipListeners(){[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener,this.tooltipFocusInListener,this.tooltipFocusOutListener].forEach(listener=>{if(listener){listener();}});this.tooltipMouseEnterListener=this.tooltipMouseLeaveListener=this.tooltipFocusInListener=this.tooltipFocusOutListener=null;}lockService(){isLocked=true;this.interactiveTooltipTimeoutId=window.setTimeout(()=>{this.unlockService();this.setToDoNothing();},INTERACTIVE_HIDE_DELAY);}unlockService(){isLocked=false;this.clearInteractiveTimeout();}startHideTimeout(){this.clearHideTimeout();this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.getTooltipDelay(\"hide\"));}clearShowTimeout(){if(!this.showTooltipTimeoutId){return;}window.clearTimeout(this.showTooltipTimeoutId);this.showTooltipTimeoutId=void 0;}clearHideTimeout(){if(!this.hideTooltipTimeoutId){return;}window.clearTimeout(this.hideTooltipTimeoutId);this.hideTooltipTimeoutId=void 0;}clearInteractiveTimeout(){if(!this.interactiveTooltipTimeoutId){return;}window.clearTimeout(this.interactiveTooltipTimeoutId);this.interactiveTooltipTimeoutId=void 0;}clearTimeouts(){this.clearShowTimeout();this.clearHideTimeout();this.clearInteractiveTimeout();}};// packages/ag-grid-community/src/tooltip/tooltipFeature.ts\nfunction _isShowTooltipWhenTruncated(gos){return gos.get(\"tooltipShowMode\")===\"whenTruncated\";}function _getShouldDisplayTooltip(gos,getElement2){return _isShowTooltipWhenTruncated(gos)?_isElementOverflowingCallback(getElement2):void 0;}var TooltipFeature=class extends BeanStub{constructor(ctrl,beans){super();this.ctrl=ctrl;if(beans){this.beans=beans;}}postConstruct(){this.refreshTooltip();}/**\n   *\n   * @param tooltip The tooltip value\n   * @param allowEmptyString Set it to true to allow the title to be set to `''`. This is necessary\n   * when the browser adds a default tooltip the element and the tooltip service will be displayed\n   * next to a browser tooltip causing confusion.\n   */setBrowserTooltip(tooltip,allowEmptyString){var name=\"title\";var eGui=this.ctrl.getGui();if(!eGui){return;}if(tooltip!=null&&(tooltip!=\"\"||allowEmptyString)){eGui.setAttribute(name,tooltip);}else{eGui.removeAttribute(name);}}updateTooltipText(){var{getTooltipValue}=this.ctrl;if(getTooltipValue){this.tooltip=getTooltipValue();}}createTooltipFeatureIfNeeded(){if(this.tooltipManager==null){this.tooltipManager=this.createBean(new TooltipStateManager(this.ctrl,()=>this.tooltip),this.beans.context);}}setTooltipAndRefresh(tooltip){this.tooltip=tooltip;this.refreshTooltip();}refreshTooltip(clearWithEmptyString){this.browserTooltips=this.beans.gos.get(\"enableBrowserTooltips\");this.updateTooltipText();if(this.browserTooltips){this.setBrowserTooltip(this.tooltip);this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context);}else{this.setBrowserTooltip(clearWithEmptyString?\"\":null,clearWithEmptyString);this.createTooltipFeatureIfNeeded();}}destroy(){this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context);super.destroy();}};// packages/ag-grid-community/src/utils/number.ts\nfunction _formatNumberCommas(value,getLocaleTextFunc){if(typeof value!==\"number\"){return\"\";}var localeTextFunc=getLocaleTextFunc();var thousandSeparator=localeTextFunc(\"thousandSeparator\",\",\");var decimalSeparator=localeTextFunc(\"decimalSeparator\",\".\");return value.toString().replace(\".\",decimalSeparator).replace(/(\\d)(?=(\\d{3})+(?!\\d))/g,\"$1\".concat(thousandSeparator));}// packages/ag-grid-community/src/export/baseCreator.ts\nvar BaseCreator=class extends BeanStub{getFileName(fileName){var extension=this.getDefaultFileExtension();if(fileName==null||!fileName.length){fileName=this.getDefaultFileName();}return fileName.indexOf(\".\")===-1?\"\".concat(fileName,\".\").concat(extension):fileName;}getData(params){var serializingSession=this.createSerializingSession(params);return this.beans.gridSerializer.serialize(serializingSession,params);}getDefaultFileName(){return\"export.\".concat(this.getDefaultFileExtension());}};// packages/ag-grid-community/src/export/baseGridSerializingSession.ts\nvar BaseGridSerializingSession=class{constructor(config){var{colModel,rowGroupColsSvc,colNames,valueSvc,gos,processCellCallback,processHeaderCallback,processGroupHeaderCallback,processRowGroupCallback}=config;this.colModel=colModel;this.rowGroupColsSvc=rowGroupColsSvc;this.colNames=colNames;this.valueSvc=valueSvc;this.gos=gos;this.processCellCallback=processCellCallback;this.processHeaderCallback=processHeaderCallback;this.processGroupHeaderCallback=processGroupHeaderCallback;this.processRowGroupCallback=processRowGroupCallback;}prepare(_columnsToExport){}extractHeaderValue(column){var value=this.getHeaderName(this.processHeaderCallback,column);return value!==null&&value!==void 0?value:\"\";}extractRowCellValue(column,currentColumnIndex,accumulatedRowIndex,type,node){var _node$rowGroupColumn$,_node$rowGroupColumn;var isFullWidthGroup=currentColumnIndex===0&&_isFullWidthGroupRow(this.gos,node,this.colModel.isPivotMode());if(this.processRowGroupCallback&&(this.gos.get(\"treeData\")||node.group)&&(column.isRowGroupDisplayed((_node$rowGroupColumn$=(_node$rowGroupColumn=node.rowGroupColumn)===null||_node$rowGroupColumn===void 0?void 0:_node$rowGroupColumn.getColId())!==null&&_node$rowGroupColumn$!==void 0?_node$rowGroupColumn$:\"\")||isFullWidthGroup)){var _this$processRowGroup;return{value:(_this$processRowGroup=this.processRowGroupCallback(_addGridCommonParams(this.gos,{column,node})))!==null&&_this$processRowGroup!==void 0?_this$processRowGroup:\"\"};}if(this.processCellCallback){var _this$processCellCall;return{value:(_this$processCellCall=this.processCellCallback(_addGridCommonParams(this.gos,{accumulatedRowIndex,column,node,value:this.valueSvc.getValueForDisplay(column,node,void 0,void 0).value,type,parseValue:valueToParse=>this.valueSvc.parseValue(column,node,valueToParse,this.valueSvc.getValue(column,node,void 0)),formatValue:valueToFormat=>{var _this$valueSvc$format;return(_this$valueSvc$format=this.valueSvc.formatValue(column,node,valueToFormat))!==null&&_this$valueSvc$format!==void 0?_this$valueSvc$format:valueToFormat;}})))!==null&&_this$processCellCall!==void 0?_this$processCellCall:\"\"};}var isTreeData=this.gos.get(\"treeData\");var valueService=this.valueSvc;var isGrandTotalRow=node.level===-1&&node.footer;var isMultiAutoCol=column.colDef.showRowGroup===true&&(node.group||isTreeData);if(!isGrandTotalRow&&(isFullWidthGroup||isMultiAutoCol)){var concatenatedGroupValue=\"\";var pointer=node;while(pointer&&pointer.level!==-1){var _ref217;var{value:value2,valueFormatted:valueFormatted2}=valueService.getValueForDisplay(isFullWidthGroup?void 0:column,// full width group doesn't have a column\npointer,true,true);concatenatedGroupValue=\" -> \".concat((_ref217=valueFormatted2!==null&&valueFormatted2!==void 0?valueFormatted2:value2)!==null&&_ref217!==void 0?_ref217:\"\").concat(concatenatedGroupValue);pointer=pointer.parent;}return{value:concatenatedGroupValue,// don't return the unformatted value; as if the grid detects number it'll not use the concatenated string\nvalueFormatted:concatenatedGroupValue};}var{value,valueFormatted}=valueService.getValueForDisplay(column,node,true,true);return{value:value!==null&&value!==void 0?value:\"\",valueFormatted};}getHeaderName(callback,column){if(callback){return callback(_addGridCommonParams(this.gos,{column}));}return this.colNames.getDisplayNameForColumn(column,\"csv\",true);}};// packages/ag-grid-community/src/export/downloader.ts\nfunction _downloadFile(fileName,content){var win=document.defaultView||window;if(!win){_warn(52);return;}var element=document.createElement(\"a\");var url=win.URL.createObjectURL(content);element.setAttribute(\"href\",url);element.setAttribute(\"download\",fileName);element.style.display=\"none\";document.body.appendChild(element);element.dispatchEvent(new MouseEvent(\"click\",{bubbles:false,cancelable:true,view:win}));document.body.removeChild(element);win.setTimeout(()=>{win.URL.revokeObjectURL(url);},0);}// packages/ag-grid-community/src/gridOptionsInitial.ts\nvar INITIAL_GRID_OPTION_KEYS={enableBrowserTooltips:true,tooltipTrigger:true,tooltipMouseTrack:true,tooltipShowMode:true,tooltipInteraction:true,defaultColGroupDef:true,suppressAutoSize:true,skipHeaderOnAutoSize:true,autoSizeStrategy:true,components:true,stopEditingWhenCellsLoseFocus:true,undoRedoCellEditing:true,undoRedoCellEditingLimit:true,excelStyles:true,cacheQuickFilter:true,customChartThemes:true,chartThemeOverrides:true,chartToolPanelsDef:true,loadingCellRendererSelector:true,localeText:true,keepDetailRows:true,keepDetailRowsCount:true,detailRowHeight:true,detailRowAutoHeight:true,tabIndex:true,valueCache:true,valueCacheNeverExpires:true,enableCellExpressions:true,suppressTouch:true,suppressBrowserResizeObserver:true,suppressPropertyNamesCheck:true,debug:true,dragAndDropImageComponent:true,loadingOverlayComponent:true,suppressLoadingOverlay:true,noRowsOverlayComponent:true,paginationPageSizeSelector:true,paginateChildRows:true,pivotPanelShow:true,pivotSuppressAutoColumn:true,suppressExpandablePivotGroups:true,aggFuncs:true,allowShowChangeAfterFilter:true,ensureDomOrder:true,enableRtl:true,suppressColumnVirtualisation:true,suppressMaxRenderedRowRestriction:true,suppressRowVirtualisation:true,rowDragText:true,groupLockGroupColumns:true,suppressGroupRowsSticky:true,rowModelType:true,cacheOverflowSize:true,infiniteInitialRowCount:true,serverSideInitialRowCount:true,maxBlocksInCache:true,maxConcurrentDatasourceRequests:true,blockLoadDebounceMillis:true,serverSideOnlyRefreshFilteredGroups:true,serverSidePivotResultFieldSeparator:true,viewportRowModelPageSize:true,viewportRowModelBufferSize:true,debounceVerticalScrollbar:true,suppressAnimationFrame:true,suppressPreventDefaultOnMouseWheel:true,scrollbarWidth:true,icons:true,suppressRowTransform:true,gridId:true,enableGroupEdit:true,initialState:true,processUnpinnedColumns:true,createChartContainer:true,getLocaleText:true,getRowId:true,reactiveCustomComponents:true,renderingMode:true,columnMenu:true,suppressSetFilterByDefault:true,getDataPath:true,enableCellSpan:true,enableFilterHandlers:true,filterHandlers:true};// packages/ag-grid-community/src/validation/apiFunctionValidator.ts\nvar clientSide=\"clientSide\";var serverSide=\"serverSide\";var infinite=\"infinite\";var functionRowModels={onGroupExpandedOrCollapsed:[clientSide],refreshClientSideRowModel:[clientSide],isRowDataEmpty:[clientSide],forEachLeafNode:[clientSide],forEachNodeAfterFilter:[clientSide],forEachNodeAfterFilterAndSort:[clientSide],resetRowHeights:[clientSide],applyTransaction:[clientSide],applyTransactionAsync:[clientSide],flushAsyncTransactions:[clientSide],getBestCostNodeSelection:[clientSide],getServerSideSelectionState:[serverSide],setServerSideSelectionState:[serverSide],applyServerSideTransaction:[serverSide],applyServerSideTransactionAsync:[serverSide],applyServerSideRowData:[serverSide],retryServerSideLoads:[serverSide],flushServerSideAsyncTransactions:[serverSide],refreshServerSide:[serverSide],getServerSideGroupLevelState:[serverSide],refreshInfiniteCache:[infinite],purgeInfiniteCache:[infinite],getInfiniteRowCount:[infinite],isLastRowIndexKnown:[infinite,serverSide],expandAll:[clientSide,serverSide],collapseAll:[clientSide,serverSide],onRowHeightChanged:[clientSide,serverSide],setRowCount:[infinite,serverSide],getCacheBlockState:[infinite,serverSide]};var deprecatedFunctions={showLoadingOverlay:{version:\"v32\",message:'`showLoadingOverlay` is deprecated. Use the grid option \"loading\"=true instead or setGridOption(\"loading\", true).'},clearRangeSelection:{version:\"v32.2\",message:\"Use `clearCellSelection` instead.\"},getInfiniteRowCount:{version:\"v32.2\",old:\"getInfiniteRowCount()\",new:\"getDisplayedRowCount()\"},selectAllFiltered:{version:\"v33\",old:\"selectAllFiltered()\",new:'selectAll(\"filtered\")'},deselectAllFiltered:{version:\"v33\",old:\"deselectAllFiltered()\",new:'deselectAll(\"filtered\")'},selectAllOnCurrentPage:{version:\"v33\",old:\"selectAllOnCurrentPage()\",new:'selectAll(\"currentPage\")'},deselectAllOnCurrentPage:{version:\"v33\",old:\"deselectAllOnCurrentPage()\",new:'deselectAll(\"currentPage\")'}};function validateApiFunction(functionName,apiFunction,beans){var deprecation=deprecatedFunctions[functionName];if(deprecation){var{version,new:replacement,old,message}=deprecation;var apiMethod=old!==null&&old!==void 0?old:functionName;return function(){var replacementMessage=replacement?\"Please use \".concat(replacement,\" instead. \"):\"\";_warnOnce(\"Since \".concat(version,\" api.\").concat(apiMethod,\" is deprecated. \").concat(replacementMessage).concat(message!==null&&message!==void 0?message:\"\"));for(var _len1=arguments.length,args=new Array(_len1),_key11=0;_key11<_len1;_key11++){args[_key11]=arguments[_key11];}return apiFunction.apply(apiFunction,args);};}var rowModels=functionRowModels[functionName];if(rowModels){return function(){var rowModel=beans.rowModel.getType();if(!rowModels.includes(rowModel)){_errorOnce(\"api.\".concat(functionName,\" can only be called when gridOptions.rowModelType is \").concat(rowModels.join(\" or \")));return void 0;}for(var _len10=arguments.length,args=new Array(_len10),_key12=0;_key12<_len10;_key12++){args[_key12]=arguments[_key12];}return apiFunction.apply(apiFunction,args);};}return apiFunction;}// packages/ag-grid-community/src/validation/rules/dynamicBeanValidations.ts\nvar DYNAMIC_BEAN_MODULES={detailCellRendererCtrl:\"SharedMasterDetail\",dndSourceComp:\"DragAndDrop\",fillHandle:\"CellSelection\",groupCellRendererCtrl:\"GroupCellRenderer\",headerFilterCellCtrl:\"ColumnFilter\",headerGroupCellCtrl:\"ColumnGroup\",rangeHandle:\"CellSelection\",tooltipFeature:\"Tooltip\",groupStrategy:\"RowGrouping\",treeGroupStrategy:\"TreeData\",rowNumberRowResizer:\"RowNumbers\",singleCell:\"EditCore\",fullRow:\"EditCore\",agSetColumnFilterHandler:\"SetFilter\",agMultiColumnFilterHandler:\"MultiFilter\",agGroupColumnFilterHandler:\"GroupFilter\",agNumberColumnFilterHandler:\"NumberFilter\",agDateColumnFilterHandler:\"DateFilter\",agTextColumnFilterHandler:\"TextFilter\"};// packages/ag-grid-community/src/validation/rules/iconValidations.ts\nvar ICON_VALUES={expanded:1,contracted:1,\"tree-closed\":1,\"tree-open\":1,\"tree-indeterminate\":1,pin:1,\"eye-slash\":1,arrows:1,left:1,right:1,group:1,aggregation:1,pivot:1,\"not-allowed\":1,chart:1,cross:1,cancel:1,tick:1,first:1,previous:1,next:1,last:1,linked:1,unlinked:1,\"color-picker\":1,loading:1,menu:1,\"menu-alt\":1,filter:1,\"filter-add\":1,columns:1,maximize:1,minimize:1,copy:1,cut:1,paste:1,grip:1,save:1,csv:1,excel:1,\"small-down\":1,\"small-left\":1,\"small-right\":1,\"small-up\":1,asc:1,desc:1,none:1,up:1,down:1,plus:1,minus:1,settings:1,\"checkbox-checked\":1,\"checkbox-indeterminate\":1,\"checkbox-unchecked\":1,\"radio-button-on\":1,\"radio-button-off\":1,eye:1,\"column-arrow\":1,\"un-pin\":1,\"pinned-top\":1,\"pinned-bottom\":1,\"chevron-up\":1,\"chevron-down\":1,\"chevron-left\":1,\"chevron-right\":1,edit:1};var ICON_MODULES={chart:\"MenuCore\",cancel:\"EnterpriseCore\",first:\"Pagination\",previous:\"Pagination\",next:\"Pagination\",last:\"Pagination\",linked:\"IntegratedCharts\",loadingMenuItems:\"MenuCore\",unlinked:\"IntegratedCharts\",menu:\"ColumnHeaderComp\",legacyMenu:\"ColumnMenu\",filter:\"ColumnFilter\",filterActive:\"ColumnFilter\",filterAdd:\"NewFiltersToolPanel\",filterCardCollapse:\"NewFiltersToolPanel\",filterCardExpand:\"NewFiltersToolPanel\",filterCardEditing:\"NewFiltersToolPanel\",filterTab:\"ColumnMenu\",filtersToolPanel:\"FiltersToolPanel\",columns:[\"MenuCore\"],columnsToolPanel:[\"ColumnsToolPanel\"],maximize:\"EnterpriseCore\",minimize:\"EnterpriseCore\",save:\"MenuCore\",columnGroupOpened:\"ColumnGroupHeaderComp\",columnGroupClosed:\"ColumnGroupHeaderComp\",accordionOpen:\"EnterpriseCore\",accordionClosed:\"EnterpriseCore\",accordionIndeterminate:\"EnterpriseCore\",columnSelectClosed:[\"ColumnsToolPanel\",\"ColumnMenu\"],columnSelectOpen:[\"ColumnsToolPanel\",\"ColumnMenu\"],columnSelectIndeterminate:[\"ColumnsToolPanel\",\"ColumnMenu\"],columnMovePin:\"SharedDragAndDrop\",columnMoveHide:\"SharedDragAndDrop\",columnMoveMove:\"SharedDragAndDrop\",columnMoveLeft:\"SharedDragAndDrop\",columnMoveRight:\"SharedDragAndDrop\",columnMoveGroup:\"SharedDragAndDrop\",columnMoveValue:\"SharedDragAndDrop\",columnMovePivot:\"SharedDragAndDrop\",dropNotAllowed:\"SharedDragAndDrop\",ensureColumnVisible:[\"ColumnsToolPanel\",\"ColumnMenu\"],groupContracted:\"GroupCellRenderer\",groupExpanded:\"GroupCellRenderer\",setFilterGroupClosed:\"SetFilter\",setFilterGroupOpen:\"SetFilter\",setFilterGroupIndeterminate:\"SetFilter\",setFilterLoading:\"SetFilter\",close:\"EnterpriseCore\",check:\"MenuItem\",colorPicker:\"CommunityCore\",groupLoading:\"LoadingCellRenderer\",menuAlt:\"ColumnHeaderComp\",menuPin:\"MenuCore\",menuValue:\"MenuCore\",menuAddRowGroup:[\"MenuCore\",\"ColumnsToolPanel\"],menuRemoveRowGroup:[\"MenuCore\",\"ColumnsToolPanel\"],clipboardCopy:\"MenuCore\",clipboardCut:\"MenuCore\",clipboardPaste:\"MenuCore\",pivotPanel:[\"ColumnsToolPanel\",\"RowGroupingPanel\"],rowGroupPanel:[\"ColumnsToolPanel\",\"RowGroupingPanel\"],valuePanel:\"ColumnsToolPanel\",columnDrag:\"EnterpriseCore\",rowDrag:[\"RowDrag\",\"DragAndDrop\"],csvExport:\"MenuCore\",excelExport:\"MenuCore\",smallDown:\"CommunityCore\",selectOpen:\"CommunityCore\",richSelectOpen:\"RichSelect\",richSelectRemove:\"RichSelect\",smallLeft:\"CommunityCore\",smallRight:\"CommunityCore\",subMenuOpen:\"MenuItem\",subMenuOpenRtl:\"MenuItem\",panelDelimiter:\"RowGroupingPanel\",panelDelimiterRtl:\"RowGroupingPanel\",smallUp:\"CommunityCore\",sortAscending:[\"MenuCore\",\"Sort\"],sortDescending:[\"MenuCore\",\"Sort\"],sortUnSort:[\"MenuCore\",\"Sort\"],advancedFilterBuilder:\"AdvancedFilter\",advancedFilterBuilderDrag:\"AdvancedFilter\",advancedFilterBuilderInvalid:\"AdvancedFilter\",advancedFilterBuilderMoveUp:\"AdvancedFilter\",advancedFilterBuilderMoveDown:\"AdvancedFilter\",advancedFilterBuilderAdd:\"AdvancedFilter\",advancedFilterBuilderRemove:\"AdvancedFilter\",advancedFilterBuilderSelectOpen:\"AdvancedFilter\",chartsMenu:\"IntegratedCharts\",chartsMenuEdit:\"IntegratedCharts\",chartsMenuAdvancedSettings:\"IntegratedCharts\",chartsMenuAdd:\"IntegratedCharts\",chartsColorPicker:\"IntegratedCharts\",chartsThemePrevious:\"IntegratedCharts\",chartsThemeNext:\"IntegratedCharts\",chartsDownload:\"IntegratedCharts\",checkboxChecked:\"CommunityCore\",checkboxIndeterminate:\"CommunityCore\",checkboxUnchecked:\"CommunityCore\",radioButtonOn:\"CommunityCore\",radioButtonOff:\"CommunityCore\",rowPin:\"PinnedRow\",rowUnpin:\"PinnedRow\",rowPinBottom:\"PinnedRow\",rowPinTop:\"PinnedRow\"};var DEPRECATED_ICONS_V33=/* @__PURE__ */new Set([\"colorPicker\",\"smallUp\",\"checkboxChecked\",\"checkboxIndeterminate\",\"checkboxUnchecked\",\"radioButtonOn\",\"radioButtonOff\",\"smallDown\",\"smallLeft\",\"smallRight\"]);// packages/ag-grid-community/src/validation/validationService.ts\nvar ValidationService=class extends BeanStub{constructor(){super(...arguments);this.beanName=\"validation\";}wireBeans(beans){this.gridOptions=beans.gridOptions;provideValidationServiceLogger(this);}warnOnInitialPropertyUpdate(source,key){if(source===\"api\"&&INITIAL_GRID_OPTION_KEYS[key]){_warn(22,{key});}}processGridOptions(options){this.processOptions(options,GRID_OPTIONS_VALIDATORS());}validateApiFunction(functionName,apiFunction){return validateApiFunction(functionName,apiFunction,this.beans);}missingUserComponent(propertyName,componentName,agGridDefaults,jsComps){var moduleForComponent=USER_COMP_MODULES[componentName];if(moduleForComponent){this.gos.assertModuleRegistered(moduleForComponent,\"AG Grid '\".concat(propertyName,\"' component: \").concat(componentName));}else{_warn(101,{propertyName,componentName,agGridDefaults,jsComps});}}missingDynamicBean(beanName){var moduleName=DYNAMIC_BEAN_MODULES[beanName];return moduleName?_errMsg(200,_objectSpread(_objectSpread({},this.gos.getModuleErrorParams()),{},{moduleName,reasonOrId:beanName})):void 0;}checkRowEvents(eventType){if(DEPRECATED_ROW_NODE_EVENTS.has(eventType)){_warn(10,{eventType});}}validateIcon(iconName){if(DEPRECATED_ICONS_V33.has(iconName)){_warn(43,{iconName});}if(ICON_VALUES[iconName]){return;}var moduleName=ICON_MODULES[iconName];if(moduleName){_error(200,{reasonOrId:\"icon '\".concat(iconName,\"'\"),moduleName,gridScoped:_areModulesGridScoped(),gridId:this.beans.context.getGridId(),rowModelType:this.gos.get(\"rowModelType\"),additionalText:\"Alternatively, use the CSS icon name directly.\"});return;}_warn(134,{iconName});}isProvidedUserComp(compName){return!!USER_COMP_MODULES[compName];}/** Should only be called via the GridOptionsService */validateColDef(colDef){this.processOptions(colDef,COL_DEF_VALIDATORS());}processOptions(options,validator){var{validations,deprecations,allProperties,propertyExceptions,objectName,docsUrl}=validator;if(allProperties&&this.gridOptions.suppressPropertyNamesCheck!==true){this.checkProperties(options,[...(propertyExceptions!==null&&propertyExceptions!==void 0?propertyExceptions:[]),...Object.keys(deprecations)],allProperties,objectName,docsUrl);}var warnings=/* @__PURE__ */new Set();var optionKeys=Object.keys(options);optionKeys.forEach(key=>{var deprecation=deprecations[key];if(deprecation){var{message,version}=deprecation;warnings.add(\"As of v\".concat(version,\", \").concat(String(key),\" is deprecated. \").concat(message!==null&&message!==void 0?message:\"\"));}var value=options[key];if(value==null||value===false){return;}var rules=validations[key];if(!rules){return;}var{dependencies,validate,supportedRowModels,expectedType}=rules;if(expectedType){var actualType=typeof value;if(actualType!==expectedType){warnings.add(\"\".concat(String(key),\" should be of type '\").concat(expectedType,\"' but received '\").concat(actualType,\"' (\").concat(value,\").\"));return;}}if(supportedRowModels){var _this$gridOptions$row;var rowModel=(_this$gridOptions$row=this.gridOptions.rowModelType)!==null&&_this$gridOptions$row!==void 0?_this$gridOptions$row:\"clientSide\";if(!supportedRowModels.includes(rowModel)){warnings.add(\"\".concat(String(key),\" is not supported with the '\").concat(rowModel,\"' row model. It is only valid with: \").concat(supportedRowModels.join(\", \"),\".\"));return;}}if(dependencies){var warning=this.checkForRequiredDependencies(key,dependencies,options);if(warning){warnings.add(warning);return;}}if(validate){var _warning=validate(options,this.gridOptions,this.beans);if(_warning){warnings.add(_warning);return;}}});if(warnings.size>0){warnings.forEach(warning=>{_warnOnce(warning);});}}checkForRequiredDependencies(key,validator,options){var optionEntries=Object.entries(validator);var failedOptions=optionEntries.filter(_ref218=>{var[key2,value]=_ref218;var gridOptionValue=options[key2];return!value.required.includes(gridOptionValue);});if(failedOptions.length===0){return null;}return failedOptions.map(_ref219=>{var _possibleOptions$reas;var[failedKey,possibleOptions]=_ref219;return\"'\".concat(String(key),\"' requires '\").concat(failedKey,\"' to be one of [\").concat(possibleOptions.required.map(o=>{if(o===null){return\"null\";}else if(o===void 0){return\"undefined\";}return o;}).join(\", \"),\"]. \").concat((_possibleOptions$reas=possibleOptions.reason)!==null&&_possibleOptions$reas!==void 0?_possibleOptions$reas:\"\");}).join(\"\\n           \");}checkProperties(object,exceptions,validProperties,containerName,docsUrl){var VUE_FRAMEWORK_PROPS=[\"__ob__\",\"__v_skip\",\"__metadata__\"];var invalidProperties=_fuzzyCheckStrings(Object.getOwnPropertyNames(object),[...VUE_FRAMEWORK_PROPS,...exceptions,...validProperties],validProperties);var invalidPropertiesKeys=Object.keys(invalidProperties);for(var key of invalidPropertiesKeys){var value=invalidProperties[key];var message=\"invalid \".concat(containerName,\" property '\").concat(key,\"' did you mean any of these: \").concat(value.slice(0,8).join(\", \"),\".\");if(validProperties.includes(\"context\")){message+=\"\\nIf you are trying to annotate \".concat(containerName,\" with application data, use the '\").concat(containerName,\".context' property instead.\");}_warnOnce(message);}if(invalidPropertiesKeys.length>0&&docsUrl){var url=this.beans.frameworkOverrides.getDocLink(docsUrl);_warnOnce(\"to see all the valid \".concat(containerName,\" properties please check: \").concat(url));}}getConsoleMessage(id,args){return getError(id,args);}};function _fuzzyCheckStrings(inputValues,validValues,allSuggestions){var fuzzyMatches={};var invalidInputs=inputValues.filter(inputValue=>!validValues.some(validValue=>validValue===inputValue));if(invalidInputs.length>0){invalidInputs.forEach(invalidInput=>fuzzyMatches[invalidInput]=_fuzzySuggestions({inputValue:invalidInput,allSuggestions}).values);}return fuzzyMatches;}var DEPRECATED_ROW_NODE_EVENTS=/* @__PURE__ */new Set([\"firstChildChanged\",\"lastChildChanged\",\"childIndexChanged\"]);// packages/ag-grid-community/src/validation/validationModule.ts\nvar ValidationModule={moduleName:\"Validation\",version:VERSION,beans:[ValidationService]};// packages/ag-grid-community/src/clientSideRowModel/filterStage.ts\nfunction updateRowNodeAfterFilter(rowNode){if(rowNode.sibling){rowNode.sibling.childrenAfterFilter=rowNode.childrenAfterFilter;}}var FilterStage=class extends BeanStub{constructor(){super(...arguments);this.beanName=\"filterStage\";this.refreshProps=/* @__PURE__ */new Set([\"excludeChildrenWhenTreeDataFiltering\"]);this.step=\"filter\";}wireBeans(beans){this.filterManager=beans.filterManager;}execute(params){var{changedPath}=params;this.filter(changedPath);}filter(changedPath){var _this$filterManager6;var filterActive=!!((_this$filterManager6=this.filterManager)!==null&&_this$filterManager6!==void 0&&_this$filterManager6.isChildFilterPresent());this.filterNodes(filterActive,changedPath);}filterNodes(filterActive,changedPath){var filterCallback=(rowNode,includeChildNodes)=>{if(rowNode.hasChildren()){if(filterActive&&!includeChildNodes){rowNode.childrenAfterFilter=rowNode.childrenAfterGroup.filter(childNode=>{var passBecauseChildren=childNode.childrenAfterFilter&&childNode.childrenAfterFilter.length>0;var passBecauseDataPasses=childNode.data&&this.filterManager.doesRowPassFilter({rowNode:childNode});return passBecauseChildren||passBecauseDataPasses;});}else{rowNode.childrenAfterFilter=rowNode.childrenAfterGroup;}}else{rowNode.childrenAfterFilter=rowNode.childrenAfterGroup;}updateRowNodeAfterFilter(rowNode);};if(this.doingTreeDataFiltering()){var treeDataDepthFirstFilter=(rowNode,alreadyFoundInParent)=>{if(rowNode.childrenAfterGroup){for(var i=0;i<rowNode.childrenAfterGroup.length;i++){var childNode=rowNode.childrenAfterGroup[i];var foundInParent=alreadyFoundInParent||this.filterManager.doesRowPassFilter({rowNode:childNode});if(childNode.childrenAfterGroup){treeDataDepthFirstFilter(rowNode.childrenAfterGroup[i],foundInParent);}else{filterCallback(childNode,foundInParent);}}}filterCallback(rowNode,alreadyFoundInParent);};var treeDataFilterCallback=rowNode=>treeDataDepthFirstFilter(rowNode,false);changedPath.executeFromRootNode(treeDataFilterCallback);}else{var defaultFilterCallback=rowNode=>filterCallback(rowNode,false);changedPath.forEachChangedNodeDepthFirst(defaultFilterCallback,true);}}doingTreeDataFiltering(){return this.gos.get(\"treeData\")&&!this.gos.get(\"excludeChildrenWhenTreeDataFiltering\");}};// packages/ag-grid-community/src/headerRendering/cells/floatingFilter/headerFilterCellCtrl.ts\nvar HeaderFilterCellCtrl=class extends AbstractHeaderCellCtrl{constructor(){super(...arguments);this.iconCreated=false;}setComp(comp,eGui,eButtonShowMainFilter,eFloatingFilterBody,compBeanInput){this.comp=comp;var compBean=setupCompBean(this,this.beans.context,compBeanInput);this.eButtonShowMainFilter=eButtonShowMainFilter;this.eFloatingFilterBody=eFloatingFilterBody;this.setGui(eGui,compBean);this.setupActive();this.refreshHeaderStyles();this.setupWidth(compBean);this.setupLeft(compBean);this.setupHover(compBean);this.setupFocus(compBean);this.setupAria();this.setupFilterButton();this.setupUserComp();this.setupSyncWithFilter(compBean);this.setupUi();compBean.addManagedElementListeners(this.eButtonShowMainFilter,{click:this.showParentFilter.bind(this)});this.setupFilterChangedListener(compBean);var colDefChanged=()=>this.onColDefChanged(compBean);compBean.addManagedListeners(this.column,{colDefChanged});compBean.addManagedEventListeners({filterSwitched:_ref220=>{var{column}=_ref220;if(column===this.column){colDefChanged();}}});compBean.addDestroyFunc(()=>{this.eButtonShowMainFilter=null;this.eFloatingFilterBody=null;this.userCompDetails=null;this.clearComponent();});}// empty abstract method\nresizeHeader(){}moveHeader(){}getHeaderClassParams(){var{column,beans}=this;var colDef=column.colDef;return _addGridCommonParams(beans.gos,{colDef,column,floatingFilter:true});}setupActive(){var colDef=this.column.getColDef();var filterExists=!!colDef.filter;var floatingFilterExists=!!colDef.floatingFilter;this.active=filterExists&&floatingFilterExists;}setupUi(){this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active);this.comp.addOrRemoveBodyCssClass(\"ag-floating-filter-full-body\",this.suppressFilterButton);this.comp.addOrRemoveBodyCssClass(\"ag-floating-filter-body\",!this.suppressFilterButton);if(!this.active||this.iconCreated){return;}var eMenuIcon=_createIconNoSpan(\"filter\",this.beans,this.column);if(eMenuIcon){this.iconCreated=true;this.eButtonShowMainFilter.appendChild(eMenuIcon);}}setupFocus(compBean){compBean.createManagedBean(new ManagedFocusFeature(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}));}setupAria(){var localeTextFunc=this.getLocaleTextFunc();_setAriaLabel(this.eButtonShowMainFilter,localeTextFunc(\"ariaFilterMenuOpen\",\"Open Filter Menu\"));}onTabKeyDown(e){var{beans}=this;var activeEl=_getActiveDomElement(beans);var wrapperHasFocus=activeEl===this.eGui;if(wrapperHasFocus){return;}var nextFocusableEl=_findNextFocusableElement(beans,this.eGui,null,e.shiftKey);if(nextFocusableEl){var _beans$headerNavigati2;(_beans$headerNavigati2=beans.headerNavigation)===null||_beans$headerNavigati2===void 0||_beans$headerNavigati2.scrollToColumn(this.column);e.preventDefault();nextFocusableEl.focus();return;}var nextFocusableColumn=this.findNextColumnWithFloatingFilter(e.shiftKey);if(!nextFocusableColumn){return;}if(beans.focusSvc.focusHeaderPosition({headerPosition:{headerRowIndex:this.rowCtrl.rowIndex,column:nextFocusableColumn},event:e})){e.preventDefault();}}findNextColumnWithFloatingFilter(backwards){var presentedColsService=this.beans.visibleCols;var nextCol=this.column;do{nextCol=backwards?presentedColsService.getColBefore(nextCol):presentedColsService.getColAfter(nextCol);if(!nextCol){break;}}while(!nextCol.getColDef().filter||!nextCol.getColDef().floatingFilter);return nextCol;}handleKeyDown(e){super.handleKeyDown(e);var wrapperHasFocus=this.getWrapperHasFocus();switch(e.key){case KeyCode.UP:case KeyCode.DOWN:case KeyCode.LEFT:case KeyCode.RIGHT:if(wrapperHasFocus){return;}_stopPropagationForAgGrid(e);case KeyCode.ENTER:if(wrapperHasFocus){if(_focusInto(this.eGui)){e.preventDefault();}}break;case KeyCode.ESCAPE:if(!wrapperHasFocus){this.eGui.focus();}}}onFocusIn(e){var isRelatedWithin=this.eGui.contains(e.relatedTarget);if(isRelatedWithin){return;}var notFromHeaderWrapper=!!e.relatedTarget&&!e.relatedTarget.classList.contains(\"ag-floating-filter\");var fromWithinHeader=!!e.relatedTarget&&_isElementChildOfClass(e.relatedTarget,\"ag-floating-filter\");if(notFromHeaderWrapper&&fromWithinHeader&&e.target===this.eGui){var lastFocusEvent=this.lastFocusEvent;var fromTab=!!(lastFocusEvent&&lastFocusEvent.key===KeyCode.TAB);if(lastFocusEvent&&fromTab){var shouldFocusLast=lastFocusEvent.shiftKey;_focusInto(this.eGui,shouldFocusLast);}}this.focusThis();}setupHover(compBean){var _this$beans$colHover4;(_this$beans$colHover4=this.beans.colHover)===null||_this$beans$colHover4===void 0||_this$beans$colHover4.addHeaderFilterColumnHoverListener(compBean,this.comp,this.column,this.eGui);}setupLeft(compBean){var setLeftFeature=new SetLeftFeature(this.column,this.eGui,this.beans);compBean.createManagedBean(setLeftFeature);}setupFilterButton(){var _this$beans$menuSvc4;this.suppressFilterButton=!((_this$beans$menuSvc4=this.beans.menuSvc)!==null&&_this$beans$menuSvc4!==void 0&&_this$beans$menuSvc4.isFloatingFilterButtonEnabled(this.column));this.highlightFilterButtonWhenActive=!_isLegacyMenuEnabled(this.gos);}setupUserComp(){var _this$beans$colFilter3;if(!this.active){return;}var compDetails=(_this$beans$colFilter3=this.beans.colFilter)===null||_this$beans$colFilter3===void 0?void 0:_this$beans$colFilter3.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter());if(compDetails){this.setCompDetails(compDetails);}}setCompDetails(compDetails){this.userCompDetails=compDetails;this.comp.setCompDetails(compDetails);}showParentFilter(){var _this$beans$menuSvc5;var eventSource=this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter;(_this$beans$menuSvc5=this.beans.menuSvc)===null||_this$beans$menuSvc5===void 0||_this$beans$menuSvc5.showFilterMenu({column:this.column,buttonElement:eventSource,containerType:\"floatingFilter\",positionBy:\"button\"});}setupSyncWithFilter(compBean){if(!this.active){return;}var{beans:{colFilter},column,gos}=this;var syncWithFilter=event=>{if((event===null||event===void 0?void 0:event.source)===\"filterDestroyed\"&&(!this.isAlive()||!(colFilter!==null&&colFilter!==void 0&&colFilter.isAlive()))){return;}var compPromise=this.comp.getFloatingFilterComp();if(!compPromise){return;}compPromise.then(comp=>{if(comp){var _event$columns;if(gos.get(\"enableFilterHandlers\")){var eventWithParams=event;var source=\"filter\";if(eventWithParams!==null&&eventWithParams!==void 0&&eventWithParams.afterFloatingFilter){source=\"ui\";}else if(eventWithParams!==null&&eventWithParams!==void 0&&eventWithParams.afterDataChange){source=\"dataChanged\";}else if((event===null||event===void 0?void 0:event.source)===\"api\"){source=\"api\";}this.updateFloatingFilterParams(this.userCompDetails,source);return;}var parentModel=colFilter===null||colFilter===void 0?void 0:colFilter.getCurrentFloatingFilterParentModel(column);var filterChangedEvent=event?_objectSpread(_objectSpread({},event),{},{columns:(_event$columns=event.columns)!==null&&_event$columns!==void 0?_event$columns:[],source:event.source===\"api\"?\"api\":\"columnFilter\"}):null;comp.onParentModelChanged(parentModel,filterChangedEvent);}});};[this.destroySyncListener]=compBean.addManagedListeners(column,{filterChanged:syncWithFilter});if(colFilter!==null&&colFilter!==void 0&&colFilter.isFilterActive(column)){syncWithFilter(null);}}setupWidth(compBean){var listener=()=>{var width=\"\".concat(this.column.getActualWidth(),\"px\");this.comp.setWidth(width);};compBean.addManagedListeners(this.column,{widthChanged:listener});listener();}setupFilterChangedListener(compBean){if(this.active){[this.destroyFilterChangedListener]=compBean.addManagedListeners(this.column,{filterChanged:this.updateFilterButton.bind(this)});this.updateFilterButton();}}updateFilterButton(){if(!this.suppressFilterButton&&this.comp){var _this$beans$filterMan6;var isFilterAllowed=!!((_this$beans$filterMan6=this.beans.filterManager)!==null&&_this$beans$filterMan6!==void 0&&_this$beans$filterMan6.isFilterAllowed(this.column));this.comp.setButtonWrapperDisplayed(isFilterAllowed);if(this.highlightFilterButtonWhenActive&&isFilterAllowed){this.eButtonShowMainFilter.classList.toggle(\"ag-filter-active\",this.column.isFilterActive());}}}onColDefChanged(compBean){var wasActive=this.active;this.setupActive();var becomeActive=!wasActive&&this.active;if(wasActive&&!this.active){this.destroySyncListener();this.destroyFilterChangedListener();}var colFilter=this.beans.colFilter;var newCompDetails=this.active?colFilter===null||colFilter===void 0?void 0:colFilter.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter()):null;var compPromise=this.comp.getFloatingFilterComp();if(!compPromise||!newCompDetails){this.updateCompDetails(compBean,newCompDetails,becomeActive);}else{compPromise.then(compInstance=>{var _this$userCompDetails;if(!compInstance||colFilter!==null&&colFilter!==void 0&&colFilter.areFilterCompsDifferent((_this$userCompDetails=this.userCompDetails)!==null&&_this$userCompDetails!==void 0?_this$userCompDetails:null,newCompDetails)){this.updateCompDetails(compBean,newCompDetails,becomeActive);}else{this.updateFloatingFilterParams(newCompDetails,\"colDef\");}});}}updateCompDetails(compBean,compDetails,becomeActive){if(!this.isAlive()){return;}this.setCompDetails(compDetails);this.setupFilterButton();this.setupUi();if(becomeActive){this.setupSyncWithFilter(compBean);this.setupFilterChangedListener(compBean);}}updateFloatingFilterParams(userCompDetails,source){var _this$comp$getFloatin;if(!userCompDetails){return;}var params=userCompDetails.params;(_this$comp$getFloatin=this.comp.getFloatingFilterComp())===null||_this$comp$getFloatin===void 0||_this$comp$getFloatin.then(floatingFilter=>{if(typeof(floatingFilter===null||floatingFilter===void 0?void 0:floatingFilter.refresh)===\"function\"){if(this.gos.get(\"enableFilterHandlers\")){var _this$beans$colFilter4,_this$beans$colFilter5;params=_objectSpread(_objectSpread({},params),{},{model:_getFilterModel((_this$beans$colFilter4=(_this$beans$colFilter5=this.beans.colFilter)===null||_this$beans$colFilter5===void 0?void 0:_this$beans$colFilter5.model)!==null&&_this$beans$colFilter4!==void 0?_this$beans$colFilter4:{},this.column.getColId()),source});}floatingFilter.refresh(params);}});}addResizeAndMoveKeyboardListeners(){}destroy(){super.destroy();this.destroySyncListener=null;this.destroyFilterChangedListener=null;}};// packages/ag-grid-community/src/misc/menu/menuApi.ts\nfunction showColumnMenu(beans,colKey){var _beans$menuSvc2;var column=beans.colModel.getCol(colKey);if(!column){_error(12,{colKey});return;}(_beans$menuSvc2=beans.menuSvc)===null||_beans$menuSvc2===void 0||_beans$menuSvc2.showColumnMenu({column,positionBy:\"auto\"});}function hidePopupMenu(beans){var _beans$menuSvc3;(_beans$menuSvc3=beans.menuSvc)===null||_beans$menuSvc3===void 0||_beans$menuSvc3.hidePopupMenu();}// packages/ag-grid-community/src/misc/menu/sharedMenuModule.ts\nvar SharedMenuModule={moduleName:\"SharedMenu\",version:VERSION,beans:[MenuService],apiFunctions:{showColumnMenu,hidePopupMenu}};// packages/ag-grid-community/src/widgets/popupService.ts\nvar instanceIdSeq=0;var WAIT_FOR_POPUP_CONTENT_RESIZE=200;var PopupService=class extends BeanStub{constructor(){super(...arguments);this.beanName=\"popupSvc\";this.popupList=[];}postConstruct(){this.beans.ctrlsSvc.whenReady(this,p=>{this.gridCtrl=p.gridCtrl;});this.addManagedEventListeners({gridStylesChanged:this.handleThemeChange.bind(this)});}getPopupParent(){var ePopupParent=this.gos.get(\"popupParent\");if(ePopupParent){return ePopupParent;}return this.gridCtrl.getGui();}positionPopupForMenu(params){var{eventSource,ePopup,column,node,event}=params;var sourceRect=eventSource.getBoundingClientRect();var parentRect=this.getParentRect();this.setAlignedTo(eventSource,ePopup);var minWidthSet=false;var updatePosition=()=>{var y=this.keepXYWithinBounds(ePopup,sourceRect.top-parentRect.top,0/* vertical */);var minWidth=ePopup.clientWidth>0?ePopup.clientWidth:200;if(!minWidthSet){ePopup.style.minWidth=\"\".concat(minWidth,\"px\");minWidthSet=true;}var widthOfParent=parentRect.right-parentRect.left;var maxX=widthOfParent-minWidth;var x;if(this.gos.get(\"enableRtl\")){x=xLeftPosition();if(x<0){x=xRightPosition();this.setAlignedStyles(ePopup,\"left\");}if(x>maxX){x=0;this.setAlignedStyles(ePopup,\"right\");}}else{x=xRightPosition();if(x>maxX){x=xLeftPosition();this.setAlignedStyles(ePopup,\"right\");}if(x<0){x=0;this.setAlignedStyles(ePopup,\"left\");}}return{x,y};function xRightPosition(){return sourceRect.right-parentRect.left-2;}function xLeftPosition(){return sourceRect.left-parentRect.left-minWidth;}};this.positionPopup({ePopup,keepWithinBounds:true,updatePosition,postProcessCallback:()=>this.callPostProcessPopup(\"subMenu\",ePopup,eventSource,event instanceof MouseEvent?event:void 0,column,node)});}positionPopupUnderMouseEvent(params){var{ePopup,nudgeX,nudgeY,skipObserver}=params;this.positionPopup({ePopup,nudgeX,nudgeY,keepWithinBounds:true,skipObserver,updatePosition:()=>this.calculatePointerAlign(params.mouseEvent),postProcessCallback:()=>this.callPostProcessPopup(params.type,params.ePopup,null,params.mouseEvent,params.column,params.rowNode)});}calculatePointerAlign(e){var parentRect=this.getParentRect();return{x:e.clientX-parentRect.left,y:e.clientY-parentRect.top};}positionPopupByComponent(params){var{ePopup,nudgeX,nudgeY,keepWithinBounds,eventSource,alignSide=\"left\",position=\"over\",column,rowNode,type}=params;var sourceRect=eventSource.getBoundingClientRect();var parentRect=this.getParentRect();this.setAlignedTo(eventSource,ePopup);var updatePosition=()=>{var x=sourceRect.left-parentRect.left;if(alignSide===\"right\"){x-=ePopup.offsetWidth-sourceRect.width;}var y;if(position===\"over\"){y=sourceRect.top-parentRect.top;this.setAlignedStyles(ePopup,\"over\");}else{this.setAlignedStyles(ePopup,\"under\");var alignSide2=this.shouldRenderUnderOrAbove(ePopup,sourceRect,parentRect,params.nudgeY||0);if(alignSide2===\"under\"){y=sourceRect.top-parentRect.top+sourceRect.height;}else{y=sourceRect.top-ePopup.offsetHeight-(nudgeY||0)*2-parentRect.top;}}return{x,y};};this.positionPopup({ePopup,nudgeX,nudgeY,keepWithinBounds,updatePosition,postProcessCallback:()=>this.callPostProcessPopup(type,ePopup,eventSource,null,column,rowNode)});}shouldRenderUnderOrAbove(ePopup,targetCompRect,parentRect,nudgeY){var spaceAvailableUnder=parentRect.bottom-targetCompRect.bottom;var spaceAvailableAbove=targetCompRect.top-parentRect.top;var spaceRequired=ePopup.offsetHeight+nudgeY;if(spaceAvailableUnder>spaceRequired){return\"under\";}if(spaceAvailableAbove>spaceRequired||spaceAvailableAbove>spaceAvailableUnder){return\"above\";}return\"under\";}setAlignedStyles(ePopup,positioned){var popupIdx=this.getPopupIndex(ePopup);if(popupIdx===-1){return;}var popup=this.popupList[popupIdx];var{alignedToElement}=popup;if(!alignedToElement){return;}var positions=[\"right\",\"left\",\"over\",\"above\",\"under\"];positions.forEach(position=>{alignedToElement.classList.remove(\"ag-has-popup-positioned-\".concat(position));ePopup.classList.remove(\"ag-popup-positioned-\".concat(position));});if(!positioned){return;}alignedToElement.classList.add(\"ag-has-popup-positioned-\".concat(positioned));ePopup.classList.add(\"ag-popup-positioned-\".concat(positioned));}setAlignedTo(eventSource,ePopup){var popupIdx=this.getPopupIndex(ePopup);if(popupIdx!==-1){var popup=this.popupList[popupIdx];popup.alignedToElement=eventSource;}}callPostProcessPopup(type,ePopup,eventSource,mouseEvent,column,rowNode){var callback=this.gos.getCallback(\"postProcessPopup\");if(callback){var params={column,rowNode,ePopup,type,eventSource,mouseEvent};callback(params);}}positionPopup(params){var _this6=this;var{ePopup,keepWithinBounds,nudgeX,nudgeY,skipObserver,updatePosition}=params;var lastSize={width:0,height:0};var updatePopupPosition=function updatePopupPosition(){var fromResizeObserver=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var{x,y}=updatePosition();if(fromResizeObserver&&ePopup.clientWidth===lastSize.width&&ePopup.clientHeight===lastSize.height){return;}lastSize.width=ePopup.clientWidth;lastSize.height=ePopup.clientHeight;if(nudgeX){x+=nudgeX;}if(nudgeY){y+=nudgeY;}if(keepWithinBounds){x=_this6.keepXYWithinBounds(ePopup,x,1/* horizontal */);y=_this6.keepXYWithinBounds(ePopup,y,0/* vertical */);}ePopup.style.left=\"\".concat(x,\"px\");ePopup.style.top=\"\".concat(y,\"px\");if(params.postProcessCallback){params.postProcessCallback();}};updatePopupPosition();if(!skipObserver){var resizeObserverDestroyFunc=_observeResize(this.beans,ePopup,()=>updatePopupPosition(true));setTimeout(()=>resizeObserverDestroyFunc(),WAIT_FOR_POPUP_CONTENT_RESIZE);}}getActivePopups(){return this.popupList.map(popup=>popup.element);}getParentRect(){var eDocument=_getDocument(this.beans);var popupParent=this.getPopupParent();if(popupParent===eDocument.body){popupParent=eDocument.documentElement;}else if(getComputedStyle(popupParent).position===\"static\"){popupParent=popupParent.offsetParent;}return _getElementRectWithOffset(popupParent);}keepXYWithinBounds(ePopup,position,direction){var isVertical=direction===0/* vertical */;var sizeProperty=isVertical?\"clientHeight\":\"clientWidth\";var anchorProperty=isVertical?\"top\":\"left\";var offsetProperty=isVertical?\"height\":\"width\";var scrollPositionProperty=isVertical?\"scrollTop\":\"scrollLeft\";var eDocument=_getDocument(this.beans);var docElement=eDocument.documentElement;var popupParent=this.getPopupParent();var popupRect=ePopup.getBoundingClientRect();var parentRect=popupParent.getBoundingClientRect();var documentRect=eDocument.documentElement.getBoundingClientRect();var isBody=popupParent===eDocument.body;var offsetSize=Math.ceil(popupRect[offsetProperty]);var getSize2=isVertical?_getAbsoluteHeight:_getAbsoluteWidth;var sizeOfParent=isBody?getSize2(docElement)+docElement[scrollPositionProperty]:popupParent[sizeProperty];if(isBody){sizeOfParent-=Math.abs(documentRect[anchorProperty]-parentRect[anchorProperty]);}var max=sizeOfParent-offsetSize;return Math.min(Math.max(position,0),Math.abs(max));}addPopup(params){var eDocument=_getDocument(this.beans);var{eChild,ariaLabel,alwaysOnTop,positionCallback,anchorToElement}=params;if(!eDocument){_warn(122);return{hideFunc:()=>{}};}var pos=this.getPopupIndex(eChild);if(pos!==-1){var popup=this.popupList[pos];return{hideFunc:popup.hideFunc};}this.initialisePopupPosition(eChild);var wrapperEl=this.createPopupWrapper(eChild,ariaLabel,!!alwaysOnTop);var removeListeners=this.addEventListenersToPopup(_objectSpread(_objectSpread({},params),{},{wrapperEl}));if(positionCallback){positionCallback();}this.addPopupToPopupList(eChild,wrapperEl,removeListeners,anchorToElement);return{hideFunc:removeListeners};}initialisePopupPosition(element){var ePopupParent=this.getPopupParent();var ePopupParentRect=ePopupParent.getBoundingClientRect();if(!_exists(element.style.top)){element.style.top=\"\".concat(ePopupParentRect.top*-1,\"px\");}if(!_exists(element.style.left)){element.style.left=\"\".concat(ePopupParentRect.left*-1,\"px\");}}createPopupWrapper(element,ariaLabel,alwaysOnTop){var ePopupParent=this.getPopupParent();var{environment,gos}=this.beans;var eWrapper=_createElement({tag:\"div\"});environment.applyThemeClasses(eWrapper);eWrapper.classList.add(\"ag-popup\");element.classList.add(gos.get(\"enableRtl\")?\"ag-rtl\":\"ag-ltr\",\"ag-popup-child\");if(!element.hasAttribute(\"role\")){_setAriaRole(element,\"dialog\");}_setAriaLabel(element,ariaLabel);eWrapper.appendChild(element);ePopupParent.appendChild(eWrapper);if(alwaysOnTop){this.setAlwaysOnTop(element,true);}else{this.bringPopupToFront(element);}return eWrapper;}handleThemeChange(e){if(e.themeChanged){var environment=this.beans.environment;for(var popup of this.popupList){environment.applyThemeClasses(popup.wrapper);}}}addEventListenersToPopup(params){var _this7=this;var beans=this.beans;var eDocument=_getDocument(beans);var ePopupParent=this.getPopupParent();var{wrapperEl,eChild:popupEl,closedCallback,afterGuiAttached,closeOnEsc,modal}=params;var popupHidden=false;var hidePopupOnKeyboardEvent=event=>{if(!wrapperEl.contains(_getActiveDomElement(beans))){return;}var key=event.key;if(key===KeyCode.ESCAPE&&!_isStopPropagationForAgGrid(event)){removeListeners({keyboardEvent:event});}};var hidePopupOnMouseEvent=event=>removeListeners({mouseEvent:event});var hidePopupOnTouchEvent=event=>removeListeners({touchEvent:event});var removeListeners=function removeListeners(){var popupParams=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var{mouseEvent,touchEvent,keyboardEvent,forceHide}=popupParams;if(!forceHide&&(// we don't hide popup if the event was on the child, or any\n// children of this child\n_this7.isEventFromCurrentPopup({mouseEvent,touchEvent},popupEl)||// this method should only be called once. the client can have different\n// paths, each one wanting to close, so this method may be called multiple times.\npopupHidden)){return;}popupHidden=true;ePopupParent.removeChild(wrapperEl);eDocument.removeEventListener(\"keydown\",hidePopupOnKeyboardEvent);eDocument.removeEventListener(\"mousedown\",hidePopupOnMouseEvent);eDocument.removeEventListener(\"touchstart\",hidePopupOnTouchEvent);eDocument.removeEventListener(\"contextmenu\",hidePopupOnMouseEvent);_this7.eventSvc.removeEventListener(\"dragStarted\",hidePopupOnMouseEvent);if(closedCallback){closedCallback(mouseEvent||touchEvent||keyboardEvent);}_this7.removePopupFromPopupList(popupEl);};if(afterGuiAttached){afterGuiAttached({hidePopup:removeListeners});}window.setTimeout(()=>{if(closeOnEsc){eDocument.addEventListener(\"keydown\",hidePopupOnKeyboardEvent);}if(modal){eDocument.addEventListener(\"mousedown\",hidePopupOnMouseEvent);this.eventSvc.addEventListener(\"dragStarted\",hidePopupOnMouseEvent);eDocument.addEventListener(\"touchstart\",hidePopupOnTouchEvent);eDocument.addEventListener(\"contextmenu\",hidePopupOnMouseEvent);}},0);return removeListeners;}addPopupToPopupList(element,wrapperEl,removeListeners,anchorToElement){this.popupList.push({element,wrapper:wrapperEl,hideFunc:removeListeners,instanceId:instanceIdSeq++,isAnchored:!!anchorToElement});if(anchorToElement){this.setPopupPositionRelatedToElement(element,anchorToElement);}}getPopupIndex(el){return this.popupList.findIndex(p=>p.element===el);}setPopupPositionRelatedToElement(popupEl,relativeElement){var popupIndex=this.getPopupIndex(popupEl);if(popupIndex===-1){return;}var popup=this.popupList[popupIndex];if(popup.stopAnchoringPromise){popup.stopAnchoringPromise.then(destroyFunc=>destroyFunc&&destroyFunc());}popup.stopAnchoringPromise=void 0;popup.isAnchored=false;if(!relativeElement){return;}var destroyPositionTracker=this.keepPopupPositionedRelativeTo({element:relativeElement,ePopup:popupEl,hidePopup:popup.hideFunc});popup.stopAnchoringPromise=destroyPositionTracker;popup.isAnchored=true;return destroyPositionTracker;}removePopupFromPopupList(element){this.setAlignedStyles(element,null);this.setPopupPositionRelatedToElement(element,null);this.popupList=this.popupList.filter(p=>p.element!==element);}keepPopupPositionedRelativeTo(params){var eParent=this.getPopupParent();var parentRect=eParent.getBoundingClientRect();var{element,ePopup}=params;var sourceRect=element.getBoundingClientRect();var extractFromPixelValue=pxSize=>parseInt(pxSize.substring(0,pxSize.length-1),10);var createPosition=(prop,direction)=>{var initialDiff=parentRect[prop]-sourceRect[prop];var initial=extractFromPixelValue(ePopup.style[prop]);return{initialDiff,lastDiff:initialDiff,initial,last:initial,direction};};var topPosition=createPosition(\"top\",0/* vertical */);var leftPosition=createPosition(\"left\",1/* horizontal */);var fwOverrides=this.beans.frameworkOverrides;return new AgPromise(resolve=>{fwOverrides.wrapIncoming(()=>{fwOverrides.setInterval(()=>{var pRect=eParent.getBoundingClientRect();var sRect=element.getBoundingClientRect();var elementNotInDom=sRect.top==0&&sRect.left==0&&sRect.height==0&&sRect.width==0;if(elementNotInDom){params.hidePopup();return;}var calculateNewPosition=(position,prop)=>{var current=extractFromPixelValue(ePopup.style[prop]);if(position.last!==current){position.initial=current;position.last=current;}var currentDiff=pRect[prop]-sRect[prop];if(currentDiff!=position.lastDiff){var newValue=this.keepXYWithinBounds(ePopup,position.initial+position.initialDiff-currentDiff,position.direction);ePopup.style[prop]=\"\".concat(newValue,\"px\");position.last=newValue;}position.lastDiff=currentDiff;};calculateNewPosition(topPosition,\"top\");calculateNewPosition(leftPosition,\"left\");},200).then(intervalId=>{var result=()=>{if(intervalId!=null){window.clearInterval(intervalId);}};resolve(result);});},\"popupPositioning\");});}hasAnchoredPopup(){return this.popupList.some(popup=>popup.isAnchored);}isEventFromCurrentPopup(params,target){var{mouseEvent,touchEvent}=params;var event=mouseEvent?mouseEvent:touchEvent;if(!event){return false;}var indexOfThisChild=this.getPopupIndex(target);if(indexOfThisChild===-1){return false;}for(var i=indexOfThisChild;i<this.popupList.length;i++){var popup=this.popupList[i];if(_isElementInEventPath(popup.element,event)){return true;}}return this.isElementWithinCustomPopup(event.target);}isElementWithinCustomPopup(el){var eDocument=_getDocument(this.beans);while(el&&el!==eDocument.body){if(el.classList.contains(\"ag-custom-component-popup\")||el.parentElement===null){return true;}el=el.parentElement;}return false;}getWrapper(ePopup){while(!ePopup.classList.contains(\"ag-popup\")&&ePopup.parentElement){ePopup=ePopup.parentElement;}return ePopup.classList.contains(\"ag-popup\")?ePopup:null;}setAlwaysOnTop(ePopup,alwaysOnTop){var eWrapper=this.getWrapper(ePopup);if(!eWrapper){return;}eWrapper.classList.toggle(\"ag-always-on-top\",!!alwaysOnTop);if(alwaysOnTop){this.bringPopupToFront(eWrapper);}}/** @returns true if moved */bringPopupToFront(ePopup){var parent=this.getPopupParent();var popupList=Array.prototype.slice.call(parent.querySelectorAll(\".ag-popup\"));var popupLen=popupList.length;var eWrapper=this.getWrapper(ePopup);if(!eWrapper||popupLen<=1||!parent.contains(ePopup)){return;}var standardPopupList=[];var alwaysOnTopList=[];for(var popup of popupList){if(popup===eWrapper){continue;}if(popup.classList.contains(\"ag-always-on-top\")){alwaysOnTopList.push(popup);}else{standardPopupList.push(popup);}}var innerElsScrollMap=[];var onTopLength=alwaysOnTopList.length;var isPopupAlwaysOnTop=eWrapper.classList.contains(\"ag-always-on-top\");var shouldBeLast=isPopupAlwaysOnTop||!onTopLength;var targetList=shouldBeLast?[...standardPopupList,...alwaysOnTopList,eWrapper]:[...standardPopupList,eWrapper,...alwaysOnTopList];for(var i=0;i<=popupLen;i++){var currentPopup=targetList[i];if(popupList[i]===targetList[i]||currentPopup===eWrapper){continue;}var innerEls=currentPopup.querySelectorAll(\"div\");innerEls.forEach(el=>{if(el.scrollTop!==0){innerElsScrollMap.push([el,el.scrollTop]);}});if(i===0){parent.insertAdjacentElement(\"afterbegin\",currentPopup);}else{targetList[i-1].insertAdjacentElement(\"afterend\",currentPopup);}}while(innerElsScrollMap.length){var currentEl=innerElsScrollMap.pop();currentEl[0].scrollTop=currentEl[1];}}};// packages/ag-grid-community/src/widgets/popupModule.ts\nvar PopupModule={moduleName:\"Popup\",version:VERSION,beans:[PopupService]};// packages/ag-grid-community/src/filter/column-filters.css-GENERATED.ts\nvar columnFiltersCSS=/*css*/\".ag-set-filter{--ag-indentation-level:0}.ag-set-filter-item{align-items:center;display:flex;height:100%}:where(.ag-ltr) .ag-set-filter-item{padding-left:calc(var(--ag-widget-container-horizontal-padding) + var(--ag-indentation-level)*var(--ag-set-filter-indent-size))}:where(.ag-rtl) .ag-set-filter-item{padding-right:calc(var(--ag-widget-container-horizontal-padding) + var(--ag-indentation-level)*var(--ag-set-filter-indent-size))}.ag-set-filter-item-checkbox{display:flex;height:100%;width:100%}.ag-set-filter-group-icons{display:block;>*{cursor:pointer}}:where(.ag-ltr) .ag-set-filter-group-icons{margin-right:var(--ag-widget-container-horizontal-padding)}:where(.ag-rtl) .ag-set-filter-group-icons{margin-left:var(--ag-widget-container-horizontal-padding)}.ag-filter-body-wrapper{display:flex;flex-direction:column}:where(.ag-menu:not(.ag-tabs) .ag-filter) .ag-filter-body-wrapper,:where(.ag-menu:not(.ag-tabs) .ag-filter)>:not(.ag-filter-wrapper){min-width:180px}.ag-filter-filter{flex:1 1 0px}.ag-filter-condition{display:flex;justify-content:center}.ag-floating-filter-body{display:flex;flex:1 1 auto;height:100%;position:relative}.ag-floating-filter-full-body{align-items:center;display:flex;flex:1 1 auto;height:100%;overflow:hidden;width:100%}:where(.ag-floating-filter-full-body)>div{flex:1 1 auto}.ag-floating-filter-input{align-items:center;display:flex;width:100%;>*{flex:1 1 auto}:where(.ag-input-field-input[type=date]),:where(.ag-input-field-input[type=datetime-local]){width:1px}}.ag-floating-filter-button{display:flex;flex:none}.ag-date-floating-filter-wrapper{display:flex}.ag-set-floating-filter-input :where(input)[disabled]{pointer-events:none}.ag-floating-filter-button-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:none;height:var(--ag-icon-size);width:var(--ag-icon-size)}.ag-filter-loading{align-items:unset;background-color:var(--ag-chrome-background-color);height:100%;padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);position:absolute;width:100%;z-index:1;:where(.ag-menu) &{background-color:var(--ag-menu-background-color)}}.ag-filter-separator{border-top:solid var(--ag-border-width) var(--menu-separator-color)}:where(.ag-filter-select) .ag-picker-field-wrapper{width:0}.ag-filter-condition-operator{height:17px}:where(.ag-ltr) .ag-filter-condition-operator-or{margin-left:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-filter-condition-operator-or{margin-right:calc(var(--ag-spacing)*2)}.ag-set-filter-select-all{padding-top:var(--ag-widget-container-vertical-padding)}.ag-filter-no-matches,.ag-set-filter-list{height:calc(var(--ag-list-item-height)*6)}.ag-filter-no-matches{padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}.ag-set-filter-tree-list{height:calc(var(--ag-list-item-height)*10)}.ag-set-filter-filter{margin-left:var(--ag-widget-container-horizontal-padding);margin-right:var(--ag-widget-container-horizontal-padding);margin-top:var(--ag-widget-container-vertical-padding)}.ag-filter-to{margin-top:var(--ag-widget-vertical-spacing)}.ag-mini-filter{margin:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}:where(.ag-ltr) .ag-set-filter-add-group-indent{margin-left:calc(var(--ag-icon-size) + var(--ag-widget-container-horizontal-padding))}:where(.ag-rtl) .ag-set-filter-add-group-indent{margin-right:calc(var(--ag-icon-size) + var(--ag-widget-container-horizontal-padding))}:where(.ag-filter-menu) .ag-set-filter-list{min-width:200px}.ag-filter-virtual-list-item:focus-visible{box-shadow:inset var(--ag-focus-shadow)}.ag-filter-apply-panel{display:flex;justify-content:flex-end;overflow:hidden;padding:var(--ag-widget-vertical-spacing) var(--ag-widget-container-horizontal-padding) var(--ag-widget-container-vertical-padding)}.ag-filter-apply-panel-button{line-height:1.5}:where(.ag-ltr) .ag-filter-apply-panel-button{margin-left:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-filter-apply-panel-button{margin-right:calc(var(--ag-spacing)*2)}.ag-simple-filter-body-wrapper{display:flex;flex-direction:column;min-height:calc(var(--ag-list-item-height) + var(--ag-widget-container-vertical-padding) + var(--ag-widget-vertical-spacing));overflow-y:auto;padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);padding-bottom:calc(var(--ag-widget-container-vertical-padding) - var(--ag-widget-vertical-spacing));&>*{margin-bottom:var(--ag-widget-vertical-spacing)}:where(.ag-resizer-wrapper){margin:0}}.ag-multi-filter-menu-item{margin:var(--ag-spacing) 0}.ag-multi-filter-group-title-bar{background-color:transparent;color:var(--ag-header-text-color);font-weight:500;padding:calc(var(--ag-spacing)*1.5) var(--ag-spacing)}.ag-group-filter-field-select-wrapper{display:flex;flex-direction:column;gap:var(--ag-widget-vertical-spacing);padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}\";// packages/ag-grid-community/src/filter/columnFilterApi.ts\nfunction isColumnFilterPresent(beans){var filterManager=beans.filterManager;return!!(filterManager!==null&&filterManager!==void 0&&filterManager.isColumnFilterPresent())||!!(filterManager!==null&&filterManager!==void 0&&filterManager.isAggregateFilterPresent());}function getColumnFilterInstance(beans,key){var _beans$filterManager$,_beans$filterManager2;return(_beans$filterManager$=(_beans$filterManager2=beans.filterManager)===null||_beans$filterManager2===void 0?void 0:_beans$filterManager2.getColumnFilterInstance(key))!==null&&_beans$filterManager$!==void 0?_beans$filterManager$:Promise.resolve(void 0);}function destroyFilter(beans,key){var column=beans.colModel.getColDefCol(key);if(column){var _beans$colFilter2;return(_beans$colFilter2=beans.colFilter)===null||_beans$colFilter2===void 0?void 0:_beans$colFilter2.destroyFilter(column,\"api\");}}function setFilterModel(beans,model){beans.frameworkOverrides.wrapIncoming(()=>{var _beans$filterManager3;return(_beans$filterManager3=beans.filterManager)===null||_beans$filterManager3===void 0?void 0:_beans$filterManager3.setFilterModel(model);});}function getFilterModel(beans){var _beans$filterManager$2,_beans$filterManager4;return(_beans$filterManager$2=(_beans$filterManager4=beans.filterManager)===null||_beans$filterManager4===void 0?void 0:_beans$filterManager4.getFilterModel())!==null&&_beans$filterManager$2!==void 0?_beans$filterManager$2:{};}function getColumnFilterModel(beans,key,useUnapplied){var _colFilter$getModelFo;var{gos,colModel,colFilter}=beans;if(useUnapplied&&!gos.get(\"enableFilterHandlers\")){_warn(288);useUnapplied=false;}var column=colModel.getColDefCol(key);return column?(_colFilter$getModelFo=colFilter===null||colFilter===void 0?void 0:colFilter.getModelForColumn(column,useUnapplied))!==null&&_colFilter$getModelFo!==void 0?_colFilter$getModelFo:null:null;}function setColumnFilterModel(beans,column,model){var _beans$filterManager$3,_beans$filterManager5;return(_beans$filterManager$3=(_beans$filterManager5=beans.filterManager)===null||_beans$filterManager5===void 0?void 0:_beans$filterManager5.setColumnFilterModel(column,model))!==null&&_beans$filterManager$3!==void 0?_beans$filterManager$3:Promise.resolve();}function showColumnFilter(beans,colKey){var _beans$menuSvc4;var column=beans.colModel.getCol(colKey);if(!column){_error(12,{colKey});return;}(_beans$menuSvc4=beans.menuSvc)===null||_beans$menuSvc4===void 0||_beans$menuSvc4.showFilterMenu({column,containerType:\"columnFilter\",positionBy:\"auto\"});}function getColumnFilterHandler(beans,colKey){var _beans$colFilter3;var column=beans.colModel.getCol(colKey);if(!column){_error(12,{colKey});return void 0;}return(_beans$colFilter3=beans.colFilter)===null||_beans$colFilter3===void 0?void 0:_beans$colFilter3.getHandler(column,true);}function doFilterAction(beans,params){var{colModel,colFilter,gos}=beans;if(!gos.get(\"enableFilterHandlers\")){_warn(287);return;}var{colId,action}=params;if(colId){var column=colModel.getColById(colId);if(column){colFilter===null||colFilter===void 0||colFilter.updateModel(column,action);}}else{colFilter===null||colFilter===void 0||colFilter.updateAllModels(action);}}// packages/ag-grid-community/src/filter/columnFilterService.ts\nvar DUMMY_HANDLER={filterHandler:()=>({doesFilterPass:()=>true})};var ColumnFilterService=class extends BeanStub{constructor(){super(...arguments);this.beanName=\"colFilter\";this.allColumnFilters=/* @__PURE__ */new Map();this.allColumnListeners=/* @__PURE__ */new Map();this.activeAggregateFilters=[];this.activeColumnFilters=[];// this is true when the grid is processing the filter change. this is used by the cell comps, so that they\n// don't flash when data changes due to filter changes. there is no need to flash when filter changes as the\n// user is in control, so doesn't make sense to show flashing changes. for example, go to main demo where\n// this feature is turned off (hack code to always return false for isSuppressFlashingCellsBecauseFiltering(), put in)\n// 100,000 rows and group by country. then do some filtering. all the cells flash, which is silly.\nthis.processingFilterChange=false;// when we're waiting for cell data types to be inferred, we need to defer filter model updates\nthis.modelUpdates=[];this.columnModelUpdates=[];/** This contains the UI state for handler columns */this.state=/* @__PURE__ */new Map();this.handlerMap=_objectSpread({},FILTER_HANDLER_MAP);this.isGlobalButtons=false;this.activeFilterComps=/* @__PURE__ */new Set();}postConstruct(){var _gos$get$filter$filte,_gos$get3;this.addManagedEventListeners({gridColumnsChanged:this.onColumnsChanged.bind(this),beforeRefreshModel:_ref221=>{var{params,groupsChanged}=_ref221;if(groupsChanged||params.rowDataUpdated){this.onNewRowsLoaded(\"rowDataUpdated\");}},dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)});var gos=this.gos;var initialFilterModel=_objectSpread({},(_gos$get$filter$filte=(_gos$get3=gos.get(\"initialState\"))===null||_gos$get3===void 0||(_gos$get3=_gos$get3.filter)===null||_gos$get3===void 0?void 0:_gos$get3.filterModel)!==null&&_gos$get$filter$filte!==void 0?_gos$get$filter$filte:{});this.initialModel=initialFilterModel;this.model=_objectSpread({},initialFilterModel);if(!gos.get(\"enableFilterHandlers\")){delete this.handlerMap[\"agMultiColumnFilter\"];}}setModel(model){var source=arguments.length>1&&arguments[1]!==undefined?arguments[1]:\"api\";var{colModel,dataTypeSvc,filterManager}=this.beans;if(dataTypeSvc!==null&&dataTypeSvc!==void 0&&dataTypeSvc.isPendingInference){this.modelUpdates.push({model,source});return;}var allPromises=[];var previousModel=this.getModel(true);if(model){var modelKeys=new Set(Object.keys(model));this.allColumnFilters.forEach((filterWrapper,colId)=>{var newModel=model[colId];allPromises.push(this.setModelOnFilterWrapper(filterWrapper,newModel));modelKeys.delete(colId);});modelKeys.forEach(colId=>{var column=colModel.getColDefCol(colId)||colModel.getCol(colId);if(!column){_warn(62,{colId});return;}if(!column.isFilterAllowed()){_warn(63,{colId});return;}var filterWrapper=this.getOrCreateFilterWrapper(column,true);if(!filterWrapper){_warn(64,{colId});return;}allPromises.push(this.setModelOnFilterWrapper(filterWrapper,model[colId],true));});}else{this.model={};this.allColumnFilters.forEach(filterWrapper=>{allPromises.push(this.setModelOnFilterWrapper(filterWrapper,null));});}AgPromise.all(allPromises).then(()=>{var currentModel=this.getModel(true);var columns=[];this.allColumnFilters.forEach((filterWrapper,colId)=>{var before=previousModel?previousModel[colId]:null;var after=currentModel?currentModel[colId]:null;if(!_jsonEquals(before,after)){columns.push(filterWrapper.column);}});if(columns.length>0){filterManager===null||filterManager===void 0||filterManager.onFilterChanged({columns,source});}});}getModel(excludeInitialState){var result={};var{allColumnFilters,initialModel,beans:{colModel}}=this;allColumnFilters.forEach((filterWrapper,key)=>{var model=this.getModelFromFilterWrapper(filterWrapper);if(_exists(model)){result[key]=model;}});if(!excludeInitialState){for(var colId of Object.keys(initialModel)){var _colModel$getCol2;var model=initialModel[colId];if(_exists(model)&&!allColumnFilters.has(colId)&&(_colModel$getCol2=colModel.getCol(colId))!==null&&_colModel$getCol2!==void 0&&_colModel$getCol2.isFilterAllowed()){result[colId]=model;}}}return result;}setState(model,state){var source=arguments.length>2&&arguments[2]!==undefined?arguments[2]:\"api\";this.state.clear();if(state){for(var colId of Object.keys(state)){var newState=state[colId];this.state.set(colId,{model:_getFilterModel(this.model,colId),state:newState});}}this.setModel(model,source);}getState(){var state=this.state;if(!state.size){return void 0;}var newState={};var hasNewState=false;state.forEach((colState,colId)=>{var actualState=colState.state;if(actualState!=null){hasNewState=true;newState[colId]=actualState;}});return hasNewState?newState:void 0;}getModelFromFilterWrapper(filterWrapper){var column=filterWrapper.column;var colId=column.getColId();if(filterWrapper.isHandler){return _getFilterModel(this.model,colId);}var filter=filterWrapper.filter;if(filter){if(typeof filter.getModel!==\"function\"){_warn(66);return null;}return filter.getModel();}return _getFilterModel(this.initialModel,colId);}isFilterPresent(){return this.activeColumnFilters.length>0;}isAggFilterPresent(){return!!this.activeAggregateFilters.length;}disableFilters(){this.initialModel={};var{allColumnFilters}=this;if(allColumnFilters.size){allColumnFilters.forEach(filterWrapper=>this.disposeFilterWrapper(filterWrapper,\"advancedFilterEnabled\"));return true;}return false;}updateActiveFilters(){var isFilterActive=filter=>{if(!filter){return false;}if(!filter.isFilterActive){_warn(67);return false;}return filter.isFilterActive();};var{colModel,gos}=this.beans;var groupFilterEnabled=!!_getGroupAggFiltering(gos);var isAggFilter=column=>{var isSecondary=!column.isPrimary();if(isSecondary){return true;}var isShowingPrimaryColumns=!colModel.isPivotActive();var isValueActive=column.isValueActive();if(!isValueActive||!isShowingPrimaryColumns){return false;}if(colModel.isPivotMode()){return true;}return groupFilterEnabled;};var activeAggregateFilters=[];var activeColumnFilters=[];var addFilter=(column,filterActive,doesFilterPassWrapper)=>{if(filterActive){if(isAggFilter(column)){activeAggregateFilters.push(doesFilterPassWrapper);}else{activeColumnFilters.push(doesFilterPassWrapper);}}};var promises=[];this.allColumnFilters.forEach(filterWrapper=>{var column=filterWrapper.column;var colId=column.getColId();if(filterWrapper.isHandler){promises.push(AgPromise.resolve().then(()=>{addFilter(column,this.isHandlerActive(column),{colId,isHandler:true,handler:filterWrapper.handler,handlerParams:filterWrapper.handlerParams});}));}else{var promise=getFilterUiFromWrapper(filterWrapper);if(promise){promises.push(promise.then(filter=>{addFilter(column,isFilterActive(filter),{colId,isHandler:false,comp:filter});}));}}});return AgPromise.all(promises).then(()=>{this.activeAggregateFilters=activeAggregateFilters;this.activeColumnFilters=activeColumnFilters;});}updateFilterFlagInColumns(source,additionalEventAttributes){var _this$beans$groupFilt;var promises=[];this.allColumnFilters.forEach(filterWrapper=>{var column=filterWrapper.column;if(filterWrapper.isHandler){promises.push(AgPromise.resolve().then(()=>{this.setColFilterActive(column,this.isHandlerActive(column),source,additionalEventAttributes);}));}else{var promise=getFilterUiFromWrapper(filterWrapper);if(promise){promises.push(promise.then(filter=>{this.setColFilterActive(column,filter.isFilterActive(),source,additionalEventAttributes);}));}}});(_this$beans$groupFilt=this.beans.groupFilter)===null||_this$beans$groupFilt===void 0||_this$beans$groupFilt.updateFilterFlags(source,additionalEventAttributes);return AgPromise.all(promises);}doFiltersPass(node,colIdToSkip,targetAggregates){var{data,aggData}=node;var targetedFilters=targetAggregates?this.activeAggregateFilters:this.activeColumnFilters;var targetedData=targetAggregates?aggData:data;var model=this.model;for(var i=0;i<targetedFilters.length;i++){var filter=targetedFilters[i];var{colId,isHandler}=filter;if(colId===colIdToSkip){continue;}if(isHandler){var{handler,handlerParams}=filter;if(!handler.doesFilterPass({node,data:targetedData,model:_getFilterModel(model,colId),handlerParams})){return false;}}else{var comp=filter.comp;if(typeof comp.doesFilterPass!==\"function\"){_error(91);continue;}if(!comp.doesFilterPass({node,data:targetedData})){return false;}}}return true;}getHandlerParams(column){var wrapper=this.allColumnFilters.get(column.getColId());return wrapper!==null&&wrapper!==void 0&&wrapper.isHandler?wrapper.handlerParams:void 0;}// sometimes (especially in React) the filter can call onFilterChanged when we are in the middle\n// of a render cycle. this would be bad, so we wait for render cycle to complete when this happens.\n// this happens in react when we change React State in the grid (eg setting RowCtrl's in RowContainer)\n// which results in React State getting applied in the main application, triggering a useEffect() to\n// be kicked off adn then the application calling the grid's API. in AG-6554, the custom filter was\n// getting it's useEffect() triggered in this way.\ncallOnFilterChangedOutsideRenderCycle(params){var{rowRenderer,filterManager}=this.beans;var action=()=>{if(this.isAlive()){filterManager===null||filterManager===void 0||filterManager.onFilterChanged(params);}};if(rowRenderer.isRefreshInProgress()){setTimeout(action,0);}else{action();}}updateBeforeFilterChanged(){var params=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var{column,additionalEventAttributes}=params;var colId=column===null||column===void 0?void 0:column.getColId();return this.updateActiveFilters().then(()=>this.updateFilterFlagInColumns(\"filterChanged\",additionalEventAttributes).then(()=>{this.allColumnFilters.forEach(filterWrapper=>{var _getFilterUiFromWrapp;var{column:filterColumn,isHandler}=filterWrapper;if(colId===filterColumn.getColId()){return;}if(isHandler){var _filterWrapper$handle,_filterWrapper$handle2;(_filterWrapper$handle=(_filterWrapper$handle2=filterWrapper.handler).onAnyFilterChanged)===null||_filterWrapper$handle===void 0||_filterWrapper$handle.call(_filterWrapper$handle2);}(_getFilterUiFromWrapp=getFilterUiFromWrapper(filterWrapper,isHandler))===null||_getFilterUiFromWrapp===void 0||_getFilterUiFromWrapp.then(filter=>{if(typeof(filter===null||filter===void 0?void 0:filter.onAnyFilterChanged)===\"function\"){filter.onAnyFilterChanged();}});});this.processingFilterChange=true;}));}updateAfterFilterChanged(){this.processingFilterChange=false;}isSuppressFlashingCellsBecauseFiltering(){var _this$gos$get4;var allowShowChangeAfterFilter=(_this$gos$get4=this.gos.get(\"allowShowChangeAfterFilter\"))!==null&&_this$gos$get4!==void 0?_this$gos$get4:false;return!allowShowChangeAfterFilter&&this.processingFilterChange;}onNewRowsLoaded(source){var promises=[];this.allColumnFilters.forEach(filterWrapper=>{var isHandler=filterWrapper.isHandler;if(isHandler){var _filterWrapper$handle3,_filterWrapper$handle4;(_filterWrapper$handle3=(_filterWrapper$handle4=filterWrapper.handler).onNewRowsLoaded)===null||_filterWrapper$handle3===void 0||_filterWrapper$handle3.call(_filterWrapper$handle4);}var promise=getFilterUiFromWrapper(filterWrapper,isHandler);if(promise){promises.push(promise.then(filter=>{var _filter$onNewRowsLoad;(_filter$onNewRowsLoad=filter.onNewRowsLoaded)===null||_filter$onNewRowsLoad===void 0||_filter$onNewRowsLoad.call(filter);}));}});AgPromise.all(promises).then(()=>this.updateFilterFlagInColumns(source,{afterDataChange:true})).then(()=>this.updateActiveFilters());}createGetValue(filterColumn,filterValueGetterOverride){var{filterValueSvc,colModel}=this.beans;return(rowNode,column)=>{var columnToUse=column?colModel.getCol(column):filterColumn;return columnToUse?filterValueSvc.getValue(columnToUse,rowNode,filterValueGetterOverride):void 0;};}isFilterActive(column){var filterWrapper=this.cachedFilter(column);if(filterWrapper!==null&&filterWrapper!==void 0&&filterWrapper.isHandler){return this.isHandlerActive(column);}var filter=filterWrapper===null||filterWrapper===void 0?void 0:filterWrapper.filter;if(filter){return filter.isFilterActive();}return _getFilterModel(this.initialModel,column.getColId())!=null;}isHandlerActive(column){var active=_exists(_getFilterModel(this.model,column.getColId()));if(active){return active;}var groupFilter=this.beans.groupFilter;return groupFilter!==null&&groupFilter!==void 0&&groupFilter.isGroupFilter(column)?groupFilter.isFilterActive(column):false;}getOrCreateFilterUi(column){var filterWrapper=this.getOrCreateFilterWrapper(column,true);return filterWrapper?getFilterUiFromWrapper(filterWrapper):null;}getFilterUiForDisplay(column){var filterWrapper=this.getOrCreateFilterWrapper(column,true);if(!filterWrapper){return null;}var compPromise=getFilterUiFromWrapper(filterWrapper);if(!compPromise){return null;}return compPromise.then(comp=>({comp,params:filterWrapper.filterUi.filterParams,isHandler:filterWrapper.isHandler}));}getHandler(column,createIfMissing){var filterWrapper=this.getOrCreateFilterWrapper(column,createIfMissing);return filterWrapper!==null&&filterWrapper!==void 0&&filterWrapper.isHandler?filterWrapper.handler:void 0;}getOrCreateFilterWrapper(column,createIfMissing){if(!column.isFilterAllowed()){return void 0;}var filterWrapper=this.cachedFilter(column);if(!filterWrapper&&createIfMissing){filterWrapper=this.createFilterWrapper(column);this.setColumnFilterWrapper(column,filterWrapper);}return filterWrapper;}cachedFilter(column){return this.allColumnFilters.get(column.getColId());}getDefaultFilter(column){var isFloating=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;return this.getDefaultFilterFromDataType(()=>{var _this$beans$dataTypeS2;return(_this$beans$dataTypeS2=this.beans.dataTypeSvc)===null||_this$beans$dataTypeS2===void 0?void 0:_this$beans$dataTypeS2.getBaseDataType(column);},isFloating);}getDefaultFilterFromDataType(getCellDataType){var isFloating=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(_isSetFilterByDefault(this.gos)){return isFloating?\"agSetColumnFloatingFilter\":\"agSetColumnFilter\";}return _getDefaultSimpleFilter(getCellDataType(),isFloating);}getDefaultFloatingFilter(column){return this.getDefaultFilter(column,true);}createFilterComp(column,filterDef,defaultFilter,getFilterParams,isHandler,source){var createFilterCompDetails=()=>{var params=this.createFilterCompParams(column,isHandler,source);var updatedParams=getFilterParams(params,isHandler);return _getFilterDetails(this.beans.userCompFactory,filterDef,updatedParams,defaultFilter);};var compDetails=createFilterCompDetails();if(!compDetails){return null;}var createFilterUi=update=>{return(update?createFilterCompDetails():compDetails).newAgStackInstance();};return{compDetails,createFilterUi};}createFilterInstance(column,filterDef,defaultFilter,getFilterParams){var _this$createHandler;var selectableFilter=this.beans.selectableFilter;if(selectableFilter!==null&&selectableFilter!==void 0&&selectableFilter.isSelectable(filterDef)){filterDef=selectableFilter.getFilterDef(column,filterDef);}var{handler,handlerParams,handlerGenerator}=(_this$createHandler=this.createHandler(column,filterDef,defaultFilter))!==null&&_this$createHandler!==void 0?_this$createHandler:{};var filterCompDetails=this.createFilterComp(column,filterDef,defaultFilter,getFilterParams,!!handler,\"init\");if(!filterCompDetails){return{compDetails:null,createFilterUi:null,handler,handlerGenerator,handlerParams};}var{compDetails,createFilterUi}=filterCompDetails;if(this.isGlobalButtons){var _compDetails$params3;var hasLocalButtons=!!((_compDetails$params3=compDetails.params)!==null&&_compDetails$params3!==void 0&&(_compDetails$params3=_compDetails$params3.buttons)!==null&&_compDetails$params3!==void 0&&_compDetails$params3.length);if(!hasLocalButtons){_warn(281,{colId:column.getColId()});}}return{compDetails,handler,handlerGenerator,handlerParams,createFilterUi};}createBaseFilterParams(column,forFloatingFilter){var{filterManager,rowModel}=this.beans;return _addGridCommonParams(this.gos,{column,colDef:column.getColDef(),getValue:this.createGetValue(column),doesRowPassOtherFilter:forFloatingFilter?()=>true:node=>{var _filterManager$doesRo;return(_filterManager$doesRo=filterManager===null||filterManager===void 0?void 0:filterManager.doesRowPassOtherFilters(column.getColId(),node))!==null&&_filterManager$doesRo!==void 0?_filterManager$doesRo:true;},// to avoid breaking changes to `filterParams` defined as functions\n// we need to provide the below options even though they are not valid for handlers\nrowModel});}createFilterCompParams(column,useHandler,source,forFloatingFilter){var filterChangedCallback=this.filterChangedCallbackFactory(column);var params=this.createBaseFilterParams(column,forFloatingFilter);params.filterChangedCallback=filterChangedCallback;params.filterModifiedCallback=forFloatingFilter?()=>{}:additionalEventAttributes=>this.filterModified(column,additionalEventAttributes);if(useHandler){var _this$state$get;var displayParams=params;var colId=column.getColId();var model=_getFilterModel(this.model,colId);displayParams.model=model;displayParams.state=(_this$state$get=this.state.get(colId))!==null&&_this$state$get!==void 0?_this$state$get:{model};displayParams.onModelChange=(model2,additionalEventAttributes)=>{this.updateStoredModel(colId,model2);this.refreshHandlerAndUi(column,model2,\"ui\").then(()=>{filterChangedCallback(_objectSpread(_objectSpread({},additionalEventAttributes),{},{source:\"columnFilter\"}));});};displayParams.onStateChange=state=>{this.updateState(column,state);this.updateOrRefreshFilterUi(column);};displayParams.onAction=(action,additionalEventAttributes,event)=>{this.updateModel(column,action,additionalEventAttributes);this.dispatchLocalEvent({type:\"filterAction\",column,action,event});};displayParams.getHandler=()=>this.getHandler(column,true);displayParams.onUiChange=additionalEventAttributes=>this.filterUiChanged(column,additionalEventAttributes);displayParams.source=source;}return params;}createFilterUiForHandler(compDetails,createFilterUi){return createFilterUi?{created:false,create:createFilterUi,filterParams:compDetails.params,compDetails}:null;}createFilterUiLegacy(compDetails,createFilterUi,updateInstanceCallback){var promise=createFilterUi();var filterUi={created:true,create:createFilterUi,filterParams:compDetails.params,compDetails,promise};promise.then(updateInstanceCallback);return filterUi;}createFilterWrapper(column){var{compDetails,handler,handlerGenerator,handlerParams,createFilterUi}=this.createFilterInstance(column,column.getColDef(),this.getDefaultFilter(column),params=>params);var colId=column.getColId();if(handler){var _handler$init;delete this.initialModel[colId];(_handler$init=handler.init)===null||_handler$init===void 0||_handler$init.call(handler,_objectSpread(_objectSpread({},handlerParams),{},{source:\"init\",model:_getFilterModel(this.model,colId)}));return{column,isHandler:true,handler,handlerGenerator,handlerParams,filterUi:this.createFilterUiForHandler(compDetails,createFilterUi)};}if(createFilterUi){var filterWrapper={column,filterUi:null,isHandler:false};filterWrapper.filterUi=this.createFilterUiLegacy(compDetails,createFilterUi,filterComp=>{filterWrapper.filter=filterComp!==null&&filterComp!==void 0?filterComp:void 0;});return filterWrapper;}return{column,filterUi:null,isHandler:false};}createHandlerFunc(filterDef,defaultFilter){var{gos,frameworkOverrides,registry}=this.beans;var doesFilterPass;var getFilterHandlerFromDef=filterDef2=>{var filter=filterDef2.filter;if(isColumnFilterComp(filter)){var handler=filter.handler;if(handler){return handler;}doesFilterPass=filter.doesFilterPass;if(doesFilterPass){return()=>({doesFilterPass});}return void 0;}return typeof filter===\"string\"?filter:void 0;};var providedFilterHandler=gos.get(\"enableFilterHandlers\")?getFilterHandlerFromDef(filterDef):void 0;var resolveProvidedFilterHandler=handlerName2=>()=>this.createBean(registry.createDynamicBean(handlerName2,true));var filterHandler;var handlerName;if(typeof providedFilterHandler===\"string\"){var _gos$get4;var userFilterHandler=(_gos$get4=gos.get(\"filterHandlers\"))===null||_gos$get4===void 0?void 0:_gos$get4[providedFilterHandler];if(userFilterHandler!=null){filterHandler=userFilterHandler;}else{if(FILTER_HANDLERS.has(providedFilterHandler)){filterHandler=resolveProvidedFilterHandler(providedFilterHandler);handlerName=providedFilterHandler;}}}else{filterHandler=providedFilterHandler;}if(!filterHandler){var filterName;var{compName,jsComp,fwComp}=_getFilterCompKeys(frameworkOverrides,filterDef);if(compName){filterName=compName;}else{var usingDefaultFilter=jsComp==null&&fwComp==null&&filterDef.filter===true;if(usingDefaultFilter){filterName=defaultFilter;}}handlerName=this.handlerMap[filterName];if(handlerName){filterHandler=resolveProvidedFilterHandler(handlerName);}}if(!filterHandler){return void 0;}return{filterHandler,handlerNameOrCallback:doesFilterPass!==null&&doesFilterPass!==void 0?doesFilterPass:handlerName};}createHandler(column,filterDef,defaultFilter){var handlerFunc=this.createHandlerFunc(filterDef,defaultFilter);if(!handlerFunc){var gos=this.gos;if(!gos.get(\"enableFilterHandlers\")){return void 0;}if(_isClientSideRowModel(gos)){_warn(277,{colId:column.getColId()});}handlerFunc=DUMMY_HANDLER;}var filterParams=_mergeFilterParamsWithApplicationProvidedParams(this.beans.userCompFactory,filterDef,this.createFilterCompParams(column,true,\"init\"));var{handlerNameOrCallback,filterHandler}=handlerFunc;var{handler,handlerParams}=this.createHandlerFromFunc(column,filterHandler,filterParams);return{handler,handlerParams,handlerGenerator:handlerNameOrCallback!==null&&handlerNameOrCallback!==void 0?handlerNameOrCallback:filterHandler};}createHandlerFromFunc(column,filterHandler,filterParams){var colDef=column.getColDef();var handler=filterHandler(_addGridCommonParams(this.gos,{column,colDef}));var handlerParams=this.createHandlerParams(column,filterParams);return{handler,handlerParams};}createHandlerParams(column,filterParams){var colDef=column.getColDef();var colId=column.getColId();var filterChangedCallback=this.filterChangedCallbackFactory(column);return _addGridCommonParams(this.gos,{colDef,column,getValue:this.createGetValue(column),doesRowPassOtherFilter:node=>{var _this$beans$filterMan7,_this$beans$filterMan8;return(_this$beans$filterMan7=(_this$beans$filterMan8=this.beans.filterManager)===null||_this$beans$filterMan8===void 0?void 0:_this$beans$filterMan8.doesRowPassOtherFilters(colId,node))!==null&&_this$beans$filterMan7!==void 0?_this$beans$filterMan7:true;},onModelChange:(newModel,additionalEventAttributes)=>{this.updateStoredModel(colId,newModel);this.refreshHandlerAndUi(column,newModel,\"handler\").then(()=>{filterChangedCallback(_objectSpread(_objectSpread({},additionalEventAttributes),{},{source:\"columnFilter\"}));});},filterParams});}onColumnsChanged(){var columns=[];var{colModel,filterManager,groupFilter}=this.beans;this.allColumnFilters.forEach((wrapper,colId)=>{var currentColumn;if(wrapper.column.isPrimary()){currentColumn=colModel.getColDefCol(colId);}else{currentColumn=colModel.getCol(colId);}if(currentColumn&&currentColumn===wrapper.column){return;}columns.push(wrapper.column);this.disposeFilterWrapper(wrapper,\"columnChanged\");this.disposeColumnListener(colId);});var allFiltersAreGroupFilters=groupFilter&&columns.every(col=>groupFilter.isGroupFilter(col));if(columns.length>0&&!allFiltersAreGroupFilters){filterManager===null||filterManager===void 0||filterManager.onFilterChanged({columns,source:\"api\"});}}isFilterAllowed(column){var isFilterAllowed=column.isFilterAllowed();if(!isFilterAllowed){return false;}var groupFilter=this.beans.groupFilter;if(groupFilter!==null&&groupFilter!==void 0&&groupFilter.isGroupFilter(column)){return groupFilter.isFilterAllowed(column);}return true;}getFloatingFilterCompDetails(column,showParentFilter){var _getDefaultFloatingFi;var{userCompFactory,frameworkOverrides,selectableFilter}=this.beans;var parentFilterInstance=callback=>{var filterComponent=this.getOrCreateFilterUi(column);if(filterComponent==null){return;}filterComponent.then(instance=>{callback(_unwrapUserComp(instance));});};var colDef=column.getColDef();var filterDef=selectableFilter!==null&&selectableFilter!==void 0&&selectableFilter.isSelectable(colDef)?selectableFilter.getFilterDef(column,colDef):colDef;var defaultFloatingFilterType=(_getDefaultFloatingFi=_getDefaultFloatingFilterType(frameworkOverrides,filterDef,()=>this.getDefaultFloatingFilter(column)))!==null&&_getDefaultFloatingFi!==void 0?_getDefaultFloatingFi:\"agReadOnlyFloatingFilter\";var isReactive=this.gos.get(\"enableFilterHandlers\");var filterParams=_mergeFilterParamsWithApplicationProvidedParams(userCompFactory,filterDef,this.createFilterCompParams(column,isReactive,\"init\",true));var params=_addGridCommonParams(this.gos,{column,filterParams,currentParentModel:()=>this.getCurrentFloatingFilterParentModel(column),parentFilterInstance,showParentFilter});if(isReactive){var displayParams=params;var colId=column.getColId();var filterChangedCallback=this.filterChangedCallbackFactory(column);displayParams.onUiChange=additionalEventAttributes=>this.floatingFilterUiChanged(column,additionalEventAttributes);displayParams.model=_getFilterModel(this.model,colId);displayParams.onModelChange=(model,additionalEventAttributes)=>{this.updateStoredModel(colId,model);this.refreshHandlerAndUi(column,model,\"floating\",true).then(()=>{filterChangedCallback(_objectSpread(_objectSpread({},additionalEventAttributes),{},{source:\"columnFilter\"}));});};displayParams.getHandler=()=>this.getHandler(column,true);displayParams.source=\"init\";}return _getFloatingFilterCompDetails(userCompFactory,colDef,params,defaultFloatingFilterType);}getCurrentFloatingFilterParentModel(column){var _this$cachedFilter;return this.getModelFromFilterWrapper((_this$cachedFilter=this.cachedFilter(column))!==null&&_this$cachedFilter!==void 0?_this$cachedFilter:{column});}destroyFilterUi(filterWrapper,column,compDetails,createFilterUi){if(filterWrapper.isHandler){var colId=column.getColId();delete this.initialModel[colId];this.state.delete(colId);var filterUi=filterWrapper.filterUi;var newFilterUi=this.createFilterUiForHandler(compDetails,createFilterUi);filterWrapper.filterUi=newFilterUi;if(filterUi!==null&&filterUi!==void 0&&filterUi.created){filterUi.promise.then(filter=>{this.destroyBean(filter);this.eventSvc.dispatchEvent({type:\"filterDestroyed\",source:\"paramsUpdated\",column:filterWrapper.column});});}}else{this.destroyFilter(column,\"paramsUpdated\");}}// destroys the filter, so it no longer takes part\ndestroyFilter(column){var source=arguments.length>1&&arguments[1]!==undefined?arguments[1]:\"api\";var colId=column.getColId();var filterWrapper=this.allColumnFilters.get(colId);this.disposeColumnListener(colId);delete this.initialModel[colId];if(filterWrapper){this.disposeFilterWrapper(filterWrapper,source).then(wasActive=>{if(wasActive&&this.isAlive()){var _this$beans$filterMan9;(_this$beans$filterMan9=this.beans.filterManager)===null||_this$beans$filterMan9===void 0||_this$beans$filterMan9.onFilterChanged({columns:[column],source:\"api\"});}});}}disposeColumnListener(colId){var columnListener=this.allColumnListeners.get(colId);if(columnListener){this.allColumnListeners.delete(colId);columnListener();}}disposeFilterWrapper(filterWrapper,source){var isActive=false;var{column,isHandler,filterUi}=filterWrapper;var colId=column.getColId();if(isHandler){isActive=this.isHandlerActive(column);this.destroyBean(filterWrapper.handler);delete this.model[colId];this.state.delete(colId);}var removeFilter=()=>{this.setColFilterActive(column,false,\"filterDestroyed\");this.allColumnFilters.delete(colId);this.eventSvc.dispatchEvent({type:\"filterDestroyed\",source,column});};if(filterUi){if(filterUi.created){return filterUi.promise.then(filter=>{isActive=isHandler?isActive:!!(filter!==null&&filter!==void 0&&filter.isFilterActive());this.destroyBean(filter);removeFilter();return isActive;});}else{removeFilter();}}return AgPromise.resolve(isActive);}filterChangedCallbackFactory(column){return additionalEventAttributes=>{var _additionalEventAttri;this.callOnFilterChangedOutsideRenderCycle({additionalEventAttributes,columns:[column],column,source:(_additionalEventAttri=additionalEventAttributes===null||additionalEventAttributes===void 0?void 0:additionalEventAttributes.source)!==null&&_additionalEventAttri!==void 0?_additionalEventAttri:\"columnFilter\"});};}filterParamsChanged(colId){var _ref222,_compDetails$params4,_filterWrapper$filter,_filterWrapper$filter2,_getFilterUiFromWrapp2;var source=arguments.length>1&&arguments[1]!==undefined?arguments[1]:\"api\";var filterWrapper=this.allColumnFilters.get(colId);if(!filterWrapper){return;}var beans=this.beans;var column=filterWrapper.column;var colDef=column.getColDef();var isFilterAllowed=column.isFilterAllowed();var defaultFilter=this.getDefaultFilter(column);var selectableFilter=beans.selectableFilter;var filterDef=selectableFilter!==null&&selectableFilter!==void 0&&selectableFilter.isSelectable(colDef)?selectableFilter.getFilterDef(column,colDef):colDef;var handlerFunc=isFilterAllowed?this.createHandlerFunc(filterDef,this.getDefaultFilter(column)):void 0;var isHandler=!!handlerFunc;var wasHandler=filterWrapper.isHandler;if(wasHandler!=isHandler){this.destroyFilter(column,\"paramsUpdated\");return;}var{compDetails,createFilterUi}=(_ref222=isFilterAllowed?this.createFilterComp(column,filterDef,defaultFilter,params=>params,isHandler,\"colDef\"):null)!==null&&_ref222!==void 0?_ref222:{compDetails:null,createFilterUi:null};var newFilterParams=(_compDetails$params4=compDetails===null||compDetails===void 0?void 0:compDetails.params)!==null&&_compDetails$params4!==void 0?_compDetails$params4:_mergeFilterParamsWithApplicationProvidedParams(beans.userCompFactory,filterDef,this.createFilterCompParams(column,isHandler,\"colDef\"));if(wasHandler){var _handlerFunc$handlerN;var handlerGenerator=(_handlerFunc$handlerN=handlerFunc===null||handlerFunc===void 0?void 0:handlerFunc.handlerNameOrCallback)!==null&&_handlerFunc$handlerN!==void 0?_handlerFunc$handlerN:handlerFunc===null||handlerFunc===void 0?void 0:handlerFunc.filterHandler;var existingModel=_getFilterModel(this.model,colId);if(filterWrapper.handlerGenerator!=handlerGenerator){var _handler$init2;var oldHandler=filterWrapper.handler;var{handler,handlerParams}=this.createHandlerFromFunc(column,handlerFunc.filterHandler,newFilterParams);filterWrapper.handler=handler;filterWrapper.handlerParams=handlerParams;filterWrapper.handlerGenerator=handlerGenerator;delete this.model[colId];(_handler$init2=handler.init)===null||_handler$init2===void 0||_handler$init2.call(handler,_objectSpread(_objectSpread({},handlerParams),{},{source:\"init\",model:null}));this.destroyBean(oldHandler);if(existingModel!=null){var _this$beans$filterMan0;(_this$beans$filterMan0=this.beans.filterManager)===null||_this$beans$filterMan0===void 0||_this$beans$filterMan0.onFilterChanged({columns:[column],source});}}else{var _filterWrapper$handle5,_filterWrapper$handle6;var _handlerParams=this.createHandlerParams(column,compDetails===null||compDetails===void 0?void 0:compDetails.params);filterWrapper.handlerParams=_handlerParams;(_filterWrapper$handle5=(_filterWrapper$handle6=filterWrapper.handler).refresh)===null||_filterWrapper$handle5===void 0||_filterWrapper$handle5.call(_filterWrapper$handle6,_objectSpread(_objectSpread({},_handlerParams),{},{source:\"colDef\",model:existingModel}));}}if(this.areFilterCompsDifferent((_filterWrapper$filter=(_filterWrapper$filter2=filterWrapper.filterUi)===null||_filterWrapper$filter2===void 0?void 0:_filterWrapper$filter2.compDetails)!==null&&_filterWrapper$filter!==void 0?_filterWrapper$filter:null,compDetails)||!filterWrapper.filterUi||!compDetails){this.destroyFilterUi(filterWrapper,column,compDetails,createFilterUi);return;}filterWrapper.filterUi.filterParams=newFilterParams;(_getFilterUiFromWrapp2=getFilterUiFromWrapper(filterWrapper,wasHandler))===null||_getFilterUiFromWrapp2===void 0||_getFilterUiFromWrapp2.then(filter=>{var shouldRefreshFilter=filter!==null&&filter!==void 0&&filter.refresh?filter.refresh(newFilterParams):true;if(shouldRefreshFilter===false){this.destroyFilterUi(filterWrapper,column,compDetails,createFilterUi);}else{this.dispatchLocalEvent({type:\"filterParamsChanged\",column,params:newFilterParams});}});}refreshHandlerAndUi(column,model,source,createIfMissing){var _this$state$get2;var filterWrapper=this.cachedFilter(column);if(!filterWrapper){if(createIfMissing){this.getOrCreateFilterWrapper(column,true);}return AgPromise.resolve();}if(!filterWrapper.isHandler){return AgPromise.resolve();}var{filterUi,handler,handlerParams}=filterWrapper;return _refreshHandlerAndUi(()=>{if(filterUi){var{created,filterParams}=filterUi;if(created){return filterUi.promise.then(filter=>{return filter?{filter,filterParams}:void 0;});}else{filterUi.refreshed=true;}}return AgPromise.resolve(void 0);},handler,handlerParams,model,(_this$state$get2=this.state.get(column.getColId()))!==null&&_this$state$get2!==void 0?_this$state$get2:{model},source);}setColumnFilterWrapper(column,filterWrapper){var colId=column.getColId();this.allColumnFilters.set(colId,filterWrapper);this.allColumnListeners.set(colId,this.addManagedListeners(column,{colDefChanged:()=>this.filterParamsChanged(colId)})[0]);}areFilterCompsDifferent(oldCompDetails,newCompDetails){if(!newCompDetails||!oldCompDetails){return true;}var{componentClass:oldComponentClass}=oldCompDetails;var{componentClass:newComponentClass}=newCompDetails;var isSameComponentClass=oldComponentClass===newComponentClass||// react hooks returns new wrappers, so check nested render method\n(oldComponentClass===null||oldComponentClass===void 0?void 0:oldComponentClass.render)&&(newComponentClass===null||newComponentClass===void 0?void 0:newComponentClass.render)&&oldComponentClass.render===newComponentClass.render;return!isSameComponentClass;}hasFloatingFilters(){var gridColumns=this.beans.colModel.getCols();return gridColumns.some(col=>col.getColDef().floatingFilter);}getFilterInstance(key){var column=this.beans.colModel.getColDefCol(key);if(!column){return Promise.resolve(void 0);}var filterPromise=this.getOrCreateFilterUi(column);if(!filterPromise){return Promise.resolve(null);}return new Promise(resolve=>{filterPromise.then(filter=>{resolve(_unwrapUserComp(filter));});});}processFilterModelUpdateQueue(){this.modelUpdates.forEach(_ref223=>{var{model,source}=_ref223;return this.setModel(model,source);});this.modelUpdates=[];this.columnModelUpdates.forEach(_ref224=>{var{key,model,resolve}=_ref224;this.setModelForColumn(key,model).then(()=>resolve());});this.columnModelUpdates=[];}getModelForColumn(column,useUnapplied){if(useUnapplied){var{state,model}=this;var colId=column.getColId();var colState=state.get(colId);if(colState){var _colState$model;return(_colState$model=colState.model)!==null&&_colState$model!==void 0?_colState$model:null;}return _getFilterModel(model,colId);}var filterWrapper=this.cachedFilter(column);return filterWrapper?this.getModelFromFilterWrapper(filterWrapper):null;}setModelForColumn(key,model){var _this$beans$dataTypeS3;if((_this$beans$dataTypeS3=this.beans.dataTypeSvc)!==null&&_this$beans$dataTypeS3!==void 0&&_this$beans$dataTypeS3.isPendingInference){var resolve=()=>{};var promise=new Promise(res=>{resolve=res;});this.columnModelUpdates.push({key,model,resolve});return promise;}return new Promise(resolve=>{this.setModelForColumnLegacy(key,model).then(result=>resolve(result));});}getStateForColumn(colId){var _this$state$get3;return(_this$state$get3=this.state.get(colId))!==null&&_this$state$get3!==void 0?_this$state$get3:{model:_getFilterModel(this.model,colId)};}setModelForColumnLegacy(key,model){var column=this.beans.colModel.getColDefCol(key);var filterWrapper=column?this.getOrCreateFilterWrapper(column,true):null;return filterWrapper?this.setModelOnFilterWrapper(filterWrapper,model):AgPromise.resolve();}setColDefPropsForDataType(colDef,dataTypeDefinition,formatValue){var providedFilter=colDef.filter;var filter=providedFilter===true?this.getDefaultFilterFromDataType(()=>dataTypeDefinition.baseDataType):providedFilter;if(typeof filter!==\"string\"){return;}var filterParams;var filterValueGetter;var beans=this.beans;var{filterParams:colDefFilterParams,filterValueGetter:colDefFilterValueGetter}=colDef;if(filter===\"agMultiColumnFilter\"){var _beans$multiFilter$ge,_beans$multiFilter;({filterParams,filterValueGetter}=(_beans$multiFilter$ge=(_beans$multiFilter=beans.multiFilter)===null||_beans$multiFilter===void 0?void 0:_beans$multiFilter.getParamsForDataType(colDefFilterParams,colDefFilterValueGetter,dataTypeDefinition,formatValue))!==null&&_beans$multiFilter$ge!==void 0?_beans$multiFilter$ge:{});}else{({filterParams,filterValueGetter}=_getFilterParamsForDataType(filter,colDefFilterParams,colDefFilterValueGetter,dataTypeDefinition,formatValue,beans,this.getLocaleTextFunc()));}colDef.filterParams=filterParams;if(filterValueGetter){colDef.filterValueGetter=filterValueGetter;}}// additionalEventAttributes is used by provided simple floating filter, so it can add 'floatingFilter=true' to the event\nsetColFilterActive(column,active,source,additionalEventAttributes){if(column.filterActive!==active){column.filterActive=active;column.dispatchColEvent(\"filterActiveChanged\",source);}column.dispatchColEvent(\"filterChanged\",source,additionalEventAttributes);}setModelOnFilterWrapper(filterWrapper,newModel,justCreated){return new AgPromise(resolve=>{if(filterWrapper.isHandler){var column=filterWrapper.column;var colId=column.getColId();var existingModel=this.model[colId];this.updateStoredModel(colId,newModel);if(justCreated&&newModel===existingModel){resolve();return;}this.refreshHandlerAndUi(column,newModel,\"api\").then(()=>resolve());return;}var uiPromise=getFilterUiFromWrapper(filterWrapper);if(uiPromise){uiPromise.then(filter=>{if(typeof(filter===null||filter===void 0?void 0:filter.setModel)!==\"function\"){_warn(65);resolve();return;}(filter.setModel(newModel)||AgPromise.resolve()).then(()=>resolve());});return;}resolve();});}/** for handlers only */updateStoredModel(colId,model){if(_exists(model)){this.model[colId]=model;}else{delete this.model[colId];}var oldState=this.state.get(colId);var newState={model,state:oldState===null||oldState===void 0?void 0:oldState.state};this.state.set(colId,newState);}filterModified(column,additionalEventAttributes){var _this$getOrCreateFilt;(_this$getOrCreateFilt=this.getOrCreateFilterUi(column))===null||_this$getOrCreateFilt===void 0||_this$getOrCreateFilt.then(filterInstance=>{this.eventSvc.dispatchEvent(_objectSpread({type:\"filterModified\",column,filterInstance},additionalEventAttributes));});}filterUiChanged(column,additionalEventAttributes){if(this.gos.get(\"enableFilterHandlers\")){this.eventSvc.dispatchEvent(_objectSpread({type:\"filterUiChanged\",column},additionalEventAttributes));}}floatingFilterUiChanged(column,additionalEventAttributes){if(this.gos.get(\"enableFilterHandlers\")){this.eventSvc.dispatchEvent(_objectSpread({type:\"floatingFilterUiChanged\",column},additionalEventAttributes));}}updateModel(column,action,additionalEventAttributes){var colId=column.getColId();var getFilterUi=()=>{var _this$cachedFilter2;return(_this$cachedFilter2=this.cachedFilter(column))===null||_this$cachedFilter2===void 0?void 0:_this$cachedFilter2.filterUi;};_updateFilterModel(action,getFilterUi,()=>_getFilterModel(this.model,colId),()=>this.state.get(colId),state=>this.updateState(column,state),model=>{var _getFilterUi;return(_getFilterUi=getFilterUi())===null||_getFilterUi===void 0||(_getFilterUi=_getFilterUi.filterParams)===null||_getFilterUi===void 0?void 0:_getFilterUi.onModelChange(model,additionalEventAttributes);});}updateAllModels(action,additionalEventAttributes){var promises=[];this.allColumnFilters.forEach((filter,colId)=>{var column=this.beans.colModel.getColDefCol(colId);if(column){_updateFilterModel(action,()=>filter.filterUi,()=>_getFilterModel(this.model,colId),()=>this.state.get(colId),state=>this.updateState(column,state),model=>{this.updateStoredModel(colId,model);this.dispatchLocalEvent({type:\"filterAction\",column,action});promises.push(this.refreshHandlerAndUi(column,model,\"ui\"));});}});if(promises.length){AgPromise.all(promises).then(()=>{this.callOnFilterChangedOutsideRenderCycle({source:\"columnFilter\",additionalEventAttributes,columns:[]});});}}updateOrRefreshFilterUi(column){var colId=column.getColId();getAndRefreshFilterUi(()=>{var _this$cachedFilter3;return(_this$cachedFilter3=this.cachedFilter(column))===null||_this$cachedFilter3===void 0?void 0:_this$cachedFilter3.filterUi;},()=>_getFilterModel(this.model,colId),()=>this.state.get(colId));}updateState(column,state){this.state.set(column.getColId(),state);this.dispatchLocalEvent({type:\"filterStateChanged\",column,state});}// for tool panel only\ncanApplyAll(){var{state,model,activeFilterComps}=this;for(var comp of activeFilterComps){if(comp.source===\"COLUMN_MENU\"){return false;}}var hasChanges=false;for(var colId of state.keys()){var _colState$model2;var colState=state.get(colId);if(colState.valid===false){return false;}if(((_colState$model2=colState.model)!==null&&_colState$model2!==void 0?_colState$model2:null)!==_getFilterModel(model,colId)){hasChanges=true;}}return hasChanges;}hasUnappliedModel(colId){var _state$get$model,_state$get;var{model,state}=this;return((_state$get$model=(_state$get=state.get(colId))===null||_state$get===void 0?void 0:_state$get.model)!==null&&_state$get$model!==void 0?_state$get$model:null)!==_getFilterModel(model,colId);}setGlobalButtons(isGlobal){this.isGlobalButtons=isGlobal;this.dispatchLocalEvent({type:\"filterGlobalButtons\",isGlobal});}shouldKeepStateOnDetach(column,lastContainerType){if(lastContainerType===\"newFiltersToolPanel\"){return true;}var filterPanelSvc=this.beans.filterPanelSvc;if(filterPanelSvc!==null&&filterPanelSvc!==void 0&&filterPanelSvc.isActive){return!!filterPanelSvc.getState(column.getColId());}return false;}destroy(){super.destroy();this.allColumnFilters.forEach(filterWrapper=>this.disposeFilterWrapper(filterWrapper,\"gridDestroyed\"));this.allColumnListeners.clear();this.state.clear();this.activeFilterComps.clear();}};// packages/ag-grid-community/src/filter/filterApi.ts\nfunction isAnyFilterPresent(beans){var _beans$filterManager6;return!!((_beans$filterManager6=beans.filterManager)!==null&&_beans$filterManager6!==void 0&&_beans$filterManager6.isAnyFilterPresent());}function onFilterChanged(beans){var _beans$filterManager7;var source=arguments.length>1&&arguments[1]!==undefined?arguments[1]:\"api\";(_beans$filterManager7=beans.filterManager)===null||_beans$filterManager7===void 0||_beans$filterManager7.onFilterChanged({source});}// packages/ag-grid-community/src/filter/filterManager.ts\nvar FilterManager=class extends BeanStub{constructor(){super(...arguments);this.beanName=\"filterManager\";// when we're waiting for cell data types to be inferred, we need to defer filter model updates\nthis.advFilterModelUpdateQueue=[];}wireBeans(beans){this.quickFilter=beans.quickFilter;this.advancedFilter=beans.advancedFilter;this.colFilter=beans.colFilter;}postConstruct(){var refreshFiltersForAggregations=this.refreshFiltersForAggregations.bind(this);var updateAdvFilterColumns=this.updateAdvFilterColumns.bind(this);this.addManagedEventListeners({columnValueChanged:refreshFiltersForAggregations,columnPivotChanged:refreshFiltersForAggregations,columnPivotModeChanged:refreshFiltersForAggregations,newColumnsLoaded:updateAdvFilterColumns,columnVisible:updateAdvFilterColumns,advancedFilterEnabledChanged:_ref225=>{var{enabled}=_ref225;return this.onAdvFilterEnabledChanged(enabled);},dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)});this.externalFilterPresent=this.isExternalFilterPresentCallback();this.addManagedPropertyListeners([\"isExternalFilterPresent\",\"doesExternalFilterPass\"],()=>{this.onFilterChanged({source:\"api\"});});this.updateAggFiltering();this.addManagedPropertyListener(\"groupAggFiltering\",()=>{this.updateAggFiltering();this.onFilterChanged();});if(this.quickFilter){this.addManagedListeners(this.quickFilter,{quickFilterChanged:()=>this.onFilterChanged({source:\"quickFilter\"})});}var{gos}=this;this.alwaysPassFilter=gos.get(\"alwaysPassFilter\");this.addManagedPropertyListener(\"alwaysPassFilter\",()=>{this.alwaysPassFilter=gos.get(\"alwaysPassFilter\");this.onFilterChanged({source:\"api\"});});}isExternalFilterPresentCallback(){var isFilterPresent=this.gos.getCallback(\"isExternalFilterPresent\");return typeof isFilterPresent===\"function\"&&isFilterPresent({});}doesExternalFilterPass(node){var doesFilterPass=this.gos.get(\"doesExternalFilterPass\");return typeof doesFilterPass===\"function\"&&doesFilterPass(node);}setFilterState(model,state){var _this$colFilter;var source=arguments.length>2&&arguments[2]!==undefined?arguments[2]:\"api\";if(this.isAdvFilterEnabled()){return;}(_this$colFilter=this.colFilter)===null||_this$colFilter===void 0||_this$colFilter.setState(model,state,source);}setFilterModel(model){var _this$colFilter2;var source=arguments.length>1&&arguments[1]!==undefined?arguments[1]:\"api\";var skipWarning=arguments.length>2?arguments[2]:undefined;if(this.isAdvFilterEnabled()){if(!skipWarning){this.warnAdvFilters();}return;}(_this$colFilter2=this.colFilter)===null||_this$colFilter2===void 0||_this$colFilter2.setModel(model,source);}getFilterModel(){var _this$colFilter$getMo,_this$colFilter3;return(_this$colFilter$getMo=(_this$colFilter3=this.colFilter)===null||_this$colFilter3===void 0?void 0:_this$colFilter3.getModel())!==null&&_this$colFilter$getMo!==void 0?_this$colFilter$getMo:{};}getFilterState(){var _this$colFilter4;return(_this$colFilter4=this.colFilter)===null||_this$colFilter4===void 0?void 0:_this$colFilter4.getState();}isColumnFilterPresent(){var _this$colFilter5;return!!((_this$colFilter5=this.colFilter)!==null&&_this$colFilter5!==void 0&&_this$colFilter5.isFilterPresent());}isAggregateFilterPresent(){var _this$colFilter6;return!!((_this$colFilter6=this.colFilter)!==null&&_this$colFilter6!==void 0&&_this$colFilter6.isAggFilterPresent());}isChildFilterPresent(){return this.isColumnFilterPresent()||this.isQuickFilterPresent()||this.externalFilterPresent||this.isAdvFilterPresent();}isAnyFilterPresent(){return this.isChildFilterPresent()||this.isAggregateFilterPresent();}isAdvFilterPresent(){return this.isAdvFilterEnabled()&&this.advancedFilter.isFilterPresent();}onAdvFilterEnabledChanged(enabled){if(enabled){var _this$colFilter7;if((_this$colFilter7=this.colFilter)!==null&&_this$colFilter7!==void 0&&_this$colFilter7.disableFilters()){this.onFilterChanged({source:\"advancedFilter\"});}}else{var _this$advancedFilter;if((_this$advancedFilter=this.advancedFilter)!==null&&_this$advancedFilter!==void 0&&_this$advancedFilter.isFilterPresent()){this.advancedFilter.setModel(null);this.onFilterChanged({source:\"advancedFilter\"});}}}isAdvFilterEnabled(){var _this$advancedFilter2;return!!((_this$advancedFilter2=this.advancedFilter)!==null&&_this$advancedFilter2!==void 0&&_this$advancedFilter2.isEnabled());}isAdvFilterHeaderActive(){return this.isAdvFilterEnabled()&&this.advancedFilter.isHeaderActive();}refreshFiltersForAggregations(){var isAggFiltering=_getGroupAggFiltering(this.gos);if(isAggFiltering){this.onFilterChanged();}}onFilterChanged(){var params=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var{source,additionalEventAttributes,columns=[]}=params;this.externalFilterPresent=this.isExternalFilterPresentCallback();(this.colFilter?this.colFilter.updateBeforeFilterChanged(params):AgPromise.resolve()).then(()=>{var _this$colFilter8;var filterChangedEvent={source,type:\"filterChanged\",columns};if(additionalEventAttributes){_mergeDeep(filterChangedEvent,additionalEventAttributes);}this.eventSvc.dispatchEvent(filterChangedEvent);(_this$colFilter8=this.colFilter)===null||_this$colFilter8===void 0||_this$colFilter8.updateAfterFilterChanged();});}isSuppressFlashingCellsBecauseFiltering(){var _this$colFilter9;return!!((_this$colFilter9=this.colFilter)!==null&&_this$colFilter9!==void 0&&_this$colFilter9.isSuppressFlashingCellsBecauseFiltering());}isQuickFilterPresent(){var _this$quickFilter;return!!((_this$quickFilter=this.quickFilter)!==null&&_this$quickFilter!==void 0&&_this$quickFilter.isFilterPresent());}updateAggFiltering(){this.aggFiltering=!!_getGroupAggFiltering(this.gos);}isAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&this.shouldApplyQuickFilterAfterAgg();}isNonAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&!this.shouldApplyQuickFilterAfterAgg();}shouldApplyQuickFilterAfterAgg(){return(this.aggFiltering||this.beans.colModel.isPivotMode())&&!this.gos.get(\"applyQuickFilterBeforePivotOrAgg\");}doesRowPassOtherFilters(colIdToSkip,rowNode){return this.doesRowPassFilter({rowNode,colIdToSkip});}doesRowPassAggregateFilters(params){var _this$alwaysPassFilte;var{rowNode}=params;if((_this$alwaysPassFilte=this.alwaysPassFilter)!==null&&_this$alwaysPassFilte!==void 0&&_this$alwaysPassFilte.call(this,rowNode)){return true;}if(this.isAggregateQuickFilterPresent()&&!this.quickFilter.doesRowPass(rowNode)){return false;}if(this.isAggregateFilterPresent()&&!this.colFilter.doFiltersPass(rowNode,params.colIdToSkip,true)){return false;}return true;}doesRowPassFilter(params){var _this$alwaysPassFilte2;var{rowNode}=params;if((_this$alwaysPassFilte2=this.alwaysPassFilter)!==null&&_this$alwaysPassFilte2!==void 0&&_this$alwaysPassFilte2.call(this,rowNode)){return true;}if(this.isNonAggregateQuickFilterPresent()&&!this.quickFilter.doesRowPass(rowNode)){return false;}if(this.externalFilterPresent&&!this.doesExternalFilterPass(rowNode)){return false;}if(this.isColumnFilterPresent()&&!this.colFilter.doFiltersPass(rowNode,params.colIdToSkip)){return false;}if(this.isAdvFilterPresent()&&!this.advancedFilter.doesFilterPass(rowNode)){return false;}return true;}// for group filters, can change dynamically whether they are allowed or not\nisFilterAllowed(column){var _this$colFilter0;if(this.isAdvFilterEnabled()){return false;}return!!((_this$colFilter0=this.colFilter)!==null&&_this$colFilter0!==void 0&&_this$colFilter0.isFilterAllowed(column));}getAdvFilterModel(){return this.isAdvFilterEnabled()?this.advancedFilter.getModel():null;}setAdvFilterModel(expression){var _this$beans$dataTypeS4;var source=arguments.length>1&&arguments[1]!==undefined?arguments[1]:\"api\";if(!this.isAdvFilterEnabled()){return;}if((_this$beans$dataTypeS4=this.beans.dataTypeSvc)!==null&&_this$beans$dataTypeS4!==void 0&&_this$beans$dataTypeS4.isPendingInference){this.advFilterModelUpdateQueue.push(expression);return;}this.advancedFilter.setModel(expression!==null&&expression!==void 0?expression:null);this.onFilterChanged({source});}toggleAdvFilterBuilder(show,source){if(!this.isAdvFilterEnabled()){return;}this.advancedFilter.getCtrl().toggleFilterBuilder({source,force:show});}updateAdvFilterColumns(){if(!this.isAdvFilterEnabled()){return;}if(this.advancedFilter.updateValidity()){this.onFilterChanged({source:\"advancedFilter\"});}}hasFloatingFilters(){var _this$colFilter1;if(this.isAdvFilterEnabled()){return false;}return!!((_this$colFilter1=this.colFilter)!==null&&_this$colFilter1!==void 0&&_this$colFilter1.hasFloatingFilters());}getColumnFilterInstance(key){var _this$colFilter$getFi,_this$colFilter10;if(this.isAdvFilterEnabled()){this.warnAdvFilters();return Promise.resolve(void 0);}return(_this$colFilter$getFi=(_this$colFilter10=this.colFilter)===null||_this$colFilter10===void 0?void 0:_this$colFilter10.getFilterInstance(key))!==null&&_this$colFilter$getFi!==void 0?_this$colFilter$getFi:Promise.resolve(void 0);}warnAdvFilters(){_warn(68);}setupAdvFilterHeaderComp(eCompToInsertBefore){var _this$advancedFilter3;(_this$advancedFilter3=this.advancedFilter)===null||_this$advancedFilter3===void 0||_this$advancedFilter3.getCtrl().setupHeaderComp(eCompToInsertBefore);}getHeaderRowCount(){return this.isAdvFilterHeaderActive()?1:0;}getHeaderHeight(){return this.isAdvFilterHeaderActive()?this.advancedFilter.getCtrl().getHeaderHeight():0;}processFilterModelUpdateQueue(){this.advFilterModelUpdateQueue.forEach(model=>this.setAdvFilterModel(model));this.advFilterModelUpdateQueue=[];}setColumnFilterModel(key,model){var _this$colFilter$setMo,_this$colFilter11;if(this.isAdvFilterEnabled()){this.warnAdvFilters();return Promise.resolve();}return(_this$colFilter$setMo=(_this$colFilter11=this.colFilter)===null||_this$colFilter11===void 0?void 0:_this$colFilter11.setModelForColumn(key,model))!==null&&_this$colFilter$setMo!==void 0?_this$colFilter$setMo:Promise.resolve();}};// packages/ag-grid-community/src/filter/filterMenuFactory.ts\nvar FilterMenuFactory=class extends BeanStub{constructor(){super(...arguments);this.beanName=\"filterMenuFactory\";}wireBeans(beans){this.popupSvc=beans.popupSvc;}hideActiveMenu(){var _this$hidePopup;(_this$hidePopup=this.hidePopup)===null||_this$hidePopup===void 0||_this$hidePopup.call(this);}showMenuAfterMouseEvent(column,mouseEvent,containerType,onClosedCallback){if(column&&!column.isColumn){return;}this.showPopup(column,eMenu=>{var _this$popupSvc6;(_this$popupSvc6=this.popupSvc)===null||_this$popupSvc6===void 0||_this$popupSvc6.positionPopupUnderMouseEvent({column,type:containerType,mouseEvent,ePopup:eMenu});},containerType,mouseEvent.target,_isLegacyMenuEnabled(this.gos),onClosedCallback);}showMenuAfterButtonClick(column,eventSource,containerType,onClosedCallback){if(column&&!column.isColumn){return;}var multiplier=-1;var alignSide=\"left\";var isLegacyMenuEnabled=_isLegacyMenuEnabled(this.gos);if(!isLegacyMenuEnabled&&this.gos.get(\"enableRtl\")){multiplier=1;alignSide=\"right\";}var nudgeX=isLegacyMenuEnabled?void 0:4*multiplier;var nudgeY=isLegacyMenuEnabled?void 0:4;this.showPopup(column,eMenu=>{var _this$popupSvc7;(_this$popupSvc7=this.popupSvc)===null||_this$popupSvc7===void 0||_this$popupSvc7.positionPopupByComponent({type:containerType,eventSource,ePopup:eMenu,nudgeX,nudgeY,alignSide,keepWithinBounds:true,position:\"under\",column});},containerType,eventSource,isLegacyMenuEnabled,onClosedCallback);}showPopup(column,_positionCallback,containerType,eventSource,isLegacyMenuEnabled,onClosedCallback){var _this$popupSvc8;var comp=column?this.createBean(new FilterComp(column,\"COLUMN_MENU\")):void 0;this.activeMenu=comp;if(!(comp!==null&&comp!==void 0&&comp.hasFilter())||!column){_error(57);return;}var eMenu=_createElement({tag:\"div\",cls:\"ag-menu\".concat(!isLegacyMenuEnabled?\" ag-filter-menu\":\"\"),role:\"presentation\"});[this.tabListener]=this.addManagedElementListeners(eMenu,{keydown:e=>this.trapFocusWithin(e,eMenu)});eMenu.appendChild(comp===null||comp===void 0?void 0:comp.getGui());var hidePopup;var afterGuiDetached=()=>comp===null||comp===void 0?void 0:comp.afterGuiDetached();var anchorToElement=_isColumnMenuAnchoringEnabled(this.gos)?eventSource!==null&&eventSource!==void 0?eventSource:this.beans.ctrlsSvc.getGridBodyCtrl().eGridBody:void 0;var closedCallback=e=>{_setColMenuVisible(column,false,\"contextMenu\");var isKeyboardEvent=e instanceof KeyboardEvent;if(this.tabListener){this.tabListener=this.tabListener();}if(isKeyboardEvent&&eventSource&&_isVisible(eventSource)){var focusableEl=_findTabbableParent(eventSource);focusableEl===null||focusableEl===void 0||focusableEl.focus({preventScroll:true});}afterGuiDetached();this.destroyBean(this.activeMenu);this.dispatchVisibleChangedEvent(false,containerType,column);onClosedCallback===null||onClosedCallback===void 0||onClosedCallback();};var translate=this.getLocaleTextFunc();var ariaLabel=isLegacyMenuEnabled&&containerType!==\"columnFilter\"?translate(\"ariaLabelColumnMenu\",\"Column Menu\"):translate(\"ariaLabelColumnFilter\",\"Column Filter\");var addPopupRes=(_this$popupSvc8=this.popupSvc)===null||_this$popupSvc8===void 0?void 0:_this$popupSvc8.addPopup({modal:true,eChild:eMenu,closeOnEsc:true,closedCallback,positionCallback:()=>_positionCallback(eMenu),anchorToElement,ariaLabel});if(addPopupRes){this.hidePopup=hidePopup=addPopupRes.hideFunc;}comp.afterInit().then(()=>{_positionCallback(eMenu);comp.afterGuiAttached({container:containerType,hidePopup});});_setColMenuVisible(column,true,\"contextMenu\");this.dispatchVisibleChangedEvent(true,containerType,column);}trapFocusWithin(e,menu){if(e.key!==KeyCode.TAB||e.defaultPrevented||_findNextFocusableElement(this.beans,menu,false,e.shiftKey)){return;}e.preventDefault();_focusInto(menu,e.shiftKey);}dispatchVisibleChangedEvent(visible,containerType,column){this.eventSvc.dispatchEvent({type:\"columnMenuVisibleChanged\",visible,switchingTab:false,key:containerType,column:column!==null&&column!==void 0?column:null,columnGroup:null});}isMenuEnabled(column){var _column$getColDef$men;return column.isFilterAllowed()&&((_column$getColDef$men=column.getColDef().menuTabs)!==null&&_column$getColDef$men!==void 0?_column$getColDef$men:[\"filterMenuTab\"]).includes(\"filterMenuTab\");}showMenuAfterContextMenuEvent(){}destroy(){this.destroyBean(this.activeMenu);super.destroy();}};// packages/ag-grid-community/src/filter/filterValueService.ts\nvar FilterValueService=class extends BeanStub{constructor(){super(...arguments);this.beanName=\"filterValueSvc\";}getValue(column,rowNode,filterValueGetterOverride){var _ref226;if(!rowNode){return;}var colDef=column.getColDef();var{selectableFilter,valueSvc}=this.beans;var filterValueGetter=(_ref226=filterValueGetterOverride!==null&&filterValueGetterOverride!==void 0?filterValueGetterOverride:selectableFilter===null||selectableFilter===void 0?void 0:selectableFilter.getFilterValueGetter(column.getColId()))!==null&&_ref226!==void 0?_ref226:colDef.filterValueGetter;if(filterValueGetter){return this.executeFilterValueGetter(filterValueGetter,rowNode.data,column,rowNode,colDef);}return valueSvc.getValue(column,rowNode);}executeFilterValueGetter(valueGetter,data,column,node,colDef){var{expressionSvc,valueSvc}=this.beans;var params=_addGridCommonParams(this.gos,{data,node,column,colDef,getValue:valueSvc.getValueCallback.bind(valueSvc,node)});if(typeof valueGetter===\"function\"){return valueGetter(params);}return expressionSvc===null||expressionSvc===void 0?void 0:expressionSvc.evaluate(valueGetter,params);}};// packages/ag-grid-community/src/filter/floating/provided/readOnlyFloatingFilter.ts\nvar ReadOnlyFloatingFilterElement={tag:\"div\",cls:\"ag-floating-filter-input\",role:\"presentation\",children:[{tag:\"ag-input-text-field\",ref:\"eFloatingFilterText\"}]};var ReadOnlyFloatingFilter=class extends Component{constructor(){super(ReadOnlyFloatingFilterElement,[AgInputTextFieldSelector]);this.eFloatingFilterText=RefPlaceholder;}init(params){this.params=params;var displayName=this.beans.colNames.getDisplayNameForColumn(params.column,\"header\",true);this.eFloatingFilterText.setDisabled(true).setInputAriaLabel(\"\".concat(displayName,\" \").concat(this.getLocaleTextFunc()(\"ariaFilterInput\",\"Filter Input\")));if(this.gos.get(\"enableFilterHandlers\")){var reactiveParams=params;var handler=reactiveParams.getHandler();if(handler.getModelAsString){var modelAsString=handler.getModelAsString(reactiveParams.model);this.eFloatingFilterText.setValue(modelAsString);}}}onParentModelChanged(parentModel){if(parentModel==null){this.eFloatingFilterText.setValue(\"\");return;}this.params.parentFilterInstance(filterInstance=>{if(filterInstance.getModelAsString){var modelAsString=filterInstance.getModelAsString(parentModel);this.eFloatingFilterText.setValue(modelAsString);}});}refresh(params){this.init(params);}};// packages/ag-grid-community/src/filter/provided/optionsFactory.ts\nvar OptionsFactory=class{constructor(){this.customFilterOptions={};}init(params,defaultOptions){var _params$filterOptions;this.filterOptions=(_params$filterOptions=params.filterOptions)!==null&&_params$filterOptions!==void 0?_params$filterOptions:defaultOptions;this.mapCustomOptions();this.defaultOption=this.getDefaultItem(params.defaultOption);}refresh(params,defaultOptions){var _params$filterOptions2;var filterOptions=(_params$filterOptions2=params.filterOptions)!==null&&_params$filterOptions2!==void 0?_params$filterOptions2:defaultOptions;if(this.filterOptions!==filterOptions){this.filterOptions=filterOptions;this.customFilterOptions={};this.mapCustomOptions();}this.defaultOption=this.getDefaultItem(params.defaultOption);}mapCustomOptions(){var{filterOptions}=this;if(!filterOptions){return;}filterOptions.forEach(filterOption=>{if(typeof filterOption===\"string\"){return;}var requiredProperties=[[\"displayKey\"],[\"displayName\"],[\"predicate\",\"test\"]];var propertyCheck=keys=>{if(!keys.some(key=>filterOption[key]!=null)){_warn(72,{keys});return false;}return true;};if(!requiredProperties.every(propertyCheck)){this.filterOptions=filterOptions.filter(v=>v===filterOption)||[];return;}this.customFilterOptions[filterOption.displayKey]=filterOption;});}getDefaultItem(defaultOption){var{filterOptions}=this;if(defaultOption){return defaultOption;}else if(filterOptions.length>=1){var firstFilterOption=filterOptions[0];if(typeof firstFilterOption===\"string\"){return firstFilterOption;}else if(firstFilterOption.displayKey){return firstFilterOption.displayKey;}else{_warn(73);}}else{_warn(74);}return void 0;}getCustomOption(name){return this.customFilterOptions[name];}};// packages/ag-grid-community/src/filter/provided/simpleFilterUtils.ts\nfunction removeItems(items,startPosition,deleteCount){return deleteCount==null?items.splice(startPosition):items.splice(startPosition,deleteCount);}function isBlank(cellValue){return cellValue==null||typeof cellValue===\"string\"&&cellValue.trim().length===0;}function getDefaultJoinOperator(defaultJoinOperator){return defaultJoinOperator===\"AND\"||defaultJoinOperator===\"OR\"?defaultJoinOperator:\"AND\";}function evaluateCustomFilter(customFilterOption,values,cellValue){if(customFilterOption==null){return;}var{predicate}=customFilterOption;if(predicate!=null&&!values.some(v=>v==null)){return predicate(values,cellValue);}return;}function validateAndUpdateConditions(conditions,maxNumConditions){var numConditions=conditions.length;if(numConditions>maxNumConditions){conditions.splice(maxNumConditions);_warn(78);numConditions=maxNumConditions;}return numConditions;}function getNumberOfInputs(type,optionsFactory){var customOpts=optionsFactory.getCustomOption(type);if(customOpts){var{numberOfInputs}=customOpts;return numberOfInputs!=null?numberOfInputs:1;}var zeroInputTypes=[\"empty\",\"notBlank\",\"blank\"];if(type&&zeroInputTypes.indexOf(type)>=0){return 0;}else if(type===\"inRange\"){return 2;}return 1;}// packages/ag-grid-community/src/filter/provided/simpleFilter.ts\nvar SimpleFilter=class extends ProvidedFilter{constructor(filterNameKey,mapValuesFromModel,defaultOptions){super(filterNameKey,\"simple-filter\");this.mapValuesFromModel=mapValuesFromModel;this.defaultOptions=defaultOptions;this.eTypes=[];this.eJoinPanels=[];this.eJoinAnds=[];this.eJoinOrs=[];this.eConditionBodies=[];this.listener=()=>this.onUiChanged();this.lastUiCompletePosition=null;this.joinOperatorId=0;}setParams(params){super.setParams(params);var optionsFactory=new OptionsFactory();this.optionsFactory=optionsFactory;optionsFactory.init(params,this.defaultOptions);this.commonUpdateSimpleParams(params);this.createOption();this.createMissingConditionsAndOperators();}updateParams(newParams,oldParams){this.optionsFactory.refresh(newParams,this.defaultOptions);super.updateParams(newParams,oldParams);this.commonUpdateSimpleParams(newParams);}commonUpdateSimpleParams(params){this.setNumConditions(params);this.defaultJoinOperator=getDefaultJoinOperator(params.defaultJoinOperator);this.filterPlaceholder=params.filterPlaceholder;this.createFilterListOptions();var eGui=this.getGui();if(this.isReadOnly()){eGui.setAttribute(\"tabindex\",\"-1\");}else{eGui.removeAttribute(\"tabindex\");}}// floating filter calls this when user applies filter from floating filter\nonFloatingFilterChanged(type,value){this.setTypeFromFloatingFilter(type);this.setValueFromFloatingFilter(value);this.onUiChanged(\"immediately\",true);}setTypeFromFloatingFilter(type){this.eTypes.forEach((eType,position)=>{var value=position===0?type:this.optionsFactory.defaultOption;eType.setValue(value,true);});}getModelFromUi(){var conditions=this.getUiCompleteConditions();if(conditions.length===0){return null;}if(this.maxNumConditions>1&&conditions.length>1){return{filterType:this.filterType,operator:this.getJoinOperator(),conditions};}return conditions[0];}getConditionTypes(){return this.eTypes.map(eType=>eType.getValue());}getConditionType(position){return this.eTypes[position].getValue();}getJoinOperator(){var{eJoinOrs:eJoinOperatorsOr,defaultJoinOperator}=this;return eJoinOperatorsOr.length===0?defaultJoinOperator:eJoinOperatorsOr[0].getValue()===true?\"OR\":\"AND\";}areNonNullModelsEqual(a,b){var aIsSimple=!a.operator;var bIsSimple=!b.operator;var oneSimpleOneCombined=!aIsSimple&&bIsSimple||aIsSimple&&!bIsSimple;if(oneSimpleOneCombined){return false;}var res;if(aIsSimple){var aSimple=a;var bSimple=b;res=this.areSimpleModelsEqual(aSimple,bSimple);}else{var aCombined=a;var bCombined=b;res=aCombined.operator===bCombined.operator&&_areEqual(aCombined.conditions,bCombined.conditions,(aModel,bModel)=>this.areSimpleModelsEqual(aModel,bModel));}return res;}setModelIntoUi(model,isInitialLoad){if(model==null){this.resetUiToDefaults(isInitialLoad);return AgPromise.resolve();}var isCombined=model.operator;if(isCombined){var combinedModel=model;var conditions=combinedModel.conditions;if(conditions==null){conditions=[];_warn(77);}var numConditions=validateAndUpdateConditions(conditions,this.maxNumConditions);var numPrevConditions=this.getNumConditions();if(numConditions<numPrevConditions){this.removeConditionsAndOperators(numConditions);}else if(numConditions>numPrevConditions){for(var i=numPrevConditions;i<numConditions;i++){this.createJoinOperatorPanel();this.createOption();}}var orChecked=combinedModel.operator===\"OR\";this.eJoinAnds.forEach(eJoinOperatorAnd=>eJoinOperatorAnd.setValue(!orChecked,true));this.eJoinOrs.forEach(eJoinOperatorOr=>eJoinOperatorOr.setValue(orChecked,true));conditions.forEach((condition,position)=>{this.eTypes[position].setValue(condition.type,true);this.setConditionIntoUi(condition,position);});}else{var simpleModel=model;if(this.getNumConditions()>1){this.removeConditionsAndOperators(1);}this.eTypes[0].setValue(simpleModel.type,true);this.setConditionIntoUi(simpleModel,0);}this.lastUiCompletePosition=this.getNumConditions()-1;this.createMissingConditionsAndOperators();this.updateUiVisibility();if(!isInitialLoad){this.params.onUiChange(this.getUiChangeEventParams());}return AgPromise.resolve();}setNumConditions(params){var _params$maxNumConditi,_params$numAlwaysVisi;var maxNumConditions=(_params$maxNumConditi=params.maxNumConditions)!==null&&_params$maxNumConditi!==void 0?_params$maxNumConditi:2;if(maxNumConditions<1){_warn(79);maxNumConditions=1;}this.maxNumConditions=maxNumConditions;var numAlwaysVisibleConditions=(_params$numAlwaysVisi=params.numAlwaysVisibleConditions)!==null&&_params$numAlwaysVisi!==void 0?_params$numAlwaysVisi:1;if(numAlwaysVisibleConditions<1){_warn(80);numAlwaysVisibleConditions=1;}if(numAlwaysVisibleConditions>maxNumConditions){_warn(81);numAlwaysVisibleConditions=maxNumConditions;}this.numAlwaysVisibleConditions=numAlwaysVisibleConditions;}createOption(){var eGui=this.getGui();var eType=this.createManagedBean(new AgSelect());this.eTypes.push(eType);eType.addCss(\"ag-filter-select\");eGui.appendChild(eType.getGui());var eConditionBody=this.createEValue();this.eConditionBodies.push(eConditionBody);eGui.appendChild(eConditionBody);this.putOptionsIntoDropdown(eType);this.resetType(eType);var position=this.getNumConditions()-1;this.forEachPositionInput(position,element=>this.resetInput(element));this.addChangedListeners(eType,position);}createJoinOperatorPanel(){var eJoinOperatorPanel=_createElement({tag:\"div\",cls:\"ag-filter-condition\"});this.eJoinPanels.push(eJoinOperatorPanel);var eJoinOperatorAnd=this.createJoinOperator(this.eJoinAnds,eJoinOperatorPanel,\"and\");var eJoinOperatorOr=this.createJoinOperator(this.eJoinOrs,eJoinOperatorPanel,\"or\");this.getGui().appendChild(eJoinOperatorPanel);var index=this.eJoinPanels.length-1;var uniqueGroupId=this.joinOperatorId++;this.resetJoinOperatorAnd(eJoinOperatorAnd,index,uniqueGroupId);this.resetJoinOperatorOr(eJoinOperatorOr,index,uniqueGroupId);if(!this.isReadOnly()){eJoinOperatorAnd.onValueChange(this.listener);eJoinOperatorOr.onValueChange(this.listener);}}createJoinOperator(eJoinOperators,eJoinOperatorPanel,andOr){var eJoinOperator=this.createManagedBean(new AgRadioButton());eJoinOperators.push(eJoinOperator);var baseClass=\"ag-filter-condition-operator\";eJoinOperator.addCss(baseClass);eJoinOperator.addCss(\"\".concat(baseClass,\"-\").concat(andOr));eJoinOperatorPanel.appendChild(eJoinOperator.getGui());return eJoinOperator;}createFilterListOptions(){this.filterListOptions=this.optionsFactory.filterOptions.map(option=>typeof option===\"string\"?this.createBoilerplateListOption(option):this.createCustomListOption(option));}putOptionsIntoDropdown(eType){var{filterListOptions}=this;filterListOptions.forEach(listOption=>{eType.addOption(listOption);});eType.setDisabled(filterListOptions.length<=1);}createBoilerplateListOption(option){return{value:option,text:this.translate(option)};}createCustomListOption(option){var{displayKey}=option;var customOption=this.optionsFactory.getCustomOption(option.displayKey);return{value:displayKey,text:customOption?this.getLocaleTextFunc()(customOption.displayKey,customOption.displayName):this.translate(displayKey)};}createBodyTemplate(){return null;}getAgComponents(){return[];}updateUiVisibility(){var joinOperator=this.getJoinOperator();this.updateNumConditions();this.updateConditionStatusesAndValues(this.lastUiCompletePosition,joinOperator);}updateNumConditions(){var lastUiCompletePosition=-1;var areAllConditionsUiComplete=true;for(var position=0;position<this.getNumConditions();position++){if(this.isConditionUiComplete(position)){lastUiCompletePosition=position;}else{areAllConditionsUiComplete=false;}}if(this.shouldAddNewConditionAtEnd(areAllConditionsUiComplete)){this.createJoinOperatorPanel();this.createOption();}else{var _this$lastUiCompleteP;var activePosition=(_this$lastUiCompleteP=this.lastUiCompletePosition)!==null&&_this$lastUiCompleteP!==void 0?_this$lastUiCompleteP:this.getNumConditions()-2;if(lastUiCompletePosition<activePosition){this.removeConditionsAndOperators(activePosition+1);var removeStartPosition=lastUiCompletePosition+1;var numConditionsToRemove=activePosition-removeStartPosition;if(numConditionsToRemove>0){this.removeConditionsAndOperators(removeStartPosition,numConditionsToRemove);}this.createMissingConditionsAndOperators();}}this.lastUiCompletePosition=lastUiCompletePosition;}updateConditionStatusesAndValues(lastUiCompletePosition,joinOperator){this.eTypes.forEach((eType,position)=>{var disabled=this.isConditionDisabled(position,lastUiCompletePosition);eType.setDisabled(disabled||this.filterListOptions.length<=1);if(position===1){_setDisabled(this.eJoinPanels[0],disabled);this.eJoinAnds[0].setDisabled(disabled);this.eJoinOrs[0].setDisabled(disabled);}});this.eConditionBodies.forEach((element,index)=>{_setDisplayed(element,this.isConditionBodyVisible(index));});var orChecked=(joinOperator!==null&&joinOperator!==void 0?joinOperator:this.getJoinOperator())===\"OR\";this.eJoinAnds.forEach(eJoinOperatorAnd=>{eJoinOperatorAnd.setValue(!orChecked,true);});this.eJoinOrs.forEach(eJoinOperatorOr=>{eJoinOperatorOr.setValue(orChecked,true);});this.forEachInput((element,index,position,numberOfInputs)=>{this.setElementDisplayed(element,index<numberOfInputs);this.setElementDisabled(element,this.isConditionDisabled(position,lastUiCompletePosition));});this.resetPlaceholder();}shouldAddNewConditionAtEnd(areAllConditionsUiComplete){return areAllConditionsUiComplete&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly();}removeConditionsAndOperators(startPosition,deleteCount){if(startPosition>=this.getNumConditions()){return;}var{eTypes,eConditionBodies,eJoinPanels:eJoinOperatorPanels,eJoinAnds:eJoinOperatorsAnd,eJoinOrs:eJoinOperatorsOr}=this;this.removeComponents(eTypes,startPosition,deleteCount);this.removeElements(eConditionBodies,startPosition,deleteCount);this.removeEValues(startPosition,deleteCount);var joinOperatorIndex=Math.max(startPosition-1,0);this.removeElements(eJoinOperatorPanels,joinOperatorIndex,deleteCount);this.removeComponents(eJoinOperatorsAnd,joinOperatorIndex,deleteCount);this.removeComponents(eJoinOperatorsOr,joinOperatorIndex,deleteCount);}removeElements(elements,startPosition,deleteCount){var removedElements=removeItems(elements,startPosition,deleteCount);removedElements.forEach(element=>_removeFromParent(element));}removeComponents(components,startPosition,deleteCount){var removedComponents=removeItems(components,startPosition,deleteCount);removedComponents.forEach(comp=>{_removeFromParent(comp.getGui());this.destroyBean(comp);});}afterGuiAttached(params){super.afterGuiAttached(params);this.resetPlaceholder();if(!(params!==null&&params!==void 0&&params.suppressFocus)){var elementToFocus;if(!this.isReadOnly()){var firstInput=this.getInputs(0)[0];if(firstInput instanceof AgAbstractInputField&&this.isConditionBodyVisible(0)){elementToFocus=firstInput.getInputElement();}else{var _this$eTypes$;elementToFocus=(_this$eTypes$=this.eTypes[0])===null||_this$eTypes$===void 0?void 0:_this$eTypes$.getFocusableElement();}}(elementToFocus!==null&&elementToFocus!==void 0?elementToFocus:this.getGui()).focus({preventScroll:true});}}afterGuiDetached(){var _this$beans$colFilter6;super.afterGuiDetached();var params=this.params;if((_this$beans$colFilter6=this.beans.colFilter)!==null&&_this$beans$colFilter6!==void 0&&_this$beans$colFilter6.shouldKeepStateOnDetach(params.column)){return;}params.onStateChange({model:params.model});var lastUiCompletePosition=-1;var updatedLastUiCompletePosition=-1;var conditionsRemoved=false;var joinOperator=this.getJoinOperator();for(var position=this.getNumConditions()-1;position>=0;position--){if(this.isConditionUiComplete(position)){if(lastUiCompletePosition===-1){lastUiCompletePosition=position;updatedLastUiCompletePosition=position;}}else{var shouldRemovePositionAtEnd=position>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(position-1);var positionBeforeLastUiCompletePosition=position<lastUiCompletePosition;if(shouldRemovePositionAtEnd||positionBeforeLastUiCompletePosition){this.removeConditionsAndOperators(position,1);conditionsRemoved=true;if(positionBeforeLastUiCompletePosition){updatedLastUiCompletePosition--;}}}}var shouldUpdateConditionStatusesAndValues=false;if(this.getNumConditions()<this.numAlwaysVisibleConditions){this.createMissingConditionsAndOperators();shouldUpdateConditionStatusesAndValues=true;}if(this.shouldAddNewConditionAtEnd(updatedLastUiCompletePosition===this.getNumConditions()-1)){this.createJoinOperatorPanel();this.createOption();shouldUpdateConditionStatusesAndValues=true;}if(shouldUpdateConditionStatusesAndValues){this.updateConditionStatusesAndValues(updatedLastUiCompletePosition,joinOperator);}if(conditionsRemoved){this.updateJoinOperatorsDisabled();}this.lastUiCompletePosition=updatedLastUiCompletePosition;}getModelAsString(model){var _this$params$getHandl,_this$params$getHandl2,_this$params$getHandl3;return(_this$params$getHandl=(_this$params$getHandl2=this.params.getHandler())===null||_this$params$getHandl2===void 0||(_this$params$getHandl3=_this$params$getHandl2.getModelAsString)===null||_this$params$getHandl3===void 0?void 0:_this$params$getHandl3.call(_this$params$getHandl2,model))!==null&&_this$params$getHandl!==void 0?_this$params$getHandl:\"\";}getPlaceholderText(defaultPlaceholder,position){var placeholder=this.translate(defaultPlaceholder);if(typeof this.filterPlaceholder===\"function\"){var filterOptionKey=this.eTypes[position].getValue();var filterOption=this.translate(filterOptionKey);placeholder=this.filterPlaceholder({filterOptionKey,filterOption,placeholder});}else if(typeof this.filterPlaceholder===\"string\"){placeholder=this.filterPlaceholder;}return placeholder;}// allow sub-classes to reset HTML placeholders after UI update.\nresetPlaceholder(){var globalTranslate=this.getLocaleTextFunc();this.forEachInput((element,index,position,numberOfInputs)=>{if(!(element instanceof AgAbstractInputField)){return;}var placeholder=index===0&&numberOfInputs>1?\"inRangeStart\":index===0?\"filterOoo\":\"inRangeEnd\";var ariaLabel=index===0&&numberOfInputs>1?globalTranslate(\"ariaFilterFromValue\",\"Filter from value\"):index===0?globalTranslate(\"ariaFilterValue\",\"Filter Value\"):globalTranslate(\"ariaFilterToValue\",\"Filter to Value\");element.setInputPlaceholder(this.getPlaceholderText(placeholder,position));element.setInputAriaLabel(ariaLabel);});}// eslint-disable-next-line @typescript-eslint/no-unused-vars\nsetElementValue(element,value,fromFloatingFilter){if(element instanceof AgAbstractInputField){element.setValue(value!=null?String(value):null,true);}}setElementDisplayed(element,displayed){if(element instanceof Component){_setDisplayed(element.getGui(),displayed);}}setElementDisabled(element,disabled){if(element instanceof Component){_setDisabled(element.getGui(),disabled);}}attachElementOnChange(element,listener){if(element instanceof AgAbstractInputField){element.onValueChange(listener);}}forEachInput(cb){this.getConditionTypes().forEach((type,position)=>{this.forEachPositionTypeInput(position,type,cb);});}forEachPositionInput(position,cb){var type=this.getConditionType(position);this.forEachPositionTypeInput(position,type,cb);}forEachPositionTypeInput(position,type,cb){var numberOfInputs=getNumberOfInputs(type,this.optionsFactory);var inputs=this.getInputs(position);for(var index=0;index<inputs.length;index++){var input=inputs[index];if(input!=null){cb(input,index,position,numberOfInputs);}}}isConditionDisabled(position,lastUiCompletePosition){if(this.isReadOnly()){return true;}if(position===0){return false;}return position>lastUiCompletePosition+1;}isConditionBodyVisible(position){var type=this.getConditionType(position);var numberOfInputs=getNumberOfInputs(type,this.optionsFactory);return numberOfInputs>0;}// returns true if the UI represents a working filter, eg all parts are filled out.\n// eg if text filter and textfield blank then returns false.\nisConditionUiComplete(position){if(position>=this.getNumConditions()){return false;}var type=this.getConditionType(position);if(type===\"empty\"){return false;}if(this.getValues(position).some(v=>v==null)){return false;}return true;}getNumConditions(){return this.eTypes.length;}getUiCompleteConditions(){var conditions=[];for(var position=0;position<this.getNumConditions();position++){if(this.isConditionUiComplete(position)){conditions.push(this.createCondition(position));}}return conditions;}createMissingConditionsAndOperators(){if(this.isReadOnly()){return;}for(var i=this.getNumConditions();i<this.numAlwaysVisibleConditions;i++){this.createJoinOperatorPanel();this.createOption();}}resetUiToDefaults(silent){this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions);this.eTypes.forEach(eType=>this.resetType(eType));this.eJoinAnds.forEach((eJoinOperatorAnd,index)=>this.resetJoinOperatorAnd(eJoinOperatorAnd,index,this.joinOperatorId+index));this.eJoinOrs.forEach((eJoinOperatorOr,index)=>this.resetJoinOperatorOr(eJoinOperatorOr,index,this.joinOperatorId+index));this.joinOperatorId++;this.forEachInput(element=>this.resetInput(element));this.resetPlaceholder();this.createMissingConditionsAndOperators();this.lastUiCompletePosition=null;this.updateUiVisibility();if(!silent){this.params.onUiChange(this.getUiChangeEventParams());}}resetType(eType){var translate=this.getLocaleTextFunc();var filteringLabel=translate(\"ariaFilteringOperator\",\"Filtering operator\");eType.setValue(this.optionsFactory.defaultOption,true).setAriaLabel(filteringLabel).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1);}resetJoinOperatorAnd(eJoinOperatorAnd,index,uniqueGroupId){this.resetJoinOperator(eJoinOperatorAnd,index,this.defaultJoinOperator===\"AND\",this.translate(\"andCondition\"),uniqueGroupId);}resetJoinOperatorOr(eJoinOperatorOr,index,uniqueGroupId){this.resetJoinOperator(eJoinOperatorOr,index,this.defaultJoinOperator===\"OR\",this.translate(\"orCondition\"),uniqueGroupId);}resetJoinOperator(eJoinOperator,index,value,label,uniqueGroupId){this.updateJoinOperatorDisabled(eJoinOperator.setValue(value,true).setName(\"ag-simple-filter-and-or-\".concat(this.getCompId(),\"-\").concat(uniqueGroupId)).setLabel(label),index);}updateJoinOperatorsDisabled(){var updater=(eJoinOperator,index)=>this.updateJoinOperatorDisabled(eJoinOperator,index);this.eJoinAnds.forEach(updater);this.eJoinOrs.forEach(updater);}updateJoinOperatorDisabled(eJoinOperator,index){eJoinOperator.setDisabled(this.isReadOnly()||index>0);}resetInput(element){this.setElementValue(element,null);this.setElementDisabled(element,this.isReadOnly());}// puts model values into the UI\nsetConditionIntoUi(model,position){var values=this.mapValuesFromModel(model,this.optionsFactory);this.forEachInput((element,index,elPosition)=>{if(elPosition!==position){return;}this.setElementValue(element,values[index]!=null?values[index]:null);});}// after floating filter changes, this sets the 'value' section. this is implemented by the base class\n// (as that's where value is controlled), the 'type' part from the floating filter is dealt with in this class.\nsetValueFromFloatingFilter(value){this.forEachInput((element,index,position)=>{this.setElementValue(element,index===0&&position===0?value:null,true);});}addChangedListeners(eType,position){if(this.isReadOnly()){return;}eType.onValueChange(this.listener);this.forEachPositionInput(position,element=>{this.attachElementOnChange(element,this.listener);});}hasInvalidInputs(){return false;}isReadOnly(){return!!this.params.readOnly;}};// packages/ag-grid-community/src/filter/provided/date/dateCompWrapper.ts\nvar DateCompWrapper=class{constructor(context,userCompFactory,colDef,dateComponentParams,eParent,onReady){this.alive=true;this.context=context;this.eParent=eParent;var compDetails=_getDateCompDetails(userCompFactory,colDef,dateComponentParams);if(!compDetails){return;}compDetails.newAgStackInstance().then(dateComp=>{var _dateComp$afterGuiAtt;if(!this.alive){context.destroyBean(dateComp);return;}this.dateComp=dateComp;if(!dateComp){return;}eParent.appendChild(dateComp.getGui());dateComp===null||dateComp===void 0||(_dateComp$afterGuiAtt=dateComp.afterGuiAttached)===null||_dateComp$afterGuiAtt===void 0||_dateComp$afterGuiAtt.call(dateComp);var{tempValue,disabled}=this;if(tempValue){dateComp.setDate(tempValue);}if(disabled!=null){var _dateComp$setDisabled;(_dateComp$setDisabled=dateComp.setDisabled)===null||_dateComp$setDisabled===void 0||_dateComp$setDisabled.call(dateComp,disabled);}onReady===null||onReady===void 0||onReady(this);});}destroy(){this.alive=false;this.dateComp=this.context.destroyBean(this.dateComp);}getDate(){return this.dateComp?this.dateComp.getDate():this.tempValue;}setDate(value){var dateComp=this.dateComp;if(dateComp){dateComp.setDate(value);}else{this.tempValue=value;}}setDisabled(disabled){var dateComp=this.dateComp;if(dateComp){var _dateComp$setDisabled2;(_dateComp$setDisabled2=dateComp.setDisabled)===null||_dateComp$setDisabled2===void 0||_dateComp$setDisabled2.call(dateComp,disabled);}else{this.disabled=disabled;}}setDisplayed(displayed){_setDisplayed(this.eParent,displayed);}setInputPlaceholder(placeholder){var _this$dateComp,_this$dateComp$setInp;(_this$dateComp=this.dateComp)===null||_this$dateComp===void 0||(_this$dateComp$setInp=_this$dateComp.setInputPlaceholder)===null||_this$dateComp$setInp===void 0||_this$dateComp$setInp.call(_this$dateComp,placeholder);}setInputAriaLabel(label){var _this$dateComp2,_this$dateComp2$setIn;(_this$dateComp2=this.dateComp)===null||_this$dateComp2===void 0||(_this$dateComp2$setIn=_this$dateComp2.setInputAriaLabel)===null||_this$dateComp2$setIn===void 0||_this$dateComp2$setIn.call(_this$dateComp2,label);}afterGuiAttached(params){var _this$dateComp3,_this$dateComp3$after;(_this$dateComp3=this.dateComp)===null||_this$dateComp3===void 0||(_this$dateComp3$after=_this$dateComp3.afterGuiAttached)===null||_this$dateComp3$after===void 0||_this$dateComp3$after.call(_this$dateComp3,params);}updateParams(params){var _this$dateComp4,_this$dateComp4$refre;(_this$dateComp4=this.dateComp)===null||_this$dateComp4===void 0||(_this$dateComp4$refre=_this$dateComp4.refresh)===null||_this$dateComp4$refre===void 0||_this$dateComp4$refre.call(_this$dateComp4,params);}};// packages/ag-grid-community/src/filter/provided/date/dateFilterConstants.ts\nvar DEFAULT_DATE_FILTER_OPTIONS=[\"equals\",\"notEqual\",\"lessThan\",\"greaterThan\",\"inRange\",\"blank\",\"notBlank\"];// packages/ag-grid-community/src/filter/provided/date/dateFilterUtils.ts\nfunction mapValuesFromDateFilterModel(filterModel,optionsFactory){var{dateFrom,dateTo,type}=filterModel||{};return[dateFrom&&_parseDateTimeFromString(dateFrom)||null,dateTo&&_parseDateTimeFromString(dateTo)||null].slice(0,getNumberOfInputs(type,optionsFactory));}// packages/ag-grid-community/src/filter/provided/date/dateFilter.ts\nvar DEFAULT_MIN_YEAR=1e3;var DEFAULT_MAX_YEAR=Infinity;var DateFilter=class extends SimpleFilter{constructor(){super(\"dateFilter\",mapValuesFromDateFilterModel,DEFAULT_DATE_FILTER_OPTIONS);this.eConditionPanelsFrom=[];this.eConditionPanelsTo=[];this.dateConditionFromComps=[];this.dateConditionToComps=[];this.minValidYear=DEFAULT_MIN_YEAR;this.maxValidYear=DEFAULT_MAX_YEAR;this.minValidDate=null;this.maxValidDate=null;this.filterType=\"date\";}afterGuiAttached(params){super.afterGuiAttached(params);this.dateConditionFromComps[0].afterGuiAttached(params);}commonUpdateSimpleParams(params){super.commonUpdateSimpleParams(params);var yearParser=(param,fallback)=>{var value=params[param];if(value!=null){if(!isNaN(value)){return value==null?fallback:Number(value);}else{_warn(82,{param});}}return fallback;};var minValidYear=yearParser(\"minValidYear\",DEFAULT_MIN_YEAR);var maxValidYear=yearParser(\"maxValidYear\",DEFAULT_MAX_YEAR);this.minValidYear=minValidYear;this.maxValidYear=maxValidYear;if(minValidYear>maxValidYear){_warn(83);}var{minValidDate,maxValidDate}=params;var parsedMinValidDate=minValidDate instanceof Date?minValidDate:_parseDateTimeFromString(minValidDate);this.minValidDate=parsedMinValidDate;var parsedMaxValidDate=maxValidDate instanceof Date?maxValidDate:_parseDateTimeFromString(maxValidDate);this.maxValidDate=parsedMaxValidDate;if(parsedMinValidDate&&parsedMaxValidDate&&parsedMinValidDate>parsedMaxValidDate){_warn(84);}}createDateCompWrapper(element){var{beans:{userCompFactory,context,gos},params}=this;var dateCompWrapper=new DateCompWrapper(context,userCompFactory,params.colDef,_addGridCommonParams(gos,{onDateChanged:()=>this.onUiChanged(),filterParams:params,location:\"filter\"}),element);this.addDestroyFunc(()=>dateCompWrapper.destroy());return dateCompWrapper;}setElementValue(element,value){element.setDate(value);}setElementDisplayed(element,displayed){element.setDisplayed(displayed);}setElementDisabled(element,disabled){element.setDisabled(disabled);}createEValue(){var eCondition=_createElement({tag:\"div\",cls:\"ag-filter-body\"});this.createFromToElement(eCondition,this.eConditionPanelsFrom,this.dateConditionFromComps,\"from\");this.createFromToElement(eCondition,this.eConditionPanelsTo,this.dateConditionToComps,\"to\");return eCondition;}createFromToElement(eCondition,eConditionPanels,dateConditionComps,fromTo){var eConditionPanel=_createElement({tag:\"div\",cls:\"ag-filter-\".concat(fromTo,\" ag-filter-date-\").concat(fromTo)});eConditionPanels.push(eConditionPanel);eCondition.appendChild(eConditionPanel);dateConditionComps.push(this.createDateCompWrapper(eConditionPanel));}removeEValues(startPosition,deleteCount){this.removeDateComps(this.dateConditionFromComps,startPosition,deleteCount);this.removeDateComps(this.dateConditionToComps,startPosition,deleteCount);removeItems(this.eConditionPanelsFrom,startPosition,deleteCount);removeItems(this.eConditionPanelsTo,startPosition,deleteCount);}removeDateComps(components,startPosition,deleteCount){var removedComponents=removeItems(components,startPosition,deleteCount);removedComponents.forEach(comp=>comp.destroy());}isValidDateValue(value){if(value===null){return false;}var{minValidDate,maxValidDate,minValidYear,maxValidYear}=this;if(minValidDate){if(value<minValidDate){return false;}}else{if(value.getUTCFullYear()<minValidYear){return false;}}if(maxValidDate){if(value>maxValidDate){return false;}}else{if(value.getUTCFullYear()>maxValidYear){return false;}}return true;}isConditionUiComplete(position){if(!super.isConditionUiComplete(position)){return false;}var valid=true;this.forEachInput((element,index,elPosition,numberOfInputs)=>{if(elPosition!==position||!valid||index>=numberOfInputs){return;}valid=valid&&this.isValidDateValue(element.getDate());});return valid;}areSimpleModelsEqual(aSimple,bSimple){return aSimple.dateFrom===bSimple.dateFrom&&aSimple.dateTo===bSimple.dateTo&&aSimple.type===bSimple.type;}createCondition(position){var type=this.getConditionType(position);var model={};var values=this.getValues(position);if(values.length>0){model.dateFrom=_serialiseDate(values[0]);}if(values.length>1){model.dateTo=_serialiseDate(values[1]);}return _objectSpread({dateFrom:null,dateTo:null,filterType:this.filterType,type},model);}resetPlaceholder(){var globalTranslate=this.getLocaleTextFunc();var placeholder=this.translate(\"dateFormatOoo\");var ariaLabel=globalTranslate(\"ariaFilterValue\",\"Filter Value\");this.forEachInput(element=>{element.setInputPlaceholder(placeholder);element.setInputAriaLabel(ariaLabel);});}getInputs(position){var{dateConditionFromComps,dateConditionToComps}=this;if(position>=dateConditionFromComps.length){return[null,null];}return[dateConditionFromComps[position],dateConditionToComps[position]];}getValues(position){var result=[];this.forEachPositionInput(position,(element,index,_elPosition,numberOfInputs)=>{if(index<numberOfInputs){result.push(element.getDate());}});return result;}translate(key){if(key===\"lessThan\"){return super.translate(\"before\");}if(key===\"greaterThan\"){return super.translate(\"after\");}return super.translate(key);}};// packages/ag-grid-community/src/filter/provided/simpleFilterHandler.ts\nvar SimpleFilterHandler=class extends BeanStub{constructor(mapValuesFromModel,defaultOptions){super();this.mapValuesFromModel=mapValuesFromModel;this.defaultOptions=defaultOptions;}init(params){var filterParams=params.filterParams;var optionsFactory=new OptionsFactory();this.optionsFactory=optionsFactory;optionsFactory.init(filterParams,this.defaultOptions);this.filterModelFormatter=this.createManagedBean(new this.FilterModelFormatterClass(optionsFactory,filterParams));this.updateParams(params);this.validateModel(params);}refresh(params){if(params.source===\"colDef\"){var filterParams=params.filterParams;var optionsFactory=this.optionsFactory;optionsFactory.refresh(filterParams,this.defaultOptions);this.filterModelFormatter.updateParams({optionsFactory,filterParams});this.updateParams(params);}this.validateModel(params);}updateParams(params){this.params=params;}doesFilterPass(params){var model=params.model;if(model==null){return true;}var{operator}=model;var models=[];if(operator){var _combinedModel$condit;var combinedModel=model;models.push(...((_combinedModel$condit=combinedModel.conditions)!==null&&_combinedModel$condit!==void 0?_combinedModel$condit:[]));}else{models.push(model);}var combineFunction=operator&&operator===\"OR\"?\"some\":\"every\";var cellValue=this.params.getValue(params.node);return models[combineFunction](m=>this.individualConditionPasses(params,m,cellValue));}getModelAsString(model,source){var _this$filterModelForm;return(_this$filterModelForm=this.filterModelFormatter.getModelAsString(model,source))!==null&&_this$filterModelForm!==void 0?_this$filterModelForm:\"\";}validateModel(params){var _filterOptions$map;var{model,filterParams:{filterOptions,maxNumConditions}}=params;if(model==null){return;}var isCombined=isCombinedFilterModel(model);var conditions=isCombined?model.conditions:[model];var newOptionsList=(_filterOptions$map=filterOptions===null||filterOptions===void 0?void 0:filterOptions.map(option=>typeof option===\"string\"?option:option.displayKey))!==null&&_filterOptions$map!==void 0?_filterOptions$map:this.defaultOptions;var allConditionsExistInNewOptionsList=!conditions||conditions.every(condition=>newOptionsList.find(option=>option===condition.type)!==void 0);if(!allConditionsExistInNewOptionsList){this.params=_objectSpread(_objectSpread({},params),{},{model:null});params.onModelChange(null);return;}var needsUpdate=false;var filterType=this.filterType;if(conditions&&!conditions.every(condition=>condition.filterType===filterType)||model.filterType!==filterType){conditions=conditions.map(condition=>_objectSpread(_objectSpread({},condition),{},{filterType}));needsUpdate=true;}if(typeof maxNumConditions===\"number\"&&conditions&&conditions.length>maxNumConditions){conditions=conditions.slice(0,maxNumConditions);needsUpdate=true;}if(needsUpdate){var updatedModel=conditions.length>1?_objectSpread(_objectSpread({},model),{},{filterType,conditions}):_objectSpread(_objectSpread({},conditions[0]),{},{filterType});this.params=_objectSpread(_objectSpread({},params),{},{model:updatedModel});params.onModelChange(updatedModel);return;}}/** returns true if the row passes the said condition */individualConditionPasses(params,filterModel,cellValue){var optionsFactory=this.optionsFactory;var values=this.mapValuesFromModel(filterModel,optionsFactory);var customFilterOption=optionsFactory.getCustomOption(filterModel.type);var customFilterResult=evaluateCustomFilter(customFilterOption,values,cellValue);if(customFilterResult!=null){return customFilterResult;}if(cellValue==null){return this.evaluateNullValue(filterModel.type);}return this.evaluateNonNullValue(values,cellValue,filterModel,params);}};// packages/ag-grid-community/src/filter/provided/scalarFilterHandler.ts\nvar ScalarFilterHandler=class extends SimpleFilterHandler{evaluateNullValue(filterType){var{includeBlanksInEquals,includeBlanksInNotEqual,includeBlanksInGreaterThan,includeBlanksInLessThan,includeBlanksInRange}=this.params.filterParams;switch(filterType){case\"equals\":if(includeBlanksInEquals){return true;}break;case\"notEqual\":if(includeBlanksInNotEqual){return true;}break;case\"greaterThan\":case\"greaterThanOrEqual\":if(includeBlanksInGreaterThan){return true;}break;case\"lessThan\":case\"lessThanOrEqual\":if(includeBlanksInLessThan){return true;}break;case\"inRange\":if(includeBlanksInRange){return true;}break;case\"blank\":return true;case\"notBlank\":return false;}return false;}evaluateNonNullValue(values,cellValue,filterModel){var type=filterModel.type;if(!this.isValid(cellValue)){return type===\"notEqual\"||type===\"notBlank\";}var comparator=this.comparator();var compareResult=values[0]!=null?comparator(values[0],cellValue):0;switch(type){case\"equals\":return compareResult===0;case\"notEqual\":return compareResult!==0;case\"greaterThan\":return compareResult>0;case\"greaterThanOrEqual\":return compareResult>=0;case\"lessThan\":return compareResult<0;case\"lessThanOrEqual\":return compareResult<=0;case\"inRange\":{var compareToResult=comparator(values[1],cellValue);return this.params.filterParams.inRangeInclusive?compareResult>=0&&compareToResult<=0:compareResult>0&&compareToResult<0;}case\"blank\":return isBlank(cellValue);case\"notBlank\":return!isBlank(cellValue);default:_warn(76,{filterModelType:type});return true;}}};// packages/ag-grid-community/src/filter/provided/simpleFilterModelFormatter.ts\nvar SCALAR_FILTER_TYPE_KEYS={equals:\"Equals\",notEqual:\"NotEqual\",greaterThan:\"GreaterThan\",greaterThanOrEqual:\"GreaterThanOrEqual\",lessThan:\"LessThan\",lessThanOrEqual:\"LessThanOrEqual\",inRange:\"InRange\"};var TEXT_FILTER_TYPE_KEYS={contains:\"Contains\",notContains:\"NotContains\",equals:\"TextEquals\",notEqual:\"TextNotEqual\",startsWith:\"StartsWith\",endsWith:\"EndsWith\",inRange:\"InRange\"};var SimpleFilterModelFormatter=class extends BeanStub{constructor(optionsFactory,filterParams,valueFormatter){super();this.optionsFactory=optionsFactory;this.filterParams=filterParams;this.valueFormatter=valueFormatter;}// used by:\n// 1) NumberFloatingFilter & TextFloatingFilter: Always, for both when editable and read only.\n// 2) DateFloatingFilter: Only when read only (as we show text rather than a date picker when read only)\ngetModelAsString(model,source){var translate=this.getLocaleTextFunc();var forToolPanel=source===\"filterToolPanel\";if(!model){return forToolPanel?translateForFilter(this,\"filterSummaryInactive\"):null;}var isCombined=model.operator!=null;if(isCombined){var _combinedModel$condit2;var combinedModel=model;var conditions=(_combinedModel$condit2=combinedModel.conditions)!==null&&_combinedModel$condit2!==void 0?_combinedModel$condit2:[];var customOptions=conditions.map(condition=>this.getModelAsString(condition,source));var joinOperatorTranslateKey=combinedModel.operator===\"AND\"?\"andCondition\":\"orCondition\";return customOptions.join(\" \".concat(translateForFilter(this,joinOperatorTranslateKey),\" \"));}else if(model.type===\"blank\"||model.type===\"notBlank\"){return forToolPanel?translateForFilter(this,model.type===\"blank\"?\"filterSummaryBlank\":\"filterSummaryNotBlank\"):translate(model.type,model.type);}else{var condition=model;var customOption=this.optionsFactory.getCustomOption(condition.type);var{displayKey,displayName,numberOfInputs}=customOption||{};if(displayKey&&displayName&&numberOfInputs===0){return translate(displayKey,displayName);}return this.conditionToString(condition,forToolPanel,condition.type===\"inRange\"||numberOfInputs===2,displayKey,displayName);}}updateParams(params){var{optionsFactory,filterParams}=params;this.optionsFactory=optionsFactory;this.filterParams=filterParams;}conditionForToolPanel(type,isRange,getFilter,getFilterTo,customDisplayKey,customDisplayName){var typeValue;var typeKey=this.getTypeKey(type);if(typeKey){typeValue=translateForFilter(this,typeKey);}if(customDisplayKey&&customDisplayName){typeValue=this.getLocaleTextFunc()(customDisplayKey,customDisplayName);}if(typeValue!=null){if(isRange){return\"\".concat(typeValue,\" \").concat(translateForFilter(this,\"filterSummaryInRangeValues\",[getFilter(),getFilterTo()]));}else{return\"\".concat(typeValue,\" \").concat(getFilter());}}return null;}getTypeKey(type){var suffix=this.filterTypeKeys[type];return suffix?\"filterSummary\".concat(suffix):null;}formatValue(value){var _valueFormatter;var valueFormatter=this.valueFormatter;return valueFormatter?(_valueFormatter=valueFormatter(value!==null&&value!==void 0?value:null))!==null&&_valueFormatter!==void 0?_valueFormatter:\"\":String(value);}};// packages/ag-grid-community/src/filter/provided/date/dateFilterModelFormatter.ts\nvar DateFilterModelFormatter=class extends SimpleFilterModelFormatter{constructor(optionsFactory,filterParams){super(optionsFactory,filterParams,value=>{var{dataTypeSvc,valueSvc}=this.beans;var column=filterParams.column;var dateFormatFn=dataTypeSvc===null||dataTypeSvc===void 0?void 0:dataTypeSvc.getDateFormatterFunction(column);var dateStringStringValue=dateFormatFn===null||dateFormatFn===void 0?void 0:dateFormatFn(value!==null&&value!==void 0?value:void 0);return valueSvc.formatValue(column,null,dateStringStringValue);});this.filterTypeKeys=SCALAR_FILTER_TYPE_KEYS;}conditionToString(condition,forToolPanel,isRange,customDisplayKey,customDisplayName){var{type}=condition;var dateFrom=_parseDateTimeFromString(condition.dateFrom);var dateTo=_parseDateTimeFromString(condition.dateTo);var format=this.filterParams.inRangeFloatingFilterDateFormat;var formatDate=forToolPanel?this.formatValue.bind(this):value=>_dateToFormattedString(value,format);var formattedFrom=()=>dateFrom!==null?formatDate(dateFrom):\"null\";var formattedTo=()=>dateTo!==null?formatDate(dateTo):\"null\";if(forToolPanel){var valueForToolPanel=this.conditionForToolPanel(type,isRange,formattedFrom,formattedTo,customDisplayKey,customDisplayName);if(valueForToolPanel!=null){return valueForToolPanel;}}if(isRange){return\"\".concat(formattedFrom(),\"-\").concat(formattedTo());}if(dateFrom!=null){return formatDate(dateFrom);}return\"\".concat(type);}};// packages/ag-grid-community/src/filter/provided/date/dateFilterHandler.ts\nfunction defaultDateComparator(filterDate,cellValue){var cellAsDate=cellValue;if(cellAsDate<filterDate){return-1;}if(cellAsDate>filterDate){return 1;}return 0;}var DateFilterHandler=class extends ScalarFilterHandler{constructor(){super(mapValuesFromDateFilterModel,DEFAULT_DATE_FILTER_OPTIONS);this.filterType=\"date\";this.FilterModelFormatterClass=DateFilterModelFormatter;}comparator(){var _this$params$filterPa;return(_this$params$filterPa=this.params.filterParams.comparator)!==null&&_this$params$filterPa!==void 0?_this$params$filterPa:defaultDateComparator;}isValid(value){var isValidDate2=this.params.filterParams.isValidDate;return!isValidDate2||isValidDate2(value);}};// packages/ag-grid-community/src/filter/floating/provided/simpleFloatingFilter.ts\nvar SimpleFloatingFilter=class extends Component{constructor(){super(...arguments);this.defaultDebounceMs=0;}setLastTypeFromModel(model){if(!model){this.lastType=this.optionsFactory.defaultOption;return;}var isCombined=model.operator;var condition;if(isCombined){var combinedModel=model;condition=combinedModel.conditions[0];}else{condition=model;}this.lastType=condition.type;}canWeEditAfterModelFromParentFilter(model){if(!model){return this.isTypeEditable(this.lastType);}var isCombined=model.operator;if(isCombined){return false;}var simpleModel=model;return this.isTypeEditable(simpleModel.type);}init(params){this.params=params;var reactive=this.gos.get(\"enableFilterHandlers\");this.reactive=reactive;this.setParams(params);if(reactive){var reactiveParams=params;this.onModelUpdated(reactiveParams.model);}}setParams(params){var optionsFactory=new OptionsFactory();this.optionsFactory=optionsFactory;optionsFactory.init(params.filterParams,this.defaultOptions);this.filterModelFormatter=this.createManagedBean(new this.FilterModelFormatterClass(optionsFactory,params.filterParams));this.setSimpleParams(params,false);}setSimpleParams(params){var update=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;var defaultOption=this.optionsFactory.defaultOption;if(!update){this.lastType=defaultOption;}this.readOnly=!!params.filterParams.readOnly;var editable=this.isTypeEditable(defaultOption);this.setEditable(editable);}refresh(params){this.params=params;var reactiveParams=params;var reactive=this.reactive;if(!reactive||reactiveParams.source===\"colDef\"){this.updateParams(params);}if(reactive){var{source,model}=reactiveParams;if(source===\"dataChanged\"||source===\"ui\"){return;}this.onModelUpdated(model);}}updateParams(params){var optionsFactory=this.optionsFactory;optionsFactory.refresh(params.filterParams,this.defaultOptions);this.setSimpleParams(params);this.filterModelFormatter.updateParams({optionsFactory,filterParams:params.filterParams});}onParentModelChanged(model,event){if(event!==null&&event!==void 0&&event.afterFloatingFilter||event!==null&&event!==void 0&&event.afterDataChange){return;}this.onModelUpdated(model);}hasSingleInput(filterType){var _this$optionsFactory$;var numberOfInputs=(_this$optionsFactory$=this.optionsFactory.getCustomOption(filterType))===null||_this$optionsFactory$===void 0?void 0:_this$optionsFactory$.numberOfInputs;return numberOfInputs==null||numberOfInputs==1;}isTypeEditable(type){var uneditableTypes=[\"inRange\",\"empty\",\"blank\",\"notBlank\"];return!!type&&!this.readOnly&&this.hasSingleInput(type)&&uneditableTypes.indexOf(type)<0;}getAriaLabel(params){var displayName=this.beans.colNames.getDisplayNameForColumn(params.column,\"header\",true);return\"\".concat(displayName,\" \").concat(this.getLocaleTextFunc()(\"ariaFilterInput\",\"Filter Input\"));}};// packages/ag-grid-community/src/filter/provided/date/dateFloatingFilter.ts\nvar DateFloatingFilterElement={tag:\"div\",cls:\"ag-floating-filter-input\",role:\"presentation\",children:[{tag:\"ag-input-text-field\",ref:\"eReadOnlyText\"},{tag:\"div\",ref:\"eDateWrapper\",cls:\"ag-date-floating-filter-wrapper\"}]};var DateFloatingFilter=class extends SimpleFloatingFilter{constructor(){super(DateFloatingFilterElement,[AgInputTextFieldSelector]);this.eReadOnlyText=RefPlaceholder;this.eDateWrapper=RefPlaceholder;this.FilterModelFormatterClass=DateFilterModelFormatter;this.filterType=\"date\";this.defaultOptions=DEFAULT_DATE_FILTER_OPTIONS;}setParams(params){super.setParams(params);this.createDateComponent();var translate=this.getLocaleTextFunc();this.eReadOnlyText.setDisabled(true).setInputAriaLabel(translate(\"ariaDateFilterInput\",\"Date Filter Input\"));}updateParams(params){super.updateParams(params);this.dateComp.updateParams(this.getDateComponentParams());this.updateCompOnModelChange(params.currentParentModel());}updateCompOnModelChange(model){var allowEditing=!this.readOnly&&this.canWeEditAfterModelFromParentFilter(model);this.setEditable(allowEditing);if(allowEditing){var dateModel=model?_parseDateTimeFromString(model.dateFrom):null;this.dateComp.setDate(dateModel);this.eReadOnlyText.setValue(\"\");}else{this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(model));this.dateComp.setDate(null);}}setEditable(editable){_setDisplayed(this.eDateWrapper,editable);_setDisplayed(this.eReadOnlyText.getGui(),!editable);}onModelUpdated(model){super.setLastTypeFromModel(model);this.updateCompOnModelChange(model);}onDateChanged(){var filterValueDate=this.dateComp.getDate();if(this.reactive){var _this$lastType;var reactiveParams=this.params;reactiveParams.onUiChange();var model=reactiveParams.model;var filterValueText=_serialiseDate(filterValueDate);var newModel=filterValueText==null?null:_objectSpread(_objectSpread({},model!==null&&model!==void 0?model:{filterType:this.filterType,type:(_this$lastType=this.lastType)!==null&&_this$lastType!==void 0?_this$lastType:this.optionsFactory.defaultOption}),{},{dateFrom:filterValueText});reactiveParams.onModelChange(newModel,{afterFloatingFilter:true});}else{this.params.parentFilterInstance(filterInstance=>{filterInstance===null||filterInstance===void 0||filterInstance.onFloatingFilterChanged(this.lastType||null,filterValueDate);});}}getDateComponentParams(){var{filterParams}=this.params;var debounceMs=getDebounceMs(filterParams,this.defaultDebounceMs);return _addGridCommonParams(this.gos,{onDateChanged:_debounce(this,this.onDateChanged.bind(this),debounceMs),filterParams,location:\"floatingFilter\"});}createDateComponent(){var{beans:{context,userCompFactory},eDateWrapper,params}=this;this.dateComp=new DateCompWrapper(context,userCompFactory,params.column.getColDef(),this.getDateComponentParams(),eDateWrapper,dateComp=>{dateComp.setInputAriaLabel(this.getAriaLabel(params));});this.addDestroyFunc(()=>this.dateComp.destroy());}};// packages/ag-grid-community/src/filter/provided/date/defaultDateComponent.ts\nvar DefaultDateElement={tag:\"div\",cls:\"ag-filter-filter\",children:[{tag:\"ag-input-text-field\",ref:\"eDateInput\",cls:\"ag-date-filter\"}]};var DefaultDateComponent=class extends Component{constructor(){super(DefaultDateElement,[AgInputTextFieldSelector]);this.eDateInput=RefPlaceholder;this.isApply=false;this.applyOnFocusOut=false;}init(params){this.params=params;this.setParams(params);var inputElement=this.eDateInput.getInputElement();this.addManagedListeners(inputElement,{// ensures that the input element is focussed when a clear button is clicked,\n// unless using safari as there is no clear button and focus does not work properly\nmouseDown:()=>{if(this.eDateInput.isDisabled()||this.usingSafariDatePicker){return;}inputElement.focus({preventScroll:true});},input:this.handleInput.bind(this,false),change:this.handleInput.bind(this,true),focusout:this.handleFocusOut.bind(this)});}handleInput(isChange){if(this.eDateInput.isDisabled()){return;}if(this.isApply){this.applyOnFocusOut=!isChange;if(isChange){this.params.onDateChanged();}return;}if(!isChange){this.params.onDateChanged();}}handleFocusOut(){if(this.applyOnFocusOut){this.applyOnFocusOut=false;this.params.onDateChanged();}}setParams(params){var _ref227,_dataTypeSvc$getDateI;var inputElement=this.eDateInput.getInputElement();var shouldUseBrowserDatePicker=this.shouldUseBrowserDatePicker(params);this.usingSafariDatePicker=shouldUseBrowserDatePicker&&_isBrowserSafari();var{minValidYear,maxValidYear,minValidDate,maxValidDate,buttons,includeTime,colDef}=params.filterParams||{};var dataTypeSvc=this.beans.dataTypeSvc;var shouldUseDateTimeLocal=(_ref227=includeTime!==null&&includeTime!==void 0?includeTime:dataTypeSvc===null||dataTypeSvc===void 0||(_dataTypeSvc$getDateI=dataTypeSvc.getDateIncludesTimeFlag)===null||_dataTypeSvc$getDateI===void 0?void 0:_dataTypeSvc$getDateI.call(dataTypeSvc,colDef.cellDataType))!==null&&_ref227!==void 0?_ref227:false;if(shouldUseBrowserDatePicker){if(shouldUseDateTimeLocal){inputElement.type=\"datetime-local\";inputElement.step=\"1\";}else{inputElement.type=\"date\";}}else{inputElement.type=\"text\";}if(minValidDate&&minValidYear){_warn(85);}if(maxValidDate&&maxValidYear){_warn(86);}if(minValidDate&&maxValidDate){var[parsedMinValidDate,parsedMaxValidDate]=[minValidDate,maxValidDate].map(v=>v instanceof Date?v:_parseDateTimeFromString(v));if(parsedMinValidDate&&parsedMaxValidDate&&parsedMinValidDate.getTime()>parsedMaxValidDate.getTime()){_warn(87);}}if(minValidDate){if(minValidDate instanceof Date){inputElement.min=_dateToFormattedString(minValidDate);}else{inputElement.min=minValidDate;}}else{if(minValidYear){inputElement.min=\"\".concat(minValidYear,\"-01-01\");}}if(maxValidDate){if(maxValidDate instanceof Date){inputElement.max=_dateToFormattedString(maxValidDate);}else{inputElement.max=maxValidDate;}}else{if(maxValidYear){inputElement.max=\"\".concat(maxValidYear,\"-12-31\");}}this.isApply=params.location===\"floatingFilter\"&&!!(buttons!==null&&buttons!==void 0&&buttons.includes(\"apply\"));}refresh(params){this.params=params;this.setParams(params);}getDate(){return _parseDateTimeFromString(this.eDateInput.getValue());}setDate(date){var _this$beans$dataTypeS5,_this$beans$dataTypeS6;var colType=this.params.filterParams.colDef.cellDataType;var includeTime=(_this$beans$dataTypeS5=(_this$beans$dataTypeS6=this.beans.dataTypeSvc)===null||_this$beans$dataTypeS6===void 0?void 0:_this$beans$dataTypeS6.getDateIncludesTimeFlag(colType))!==null&&_this$beans$dataTypeS5!==void 0?_this$beans$dataTypeS5:false;this.eDateInput.setValue(_serialiseDate(date,includeTime));}setInputPlaceholder(placeholder){this.eDateInput.setInputPlaceholder(placeholder);}setInputAriaLabel(ariaLabel){this.eDateInput.setAriaLabel(ariaLabel);}setDisabled(disabled){this.eDateInput.setDisabled(disabled);}afterGuiAttached(params){if(!params||!params.suppressFocus){this.eDateInput.getInputElement().focus({preventScroll:true});}}shouldUseBrowserDatePicker(params){var _params$filterParams$,_params$filterParams;return(_params$filterParams$=params===null||params===void 0||(_params$filterParams=params.filterParams)===null||_params$filterParams===void 0?void 0:_params$filterParams.browserDatePicker)!==null&&_params$filterParams$!==void 0?_params$filterParams$:true;}};// packages/ag-grid-community/src/filter/provided/number/numberFilterConstants.ts\nvar DEFAULT_NUMBER_FILTER_OPTIONS=[\"equals\",\"notEqual\",\"greaterThan\",\"greaterThanOrEqual\",\"lessThan\",\"lessThanOrEqual\",\"inRange\",\"blank\",\"notBlank\"];// packages/ag-grid-community/src/filter/provided/number/numberFilterUtils.ts\nfunction getAllowedCharPattern(filterParams){var{allowedCharPattern}=filterParams!==null&&filterParams!==void 0?filterParams:{};return allowedCharPattern!==null&&allowedCharPattern!==void 0?allowedCharPattern:null;}function processNumberFilterValue(value){if(value==null){return null;}return isNaN(value)?null:value;}function mapValuesFromNumberFilterModel(filterModel,optionsFactory){var{filter,filterTo,type}=filterModel||{};return[processNumberFilterValue(filter),processNumberFilterValue(filterTo)].slice(0,getNumberOfInputs(type,optionsFactory));}// packages/ag-grid-community/src/filter/provided/number/numberFilter.ts\nvar NumberFilter=class extends SimpleFilter{constructor(){super(\"numberFilter\",mapValuesFromNumberFilterModel,DEFAULT_NUMBER_FILTER_OPTIONS);this.eValuesFrom=[];this.eValuesTo=[];this.filterType=\"number\";this.defaultDebounceMs=500;}setElementValue(element,value,fromFloatingFilter){var{numberFormatter}=this.params;var valueToSet=!fromFloatingFilter&&numberFormatter?numberFormatter(value!==null&&value!==void 0?value:null):value;super.setElementValue(element,valueToSet);}createEValue(){var allowedCharPattern=getAllowedCharPattern(this.params);var eCondition=_createElement({tag:\"div\",cls:\"ag-filter-body\",role:\"presentation\"});this.createFromToElement(eCondition,this.eValuesFrom,\"from\",allowedCharPattern);this.createFromToElement(eCondition,this.eValuesTo,\"to\",allowedCharPattern);return eCondition;}createFromToElement(eCondition,eValues,fromTo,allowedCharPattern){var eValue=this.createManagedBean(allowedCharPattern?new AgInputTextField({allowedCharPattern}):new AgInputNumberField());eValue.addCss(\"ag-filter-\".concat(fromTo));eValue.addCss(\"ag-filter-filter\");eValues.push(eValue);eCondition.appendChild(eValue.getGui());}removeEValues(startPosition,deleteCount){var removeComps=eGui=>this.removeComponents(eGui,startPosition,deleteCount);removeComps(this.eValuesFrom);removeComps(this.eValuesTo);}getValues(position){var result=[];this.forEachPositionInput(position,(element,index,_elPosition,numberOfInputs)=>{if(index<numberOfInputs){result.push(processNumberFilterValue(this.stringToFloat(element.getValue())));}});return result;}areSimpleModelsEqual(aSimple,bSimple){return aSimple.filter===bSimple.filter&&aSimple.filterTo===bSimple.filterTo&&aSimple.type===bSimple.type;}stringToFloat(value){if(typeof value===\"number\"){return value;}var filterText=_makeNull(value);if(filterText!=null&&filterText.trim()===\"\"){filterText=null;}var numberParser=this.params.numberParser;if(numberParser){return numberParser(filterText);}return filterText==null||filterText.trim()===\"-\"?null:parseFloat(filterText);}createCondition(position){var type=this.getConditionType(position);var model={filterType:this.filterType,type};var values=this.getValues(position);if(values.length>0){model.filter=values[0];}if(values.length>1){model.filterTo=values[1];}return model;}getInputs(position){var{eValuesFrom,eValuesTo}=this;if(position>=eValuesFrom.length){return[null,null];}return[eValuesFrom[position],eValuesTo[position]];}hasInvalidInputs(){var invalidInputs=false;this.forEachInput(element=>{if(!element.getInputElement().validity.valid){invalidInputs=true;return;}});return invalidInputs;}};// packages/ag-grid-community/src/filter/provided/number/numberFilterModelFormatter.ts\nvar NumberFilterModelFormatter=class extends SimpleFilterModelFormatter{constructor(optionsFactory,filterParams){super(optionsFactory,filterParams,filterParams.numberFormatter);this.filterTypeKeys=SCALAR_FILTER_TYPE_KEYS;}conditionToString(condition,forToolPanel,isRange,customDisplayKey,customDisplayName){var{filter,filterTo,type}=condition;var formatValue=this.formatValue.bind(this);if(forToolPanel){var valueForToolPanel=this.conditionForToolPanel(type,isRange,()=>formatValue(filter),()=>formatValue(filterTo),customDisplayKey,customDisplayName);if(valueForToolPanel!=null){return valueForToolPanel;}}if(isRange){return\"\".concat(formatValue(filter),\"-\").concat(formatValue(filterTo));}if(filter!=null){return formatValue(filter);}return\"\".concat(type);}};// packages/ag-grid-community/src/filter/provided/number/numberFilterHandler.ts\nvar NumberFilterHandler=class extends ScalarFilterHandler{constructor(){super(mapValuesFromNumberFilterModel,DEFAULT_NUMBER_FILTER_OPTIONS);this.filterType=\"number\";this.FilterModelFormatterClass=NumberFilterModelFormatter;}comparator(){return(left,right)=>{if(left===right){return 0;}return left<right?1:-1;};}isValid(value){return!isNaN(value);}};// packages/ag-grid-community/src/filter/floating/provided/floatingFilterTextInputService.ts\nvar FloatingFilterTextInputService=class extends BeanStub{constructor(params){super();this.params=params;this.eInput=RefPlaceholder;this.onValueChanged=()=>{};}setupGui(parentElement){var _this$params;this.eInput=this.createManagedBean(new AgInputTextField((_this$params=this.params)===null||_this$params===void 0?void 0:_this$params.config));var eInput=this.eInput.getGui();parentElement.appendChild(eInput);var listener=e=>this.onValueChanged(e);this.addManagedListeners(eInput,{input:listener,keydown:listener});}setEditable(editable){this.eInput.setDisabled(!editable);}getValue(){return this.eInput.getValue();}setValue(value,silent){this.eInput.setValue(value,silent);}setValueChangedListener(listener){this.onValueChanged=listener;}setParams(_ref228){var{ariaLabel,autoComplete}=_ref228;var{eInput}=this;eInput.setInputAriaLabel(ariaLabel);if(autoComplete!==void 0){eInput.setAutoComplete(autoComplete);}}};// packages/ag-grid-community/src/filter/provided/text/textFilterUtils.ts\nfunction trimInputForFilter(value){var trimmedInput=value===null||value===void 0?void 0:value.trim();return trimmedInput===\"\"?value:trimmedInput;}function mapValuesFromTextFilterModel(filterModel,optionsFactory){var{filter,filterTo,type}=filterModel||{};return[filter||null,filterTo||null].slice(0,getNumberOfInputs(type,optionsFactory));}// packages/ag-grid-community/src/filter/floating/provided/textInputFloatingFilter.ts\nvar TextInputFloatingFilterElement={tag:\"div\",ref:\"eFloatingFilterInputContainer\",cls:\"ag-floating-filter-input\",role:\"presentation\"};var TextInputFloatingFilter=class extends SimpleFloatingFilter{constructor(){super(...arguments);this.eFloatingFilterInputContainer=RefPlaceholder;this.defaultDebounceMs=500;}postConstruct(){this.setTemplate(TextInputFloatingFilterElement);}onModelUpdated(model){this.setLastTypeFromModel(model);this.setEditable(this.canWeEditAfterModelFromParentFilter(model));this.inputSvc.setValue(this.filterModelFormatter.getModelAsString(model));}setParams(params){this.setupFloatingFilterInputService(params);super.setParams(params);this.setTextInputParams(params);}setupFloatingFilterInputService(params){this.inputSvc=this.createFloatingFilterInputService(params);this.inputSvc.setupGui(this.eFloatingFilterInputContainer);}setTextInputParams(params){var _params$browserAutoCo;var autoComplete=(_params$browserAutoCo=params.browserAutoComplete)!==null&&_params$browserAutoCo!==void 0?_params$browserAutoCo:false;var{inputSvc,defaultDebounceMs,readOnly}=this;inputSvc.setParams({ariaLabel:this.getAriaLabel(params),autoComplete});this.applyActive=_isUseApplyButton(params.filterParams);if(!readOnly){var debounceMs=getDebounceMs(params.filterParams,defaultDebounceMs);var toDebounce=_debounce(this,this.syncUpWithParentFilter.bind(this),debounceMs);inputSvc.setValueChangedListener(toDebounce);}}updateParams(params){super.updateParams(params);this.setTextInputParams(params);}recreateFloatingFilterInputService(params){var{inputSvc}=this;var value=inputSvc.getValue();_clearElement(this.eFloatingFilterInputContainer);this.destroyBean(inputSvc);this.setupFloatingFilterInputService(params);inputSvc.setValue(value,true);}syncUpWithParentFilter(e){var isEnterKey=e.key===KeyCode.ENTER;var reactive=this.reactive;if(reactive){var reactiveParams=this.params;reactiveParams.onUiChange();}if(this.applyActive&&!isEnterKey){return;}var{inputSvc,params,lastType}=this;var value=inputSvc.getValue();if(params.filterParams.trimInput){value=trimInputForFilter(value);inputSvc.setValue(value,true);}if(reactive){var _reactiveParams=params;var model=_reactiveParams.model;var parsedValue=this.convertValue(value);var newModel=parsedValue==null?null:_objectSpread(_objectSpread({},model!==null&&model!==void 0?model:{filterType:this.filterType,type:lastType!==null&&lastType!==void 0?lastType:this.optionsFactory.defaultOption}),{},{filter:parsedValue});_reactiveParams.onModelChange(newModel,{afterFloatingFilter:true});}else{params.parentFilterInstance(filterInstance=>{filterInstance===null||filterInstance===void 0||filterInstance.onFloatingFilterChanged(lastType||null,value||null);});}}convertValue(value){return value||null;}setEditable(editable){this.inputSvc.setEditable(editable);}};// packages/ag-grid-community/src/filter/provided/number/numberFloatingFilter.ts\nvar FloatingFilterNumberInputService=class extends BeanStub{constructor(){super(...arguments);this.onValueChanged=()=>{};this.numberInputActive=true;}setupGui(parentElement){this.eNumberInput=this.createManagedBean(new AgInputNumberField());this.eTextInput=this.createManagedBean(new AgInputTextField());this.eTextInput.setDisabled(true);var eNumberInput=this.eNumberInput.getGui();var eTextInput=this.eTextInput.getGui();parentElement.appendChild(eNumberInput);parentElement.appendChild(eTextInput);this.setupListeners(eNumberInput,e=>this.onValueChanged(e));this.setupListeners(eTextInput,e=>this.onValueChanged(e));}setEditable(editable){this.numberInputActive=editable;this.eNumberInput.setDisplayed(this.numberInputActive);this.eTextInput.setDisplayed(!this.numberInputActive);}setAutoComplete(autoComplete){this.eNumberInput.setAutoComplete(autoComplete);this.eTextInput.setAutoComplete(autoComplete);}getValue(){return this.getActiveInputElement().getValue();}setValue(value,silent){this.getActiveInputElement().setValue(value,silent);}getActiveInputElement(){return this.numberInputActive?this.eNumberInput:this.eTextInput;}setValueChangedListener(listener){this.onValueChanged=listener;}setupListeners(element,listener){this.addManagedListeners(element,{input:listener,keydown:listener});}setParams(params){this.setAriaLabel(params.ariaLabel);if(params.autoComplete!==void 0){this.setAutoComplete(params.autoComplete);}}setAriaLabel(ariaLabel){this.eNumberInput.setInputAriaLabel(ariaLabel);this.eTextInput.setInputAriaLabel(ariaLabel);}};var NumberFloatingFilter=class extends TextInputFloatingFilter{constructor(){super(...arguments);this.FilterModelFormatterClass=NumberFilterModelFormatter;this.filterType=\"number\";this.defaultOptions=DEFAULT_NUMBER_FILTER_OPTIONS;}updateParams(params){var allowedCharPattern=getAllowedCharPattern(params.filterParams);if(allowedCharPattern!==this.allowedCharPattern){this.recreateFloatingFilterInputService(params);}super.updateParams(params);}createFloatingFilterInputService(params){this.allowedCharPattern=getAllowedCharPattern(params.filterParams);if(this.allowedCharPattern){return this.createManagedBean(new FloatingFilterTextInputService({config:{allowedCharPattern:this.allowedCharPattern}}));}return this.createManagedBean(new FloatingFilterNumberInputService());}convertValue(value){return value?Number(value):null;}};// packages/ag-grid-community/src/filter/provided/text/textFilterConstants.ts\nvar DEFAULT_TEXT_FILTER_OPTIONS=[\"contains\",\"notContains\",\"equals\",\"notEqual\",\"startsWith\",\"endsWith\",\"blank\",\"notBlank\"];// packages/ag-grid-community/src/filter/provided/text/textFilter.ts\nvar TextFilter=class extends SimpleFilter{constructor(){super(\"textFilter\",mapValuesFromTextFilterModel,DEFAULT_TEXT_FILTER_OPTIONS);this.filterType=\"text\";this.eValuesFrom=[];this.eValuesTo=[];this.defaultDebounceMs=500;}createCondition(position){var type=this.getConditionType(position);var model={filterType:this.filterType,type};var values=this.getValuesWithSideEffects(position,true);if(values.length>0){model.filter=values[0];}if(values.length>1){model.filterTo=values[1];}return model;}areSimpleModelsEqual(aSimple,bSimple){return aSimple.filter===bSimple.filter&&aSimple.filterTo===bSimple.filterTo&&aSimple.type===bSimple.type;}getInputs(position){var{eValuesFrom,eValuesTo}=this;if(position>=eValuesFrom.length){return[null,null];}return[eValuesFrom[position],eValuesTo[position]];}getValues(position){return this.getValuesWithSideEffects(position,false);}getValuesWithSideEffects(position,applySideEffects){var result=[];this.forEachPositionInput(position,(element,index,_elPosition,numberOfInputs)=>{if(index<numberOfInputs){var value=_makeNull(element.getValue());if(applySideEffects&&this.params.trimInput){var _trimInputForFilter;value=(_trimInputForFilter=trimInputForFilter(value))!==null&&_trimInputForFilter!==void 0?_trimInputForFilter:null;element.setValue(value,true);}result.push(value);}});return result;}createEValue(){var eCondition=_createElement({tag:\"div\",cls:\"ag-filter-body\",role:\"presentation\"});var{eValuesFrom,eValuesTo}=this;this.createFromToElement(eCondition,eValuesFrom,\"from\");this.createFromToElement(eCondition,eValuesTo,\"to\");return eCondition;}createFromToElement(eCondition,eValues,fromTo){var eValue=this.createManagedBean(new AgInputTextField());eValue.addCss(\"ag-filter-\".concat(fromTo));eValue.addCss(\"ag-filter-filter\");eValues.push(eValue);eCondition.appendChild(eValue.getGui());}removeEValues(startPosition,deleteCount){var removeComps=eGui=>this.removeComponents(eGui,startPosition,deleteCount);var{eValuesFrom,eValuesTo}=this;removeComps(eValuesFrom);removeComps(eValuesTo);}};// packages/ag-grid-community/src/filter/provided/text/textFilterModelFormatter.ts\nvar TextFilterModelFormatter=class extends SimpleFilterModelFormatter{constructor(){super(...arguments);this.filterTypeKeys=TEXT_FILTER_TYPE_KEYS;}conditionToString(condition,forToolPanel,isRange,customDisplayKey,customDisplayName){var{filter,filterTo,type}=condition;if(forToolPanel){var getValueFunc=value=>()=>translateForFilter(this,\"filterSummaryTextQuote\",[value]);var valueForToolPanel=this.conditionForToolPanel(type,isRange,getValueFunc(filter),getValueFunc(filterTo),customDisplayKey,customDisplayName);if(valueForToolPanel!=null){return valueForToolPanel;}}if(isRange){return\"\".concat(filter,\"-\").concat(filterTo);}if(filter!=null){return\"\".concat(filter);}return\"\".concat(type);}};// packages/ag-grid-community/src/filter/provided/text/textFilterHandler.ts\nvar defaultMatcher=_ref229=>{var{filterOption,value,filterText}=_ref229;if(filterText==null){return false;}switch(filterOption){case\"contains\":return value.indexOf(filterText)>=0;case\"notContains\":return value.indexOf(filterText)<0;case\"equals\":return value===filterText;case\"notEqual\":return value!=filterText;case\"startsWith\":return value.indexOf(filterText)===0;case\"endsWith\":{var index=value.lastIndexOf(filterText);return index>=0&&index===value.length-filterText.length;}default:return false;}};var defaultFormatter=from=>from;var defaultLowercaseFormatter=from=>from==null?null:from.toString().toLowerCase();var TextFilterHandler=class extends SimpleFilterHandler{constructor(){super(mapValuesFromTextFilterModel,DEFAULT_TEXT_FILTER_OPTIONS);this.filterType=\"text\";this.FilterModelFormatterClass=TextFilterModelFormatter;}updateParams(params){var _filterParams$textMat,_filterParams$textFor;super.updateParams(params);var filterParams=params.filterParams;this.matcher=(_filterParams$textMat=filterParams.textMatcher)!==null&&_filterParams$textMat!==void 0?_filterParams$textMat:defaultMatcher;this.formatter=(_filterParams$textFor=filterParams.textFormatter)!==null&&_filterParams$textFor!==void 0?_filterParams$textFor:filterParams.caseSensitive?defaultFormatter:defaultLowercaseFormatter;}evaluateNullValue(filterType){var filterTypesAllowNulls=[\"notEqual\",\"notContains\",\"blank\"];return filterType?filterTypesAllowNulls.indexOf(filterType)>=0:false;}evaluateNonNullValue(values,cellValue,filterModel,params){var formattedValues=values.map(v=>this.formatter(v))||[];var cellValueFormatted=this.formatter(cellValue);var{api,colDef,column,context,filterParams:{textFormatter}}=this.params;if(filterModel.type===\"blank\"){return isBlank(cellValue);}else if(filterModel.type===\"notBlank\"){return!isBlank(cellValue);}var matcherParams={api,colDef,column,context,node:params.node,data:params.data,filterOption:filterModel.type,value:cellValueFormatted,textFormatter};return formattedValues.some(v=>this.matcher(_objectSpread(_objectSpread({},matcherParams),{},{filterText:v})));}};// packages/ag-grid-community/src/filter/provided/text/textFloatingFilter.ts\nvar TextFloatingFilter=class extends TextInputFloatingFilter{constructor(){super(...arguments);this.FilterModelFormatterClass=TextFilterModelFormatter;this.filterType=\"text\";this.defaultOptions=DEFAULT_TEXT_FILTER_OPTIONS;}createFloatingFilterInputService(){return this.createManagedBean(new FloatingFilterTextInputService());}};// packages/ag-grid-community/src/filter/quickFilterApi.ts\nfunction isQuickFilterPresent(beans){var _beans$quickFilter;return!!((_beans$quickFilter=beans.quickFilter)!==null&&_beans$quickFilter!==void 0&&_beans$quickFilter.isFilterPresent());}function getQuickFilter(beans){var _beans$quickFilter2;return(_beans$quickFilter2=beans.quickFilter)===null||_beans$quickFilter2===void 0?void 0:_beans$quickFilter2.getText();}function resetQuickFilter(beans){var _beans$quickFilter3;(_beans$quickFilter3=beans.quickFilter)===null||_beans$quickFilter3===void 0||_beans$quickFilter3.resetCache();}// packages/ag-grid-community/src/filter/quickFilterService.ts\nvar QuickFilterService=class extends BeanStub{constructor(){super(...arguments);this.beanName=\"quickFilter\";this.quickFilter=null;this.quickFilterParts=null;}postConstruct(){var resetListener=this.resetCache.bind(this);var gos=this.gos;this.addManagedEventListeners({columnPivotModeChanged:resetListener,newColumnsLoaded:resetListener,columnRowGroupChanged:resetListener,columnVisible:()=>{if(!gos.get(\"includeHiddenColumnsInQuickFilter\")){this.resetCache();}}});this.addManagedPropertyListener(\"quickFilterText\",e=>this.setFilter(e.currentValue));this.addManagedPropertyListeners([\"includeHiddenColumnsInQuickFilter\",\"applyQuickFilterBeforePivotOrAgg\"],()=>this.onColumnConfigChanged());this.quickFilter=this.parseFilter(gos.get(\"quickFilterText\"));this.parser=gos.get(\"quickFilterParser\");this.matcher=gos.get(\"quickFilterMatcher\");this.setFilterParts();this.addManagedPropertyListeners([\"quickFilterMatcher\",\"quickFilterParser\"],()=>this.setParserAndMatcher());}// if we are using autoGroupCols, then they should be included for quick filter. this covers the\n// following scenarios:\n// a) user provides 'field' into autoGroupCol of normal grid, so now because a valid col to filter leafs on\n// b) using tree data and user depends on autoGroupCol for first col, and we also want to filter on this\n//    (tree data is a bit different, as parent rows can be filtered on, unlike row grouping)\nrefreshCols(){var _ref230,_pivotResultCols$getP5;var{autoColSvc,colModel,gos,pivotResultCols}=this.beans;var pivotMode=colModel.isPivotMode();var groupAutoCols=autoColSvc===null||autoColSvc===void 0?void 0:autoColSvc.getColumns();var providedCols=colModel.getColDefCols();var columnsForQuickFilter=(_ref230=pivotMode&&!gos.get(\"applyQuickFilterBeforePivotOrAgg\")?pivotResultCols===null||pivotResultCols===void 0||(_pivotResultCols$getP5=pivotResultCols.getPivotResultCols())===null||_pivotResultCols$getP5===void 0?void 0:_pivotResultCols$getP5.list:providedCols)!==null&&_ref230!==void 0?_ref230:[];if(groupAutoCols){columnsForQuickFilter=columnsForQuickFilter.concat(groupAutoCols);}this.colsToUse=gos.get(\"includeHiddenColumnsInQuickFilter\")?columnsForQuickFilter:columnsForQuickFilter.filter(col=>col.isVisible()||col.isRowGroupActive());}isFilterPresent(){return this.quickFilter!==null;}doesRowPass(node){var usingCache=this.gos.get(\"cacheQuickFilter\");if(this.matcher){return this.doesRowPassMatcher(usingCache,node);}return this.quickFilterParts.every(part=>usingCache?this.doesRowPassCache(node,part):this.doesRowPassNoCache(node,part));}resetCache(){this.beans.rowModel.forEachNode(node=>node.quickFilterAggregateText=null);}getText(){return this.gos.get(\"quickFilterText\");}setFilterParts(){var{quickFilter,parser}=this;if(quickFilter){this.quickFilterParts=parser?parser(quickFilter):quickFilter.split(\" \");}else{this.quickFilterParts=null;}}parseFilter(newFilter){if(!_exists(newFilter)){return null;}return newFilter.toUpperCase();}setFilter(newFilter){if(newFilter!=null&&typeof newFilter!==\"string\"){_warn(70,{newFilter});return;}var parsedFilter=this.parseFilter(newFilter);if(this.quickFilter!==parsedFilter){this.quickFilter=parsedFilter;this.setFilterParts();this.dispatchLocalEvent({type:\"quickFilterChanged\"});}}setParserAndMatcher(){var parser=this.gos.get(\"quickFilterParser\");var matcher=this.gos.get(\"quickFilterMatcher\");var hasChanged=parser!==this.parser||matcher!==this.matcher;this.parser=parser;this.matcher=matcher;if(hasChanged){this.setFilterParts();this.dispatchLocalEvent({type:\"quickFilterChanged\"});}}onColumnConfigChanged(){this.refreshCols();this.resetCache();if(this.isFilterPresent()){this.dispatchLocalEvent({type:\"quickFilterChanged\"});}}doesRowPassNoCache(node,filterPart){return this.colsToUse.some(column=>{var part=this.getTextForColumn(column,node);return _exists(part)&&part.indexOf(filterPart)>=0;});}doesRowPassCache(node,filterPart){this.checkGenerateAggText(node);return node.quickFilterAggregateText.indexOf(filterPart)>=0;}doesRowPassMatcher(usingCache,node){var quickFilterAggregateText;if(usingCache){this.checkGenerateAggText(node);quickFilterAggregateText=node.quickFilterAggregateText;}else{quickFilterAggregateText=this.getAggText(node);}var{quickFilterParts,matcher}=this;return matcher(quickFilterParts,quickFilterAggregateText);}checkGenerateAggText(node){if(!node.quickFilterAggregateText){node.quickFilterAggregateText=this.getAggText(node);}}getTextForColumn(column,node){var value=this.beans.filterValueSvc.getValue(column,node);var colDef=column.getColDef();if(colDef.getQuickFilterText){var params=_addGridCommonParams(this.gos,{value,node,data:node.data,column,colDef});value=colDef.getQuickFilterText(params);}return _exists(value)?value.toString().toUpperCase():null;}getAggText(node){var stringParts=[];this.colsToUse.forEach(column=>{var part=this.getTextForColumn(column,node);if(_exists(part)){stringParts.push(part);}});return stringParts.join(\"\\n\");}};// packages/ag-grid-community/src/filter/filterModule.ts\nvar ClientSideRowModelFilterModule={moduleName:\"ClientSideRowModelFilter\",version:VERSION,rowModels:[\"clientSide\"],beans:[FilterStage]};var FilterCoreModule={moduleName:\"FilterCore\",version:VERSION,beans:[FilterManager],apiFunctions:{isAnyFilterPresent,onFilterChanged},css:[columnFiltersCSS],dependsOn:[ClientSideRowModelFilterModule]};var FilterValueModule={moduleName:\"FilterValue\",version:VERSION,beans:[FilterValueService]};var ColumnFilterModule={moduleName:\"ColumnFilter\",version:VERSION,beans:[ColumnFilterService,FilterMenuFactory],dynamicBeans:{headerFilterCellCtrl:HeaderFilterCellCtrl},icons:{// open filter button - header, floating filter, menu\nfilter:\"filter\",// filter is applied - header (legacy column menu), filter tool panel\nfilterActive:\"filter\"},apiFunctions:{isColumnFilterPresent,getColumnFilterInstance,destroyFilter,setFilterModel,getFilterModel,getColumnFilterModel,setColumnFilterModel,showColumnFilter,getColumnFilterHandler,doFilterAction},dependsOn:[FilterCoreModule,PopupModule,FilterValueModule,SharedMenuModule]};var CustomFilterModule={moduleName:\"CustomFilter\",version:VERSION,userComponents:{agReadOnlyFloatingFilter:ReadOnlyFloatingFilter},dependsOn:[ColumnFilterModule]};var TextFilterModule={moduleName:\"TextFilter\",version:VERSION,dependsOn:[ColumnFilterModule],userComponents:{agTextColumnFilter:{classImp:TextFilter,params:{useForm:true}},agTextColumnFloatingFilter:TextFloatingFilter},dynamicBeans:{agTextColumnFilterHandler:TextFilterHandler}};var NumberFilterModule={moduleName:\"NumberFilter\",version:VERSION,dependsOn:[ColumnFilterModule],userComponents:{agNumberColumnFilter:{classImp:NumberFilter,params:{useForm:true}},agNumberColumnFloatingFilter:NumberFloatingFilter},dynamicBeans:{agNumberColumnFilterHandler:NumberFilterHandler}};var DateFilterModule={moduleName:\"DateFilter\",version:VERSION,dependsOn:[ColumnFilterModule],userComponents:{agDateColumnFilter:{classImp:DateFilter,params:{useForm:true}},agDateInput:DefaultDateComponent,agDateColumnFloatingFilter:DateFloatingFilter},dynamicBeans:{agDateColumnFilterHandler:DateFilterHandler}};var QuickFilterCoreModule={moduleName:\"QuickFilterCore\",version:VERSION,rowModels:[\"clientSide\"],beans:[QuickFilterService],dependsOn:[FilterCoreModule,FilterValueModule]};var QuickFilterModule={moduleName:\"QuickFilter\",version:VERSION,apiFunctions:{isQuickFilterPresent,getQuickFilter,resetQuickFilter},dependsOn:[QuickFilterCoreModule]};var ExternalFilterModule={moduleName:\"ExternalFilter\",version:VERSION,dependsOn:[FilterCoreModule]};// packages/ag-grid-community/src/tooltip/tooltip.css-GENERATED.ts\nvar tooltipCSS=/*css*/\".ag-tooltip{background-color:var(--ag-tooltip-background-color);border:var(--ag-tooltip-border);border-radius:var(--ag-border-radius);color:var(--ag-tooltip-text-color);padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);position:absolute;white-space:normal;z-index:99999;&:where(.ag-cell-editor-tooltip){background-color:var(--ag-tooltip-error-background-color);border:var(--ag-tooltip-error-border);color:var(--ag-tooltip-error-text-color);font-weight:500}}.ag-tooltip-custom{position:absolute;z-index:99999}.ag-tooltip-custom:where(:not(.ag-tooltip-interactive)),.ag-tooltip:where(:not(.ag-tooltip-interactive)){pointer-events:none}.ag-tooltip-animate{transition:opacity 1s;&:where(.ag-tooltip-hiding){opacity:0}}\";// packages/ag-grid-community/src/tooltip/tooltipService.ts\nvar getEditErrorsForPosition=(beans,cellCtrl,translate)=>{var _editModelSvc$getCell3,_editModelSvc$getRowV3;var{editModelSvc}=beans;var cellValidationErrors=editModelSvc===null||editModelSvc===void 0||(_editModelSvc$getCell3=editModelSvc.getCellValidationModel())===null||_editModelSvc$getCell3===void 0||(_editModelSvc$getCell3=_editModelSvc$getCell3.getCellValidation(cellCtrl))===null||_editModelSvc$getCell3===void 0?void 0:_editModelSvc$getCell3.errorMessages;var rowValidationErrors=editModelSvc===null||editModelSvc===void 0||(_editModelSvc$getRowV3=editModelSvc.getRowValidationModel().getRowValidation(cellCtrl))===null||_editModelSvc$getRowV3===void 0?void 0:_editModelSvc$getRowV3.errorMessages;var errors=cellValidationErrors||rowValidationErrors;return errors&&errors.length?errors.join(translate(\"tooltipValidationErrorSeparator\",\". \")):void 0;};var TooltipService=class extends BeanStub{constructor(){super(...arguments);this.beanName=\"tooltipSvc\";}setupHeaderTooltip(existingTooltipFeature,ctrl,value,shouldDisplayTooltip){if(existingTooltipFeature){ctrl.destroyBean(existingTooltipFeature);}var isTooltipWhenTruncated=_isShowTooltipWhenTruncated(this.gos);var{column,eGui}=ctrl;var colDef=column.getColDef();if(!shouldDisplayTooltip&&isTooltipWhenTruncated&&!colDef.headerComponent){shouldDisplayTooltip=_isElementOverflowingCallback(()=>eGui.querySelector(\".ag-header-cell-text\"));}var tooltipCtrl={getColumn:()=>column,getColDef:()=>column.getColDef(),getGui:()=>eGui,getLocation:()=>\"header\",getTooltipValue:()=>{if(value!=null){return value;}var res=column.getColDef().headerTooltip;return res;},shouldDisplayTooltip};var tooltipFeature=this.createTooltipFeature(tooltipCtrl);if(tooltipFeature){tooltipFeature=ctrl.createBean(tooltipFeature);ctrl.setRefreshFunction(\"tooltip\",()=>tooltipFeature.refreshTooltip());}return tooltipFeature;}setupHeaderGroupTooltip(existingTooltipFeature,ctrl,value,shouldDisplayTooltip){if(existingTooltipFeature){ctrl.destroyBean(existingTooltipFeature);}var isTooltipWhenTruncated=_isShowTooltipWhenTruncated(this.gos);var{column,eGui}=ctrl;var colGroupDef=column.getColGroupDef();if(!shouldDisplayTooltip&&isTooltipWhenTruncated&&!(colGroupDef!==null&&colGroupDef!==void 0&&colGroupDef.headerGroupComponent)){shouldDisplayTooltip=_isElementOverflowingCallback(()=>eGui.querySelector(\".ag-header-group-text\"));}var tooltipCtrl={getColumn:()=>column,getGui:()=>eGui,getLocation:()=>\"headerGroup\",getTooltipValue:()=>value!==null&&value!==void 0?value:colGroupDef&&colGroupDef.headerTooltip,shouldDisplayTooltip};if(colGroupDef){tooltipCtrl.getColDef=()=>colGroupDef;}var tooltipFeature=this.createTooltipFeature(tooltipCtrl);return tooltipFeature?ctrl.createBean(tooltipFeature):tooltipFeature;}enableCellTooltipFeature(ctrl,value,shouldDisplayTooltip){var{beans}=this;var{gos,editSvc}=beans;var{column,rowNode}=ctrl;var location=\"cell\";var getTooltipValue=()=>{var isEditing2=!!(editSvc!==null&&editSvc!==void 0&&editSvc.isEditing(ctrl));var errorMessages=!isEditing2&&getEditErrorsForPosition(beans,ctrl,this.getLocaleTextFunc());if(errorMessages){location=\"cellEditor\";return errorMessages;}location=\"cell\";var colDef=column.getColDef();var data=rowNode.data;if(colDef.tooltipField&&_exists(data)){return _getValueUsingField(data,colDef.tooltipField,column.isTooltipFieldContainsDots());}var valueGetter=colDef.tooltipValueGetter;if(valueGetter){return valueGetter(_addGridCommonParams(gos,{location:\"cell\",colDef:column.getColDef(),column,rowIndex:ctrl.cellPosition.rowIndex,node:rowNode,data:rowNode.data,value:ctrl.value,valueFormatted:ctrl.valueFormatted}));}return null;};var isTooltipWhenTruncated=_isShowTooltipWhenTruncated(gos);if(!shouldDisplayTooltip){if(isTooltipWhenTruncated&&!ctrl.isCellRenderer()){shouldDisplayTooltip=()=>{var isEditing2=!!(editSvc!==null&&editSvc!==void 0&&editSvc.isEditing(ctrl));var errorMessages=!isEditing2&&getEditErrorsForPosition(beans,ctrl,this.getLocaleTextFunc());if(errorMessages){return true;}var isTooltipEnabled=column.isTooltipEnabled();if(!isTooltipEnabled){return false;}var isElementOverflowing=_isElementOverflowingCallback(()=>{var eCell=ctrl.eGui;return eCell.children.length===0?eCell:eCell.querySelector(\".ag-cell-value\");});return!isEditing2&&isElementOverflowing();};}else{shouldDisplayTooltip=()=>!(editSvc!==null&&editSvc!==void 0&&editSvc.isEditing(ctrl));}}var tooltipCtrl={getColumn:()=>column,getColDef:()=>column.getColDef(),getRowIndex:()=>ctrl.cellPosition.rowIndex,getRowNode:()=>rowNode,getGui:()=>ctrl.eGui,getLocation:()=>location,getTooltipValue:value!=null?()=>value:getTooltipValue,// this makes no sense, why is the cell formatted value passed to the tooltip???\ngetValueFormatted:()=>ctrl.valueFormatted,shouldDisplayTooltip};return this.createTooltipFeature(tooltipCtrl,beans);}setupFullWidthRowTooltip(existingTooltipFeature,ctrl,value,shouldDisplayTooltip){var tooltipParams={getGui:()=>ctrl.getFullWidthElement(),getTooltipValue:()=>value,getLocation:()=>\"fullWidthRow\",shouldDisplayTooltip};var beans=this.beans;var context=beans.context;if(existingTooltipFeature){ctrl.destroyBean(existingTooltipFeature,context);}var tooltipFeature=this.createTooltipFeature(tooltipParams,beans);if(!tooltipFeature){return;}return ctrl.createBean(tooltipFeature,context);}setupCellEditorTooltip(cellCtrl,editor){var _editor$getValidation4;var{beans}=this;var{context}=beans;var el=(_editor$getValidation4=editor.getValidationElement)===null||_editor$getValidation4===void 0?void 0:_editor$getValidation4.call(editor);if(!el){return;}var tooltipParams={getGui:()=>el,getTooltipValue:()=>getEditErrorsForPosition(beans,cellCtrl,this.getLocaleTextFunc()),getLocation:()=>\"cellEditor\",shouldDisplayTooltip:()=>{var _editModelSvc$getRowV4,_editModelSvc$getCell4;var{editModelSvc}=beans;var rowValidationMap=editModelSvc===null||editModelSvc===void 0||(_editModelSvc$getRowV4=editModelSvc.getRowValidationModel())===null||_editModelSvc$getRowV4===void 0?void 0:_editModelSvc$getRowV4.getRowValidationMap();var cellValidationMap=editModelSvc===null||editModelSvc===void 0||(_editModelSvc$getCell4=editModelSvc.getCellValidationModel())===null||_editModelSvc$getCell4===void 0?void 0:_editModelSvc$getCell4.getCellValidationMap();var hasRowValidationErrors=!!rowValidationMap&&rowValidationMap.size>0;var hasCellValidationErrors=!!cellValidationMap&&cellValidationMap.size>0;return hasRowValidationErrors||hasCellValidationErrors;}};var tooltipFeature=this.createTooltipFeature(tooltipParams,beans);if(!tooltipFeature){return;}return cellCtrl.createBean(tooltipFeature,context);}initCol(column){var{colDef}=column;column.tooltipEnabled=_exists(colDef.tooltipField)||_exists(colDef.tooltipValueGetter)||_exists(colDef.tooltipComponent);}createTooltipFeature(tooltipCtrl,beans){return this.beans.registry.createDynamicBean(\"tooltipFeature\",false,tooltipCtrl,beans);}};// packages/ag-grid-community/src/tooltip/tooltipModule.ts\nvar TooltipModule={moduleName:\"Tooltip\",version:VERSION,beans:[TooltipService],dynamicBeans:{tooltipFeature:TooltipFeature},userComponents:{agTooltipComponent:TooltipComponent2},dependsOn:[PopupModule],css:[tooltipCSS]};// packages/ag-grid-community/src/undoRedo/undoRedoStack.ts\nvar UndoRedoAction=class{constructor(cellValueChanges){this.cellValueChanges=cellValueChanges;}};var RangeUndoRedoAction=class extends UndoRedoAction{constructor(cellValueChanges,initialRange,finalRange,ranges){super(cellValueChanges);this.initialRange=initialRange;this.finalRange=finalRange;this.ranges=ranges;}};var DEFAULT_STACK_SIZE=10;var UndoRedoStack=class{constructor(maxStackSize){this.actionStack=[];this.maxStackSize=maxStackSize?maxStackSize:DEFAULT_STACK_SIZE;this.actionStack=new Array(this.maxStackSize);}pop(){return this.actionStack.pop();}push(item){var shouldAddActions=item.cellValueChanges&&item.cellValueChanges.length>0;if(!shouldAddActions){return;}if(this.actionStack.length===this.maxStackSize){this.actionStack.shift();}this.actionStack.push(item);}clear(){this.actionStack=[];}getCurrentStackSize(){return this.actionStack.length;}};// packages/ag-grid-community/src/undoRedo/undoRedoService.ts\nvar UndoRedoService=class extends BeanStub{constructor(){super(...arguments);this.beanName=\"undoRedo\";this.cellValueChanges=[];this.activeCellEdit=null;this.activeRowEdit=null;this.isPasting=false;this.isRangeInAction=false;this.batchEditing=false;this.onCellValueChanged=event=>{var eventCell={column:event.column,rowIndex:event.rowIndex,rowPinned:event.rowPinned};var isCellEditing=this.activeCellEdit!==null&&_areCellsEqual(this.activeCellEdit,eventCell);var isRowEditing=this.activeRowEdit!==null&&_isSameRow(this.activeRowEdit,eventCell);var shouldCaptureAction=isCellEditing||isRowEditing||this.isPasting||this.isRangeInAction;if(!shouldCaptureAction){return;}var{rowPinned,rowIndex,column,oldValue,value}=event;var cellValueChange={rowPinned,rowIndex,columnId:column.getColId(),newValue:value,oldValue};this.cellValueChanges.push(cellValueChange);};this.clearStacks=()=>{this.undoStack.clear();this.redoStack.clear();};}postConstruct(){var{gos,ctrlsSvc}=this.beans;if(!gos.get(\"undoRedoCellEditing\")){return;}var undoRedoLimit=gos.get(\"undoRedoCellEditingLimit\");if(undoRedoLimit<=0){return;}this.undoStack=new UndoRedoStack(undoRedoLimit);this.redoStack=new UndoRedoStack(undoRedoLimit);this.addListeners();var listener=this.clearStacks.bind(this);this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this),// undo / redo is restricted to actual editing so we clear the stacks when other operations are\n// performed that change the order of the row / cols.\nmodelUpdated:e=>{if(!e.keepUndoRedoStack){this.clearStacks();}},columnPivotModeChanged:listener,newColumnsLoaded:listener,columnGroupOpened:listener,columnRowGroupChanged:listener,columnMoved:listener,columnPinned:listener,columnVisible:listener,rowDragEnd:listener});ctrlsSvc.whenReady(this,p=>{this.gridBodyCtrl=p.gridBodyCtrl;});}getCurrentUndoStackSize(){var _this$undoStack$getCu,_this$undoStack;return(_this$undoStack$getCu=(_this$undoStack=this.undoStack)===null||_this$undoStack===void 0?void 0:_this$undoStack.getCurrentStackSize())!==null&&_this$undoStack$getCu!==void 0?_this$undoStack$getCu:0;}getCurrentRedoStackSize(){var _this$redoStack$getCu,_this$redoStack;return(_this$redoStack$getCu=(_this$redoStack=this.redoStack)===null||_this$redoStack===void 0?void 0:_this$redoStack.getCurrentStackSize())!==null&&_this$redoStack$getCu!==void 0?_this$redoStack$getCu:0;}undo(source){var{eventSvc,undoStack,redoStack}=this;eventSvc.dispatchEvent({type:\"undoStarted\",source});var operationPerformed=this.undoRedo(undoStack,redoStack,\"initialRange\",\"oldValue\",\"undo\");eventSvc.dispatchEvent({type:\"undoEnded\",source,operationPerformed});}redo(source){var{eventSvc,undoStack,redoStack}=this;eventSvc.dispatchEvent({type:\"redoStarted\",source});var operationPerformed=this.undoRedo(redoStack,undoStack,\"finalRange\",\"newValue\",\"redo\");eventSvc.dispatchEvent({type:\"redoEnded\",source,operationPerformed});}undoRedo(undoRedoStack,opposingUndoRedoStack,rangeProperty,cellValueChangeProperty,source){if(!undoRedoStack){return false;}var undoRedoAction=undoRedoStack.pop();if(!undoRedoAction||!undoRedoAction.cellValueChanges){return false;}this.processAction(undoRedoAction,cellValueChange=>cellValueChange[cellValueChangeProperty],source);if(undoRedoAction instanceof RangeUndoRedoAction){this.processRange(undoRedoAction.ranges||[undoRedoAction[rangeProperty]]);}else{this.processCell(undoRedoAction.cellValueChanges);}opposingUndoRedoStack.push(undoRedoAction);return true;}processAction(action,valueExtractor,source){action.cellValueChanges.forEach(cellValueChange=>{var{rowIndex,rowPinned,columnId}=cellValueChange;var rowPosition={rowIndex,rowPinned};var currentRow=_getRowNode(this.beans,rowPosition);if(!currentRow.displayed){return;}currentRow.setDataValue(columnId,valueExtractor(cellValueChange),source);});}processRange(ranges){var lastFocusedCell;var rangeSvc=this.beans.rangeSvc;rangeSvc.removeAllCellRanges(true);ranges.forEach((range,idx)=>{if(!range){return;}var startRow=range.startRow;var endRow=range.endRow;if(idx===ranges.length-1){lastFocusedCell={rowPinned:startRow.rowPinned,rowIndex:startRow.rowIndex,columnId:range.startColumn.getColId()};this.setLastFocusedCell(lastFocusedCell);}var cellRangeParams={rowStartIndex:startRow.rowIndex,rowStartPinned:startRow.rowPinned,rowEndIndex:endRow.rowIndex,rowEndPinned:endRow.rowPinned,columnStart:range.startColumn,columns:range.columns};rangeSvc.addCellRange(cellRangeParams);});}processCell(cellValueChanges){var cellValueChange=cellValueChanges[0];var{rowIndex,rowPinned}=cellValueChange;var rowPosition={rowIndex,rowPinned};var row=_getRowNode(this.beans,rowPosition);var lastFocusedCell={rowPinned:cellValueChange.rowPinned,rowIndex:row.rowIndex,columnId:cellValueChange.columnId};this.setLastFocusedCell(lastFocusedCell);}setLastFocusedCell(lastFocusedCell){var{rowIndex,columnId,rowPinned}=lastFocusedCell;var{colModel,focusSvc,rangeSvc}=this.beans;var column=colModel.getCol(columnId);if(!column){return;}var{scrollFeature}=this.gridBodyCtrl;scrollFeature.ensureIndexVisible(rowIndex);scrollFeature.ensureColumnVisible(column);var cellPosition={rowIndex,column,rowPinned};focusSvc.setFocusedCell(_objectSpread(_objectSpread({},cellPosition),{},{forceBrowserFocus:true}));rangeSvc===null||rangeSvc===void 0||rangeSvc.setRangeToCell(cellPosition);}addListeners(){this.addManagedEventListeners({rowEditingStarted:e=>{this.activeRowEdit={rowIndex:e.rowIndex,rowPinned:e.rowPinned};},rowEditingStopped:()=>{var action=new UndoRedoAction(this.cellValueChanges);this.pushActionsToUndoStack(action);this.activeRowEdit=null;},cellEditingStarted:e=>{this.activeCellEdit={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned};},cellEditingStopped:e=>{this.activeCellEdit=null;var shouldPushAction=e.valueChanged&&!this.activeRowEdit&&!this.isPasting&&!this.isRangeInAction;if(shouldPushAction){var action=new UndoRedoAction(this.cellValueChanges);this.pushActionsToUndoStack(action);}},pasteStart:()=>{this.isPasting=true;},pasteEnd:()=>{var action=new UndoRedoAction(this.cellValueChanges);this.pushActionsToUndoStack(action);this.isPasting=false;},fillStart:()=>{this.isRangeInAction=true;},fillEnd:event=>{var action=new RangeUndoRedoAction(this.cellValueChanges,event.initialRange,event.finalRange);this.pushActionsToUndoStack(action);this.isRangeInAction=false;},keyShortcutChangedCellStart:()=>{this.isRangeInAction=true;},keyShortcutChangedCellEnd:()=>{var action;var{rangeSvc,gos}=this.beans;if(rangeSvc&&_isCellSelectionEnabled(gos)){action=new RangeUndoRedoAction(this.cellValueChanges,void 0,void 0,[...rangeSvc.getCellRanges()]);}else{action=new UndoRedoAction(this.cellValueChanges);}this.pushActionsToUndoStack(action);this.isRangeInAction=false;},batchEditingStarted:()=>{this.batchEditing=true;},batchEditingStopped:event=>{var _event$changes,_event$changes2;if(!this.batchEditing){return;}this.batchEditing=false;if(((_event$changes=event.changes)===null||_event$changes===void 0?void 0:_event$changes.length)===0){return;}var action=new UndoRedoAction((_event$changes2=event.changes)!==null&&_event$changes2!==void 0?_event$changes2:[]);this.pushActionsToUndoStack(action);this.cellValueChanges=[];}});}pushActionsToUndoStack(action){this.undoStack.push(action);this.cellValueChanges=[];this.redoStack.clear();}};// packages/ag-grid-community/src/edit/cell-editing.css-GENERATED.ts\nvar cellEditingCSS=/*css*/\".ag-cell-inline-editing{border:var(--ag-cell-editing-border)!important;border-radius:var(--ag-border-radius);box-shadow:var(--ag-cell-editing-shadow);padding:0;z-index:1;.ag-cell-edit-wrapper,.ag-cell-editor,.ag-cell-wrapper,:where(.ag-cell-editor) .ag-input-field-input,:where(.ag-cell-editor) .ag-wrapper{height:100%;line-height:normal;min-height:100%;width:100%}&.ag-cell-editing-error{border-color:var(--ag-invalid-color)!important}}:where(.ag-popup-editor) .ag-large-text{background-color:var(--ag-background-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);padding:0}.ag-large-text-input{height:auto;padding:var(--ag-cell-horizontal-padding)}:where(.ag-rtl .ag-large-text-input) textarea{resize:none}:where(.ag-ltr) .ag-checkbox-edit{padding-left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-checkbox-edit{padding-right:var(--ag-cell-horizontal-padding)}:where(.ag-row.ag-row-editing-invalid .ag-cell-inline-editing){opacity:.8}\";// packages/ag-grid-community/src/edit/cellEditors/checkboxCellEditor.ts\nvar CheckboxCellEditorElement={tag:\"div\",cls:\"ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit\",children:[{tag:\"ag-checkbox\",ref:\"eEditor\",role:\"presentation\"}]};var CheckboxCellEditor=class extends AgAbstractCellEditor{constructor(){super(CheckboxCellEditorElement,[AgCheckboxSelector]);this.eEditor=RefPlaceholder;}initialiseEditor(params){var _params$value;var isSelected=(_params$value=params.value)!==null&&_params$value!==void 0?_params$value:void 0;var eEditor=this.eEditor;eEditor.setValue(isSelected);var inputEl=eEditor.getInputElement();inputEl.setAttribute(\"tabindex\",\"-1\");this.setAriaLabel(isSelected);this.addManagedListeners(eEditor,{fieldValueChanged:event=>this.setAriaLabel(event.selected)});}getValue(){return this.eEditor.getValue();}focusIn(){this.eEditor.getFocusableElement().focus();}afterGuiAttached(){if(this.params.cellStartedEdit){this.focusIn();}}isPopup(){return false;}setAriaLabel(isSelected){var translate=this.getLocaleTextFunc();var stateName=_getAriaCheckboxStateName(translate,isSelected);var ariaLabel=translate(\"ariaToggleCellValue\",\"Press SPACE to toggle cell value\");this.eEditor.setInputAriaLabel(\"\".concat(ariaLabel,\" (\").concat(stateName,\")\"));}getValidationElement(){return this.eEditor.getInputElement();}getValidationErrors(){var{params}=this;var{getValidationErrors}=params;var value=this.getValue();if(!getValidationErrors){return null;}return getValidationErrors({value,internalErrors:null,cellEditorParams:params});}};// packages/ag-grid-community/src/edit/cellEditors/simpleCellEditor.ts\nvar SimpleCellEditor=class extends AgAbstractCellEditor{constructor(cellEditorInput){super();this.cellEditorInput=cellEditorInput;this.eEditor=RefPlaceholder;}initialiseEditor(params){var{cellEditorInput}=this;this.setTemplate({tag:\"div\",cls:\"ag-cell-edit-wrapper\",children:[cellEditorInput.getTemplate()]},cellEditorInput.getAgComponents());var{eEditor}=this;var{cellStartedEdit,eventKey,suppressPreventDefault}=params;eEditor.getInputElement().setAttribute(\"title\",\"\");cellEditorInput.init(eEditor,params);var startValue;var shouldSetStartValue=true;if(cellStartedEdit){this.focusAfterAttached=true;if(eventKey===KeyCode.BACKSPACE||eventKey===KeyCode.DELETE){startValue=\"\";}else if(eventKey&&eventKey.length===1){if(suppressPreventDefault){shouldSetStartValue=false;}else{startValue=eventKey;}}else{startValue=cellEditorInput.getStartValue();if(eventKey!==KeyCode.F2){this.highlightAllOnFocus=true;}}}else{this.focusAfterAttached=false;startValue=cellEditorInput.getStartValue();}if(shouldSetStartValue&&startValue!=null){eEditor.setStartValue(startValue);}this.addGuiEventListener(\"keydown\",event=>{var{key}=event;if(key===KeyCode.PAGE_UP||key===KeyCode.PAGE_DOWN){event.preventDefault();}});}afterGuiAttached(){var translate=this.getLocaleTextFunc();var eInput=this.eEditor;eInput.setInputAriaLabel(translate(\"ariaInputEditor\",\"Input Editor\"));if(!this.focusAfterAttached){return;}if(!_isBrowserSafari()){eInput.getFocusableElement().focus();}var inputEl=eInput.getInputElement();if(this.highlightAllOnFocus){inputEl.select();}else{var _this$cellEditorInput,_this$cellEditorInput2;(_this$cellEditorInput=(_this$cellEditorInput2=this.cellEditorInput).setCaret)===null||_this$cellEditorInput===void 0||_this$cellEditorInput.call(_this$cellEditorInput2);}}// gets called when tabbing through cells and in full row edit mode\nfocusIn(){var{eEditor}=this;var focusEl=eEditor.getFocusableElement();var inputEl=eEditor.getInputElement();focusEl.focus();inputEl.select();}getValue(){return this.cellEditorInput.getValue();}isPopup(){return false;}getValidationElement(){return this.eEditor.getInputElement();}getValidationErrors(){return this.cellEditorInput.getValidationErrors();}};// packages/ag-grid-community/src/edit/cellEditors/dateCellEditor.ts\nvar DateCellElement={tag:\"ag-input-date-field\",ref:\"eEditor\",cls:\"ag-cell-editor\"};var DateCellEditorInput=class{constructor(getDataTypeService,getLocaleTextFunc){this.getDataTypeService=getDataTypeService;this.getLocaleTextFunc=getLocaleTextFunc;}getTemplate(){return DateCellElement;}getAgComponents(){return[AgInputDateFieldSelector];}init(eEditor,params){var _params$includeTime,_this$getDataTypeServ,_this$getDataTypeServ2;this.eEditor=eEditor;this.params=params;var{min,max,step,colDef}=params;if(min!=null){eEditor.setMin(min);}if(max!=null){eEditor.setMax(max);}if(step!=null){eEditor.setStep(step);}this.includeTime=(_params$includeTime=params.includeTime)!==null&&_params$includeTime!==void 0?_params$includeTime:(_this$getDataTypeServ=this.getDataTypeService())===null||_this$getDataTypeServ===void 0||(_this$getDataTypeServ2=_this$getDataTypeServ.getDateIncludesTimeFlag)===null||_this$getDataTypeServ2===void 0?void 0:_this$getDataTypeServ2.call(_this$getDataTypeServ,colDef.cellDataType);if(this.includeTime!=null){eEditor.setIncludeTime(this.includeTime);}}getValidationErrors(){var eInput=this.eEditor.getInputElement();var value=eInput.valueAsDate;var{params}=this;var{min,max,getValidationErrors}=params;var internalErrors=[];var translate=this.getLocaleTextFunc();if(value instanceof Date&&!isNaN(value.getTime())){if(min){var minValue=min instanceof Date?min:new Date(min);if(value<minValue){var minDateString=minValue.toLocaleDateString();internalErrors.push(translate(\"minDateValidation\",\"Date must be after \".concat(minDateString),[minDateString]));}}if(max){var maxValue=max instanceof Date?max:new Date(max);if(value>maxValue){var maxDateString=maxValue.toLocaleDateString();internalErrors.push(translate(\"maxDateValidation\",\"Date must be before \".concat(maxDateString),[maxDateString]));}}}if(!internalErrors.length){internalErrors=null;}if(getValidationErrors){return getValidationErrors({value,cellEditorParams:params,internalErrors});}return internalErrors;}getValue(){var{eEditor,params}=this;var value=eEditor.getDate();if(!_exists(value)&&!_exists(params.value)){return params.value;}return value!==null&&value!==void 0?value:null;}getStartValue(){var _this$includeTime;var{value}=this.params;if(!(value instanceof Date)){return void 0;}return _serialiseDate(value,(_this$includeTime=this.includeTime)!==null&&_this$includeTime!==void 0?_this$includeTime:false);}};var DateCellEditor=class extends SimpleCellEditor{constructor(){super(new DateCellEditorInput(()=>this.beans.dataTypeSvc,()=>this.getLocaleTextFunc()));}};// packages/ag-grid-community/src/edit/cellEditors/dateStringCellEditor.ts\nvar DateStringCellElement={tag:\"ag-input-date-field\",ref:\"eEditor\",cls:\"ag-cell-editor\"};var DateStringCellEditorInput=class{constructor(getDataTypeService,getLocaleTextFunc){this.getDataTypeService=getDataTypeService;this.getLocaleTextFunc=getLocaleTextFunc;}getTemplate(){return DateStringCellElement;}getAgComponents(){return[AgInputDateFieldSelector];}init(eEditor,params){var _params$includeTime2,_this$getDataTypeServ3,_this$getDataTypeServ4;this.eEditor=eEditor;this.params=params;var{min,max,step,colDef}=params;if(min!=null){eEditor.setMin(min);}if(max!=null){eEditor.setMax(max);}if(step!=null){eEditor.setStep(step);}this.includeTime=(_params$includeTime2=params.includeTime)!==null&&_params$includeTime2!==void 0?_params$includeTime2:(_this$getDataTypeServ3=this.getDataTypeService())===null||_this$getDataTypeServ3===void 0||(_this$getDataTypeServ4=_this$getDataTypeServ3.getDateIncludesTimeFlag)===null||_this$getDataTypeServ4===void 0?void 0:_this$getDataTypeServ4.call(_this$getDataTypeServ3,colDef.cellDataType);if(this.includeTime!=null){eEditor.setIncludeTime(this.includeTime);}}getValidationErrors(){var{eEditor,params}=this;var raw=eEditor.getInputElement().value;var value=this.formatDate(this.parseDate(raw!==null&&raw!==void 0?raw:void 0));var{min,max,getValidationErrors}=params;var internalErrors=[];if(value){var date=new Date(value);var translate=this.getLocaleTextFunc();if(min){var minDate=new Date(min);if(date<minDate){var minDateString=minDate.toLocaleDateString();internalErrors.push(translate(\"minDateValidation\",\"Date must be after \".concat(minDateString),[minDateString]));}}if(max){var maxDate=new Date(max);if(date>maxDate){var maxDateString=maxDate.toLocaleDateString();internalErrors.push(translate(\"maxDateValidation\",\"Date must be before \".concat(maxDateString),[maxDateString]));}}}if(!internalErrors.length){internalErrors=null;}if(getValidationErrors){return getValidationErrors({value:this.getValue(),cellEditorParams:params,internalErrors});}return internalErrors;}getValue(){var{params,eEditor}=this;var value=this.formatDate(eEditor.getDate());if(!_exists(value)&&!_exists(params.value)){return params.value;}return params.parseValue(value!==null&&value!==void 0?value:\"\");}getStartValue(){var _this$parseDate,_this$params$value,_this$includeTime2;return _serialiseDate((_this$parseDate=this.parseDate((_this$params$value=this.params.value)!==null&&_this$params$value!==void 0?_this$params$value:void 0))!==null&&_this$parseDate!==void 0?_this$parseDate:null,(_this$includeTime2=this.includeTime)!==null&&_this$includeTime2!==void 0?_this$includeTime2:false);}parseDate(value){var _parseDateTimeFromStr3;var dataTypeSvc=this.getDataTypeService();return dataTypeSvc?dataTypeSvc.getDateParserFunction(this.params.column)(value):(_parseDateTimeFromStr3=_parseDateTimeFromString(value))!==null&&_parseDateTimeFromStr3!==void 0?_parseDateTimeFromStr3:void 0;}formatDate(value){var _serialiseDate6,_this$includeTime3;var dataTypeSvc=this.getDataTypeService();return dataTypeSvc?dataTypeSvc.getDateFormatterFunction(this.params.column)(value):(_serialiseDate6=_serialiseDate(value!==null&&value!==void 0?value:null,(_this$includeTime3=this.includeTime)!==null&&_this$includeTime3!==void 0?_this$includeTime3:false))!==null&&_serialiseDate6!==void 0?_serialiseDate6:void 0;}};var DateStringCellEditor=class extends SimpleCellEditor{constructor(){super(new DateStringCellEditorInput(()=>this.beans.dataTypeSvc,()=>this.getLocaleTextFunc()));}};// packages/ag-grid-community/src/edit/cellEditors/largeTextCellEditor.ts\nvar LargeTextCellElement={tag:\"div\",cls:\"ag-large-text\",children:[{tag:\"ag-input-text-area\",ref:\"eEditor\",cls:\"ag-large-text-input\"}]};var LargeTextCellEditor=class extends AgAbstractCellEditor{constructor(){super(LargeTextCellElement,[AgInputTextAreaSelector]);this.eEditor=RefPlaceholder;}initialiseEditor(params){var{eEditor}=this;var{cellStartedEdit,value,maxLength,cols,rows}=params;this.focusAfterAttached=cellStartedEdit;eEditor.getInputElement().setAttribute(\"title\",\"\");eEditor.setMaxLength(maxLength||200).setCols(cols||60).setRows(rows||10);if(value!=null){eEditor.setValue(value.toString(),true);}this.addGuiEventListener(\"keydown\",this.onKeyDown.bind(this));this.activateTabIndex();}onKeyDown(event){var key=event.key;if(key===KeyCode.LEFT||key===KeyCode.UP||key===KeyCode.RIGHT||key===KeyCode.DOWN||event.shiftKey&&key===KeyCode.ENTER){event.stopPropagation();}}afterGuiAttached(){var translate=this.getLocaleTextFunc();this.eEditor.setInputAriaLabel(translate(\"ariaInputEditor\",\"Input Editor\"));if(this.focusAfterAttached){this.eEditor.getFocusableElement().focus();}}getValue(){var{eEditor,params}=this;var{value}=params;var editorValue=eEditor.getValue();if(!_exists(editorValue)&&!_exists(value)){return value;}return params.parseValue(editorValue);}getValidationElement(){return this.eEditor.getInputElement();}getValidationErrors(){var{params}=this;var{maxLength,getValidationErrors}=params;var translate=this.getLocaleTextFunc();var value=this.getValue();var internalErrors=[];if(typeof value===\"string\"&&maxLength!=null&&value.length>maxLength){internalErrors.push(translate(\"maxLengthValidation\",\"Must be \".concat(maxLength,\" characters or fewer.\"),[String(maxLength)]));}if(!internalErrors.length){internalErrors=null;}if(getValidationErrors){return getValidationErrors({value,internalErrors,cellEditorParams:params});}return internalErrors;}};// packages/ag-grid-community/src/edit/cellEditors/numberCellEditor.ts\nvar NumberCellElement={tag:\"ag-input-number-field\",ref:\"eEditor\",cls:\"ag-cell-editor\"};var NumberCellEditorInput=class{constructor(getLocaleTextFunc){this.getLocaleTextFunc=getLocaleTextFunc;}getTemplate(){return NumberCellElement;}getAgComponents(){return[AgInputNumberFieldSelector];}init(eEditor,params){this.eEditor=eEditor;this.params=params;var{max,min,precision,step}=params;if(max!=null){eEditor.setMax(max);}if(min!=null){eEditor.setMin(min);}if(precision!=null){eEditor.setPrecision(precision);}if(step!=null){eEditor.setStep(step);}var editorEl=eEditor.getInputElement();if(params.preventStepping){eEditor.addManagedElementListeners(editorEl,{keydown:this.preventStepping});}else if(params.showStepperButtons){editorEl.classList.add(\"ag-number-field-input-stepper\");}}getValidationErrors(){var{params}=this;var{min,max,getValidationErrors}=params;var eInput=this.eEditor.getInputElement();var value=eInput.valueAsNumber;var translate=this.getLocaleTextFunc();var internalErrors=[];if(typeof value===\"number\"){if(min!=null&&value<min){internalErrors.push(translate(\"minValueValidation\",\"Must be greater than or equal to \".concat(min,\".\"),[String(min)]));}if(max!=null&&value>max){internalErrors.push(translate(\"maxValueValidation\",\"Must be less than or equal to \".concat(max,\".\"),[String(max)]));}}if(!internalErrors.length){internalErrors=null;}if(getValidationErrors){return getValidationErrors({value,cellEditorParams:params,internalErrors});}return internalErrors;}preventStepping(e){if(e.key===KeyCode.UP||e.key===KeyCode.DOWN){e.preventDefault();}}getValue(){var{eEditor,params}=this;var value=eEditor.getValue();if(!_exists(value)&&!_exists(params.value)){return params.value;}var parsedValue=params.parseValue(value);if(parsedValue==null){return parsedValue;}if(typeof parsedValue===\"string\"){if(parsedValue===\"\"){return null;}parsedValue=Number(parsedValue);}return isNaN(parsedValue)?null:parsedValue;}getStartValue(){return this.params.value;}setCaret(){if(_isBrowserSafari()){this.eEditor.getInputElement().focus({preventScroll:true});}}};var NumberCellEditor=class extends SimpleCellEditor{constructor(){super(new NumberCellEditorInput(()=>this.getLocaleTextFunc()));}};// packages/ag-grid-community/src/edit/cellEditors/selectCellEditor.ts\nvar SelectCellElement={tag:\"div\",cls:\"ag-cell-edit-wrapper\",children:[{tag:\"ag-select\",ref:\"eEditor\",cls:\"ag-cell-editor\"}]};var SelectCellEditor=class extends AgAbstractCellEditor{constructor(){super(SelectCellElement,[AgSelectSelector]);this.eEditor=RefPlaceholder;this.startedByEnter=false;}wireBeans(beans){this.valueSvc=beans.valueSvc;}initialiseEditor(params){this.focusAfterAttached=params.cellStartedEdit;var{eEditor,valueSvc,gos}=this;var{values,value,eventKey}=params;if(_missing(values)){_warn(58);return;}this.startedByEnter=eventKey!=null?eventKey===KeyCode.ENTER:false;var hasValue=false;values.forEach(currentValue=>{var option={value:currentValue};var valueFormatted=valueSvc.formatValue(params.column,null,currentValue);var valueFormattedExits=valueFormatted!==null&&valueFormatted!==void 0;option.text=valueFormattedExits?valueFormatted:currentValue;eEditor.addOption(option);hasValue=hasValue||value===currentValue;});if(hasValue){eEditor.setValue(params.value,true);}else if(params.values.length){eEditor.setValue(params.values[0],true);}var{valueListGap,valueListMaxWidth,valueListMaxHeight}=params;if(valueListGap!=null){eEditor.setPickerGap(valueListGap);}if(valueListMaxHeight!=null){eEditor.setPickerMaxHeight(valueListMaxHeight);}if(valueListMaxWidth!=null){eEditor.setPickerMaxWidth(valueListMaxWidth);}if(gos.get(\"editType\")!==\"fullRow\"){this.addManagedListeners(this.eEditor,{selectedItem:()=>params.stopEditing()});}}afterGuiAttached(){if(this.focusAfterAttached){this.eEditor.getFocusableElement().focus();}if(this.startedByEnter){setTimeout(()=>{if(this.isAlive()){this.eEditor.showPicker();}});}}focusIn(){this.eEditor.getFocusableElement().focus();}getValue(){return this.eEditor.getValue();}isPopup(){return false;}getValidationElement(){return this.eEditor.getAriaElement();}getValidationErrors(){var{params}=this;var{values,getValidationErrors}=params;var value=this.getValue();var internalErrors=[];if(values&&!values.includes(value)){var translate=this.getLocaleTextFunc();internalErrors.push(translate(\"invalidSelectionValidation\",\"Invalid selection.\"));}else{internalErrors=null;}if(getValidationErrors){return getValidationErrors({value,internalErrors,cellEditorParams:params});}return internalErrors;}};// packages/ag-grid-community/src/edit/cellEditors/textCellEditor.ts\nvar TextCellEditorElement={tag:\"ag-input-text-field\",ref:\"eEditor\",cls:\"ag-cell-editor\"};var TextCellEditorInput=class{constructor(getLocaleTextFunc){this.getLocaleTextFunc=getLocaleTextFunc;}getTemplate(){return TextCellEditorElement;}getAgComponents(){return[AgInputTextFieldSelector];}init(eEditor,params){this.eEditor=eEditor;this.params=params;var maxLength=params.maxLength;if(maxLength!=null){eEditor.setMaxLength(maxLength);}}getValidationErrors(){var{params}=this;var{maxLength,getValidationErrors}=params;var value=this.getValue();var translate=this.getLocaleTextFunc();var internalErrors=[];if(maxLength!=null&&typeof value===\"string\"&&value.length>maxLength){internalErrors.push(translate(\"maxLengthValidation\",\"Must be \".concat(maxLength,\" characters or fewer.\"),[String(maxLength)]));}if(!internalErrors.length){internalErrors=null;}if(getValidationErrors){return getValidationErrors({value,cellEditorParams:params,internalErrors});}return internalErrors;}getValue(){var{eEditor,params}=this;var value=eEditor.getValue();if(!_exists(value)&&!_exists(params.value)){return params.value;}return params.parseValue(value);}getStartValue(){var params=this.params;var formatValue=params.useFormatter||params.column.getColDef().refData;return formatValue?params.formatValue(params.value):params.value;}setCaret(){var eInput=this.eEditor;var value=eInput.getValue();var len=_exists(value)&&value.length||0;if(len){eInput.getInputElement().setSelectionRange(len,len);}}};var TextCellEditor=class extends SimpleCellEditor{constructor(){super(new TextCellEditorInput(()=>this.getLocaleTextFunc()));}};// packages/ag-grid-community/src/api/scrollApi.ts\nfunction getVerticalPixelRange(beans){return beans.ctrlsSvc.getScrollFeature().getVScrollPosition();}function getHorizontalPixelRange(beans){return beans.ctrlsSvc.getScrollFeature().getHScrollPosition();}function ensureColumnVisible(beans,key){var position=arguments.length>2&&arguments[2]!==undefined?arguments[2]:\"auto\";beans.frameworkOverrides.wrapIncoming(()=>beans.ctrlsSvc.getScrollFeature().ensureColumnVisible(key,position),\"ensureVisible\");}function ensureIndexVisible(beans,index,position){beans.frameworkOverrides.wrapIncoming(()=>beans.ctrlsSvc.getScrollFeature().ensureIndexVisible(index,position),\"ensureVisible\");}function ensureNodeVisible(beans,nodeSelector){var position=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;beans.frameworkOverrides.wrapIncoming(()=>beans.ctrlsSvc.getScrollFeature().ensureNodeVisible(nodeSelector,position),\"ensureVisible\");}// packages/ag-grid-community/src/edit/editApi.ts\nfunction undoCellEditing(beans){var _beans$undoRedo;(_beans$undoRedo=beans.undoRedo)===null||_beans$undoRedo===void 0||_beans$undoRedo.undo(\"api\");}function redoCellEditing(beans){var _beans$undoRedo2;(_beans$undoRedo2=beans.undoRedo)===null||_beans$undoRedo2===void 0||_beans$undoRedo2.redo(\"api\");}function getEditingCells(beans){var _beans$editModelSvc7;var edits=(_beans$editModelSvc7=beans.editModelSvc)===null||_beans$editModelSvc7===void 0?void 0:_beans$editModelSvc7.getEditMap();var positions=[];edits===null||edits===void 0||edits.forEach((editRow,rowNode)=>{var{rowIndex,rowPinned}=rowNode;editRow.forEach((_ref231,column)=>{var{newValue,oldValue,state}=_ref231;var diff=_valuesDiffer({newValue,oldValue});if(newValue===UNEDITED){newValue=void 0;}var edit={newValue,oldValue,state,column,colId:column.getColId(),colKey:column.getColId(),rowIndex,rowPinned};var changed=state===\"changed\"&&diff;var editing=state===\"editing\";if(editing){positions.push(edit);}else if(changed){positions.push(edit);}});});return positions;}function stopEditing(beans){var cancel=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var{editSvc}=beans;if(editSvc!==null&&editSvc!==void 0&&editSvc.isBatchEditing()){if(cancel){var _beans$editModelSvc8;(_beans$editModelSvc8=beans.editModelSvc)===null||_beans$editModelSvc8===void 0||_beans$editModelSvc8.getEditPositions().forEach(cellPosition=>{if(cellPosition.state===\"editing\"){editSvc.revertSingleCellEdit(cellPosition);}});}else{_syncFromEditors(beans);}_destroyEditors(beans);}else{editSvc===null||editSvc===void 0||editSvc.stopEditing(void 0,{cancel,source:\"api\"});}}function isEditing(beans,cellPosition){var _beans$editSvc$isEdit2,_beans$editSvc8;var cellCtrl=_getCellCtrl(beans,cellPosition);return(_beans$editSvc$isEdit2=(_beans$editSvc8=beans.editSvc)===null||_beans$editSvc8===void 0?void 0:_beans$editSvc8.isEditing(cellCtrl))!==null&&_beans$editSvc$isEdit2!==void 0?_beans$editSvc$isEdit2:false;}function startEditingCell(beans,params){var{key,colKey,rowIndex,rowPinned}=params;var{editSvc,colModel}=beans;var column=colModel.getCol(colKey);if(!column){_warn(12,{colKey});return;}var cellPosition={rowIndex,rowPinned:rowPinned||null,column};var rowNode=_getRowNode(beans,cellPosition);if(!rowNode){_warn(290,{rowIndex,rowPinned});return;}if(!column.isCellEditable(rowNode)){return;}var notPinned=rowPinned==null;if(notPinned){ensureIndexVisible(beans,rowIndex);}ensureColumnVisible(beans,colKey);if(!_getCellByPosition(beans,cellPosition)){return;}editSvc===null||editSvc===void 0||editSvc.setEditingCells([_objectSpread(_objectSpread({},cellPosition),{},{colId:column.getColId(),newValue:key,state:\"editing\"})],{update:true});}function validateEdit(beans){var _beans$editSvc9;return((_beans$editSvc9=beans.editSvc)===null||_beans$editSvc9===void 0?void 0:_beans$editSvc9.validateEdit())||null;}function getCurrentUndoSize(beans){var _beans$undoRedo$getCu,_beans$undoRedo3;return(_beans$undoRedo$getCu=(_beans$undoRedo3=beans.undoRedo)===null||_beans$undoRedo3===void 0?void 0:_beans$undoRedo3.getCurrentUndoStackSize())!==null&&_beans$undoRedo$getCu!==void 0?_beans$undoRedo$getCu:0;}function getCurrentRedoSize(beans){var _beans$undoRedo$getCu2,_beans$undoRedo4;return(_beans$undoRedo$getCu2=(_beans$undoRedo4=beans.undoRedo)===null||_beans$undoRedo4===void 0?void 0:_beans$undoRedo4.getCurrentRedoStackSize())!==null&&_beans$undoRedo$getCu2!==void 0?_beans$undoRedo$getCu2:0;}// packages/ag-grid-community/src/edit/cellEditors/popupEditorWrapper.ts\nvar PopupEditorElement={tag:\"div\",cls:\"ag-popup-editor\",attrs:{tabindex:\"-1\"}};var PopupEditorWrapper=class extends PopupComponent{constructor(params){super(PopupEditorElement);this.params=params;}postConstruct(){_setDomData(this.gos,this.getGui(),\"popupEditorWrapper\",true);this.addKeyDownListener();}addKeyDownListener(){var eGui=this.getGui();var params=this.params;var listener=event=>{if(!_isUserSuppressingKeyboardEvent(this.gos,event,params.node,params.column,true)){params.onKeyDown(event);}};this.addManagedElementListeners(eGui,{keydown:listener});}};// packages/ag-grid-community/src/edit/styles/style-utils.ts\nvar editHighlightFn=function editHighlightFn(edit){var includeEditing=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(edit!==void 0){return _valuesDiffer(edit)||includeEditing&&edit.state===\"editing\";}};function _hasEdits(beans,position){var _beans$editModelSvc9;var includeEditing=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;return editHighlightFn((_beans$editModelSvc9=beans.editModelSvc)===null||_beans$editModelSvc9===void 0?void 0:_beans$editModelSvc9.getEdit(position),includeEditing);}function _hasLeafEdits(beans,position){var{editModelSvc}=beans;var{column,rowNode}=position;if(beans.gos.get(\"groupTotalRow\")&&!(rowNode!==null&&rowNode!==void 0&&rowNode.footer)){return false;}for(var node of(_rowNode$allLeafChild=rowNode===null||rowNode===void 0?void 0:rowNode.allLeafChildren)!==null&&_rowNode$allLeafChild!==void 0?_rowNode$allLeafChild:[]){var _rowNode$allLeafChild;var highlight=editHighlightFn(editModelSvc===null||editModelSvc===void 0?void 0:editModelSvc.getEdit({rowNode:node,column}))||editHighlightFn(editModelSvc===null||editModelSvc===void 0?void 0:editModelSvc.getEdit({rowNode:node.pinnedSibling,column}));if(highlight){return true;}}}function _hasPinnedEdits(beans,_ref232){var _beans$editModelSvc0;var{rowNode,column}=_ref232;rowNode=rowNode.pinnedSibling;if(!rowNode){return;}return editHighlightFn((_beans$editModelSvc0=beans.editModelSvc)===null||_beans$editModelSvc0===void 0?void 0:_beans$editModelSvc0.getEdit({rowNode,column}));}// packages/ag-grid-community/src/edit/styles/cellEditStyleFeature.ts\nvar CellEditStyleFeature=class extends BeanStub{constructor(cellCtrl,beans){super();this.cellCtrl=cellCtrl;this.beans=beans;this.editSvc=beans.editSvc;this.editModelSvc=beans.editModelSvc;}setComp(comp){this.cellComp=comp;this.applyCellStyles();}applyCellStyles(){var _this$editModelSvc;var{cellCtrl,editSvc,beans}=this;if(editSvc!==null&&editSvc!==void 0&&editSvc.isBatchEditing()&&editSvc.isEditing()){var state=_hasEdits(beans,cellCtrl)||_hasLeafEdits(beans,cellCtrl)||_hasPinnedEdits(beans,cellCtrl);this.applyBatchingStyle(state);}else{this.applyBatchingStyle(false);}var hasErrors=!!((_this$editModelSvc=this.editModelSvc)!==null&&_this$editModelSvc!==void 0&&_this$editModelSvc.getCellValidationModel().hasCellValidation(this.cellCtrl));this.cellComp.toggleCss(\"ag-cell-editing-error\",hasErrors);}applyBatchingStyle(newState){var _ref233,_this$editSvc9;this.cellComp.toggleCss(\"ag-cell-editing\",newState!==null&&newState!==void 0?newState:false);this.cellComp.toggleCss(\"ag-cell-batch-edit\",(_ref233=newState&&((_this$editSvc9=this.editSvc)===null||_this$editSvc9===void 0?void 0:_this$editSvc9.isBatchEditing()))!==null&&_ref233!==void 0?_ref233:false);}};// packages/ag-grid-community/src/edit/styles/rowEditStyleFeature.ts\nvar RowEditStyleFeature=class extends BeanStub{constructor(rowCtrl,beans){super();this.rowCtrl=rowCtrl;this.beans=beans;this.gos=beans.gos;this.editSvc=beans.editSvc;this.editModelSvc=beans.editModelSvc;}applyRowStyles(){var _this$editModelSvc2;var{rowCtrl,editModelSvc,beans}=this;var rowNode=rowCtrl.rowNode;var edits=editModelSvc===null||editModelSvc===void 0?void 0:editModelSvc.getEditRow(rowNode);var hasErrors=(_this$editModelSvc2=this.editModelSvc)===null||_this$editModelSvc2===void 0?void 0:_this$editModelSvc2.getRowValidationModel().hasRowValidation({rowNode});if(!edits&&rowNode.pinnedSibling){rowNode=rowNode.pinnedSibling;edits=editModelSvc===null||editModelSvc===void 0?void 0:editModelSvc.getEditRow(rowNode);}if(edits){var editing=Array.from(edits.keys()).some(column=>{var position={rowNode,column};return _hasEdits(beans,position,true)||_hasLeafEdits(beans,position)||_hasPinnedEdits(beans,position);});this.applyStyle(hasErrors,editing);return;}this.applyStyle(hasErrors);}applyStyle(){var _this$editSvc$isBatch,_this$editSvc0,_this$rowCtrl2;var hasErrors=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var editing=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var batchEdit=(_this$editSvc$isBatch=(_this$editSvc0=this.editSvc)===null||_this$editSvc0===void 0?void 0:_this$editSvc0.isBatchEditing())!==null&&_this$editSvc$isBatch!==void 0?_this$editSvc$isBatch:false;var fullRow=this.gos.get(\"editType\")===\"fullRow\";(_this$rowCtrl2=this.rowCtrl)===null||_this$rowCtrl2===void 0||_this$rowCtrl2.forEachGui(void 0,_ref234=>{var{rowComp}=_ref234;rowComp.toggleCss(\"ag-row-editing\",fullRow&&editing);rowComp.toggleCss(\"ag-row-batch-edit\",fullRow&&editing&&batchEdit);rowComp.toggleCss(\"ag-row-inline-editing\",editing);rowComp.toggleCss(\"ag-row-not-inline-editing\",!editing);rowComp.toggleCss(\"ag-row-editing-invalid\",fullRow&&editing&&hasErrors);});}};// packages/ag-grid-community/src/edit/utils/refresh.ts\nvar purgeRows=(_ref235,rowNodes)=>{var{rowModel,pinnedRowModel,editModelSvc}=_ref235;var found=/* @__PURE__ */new Set();rowModel.forEachNode(node=>rowNodes.has(node)&&found.add(node));pinnedRowModel===null||pinnedRowModel===void 0||pinnedRowModel.forEachPinnedRow(\"top\",node=>rowNodes.has(node)&&found.add(node));pinnedRowModel===null||pinnedRowModel===void 0||pinnedRowModel.forEachPinnedRow(\"bottom\",node=>rowNodes.has(node)&&found.add(node));rowNodes.forEach(rowNode=>{if(!found.has(rowNode)){editModelSvc.removeEdits({rowNode});}});return found;};var purgeCells=(_ref236,rowNodes,columns)=>{var{editModelSvc}=_ref236;rowNodes.forEach(rowNode=>{var _editModelSvc$getEdit4;return editModelSvc===null||editModelSvc===void 0||(_editModelSvc$getEdit4=editModelSvc.getEditRow(rowNode))===null||_editModelSvc$getEdit4===void 0?void 0:_editModelSvc$getEdit4.forEach((_,column)=>!columns.has(column)&&editModelSvc.removeEdits({rowNode,column}));});};var _refreshEditCells=beans=>()=>{var columns=new Set(beans.colModel.getCols());var updates=beans.editModelSvc.getEditMap(true);var rowNodes=new Set(updates.keys());purgeCells(beans,purgeRows(beans,rowNodes),columns);};// packages/ag-grid-community/src/edit/editService.ts\nvar KEEP_EDITOR_SOURCES=/* @__PURE__ */new Set([\"undo\",\"redo\"]);var SOURCE_TRANSFORM={paste:\"ui\",rangeSvc:\"ui\",fillHandle:\"api\",cellClear:\"api\"};var SOURCE_TRANSFORM_KEYS=new Set(Object.keys(SOURCE_TRANSFORM));var CANCEL_PARAMS={cancel:true,source:\"api\"};var COMMIT_PARAMS={cancel:false,source:\"api\"};var CHECK_SIBLING={checkSiblings:true};var FORCE_REFRESH={force:true,suppressFlash:true};var EditService=class extends BeanStub{constructor(){super(...arguments);this.beanName=\"editSvc\";this.batch=false;}postConstruct(){var{beans}=this;this.model=beans.editModelSvc;this.valueSvc=beans.valueSvc;this.rangeSvc=beans.rangeSvc;this.addManagedPropertyListener(\"editType\",_ref237=>{var{currentValue}=_ref237;this.stopEditing(void 0,CANCEL_PARAMS);this.createStrategy(currentValue);});var handler=_refreshEditCells(beans);var stopInvalidEdits=()=>{var hasCellValidation=this.model.getCellValidationModel().getCellValidationMap().size>0;var hasRowValidation=this.model.getRowValidationModel().getRowValidationMap().size>0;if(hasCellValidation||hasRowValidation){this.stopEditing(void 0,CANCEL_PARAMS);}else{if(this.isEditing()){if(this.isBatchEditing()){_destroyEditors(beans,this.model.getEditPositions());}else{this.stopEditing(void 0,COMMIT_PARAMS);}}}return false;};this.addManagedEventListeners({columnPinned:handler,columnVisible:handler,columnRowGroupChanged:handler,rowGroupOpened:handler,pinnedRowsChanged:handler,displayedRowsChanged:handler,sortChanged:stopInvalidEdits,filterChanged:stopInvalidEdits,cellFocused:this.onCellFocused.bind(this)});}isBatchEditing(){return this.batch;}setBatchEditing(enabled){if(enabled){this.batch=true;this.stopEditing(void 0,CANCEL_PARAMS);}else{this.stopEditing(void 0,CANCEL_PARAMS);this.batch=false;}}createStrategy(editType){var _ref238;var{beans,gos,strategy}=this;var name=(_ref238=editType!==null&&editType!==void 0?editType:gos.get(\"editType\"))!==null&&_ref238!==void 0?_ref238:\"singleCell\";if(strategy){if(strategy.beanName===name){return strategy;}this.destroyStrategy();}return this.strategy=this.createOptionalManagedBean(beans.registry.createDynamicBean(name,true));}destroyStrategy(){if(!this.strategy){return;}this.strategy.destroy();this.strategy=this.destroyBean(this.strategy);}shouldStartEditing(position,event,cellStartedEdit){var _this$strategy,_this$strategy$should,_this$strategy2;var source=arguments.length>3&&arguments[3]!==undefined?arguments[3]:\"ui\";(_this$strategy=this.strategy)!==null&&_this$strategy!==void 0?_this$strategy:this.strategy=this.createStrategy();return(_this$strategy$should=(_this$strategy2=this.strategy)===null||_this$strategy2===void 0?void 0:_this$strategy2.shouldStart(position,event,cellStartedEdit,source))!==null&&_this$strategy$should!==void 0?_this$strategy$should:null;}shouldStopEditing(position,event){var _this$strategy$should2,_this$strategy3;var source=arguments.length>2&&arguments[2]!==undefined?arguments[2]:\"ui\";return(_this$strategy$should2=(_this$strategy3=this.strategy)===null||_this$strategy3===void 0?void 0:_this$strategy3.shouldStop(position,event,source))!==null&&_this$strategy$should2!==void 0?_this$strategy$should2:null;}shouldCancelEditing(position,event){var _this$strategy$should3,_this$strategy4;var source=arguments.length>2&&arguments[2]!==undefined?arguments[2]:\"ui\";return(_this$strategy$should3=(_this$strategy4=this.strategy)===null||_this$strategy4===void 0?void 0:_this$strategy4.shouldCancel(position,event,source))!==null&&_this$strategy$should3!==void 0?_this$strategy$should3:null;}validateEdit(){return _validateEdit(this.beans);}isEditing(position,params){return this.model.hasEdits(position,params!==null&&params!==void 0?params:CHECK_SIBLING);}isRowEditing(rowNode,params){var _ref239;return(_ref239=rowNode&&this.model.hasRowEdits(rowNode,params))!==null&&_ref239!==void 0?_ref239:false;}/** @returns whether to prevent default on event */startEditing(position,params){var _this$strategy5,_this$shouldStartEdit;var{startedEdit=true,event=null,source=\"ui\",ignoreEventKey=false}=params;(_this$strategy5=this.strategy)!==null&&_this$strategy5!==void 0?_this$strategy5:this.strategy=this.createStrategy();if(!this.isCellEditable(position,\"api\")){return;}var cellCtrl=_getCellCtrl(this.beans,position);if(cellCtrl&&!cellCtrl.comp){cellCtrl.onCompAttachedFuncs.push(()=>this.startEditing(position,params));return;}var res=(_this$shouldStartEdit=this.shouldStartEditing)===null||_this$shouldStartEdit===void 0?void 0:_this$shouldStartEdit.call(this,position,event,startedEdit,source);if(res===false&&source!==\"api\"){this.isEditing(position)&&this.stopEditing();return;}if(!this.batch&&this.shouldStopEditing(position,void 0,source)){this.stopEditing(void 0,{source});}if(res&&this.isBatchEditing()){this.dispatchBatchEvent(\"batchEditingStarted\",/* @__PURE__ */new Map());}this.strategy.start(position,event,source,ignoreEventKey);return;}stopEditing(position,params){var _this$strategy7;var{event,cancel,source=\"ui\",suppressNavigateAfterEdit}=params||{};var{beans,model}=this;if(SOURCE_TRANSFORM_KEYS.has(source)){if(this.isBatchEditing()){this.bulkRefresh(position);return false;}return this.stopEditing(position,_objectSpread(_objectSpread({},params),{},{source:SOURCE_TRANSFORM[source]}));}if(!this.isEditing()||!this.strategy){return false;}var cellCtrl=_getCellCtrl(beans,position);if(cellCtrl){cellCtrl.onEditorAttachedFuncs=[];}var edits=model.getEditMap(true);var res=false;var willStop=!cancel&&!!this.shouldStopEditing(position,event,source);var willCancel=cancel&&!!this.shouldCancelEditing(position,event,source);if(willStop||willCancel){var _this$strategy6;_syncFromEditors(beans,{event});var freshEdits=model.getEditMap();this.processEdits(freshEdits,cancel);(_this$strategy6=this.strategy)===null||_this$strategy6===void 0||_this$strategy6.stop(cancel,event);this.bulkRefresh(void 0,edits);edits=freshEdits;res||(res=willStop);}else if(event instanceof KeyboardEvent&&this.batch&&(_this$strategy7=this.strategy)!==null&&_this$strategy7!==void 0&&_this$strategy7.midBatchInputsAllowed(position)&&this.isEditing(position,{withOpenEditor:true})){var key=event.key;var isEnter=key===KeyCode.ENTER;var isEscape=key===KeyCode.ESCAPE;if(isEnter||isEscape){if(isEnter){_syncFromEditors(beans,{event});}else if(isEscape){this.revertSingleCellEdit(cellCtrl,false);}if(this.isBatchEditing()){var _this$strategy8;(_this$strategy8=this.strategy)===null||_this$strategy8===void 0||_this$strategy8.cleanupEditors();}else{_destroyEditors(beans,model.getEditPositions(),{event});}event.preventDefault();this.bulkRefresh(position,edits,{suppressFlash:true});edits=model.getEditMap();}}else{_syncFromEditors(beans,{event});edits=model.getEditMap();}if(res&&position){this.model.removeEdits(position);}if(!suppressNavigateAfterEdit&&cellCtrl){this.navigateAfterEdit(event instanceof KeyboardEvent&&event.shiftKey,cellCtrl.cellPosition);}_purgeUnchangedEdits(beans);if(!this.model.hasEdits()){this.model.getCellValidationModel().clearCellValidationMap();this.model.getRowValidationModel().clearRowValidationMap();}this.bulkRefresh();if(willCancel){this.beans.rowRenderer.refreshRows({rowNodes:Array.from(edits.keys())});}if(this.isBatchEditing()){this.beans.rowRenderer.refreshRows({suppressFlash:true,force:true});if(res&&willStop){this.dispatchBatchEvent(\"batchEditingStopped\",edits);}}return res;}navigateAfterEdit(shiftKey,cellPosition){var navAfterEdit=this.gos.get(\"enterNavigatesVerticallyAfterEdit\");if(navAfterEdit){var _this$beans$navigatio5;var key=shiftKey?KeyCode.UP:KeyCode.DOWN;(_this$beans$navigatio5=this.beans.navigation)===null||_this$beans$navigatio5===void 0||_this$beans$navigatio5.navigateToNextCell(null,key,cellPosition,false);}}processEdits(edits){var cancel=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var rowNodes=Array.from(edits.keys());var{beans}=this;var hasValidationErrors=this.model.getCellValidationModel().getCellValidationMap().size>0||this.model.getRowValidationModel().getRowValidationMap().size>0;var editsToDelete=[];for(var rowNode of rowNodes){var editRow=edits.get(rowNode);for(var column of editRow.keys()){var _cellCtrl$comp5,_cellCtrl$comp5$isCan;var editValue=editRow.get(column);var position={rowNode,column};var cellCtrl=_getCellCtrl(beans,position);var valueChanged=_valuesDiffer(editValue);var isCancelAfterEnd=cellCtrl===null||cellCtrl===void 0||(_cellCtrl$comp5=cellCtrl.comp)===null||_cellCtrl$comp5===void 0||(_cellCtrl$comp5=_cellCtrl$comp5.getCellEditor())===null||_cellCtrl$comp5===void 0||(_cellCtrl$comp5$isCan=_cellCtrl$comp5.isCancelAfterEnd)===null||_cellCtrl$comp5$isCan===void 0?void 0:_cellCtrl$comp5$isCan.call(_cellCtrl$comp5);if(!cancel&&!isCancelAfterEnd&&valueChanged&&!hasValidationErrors){var success=this.setNodeDataValue(rowNode,column,editValue.newValue);if(!success){editsToDelete.push(position);}}cellCtrl===null||cellCtrl===void 0||cellCtrl.refreshCell(FORCE_REFRESH);}}editsToDelete.forEach(position=>{this.model.clearEditValue(position);});}setNodeDataValue(rowNode,column,newValue,refreshCell){var{beans}=this;var cellCtrl=_getCellCtrl(beans,{rowNode,column});if(cellCtrl){cellCtrl.suppressRefreshCell=true;}var success=rowNode.setDataValue(column,newValue,\"commit\");if(cellCtrl){cellCtrl.suppressRefreshCell=false;}if(refreshCell){cellCtrl===null||cellCtrl===void 0||cellCtrl.refreshCell(FORCE_REFRESH);}return success;}setEditMap(edits,params){var _this$strategy9,_this$strategy0;(_this$strategy9=this.strategy)!==null&&_this$strategy9!==void 0?_this$strategy9:this.strategy=this.createStrategy();(_this$strategy0=this.strategy)===null||_this$strategy0===void 0||_this$strategy0.setEditMap(edits,params);this.bulkRefresh();this.beans.rowRenderer.refreshCells(FORCE_REFRESH);}dispatchEditValuesChanged(_ref240){var{rowNode,column}=_ref240;var edit=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(!rowNode||!column||!edit){return;}var{newValue,oldValue}=edit;var{rowIndex,rowPinned,data}=rowNode;this.beans.eventSvc.dispatchEvent({type:\"cellEditValuesChanged\",node:rowNode,rowIndex,rowPinned,column,source:\"api\",data,newValue,oldValue,value:newValue,colDef:column.getColDef()});}bulkRefresh(){var position=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var editMap=arguments.length>1?arguments[1]:undefined;var params=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var{beans,gos}=this;var{editModelSvc,rowModel}=beans;if(_isClientSideRowModel(gos,rowModel)){if(position.rowNode&&position.column){this.refCell(position,this.model.getEdit(position),params);}else if(editMap){var _editModelSvc$getEdit5;editModelSvc===null||editModelSvc===void 0||(_editModelSvc$getEdit5=editModelSvc.getEditMap(false))===null||_editModelSvc$getEdit5===void 0||_editModelSvc$getEdit5.forEach((editRow,rowNode)=>{for(var column of editRow.keys()){this.refCell({rowNode,column},editRow.get(column),params);}});}}}refCell(_ref241,edit){var{rowNode,column}=_ref241;var params=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var{beans,gos}=this;var updatedNodes=/* @__PURE__ */new Set([rowNode]);var refreshNodes=/* @__PURE__ */new Set();var pinnedSibling=rowNode.pinnedSibling;if(pinnedSibling){updatedNodes.add(pinnedSibling);}var sibling=rowNode.sibling;if(sibling){refreshNodes.add(sibling);}var parent=rowNode.parent;while(parent){var _parent$sibling;if((_parent$sibling=parent.sibling)!==null&&_parent$sibling!==void 0&&_parent$sibling.footer&&gos.get(\"groupTotalRow\")){refreshNodes.add(parent.sibling);}else if(!parent.parent&&parent.sibling&&gos.get(\"grandTotalRow\")){refreshNodes.add(parent.sibling);}else{refreshNodes.add(parent);}parent=parent.parent;}updatedNodes.forEach(node=>this.dispatchEditValuesChanged({rowNode:node,column},edit));updatedNodes.forEach(node=>{var _getCellCtrl2;return(_getCellCtrl2=_getCellCtrl(beans,{rowNode:node,column}))===null||_getCellCtrl2===void 0?void 0:_getCellCtrl2.refreshCell(params);});refreshNodes.forEach(node=>{var _getCellCtrl3;return(_getCellCtrl3=_getCellCtrl(beans,{rowNode:node,column}))===null||_getCellCtrl3===void 0?void 0:_getCellCtrl3.refreshCell(params);});}stopAllEditing(){var cancel=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var source=arguments.length>1&&arguments[1]!==undefined?arguments[1]:\"ui\";if(this.isEditing()){this.stopEditing(void 0,{cancel,source});}}isCellEditable(position){var _this$strategy1,_this$strategy$isCell,_this$strategy10;var source=arguments.length>1&&arguments[1]!==undefined?arguments[1]:\"ui\";var{rowNode}=position;if(rowNode.group){if(this.gos.get(\"treeData\")){if(!rowNode.data&&!this.gos.get(\"enableGroupEdit\")){return false;}}else{if(!this.gos.get(\"enableGroupEdit\")){return false;}}}(_this$strategy1=this.strategy)!==null&&_this$strategy1!==void 0?_this$strategy1:this.strategy=this.createStrategy();return(_this$strategy$isCell=(_this$strategy10=this.strategy)===null||_this$strategy10===void 0?void 0:_this$strategy10.isCellEditable(position,source))!==null&&_this$strategy$isCell!==void 0?_this$strategy$isCell:false;}cellEditingInvalidCommitBlocks(){return this.gos.get(\"invalidEditValueMode\")===\"block\";}checkNavWithValidation(position,event){if(this.hasValidationErrors(position)){var cellCtrl=_getCellCtrl(this.beans,position);if(this.cellEditingInvalidCommitBlocks()){var _event$preventDefault2,_cellCtrl$comp6,_cellCtrl$comp6$focus;event===null||event===void 0||(_event$preventDefault2=event.preventDefault)===null||_event$preventDefault2===void 0||_event$preventDefault2.call(event);!(cellCtrl!==null&&cellCtrl!==void 0&&cellCtrl.hasBrowserFocus())&&(cellCtrl===null||cellCtrl===void 0?void 0:cellCtrl.focusCell());cellCtrl===null||cellCtrl===void 0||(_cellCtrl$comp6=cellCtrl.comp)===null||_cellCtrl$comp6===void 0||(_cellCtrl$comp6=_cellCtrl$comp6.getCellEditor())===null||_cellCtrl$comp6===void 0||(_cellCtrl$comp6$focus=_cellCtrl$comp6.focusIn)===null||_cellCtrl$comp6$focus===void 0||_cellCtrl$comp6$focus.call(_cellCtrl$comp6);return\"block-stop\";}cellCtrl&&this.revertSingleCellEdit(cellCtrl);return\"revert-continue\";}return\"continue\";}revertSingleCellEdit(cellPosition){var _cellCtrl$comp7,_cellCtrl$rowCtrl$row,_cellCtrl$comp8,_cellCtrl$comp8$focus;var focus=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var cellCtrl=_getCellCtrl(this.beans,cellPosition);if(!(cellCtrl!==null&&cellCtrl!==void 0&&(_cellCtrl$comp7=cellCtrl.comp)!==null&&_cellCtrl$comp7!==void 0&&_cellCtrl$comp7.getCellEditor())){return;}this.model.clearEditValue(cellPosition);_destroyEditors(this.beans,[cellPosition],{silent:true});_setupEditor(this.beans,cellPosition,{silent:true});_populateModelValidationErrors(this.beans);cellCtrl===null||cellCtrl===void 0||cellCtrl.refreshCell(FORCE_REFRESH);(_cellCtrl$rowCtrl$row=cellCtrl.rowCtrl.rowEditStyleFeature)===null||_cellCtrl$rowCtrl$row===void 0||_cellCtrl$rowCtrl$row.applyRowStyles();if(!focus){return;}cellCtrl===null||cellCtrl===void 0||cellCtrl.focusCell();cellCtrl===null||cellCtrl===void 0||(_cellCtrl$comp8=cellCtrl.comp)===null||_cellCtrl$comp8===void 0||(_cellCtrl$comp8=_cellCtrl$comp8.getCellEditor())===null||_cellCtrl$comp8===void 0||(_cellCtrl$comp8$focus=_cellCtrl$comp8.focusIn)===null||_cellCtrl$comp8$focus===void 0||_cellCtrl$comp8$focus.call(_cellCtrl$comp8);}hasValidationErrors(position){_populateModelValidationErrors(this.beans);var cellCtrl=_getCellCtrl(this.beans,position);if(cellCtrl){var _cellCtrl$rowCtrl$row2;cellCtrl.refreshCell(FORCE_REFRESH);(_cellCtrl$rowCtrl$row2=cellCtrl.rowCtrl.rowEditStyleFeature)===null||_cellCtrl$rowCtrl$row2===void 0||_cellCtrl$rowCtrl$row2.applyRowStyles();}var invalid=false;if(position!==null&&position!==void 0&&position.rowNode){invalid||(invalid=this.model.getRowValidationModel().hasRowValidation({rowNode:position.rowNode}));if(position.column){invalid||(invalid=this.model.getCellValidationModel().hasCellValidation({rowNode:position.rowNode,column:position.column}));}}else{invalid||(invalid=this.model.getCellValidationModel().getCellValidationMap().size>0);invalid||(invalid=this.model.getRowValidationModel().getRowValidationMap().size>0);}return invalid;}moveToNextCell(prev,backwards,event){var source=arguments.length>3&&arguments[3]!==undefined?arguments[3]:\"ui\";var res;if(prev instanceof CellCtrl&&this.isEditing()){var _this$strategy11;res=(_this$strategy11=this.strategy)===null||_this$strategy11===void 0?void 0:_this$strategy11.moveToNextEditingCell(prev,backwards,event,source);}if(res===null){return res;}res=res||!!this.beans.focusSvc.focusedHeader;if(res===false){this.stopEditing();}return res;}getCellDataValue(_ref242){var _edit;var{rowNode,column}=_ref242;if(!rowNode||!column){return void 0;}var edit=this.model.getEdit({rowNode,column});var pinnedSibling=rowNode.pinnedSibling;if(pinnedSibling){var siblingEdit=this.model.getEdit({rowNode:pinnedSibling,column});if(siblingEdit){edit=siblingEdit;}}var newValue=(_edit=edit)===null||_edit===void 0?void 0:_edit.newValue;return newValue===UNEDITED||!edit?this.valueSvc.getValue(column,rowNode,true,\"api\"):newValue;}getRowDataValue(rowNode,params){return this.model.getEditRowDataValue(rowNode,params);}addStopEditingWhenGridLosesFocus(viewports){_addStopEditingWhenGridLosesFocus(this,this.beans,viewports);}createPopupEditorWrapper(params){return new PopupEditorWrapper(params);}setDataValue(position,newValue,eventSource){var _this$strategy12;if((!this.isEditing()||eventSource===\"commit\")&&eventSource!==\"paste\"&&eventSource!==\"rangeSvc\"&&eventSource!==\"renderer\"&&eventSource!==\"cellClear\"){return;}var{beans}=this;(_this$strategy12=this.strategy)!==null&&_this$strategy12!==void 0?_this$strategy12:this.strategy=this.createStrategy();var source=this.isBatchEditing()?\"ui\":\"api\";if(!eventSource||KEEP_EDITOR_SOURCES.has(eventSource)){_syncFromEditor(beans,position,newValue,eventSource);return this.setNodeDataValue(position.rowNode,position.column,newValue,false);}var existing=this.model.getEdit(position);if(existing){if(existing.newValue===newValue){return false;}if(existing.oldValue!==newValue){_syncFromEditor(beans,position,newValue,eventSource);this.stopEditing(position,{source});return true;}if(existing.oldValue===newValue){var _beans$editModelSvc1;(_beans$editModelSvc1=beans.editModelSvc)===null||_beans$editModelSvc1===void 0||_beans$editModelSvc1.removeEdits(position);this.dispatchEditValuesChanged(position,{newValue,oldValue:existing.oldValue});return true;}}_syncFromEditor(beans,position,newValue,eventSource);this.stopEditing(position,{source});return true;}handleColDefChanged(cellCtrl){_refreshEditorOnColDefChanged(this.beans,cellCtrl);}destroy(){this.model.clear();this.destroyStrategy();super.destroy();}prepDetailsDuringBatch(position,params){if(!this.batch){return;}var hasEdits=this.model.hasRowEdits(position.rowNode,CHECK_SIBLING);if(!hasEdits){return;}var{rowNode,column}=position;var{compDetails,valueToDisplay}=params;if(compDetails){var{params:params2}=compDetails;params2.data=this.model.getEditRowDataValue(rowNode,CHECK_SIBLING);return{compDetails};}var editRow=this.model.getEditRow(position.rowNode,CHECK_SIBLING);if(valueToDisplay!==void 0&&editRow!==null&&editRow!==void 0&&editRow.has(column)){return{valueToDisplay:this.valueSvc.getValue(column,rowNode)};}}cleanupEditors(){var _this$strategy13;(_this$strategy13=this.strategy)===null||_this$strategy13===void 0||_this$strategy13.cleanupEditors();}dispatchCellEvent(position,event,type,payload){var _this$strategy14;(_this$strategy14=this.strategy)===null||_this$strategy14===void 0||_this$strategy14.dispatchCellEvent(position,event,type,payload);}dispatchRowEvent(position,type){var _this$strategy15;(_this$strategy15=this.strategy)===null||_this$strategy15===void 0||_this$strategy15.dispatchRowEvent(position,type);}dispatchBatchEvent(type,edits){this.eventSvc.dispatchEvent(this.createBatchEditEvent(type,edits));}createBatchEditEvent(type,edits){return _addGridCommonParams(this.gos,_objectSpread({type},type===\"batchEditingStopped\"?{changes:this.model.getEditPositions(edits).map(edit=>{return _objectSpread(_objectSpread({},edit),{},{rowIndex:edit.rowNode.rowIndex,rowPinned:edit.rowNode.rowPinned,columnId:edit.column.getColId()});})}:{}));}applyBulkEdit(_ref243,ranges){var _edits$get;var{rowNode,column}=_ref243;if(!ranges||ranges.length===0){return;}var{beans,rangeSvc,valueSvc}=this;_syncFromEditors(beans);var edits=this.model.getEditMap(true);var editValue=(_edits$get=edits.get(rowNode))===null||_edits$get===void 0||(_edits$get=_edits$get.get(column))===null||_edits$get===void 0?void 0:_edits$get.newValue;ranges.forEach(range=>{rangeSvc===null||rangeSvc===void 0||rangeSvc.forEachRowInRange(range,position=>{var _edits$get2;var rowNode2=_getRowNode(beans,position);if(rowNode2===void 0){return;}var editRow=(_edits$get2=edits.get(rowNode2))!==null&&_edits$get2!==void 0?_edits$get2:/* @__PURE__ */new Map();for(var column2 of range.columns){if(!column2){continue;}if(this.isCellEditable({rowNode:rowNode2,column:column2},\"api\")){var oldValue=valueSvc.getValue(column2,rowNode2,true,\"api\");var newValue=valueSvc.parseValue(column2,rowNode2!==null&&rowNode2!==void 0?rowNode2:null,editValue,oldValue);if(Number.isNaN(newValue)){newValue=null;}editRow.set(column2,{newValue,oldValue,state:\"changed\"});}}if(editRow.size>0){edits.set(rowNode2,editRow);}});this.setEditMap(edits);if(this.batch){this.cleanupEditors();_purgeUnchangedEdits(beans);this.bulkRefresh();return;}this.stopEditing(void 0,{source:\"api\"});});this.bulkRefresh();var cellCtrl=_getCellCtrl(beans,{rowNode,column});if(cellCtrl){cellCtrl.focusCell(true);}}createCellStyleFeature(cellCtrl,beans){return new CellEditStyleFeature(cellCtrl,beans);}createRowStyleFeature(rowCtrl,beans){return new RowEditStyleFeature(rowCtrl,beans);}setEditingCells(cells,params){var{beans}=this;var{colModel,valueSvc}=beans;var edits=/* @__PURE__ */new Map();cells.forEach(_ref244=>{var{colId,column,colKey,rowIndex,rowPinned,newValue,state}=_ref244;var col=colId?colModel.getCol(colId):colKey?colModel.getCol(colKey):column;if(!col){return;}var rowNode=_getRowNode(beans,{rowIndex,rowPinned});if(!rowNode){return;}var oldValue=valueSvc.getValue(col,rowNode,true,\"api\");if(!_valuesDiffer({newValue,oldValue})&&state!==\"editing\"){return;}var editRow=edits.get(rowNode);if(!editRow){editRow=/* @__PURE__ */new Map();edits.set(rowNode,editRow);}if(newValue===void 0){newValue=UNEDITED;}editRow.set(col,{newValue,oldValue,state:state!==null&&state!==void 0?state:\"changed\"});});this.setEditMap(edits,params);}onCellFocused(event){var _this$beans$ariaAnnou3;var cellCtrl=_getCellCtrl(this.beans,event);if(!cellCtrl||!this.isEditing(cellCtrl,CHECK_SIBLING)){return;}var edit=this.model.getEdit(cellCtrl);if(!edit||!_valuesDiffer(edit)){return;}var translate=this.getLocaleTextFunc();var label=translate(\"ariaPendingChange\",\"Pending Change\");(_this$beans$ariaAnnou3=this.beans.ariaAnnounce)===null||_this$beans$ariaAnnou3===void 0||_this$beans$ariaAnnou3.announceValue(label,\"pendingChange\");}allowedFocusTargetOnValidation(cellPosition){return _getCellCtrl(this.beans,cellPosition);}};// packages/ag-grid-community/src/edit/strategy/baseEditStrategy.ts\nvar BaseEditStrategy=class extends BeanStub{postConstruct(){var _this$onCellFocusChan,_this$onCellFocusChan2;this.model=this.beans.editModelSvc;this.editSvc=this.beans.editSvc;this.addManagedEventListeners({cellFocused:(_this$onCellFocusChan=this.onCellFocusChanged)===null||_this$onCellFocusChan===void 0?void 0:_this$onCellFocusChan.bind(this),cellFocusCleared:(_this$onCellFocusChan2=this.onCellFocusChanged)===null||_this$onCellFocusChan2===void 0?void 0:_this$onCellFocusChan2.bind(this)});}clearEdits(position){this.model.clearEditValue(position);}onCellFocusChanged(event){var _cellCtrl3;var cellCtrl;var previous=event[\"previousParams\"];var{editSvc,beans}=this;var sourceEvent=event.type===\"cellFocused\"?event.sourceEvent:null;if(previous){cellCtrl=_getCellCtrl(beans,previous);}var{gos,editModelSvc}=beans;var isFocusCleared=event.type===\"cellFocusCleared\";if(editSvc.isEditing(void 0,{withOpenEditor:true})){var{column,rowIndex,rowPinned}=event;var cellPositionFromEvent={column,rowNode:_getRowNode(beans,{rowIndex,rowPinned})};var isBlock=gos.get(\"invalidEditValueMode\")===\"block\";if(isBlock){return;}var shouldRevert=!isBlock;var hasError=!!(editModelSvc!==null&&editModelSvc!==void 0&&editModelSvc.getCellValidationModel().hasCellValidation(cellPositionFromEvent));var shouldCancel=shouldRevert&&hasError;var result=previous||isFocusCleared?editSvc.stopEditing(void 0,{cancel:shouldCancel,source:isFocusCleared&&shouldRevert?\"api\":void 0,event:sourceEvent}):true;if(!result){if(editSvc.isBatchEditing()){editSvc.cleanupEditors();}else{editSvc.stopEditing(void 0,{source:\"api\"});}}}(_cellCtrl3=cellCtrl)===null||_cellCtrl3===void 0||_cellCtrl3.refreshCell({suppressFlash:true,force:true});}isCellEditable(_ref245){var{rowNode,column}=_ref245;var _source=arguments.length>1&&arguments[1]!==undefined?arguments[1]:\"ui\";return column.isColumnFunc(rowNode,column.getColDef().editable);}stop(cancel,event){var editingCells=this.model.getEditPositions();var results={all:[],pass:[],fail:[]};editingCells.forEach(cell=>{var _validation2$errorMes,_validation2$errorMes2;results.all.push(cell);var validation2=this.model.getCellValidationModel().getCellValidation(cell);if(((_validation2$errorMes=validation2===null||validation2===void 0||(_validation2$errorMes2=validation2.errorMessages)===null||_validation2$errorMes2===void 0?void 0:_validation2$errorMes2.length)!==null&&_validation2$errorMes!==void 0?_validation2$errorMes:0)>0){results.fail.push(cell);return;}results.pass.push(cell);});if(cancel){editingCells.forEach(cell=>{_destroyEditor(this.beans,cell);this.model.stop(cell);});return true;}var actions=this.processValidationResults(results);if(actions.destroy.length>0){actions.destroy.forEach(cell=>{_destroyEditor(this.beans,cell,{event});this.model.stop(cell);});}if(actions.keep.length>0){actions.keep.forEach(cell=>{var _this$editSvc1;var cellCtrl=_getCellCtrl(this.beans,cell);if(!((_this$editSvc1=this.editSvc)!==null&&_this$editSvc1!==void 0&&_this$editSvc1.cellEditingInvalidCommitBlocks())){cellCtrl&&this.editSvc.revertSingleCellEdit(cellCtrl);}});}return true;}cleanupEditors(){var{rowNode}=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var includeEditing=arguments.length>1?arguments[1]:undefined;_syncFromEditors(this.beans);var positions=this.model.getEditPositions();var discard=[];if(rowNode){positions.forEach(pos=>{if(!(!rowNode||pos.rowNode===rowNode)){discard.push(pos);}});}else{positions.forEach(pos=>{discard.push(pos);});}_destroyEditors(this.beans,discard);_purgeUnchangedEdits(this.beans,includeEditing);}stopAllEditing(){_syncFromEditors(this.beans);this.stop();}setFocusOutOnEditor(cellCtrl){var _cellCtrl$comp9,_cellCtrl$comp9$focus;(_cellCtrl$comp9=cellCtrl.comp)===null||_cellCtrl$comp9===void 0||(_cellCtrl$comp9=_cellCtrl$comp9.getCellEditor())===null||_cellCtrl$comp9===void 0||(_cellCtrl$comp9$focus=_cellCtrl$comp9.focusOut)===null||_cellCtrl$comp9$focus===void 0||_cellCtrl$comp9$focus.call(_cellCtrl$comp9);}setFocusInOnEditor(cellCtrl){var comp=cellCtrl.comp;var editor=comp===null||comp===void 0?void 0:comp.getCellEditor();if(editor!==null&&editor!==void 0&&editor.focusIn){editor.focusIn();}else{var isFullRow=this.beans.gos.get(\"editType\")===\"fullRow\";cellCtrl.focusCell(isFullRow);cellCtrl.onEditorAttachedFuncs.push(()=>{var _comp$getCellEditor2,_comp$getCellEditor2$;return comp===null||comp===void 0||(_comp$getCellEditor2=comp.getCellEditor())===null||_comp$getCellEditor2===void 0||(_comp$getCellEditor2$=_comp$getCellEditor2.focusIn)===null||_comp$getCellEditor2$===void 0?void 0:_comp$getCellEditor2$.call(_comp$getCellEditor2);});}}setupEditors(){var cells=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.model.getEditPositions();var position=arguments.length>1?arguments[1]:undefined;var cellStartedEdit=arguments.length>2?arguments[2]:undefined;var event=arguments.length>3?arguments[3]:undefined;var ignoreEventKey=arguments.length>4&&arguments[4]!==undefined?arguments[4]:false;var key=event instanceof KeyboardEvent&&!ignoreEventKey&&event.key||void 0;_setupEditors(this.beans,cells,position,key,event,cellStartedEdit);}dispatchCellEvent(position,event,type,payload){var cellCtrl=_getCellCtrl(this.beans,position);if(cellCtrl){this.eventSvc.dispatchEvent(_objectSpread(_objectSpread({},cellCtrl.createEvent(event!==null&&event!==void 0?event:null,type)),payload));}}dispatchRowEvent(position,type){var rowCtrl=_getRowCtrl(this.beans,position);if(rowCtrl){this.eventSvc.dispatchEvent(rowCtrl.createRowEvent(type));}}shouldStart(_ref246,event,cellStartedEdit){var _this$beans$rangeSvc2;var{column}=_ref246;var source=arguments.length>3&&arguments[3]!==undefined?arguments[3]:\"ui\";if(event instanceof KeyboardEvent&&(event.key===KeyCode.TAB||event.key===KeyCode.ENTER||event.key===KeyCode.F2||event.key===KeyCode.BACKSPACE&&cellStartedEdit)){return true;}var extendingRange=(event===null||event===void 0?void 0:event.shiftKey)&&((_this$beans$rangeSvc2=this.beans.rangeSvc)===null||_this$beans$rangeSvc2===void 0?void 0:_this$beans$rangeSvc2.getCellRanges().length)!=0;if(extendingRange){return false;}var colDef=column===null||column===void 0?void 0:column.getColDef();var clickCount=this.deriveClickCount(colDef);var type=event===null||event===void 0?void 0:event.type;if(type===\"click\"&&(event===null||event===void 0?void 0:event.detail)===1&&clickCount===1){return true;}if(type===\"dblclick\"&&(event===null||event===void 0?void 0:event.detail)===2&&clickCount===2){return true;}if(source===\"api\"){return cellStartedEdit!==null&&cellStartedEdit!==void 0?cellStartedEdit:false;}return false;}shouldStop(_position,event){var source=arguments.length>2&&arguments[2]!==undefined?arguments[2]:\"ui\";var batch=this.editSvc.isBatchEditing();if(batch&&source===\"api\"){return true;}if(batch&&source===\"ui\"){return false;}if(source===\"api\"){return true;}if(event instanceof KeyboardEvent&&!batch){return event.key===KeyCode.ENTER;}return null;}shouldCancel(_position,event){var source=arguments.length>2&&arguments[2]!==undefined?arguments[2]:\"ui\";var batch=this.editSvc.isBatchEditing();if(event instanceof KeyboardEvent&&!batch){var result=event.key===KeyCode.ESCAPE;if(result){return true;}}if(batch&&source===\"api\"){return true;}if(source===\"api\"){return true;}return false;}setEditMap(edits,params){var _this$model;if(!(params!==null&&params!==void 0&&params.update)){this.editSvc.stopEditing(void 0,{cancel:true,source:\"api\"});}var cells=[];edits.forEach((editRow,rowNode)=>{editRow.forEach((cellData,column)=>{if(cellData.state===\"editing\"){cells.push(_objectSpread(_objectSpread({},cellData),{},{rowNode,column}));}});});if(params!==null&&params!==void 0&&params.update){edits=new Map([...this.model.getEditMap(),...edits]);}(_this$model=this.model)===null||_this$model===void 0||_this$model.setEditMap(edits);if(cells.length>0){var cell=cells.at(-1);var key=cell.newValue===UNEDITED?void 0:cell.newValue;this.start(cell,new KeyboardEvent(\"keydown\",{key}),\"api\");var cellCtrl=_getCellCtrl(this.beans,cell);if(cellCtrl){this.setFocusInOnEditor(cellCtrl);}}}deriveClickCount(colDef){var{gos}=this.beans;if(gos.get(\"suppressClickEdit\")===true){return 0;}if(gos.get(\"singleClickEdit\")===true){return 1;}if(colDef!==null&&colDef!==void 0&&colDef.singleClickEdit){return 1;}return 2;}destroy(){this.cleanupEditors();super.destroy();}};// packages/ag-grid-community/src/edit/strategy/fullRowEditStrategy.ts\nvar FullRowEditStrategy=class extends BaseEditStrategy{constructor(){super(...arguments);this.beanName=\"fullRow\";this.startedRows=[];}isCellEditable(position){var source=arguments.length>1&&arguments[1]!==undefined?arguments[1]:\"ui\";var editable=super.isCellEditable(position,source);if(editable===true||source===\"ui\"){return editable;}var columns=this.beans.colModel.getCols();return columns.some(col=>super.isCellEditable({rowNode:position.rowNode,column:col},source));}shouldStop(position,event){var _source=arguments.length>2&&arguments[2]!==undefined?arguments[2]:\"ui\";var{rowNode}=position||{};var oldRowCtrl=_getRowCtrl(this.beans,{rowNode:this.rowNode});if(!oldRowCtrl){return true;}var res=super.shouldStop({rowNode:this.rowNode},event,_source);if(res!==null){return res;}if(!this.rowNode){return false;}return rowNode!==this.rowNode;}midBatchInputsAllowed(_ref247){var{rowNode}=_ref247;if(!rowNode){return false;}return this.model.hasEdits({rowNode});}clearEdits(position){this.model.clearEditValue(position);}start(position,event){var _source=arguments.length>2&&arguments[2]!==undefined?arguments[2]:\"ui\";var ignoreEventKey=arguments.length>3?arguments[3]:undefined;var{rowNode}=position;if(this.rowNode!==rowNode){super.cleanupEditors(position);}this.dispatchRowEvent({rowNode},\"rowEditingStarted\");this.startedRows.push(rowNode);var columns=this.beans.visibleCols.allCols;var cells=[];columns.forEach(column=>{if(!column.isCellEditable(rowNode)){return;}var position2={rowNode,column};cells.push(position2);if(!this.model.hasEdits(position2)){this.model.start(position2);}});this.rowNode=rowNode;this.setupEditors(cells,position,true,event,ignoreEventKey);}processValidationResults(results){var anyFailed=results.fail.length>0;if(anyFailed&&this.editSvc.cellEditingInvalidCommitBlocks()){return{destroy:[],keep:results.all};}return{destroy:results.all,keep:[]};}stop(cancel,event){var _this$editSvc10;var{rowNode}=this;if(rowNode&&!this.model.hasRowEdits(rowNode)){return false;}var changedRows=[];if(!cancel){this.model.getEditMap().forEach((rowEdits,rowNode2)=>{if(!rowEdits||rowEdits.size===0){return;}for(var edit of rowEdits.values()){if(_valuesDiffer(edit)){changedRows.push(rowNode2);break;}}});}_populateModelValidationErrors(this.beans);if(!cancel&&((_this$editSvc10=this.editSvc)===null||_this$editSvc10===void 0?void 0:_this$editSvc10.checkNavWithValidation({rowNode}))===\"block-stop\"){return false;}super.stop(cancel,event);changedRows.forEach(rowNode2=>this.dispatchRowEvent({rowNode:rowNode2},\"rowValueChanged\"));this.cleanupEditors({rowNode},true);this.rowNode=void 0;return true;}onCellFocusChanged(event){var{rowIndex}=event;var prev=event[\"previousParams\"];if((prev===null||prev===void 0?void 0:prev.rowIndex)===rowIndex||event.sourceEvent instanceof KeyboardEvent){return;}var prevCell=_getCellCtrl(this.beans,prev);var isBlock=this.gos.get(\"invalidEditValueMode\")===\"block\";if(isBlock&&prevCell&&(this.model.getCellValidationModel().getCellValidation(prevCell)||this.model.getRowValidationModel().getRowValidation(prevCell))){return;}super.onCellFocusChanged(event);}cleanupEditors(){var position=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var includeEditing=arguments.length>1?arguments[1]:undefined;super.cleanupEditors(position,includeEditing);this.startedRows.forEach(rowNode=>this.dispatchRowEvent({rowNode},\"rowEditingStopped\"));this.startedRows.length=0;}// returns null if no navigation should be performed\nmoveToNextEditingCell(prevCell,backwards,event){var _prevCell$rowCtrl;var source=arguments.length>3&&arguments[3]!==undefined?arguments[3]:\"ui\";var preventNavigation=this.editSvc.checkNavWithValidation(void 0,event)===\"block-stop\";var prevPos=prevCell.cellPosition;var nextCell;this.model.suspend(true);try{var _this$beans$navigatio6;nextCell=(_this$beans$navigatio6=this.beans.navigation)===null||_this$beans$navigatio6===void 0?void 0:_this$beans$navigatio6.findNextCellToFocusOn(prevPos,{backwards,startEditing:true,// Default behaviour for fullRow is skip to the next cell,\n// editable or not. FullRow editing might have some editable\n// and some not editable cells in the row.\n// More complex logic needed to skip to the\n// next FullRow editable cell,\nskipToNextEditableCell:false});}finally{this.model.suspend(false);}if(nextCell===false){return null;}if(nextCell==null){return false;}var nextPos=nextCell.cellPosition;var prevEditable=prevCell.isCellEditable();var nextEditable=nextCell.isCellEditable();var rowsMatch=nextPos&&prevPos.rowIndex===nextPos.rowIndex&&prevPos.rowPinned===nextPos.rowPinned;if(prevEditable){this.setFocusOutOnEditor(prevCell);}if(nextEditable&&!preventNavigation){var _nextCell$comp;if(!((_nextCell$comp=nextCell.comp)!==null&&_nextCell$comp!==void 0&&_nextCell$comp.getCellEditor())){_setupEditor(this.beans,nextCell,{event,cellStartedEdit:true});}this.setFocusInOnEditor(nextCell);nextCell.focusCell(false,event);}else{nextCell.focusCell(true,event);}if(!rowsMatch&&!preventNavigation){this.cleanupEditors(nextCell,true);this.editSvc.startEditing(nextCell,{startedEdit:true,event,source,ignoreEventKey:true});}(_prevCell$rowCtrl=prevCell.rowCtrl)===null||_prevCell$rowCtrl===void 0||_prevCell$rowCtrl.refreshRow({suppressFlash:true,force:true});return true;}destroy(){super.destroy();this.rowNode=void 0;this.startedRows.length=0;}};// packages/ag-grid-community/src/edit/strategy/singleCellEditStrategy.ts\nvar SingleCellEditStrategy=class extends BaseEditStrategy{constructor(){super(...arguments);this.beanName=\"singleCell\";}shouldStop(position,event){var source=arguments.length>2&&arguments[2]!==undefined?arguments[2]:\"ui\";var res=super.shouldStop(position,event,source);if(res!==null){return res;}var{rowNode,column}=position||{};if((!this.rowNode||!this.column)&&rowNode&&column){return null;}return this.rowNode!==rowNode||this.column!==column;}midBatchInputsAllowed(position){return this.model.hasEdits(position);}start(position,event){var _source=arguments.length>2&&arguments[2]!==undefined?arguments[2]:\"ui\";var ignoreEventKey=arguments.length>3?arguments[3]:undefined;if(this.rowNode!==position.rowNode||this.column!==position.column){super.cleanupEditors();}this.rowNode=position.rowNode;this.column=position.column;this.model.start(position);this.setupEditors([position],position,true,event,ignoreEventKey);}dispatchRowEvent(_position,_type){}stop(cancel,event){super.stop(cancel,event);this.rowNode=void 0;this.column=void 0;return true;}onCellFocusChanged(event){var{colModel,editSvc}=this.beans;var{rowIndex,column,rowPinned}=event;var rowNode=_getRowNode(this.beans,{rowIndex,rowPinned});var curColId=_getColId(column);var curCol=colModel.getCol(curColId);var previous=event[\"previousParams\"];if(previous){var prevColId=_getColId(previous.column);if((previous===null||previous===void 0?void 0:previous.rowIndex)===rowIndex&&prevColId===curColId&&(previous===null||previous===void 0?void 0:previous.rowPinned)===rowPinned){return;}}if(editSvc!==null&&editSvc!==void 0&&editSvc.isEditing({rowNode,column:curCol},{withOpenEditor:true})&&event.type===\"cellFocused\"){return;}super.onCellFocusChanged(event);}// returns null if no navigation should be performed\nmoveToNextEditingCell(prevCell,backwards,event){var _prevCell$rowCtrl2;var source=arguments.length>3&&arguments[3]!==undefined?arguments[3]:\"ui\";var preventNavigation=this.editSvc.checkNavWithValidation(void 0,event)===\"block-stop\";var prevPos=prevCell.cellPosition;var nextCell;var shouldSuspend=this.beans.gos.get(\"editType\")===\"fullRow\";if(shouldSuspend){this.model.suspend(true);}if(!preventNavigation){prevCell.eGui.focus();prevCell.stopEditing();}try{var _this$beans$navigatio7;nextCell=(_this$beans$navigatio7=this.beans.navigation)===null||_this$beans$navigatio7===void 0?void 0:_this$beans$navigatio7.findNextCellToFocusOn(prevPos,{backwards,startEditing:true// Default behaviour for fullRow is skip to the next cell,\n// editable or not. FullRow editing might have some editable\n// and some not editable cells in the row.\n// More complex logic needed to skip to the\n// next FullRow editable cell,\n// skipToNextEditableCell: false,\n});}finally{if(shouldSuspend){this.model.suspend(false);}}if(nextCell===false){return null;}if(nextCell==null){return false;}var nextPos=nextCell.cellPosition;var prevEditable=prevCell.isCellEditable();var nextEditable=nextCell.isCellEditable();var rowsMatch=nextPos&&prevPos.rowIndex===nextPos.rowIndex&&prevPos.rowPinned===nextPos.rowPinned;if(!rowsMatch){var _this$model$getRowVal;_populateModelValidationErrors(this.beans);if(((_this$model$getRowVal=this.model.getRowValidationModel().getRowValidationMap().size)!==null&&_this$model$getRowVal!==void 0?_this$model$getRowVal:0)===0){var rowPreventNavigation=this.editSvc.checkNavWithValidation(prevCell,event)===\"block-stop\";if(rowPreventNavigation){return true;}}}if(prevEditable&&!preventNavigation){this.setFocusOutOnEditor(prevCell);}if(!rowsMatch&&!preventNavigation){super.cleanupEditors(nextCell,true);this.editSvc.startEditing(nextCell,{startedEdit:true,event,source,ignoreEventKey:true});}if(nextEditable&&!preventNavigation){var _nextCell$comp2;nextCell.focusCell(false,event);if(!((_nextCell$comp2=nextCell.comp)!==null&&_nextCell$comp2!==void 0&&_nextCell$comp2.getCellEditor())){_setupEditor(this.beans,nextCell,{event,cellStartedEdit:true});}this.setFocusInOnEditor(nextCell);}else{nextCell.focusCell(true,event);}(_prevCell$rowCtrl2=prevCell.rowCtrl)===null||_prevCell$rowCtrl2===void 0||_prevCell$rowCtrl2.refreshRow({suppressFlash:true,force:true});return true;}processValidationResults(results){var anyFailed=results.fail.length>0;if(anyFailed&&this.editSvc.cellEditingInvalidCommitBlocks()){return{destroy:[],keep:results.all};}return{destroy:results.all,keep:[]};}destroy(){super.destroy();this.rowNode=void 0;this.column=void 0;}};// packages/ag-grid-community/src/edit/editModule.ts\nvar EditCoreModule={moduleName:\"EditCore\",version:VERSION,beans:[EditModelService,EditService],apiFunctions:{getEditingCells,getCellEditorInstances,startEditingCell,stopEditing,isEditing,validateEdit},dynamicBeans:{singleCell:SingleCellEditStrategy,fullRow:FullRowEditStrategy},dependsOn:[PopupModule,TooltipModule],css:[cellEditingCSS]};var UndoRedoEditModule={moduleName:\"UndoRedoEdit\",version:VERSION,beans:[UndoRedoService],apiFunctions:{undoCellEditing,redoCellEditing,getCurrentUndoSize,getCurrentRedoSize},dependsOn:[EditCoreModule]};var TextEditorModule={moduleName:\"TextEditor\",version:VERSION,userComponents:{agCellEditor:TextCellEditor,agTextCellEditor:TextCellEditor},dependsOn:[EditCoreModule]};var NumberEditorModule={moduleName:\"NumberEditor\",version:VERSION,userComponents:{agNumberCellEditor:{classImp:NumberCellEditor}},dependsOn:[EditCoreModule]};var DateEditorModule={moduleName:\"DateEditor\",version:VERSION,userComponents:{agDateCellEditor:DateCellEditor,agDateStringCellEditor:DateStringCellEditor},dependsOn:[EditCoreModule]};var CheckboxEditorModule={moduleName:\"CheckboxEditor\",version:VERSION,userComponents:{agCheckboxCellEditor:CheckboxCellEditor},dependsOn:[EditCoreModule]};var SelectEditorModule={moduleName:\"SelectEditor\",version:VERSION,userComponents:{agSelectCellEditor:SelectCellEditor},dependsOn:[EditCoreModule]};var LargeTextEditorModule={moduleName:\"LargeTextEditor\",version:VERSION,userComponents:{agLargeTextCellEditor:LargeTextCellEditor},dependsOn:[EditCoreModule]};var CustomEditorModule={moduleName:\"CustomEditor\",version:VERSION,dependsOn:[EditCoreModule]};// packages/ag-grid-community/src/columns/selectionColService.ts\nvar SelectionColService=class extends BeanStub{constructor(){super(...arguments);this.beanName=\"selectionColSvc\";}postConstruct(){this.addManagedPropertyListener(\"rowSelection\",event=>{this.onSelectionOptionsChanged(event.currentValue,event.previousValue,_convertColumnEventSourceType(event.source));});this.addManagedPropertyListener(\"selectionColumnDef\",this.updateColumns.bind(this));}addColumns(cols){var selectionCols=this.columns;if(selectionCols==null){return;}cols.list=selectionCols.list.concat(cols.list);cols.tree=selectionCols.tree.concat(cols.tree);_updateColsMap(cols);}createColumns(cols,updateOrders){var _this$columns$treeDep,_this$columns2,_this$columns$list,_this$columns3,_colGroupSvc$findDept,_colGroupSvc$balanceT;var destroyCollection=()=>{var _this$columns;_destroyColumnTree(this.beans,(_this$columns=this.columns)===null||_this$columns===void 0?void 0:_this$columns.tree);this.columns=null;};var newTreeDepth=cols.treeDepth;var oldTreeDepth=(_this$columns$treeDep=(_this$columns2=this.columns)===null||_this$columns2===void 0?void 0:_this$columns2.treeDepth)!==null&&_this$columns$treeDep!==void 0?_this$columns$treeDep:-1;var treeDepthSame=oldTreeDepth==newTreeDepth;var list=this.generateSelectionCols();var areSame=_areColIdsEqual(list,(_this$columns$list=(_this$columns3=this.columns)===null||_this$columns3===void 0?void 0:_this$columns3.list)!==null&&_this$columns$list!==void 0?_this$columns$list:[]);if(areSame&&treeDepthSame){return;}destroyCollection();var{colGroupSvc}=this.beans;var treeDepth=(_colGroupSvc$findDept=colGroupSvc===null||colGroupSvc===void 0?void 0:colGroupSvc.findDepth(cols.tree))!==null&&_colGroupSvc$findDept!==void 0?_colGroupSvc$findDept:0;var tree=(_colGroupSvc$balanceT=colGroupSvc===null||colGroupSvc===void 0?void 0:colGroupSvc.balanceTreeForAutoCols(list,treeDepth))!==null&&_colGroupSvc$balanceT!==void 0?_colGroupSvc$balanceT:[];this.columns={list,tree,treeDepth,map:{}};var putSelectionColsFirstInList=cols2=>{if(!cols2){return null;}var colsFiltered=cols2.filter(col=>!isColumnSelectionCol(col));return[...list,...colsFiltered];};updateOrders(putSelectionColsFirstInList);}updateColumns(event){var _this$columns4;var source=_convertColumnEventSourceType(event.source);(_this$columns4=this.columns)===null||_this$columns4===void 0||_this$columns4.list.forEach(col=>{var newColDef=this.createSelectionColDef(event.currentValue);col.setColDef(newColDef,null,source);_applyColumnState(this.beans,{state:[_objectSpread(_objectSpread({},newColDef),{},{colId:col.getColId()})]},source);});}getColumn(key){var _this$columns$list$fi,_this$columns5;return(_this$columns$list$fi=(_this$columns5=this.columns)===null||_this$columns5===void 0?void 0:_this$columns5.list.find(col=>_columnsMatch(col,key)))!==null&&_this$columns$list$fi!==void 0?_this$columns$list$fi:null;}getColumns(){var _this$columns$list2,_this$columns6;return(_this$columns$list2=(_this$columns6=this.columns)===null||_this$columns6===void 0?void 0:_this$columns6.list)!==null&&_this$columns$list2!==void 0?_this$columns$list2:null;}isSelectionColumnEnabled(){var _beans$autoColSvc$get,_beans$autoColSvc;var{gos,beans}=this;var rowSelection=gos.get(\"rowSelection\");if(typeof rowSelection!==\"object\"||!_isRowSelection(gos)){return false;}var hasAutoCols=((_beans$autoColSvc$get=(_beans$autoColSvc=beans.autoColSvc)===null||_beans$autoColSvc===void 0||(_beans$autoColSvc=_beans$autoColSvc.getColumns())===null||_beans$autoColSvc===void 0?void 0:_beans$autoColSvc.length)!==null&&_beans$autoColSvc$get!==void 0?_beans$autoColSvc$get:0)>0;if(rowSelection.checkboxLocation===\"autoGroupColumn\"&&hasAutoCols){return false;}var checkboxes=!!_getCheckboxes(rowSelection);var headerCheckbox=_getHeaderCheckbox(rowSelection);return checkboxes||headerCheckbox;}createSelectionColDef(def){var{gos}=this.beans;var selectionColumnDef=def!==null&&def!==void 0?def:gos.get(\"selectionColumnDef\");var enableRTL=gos.get(\"enableRtl\");var _ref248=selectionColumnDef!==null&&selectionColumnDef!==void 0?selectionColumnDef:{},{rowSpan:_,spanRows:__}=_ref248,filteredSelColDef=_objectWithoutProperties(_ref248,_excluded);return _objectSpread(_objectSpread({// overridable properties\nwidth:50,resizable:false,suppressHeaderMenuButton:true,sortable:false,suppressMovable:true,lockPosition:enableRTL?\"right\":\"left\",comparator(valueA,valueB,nodeA,nodeB){var aSelected=nodeA.isSelected();var bSelected=nodeB.isSelected();return aSelected===bSelected?0:aSelected?1:-1;},editable:false,suppressFillHandle:true,pinned:null},filteredSelColDef),{},{// non-overridable properties\ncolId:SELECTION_COLUMN_ID,chartDataType:\"excluded\"});}generateSelectionCols(){if(!this.isSelectionColumnEnabled()){return[];}var colDef=this.createSelectionColDef();var colId=colDef.colId;this.gos.validateColDef(colDef,colId,true);var col=new AgColumn(colDef,null,colId,false);this.createBean(col);return[col];}onSelectionOptionsChanged(current,prev,source){var prevCheckbox=prev&&typeof prev!==\"string\"?_getCheckboxes(prev):void 0;var currCheckbox=current&&typeof current!==\"string\"?_getCheckboxes(current):void 0;var checkboxHasChanged=prevCheckbox!==currCheckbox;var prevHeaderCheckbox=prev&&typeof prev!==\"string\"?_getHeaderCheckbox(prev):void 0;var currHeaderCheckbox=current&&typeof current!==\"string\"?_getHeaderCheckbox(current):void 0;var headerCheckboxHasChanged=prevHeaderCheckbox!==currHeaderCheckbox;var currLocation=_getCheckboxLocation(current);var prevLocation=_getCheckboxLocation(prev);var locationChanged=currLocation!==prevLocation;if(checkboxHasChanged||headerCheckboxHasChanged||locationChanged){this.beans.colModel.refreshAll(source);}}destroy(){var _this$columns7;_destroyColumnTree(this.beans,(_this$columns7=this.columns)===null||_this$columns7===void 0?void 0:_this$columns7.tree);super.destroy();}/**\n   * Refreshes visibility of the selection column based on which columns are currently visible.\n   * Called by the VisibleColsService with the columns that are currently visible in left/center/right\n   * containers. This method *MUTATES* those arrays directly.\n   *\n   * The selection column should be visible if all of the following are true\n   * - The selection column is not disabled\n   * - The number of visible columns excluding the selection column and row numbers column is greater than 0\n   * @param leftCols Visible columns in the left-pinned container\n   * @param centerCols Visible columns in the center viewport\n   * @param rightCols Visible columns in the right-pinned container\n   */refreshVisibility(leftCols,centerCols,rightCols){var _this$columns8,_this$beans$rowNumber;if(!((_this$columns8=this.columns)!==null&&_this$columns8!==void 0&&_this$columns8.list.length)){return;}var numVisibleCols=leftCols.length+centerCols.length+rightCols.length;if(numVisibleCols===0){return;}var column=this.columns.list[0];if(!column.isVisible())return;var hideSelectionCol=()=>{var cols;switch(column.pinned){case\"left\":case true:cols=leftCols;break;case\"right\":cols=rightCols;break;default:cols=centerCols;}cols&&_removeFromArray(cols,column);};var rowNumbersCol=(_this$beans$rowNumber=this.beans.rowNumbersSvc)===null||_this$beans$rowNumber===void 0?void 0:_this$beans$rowNumber.getColumn(ROW_NUMBERS_COLUMN_ID);var expectedNumCols=rowNumbersCol?2:1;if(expectedNumCols===numVisibleCols){hideSelectionCol();}}};// packages/ag-grid-community/src/selection/rowSelectionApi.ts\nfunction setNodesSelected(beans,params){var _beans$selectionSvc;var allNodesValid=params.nodes.every(node=>{if(node.rowPinned&&!_isManualPinnedRow(node)){_warn(59);return false;}if(node.id===void 0){_warn(60);return false;}return true;});if(!allNodesValid){return;}var{nodes,source,newValue}=params;(_beans$selectionSvc=beans.selectionSvc)===null||_beans$selectionSvc===void 0||_beans$selectionSvc.setNodesSelected({nodes,source:source!==null&&source!==void 0?source:\"api\",newValue});}function selectAll(beans,selectAll2){var _beans$selectionSvc2;var source=arguments.length>2&&arguments[2]!==undefined?arguments[2]:\"apiSelectAll\";(_beans$selectionSvc2=beans.selectionSvc)===null||_beans$selectionSvc2===void 0||_beans$selectionSvc2.selectAllRowNodes({source,selectAll:selectAll2});}function deselectAll(beans,selectAll2){var _beans$selectionSvc3;var source=arguments.length>2&&arguments[2]!==undefined?arguments[2]:\"apiSelectAll\";(_beans$selectionSvc3=beans.selectionSvc)===null||_beans$selectionSvc3===void 0||_beans$selectionSvc3.deselectAllRowNodes({source,selectAll:selectAll2});}function selectAllFiltered(beans){var _beans$selectionSvc4;var source=arguments.length>1&&arguments[1]!==undefined?arguments[1]:\"apiSelectAllFiltered\";(_beans$selectionSvc4=beans.selectionSvc)===null||_beans$selectionSvc4===void 0||_beans$selectionSvc4.selectAllRowNodes({source,selectAll:\"filtered\"});}function deselectAllFiltered(beans){var _beans$selectionSvc5;var source=arguments.length>1&&arguments[1]!==undefined?arguments[1]:\"apiSelectAllFiltered\";(_beans$selectionSvc5=beans.selectionSvc)===null||_beans$selectionSvc5===void 0||_beans$selectionSvc5.deselectAllRowNodes({source,selectAll:\"filtered\"});}function selectAllOnCurrentPage(beans){var _beans$selectionSvc6;var source=arguments.length>1&&arguments[1]!==undefined?arguments[1]:\"apiSelectAllCurrentPage\";(_beans$selectionSvc6=beans.selectionSvc)===null||_beans$selectionSvc6===void 0||_beans$selectionSvc6.selectAllRowNodes({source,selectAll:\"currentPage\"});}function deselectAllOnCurrentPage(beans){var _beans$selectionSvc7;var source=arguments.length>1&&arguments[1]!==undefined?arguments[1]:\"apiSelectAllCurrentPage\";(_beans$selectionSvc7=beans.selectionSvc)===null||_beans$selectionSvc7===void 0||_beans$selectionSvc7.deselectAllRowNodes({source,selectAll:\"currentPage\"});}function getSelectedNodes(beans){var _beans$selectionSvc$g,_beans$selectionSvc8;return(_beans$selectionSvc$g=(_beans$selectionSvc8=beans.selectionSvc)===null||_beans$selectionSvc8===void 0?void 0:_beans$selectionSvc8.getSelectedNodes())!==null&&_beans$selectionSvc$g!==void 0?_beans$selectionSvc$g:[];}function getSelectedRows(beans){var _beans$selectionSvc$g2,_beans$selectionSvc9;return(_beans$selectionSvc$g2=(_beans$selectionSvc9=beans.selectionSvc)===null||_beans$selectionSvc9===void 0?void 0:_beans$selectionSvc9.getSelectedRows())!==null&&_beans$selectionSvc$g2!==void 0?_beans$selectionSvc$g2:[];}// packages/ag-grid-community/src/selection/selectionService.ts\nvar SelectionService=class extends BaseSelectionService{constructor(){super(...arguments);this.beanName=\"selectionSvc\";this.selectedNodes=/* @__PURE__ */new Map();/** Only used to track detail grid selection state when master/detail is enabled */this.detailSelection=/* @__PURE__ */new Map();this.masterSelectsDetail=false;}postConstruct(){super.postConstruct();var{gos}=this;this.mode=_getRowSelectionMode(gos);this.groupSelectsDescendants=_getGroupSelectsDescendants(gos);this.groupSelectsFiltered=_getGroupSelection(gos)===\"filteredDescendants\";this.masterSelectsDetail=_getMasterSelects(gos)===\"detail\";this.addManagedPropertyListeners([\"groupSelectsChildren\",\"groupSelectsFiltered\",\"rowSelection\"],()=>{var groupSelectsDescendants=_getGroupSelectsDescendants(gos);var selectionMode=_getRowSelectionMode(gos);var groupSelectsFiltered=_getGroupSelection(gos)===\"filteredDescendants\";this.masterSelectsDetail=_getMasterSelects(gos)===\"detail\";if(groupSelectsDescendants!==this.groupSelectsDescendants||groupSelectsFiltered!==this.groupSelectsFiltered||selectionMode!==this.mode){this.deselectAllRowNodes({source:\"api\"});this.groupSelectsDescendants=groupSelectsDescendants;this.groupSelectsFiltered=groupSelectsFiltered;this.mode=selectionMode;}});this.addManagedEventListeners({rowSelected:this.onRowSelected.bind(this)});}destroy(){super.destroy();this.resetNodes();}handleSelectionEvent(event,rowNode,source){if(this.isRowSelectionBlocked(rowNode))return 0;var selection=this.inferNodeSelections(rowNode,event.shiftKey,event.metaKey||event.ctrlKey,source);if(selection==null){return 0;}this.selectionCtx.selectAll=false;if(\"select\"in selection){if(selection.reset){this.resetNodes();}else{this.selectRange(selection.deselect,false,source);}return this.selectRange(selection.select,true,source);}else{return this.setNodesSelected({nodes:[selection.node],newValue:selection.newValue,clearSelection:selection.clearSelection,keepDescendants:selection.keepDescendants,event,source});}}setNodesSelected(_ref249){var{newValue,clearSelection,suppressFinishActions,nodes,event,source,keepDescendants=false}=_ref249;if(!_isRowSelection(this.gos)&&newValue){_warn(132);return 0;}if(nodes.length===0)return 0;if(nodes.length>1&&!this.isMultiSelect()){_warn(130);return 0;}var updatedCount=0;for(var i=0;i<nodes.length;i++){var _node$childrenAfterGr;var rowNode=nodes[i];var node=_normaliseSiblingRef(rowNode);var skipThisNode=this.groupSelectsFiltered&&node.group;if(node.rowPinned&&!_isManualPinnedRow(node)){_warn(59);continue;}if(node.id===void 0){_warn(60);continue;}if(!skipThisNode){var thisNodeWasSelected=this.selectRowNode(node,newValue,event,source);if(thisNodeWasSelected){this.detailSelection.delete(node.id);updatedCount++;}}if(this.groupSelectsDescendants&&(_node$childrenAfterGr=node.childrenAfterGroup)!==null&&_node$childrenAfterGr!==void 0&&_node$childrenAfterGr.length){updatedCount+=this.selectChildren(node,newValue,source);}}if(!suppressFinishActions){if(nodes.length===1&&source===\"api\"){this.selectionCtx.setRoot(_normaliseSiblingRef(nodes[0]));}var clearOtherNodes=newValue&&(clearSelection||!this.isMultiSelect());if(clearOtherNodes){updatedCount+=this.clearOtherNodes(_normaliseSiblingRef(nodes[0]),keepDescendants,source);}if(updatedCount>0){this.updateGroupsFromChildrenSelections(source);this.dispatchSelectionChanged(source);}}return updatedCount;}// not to be mixed up with 'cell range selection' where you drag the mouse, this is row range selection, by\n// holding down 'shift'.\nselectRange(nodesToSelect,value,source){var updatedCount=0;nodesToSelect.forEach(node=>{var rowNode=_normaliseSiblingRef(node);if(rowNode.group&&this.groupSelectsDescendants){return;}var nodeWasSelected=this.selectRowNode(rowNode,value,void 0,source);if(nodeWasSelected){updatedCount++;}});if(updatedCount>0){this.updateGroupsFromChildrenSelections(source);this.dispatchSelectionChanged(source);}return updatedCount;}selectChildren(node,newValue,source){var children=this.groupSelectsFiltered?node.childrenAfterAggFilter:node.childrenAfterGroup;if(!children){return 0;}return this.setNodesSelected({newValue,clearSelection:false,suppressFinishActions:true,source,nodes:children});}getSelectedNodes(){return Array.from(this.selectedNodes.values());}getSelectedRows(){var selectedRows=[];this.selectedNodes.forEach(rowNode=>selectedRows.push(rowNode.data));return selectedRows;}getSelectionCount(){return this.selectedNodes.size;}/**\n   * This method is used by the CSRM to remove groups which are being disposed of,\n   * events do not need fired in this case\n   */filterFromSelection(predicate){var newSelectedNodes=/* @__PURE__ */new Map();this.selectedNodes.forEach((rowNode,key)=>{if(predicate(rowNode)){newSelectedNodes.set(key,rowNode);}});this.selectedNodes=newSelectedNodes;}updateGroupsFromChildrenSelections(source,changedPath){if(!this.groupSelectsDescendants){return false;}var{gos,rowModel}=this.beans;if(!_isClientSideRowModel(gos,rowModel)){return false;}var rootNode=rowModel.rootNode;if(!rootNode){return false;}if(!changedPath){changedPath=new ChangedPath(true,rootNode);changedPath.active=false;}var selectionChanged=false;changedPath.forEachChangedNodeDepthFirst(rowNode=>{if(rowNode!==rootNode){var selected=this.calculateSelectedFromChildren(rowNode);selectionChanged=this.selectRowNode(rowNode,selected===null?false:selected,void 0,source)||selectionChanged;}});return selectionChanged;}clearOtherNodes(rowNodeToKeepSelected,keepDescendants,source){var groupsToRefresh=/* @__PURE__ */new Map();var updatedCount=0;this.selectedNodes.forEach(otherRowNode=>{var isNodeToKeep=otherRowNode.id==rowNodeToKeepSelected.id;var shouldClearDescendant=keepDescendants?!isDescendantOf(rowNodeToKeepSelected,otherRowNode):true;if(shouldClearDescendant&&!isNodeToKeep){var rowNode=this.selectedNodes.get(otherRowNode.id);updatedCount+=this.setNodesSelected({nodes:[rowNode],newValue:false,clearSelection:false,suppressFinishActions:true,source});if(this.groupSelectsDescendants&&otherRowNode.parent){groupsToRefresh.set(otherRowNode.parent.id,otherRowNode.parent);}}});groupsToRefresh.forEach(group=>{var selected=this.calculateSelectedFromChildren(group);this.selectRowNode(group,selected===null?false:selected,void 0,source);});return updatedCount;}onRowSelected(event){var rowNode=event.node;if(this.groupSelectsDescendants&&rowNode.group){return;}if(rowNode.isSelected()){this.selectedNodes.set(rowNode.id,rowNode);}else{this.selectedNodes.delete(rowNode.id);}}syncInRowNode(rowNode,oldNode){this.syncInOldRowNode(rowNode,oldNode);this.syncInNewRowNode(rowNode);}createDaemonNode(rowNode){if(!rowNode.id){return void 0;}var oldNode=new RowNode(this.beans);oldNode.id=rowNode.id;oldNode.data=rowNode.data;oldNode.__daemon=true;oldNode.__selected=rowNode.__selected;oldNode.level=rowNode.level;return oldNode;}// if the id has changed for the node, then this means the rowNode\n// is getting used for a different data item, which breaks\n// our selectedNodes, as the node now is mapped by the old id\n// which is inconsistent. so to keep the old node as selected,\n// we swap in the clone (with the old id and old data). this means\n// the oldNode is effectively a daemon we keep a reference to,\n// so if client calls api.getSelectedNodes(), it gets the daemon\n// in the result. when the client un-selects, the reference to the\n// daemon is removed. the daemon, because it's an oldNode, is not\n// used by the grid for rendering, it's a copy of what the node used\n// to be like before the id was changed.\nsyncInOldRowNode(rowNode,oldNode){if(oldNode&&rowNode.id!==oldNode.id){var oldNodeSelected=this.selectedNodes.get(oldNode.id)==rowNode;if(oldNodeSelected){this.selectedNodes.set(oldNode.id,oldNode);}}}syncInNewRowNode(rowNode){if(this.selectedNodes.has(rowNode.id)){rowNode.__selected=true;this.selectedNodes.set(rowNode.id,rowNode);}else{rowNode.__selected=false;}}reset(source){var selectionCount=this.getSelectionCount();this.resetNodes();if(selectionCount){this.dispatchSelectionChanged(source);}}resetNodes(){this.selectedNodes.forEach(node=>{this.selectRowNode(node,false);});this.selectedNodes.clear();}// returns a list of all nodes at 'best cost' - a feature to be used\n// with groups / trees. if a group has all it's children selected,\n// then the group appears in the result, but not the children.\n// Designed for use with 'children' as the group selection type,\n// where groups don't actually appear in the selection normally.\ngetBestCostNodeSelection(){var{gos,rowModel}=this.beans;if(!_isClientSideRowModel(gos,rowModel)){return;}var topLevelNodes=rowModel.getTopLevelNodes();if(topLevelNodes===null){return;}var result=[];function traverse(nodes){for(var i=0,l=nodes.length;i<l;i++){var node=nodes[i];if(node.isSelected()){result.push(node);}else{if(node.group&&node.childrenAfterGroup){traverse(node.childrenAfterGroup);}}}}traverse(topLevelNodes);return result;}isEmpty(){return this.getSelectionCount()===0;}deselectAllRowNodes(_ref250){var{source,selectAll:selectAll2}=_ref250;var rowModelClientSide=_isClientSideRowModel(this.gos);var updatedNodes=false;var callback=rowNode=>{var updated=this.selectRowNode(_normaliseSiblingRef(rowNode),false,void 0,source);updatedNodes||(updatedNodes=updated);};if(selectAll2===\"currentPage\"||selectAll2===\"filtered\"){if(!rowModelClientSide){_error(102);return;}this.getNodesToSelect(selectAll2).forEach(callback);}else{this.selectedNodes.forEach(callback);this.reset(source);}this.selectionCtx.selectAll=false;if(rowModelClientSide&&this.groupSelectsDescendants){var updated=this.updateGroupsFromChildrenSelections(source);updatedNodes||(updatedNodes=updated);}if(updatedNodes){this.dispatchSelectionChanged(source);}}getSelectedCounts(selectAll2){var selectedCount=0;var notSelectedCount=0;this.getNodesToSelect(selectAll2).forEach(node=>{if(this.groupSelectsDescendants&&node.group){return;}if(node.isSelected()){selectedCount++;}else if(node.selectable){notSelectedCount++;}});return{selectedCount,notSelectedCount};}getSelectAllState(selectAll2){var _calculateSelectAllSt;var{selectedCount,notSelectedCount}=this.getSelectedCounts(selectAll2);return(_calculateSelectAllSt=_calculateSelectAllState(selectedCount,notSelectedCount))!==null&&_calculateSelectAllSt!==void 0?_calculateSelectAllSt:null;}hasNodesToSelect(selectAll2){return this.getNodesToSelect(selectAll2).filter(node=>node.selectable).length>0;}/**\n   * @param selectAll See `MultiRowSelectionOptions.selectAll`\n   * @returns all nodes including unselectable nodes which are the target of this selection attempt\n   */getNodesToSelect(selectAll2){if(!this.canSelectAll()){return[];}var nodes=[];var addToResult=node=>nodes.push(node);if(selectAll2===\"currentPage\"){this.forEachNodeOnPage(node=>{if(!node.group){addToResult(node);return;}if(!node.expanded&&!node.footer){var recursivelyAddChildren=child=>{var _child$childrenAfterF;addToResult(child);(_child$childrenAfterF=child.childrenAfterFilter)===null||_child$childrenAfterF===void 0||_child$childrenAfterF.forEach(recursivelyAddChildren);};recursivelyAddChildren(node);return;}if(!this.groupSelectsDescendants){addToResult(node);}});return nodes;}var clientSideRowModel=this.beans.rowModel;if(selectAll2===\"filtered\"){clientSideRowModel.forEachNodeAfterFilter(addToResult);return nodes;}clientSideRowModel.forEachNode(addToResult);return nodes;}forEachNodeOnPage(callback){var{pageBounds,rowModel}=this.beans;var firstRow=pageBounds.getFirstRow();var lastRow=pageBounds.getLastRow();for(var i=firstRow;i<=lastRow;i++){var node=rowModel.getRow(i);if(node){callback(node);}}}selectAllRowNodes(params){var{gos,selectionCtx}=this;if(!_isRowSelection(gos)){_warn(132);return;}if(_isUsingNewRowSelectionAPI(gos)&&!_isMultiRowSelection(gos)){_warn(130);return;}if(!this.canSelectAll()){return;}var{source,selectAll:selectAll2}=params;var updatedNodes=false;this.getNodesToSelect(selectAll2).forEach(rowNode=>{var updated=this.selectRowNode(_normaliseSiblingRef(rowNode),true,void 0,source);updatedNodes||(updatedNodes=updated);});selectionCtx.selectAll=true;if(_isClientSideRowModel(gos)&&this.groupSelectsDescendants){var updated=this.updateGroupsFromChildrenSelections(source);updatedNodes||(updatedNodes=updated);}if(updatedNodes){this.dispatchSelectionChanged(source);}}getSelectionState(){return this.isEmpty()?null:Array.from(this.selectedNodes.keys());}setSelectionState(state,source,clearSelection){if(!state){state=[];}if(!Array.isArray(state)){_error(103);return;}var rowIds=new Set(state);var nodes=[];this.beans.rowModel.forEachNode(node=>{if(rowIds.has(node.id)){nodes.push(node);}});if(clearSelection){this.resetNodes();}this.setNodesSelected({newValue:true,nodes,source});}canSelectAll(){var{gos}=this.beans;if(!_isClientSideRowModel(gos)){return false;}return true;}/**\n   * Updates the selectable state for a node by invoking isRowSelectable callback.\n   * If the node is not selectable, it will be deselected.\n   *\n   * Callers:\n   *  - property isRowSelectable changed\n   *  - after grouping / treeData via `updateSelectableAfterGrouping`\n   */updateSelectable(changedPath){var{gos,rowModel}=this.beans;if(!_isRowSelection(gos)){return;}var source=\"selectableChanged\";var skipLeafNodes=changedPath!==void 0;var isCSRMGroupSelectsDescendants=_isClientSideRowModel(gos)&&this.groupSelectsDescendants;var nodesToDeselect=[];var nodeCallback=node=>{if(skipLeafNodes&&!node.group){return;}if(isCSRMGroupSelectsDescendants&&node.group){var _node$childrenAfterGr2,_node$childrenAfterGr3;var hasSelectableChild=(_node$childrenAfterGr2=(_node$childrenAfterGr3=node.childrenAfterGroup)===null||_node$childrenAfterGr3===void 0?void 0:_node$childrenAfterGr3.some(rowNode=>rowNode.selectable))!==null&&_node$childrenAfterGr2!==void 0?_node$childrenAfterGr2:false;this.setRowSelectable(node,hasSelectableChild,true);return;}var rowSelectable=this.updateRowSelectable(node,true);if(!rowSelectable&&node.isSelected()){nodesToDeselect.push(node);}};if(isCSRMGroupSelectsDescendants){var _changedPath;if(changedPath===void 0){var rootNode=rowModel.rootNode;changedPath=rootNode?new ChangedPath(false,rootNode):void 0;}(_changedPath=changedPath)===null||_changedPath===void 0||_changedPath.forEachChangedNodeDepthFirst(nodeCallback,!skipLeafNodes,!skipLeafNodes);}else{rowModel.forEachNode(nodeCallback);}if(nodesToDeselect.length){this.setNodesSelected({nodes:nodesToDeselect,newValue:false,source});}if(!skipLeafNodes&&isCSRMGroupSelectsDescendants){var _this$updateGroupsFro;(_this$updateGroupsFro=this.updateGroupsFromChildrenSelections)===null||_this$updateGroupsFro===void 0||_this$updateGroupsFro.call(this,source);}}// only called by CSRM\nupdateSelectableAfterGrouping(changedPath){this.updateSelectable(changedPath);if(this.groupSelectsDescendants){var _this$updateGroupsFro2;var selectionChanged=(_this$updateGroupsFro2=this.updateGroupsFromChildrenSelections)===null||_this$updateGroupsFro2===void 0?void 0:_this$updateGroupsFro2.call(this,\"rowGroupChanged\",changedPath);if(selectionChanged){this.dispatchSelectionChanged(\"rowGroupChanged\");}}}refreshMasterNodeState(node,e){var _node$detailNode;if(!this.masterSelectsDetail)return;var detailApi=(_node$detailNode=node.detailNode)===null||_node$detailNode===void 0||(_node$detailNode=_node$detailNode.detailGridInfo)===null||_node$detailNode===void 0?void 0:_node$detailNode.api;if(!detailApi)return;var isSelectAll=_isAllSelected(detailApi);var current=node.isSelected();if(current!==isSelectAll){var selectionChanged=this.selectRowNode(node,isSelectAll,e,\"masterDetail\");if(selectionChanged){this.dispatchSelectionChanged(\"masterDetail\");}}if(!isSelectAll){var _this$detailSelection;var detailSelected=(_this$detailSelection=this.detailSelection.get(node.id))!==null&&_this$detailSelection!==void 0?_this$detailSelection:/* @__PURE__ */new Set();for(var n of detailApi.getSelectedNodes()){detailSelected.add(n.id);}this.detailSelection.set(node.id,detailSelected);}}setDetailSelectionState(masterNode,detailGridOptions,detailApi){if(!this.masterSelectsDetail)return;if(!_isMultiRowSelection(detailGridOptions)){_warn(269);return;}switch(masterNode.isSelected()){case true:{detailApi.selectAll();break;}case false:{detailApi.deselectAll();break;}case void 0:{var selectedIds=this.detailSelection.get(masterNode.id);if(selectedIds){var nodes=[];for(var id of selectedIds){var n=detailApi.getRowNode(id);if(n){nodes.push(n);}}detailApi.setNodesSelected({nodes,newValue:true,source:\"masterDetail\"});}break;}default:break;}}dispatchSelectionChanged(source){this.eventSvc.dispatchEvent({type:\"selectionChanged\",source,selectedNodes:this.getSelectedNodes(),serverSideState:null});}};function _normaliseSiblingRef(node){return _isManualPinnedRow(node)?node.pinnedSibling:node.footer?node.sibling:node;}function _isAllSelected(api){var selectedCount=0;var notSelectedCount=0;api.forEachNode(node=>{if(node.isSelected()){selectedCount++;}else if(node.selectable){notSelectedCount++;}});return _calculateSelectAllState(selectedCount,notSelectedCount);}function _calculateSelectAllState(selected,notSelected){if(selected===0&&notSelected===0){return false;}if(selected>0&&notSelected>0){return;}return selected>0;}function isDescendantOf(root,child){var parent=child.parent;while(parent){if(parent===root)return true;parent=parent.parent;}return false;}// packages/ag-grid-community/src/selection/rowSelectionModule.ts\nvar SharedRowSelectionModule={moduleName:\"SharedRowSelection\",version:VERSION,beans:[SelectionColService],apiFunctions:{setNodesSelected,selectAll,deselectAll,selectAllFiltered,deselectAllFiltered,selectAllOnCurrentPage,deselectAllOnCurrentPage,getSelectedNodes,getSelectedRows}};var RowSelectionModule={moduleName:\"RowSelection\",version:VERSION,rowModels:[\"clientSide\",\"infinite\",\"viewport\"],beans:[SelectionService],dependsOn:[SharedRowSelectionModule]};// packages/ag-grid-community/src/api/csrmSsrmSharedApi.ts\nfunction expandAll(beans){var _beans$expansionSvc2;(_beans$expansionSvc2=beans.expansionSvc)===null||_beans$expansionSvc2===void 0||_beans$expansionSvc2.expandAll(true);}function collapseAll(beans){var _beans$expansionSvc3;(_beans$expansionSvc3=beans.expansionSvc)===null||_beans$expansionSvc3===void 0||_beans$expansionSvc3.expandAll(false);}function onRowHeightChanged(beans){var clientSideRowModel=_getClientSideRowModel(beans);var serverSideRowModel=_getServerSideRowModel(beans);if(clientSideRowModel){clientSideRowModel.onRowHeightChanged();}else if(serverSideRowModel){serverSideRowModel.onRowHeightChanged();}}// packages/ag-grid-community/src/api/ssrmInfiniteSharedApi.ts\nfunction setRowCount(beans,rowCount,maxRowFound){var serverSideRowModel=_getServerSideRowModel(beans);if(serverSideRowModel){var _beans$rowGroupColsSv;if(((_beans$rowGroupColsSv=beans.rowGroupColsSvc)===null||_beans$rowGroupColsSv===void 0?void 0:_beans$rowGroupColsSv.columns.length)===0){if(rowCount<0){_error(238);return;}serverSideRowModel.setRowCount(rowCount,maxRowFound);return;}_error(28);return;}var infiniteRowModel=_getInfiniteRowModel(beans);if(infiniteRowModel){infiniteRowModel.setRowCount(rowCount,maxRowFound);return;}}function getCacheBlockState(beans){var _beans$rowNodeBlockLo,_beans$rowNodeBlockLo2;if(_isServerSideRowModel(beans.gos)){var ssrm=beans.rowModel;return ssrm.getBlockStates();}return(_beans$rowNodeBlockLo=(_beans$rowNodeBlockLo2=beans.rowNodeBlockLoader)===null||_beans$rowNodeBlockLo2===void 0?void 0:_beans$rowNodeBlockLo2.getBlockState())!==null&&_beans$rowNodeBlockLo!==void 0?_beans$rowNodeBlockLo:{};}function isLastRowIndexKnown(beans){return beans.rowModel.isLastRowIndexKnown();}// packages/ag-grid-community/src/api/sharedApiModule.ts\nvar CsrmSsrmSharedApiModule={moduleName:\"CsrmSsrmSharedApi\",version:VERSION,apiFunctions:{expandAll,collapseAll,onRowHeightChanged}};var SsrmInfiniteSharedApiModule={moduleName:\"SsrmInfiniteSharedApi\",version:VERSION,apiFunctions:{setRowCount,getCacheBlockState,isLastRowIndexKnown}};// packages/ag-grid-community/src/alignedGrids/alignedGridsService.ts\nvar AlignedGridsService=class extends BeanStub{constructor(){super(...arguments);this.beanName=\"alignedGridsSvc\";// flag to mark if we are consuming. to avoid cyclic events (ie other grid firing back to master\n// while processing a master event) we mark this if consuming an event, and if we are, then\n// we don't fire back any events.\nthis.consuming=false;}getAlignedGridApis(){var _this$gos$get5;var alignedGrids=(_this$gos$get5=this.gos.get(\"alignedGrids\"))!==null&&_this$gos$get5!==void 0?_this$gos$get5:[];var isCallbackConfig=typeof alignedGrids===\"function\";if(typeof alignedGrids===\"function\"){alignedGrids=alignedGrids();}var apis=alignedGrids.map(alignedGrid=>{if(!alignedGrid){_error(18);if(!isCallbackConfig){_error(20);}return;}if(this.isGridApi(alignedGrid)){return alignedGrid;}var refOrComp=alignedGrid;if(\"current\"in refOrComp){var _refOrComp$current;return(_refOrComp$current=refOrComp.current)===null||_refOrComp$current===void 0?void 0:_refOrComp$current.api;}if(!refOrComp.api){_error(19);}return refOrComp.api;}).filter(api=>!!api&&!api.isDestroyed());return apis;}isGridApi(ref){return!!ref&&!!ref.dispatchEvent;}postConstruct(){var fireColumnEvent=this.fireColumnEvent.bind(this);this.addManagedEventListeners({columnMoved:fireColumnEvent,columnVisible:fireColumnEvent,columnPinned:fireColumnEvent,columnGroupOpened:fireColumnEvent,columnResized:fireColumnEvent,bodyScroll:this.fireScrollEvent.bind(this),alignedGridColumn:_ref251=>{var{event}=_ref251;return this.onColumnEvent(event);},alignedGridScroll:_ref252=>{var{event}=_ref252;return this.onScrollEvent(event);}});}// common logic across all the fire methods\nfireEvent(event){if(this.consuming){return;}this.getAlignedGridApis().forEach(api=>{if(api.isDestroyed()){return;}api.dispatchEvent(event);});}// common logic across all consume methods. very little common logic, however extracting\n// guarantees consistency across the methods.\nonEvent(callback){this.consuming=true;callback();this.consuming=false;}fireColumnEvent(columnEvent){this.fireEvent({type:\"alignedGridColumn\",event:columnEvent});}fireScrollEvent(scrollEvent){if(scrollEvent.direction!==\"horizontal\"){return;}this.fireEvent({type:\"alignedGridScroll\",event:scrollEvent});}onScrollEvent(event){this.onEvent(()=>{this.beans.ctrlsSvc.getScrollFeature().setHorizontalScrollPosition(event.left,true);});}extractDataFromEvent(event,func){var result=[];if(event.columns){event.columns.forEach(column=>{result.push(func(column));});}else if(event.column){result.push(func(event.column));}return result;}getMasterColumns(event){return this.extractDataFromEvent(event,col=>col);}getColumnIds(event){return this.extractDataFromEvent(event,col=>col.getColId());}onColumnEvent(event){this.onEvent(()=>{switch(event.type){case\"columnMoved\":case\"columnVisible\":case\"columnPinned\":case\"columnResized\":{this.processColumnEvent(event);break;}case\"columnGroupOpened\":{this.processGroupOpenedEvent(event);break;}case\"columnPivotChanged\":_warn(21);break;}});}processGroupOpenedEvent(groupOpenedEvent){var{colGroupSvc}=this.beans;if(!colGroupSvc){return;}groupOpenedEvent.columnGroups.forEach(masterGroup=>{var otherColumnGroup=null;if(masterGroup){otherColumnGroup=colGroupSvc.getProvidedColGroup(masterGroup.getGroupId());}if(masterGroup&&!otherColumnGroup){return;}colGroupSvc.setColumnGroupOpened(otherColumnGroup,masterGroup.isExpanded(),\"alignedGridChanged\");});}processColumnEvent(colEvent){var masterColumn=colEvent.column;var otherColumn=null;var beans=this.beans;var{colResize,ctrlsSvc,colModel}=beans;if(masterColumn){otherColumn=colModel.getColDefCol(masterColumn.getColId());}if(masterColumn&&!otherColumn){return;}var masterColumns=this.getMasterColumns(colEvent);switch(colEvent.type){case\"columnMoved\":{var srcColState=colEvent.api.getColumnState();var destColState=srcColState.map(s=>({colId:s.colId}));_applyColumnState(beans,{state:destColState,applyOrder:true},\"alignedGridChanged\");}break;case\"columnVisible\":{var _srcColState=colEvent.api.getColumnState();var _destColState=_srcColState.map(s=>({colId:s.colId,hide:s.hide}));_applyColumnState(beans,{state:_destColState},\"alignedGridChanged\");}break;case\"columnPinned\":{var _srcColState2=colEvent.api.getColumnState();var _destColState2=_srcColState2.map(s=>({colId:s.colId,pinned:s.pinned}));_applyColumnState(beans,{state:_destColState2},\"alignedGridChanged\");}break;case\"columnResized\":{var _resizedEvent$flexCol;var resizedEvent=colEvent;var columnWidths={};masterColumns.forEach(column=>{columnWidths[column.getId()]={key:column.getColId(),newWidth:column.getActualWidth()};});(_resizedEvent$flexCol=resizedEvent.flexColumns)===null||_resizedEvent$flexCol===void 0||_resizedEvent$flexCol.forEach(col=>{if(columnWidths[col.getId()]){delete columnWidths[col.getId()];}});colResize===null||colResize===void 0||colResize.setColumnWidths(Object.values(columnWidths),false,resizedEvent.finished,\"alignedGridChanged\");break;}}var gridBodyCon=ctrlsSvc.getGridBodyCtrl();var isVerticalScrollShowing=gridBodyCon.isVerticalScrollShowing();this.getAlignedGridApis().forEach(api=>{api.setGridOption(\"alwaysShowVerticalScroll\",isVerticalScrollShowing);});}};// packages/ag-grid-community/src/alignedGrids/alignedGridsModule.ts\nvar AlignedGridsModule={moduleName:\"AlignedGrids\",version:VERSION,beans:[AlignedGridsService]};// packages/ag-grid-community/src/clientSideRowModel/clientSideNodeManager.ts\nvar ClientSideNodeManager=class extends AbstractClientSideNodeManager{constructor(){super(...arguments);this.beanName=\"csrmNodeSvc\";}};// packages/ag-grid-community/src/clientSideRowModel/changedRowNodes.ts\nvar ChangedRowNodes=class{constructor(){this.removals=/* @__PURE__ */new Set();this.updates=/* @__PURE__ */new Set();this.adds=/* @__PURE__ */new Set();}/** Marks a row as removed. Order of operations is: remove, update, add */remove(node){if(!this.adds.delete(node)){this.updates.delete(node);this.removals.add(node);}}/** Marks a row as updated. Order of operations is: remove, update, add */update(node){if(!this.adds.has(node)){this.updates.add(node);}}/** Marks a row as added. Order of operation is: remove, update, add */add(node){this.adds.add(node);}};// packages/ag-grid-community/src/clientSideRowModel/sortStage.ts\nfunction updateChildIndexes(rowNode){if(_missing(rowNode.childrenAfterSort)){return;}var listToSort=rowNode.childrenAfterSort;for(var i=0;i<listToSort.length;i++){var child=listToSort[i];var firstChild=i===0;var lastChild=i===rowNode.childrenAfterSort.length-1;child.setFirstChild(firstChild);if(child.lastChild!==lastChild){child.lastChild=lastChild;child.dispatchRowEvent(\"lastChildChanged\");}if(child.childIndex!==i){child.childIndex=i;child.dispatchRowEvent(\"childIndexChanged\");}}}function updateRowNodeAfterSort(rowNode){if(rowNode.sibling){rowNode.sibling.childrenAfterSort=rowNode.childrenAfterSort;}updateChildIndexes(rowNode);}var SortStage=class extends BeanStub{constructor(){super(...arguments);this.beanName=\"sortStage\";this.refreshProps=/* @__PURE__ */new Set([\"postSortRows\",\"groupDisplayType\",\"accentedSort\"]);this.step=\"sort\";}execute(params){var beans=this.beans;var sortOptions=beans.sortSvc.getSortOptions();var sortActive=_exists(sortOptions)&&sortOptions.length>0;var deltaSort=sortActive&&!!params.changedRowNodes&&// in time we can remove this check, so that delta sort is always\n// on if transactions are present. it's off for now so that we can\n// selectively turn it on and test it with some select users before\n// rolling out to everyone.\nthis.gos.get(\"deltaSort\");var sortContainsGroupColumns=sortOptions.some(_ref253=>{var{column}=_ref253;var isSortingCoupled=_isColumnsSortingCoupledToGroup(beans.gos);if(isSortingCoupled){return column.isPrimary()&&column.isRowGroupActive();}return!!column.getColDef().showRowGroup;});this.sort(beans,sortOptions,sortActive,deltaSort,params.changedRowNodes,params.changedPath,sortContainsGroupColumns);}sort(beans,sortOptions,sortActive,useDeltaSort,changedRowNodes,changedPath,sortContainsGroupColumns){var{gos,colModel,rowGroupColsSvc,rowNodeSorter,rowRenderer,showRowGroupCols}=beans;var groupMaintainOrder=gos.get(\"groupMaintainOrder\");var groupColumnsPresent=colModel.getCols().some(c=>c.isRowGroupActive());var isPivotMode=colModel.isPivotMode();var postSortFunc=gos.getCallback(\"postSortRows\");var hasAnyFirstChildChanged=false;var callback=rowNode=>{var _rowNode$childrenAfte2;var skipSortingPivotLeafs=isPivotMode&&rowNode.leafGroup;var skipSortingGroups=groupMaintainOrder&&groupColumnsPresent&&!rowNode.leafGroup&&!sortContainsGroupColumns;var newChildrenAfterSort;if(skipSortingGroups){var _rowGroupColsSvc$colu6;var nextGroup=rowGroupColsSvc===null||rowGroupColsSvc===void 0||(_rowGroupColsSvc$colu6=rowGroupColsSvc.columns)===null||_rowGroupColsSvc$colu6===void 0?void 0:_rowGroupColsSvc$colu6[rowNode.level+1];var wasSortExplicitlyRemoved=(nextGroup===null||nextGroup===void 0?void 0:nextGroup.getSort())===null;var childrenToBeSorted=rowNode.childrenAfterAggFilter.slice(0);if(rowNode.childrenAfterSort&&!wasSortExplicitlyRemoved){var indexedOrders={};rowNode.childrenAfterSort.forEach((node,idx)=>{indexedOrders[node.id]=idx;});childrenToBeSorted.sort((row1,row2)=>{var _indexedOrders$row1$i,_indexedOrders$row2$i;return((_indexedOrders$row1$i=indexedOrders[row1.id])!==null&&_indexedOrders$row1$i!==void 0?_indexedOrders$row1$i:0)-((_indexedOrders$row2$i=indexedOrders[row2.id])!==null&&_indexedOrders$row2$i!==void 0?_indexedOrders$row2$i:0);});}newChildrenAfterSort=childrenToBeSorted;}else if(!sortActive||skipSortingPivotLeafs){newChildrenAfterSort=rowNode.childrenAfterAggFilter.slice(0);}else if(useDeltaSort&&changedRowNodes){newChildrenAfterSort=doDeltaSort(rowNodeSorter,rowNode,changedRowNodes,changedPath,sortOptions);}else{newChildrenAfterSort=rowNodeSorter.doFullSort(rowNode.childrenAfterAggFilter,sortOptions);}hasAnyFirstChildChanged||(hasAnyFirstChildChanged=((_rowNode$childrenAfte2=rowNode.childrenAfterSort)===null||_rowNode$childrenAfte2===void 0?void 0:_rowNode$childrenAfte2[0])!==newChildrenAfterSort[0]);rowNode.childrenAfterSort=newChildrenAfterSort;updateRowNodeAfterSort(rowNode);if(postSortFunc){var params={nodes:rowNode.childrenAfterSort};postSortFunc(params);}};changedPath===null||changedPath===void 0||changedPath.forEachChangedNodeDepthFirst(callback);if(hasAnyFirstChildChanged&&this.gos.get(\"groupHideOpenParents\")){var columns=showRowGroupCols===null||showRowGroupCols===void 0?void 0:showRowGroupCols.getShowRowGroupCols();if(columns!==null&&columns!==void 0&&columns.length){rowRenderer.refreshCells({columns,force:true});}}}};function doDeltaSort(rowNodeSorter,rowNode,changedRowNodes,changedPath,sortOptions){var unsortedRows=rowNode.childrenAfterAggFilter;var oldSortedRows=rowNode.childrenAfterSort;if(!oldSortedRows){return rowNodeSorter.doFullSort(unsortedRows,sortOptions);}var untouchedRows=/* @__PURE__ */new Set();var touchedRows=[];var{updates,adds}=changedRowNodes;for(var i=0,len=unsortedRows.length;i<len;++i){var row=unsortedRows[i];if(updates.has(row)||adds.has(row)||changedPath&&!changedPath.canSkip(row)){touchedRows.push({currentPos:touchedRows.length,rowNode:row});}else{untouchedRows.add(row.id);}}var sortedUntouchedRows=oldSortedRows.filter(child=>untouchedRows.has(child.id)).map((rowNode2,currentPos)=>({currentPos,rowNode:rowNode2}));touchedRows.sort((a,b)=>rowNodeSorter.compareRowNodes(sortOptions,a,b));return mergeSortedArrays(rowNodeSorter,sortOptions,touchedRows,sortedUntouchedRows);}function mergeSortedArrays(rowNodeSorter,sortOptions,arr1,arr2){var res=[];var i=0;var j=0;var arr1Length=arr1.length;var arr2Length=arr2.length;while(i<arr1Length&&j<arr2Length){var a=arr1[i];var b=arr2[j];var compareResult=rowNodeSorter.compareRowNodes(sortOptions,a,b);var chosen=void 0;if(compareResult<0){chosen=a;++i;}else{chosen=b;++j;}res.push(chosen.rowNode);}while(i<arr1Length){res.push(arr1[i++].rowNode);}while(j<arr2Length){res.push(arr2[j++].rowNode);}return res;}// packages/ag-grid-community/src/clientSideRowModel/clientSideRowModel.ts\nvar ClientSideRowModel=class extends BeanStub{constructor(){super(...arguments);this.beanName=\"rowModel\";// top most node of the tree. the children are the user provided data.\nthis.rootNode=null;this.rowsToDisplay=[];this.lastHighlightedRow=null;/** Has the start method been called */this.started=false;/**\n     * This is to prevent refresh model being called when it's already being called.\n     * E.g. the group stage can trigger initial state filter model to be applied. This fires onFilterChanged,\n     * which then triggers the listener here that calls refresh model again but at the filter stage\n     * (which is about to be run by the original call).\n     */this.isRefreshingModel=false;this.rowNodesCountReady=false;this.rowCountReady=false;this.onRowHeightChanged_debounced=_debounce(this,this.onRowHeightChanged.bind(this),100);}wireBeans(beans){this.colModel=beans.colModel;this.valueCache=beans.valueCache;this.filterStage=beans.filterStage;this.sortStage=beans.sortStage;this.flattenStage=beans.flattenStage;this.groupStage=beans.groupStage;this.aggStage=beans.aggStage;this.pivotStage=beans.pivotStage;this.filterAggStage=beans.filterAggStage;}postConstruct(){this.orderedStages=[this.groupStage,this.filterStage,this.pivotStage,this.aggStage,this.sortStage,this.filterAggStage,this.flattenStage].filter(stage=>!!stage);var refreshEverythingFunc=this.refreshModel.bind(this,{step:\"group\"});var refreshEverythingAfterColsChangedFunc=this.refreshModel.bind(this,{step:\"group\",// after cols change, row grouping (the first stage) could of changed\nafterColumnsChanged:true,keepRenderedRows:true,// we want animations cos sorting or filtering could be applied\nanimate:!this.gos.get(\"suppressAnimationFrame\")});this.addManagedEventListeners({newColumnsLoaded:refreshEverythingAfterColsChangedFunc,columnRowGroupChanged:refreshEverythingFunc,columnValueChanged:this.onValueChanged.bind(this),columnPivotChanged:this.refreshModel.bind(this,{step:\"pivot\"}),filterChanged:this.onFilterChanged.bind(this),sortChanged:this.onSortChanged.bind(this),columnPivotModeChanged:refreshEverythingFunc,gridStylesChanged:this.onGridStylesChanges.bind(this),gridReady:this.onGridReady.bind(this)});this.addPropertyListeners();this.rootNode=new RowNode(this.beans);var nodeManager=this.getNewNodeManager();this.nodeManager=nodeManager;nodeManager.activate(this.rootNode);}getNewNodeManager(){var{gos,beans}=this;return _getGroupingApproach(gos)===\"treeNested\"&&beans.csrmChildrenTreeNodeSvc||beans.csrmNodeSvc;}addPropertyListeners(){var allProps=[\"treeData\",\"treeDataChildrenField\",...this.orderedStages.flatMap(_ref254=>{var{refreshProps}=_ref254;return[...refreshProps];})];this.addManagedPropertyListeners(allProps,params=>{var _params$changeSet;var properties=(_params$changeSet=params.changeSet)===null||_params$changeSet===void 0?void 0:_params$changeSet.properties;if(properties){this.onPropChange(properties);}});this.addManagedPropertyListener(\"rowData\",()=>this.onPropChange([\"rowData\"]));this.addManagedPropertyListener(\"rowHeight\",()=>this.resetRowHeights());}start(){this.started=true;if(this.rowNodesCountReady){this.refreshModel({step:\"group\",rowDataUpdated:true,newData:true});}else{this.setInitialData();}}setInitialData(){var rowData=this.gos.get(\"rowData\");if(rowData){this.onPropChange([\"rowData\"]);}}ensureRowHeightsValid(startPixel,endPixel,startLimitIndex,endLimitIndex){var atLeastOneChange;var res=false;do{atLeastOneChange=false;var rowAtStartPixel=this.getRowIndexAtPixel(startPixel);var rowAtEndPixel=this.getRowIndexAtPixel(endPixel);var firstRow=Math.max(rowAtStartPixel,startLimitIndex);var lastRow=Math.min(rowAtEndPixel,endLimitIndex);for(var rowIndex=firstRow;rowIndex<=lastRow;rowIndex++){var rowNode=this.getRow(rowIndex);if(rowNode.rowHeightEstimated){var rowHeight=_getRowHeightForNode(this.beans,rowNode);rowNode.setRowHeight(rowHeight.height);atLeastOneChange=true;res=true;}}if(atLeastOneChange){this.setRowTopAndRowIndex();}}while(atLeastOneChange);return res;}onPropChange(properties){if(!this.rootNode){return;}var gos=this.gos;var changedProps=new Set(properties);var params={step:\"nothing\",changedProps};var rowDataChanged=changedProps.has(\"rowData\");var oldNodeManager=this.nodeManager;var nodeManager=this.getNewNodeManager();var reset=oldNodeManager!==nodeManager||rowDataChanged&&changedProps.has(\"treeData\")&&gos.get(\"treeData\")||changedProps.has(\"treeDataChildrenField\")&&gos.get(\"treeData\");var newRowData;if(reset||rowDataChanged){newRowData=gos.get(\"rowData\");if(newRowData!=null&&!Array.isArray(newRowData)){newRowData=null;_warn(1);}}if(reset){if(!rowDataChanged){var _oldNodeManager$extra;newRowData=(_oldNodeManager$extra=oldNodeManager===null||oldNodeManager===void 0?void 0:oldNodeManager.extractRowData())!==null&&_oldNodeManager$extra!==void 0?_oldNodeManager$extra:newRowData;}if(oldNodeManager!==nodeManager){oldNodeManager===null||oldNodeManager===void 0||oldNodeManager.deactivate();this.nodeManager=nodeManager;}nodeManager.activate(this.rootNode);}if(newRowData){var immutable=!reset&&!this.isEmpty()&&newRowData.length>0&&gos.exists(\"getRowId\")&&// this property is a backwards compatibility property, for those who want\n// the old behaviour of Row IDs but NOT Immutable Data.\n!gos.get(\"resetRowDataOnUpdate\");if(immutable){params.keepRenderedRows=true;params.animate=!this.gos.get(\"suppressAnimationFrame\");params.changedRowNodes=new ChangedRowNodes();nodeManager.setImmutableRowData(params,newRowData);}else{params.rowDataUpdated=true;params.newData=true;var{selectionSvc,pinnedRowModel}=this.beans;selectionSvc===null||selectionSvc===void 0||selectionSvc.reset(\"rowDataChanged\");if(pinnedRowModel!==null&&pinnedRowModel!==void 0&&pinnedRowModel.isManual()){pinnedRowModel.reset();}this.rowNodesCountReady=true;nodeManager.setNewRowData(newRowData);}}if(params.rowDataUpdated){params.step=\"group\";}else if(params.step===\"nothing\"){var _loop1=function _loop1(refreshProps){if(properties.some(prop=>refreshProps.has(prop))){params.step=step;return 1;// break\n}};for(var{refreshProps,step}of this.orderedStages){if(_loop1(refreshProps))break;}}if(params.step!==\"nothing\"){this.refreshModel(params);}}setRowTopAndRowIndex(){var{beans,rowsToDisplay}=this;var defaultRowHeight=beans.environment.getDefaultRowHeight();var nextRowTop=0;var displayedRowsMapped=/* @__PURE__ */new Set();var allowEstimate=_isDomLayout(this.gos,\"normal\");for(var i=0,len=rowsToDisplay.length;i<len;++i){var rowNode=rowsToDisplay[i];if(rowNode.id!=null){displayedRowsMapped.add(rowNode.id);}if(rowNode.rowHeight==null){var rowHeight=_getRowHeightForNode(beans,rowNode,allowEstimate,defaultRowHeight);rowNode.setRowHeight(rowHeight.height,rowHeight.estimated);}rowNode.setRowTop(nextRowTop);rowNode.setRowIndex(i);nextRowTop+=rowNode.rowHeight;}return displayedRowsMapped;}clearRowTopAndRowIndex(changedPath,displayedRowsMapped){var changedPathActive=changedPath.active;var clearIfNotDisplayed=rowNode=>{if(rowNode&&rowNode.id!=null&&!displayedRowsMapped.has(rowNode.id)){rowNode.clearRowTopAndRowIndex();}};var recurse=rowNode=>{if(rowNode===null){return;}clearIfNotDisplayed(rowNode);clearIfNotDisplayed(rowNode.detailNode);clearIfNotDisplayed(rowNode.sibling);if(rowNode.hasChildren()){if(rowNode.childrenAfterGroup){var isRootNode=rowNode.level==-1;var skipChildren=changedPathActive&&!isRootNode&&!rowNode.expanded;if(!skipChildren){rowNode.childrenAfterGroup.forEach(recurse);}}}};recurse(this.rootNode);}isLastRowIndexKnown(){return true;}getRowCount(){if(this.rowsToDisplay){return this.rowsToDisplay.length;}return 0;}/**\n   * Returns the number of rows with level === 1\n   */getTopLevelRowCount(){var rootNode=this.rootNode;if(!rootNode){return 0;}if(this.rowsToDisplay.length===0){return 0;}var showingRootNode=this.rowsToDisplay&&this.rowsToDisplay[0]===rootNode;if(showingRootNode){return 1;}var filteredChildren=rootNode.childrenAfterSort;var totalFooterInc=rootNode.sibling?1:0;return(filteredChildren?filteredChildren.length:0)+totalFooterInc;}/**\n   * Get the row display index by the top level index\n   * top level index is the index of rows with level === 1\n   */getTopLevelRowDisplayedIndex(topLevelIndex){var{rootNode,rowsToDisplay}=this;var showingRootNode=!rootNode||!rowsToDisplay.length||rowsToDisplay[0]===rootNode;if(showingRootNode){return topLevelIndex;}var{childrenAfterSort}=rootNode;var getDefaultIndex=adjustedIndex=>{var rowNode=childrenAfterSort[adjustedIndex];if(this.gos.get(\"groupHideOpenParents\")){while(rowNode.expanded&&rowNode.childrenAfterSort&&rowNode.childrenAfterSort.length>0){rowNode=rowNode.childrenAfterSort[0];}}return rowNode.rowIndex;};var{footerSvc}=this.beans;if(footerSvc){return footerSvc.getTopDisplayIndex(rowsToDisplay,topLevelIndex,childrenAfterSort,getDefaultIndex);}else{return getDefaultIndex(topLevelIndex);}}/**\n   * The opposite of `getTopLevelRowDisplayedIndex`\n   */getTopLevelIndexFromDisplayedIndex(displayedIndex){var _rootNode$childrenAft;var{rootNode,rowsToDisplay}=this;var showingRootNode=!rootNode||!rowsToDisplay.length||rowsToDisplay[0]===rootNode;if(showingRootNode){return displayedIndex;}var node=this.getRow(displayedIndex);if(node.footer){node=node.sibling;}while(node.parent&&node.parent!==rootNode){node=node.parent;}var topLevelIndex=(_rootNode$childrenAft=rootNode.childrenAfterSort)===null||_rootNode$childrenAft===void 0?void 0:_rootNode$childrenAft.findIndex(childNode=>childNode===node);return topLevelIndex===-1?displayedIndex:topLevelIndex!==null&&topLevelIndex!==void 0?topLevelIndex:displayedIndex;}getRowBounds(index){var rowNode=this.rowsToDisplay[index];if(rowNode){return{rowTop:rowNode.rowTop,rowHeight:rowNode.rowHeight};}return null;}onRowGroupOpened(){var animate=_isAnimateRows(this.gos);this.refreshModel({step:\"map\",keepRenderedRows:true,animate});}onFilterChanged(event){if(event.afterDataChange){return;}var animate=_isAnimateRows(this.gos);var primaryOrQuickFilterChanged=event.columns.length===0||event.columns.some(col=>col.isPrimary());var step=primaryOrQuickFilterChanged?\"filter\":\"filter_aggregates\";this.refreshModel({step,keepRenderedRows:true,animate});}onSortChanged(){var animate=_isAnimateRows(this.gos);this.refreshModel({step:\"sort\",keepRenderedRows:true,animate});}getType(){return\"clientSide\";}onValueChanged(){this.refreshModel({step:this.colModel.isPivotActive()?\"pivot\":\"aggregate\"});}createChangePath(enabled){var changedPath=new ChangedPath(false,this.rootNode);if(!enabled){changedPath.active=false;}return changedPath;}isSuppressModelUpdateAfterUpdateTransaction(params){if(!this.gos.get(\"suppressModelUpdateAfterUpdateTransaction\")){return false;}var{changedRowNodes,newData,rowDataUpdated}=params;if(!changedRowNodes||newData||!rowDataUpdated){return false;}if(changedRowNodes.removals.size||changedRowNodes.adds.size){return false;}return true;}beforeRefreshModel(params){var groupsChanged=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;this.eventSvc.dispatchEvent({type:\"beforeRefreshModel\",params,groupsChanged});if(this.started&&params.rowDataUpdated){this.eventSvc.dispatchEvent({type:\"rowDataUpdated\"});}}refreshModel(params){var _params$changedPath;if(!this.rootNode){return;}var changedPath=(_params$changedPath=params.changedPath)!==null&&_params$changedPath!==void 0?_params$changedPath:params.changedPath=this.createChangePath(!params.newData&&!!params.rowDataUpdated);if(!this.started||this.isRefreshingModel||this.colModel.changeEventsDispatching||this.isSuppressModelUpdateAfterUpdateTransaction(params)){this.beforeRefreshModel(params);return;}this.isRefreshingModel=true;if(params.step!==\"group\"){this.beforeRefreshModel(params);}switch(params.step){case\"group\":{var groupingChanged=this.doRowGrouping(params);this.beforeRefreshModel(params,groupingChanged);if(params.step===\"group\"&&this.rowNodesCountReady){this.rowCountReady=true;this.eventSvc.dispatchEventOnce({type:\"rowCountReady\"});}}case\"filter\":this.doFilter(changedPath);case\"pivot\":this.doPivot(changedPath);case\"aggregate\":this.doAggregate(changedPath);case\"filter_aggregates\":this.doFilterAggregates(changedPath);case\"sort\":this.doSort(params.changedRowNodes,changedPath);case\"map\":this.doRowsToDisplay();}var displayedNodesMapped=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(changedPath,displayedNodesMapped);this.isRefreshingModel=false;this.eventSvc.dispatchEvent({type:\"modelUpdated\",animate:params.animate,keepRenderedRows:params.keepRenderedRows,newData:params.newData,newPage:false,keepUndoRedoStack:params.keepUndoRedoStack});}isEmpty(){var _this$rootNode3,_this$colModel;return!((_this$rootNode3=this.rootNode)!==null&&_this$rootNode3!==void 0&&(_this$rootNode3=_this$rootNode3.allLeafChildren)!==null&&_this$rootNode3!==void 0&&_this$rootNode3.length)||!((_this$colModel=this.colModel)!==null&&_this$colModel!==void 0&&_this$colModel.ready);}isRowsToRender(){return this.rowsToDisplay.length>0;}getNodesInRangeForSelection(firstInRange,lastInRange){var started=false;var finished=false;var result=[];var groupsSelectChildren=_getGroupSelectsDescendants(this.gos);this.forEachNodeAfterFilterAndSort(rowNode=>{if(finished){return;}if(started){if(rowNode===lastInRange||rowNode===firstInRange){finished=true;if(rowNode.group&&groupsSelectChildren){result.push(...rowNode.allLeafChildren);return;}}}if(!started){if(rowNode!==lastInRange&&rowNode!==firstInRange){return;}started=true;}var includeThisNode=!rowNode.group||!groupsSelectChildren;if(includeThisNode){result.push(rowNode);return;}});return result;}getTopLevelNodes(){var _this$rootNode$childr,_this$rootNode4;return(_this$rootNode$childr=(_this$rootNode4=this.rootNode)===null||_this$rootNode4===void 0?void 0:_this$rootNode4.childrenAfterGroup)!==null&&_this$rootNode$childr!==void 0?_this$rootNode$childr:null;}getRow(index){return this.rowsToDisplay[index];}isRowPresent(rowNode){return this.rowsToDisplay.indexOf(rowNode)>=0;}getRowIndexAtPixel(pixelToMatch){var rowsToDisplay=this.rowsToDisplay;if(this.isEmpty()||rowsToDisplay.length===0){return-1;}var bottomPointer=0;var topPointer=rowsToDisplay.length-1;if(pixelToMatch<=0){return 0;}var lastNode=_last(rowsToDisplay);if(lastNode.rowTop<=pixelToMatch){return rowsToDisplay.length-1;}var oldBottomPointer=-1;var oldTopPointer=-1;while(true){var midPointer=Math.floor((bottomPointer+topPointer)/2);var currentRowNode=rowsToDisplay[midPointer];if(this.isRowInPixel(currentRowNode,pixelToMatch)){return midPointer;}if(currentRowNode.rowTop<pixelToMatch){bottomPointer=midPointer+1;}else if(currentRowNode.rowTop>pixelToMatch){topPointer=midPointer-1;}var caughtInInfiniteLoop=oldBottomPointer===bottomPointer&&oldTopPointer===topPointer;if(caughtInInfiniteLoop){return midPointer;}oldBottomPointer=bottomPointer;oldTopPointer=topPointer;}}isRowInPixel(rowNode,pixelToMatch){var topPixel=rowNode.rowTop;var bottomPixel=rowNode.rowTop+rowNode.rowHeight;var pixelInRow=topPixel<=pixelToMatch&&bottomPixel>pixelToMatch;return pixelInRow;}forEachLeafNode(callback){var _this$rootNode5;(_this$rootNode5=this.rootNode)===null||_this$rootNode5===void 0||(_this$rootNode5=_this$rootNode5.allLeafChildren)===null||_this$rootNode5===void 0||_this$rootNode5.forEach((rowNode,index)=>callback(rowNode,index));}forEachNode(callback){var includeFooterNodes=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;this.depthFirstSearchRowNodes(callback,includeFooterNodes);}forEachDisplayedNode(callback){this.rowsToDisplay.forEach(callback);}forEachNodeAfterFilter(callback){var includeFooterNodes=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;this.depthFirstSearchRowNodes(callback,includeFooterNodes,node=>node.childrenAfterAggFilter);}forEachNodeAfterFilterAndSort(callback){var includeFooterNodes=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;this.depthFirstSearchRowNodes(callback,includeFooterNodes,node=>node.childrenAfterSort);}forEachPivotNode(callback){var includeFooterNodes=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var afterSort=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var{colModel,rowGroupColsSvc}=this.beans;if(!colModel.isPivotMode()){return;}if(!(rowGroupColsSvc!==null&&rowGroupColsSvc!==void 0&&rowGroupColsSvc.columns.length)){callback(this.rootNode,0);return;}var childrenField=afterSort?\"childrenAfterSort\":\"childrenAfterGroup\";this.depthFirstSearchRowNodes(callback,includeFooterNodes,node=>!node.leafGroup?node[childrenField]:null);}/**\n   * Iterate through each node and all of its children\n   * @param callback the function to execute for each node\n   * @param includeFooterNodes whether to also iterate over footer nodes\n   * @param nodes the nodes to start iterating over\n   * @param getChildren a function to determine the recursion strategy\n   * @param startIndex the index to start from\n   * @returns the index ended at\n   */depthFirstSearchRowNodes(callback){var includeFooterNodes=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var getChildren=arguments.length>2&&arguments[2]!==undefined?arguments[2]:node2=>node2.childrenAfterGroup;var node=arguments.length>3&&arguments[3]!==undefined?arguments[3]:this.rootNode;var startIndex=arguments.length>4&&arguments[4]!==undefined?arguments[4]:0;var index=startIndex;if(!node){return index;}var isRootNode=node===this.rootNode;if(!isRootNode){callback(node,index++);}var{footerSvc}=this.beans;if(node.hasChildren()&&!node.footer){var children=getChildren(node);if(children){var _footerSvc$addTotalRo,_footerSvc$addTotalRo2;index=(_footerSvc$addTotalRo=footerSvc===null||footerSvc===void 0?void 0:footerSvc.addTotalRows(index,node,callback,includeFooterNodes,isRootNode,\"top\"))!==null&&_footerSvc$addTotalRo!==void 0?_footerSvc$addTotalRo:index;for(var node2 of children){index=this.depthFirstSearchRowNodes(callback,includeFooterNodes,getChildren,node2,index);}return(_footerSvc$addTotalRo2=footerSvc===null||footerSvc===void 0?void 0:footerSvc.addTotalRows(index,node,callback,includeFooterNodes,isRootNode,\"bottom\"))!==null&&_footerSvc$addTotalRo2!==void 0?_footerSvc$addTotalRo2:index;}}return index;}// it's possible to recompute the aggregate without doing the other parts\n// + api.refreshClientSideRowModel('aggregate')\ndoAggregate(changedPath){var rootNode=this.rootNode;if(rootNode){var _this$aggStage;(_this$aggStage=this.aggStage)===null||_this$aggStage===void 0||_this$aggStage.execute({rowNode:rootNode,changedPath});}}doFilterAggregates(changedPath){var rootNode=this.rootNode;if(this.filterAggStage){this.filterAggStage.execute({rowNode:rootNode,changedPath});}else{rootNode.childrenAfterAggFilter=rootNode.childrenAfterFilter;}}doSort(changedRowNodes,changedPath){if(this.sortStage){this.sortStage.execute({rowNode:this.rootNode,changedRowNodes,changedPath});}else{changedPath.forEachChangedNodeDepthFirst(rowNode=>{rowNode.childrenAfterSort=rowNode.childrenAfterAggFilter.slice(0);updateRowNodeAfterSort(rowNode);});}}doRowGrouping(params){var _this$groupStage;var rootNode=this.rootNode;var groupStageExecuted=(_this$groupStage=this.groupStage)===null||_this$groupStage===void 0?void 0:_this$groupStage.execute({rowNode:rootNode,changedRowNodes:params.changedRowNodes,changedPath:params.changedPath,rowNodesOrderChanged:!!params.rowNodesOrderChanged,afterColumnsChanged:!!params.afterColumnsChanged});if(groupStageExecuted!==void 0){return groupStageExecuted;}var sibling=rootNode.sibling;rootNode.childrenAfterGroup=rootNode.allLeafChildren;if(sibling){sibling.childrenAfterGroup=rootNode.childrenAfterGroup;}rootNode.updateHasChildren();return false;}doFilter(changedPath){if(this.filterStage){this.filterStage.execute({rowNode:this.rootNode,changedPath});}else{changedPath.forEachChangedNodeDepthFirst(rowNode=>{rowNode.childrenAfterFilter=rowNode.childrenAfterGroup;updateRowNodeAfterFilter(rowNode);},true);}}doPivot(changedPath){var _this$pivotStage;(_this$pivotStage=this.pivotStage)===null||_this$pivotStage===void 0||_this$pivotStage.execute({rowNode:this.rootNode,changedPath});}getRowNode(id){var _this$groupStage2;var found=this.nodeManager.getRowNode(id);if(typeof found===\"object\"){return found;}var idIsGroup=typeof id==\"string\"&&id.indexOf(ROW_ID_PREFIX_ROW_GROUP)===0;return idIsGroup?(_this$groupStage2=this.groupStage)===null||_this$groupStage2===void 0?void 0:_this$groupStage2.getNode(id):void 0;}batchUpdateRowData(rowDataTransaction,callback){if(this.applyAsyncTransactionsTimeout==null){this.rowDataTransactionBatch=[];var waitMillis=this.gos.get(\"asyncTransactionWaitMillis\");this.applyAsyncTransactionsTimeout=window.setTimeout(()=>{if(this.isAlive()){this.executeBatchUpdateRowData();}},waitMillis);}this.rowDataTransactionBatch.push({rowDataTransaction,callback});}flushAsyncTransactions(){if(this.applyAsyncTransactionsTimeout!=null){clearTimeout(this.applyAsyncTransactionsTimeout);this.executeBatchUpdateRowData();}}executeBatchUpdateRowData(){var _this$valueCache2,_this$rowDataTransact;(_this$valueCache2=this.valueCache)===null||_this$valueCache2===void 0||_this$valueCache2.onDataChanged();var callbackFuncsBound=[];var rowNodeTrans=[];var changedRowNodes=new ChangedRowNodes();var orderChanged=false;(_this$rowDataTransact=this.rowDataTransactionBatch)===null||_this$rowDataTransact===void 0||_this$rowDataTransact.forEach(tranItem=>{this.rowNodesCountReady=true;var{rowNodeTransaction,rowsInserted}=this.nodeManager.updateRowData(tranItem.rowDataTransaction,changedRowNodes);if(rowsInserted){orderChanged=true;}rowNodeTrans.push(rowNodeTransaction);if(tranItem.callback){callbackFuncsBound.push(tranItem.callback.bind(null,rowNodeTransaction));}});this.commitTransactions(orderChanged,changedRowNodes);if(callbackFuncsBound.length>0){window.setTimeout(()=>{callbackFuncsBound.forEach(func=>func());},0);}if(rowNodeTrans.length>0){this.eventSvc.dispatchEvent({type:\"asyncTransactionsFlushed\",results:rowNodeTrans});}this.rowDataTransactionBatch=null;this.applyAsyncTransactionsTimeout=void 0;}/**\n   * Used to apply transaction changes.\n   * Called by gridApi & rowDragFeature\n   */updateRowData(rowDataTran){var _this$valueCache3;(_this$valueCache3=this.valueCache)===null||_this$valueCache3===void 0||_this$valueCache3.onDataChanged();this.rowNodesCountReady=true;var changedRowNodes=new ChangedRowNodes();var{rowNodeTransaction,rowsInserted}=this.nodeManager.updateRowData(rowDataTran,changedRowNodes);this.commitTransactions(rowsInserted,changedRowNodes);return rowNodeTransaction;}/**\n   * Common to:\n   * - executeBatchUpdateRowData (batch transactions)\n   * - updateRowData (single transaction)\n   * - setImmutableRowData (generated transaction)\n   *\n   * @param rowNodeTrans - the transactions to apply\n   * @param orderChanged - whether the order of the rows has changed, either via generated transaction or user provided addIndex\n   */commitTransactions(rowNodesOrderChanged,changedRowNodes){this.refreshModel({step:\"group\",rowDataUpdated:true,rowNodesOrderChanged,keepRenderedRows:true,animate:!this.gos.get(\"suppressAnimationFrame\"),changedRowNodes,changedPath:this.createChangePath(true)});}doRowsToDisplay(){var{flattenStage,rootNode}=this;var rowsToDisplay;if(flattenStage){rowsToDisplay=flattenStage.execute({rowNode:rootNode});}else{var _rootNode$childrenAft2;rowsToDisplay=(_rootNode$childrenAft2=rootNode===null||rootNode===void 0?void 0:rootNode.childrenAfterSort)!==null&&_rootNode$childrenAft2!==void 0?_rootNode$childrenAft2:[];for(var row of rowsToDisplay){row.setUiLevel(0);}}this.rowsToDisplay=rowsToDisplay;}onRowHeightChanged(){this.refreshModel({step:\"map\",keepRenderedRows:true,keepUndoRedoStack:true});}resetRowHeights(){var rootNode=this.rootNode;if(!rootNode){return;}var atLeastOne=this.resetRowHeightsForAllRowNodes();rootNode.setRowHeight(rootNode.rowHeight,true);if(rootNode.sibling){rootNode.sibling.setRowHeight(rootNode.sibling.rowHeight,true);}if(atLeastOne){this.onRowHeightChanged();}}resetRowHeightsForAllRowNodes(){var atLeastOne=false;this.forEachNode(rowNode=>{rowNode.setRowHeight(rowNode.rowHeight,true);var detailNode=rowNode.detailNode;if(detailNode){detailNode.setRowHeight(detailNode.rowHeight,true);}if(rowNode.sibling){rowNode.sibling.setRowHeight(rowNode.sibling.rowHeight,true);}atLeastOne=true;});return atLeastOne;}onGridStylesChanges(e){if(e.rowHeightChanged){var _this$beans$rowAutoHe5;if((_this$beans$rowAutoHe5=this.beans.rowAutoHeight)!==null&&_this$beans$rowAutoHe5!==void 0&&_this$beans$rowAutoHe5.active){return;}this.resetRowHeights();}}onGridReady(){if(!this.started){this.setInitialData();}}isRowDataLoaded(){return this.rowCountReady;}destroy(){super.destroy();this.started=false;this.rootNode=null;this.nodeManager=null;this.rowDataTransactionBatch=null;this.orderedStages=_EmptyArray;this.rowsToDisplay=_EmptyArray;}/**\n   * @deprecated v33.1\n   */onRowHeightChangedDebounced(){this.onRowHeightChanged_debounced();}};// packages/ag-grid-community/src/clientSideRowModel/clientSideRowModelApi.ts\nfunction onGroupExpandedOrCollapsed(beans){var _beans$expansionSvc4;(_beans$expansionSvc4=beans.expansionSvc)===null||_beans$expansionSvc4===void 0||_beans$expansionSvc4.onGroupExpandedOrCollapsed();}function refreshClientSideRowModel(beans,step){var clientSideRowModel=_getClientSideRowModel(beans);if(clientSideRowModel){if(!step||step===\"everything\"){step=\"group\";}clientSideRowModel.refreshModel({step,keepRenderedRows:true,animate:!beans.gos.get(\"suppressAnimationFrame\")});}}function isRowDataEmpty(beans){var _getClientSideRowMode,_getClientSideRowMode2;return(_getClientSideRowMode=(_getClientSideRowMode2=_getClientSideRowModel(beans))===null||_getClientSideRowMode2===void 0?void 0:_getClientSideRowMode2.isEmpty())!==null&&_getClientSideRowMode!==void 0?_getClientSideRowMode:true;}function forEachLeafNode(beans,callback){var _getClientSideRowMode3;(_getClientSideRowMode3=_getClientSideRowModel(beans))===null||_getClientSideRowMode3===void 0||_getClientSideRowMode3.forEachLeafNode(callback);}function forEachNodeAfterFilter(beans,callback){var _getClientSideRowMode4;(_getClientSideRowMode4=_getClientSideRowModel(beans))===null||_getClientSideRowMode4===void 0||_getClientSideRowMode4.forEachNodeAfterFilter(callback);}function forEachNodeAfterFilterAndSort(beans,callback){var _getClientSideRowMode5;(_getClientSideRowMode5=_getClientSideRowModel(beans))===null||_getClientSideRowMode5===void 0||_getClientSideRowMode5.forEachNodeAfterFilterAndSort(callback);}function resetRowHeights(beans){var _beans$rowAutoHeight,_getClientSideRowMode6;if((_beans$rowAutoHeight=beans.rowAutoHeight)!==null&&_beans$rowAutoHeight!==void 0&&_beans$rowAutoHeight.active){_warn(3);return;}(_getClientSideRowMode6=_getClientSideRowModel(beans))===null||_getClientSideRowMode6===void 0||_getClientSideRowMode6.resetRowHeights();}function applyTransaction(beans,rowDataTransaction){return beans.frameworkOverrides.wrapIncoming(()=>{var _getClientSideRowMode7;return(_getClientSideRowMode7=_getClientSideRowModel(beans))===null||_getClientSideRowMode7===void 0?void 0:_getClientSideRowMode7.updateRowData(rowDataTransaction);});}function applyTransactionAsync(beans,rowDataTransaction,callback){beans.frameworkOverrides.wrapIncoming(()=>{var _getClientSideRowMode8;return(_getClientSideRowMode8=_getClientSideRowModel(beans))===null||_getClientSideRowMode8===void 0?void 0:_getClientSideRowMode8.batchUpdateRowData(rowDataTransaction,callback);});}function flushAsyncTransactions(beans){beans.frameworkOverrides.wrapIncoming(()=>{var _getClientSideRowMode9;return(_getClientSideRowMode9=_getClientSideRowModel(beans))===null||_getClientSideRowMode9===void 0?void 0:_getClientSideRowMode9.flushAsyncTransactions();});}function getBestCostNodeSelection(beans){var _beans$selectionSvc0;return(_beans$selectionSvc0=beans.selectionSvc)===null||_beans$selectionSvc0===void 0?void 0:_beans$selectionSvc0.getBestCostNodeSelection();}// packages/ag-grid-community/src/clientSideRowModel/clientSideRowModelModule.ts\nvar ClientSideRowModelModule={moduleName:\"ClientSideRowModel\",version:VERSION,rowModels:[\"clientSide\"],beans:[ClientSideNodeManager,ClientSideRowModel,SortStage],dependsOn:[SortModule]};var ClientSideRowModelApiModule={moduleName:\"ClientSideRowModelApi\",version:VERSION,apiFunctions:{onGroupExpandedOrCollapsed,refreshClientSideRowModel,isRowDataEmpty,forEachLeafNode,forEachNodeAfterFilter,forEachNodeAfterFilterAndSort,resetRowHeights,applyTransaction,applyTransactionAsync,flushAsyncTransactions,getBestCostNodeSelection},dependsOn:[CsrmSsrmSharedApiModule]};// packages/ag-grid-community/src/export/gridSerializer.ts\nvar GridSerializer=class extends BeanStub{constructor(){super(...arguments);this.beanName=\"gridSerializer\";}wireBeans(beans){this.visibleCols=beans.visibleCols;this.colModel=beans.colModel;this.rowModel=beans.rowModel;this.pinnedRowModel=beans.pinnedRowModel;}serialize(gridSerializingSession){var params=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var{allColumns,columnKeys,skipRowGroups,exportRowNumbers}=params;var columnsToExport=this.getColumnsToExport({allColumns,skipRowGroups,columnKeys,exportRowNumbers});return[// first pass, put in the header names of the cols\nthis.prepareSession(columnsToExport),this.prependContent(params),this.exportColumnGroups(params,columnsToExport),this.exportHeaders(params,columnsToExport),this.processPinnedTopRows(params,columnsToExport),this.processRows(params,columnsToExport),this.processPinnedBottomRows(params,columnsToExport),this.appendContent(params)].reduce((composed,f)=>f(composed),gridSerializingSession).parse();}processRow(gridSerializingSession,params,columnsToExport,node){var _node$childrenAfterGr4;var rowSkipper=params.shouldRowBeSkipped||(()=>false);var isClipboardExport=params.rowPositions!=null;var isExplicitExportSelection=isClipboardExport||!!params.onlySelected;var hideOpenParents=this.gos.get(\"groupHideOpenParents\")&&!isExplicitExportSelection;var isLeafNode=this.colModel.isPivotMode()?node.leafGroup:!node.group;var isFooter=!!node.footer;var shouldSkipCurrentGroup=node.allChildrenCount===1&&((_node$childrenAfterGr4=node.childrenAfterGroup)===null||_node$childrenAfterGr4===void 0?void 0:_node$childrenAfterGr4.length)===1&&_canSkipShowingRowGroup(this.gos,node);if(!isLeafNode&&!isFooter&&(params.skipRowGroups||shouldSkipCurrentGroup||hideOpenParents)||params.onlySelected&&!node.isSelected()||params.skipPinnedTop&&node.rowPinned===\"top\"||params.skipPinnedBottom&&node.rowPinned===\"bottom\"||node.stub){return;}var nodeIsRootNode=node.level===-1;if(nodeIsRootNode&&!isLeafNode&&!isFooter){return;}var shouldRowBeSkipped=rowSkipper(_addGridCommonParams(this.gos,{node}));if(shouldRowBeSkipped){return;}var rowAccumulator=gridSerializingSession.onNewBodyRow(node);columnsToExport.forEach((column,index)=>{rowAccumulator.onColumn(column,index,node);});if(params.getCustomContentBelowRow){var content=params.getCustomContentBelowRow(_addGridCommonParams(this.gos,{node}));if(content){gridSerializingSession.addCustomContent(content);}}}appendContent(params){return gridSerializingSession=>{var appendContent=params.appendContent;if(appendContent){gridSerializingSession.addCustomContent(appendContent);}return gridSerializingSession;};}prependContent(params){return gridSerializingSession=>{var prependContent=params.prependContent;if(prependContent){gridSerializingSession.addCustomContent(prependContent);}return gridSerializingSession;};}prepareSession(columnsToExport){return gridSerializingSession=>{gridSerializingSession.prepare(columnsToExport);return gridSerializingSession;};}exportColumnGroups(params,columnsToExport){return gridSerializingSession=>{if(!params.skipColumnGroupHeaders){var idCreator=new GroupInstanceIdCreator();var{colGroupSvc}=this.beans;var displayedGroups=colGroupSvc?colGroupSvc.createColumnGroups({columns:columnsToExport,idCreator,pinned:null,isStandaloneStructure:true}):columnsToExport;this.recursivelyAddHeaderGroups(displayedGroups,gridSerializingSession,params.processGroupHeaderCallback);}return gridSerializingSession;};}exportHeaders(params,columnsToExport){return gridSerializingSession=>{if(!params.skipColumnHeaders){var gridRowIterator=gridSerializingSession.onNewHeaderRow();columnsToExport.forEach((column,index)=>{gridRowIterator.onColumn(column,index,void 0);});}return gridSerializingSession;};}processPinnedTopRows(params,columnsToExport){return gridSerializingSession=>{var _this$pinnedRowModel4;var processRow=this.processRow.bind(this,gridSerializingSession,params,columnsToExport);if(params.rowPositions){params.rowPositions.filter(position=>position.rowPinned===\"top\").sort((a,b)=>a.rowIndex-b.rowIndex).map(position=>{var _this$pinnedRowModel3;return(_this$pinnedRowModel3=this.pinnedRowModel)===null||_this$pinnedRowModel3===void 0?void 0:_this$pinnedRowModel3.getPinnedTopRow(position.rowIndex);}).forEach(processRow);}else if(!((_this$pinnedRowModel4=this.pinnedRowModel)!==null&&_this$pinnedRowModel4!==void 0&&_this$pinnedRowModel4.isManual())){var _this$pinnedRowModel5;(_this$pinnedRowModel5=this.pinnedRowModel)===null||_this$pinnedRowModel5===void 0||_this$pinnedRowModel5.forEachPinnedRow(\"top\",processRow);}return gridSerializingSession;};}processRows(params,columnsToExport){return gridSerializingSession=>{var rowModel=this.rowModel;var usingCsrm=_isClientSideRowModel(this.gos,rowModel);var usingSsrm=_isServerSideRowModel(this.gos,rowModel);var onlySelectedNonStandardModel=!usingCsrm&&params.onlySelected;var processRow=this.processRow.bind(this,gridSerializingSession,params,columnsToExport);var{exportedRows=\"filteredAndSorted\"}=params;if(params.rowPositions){params.rowPositions.filter(position=>position.rowPinned==null).sort((a,b)=>a.rowIndex-b.rowIndex).map(position=>rowModel.getRow(position.rowIndex)).forEach(processRow);return gridSerializingSession;}if(this.colModel.isPivotMode()){if(usingCsrm){rowModel.forEachPivotNode(processRow,true,exportedRows===\"filteredAndSorted\");}else if(usingSsrm){rowModel.forEachNodeAfterFilterAndSort(processRow,true);}else{rowModel.forEachNode(processRow);}return gridSerializingSession;}if(params.onlySelectedAllPages||onlySelectedNonStandardModel){var _this$beans$selection12,_this$beans$selection13;var selectedNodes=(_this$beans$selection12=(_this$beans$selection13=this.beans.selectionSvc)===null||_this$beans$selection13===void 0?void 0:_this$beans$selection13.getSelectedNodes())!==null&&_this$beans$selection12!==void 0?_this$beans$selection12:[];this.replicateSortedOrder(selectedNodes);selectedNodes.forEach(processRow);}else{if(exportedRows===\"all\"){rowModel.forEachNode(processRow);}else if(usingCsrm||usingSsrm){rowModel.forEachNodeAfterFilterAndSort(processRow,true);}else{rowModel.forEachNode(processRow);}}return gridSerializingSession;};}replicateSortedOrder(rows){var{sortSvc,rowNodeSorter}=this.beans;if(!sortSvc||!rowNodeSorter){return;}var sortOptions=sortSvc.getSortOptions();var compareNodes=(rowA,rowB)=>{if(rowA.rowIndex!=null&&rowB.rowIndex!=null){return rowA.rowIndex-rowB.rowIndex;}if(rowA.level===rowB.level){var _rowA$parent,_rowB$parent;if(((_rowA$parent=rowA.parent)===null||_rowA$parent===void 0?void 0:_rowA$parent.id)===((_rowB$parent=rowB.parent)===null||_rowB$parent===void 0?void 0:_rowB$parent.id)){var _rowA$rowIndex,_rowB$rowIndex;return rowNodeSorter.compareRowNodes(sortOptions,{rowNode:rowA,currentPos:(_rowA$rowIndex=rowA.rowIndex)!==null&&_rowA$rowIndex!==void 0?_rowA$rowIndex:-1},{rowNode:rowB,currentPos:(_rowB$rowIndex=rowB.rowIndex)!==null&&_rowB$rowIndex!==void 0?_rowB$rowIndex:-1});}return compareNodes(rowA.parent,rowB.parent);}if(rowA.level>rowB.level){return compareNodes(rowA.parent,rowB);}return compareNodes(rowA,rowB.parent);};rows.sort(compareNodes);}processPinnedBottomRows(params,columnsToExport){return gridSerializingSession=>{var _this$pinnedRowModel7;var processRow=this.processRow.bind(this,gridSerializingSession,params,columnsToExport);if(params.rowPositions){params.rowPositions.filter(position=>position.rowPinned===\"bottom\").sort((a,b)=>a.rowIndex-b.rowIndex).map(position=>{var _this$pinnedRowModel6;return(_this$pinnedRowModel6=this.pinnedRowModel)===null||_this$pinnedRowModel6===void 0?void 0:_this$pinnedRowModel6.getPinnedBottomRow(position.rowIndex);}).forEach(processRow);}else if(!((_this$pinnedRowModel7=this.pinnedRowModel)!==null&&_this$pinnedRowModel7!==void 0&&_this$pinnedRowModel7.isManual())){var _this$pinnedRowModel8;(_this$pinnedRowModel8=this.pinnedRowModel)===null||_this$pinnedRowModel8===void 0||_this$pinnedRowModel8.forEachPinnedRow(\"bottom\",processRow);}return gridSerializingSession;};}getColumnsToExport(params){var{allColumns=false,skipRowGroups=false,exportRowNumbers=false,columnKeys}=params;var{colModel,gos,visibleCols}=this;var isPivotMode=colModel.isPivotMode();var filterSpecialColumns=col=>{if(isColumnSelectionCol(col)){return false;}return!isRowNumberCol(col)||exportRowNumbers;};if(columnKeys&&columnKeys.length){return colModel.getColsForKeys(columnKeys).filter(filterSpecialColumns);}var isTreeData=gos.get(\"treeData\");var columnsToExport=[];if(allColumns&&!isPivotMode){columnsToExport=colModel.getCols();}else{columnsToExport=visibleCols.allCols;}columnsToExport=columnsToExport.filter(column=>filterSpecialColumns(column)&&(skipRowGroups&&!isTreeData?!isColumnGroupAutoCol(column):true));return columnsToExport;}recursivelyAddHeaderGroups(displayedGroups,gridSerializingSession,processGroupHeaderCallback){var directChildrenHeaderGroups=[];displayedGroups.forEach(columnGroupChild=>{var columnGroup=columnGroupChild;if(!columnGroup.getChildren){return;}columnGroup.getChildren().forEach(it=>directChildrenHeaderGroups.push(it));});if(displayedGroups.length>0&&isColumnGroup(displayedGroups[0])){this.doAddHeaderHeader(gridSerializingSession,displayedGroups,processGroupHeaderCallback);}if(directChildrenHeaderGroups&&directChildrenHeaderGroups.length>0){this.recursivelyAddHeaderGroups(directChildrenHeaderGroups,gridSerializingSession,processGroupHeaderCallback);}}doAddHeaderHeader(gridSerializingSession,displayedGroups,processGroupHeaderCallback){var gridRowIterator=gridSerializingSession.onNewHeaderGroupingRow();var columnIndex=0;displayedGroups.forEach(columnGroupChild=>{var columnGroup=columnGroupChild;var name;if(processGroupHeaderCallback){name=processGroupHeaderCallback(_addGridCommonParams(this.gos,{columnGroup}));}else{name=this.beans.colNames.getDisplayNameForColumnGroup(columnGroup,\"header\");}var collapsibleGroupRanges=columnGroup.getLeafColumns().reduce((collapsibleGroups,currentColumn,currentIdx,arr)=>{var lastGroup=_last(collapsibleGroups);var groupShow=currentColumn.getColumnGroupShow()===\"open\";if(!groupShow){if(lastGroup&&lastGroup[1]==null){lastGroup[1]=currentIdx-1;}}else if(!lastGroup||lastGroup[1]!=null){lastGroup=[currentIdx];collapsibleGroups.push(lastGroup);}if(currentIdx===arr.length-1&&lastGroup&&lastGroup[1]==null){lastGroup[1]=currentIdx;}return collapsibleGroups;},[]);gridRowIterator.onColumn(columnGroup,name||\"\",columnIndex++,columnGroup.getLeafColumns().length-1,collapsibleGroupRanges);});}};// packages/ag-grid-community/src/export/exportModule.ts\nvar SharedExportModule={moduleName:\"SharedExport\",version:VERSION,beans:[GridSerializer]};// packages/ag-grid-community/src/csvExport/csvSerializingSession.ts\nvar LINE_SEPARATOR=\"\\r\\n\";var CsvSerializingSession=class extends BaseGridSerializingSession{constructor(config){super(config);this.config=config;this.isFirstLine=true;this.result=\"\";var{suppressQuotes,columnSeparator}=config;this.suppressQuotes=suppressQuotes;this.columnSeparator=columnSeparator;}addCustomContent(content){if(!content){return;}if(typeof content===\"string\"){if(!/^\\s*\\n/.test(content)){this.beginNewLine();}content=content.replace(/\\r?\\n/g,LINE_SEPARATOR);this.result+=content;}else{content.forEach(row=>{this.beginNewLine();row.forEach((cell,index)=>{if(index!==0){this.result+=this.columnSeparator;}this.result+=this.putInQuotes(cell.data.value||\"\");if(cell.mergeAcross){this.appendEmptyCells(cell.mergeAcross);}});});}}onNewHeaderGroupingRow(){this.beginNewLine();return{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)};}onNewHeaderGroupingRowColumn(columnGroup,header,index,span){if(index!=0){this.result+=this.columnSeparator;}this.result+=this.putInQuotes(header);this.appendEmptyCells(span);}appendEmptyCells(count){for(var i=1;i<=count;i++){this.result+=this.columnSeparator+this.putInQuotes(\"\");}}onNewHeaderRow(){this.beginNewLine();return{onColumn:this.onNewHeaderRowColumn.bind(this)};}onNewHeaderRowColumn(column,index){if(index!=0){this.result+=this.columnSeparator;}this.result+=this.putInQuotes(this.extractHeaderValue(column));}onNewBodyRow(){this.beginNewLine();return{onColumn:this.onNewBodyRowColumn.bind(this)};}onNewBodyRowColumn(column,index,node){var _rowCellValue$valueFo;if(index!=0){this.result+=this.columnSeparator;}var rowCellValue=this.extractRowCellValue(column,index,index,\"csv\",node);this.result+=this.putInQuotes((_rowCellValue$valueFo=rowCellValue.valueFormatted)!==null&&_rowCellValue$valueFo!==void 0?_rowCellValue$valueFo:rowCellValue.value);}putInQuotes(value){if(this.suppressQuotes){return value;}if(value===null||value===void 0){return'\"\"';}var stringValue;if(typeof value===\"string\"){stringValue=value;}else if(typeof value.toString===\"function\"){stringValue=value.toString();}else{_warn(53);stringValue=\"\";}var valueEscaped=stringValue.replace(/\"/g,'\"\"');return'\"'+valueEscaped+'\"';}parse(){return this.result;}beginNewLine(){if(!this.isFirstLine){this.result+=LINE_SEPARATOR;}this.isFirstLine=false;}};// packages/ag-grid-community/src/csvExport/csvCreator.ts\nvar CsvCreator=class extends BaseCreator{constructor(){super(...arguments);this.beanName=\"csvCreator\";}wireBeans(beans){this.colModel=beans.colModel;this.colNames=beans.colNames;this.rowGroupColsSvc=beans.rowGroupColsSvc;this.valueSvc=beans.valueSvc;}getMergedParams(params){var baseParams5=this.gos.get(\"defaultCsvExportParams\");return Object.assign({},baseParams5,params);}export(userParams){if(this.isExportSuppressed()){_warn(51);return;}var mergedParams=this.getMergedParams(userParams);var data=this.getData(mergedParams);var packagedFile=new Blob([\"\\uFEFF\",data],{type:\"text/plain\"});var fileName=typeof mergedParams.fileName===\"function\"?mergedParams.fileName(_addGridCommonParams(this.gos,{})):mergedParams.fileName;_downloadFile(this.getFileName(fileName),packagedFile);}exportDataAsCsv(params){this.export(params);}getDataAsCsv(params){var skipDefaultParams=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var mergedParams=skipDefaultParams?Object.assign({},params):this.getMergedParams(params);return this.getData(mergedParams);}getDefaultFileExtension(){return\"csv\";}createSerializingSession(params){var{colModel,colNames,rowGroupColsSvc,valueSvc,gos}=this;var{processCellCallback,processHeaderCallback,processGroupHeaderCallback,processRowGroupCallback,suppressQuotes,columnSeparator}=params;return new CsvSerializingSession({colModel,colNames,valueSvc,gos,processCellCallback:processCellCallback||void 0,processHeaderCallback:processHeaderCallback||void 0,processGroupHeaderCallback:processGroupHeaderCallback||void 0,processRowGroupCallback:processRowGroupCallback||void 0,suppressQuotes:suppressQuotes||false,columnSeparator:columnSeparator||\",\",rowGroupColsSvc});}isExportSuppressed(){return this.gos.get(\"suppressCsvExport\");}};// packages/ag-grid-community/src/csvExport/csvExportApi.ts\nfunction getDataAsCsv(beans,params){var _beans$csvCreator;return(_beans$csvCreator=beans.csvCreator)===null||_beans$csvCreator===void 0?void 0:_beans$csvCreator.getDataAsCsv(params);}function exportDataAsCsv(beans,params){var _beans$csvCreator2;(_beans$csvCreator2=beans.csvCreator)===null||_beans$csvCreator2===void 0||_beans$csvCreator2.exportDataAsCsv(params);}// packages/ag-grid-community/src/csvExport/csvExportModule.ts\nvar CsvExportModule={moduleName:\"CsvExport\",version:VERSION,beans:[CsvCreator],apiFunctions:{getDataAsCsv,exportDataAsCsv},dependsOn:[SharedExportModule]};// packages/ag-grid-community/src/infiniteRowModel/infiniteBlock.ts\nvar InfiniteBlock=class extends BeanStub{constructor(id,parentCache,params){super();this.id=id;this.parentCache=parentCache;this.params=params;this.state=\"needsLoading\";this.version=0;this.startRow=id*params.blockSize;this.endRow=this.startRow+params.blockSize;}load(){this.state=\"loading\";this.loadFromDatasource();}setStateWaitingToLoad(){this.version++;this.state=\"needsLoading\";}pageLoadFailed(version){var requestMostRecentAndLive=this.isRequestMostRecentAndLive(version);if(requestMostRecentAndLive){this.state=\"failed\";}this.dispatchLocalEvent({type:\"loadComplete\"});}pageLoaded(version,rows,lastRow){this.successCommon(version,{rowData:rows,rowCount:lastRow});}isRequestMostRecentAndLive(version){var thisIsMostRecentRequest=version===this.version;var weAreNotDestroyed=this.isAlive();return thisIsMostRecentRequest&&weAreNotDestroyed;}successCommon(version,params){this.dispatchLocalEvent({type:\"loadComplete\"});var requestMostRecentAndLive=this.isRequestMostRecentAndLive(version);if(requestMostRecentAndLive){this.state=\"loaded\";this.processServerResult(params);}}postConstruct(){this.rowNodes=[];var{params:{blockSize,rowHeight},startRow,beans,rowNodes}=this;for(var i=0;i<blockSize;i++){var rowIndex=startRow+i;var rowNode=new RowNode(beans);rowNode.setRowHeight(rowHeight);rowNode.uiLevel=0;rowNode.setRowIndex(rowIndex);rowNode.setRowTop(rowHeight*rowIndex);rowNodes.push(rowNode);}}getBlockStateJson(){var{id,startRow,endRow,state:pageStatus}=this;return{id:\"\"+id,state:{blockNumber:id,startRow,endRow,pageStatus}};}setDataAndId(rowNode,data,index){if(_exists(data)){rowNode.setDataAndId(data,index.toString());}else{rowNode.setDataAndId(void 0,void 0);}}loadFromDatasource(){var params=this.createLoadParams();if(_missing(this.params.datasource.getRows)){_warn(90);return;}window.setTimeout(()=>{this.params.datasource.getRows(params);},0);}createLoadParams(){var{startRow,endRow,version,params:{sortModel,filterModel},gos}=this;var params={startRow,endRow,successCallback:this.pageLoaded.bind(this,version),failCallback:this.pageLoadFailed.bind(this,version),sortModel,filterModel,context:_addGridCommonParams(gos,{}).context};return params;}forEachNode(callback,sequence,rowCount){this.rowNodes.forEach((rowNode,index)=>{var rowIndex=this.startRow+index;if(rowIndex<rowCount){callback(rowNode,sequence.value++);}});}getRow(rowIndex){var dontTouchLastAccessed=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(!dontTouchLastAccessed){this.lastAccessed=this.params.lastAccessedSequence.value++;}var localIndex=rowIndex-this.startRow;return this.rowNodes[localIndex];}processServerResult(params){var{rowNodes,beans}=this;rowNodes.forEach((rowNode,index)=>{var data=params.rowData?params.rowData[index]:void 0;if(!rowNode.id&&rowNode.alreadyRendered&&data){rowNodes[index]=new RowNode(beans);rowNodes[index].setRowIndex(rowNode.rowIndex);rowNodes[index].setRowTop(rowNode.rowTop);rowNodes[index].setRowHeight(rowNode.rowHeight);rowNode.clearRowTopAndRowIndex();}this.setDataAndId(rowNodes[index],data,this.startRow+index);});var finalRowCount=params.rowCount!=null&&params.rowCount>=0?params.rowCount:void 0;this.parentCache.pageLoaded(this,finalRowCount);}destroy(){this.rowNodes.forEach(rowNode=>{rowNode.clearRowTopAndRowIndex();});super.destroy();}};// packages/ag-grid-community/src/infiniteRowModel/infiniteCache.ts\nvar MAX_EMPTY_BLOCKS_TO_KEEP=2;var InfiniteCache=class extends BeanStub{constructor(params){super();this.params=params;this.lastRowIndexKnown=false;this.blocks={};this.blockCount=0;this.rowCount=params.initialRowCount;}// the rowRenderer will not pass dontCreatePage, meaning when rendering the grid,\n// it will want new pages in the cache as it asks for rows. only when we are inserting /\n// removing rows via the api is dontCreatePage set, where we move rows between the pages.\ngetRow(rowIndex){var dontCreatePage=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var blockId=Math.floor(rowIndex/this.params.blockSize);var block=this.blocks[blockId];if(!block){if(dontCreatePage){return void 0;}block=this.createBlock(blockId);}return block.getRow(rowIndex);}createBlock(blockNumber){var params=this.params;var newBlock=this.createBean(new InfiniteBlock(blockNumber,this,params));this.blocks[newBlock.id]=newBlock;this.blockCount++;this.purgeBlocksIfNeeded(newBlock);params.rowNodeBlockLoader.addBlock(newBlock);return newBlock;}// we have this on infinite row model only, not server side row model,\n// because for server side, it would leave the children in inconsistent\n// state - eg if a node had children, but after the refresh it had data\n// for a different row, then the children would be with the wrong row node.\nrefreshCache(){var nothingToRefresh=this.blockCount==0;if(nothingToRefresh){this.purgeCache();return;}this.getBlocksInOrder().forEach(block=>block.setStateWaitingToLoad());this.params.rowNodeBlockLoader.checkBlockToLoad();}destroy(){this.getBlocksInOrder().forEach(block=>this.destroyBlock(block));super.destroy();}getRowCount(){return this.rowCount;}isLastRowIndexKnown(){return this.lastRowIndexKnown;}// block calls this, when page loaded\npageLoaded(block,lastRow){if(!this.isAlive()){return;}_logIfDebug(this.gos,\"InfiniteCache - onPageLoaded: page = \".concat(block.id,\", lastRow = \").concat(lastRow));this.checkRowCount(block,lastRow);this.onCacheUpdated();}purgeBlocksIfNeeded(blockToExclude){var blocksForPurging=this.getBlocksInOrder().filter(b=>b!=blockToExclude);var lastAccessedComparator=(a,b)=>b.lastAccessed-a.lastAccessed;blocksForPurging.sort(lastAccessedComparator);var maxBlocksProvided=this.params.maxBlocksInCache>0;var blocksToKeep=maxBlocksProvided?this.params.maxBlocksInCache-1:null;var emptyBlocksToKeep=MAX_EMPTY_BLOCKS_TO_KEEP-1;blocksForPurging.forEach((block,index)=>{var purgeBecauseBlockEmpty=block.state===\"needsLoading\"&&index>=emptyBlocksToKeep;var purgeBecauseCacheFull=maxBlocksProvided?index>=blocksToKeep:false;if(purgeBecauseBlockEmpty||purgeBecauseCacheFull){if(this.isBlockCurrentlyDisplayed(block)){return;}if(this.isBlockFocused(block)){return;}this.removeBlockFromCache(block);}});}isBlockFocused(block){var focusedCell=this.beans.focusSvc.getFocusCellToUseAfterRefresh();if(!focusedCell){return false;}if(focusedCell.rowPinned!=null){return false;}var{startRow,endRow}=block;var hasFocus=focusedCell.rowIndex>=startRow&&focusedCell.rowIndex<endRow;return hasFocus;}isBlockCurrentlyDisplayed(block){var{startRow,endRow}=block;return this.beans.rowRenderer.isRangeInRenderedViewport(startRow,endRow-1);}removeBlockFromCache(blockToRemove){if(!blockToRemove){return;}this.destroyBlock(blockToRemove);}checkRowCount(block,lastRow){if(typeof lastRow===\"number\"&&lastRow>=0){this.rowCount=lastRow;this.lastRowIndexKnown=true;}else if(!this.lastRowIndexKnown){var{blockSize,overflowSize}=this.params;var lastRowIndex=(block.id+1)*blockSize;var lastRowIndexPlusOverflow=lastRowIndex+overflowSize;if(this.rowCount<lastRowIndexPlusOverflow){this.rowCount=lastRowIndexPlusOverflow;}}}setRowCount(rowCount,lastRowIndexKnown){this.rowCount=rowCount;if(_exists(lastRowIndexKnown)){this.lastRowIndexKnown=lastRowIndexKnown;}if(!this.lastRowIndexKnown){if(this.rowCount%this.params.blockSize===0){this.rowCount++;}}this.onCacheUpdated();}forEachNodeDeep(callback){var sequence={value:0};this.getBlocksInOrder().forEach(block=>block.forEachNode(callback,sequence,this.rowCount));}getBlocksInOrder(){var blockComparator=(a,b)=>a.id-b.id;var blocks=Object.values(this.blocks).sort(blockComparator);return blocks;}destroyBlock(block){delete this.blocks[block.id];this.destroyBean(block);this.blockCount--;this.params.rowNodeBlockLoader.removeBlock(block);}// gets called 1) row count changed 2) cache purged 3) items inserted\nonCacheUpdated(){if(this.isAlive()){this.destroyAllBlocksPastVirtualRowCount();this.eventSvc.dispatchEvent({type:\"storeUpdated\"});}}destroyAllBlocksPastVirtualRowCount(){var blocksToDestroy=[];this.getBlocksInOrder().forEach(block=>{var startRow=block.id*this.params.blockSize;if(startRow>=this.rowCount){blocksToDestroy.push(block);}});if(blocksToDestroy.length>0){blocksToDestroy.forEach(block=>this.destroyBlock(block));}}purgeCache(){this.getBlocksInOrder().forEach(block=>this.removeBlockFromCache(block));this.lastRowIndexKnown=false;if(this.rowCount===0){this.rowCount=this.params.initialRowCount;}this.onCacheUpdated();}getRowNodesInRange(firstInRange,lastInRange){var result=[];var lastBlockId=-1;var inActiveRange=false;var numberSequence={value:0};var foundGapInSelection=false;this.getBlocksInOrder().forEach(block=>{if(foundGapInSelection){return;}if(inActiveRange&&lastBlockId+1!==block.id){foundGapInSelection=true;return;}lastBlockId=block.id;block.forEachNode(rowNode=>{var hitFirstOrLast=rowNode===firstInRange||rowNode===lastInRange;if(inActiveRange||hitFirstOrLast){result.push(rowNode);}if(hitFirstOrLast){inActiveRange=!inActiveRange;}},numberSequence,this.rowCount);});var invalidRange=foundGapInSelection||inActiveRange;return invalidRange?[]:result;}};// packages/ag-grid-community/src/infiniteRowModel/infiniteRowModel.ts\nvar InfiniteRowModel=class extends BeanStub{constructor(){super(...arguments);this.beanName=\"rowModel\";}getRowBounds(index){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*index};}// we don't implement as lazy row heights is not supported in this row model\nensureRowHeightsValid(){return false;}postConstruct(){if(this.gos.get(\"rowModelType\")!==\"infinite\"){return;}this.rowHeight=_getRowHeightAsNumber(this.beans);this.addEventListeners();this.addDestroyFunc(()=>this.destroyCache());}start(){this.setDatasource(this.gos.get(\"datasource\"));}destroy(){this.destroyDatasource();super.destroy();}destroyDatasource(){if(this.datasource){this.destroyBean(this.datasource);this.beans.rowRenderer.datasourceChanged();this.datasource=null;}}addEventListeners(){this.addManagedEventListeners({filterChanged:this.reset.bind(this),sortChanged:this.reset.bind(this),newColumnsLoaded:this.onColumnEverything.bind(this),storeUpdated:this.dispatchModelUpdatedEvent.bind(this)});this.addManagedPropertyListener(\"datasource\",()=>this.setDatasource(this.gos.get(\"datasource\")));this.addManagedPropertyListener(\"cacheBlockSize\",()=>this.resetCache());this.addManagedPropertyListener(\"rowHeight\",()=>{this.rowHeight=_getRowHeightAsNumber(this.beans);this.cacheParams.rowHeight=this.rowHeight;this.updateRowHeights();});}onColumnEverything(){var resetRequired;if(this.cacheParams){var _this$beans$sortSvc$g,_this$beans$sortSvc3;resetRequired=!_jsonEquals(this.cacheParams.sortModel,(_this$beans$sortSvc$g=(_this$beans$sortSvc3=this.beans.sortSvc)===null||_this$beans$sortSvc3===void 0?void 0:_this$beans$sortSvc3.getSortModel())!==null&&_this$beans$sortSvc$g!==void 0?_this$beans$sortSvc$g:[]);}else{resetRequired=true;}if(resetRequired){this.reset();}}getType(){return\"infinite\";}setDatasource(datasource){this.destroyDatasource();this.datasource=datasource;if(datasource){this.reset();}}isEmpty(){return!this.infiniteCache;}isRowsToRender(){return!!this.infiniteCache;}getNodesInRangeForSelection(firstInRange,lastInRange){var _this$infiniteCache$g,_this$infiniteCache;return(_this$infiniteCache$g=(_this$infiniteCache=this.infiniteCache)===null||_this$infiniteCache===void 0?void 0:_this$infiniteCache.getRowNodesInRange(firstInRange,lastInRange))!==null&&_this$infiniteCache$g!==void 0?_this$infiniteCache$g:[];}reset(){if(!this.datasource){return;}var getRowIdFunc=_getRowIdCallback(this.gos);var userGeneratingIds=getRowIdFunc!=null;if(!userGeneratingIds){var _this$beans$selection14;(_this$beans$selection14=this.beans.selectionSvc)===null||_this$beans$selection14===void 0||_this$beans$selection14.reset(\"rowDataChanged\");}this.resetCache();}dispatchModelUpdatedEvent(){this.eventSvc.dispatchEvent({type:\"modelUpdated\",// not sure if these should all be false - noticed if after implementing,\n// maybe they should be true?\nnewPage:false,newPageSize:false,newData:false,keepRenderedRows:true,animate:false});}resetCache(){var _filterManager$getFil,_sortSvc$getSortModel;this.destroyCache();var beans=this.beans;var{filterManager,sortSvc,rowNodeBlockLoader,eventSvc,gos}=beans;this.cacheParams={// the user provided datasource\ndatasource:this.datasource,// sort and filter model\nfilterModel:(_filterManager$getFil=filterManager===null||filterManager===void 0?void 0:filterManager.getFilterModel())!==null&&_filterManager$getFil!==void 0?_filterManager$getFil:{},sortModel:(_sortSvc$getSortModel=sortSvc===null||sortSvc===void 0?void 0:sortSvc.getSortModel())!==null&&_sortSvc$getSortModel!==void 0?_sortSvc$getSortModel:[],rowNodeBlockLoader,// properties - this way we take a snapshot of them, so if user changes any, they will be\n// used next time we create a new cache, which is generally after a filter or sort change,\n// or a new datasource is set\ninitialRowCount:gos.get(\"infiniteInitialRowCount\"),maxBlocksInCache:gos.get(\"maxBlocksInCache\"),rowHeight:_getRowHeightAsNumber(beans),// if user doesn't provide overflow, we use default overflow of 1, so user can scroll past\n// the current page and request first row of next page\noverflowSize:gos.get(\"cacheOverflowSize\"),// page size needs to be 1 or greater. having it at 1 would be silly, as you would be hitting the\n// server for one page at a time. so the default if not specified is 100.\nblockSize:gos.get(\"cacheBlockSize\"),// the cache could create this, however it is also used by the pages, so handy to create it\n// here as the settings are also passed to the pages\nlastAccessedSequence:{value:0}};this.infiniteCache=this.createBean(new InfiniteCache(this.cacheParams));eventSvc.dispatchEventOnce({type:\"rowCountReady\"});this.dispatchModelUpdatedEvent();}updateRowHeights(){this.forEachNode(node=>{node.setRowHeight(this.rowHeight);node.setRowTop(this.rowHeight*node.rowIndex);});this.dispatchModelUpdatedEvent();}destroyCache(){this.infiniteCache=this.destroyBean(this.infiniteCache);}getRow(rowIndex){var infiniteCache=this.infiniteCache;if(!infiniteCache){return void 0;}if(rowIndex>=infiniteCache.getRowCount()){return void 0;}return infiniteCache.getRow(rowIndex);}getRowNode(id){var result;this.forEachNode(rowNode=>{if(rowNode.id===id){result=rowNode;}});return result;}forEachNode(callback){var _this$infiniteCache2;(_this$infiniteCache2=this.infiniteCache)===null||_this$infiniteCache2===void 0||_this$infiniteCache2.forEachNodeDeep(callback);}getTopLevelRowCount(){return this.getRowCount();}getTopLevelRowDisplayedIndex(topLevelIndex){return topLevelIndex;}getRowIndexAtPixel(pixel){if(this.rowHeight!==0){var rowIndexForPixel=Math.floor(pixel/this.rowHeight);var lastRowIndex=this.getRowCount()-1;if(rowIndexForPixel>lastRowIndex){return lastRowIndex;}return rowIndexForPixel;}return 0;}getRowCount(){return this.infiniteCache?this.infiniteCache.getRowCount():0;}isRowPresent(rowNode){return!!this.getRowNode(rowNode.id);}refreshCache(){var _this$infiniteCache3;(_this$infiniteCache3=this.infiniteCache)===null||_this$infiniteCache3===void 0||_this$infiniteCache3.refreshCache();}purgeCache(){var _this$infiniteCache4;(_this$infiniteCache4=this.infiniteCache)===null||_this$infiniteCache4===void 0||_this$infiniteCache4.purgeCache();}// for iRowModel\nisLastRowIndexKnown(){var _this$infiniteCache$i,_this$infiniteCache5;return(_this$infiniteCache$i=(_this$infiniteCache5=this.infiniteCache)===null||_this$infiniteCache5===void 0?void 0:_this$infiniteCache5.isLastRowIndexKnown())!==null&&_this$infiniteCache$i!==void 0?_this$infiniteCache$i:false;}setRowCount(rowCount,lastRowIndexKnown){var _this$infiniteCache6;(_this$infiniteCache6=this.infiniteCache)===null||_this$infiniteCache6===void 0||_this$infiniteCache6.setRowCount(rowCount,lastRowIndexKnown);}};// packages/ag-grid-community/src/infiniteRowModel/infiniteRowModelApi.ts\nfunction refreshInfiniteCache(beans){var _getInfiniteRowModel2;(_getInfiniteRowModel2=_getInfiniteRowModel(beans))===null||_getInfiniteRowModel2===void 0||_getInfiniteRowModel2.refreshCache();}function purgeInfiniteCache(beans){var _getInfiniteRowModel3;(_getInfiniteRowModel3=_getInfiniteRowModel(beans))===null||_getInfiniteRowModel3===void 0||_getInfiniteRowModel3.purgeCache();}function getInfiniteRowCount(beans){var _getInfiniteRowModel4;return(_getInfiniteRowModel4=_getInfiniteRowModel(beans))===null||_getInfiniteRowModel4===void 0?void 0:_getInfiniteRowModel4.getRowCount();}// packages/ag-grid-community/src/infiniteRowModel/rowNodeBlockLoader.ts\nvar RowNodeBlockLoader=class extends BeanStub{constructor(){super(...arguments);this.beanName=\"rowNodeBlockLoader\";this.activeBlockLoadsCount=0;this.blocks=[];this.active=true;}postConstruct(){this.maxConcurrentRequests=_getMaxConcurrentDatasourceRequests(this.gos);var blockLoadDebounceMillis=this.gos.get(\"blockLoadDebounceMillis\");if(blockLoadDebounceMillis&&blockLoadDebounceMillis>0){this.checkBlockToLoadDebounce=_debounce(this,this.performCheckBlocksToLoad.bind(this),blockLoadDebounceMillis);}}addBlock(block){this.blocks.push(block);block.addEventListener(\"loadComplete\",this.loadComplete.bind(this));this.checkBlockToLoad();}removeBlock(block){_removeFromArray(this.blocks,block);}destroy(){super.destroy();this.active=false;}loadComplete(){this.activeBlockLoadsCount--;this.checkBlockToLoad();}checkBlockToLoad(){if(this.checkBlockToLoadDebounce){this.checkBlockToLoadDebounce();}else{this.performCheckBlocksToLoad();}}performCheckBlocksToLoad(){if(!this.active){return;}this.printCacheStatus();if(this.maxConcurrentRequests!=null&&this.activeBlockLoadsCount>=this.maxConcurrentRequests){_logIfDebug(this.gos,\"RowNodeBlockLoader - checkBlockToLoad: max loads exceeded\");return;}var loadAvailability=this.maxConcurrentRequests!=null?this.maxConcurrentRequests-this.activeBlockLoadsCount:1;var blocksToLoad=this.blocks.filter(block=>block.state===\"needsLoading\").slice(0,loadAvailability);this.activeBlockLoadsCount+=blocksToLoad.length;blocksToLoad.forEach(block=>block.load());this.printCacheStatus();}getBlockState(){var result={};this.blocks.forEach(block=>{var{id,state}=block.getBlockStateJson();result[id]=state;});return result;}printCacheStatus(){_logIfDebug(this.gos,\"RowNodeBlockLoader - printCacheStatus: activePageLoadsCount = \".concat(this.activeBlockLoadsCount,\", blocks = \").concat(JSON.stringify(this.getBlockState())));}};// packages/ag-grid-community/src/infiniteRowModel/infiniteRowModelModule.ts\nvar InfiniteRowModelCoreModule={moduleName:\"InfiniteRowModelCore\",version:VERSION,rowModels:[\"infinite\"],beans:[InfiniteRowModel,RowNodeBlockLoader]};var InfiniteRowModelModule={moduleName:\"InfiniteRowModel\",version:VERSION,apiFunctions:{refreshInfiniteCache,purgeInfiniteCache,getInfiniteRowCount},dependsOn:[InfiniteRowModelCoreModule,SsrmInfiniteSharedApiModule]};// packages/ag-grid-community/src/rendering/cellRenderers/animateShowChangeCellRenderer.ts\nvar ARROW_UP=\"\\u2191\";var ARROW_DOWN=\"\\u2193\";var AnimateShowChangeCellRendererElement={tag:\"span\",children:[{tag:\"span\",ref:\"eDelta\",cls:\"ag-value-change-delta\"},{tag:\"span\",ref:\"eValue\",cls:\"ag-value-change-value\"}]};var AnimateShowChangeCellRenderer=class extends Component{constructor(){super(AnimateShowChangeCellRendererElement);this.eValue=RefPlaceholder;this.eDelta=RefPlaceholder;this.refreshCount=0;}init(params){this.refresh(params,true);}showDelta(params,delta){var absDelta=Math.abs(delta);var valueFormatted=params.formatValue(absDelta);var valueToUse=_exists(valueFormatted)?valueFormatted:absDelta;var deltaUp=delta>=0;var eDelta=this.eDelta;if(deltaUp){eDelta.textContent=ARROW_UP+valueToUse;}else{eDelta.textContent=ARROW_DOWN+valueToUse;}eDelta.classList.toggle(\"ag-value-change-delta-up\",deltaUp);eDelta.classList.toggle(\"ag-value-change-delta-down\",!deltaUp);}setTimerToRemoveDelta(){this.refreshCount++;var refreshCountCopy=this.refreshCount;this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{if(refreshCountCopy===this.refreshCount){this.hideDeltaValue();}},2e3);});}hideDeltaValue(){this.eValue.classList.remove(\"ag-value-change-value-highlight\");_clearElement(this.eDelta);}refresh(params){var _beans$filterManager8;var isInitialRender=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var{value,valueFormatted}=params;var{eValue,lastValue,beans}=this;if(value===lastValue){return false;}if(_exists(valueFormatted)){eValue.textContent=valueFormatted;}else if(_exists(value)){eValue.textContent=value;}else{_clearElement(eValue);}if((_beans$filterManager8=beans.filterManager)!==null&&_beans$filterManager8!==void 0&&_beans$filterManager8.isSuppressFlashingCellsBecauseFiltering()){return false;}var numericValue=value&&typeof value===\"object\"&&\"toNumber\"in value?value.toNumber():value;var numericLastValue=lastValue&&typeof lastValue===\"object\"&&\"toNumber\"in lastValue?lastValue.toNumber():lastValue;if(numericValue===numericLastValue){return false;}if(typeof numericValue===\"number\"&&typeof numericLastValue===\"number\"){var delta=numericValue-numericLastValue;this.showDelta(params,delta);}if(lastValue){eValue.classList.add(\"ag-value-change-value-highlight\");}if(!isInitialRender){this.setTimerToRemoveDelta();}this.lastValue=value;return true;}};// packages/ag-grid-community/src/rendering/cellRenderers/animateSlideCellRenderer.css-GENERATED.ts\nvar animateSlideCellRendererCSS=/*css*/\".ag-value-slide-out{opacity:1}:where(.ag-ltr) .ag-value-slide-out{margin-right:5px;transition:opacity 3s,margin-right 3s}:where(.ag-rtl) .ag-value-slide-out{margin-left:5px;transition:opacity 3s,margin-left 3s}:where(.ag-ltr,.ag-rtl) .ag-value-slide-out{transition-timing-function:linear}.ag-value-slide-out-end{opacity:0}:where(.ag-ltr) .ag-value-slide-out-end{margin-right:10px}:where(.ag-rtl) .ag-value-slide-out-end{margin-left:10px}\";// packages/ag-grid-community/src/rendering/cellRenderers/animateSlideCellRenderer.ts\nvar AnimateSlideCellRendererElement={tag:\"span\",children:[{tag:\"span\",ref:\"eCurrent\",cls:\"ag-value-slide-current\"}]};var AnimateSlideCellRenderer=class extends Component{constructor(){super(AnimateSlideCellRendererElement);this.eCurrent=RefPlaceholder;this.refreshCount=0;this.registerCSS(animateSlideCellRendererCSS);}init(params){this.refresh(params,true);}addSlideAnimation(){this.refreshCount++;var refreshCountCopy=this.refreshCount;if(this.ePrevious){this.getGui().removeChild(this.ePrevious);}var{beans,eCurrent}=this;var prevElement=_createElement({tag:\"span\",cls:\"ag-value-slide-previous ag-value-slide-out\"});this.ePrevious=prevElement;prevElement.textContent=eCurrent.textContent;this.getGui().insertBefore(prevElement,eCurrent);beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{if(refreshCountCopy!==this.refreshCount){return;}this.ePrevious.classList.add(\"ag-value-slide-out-end\");},50);window.setTimeout(()=>{if(refreshCountCopy!==this.refreshCount){return;}this.getGui().removeChild(this.ePrevious);this.ePrevious=null;},3e3);});}refresh(params){var _this$beans$filterMan1;var isInitialRender=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var value=params.value;if(_missing(value)){value=\"\";}if(value===this.lastValue){return false;}if((_this$beans$filterMan1=this.beans.filterManager)!==null&&_this$beans$filterMan1!==void 0&&_this$beans$filterMan1.isSuppressFlashingCellsBecauseFiltering()){return false;}if(!isInitialRender){this.addSlideAnimation();}this.lastValue=value;var eCurrent=this.eCurrent;if(_exists(params.valueFormatted)){eCurrent.textContent=params.valueFormatted;}else if(_exists(params.value)){eCurrent.textContent=value;}else{_clearElement(eCurrent);}return true;}};// packages/ag-grid-community/src/rendering/cell/cellFlashService.ts\nvar CellFlashService=class extends BeanStub{constructor(){super(...arguments);this.beanName=\"cellFlashSvc\";this.nextAnimationTime=null;this.nextAnimationCycle=null;this.animations={highlight:/* @__PURE__ */new Map(),\"data-changed\":/* @__PURE__ */new Map()};}animateCell(cellCtrl,cssName){var flashDuration=arguments.length>2&&arguments[2]!==undefined?arguments[2]:this.beans.gos.get(\"cellFlashDuration\");var fadeDuration=arguments.length>3&&arguments[3]!==undefined?arguments[3]:this.beans.gos.get(\"cellFadeDuration\");var animations=this.animations[cssName];animations.delete(cellCtrl);var time=Date.now();var flashEndTime=time+flashDuration;var fadeEndTime=time+flashDuration+fadeDuration;var animState={phase:\"flash\",flashEndTime,fadeEndTime};animations.set(cellCtrl,animState);var cssBase=\"ag-cell-\".concat(cssName);var cssAnimation=\"\".concat(cssBase,\"-animation\");var{comp,eGui:{style}}=cellCtrl;comp.toggleCss(cssBase,true);comp.toggleCss(cssAnimation,false);style.removeProperty(\"transition\");style.removeProperty(\"transition-delay\");if(this.nextAnimationTime&&flashEndTime+15<this.nextAnimationTime){clearTimeout(this.nextAnimationCycle);this.nextAnimationCycle=null;this.nextAnimationTime=null;}if(!this.nextAnimationCycle){this.beans.frameworkOverrides.wrapIncoming(()=>{this.nextAnimationCycle=setTimeout(this.advanceAnimations.bind(this),flashDuration);});this.nextAnimationTime=flashEndTime;}}advanceAnimations(){var time=Date.now();var nextAnimationTime=null;for(var cssName of Object.keys(this.animations)){var animations=this.animations[cssName];var cssBase=\"ag-cell-\".concat(cssName);var cssAnimation=\"\".concat(cssBase,\"-animation\");for(var[cell,animState]of animations){if(!cell.isAlive()||!cell.comp){animations.delete(cell);continue;}var{phase,flashEndTime,fadeEndTime}=animState;var nextActionableTime=phase===\"flash\"?flashEndTime:fadeEndTime;var requiresAction=time+15>=nextActionableTime;if(!requiresAction){nextAnimationTime=Math.min(nextActionableTime,nextAnimationTime!==null&&nextAnimationTime!==void 0?nextAnimationTime:Infinity);continue;}var{comp,eGui:{style}}=cell;switch(phase){case\"flash\":comp.toggleCss(cssBase,false);comp.toggleCss(cssAnimation,true);style.transition=\"background-color \".concat(fadeEndTime-flashEndTime,\"ms\");style.transitionDelay=\"\".concat(flashEndTime-time,\"ms\");nextAnimationTime=Math.min(fadeEndTime,nextAnimationTime!==null&&nextAnimationTime!==void 0?nextAnimationTime:Infinity);animState.phase=\"fade\";break;case\"fade\":comp.toggleCss(cssBase,false);comp.toggleCss(cssAnimation,false);style.removeProperty(\"transition\");style.removeProperty(\"transition-delay\");animations.delete(cell);break;}}}if(nextAnimationTime==null){this.nextAnimationTime=null;this.nextAnimationCycle=null;}else if(nextAnimationTime){this.nextAnimationCycle=setTimeout(this.advanceAnimations.bind(this),nextAnimationTime-time);this.nextAnimationTime=nextAnimationTime;}}onFlashCells(cellCtrl,event){if(!cellCtrl.comp){return;}var cellId=_createCellId(cellCtrl.cellPosition);var shouldFlash=event.cells[cellId];if(shouldFlash){this.animateCell(cellCtrl,\"highlight\");}}flashCell(cellCtrl,delays){this.animateCell(cellCtrl,\"data-changed\",delays===null||delays===void 0?void 0:delays.flashDuration,delays===null||delays===void 0?void 0:delays.fadeDuration);}destroy(){for(var cssName of Object.keys(this.animations)){var animations=this.animations[cssName];animations.clear();}}};// packages/ag-grid-community/src/rendering/cell/highlightChangesApi.ts\nfunction flashCells(beans){var params=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var{cellFlashSvc}=beans;if(!cellFlashSvc){return;}beans.frameworkOverrides.wrapIncoming(()=>{beans.rowRenderer.getCellCtrls(params.rowNodes,params.columns).forEach(cellCtrl=>cellFlashSvc.flashCell(cellCtrl,params));});}// packages/ag-grid-community/src/rendering/cell/highlightChangesModule.ts\nvar HighlightChangesModule={moduleName:\"HighlightChanges\",version:VERSION,beans:[CellFlashService],userComponents:{agAnimateShowChangeCellRenderer:AnimateShowChangeCellRenderer,agAnimateSlideCellRenderer:AnimateSlideCellRenderer},apiFunctions:{flashCells}};// packages/ag-grid-community/src/misc/state/stateApi.ts\nfunction getState(beans){var _beans$stateSvc$getSt,_beans$stateSvc;return(_beans$stateSvc$getSt=(_beans$stateSvc=beans.stateSvc)===null||_beans$stateSvc===void 0?void 0:_beans$stateSvc.getState())!==null&&_beans$stateSvc$getSt!==void 0?_beans$stateSvc$getSt:{};}function setState(beans,state,propertiesToIgnore){var _beans$stateSvc2;return(_beans$stateSvc2=beans.stateSvc)===null||_beans$stateSvc2===void 0?void 0:_beans$stateSvc2.setState(state,propertiesToIgnore);}// packages/ag-grid-community/src/misc/state/stateModelMigration.ts\nfunction migrateGridStateModel(state){state=_objectSpread({},state);if(!state.version){state.version=\"32.1.0\";}switch(state.version){case\"32.1.0\":state=migrateV32_1(state);}state.version=VERSION;return state;}function migrateV32_1(state){state.cellSelection=jsonGet(state,\"rangeSelection\");return state;}function jsonGet(json,key){if(json&&typeof json===\"object\"){return json[key];}}// packages/ag-grid-community/src/misc/state/stateService.ts\nvar StateService=class extends BeanStub{constructor(){super(...arguments);this.beanName=\"stateSvc\";this.updateRowGroupExpansionStateTimer=0;this.suppressEvents=true;this.queuedUpdateSources=/* @__PURE__ */new Set();this.dispatchStateUpdateEventDebounced=_debounce(this,()=>this.dispatchQueuedStateUpdateEvents(),0);// If user is doing a manual expand all node by node, we don't want to process one at a time.\n// EVENT_ROW_GROUP_OPENED is already async, so no impact of making the state async here.\nthis.onRowGroupOpenedDebounced=_debounce(this,()=>{this.updateCachedState(\"rowGroupExpansion\",this.getRowGroupExpansionState());},0);// similar to row expansion, want to debounce. However, selection is synchronous, so need to mark as stale in case `getState` is called.\nthis.onRowSelectedDebounced=_debounce(this,()=>{this.staleStateKeys.delete(\"rowSelection\");this.updateCachedState(\"rowSelection\",this.getRowSelectionState());},0);this.staleStateKeys=/* @__PURE__ */new Set();}postConstruct(){var _this$gos$get6;this.isClientSideRowModel=_isClientSideRowModel(this.gos);var initialState=migrateGridStateModel((_this$gos$get6=this.gos.get(\"initialState\"))!==null&&_this$gos$get6!==void 0?_this$gos$get6:{});var partialColumnState=initialState.partialColumnState;delete initialState.partialColumnState;this.cachedState=initialState;var suppressEventsAndDispatchInitEvent=this.suppressEventsAndDispatchInitEvent.bind(this);this.beans.ctrlsSvc.whenReady(this,()=>suppressEventsAndDispatchInitEvent(()=>this.setupStateOnGridReady(initialState)));var[newColumnsLoadedDestroyFunc,rowCountReadyDestroyFunc,firstDataRenderedDestroyFunc]=this.addManagedEventListeners({newColumnsLoaded:_ref255=>{var{source}=_ref255;if(source===\"gridInitializing\"){newColumnsLoadedDestroyFunc();suppressEventsAndDispatchInitEvent(()=>this.setupStateOnColumnsInitialised(initialState,!!partialColumnState));}},rowCountReady:()=>{rowCountReadyDestroyFunc===null||rowCountReadyDestroyFunc===void 0||rowCountReadyDestroyFunc();suppressEventsAndDispatchInitEvent(()=>this.setupStateOnRowCountReady(initialState));},firstDataRendered:()=>{firstDataRenderedDestroyFunc===null||firstDataRenderedDestroyFunc===void 0||firstDataRenderedDestroyFunc();suppressEventsAndDispatchInitEvent(()=>this.setupStateOnFirstDataRendered(initialState));}});}destroy(){super.destroy();clearTimeout(this.updateRowGroupExpansionStateTimer);this.queuedUpdateSources.clear();}getState(){if(this.staleStateKeys.size){this.refreshStaleState();}return this.cachedState;}setState(providedState,propertiesToIgnore){var state=migrateGridStateModel(providedState);delete state.partialColumnState;this.cachedState=state;this.startSuppressEvents();var source=\"api\";var ignoreSet=propertiesToIgnore?new Set(propertiesToIgnore):void 0;this.setGridReadyState(state,source,ignoreSet);this.setColumnsInitialisedState(state,source,false,ignoreSet);this.setRowCountState(state,source,ignoreSet);setTimeout(()=>{if(this.isAlive()){this.setFirstDataRenderedState(state,source,ignoreSet);}this.stopSuppressEvents(source);});}setGridReadyState(state,source,ignoreSet){if(source===\"api\"&&!(ignoreSet!==null&&ignoreSet!==void 0&&ignoreSet.has(\"sideBar\"))){var _this$beans$sideBar;(_this$beans$sideBar=this.beans.sideBar)===null||_this$beans$sideBar===void 0||(_this$beans$sideBar=_this$beans$sideBar.comp)===null||_this$beans$sideBar===void 0||_this$beans$sideBar.setState(state.sideBar);}this.updateCachedState(\"sideBar\",this.getSideBarState());}setupStateOnGridReady(initialState){this.setGridReadyState(initialState,\"gridInitializing\");var stateUpdater=()=>this.updateCachedState(\"sideBar\",this.getSideBarState());this.addManagedEventListeners({toolPanelVisibleChanged:stateUpdater,sideBarUpdated:stateUpdater});}updateColumnAndGroupState(){this.updateColumnState([\"aggregation\",\"columnOrder\",\"columnPinning\",\"columnSizing\",\"columnVisibility\",\"pivot\",\"rowGroup\",\"sort\"]);this.updateCachedState(\"columnGroup\",this.getColumnGroupState());}setColumnsInitialisedState(state,source,partialColumnState,ignoreSet){this.setColumnState(state,source,partialColumnState,ignoreSet);this.setColumnGroupState(state,source,ignoreSet);this.updateColumnAndGroupState();}setupStateOnColumnsInitialised(initialState,partialColumnState){this.setColumnsInitialisedState(initialState,\"gridInitializing\",partialColumnState);var onUpdate=state=>()=>this.updateColumnState([state]);this.addManagedEventListeners({columnValueChanged:onUpdate(\"aggregation\"),columnMoved:onUpdate(\"columnOrder\"),columnPinned:onUpdate(\"columnPinning\"),columnResized:onUpdate(\"columnSizing\"),columnVisible:onUpdate(\"columnVisibility\"),columnPivotChanged:onUpdate(\"pivot\"),columnPivotModeChanged:onUpdate(\"pivot\"),columnRowGroupChanged:onUpdate(\"rowGroup\"),sortChanged:onUpdate(\"sort\"),newColumnsLoaded:this.updateColumnAndGroupState.bind(this),columnGroupOpened:()=>this.updateCachedState(\"columnGroup\",this.getColumnGroupState())});}setRowCountState(state,source,ignoreSet){var{filter:filterState,rowGroupExpansion:rowGroupExpansionState,rowSelection:rowSelectionState,pagination:paginationState}=state;var shouldSetState=(prop,propState)=>!(ignoreSet!==null&&ignoreSet!==void 0&&ignoreSet.has(prop))&&(propState||source===\"api\");if(shouldSetState(\"filter\",filterState)){this.setFilterState(filterState);}if(shouldSetState(\"rowGroupExpansion\",rowGroupExpansionState)){this.setRowGroupExpansionState(rowGroupExpansionState,source);}if(shouldSetState(\"rowSelection\",rowSelectionState)){this.setRowSelectionState(rowSelectionState,source);}if(shouldSetState(\"pagination\",paginationState)){this.setPaginationState(paginationState,source);}var updateCachedState=this.updateCachedState.bind(this);updateCachedState(\"filter\",this.getFilterState());updateCachedState(\"rowGroupExpansion\",this.getRowGroupExpansionState());updateCachedState(\"rowSelection\",this.getRowSelectionState());updateCachedState(\"pagination\",this.getPaginationState());}setupStateOnRowCountReady(initialState){this.setRowCountState(initialState,\"gridInitializing\");var updateCachedState=this.updateCachedState.bind(this);var updateRowGroupExpansionState=()=>{this.updateRowGroupExpansionStateTimer=0;updateCachedState(\"rowGroupExpansion\",this.getRowGroupExpansionState());};var updateFilterState=()=>updateCachedState(\"filter\",this.getFilterState());var{gos,colFilter}=this.beans;this.addManagedEventListeners({filterChanged:updateFilterState,rowGroupOpened:()=>this.onRowGroupOpenedDebounced(),expandOrCollapseAll:updateRowGroupExpansionState,// `groupDefaultExpanded`/`isGroupOpenByDefault` updates expansion state without an expansion event\ncolumnRowGroupChanged:updateRowGroupExpansionState,rowDataUpdated:()=>{if(gos.get(\"groupDefaultExpanded\")!==0||gos.get(\"isGroupOpenByDefault\")){this.updateRowGroupExpansionStateTimer||(this.updateRowGroupExpansionStateTimer=setTimeout(updateRowGroupExpansionState));}},selectionChanged:()=>{this.staleStateKeys.add(\"rowSelection\");this.onRowSelectedDebounced();},paginationChanged:event=>{if(event.newPage||event.newPageSize){updateCachedState(\"pagination\",this.getPaginationState());}}});if(colFilter){this.addManagedListeners(colFilter,{filterStateChanged:updateFilterState});}}setFirstDataRenderedState(state,source,ignoreSet){var{scroll:scrollState,cellSelection:cellSelectionState,focusedCell:focusedCellState,columnOrder:columnOrderState,rowPinning}=state;var shouldSetState=(prop,propState)=>!(ignoreSet!==null&&ignoreSet!==void 0&&ignoreSet.has(prop))&&(propState||source===\"api\");if(shouldSetState(\"focusedCell\",focusedCellState)){this.setFocusedCellState(focusedCellState);}if(shouldSetState(\"cellSelection\",cellSelectionState)){this.setCellSelectionState(cellSelectionState);}if(shouldSetState(\"scroll\",scrollState)){this.setScrollState(scrollState);}if(shouldSetState(\"rowPinning\",rowPinning)){this.setRowPinningState(rowPinning);}this.setColumnPivotState(!!(columnOrderState!==null&&columnOrderState!==void 0&&columnOrderState.orderedColIds),source);var updateCachedState=this.updateCachedState.bind(this);updateCachedState(\"sideBar\",this.getSideBarState());updateCachedState(\"focusedCell\",this.getFocusedCellState());var cellSelection=this.getRangeSelectionState();updateCachedState(\"rangeSelection\",cellSelection);updateCachedState(\"cellSelection\",cellSelection);updateCachedState(\"scroll\",this.getScrollState());}setupStateOnFirstDataRendered(initialState){this.setFirstDataRenderedState(initialState,\"gridInitializing\");var updateCachedState=this.updateCachedState.bind(this);this.addManagedEventListeners({cellFocused:()=>updateCachedState(\"focusedCell\",this.getFocusedCellState()),cellSelectionChanged:event=>{if(event.finished){var cellSelection=this.getRangeSelectionState();updateCachedState(\"rangeSelection\",cellSelection);updateCachedState(\"cellSelection\",cellSelection);}},bodyScrollEnd:()=>updateCachedState(\"scroll\",this.getScrollState()),pinnedRowsChanged:()=>updateCachedState(\"rowPinning\",this.getRowPinningState())});}getColumnState(){var beans=this.beans;return convertColumnState(_getColumnState(beans),beans.colModel.isPivotMode());}setColumnState(state,source,partialColumnState,ignoreSet){var{sort:sortState,rowGroup:groupState,aggregation:aggregationState,pivot:pivotState,columnPinning:columnPinningState,columnVisibility:columnVisibilityState,columnSizing:columnSizingState,columnOrder:columnOrderState}=state;var shouldSetState=(prop,propState)=>!(ignoreSet!==null&&ignoreSet!==void 0&&ignoreSet.has(prop))&&(propState||source===\"api\");var columnStateMap={};var getColumnState2=colId=>{var columnState=columnStateMap[colId];if(columnState){return columnState;}columnState={colId};columnStateMap[colId]=columnState;return columnState;};var defaultState={};var shouldSetSortState=shouldSetState(\"sort\",sortState);if(shouldSetSortState){sortState===null||sortState===void 0||sortState.sortModel.forEach((_ref256,sortIndex)=>{var{colId,sort}=_ref256;var columnState=getColumnState2(colId);columnState.sort=sort;columnState.sortIndex=sortIndex;});}if(shouldSetSortState||!partialColumnState){defaultState.sort=null;defaultState.sortIndex=null;}var shouldSetGroupState=shouldSetState(\"rowGroup\",groupState);if(shouldSetGroupState){groupState===null||groupState===void 0||groupState.groupColIds.forEach((colId,rowGroupIndex)=>{var columnState=getColumnState2(colId);columnState.rowGroup=true;columnState.rowGroupIndex=rowGroupIndex;});}if(shouldSetGroupState||!partialColumnState){defaultState.rowGroup=null;defaultState.rowGroupIndex=null;}var shouldSetAggregationState=shouldSetState(\"aggregation\",aggregationState);if(shouldSetAggregationState){aggregationState===null||aggregationState===void 0||aggregationState.aggregationModel.forEach(_ref257=>{var{colId,aggFunc}=_ref257;getColumnState2(colId).aggFunc=aggFunc;});}if(shouldSetAggregationState||!partialColumnState){defaultState.aggFunc=null;}var shouldSetPivotState=shouldSetState(\"pivot\",pivotState);if(shouldSetPivotState){pivotState===null||pivotState===void 0||pivotState.pivotColIds.forEach((colId,pivotIndex)=>{var columnState=getColumnState2(colId);columnState.pivot=true;columnState.pivotIndex=pivotIndex;});this.gos.updateGridOptions({options:{pivotMode:!!(pivotState!==null&&pivotState!==void 0&&pivotState.pivotMode)},source});}if(shouldSetPivotState||!partialColumnState){defaultState.pivot=null;defaultState.pivotIndex=null;}var shouldSetColumnPinningState=shouldSetState(\"columnPinning\",columnPinningState);if(shouldSetColumnPinningState){columnPinningState===null||columnPinningState===void 0||columnPinningState.leftColIds.forEach(colId=>{getColumnState2(colId).pinned=\"left\";});columnPinningState===null||columnPinningState===void 0||columnPinningState.rightColIds.forEach(colId=>{getColumnState2(colId).pinned=\"right\";});}if(shouldSetColumnPinningState||!partialColumnState){defaultState.pinned=null;}var shouldSetColumnVisibilityState=shouldSetState(\"columnVisibility\",columnVisibilityState);if(shouldSetColumnVisibilityState){columnVisibilityState===null||columnVisibilityState===void 0||columnVisibilityState.hiddenColIds.forEach(colId=>{getColumnState2(colId).hide=true;});}if(shouldSetColumnVisibilityState||!partialColumnState){defaultState.hide=null;}var shouldSetColumnSizingState=shouldSetState(\"columnSizing\",columnSizingState);if(shouldSetColumnSizingState){columnSizingState===null||columnSizingState===void 0||columnSizingState.columnSizingModel.forEach(_ref258=>{var{colId,flex,width}=_ref258;var columnState=getColumnState2(colId);columnState.flex=flex!==null&&flex!==void 0?flex:null;columnState.width=width;});}if(shouldSetColumnSizingState||!partialColumnState){defaultState.flex=null;}var columns=columnOrderState===null||columnOrderState===void 0?void 0:columnOrderState.orderedColIds;var applyOrder=!!(columns!==null&&columns!==void 0&&columns.length)&&!(ignoreSet!==null&&ignoreSet!==void 0&&ignoreSet.has(\"columnOrder\"));var columnStates=applyOrder?columns.map(colId=>getColumnState2(colId)):Object.values(columnStateMap);if(columnStates.length){this.columnStates=columnStates;_applyColumnState(this.beans,{state:columnStates,applyOrder,defaultState},source);}}setColumnPivotState(applyOrder,source){var columnStates=this.columnStates;this.columnStates=void 0;var columnGroupStates=this.columnGroupStates;this.columnGroupStates=void 0;var beans=this.beans;var{pivotResultCols,colGroupSvc}=beans;if(!(pivotResultCols!==null&&pivotResultCols!==void 0&&pivotResultCols.isPivotResultColsPresent())){return;}if(columnStates){var secondaryColumnStates=[];for(var columnState of columnStates){if(pivotResultCols.getPivotResultCol(columnState.colId)){secondaryColumnStates.push(columnState);}}_applyColumnState(beans,{state:secondaryColumnStates,applyOrder},source);}if(columnGroupStates){colGroupSvc===null||colGroupSvc===void 0||colGroupSvc.setColumnGroupState(columnGroupStates,source);}}getColumnGroupState(){var colGroupSvc=this.beans.colGroupSvc;if(!colGroupSvc){return void 0;}var columnGroupState=colGroupSvc.getColumnGroupState();return _convertColumnGroupState(columnGroupState);}setColumnGroupState(state,source,ignoreSet){var _state$columnGroup;var colGroupSvc=this.beans.colGroupSvc;if(!colGroupSvc||ignoreSet!==null&&ignoreSet!==void 0&&ignoreSet.has(\"columnGroup\")||source!==\"api\"&&!Object.prototype.hasOwnProperty.call(state,\"columnGroup\")){return;}var openColumnGroups=new Set((_state$columnGroup=state.columnGroup)===null||_state$columnGroup===void 0?void 0:_state$columnGroup.openColumnGroupIds);var existingColumnGroupState=colGroupSvc.getColumnGroupState();var stateItems=existingColumnGroupState.map(_ref259=>{var{groupId}=_ref259;var open=openColumnGroups.has(groupId);if(open){openColumnGroups.delete(groupId);}return{groupId,open};});openColumnGroups.forEach(groupId=>{stateItems.push({groupId,open:true});});if(stateItems.length){this.columnGroupStates=stateItems;}colGroupSvc.setColumnGroupState(stateItems,source);}getFilterState(){var _filterManager$getAdv;var filterManager=this.beans.filterManager;var filterModel=filterManager===null||filterManager===void 0?void 0:filterManager.getFilterModel();if(filterModel&&Object.keys(filterModel).length===0){filterModel=void 0;}var columnFilterState=filterManager===null||filterManager===void 0?void 0:filterManager.getFilterState();var advancedFilterModel=(_filterManager$getAdv=filterManager===null||filterManager===void 0?void 0:filterManager.getAdvFilterModel())!==null&&_filterManager$getAdv!==void 0?_filterManager$getAdv:void 0;return filterModel||advancedFilterModel||columnFilterState?{filterModel,columnFilterState,advancedFilterModel}:void 0;}setFilterState(filterState){var filterManager=this.beans.filterManager;var{filterModel,columnFilterState,advancedFilterModel}=filterState!==null&&filterState!==void 0?filterState:{filterModel:null,columnFilterState:null,advancedFilterModel:null};if(filterModel!==void 0||columnFilterState!==void 0){filterManager===null||filterManager===void 0||filterManager.setFilterState(filterModel!==null&&filterModel!==void 0?filterModel:null,columnFilterState!==null&&columnFilterState!==void 0?columnFilterState:null,\"columnFilter\");}if(advancedFilterModel!==void 0){filterManager===null||filterManager===void 0||filterManager.setAdvFilterModel(advancedFilterModel!==null&&advancedFilterModel!==void 0?advancedFilterModel:null,\"advancedFilter\");}}getRangeSelectionState(){var _this$beans$rangeSvc3;var cellRanges=(_this$beans$rangeSvc3=this.beans.rangeSvc)===null||_this$beans$rangeSvc3===void 0?void 0:_this$beans$rangeSvc3.getCellRanges().map(cellRange=>{var{id,type,startRow,endRow,columns,startColumn}=cellRange;return{id,type,startRow,endRow,colIds:columns.map(column=>column.getColId()),startColId:startColumn.getColId()};});return cellRanges!==null&&cellRanges!==void 0&&cellRanges.length?{cellRanges}:void 0;}setCellSelectionState(cellSelectionState){var{gos,rangeSvc,colModel,visibleCols}=this.beans;if(!_isCellSelectionEnabled(gos)||!rangeSvc){return;}var cellRanges=[];cellSelectionState===null||cellSelectionState===void 0||cellSelectionState.cellRanges.forEach(cellRange=>{var columns=[];cellRange.colIds.forEach(colId=>{var column=colModel.getCol(colId);if(column){columns.push(column);}});if(!columns.length){return;}var startColumn=colModel.getCol(cellRange.startColId);if(!startColumn){var allColumns=visibleCols.allCols;var columnSet=new Set(columns);startColumn=allColumns.find(column=>columnSet.has(column));}cellRanges.push(_objectSpread(_objectSpread({},cellRange),{},{columns,startColumn}));});rangeSvc.setCellRanges(cellRanges);}getScrollState(){var _scrollFeature$getHSc,_scrollFeature$getVSc;if(!this.isClientSideRowModel){return void 0;}var scrollFeature=this.beans.ctrlsSvc.getScrollFeature();var{left}=(_scrollFeature$getHSc=scrollFeature===null||scrollFeature===void 0?void 0:scrollFeature.getHScrollPosition())!==null&&_scrollFeature$getHSc!==void 0?_scrollFeature$getHSc:{left:0};var{top}=(_scrollFeature$getVSc=scrollFeature===null||scrollFeature===void 0?void 0:scrollFeature.getVScrollPosition())!==null&&_scrollFeature$getVSc!==void 0?_scrollFeature$getVSc:{top:0};return top||left?{top,left}:void 0;}setScrollState(scrollState){if(!this.isClientSideRowModel){return;}var{top,left}=scrollState!==null&&scrollState!==void 0?scrollState:{top:0,left:0};var{frameworkOverrides,rowRenderer,animationFrameSvc,ctrlsSvc}=this.beans;frameworkOverrides.wrapIncoming(()=>{var _ctrlsSvc$getScrollFe;ctrlsSvc.get(\"center\").setCenterViewportScrollLeft(left);(_ctrlsSvc$getScrollFe=ctrlsSvc.getScrollFeature())===null||_ctrlsSvc$getScrollFe===void 0||_ctrlsSvc$getScrollFe.setVerticalScrollPosition(top);rowRenderer.redraw({afterScroll:true});animationFrameSvc===null||animationFrameSvc===void 0||animationFrameSvc.flushAllFrames();});}getSideBarState(){var _this$beans$sideBar2;return(_this$beans$sideBar2=this.beans.sideBar)===null||_this$beans$sideBar2===void 0||(_this$beans$sideBar2=_this$beans$sideBar2.comp)===null||_this$beans$sideBar2===void 0?void 0:_this$beans$sideBar2.getState();}getFocusedCellState(){if(!this.isClientSideRowModel){return void 0;}var focusedCell=this.beans.focusSvc.getFocusedCell();if(focusedCell){var{column,rowIndex,rowPinned}=focusedCell;return{colId:column.getColId(),rowIndex,rowPinned};}return void 0;}setFocusedCellState(focusedCellState){if(!this.isClientSideRowModel){return;}var{focusSvc,colModel}=this.beans;if(!focusedCellState){focusSvc.clearFocusedCell();return;}var{colId,rowIndex,rowPinned}=focusedCellState;focusSvc.setFocusedCell({column:colModel.getCol(colId),rowIndex,rowPinned,forceBrowserFocus:true,preventScrollOnBrowserFocus:true});}getPaginationState(){var{pagination,gos}=this.beans;if(!pagination){return void 0;}var page=pagination.getCurrentPage();var pageSize=!gos.get(\"paginationAutoPageSize\")?pagination.getPageSize():void 0;if(!page&&!pageSize){return;}return{page,pageSize};}setPaginationState(paginationState,source){var{pagination,gos}=this.beans;if(!pagination){return;}var{pageSize,page}=paginationState!==null&&paginationState!==void 0?paginationState:{page:0,pageSize:gos.get(\"paginationPageSize\")};var isInit=source===\"gridInitializing\";if(pageSize&&!gos.get(\"paginationAutoPageSize\")){pagination.setPageSize(pageSize,isInit?\"initialState\":\"pageSizeSelector\");}if(typeof page===\"number\"){if(isInit){pagination.setPage(page);}else{pagination.goToPage(page);}}}getRowSelectionState(){var _selectionState$toggl;var selectionSvc=this.beans.selectionSvc;if(!selectionSvc){return void 0;}var selectionState=selectionSvc.getSelectionState();var noSelections=!selectionState||!Array.isArray(selectionState)&&(selectionState.selectAll===false||selectionState.selectAllChildren===false)&&!(selectionState!==null&&selectionState!==void 0&&(_selectionState$toggl=selectionState.toggledNodes)!==null&&_selectionState$toggl!==void 0&&_selectionState$toggl.length);return noSelections?void 0:selectionState;}setRowSelectionState(rowSelectionState,source){var _this$beans$selection15;(_this$beans$selection15=this.beans.selectionSvc)===null||_this$beans$selection15===void 0||_this$beans$selection15.setSelectionState(rowSelectionState,source,source===\"api\");}getRowGroupExpansionState(){var{expansionSvc,rowModel}=this.beans;if(!expansionSvc){return void 0;}var expandedRowGroups=[];rowModel.forEachNode(_ref260=>{var{expanded,id}=_ref260;if(expanded&&id){expandedRowGroups.push(id);}});return expandedRowGroups.length?{expandedRowGroupIds:expandedRowGroups}:void 0;}getRowPinningState(){var _this$beans$pinnedRow5;return(_this$beans$pinnedRow5=this.beans.pinnedRowModel)===null||_this$beans$pinnedRow5===void 0?void 0:_this$beans$pinnedRow5.getPinnedState();}setRowPinningState(state){var pinnedRowModel=this.beans.pinnedRowModel;if(state){pinnedRowModel===null||pinnedRowModel===void 0||pinnedRowModel.setPinnedState(state);}else{pinnedRowModel===null||pinnedRowModel===void 0||pinnedRowModel.reset();}}setRowGroupExpansionState(rowGroupExpansionState,source){var _rowGroupExpansionSta;var expansionSvc=this.beans.expansionSvc;if(!expansionSvc){return;}var rowGroupIdsToExpand=(_rowGroupExpansionSta=rowGroupExpansionState===null||rowGroupExpansionState===void 0?void 0:rowGroupExpansionState.expandedRowGroupIds)!==null&&_rowGroupExpansionSta!==void 0?_rowGroupExpansionSta:[];var rowGroupIdsToCollapse;if(source===\"api\"){var _this$getRowGroupExpa;var oldExpandedRowGroupIds=(_this$getRowGroupExpa=this.getRowGroupExpansionState())===null||_this$getRowGroupExpa===void 0?void 0:_this$getRowGroupExpa.expandedRowGroupIds;if(oldExpandedRowGroupIds!==null&&oldExpandedRowGroupIds!==void 0&&oldExpandedRowGroupIds.length){var oldExpandedRowGroupIdsSet=new Set(oldExpandedRowGroupIds);for(var id of rowGroupIdsToExpand){oldExpandedRowGroupIdsSet.delete(id);}rowGroupIdsToCollapse=Array.from(oldExpandedRowGroupIdsSet);}}expansionSvc.expandRows(rowGroupIdsToExpand,rowGroupIdsToCollapse);}updateColumnState(features){var newColumnState=this.getColumnState();var hasChanged=false;var cachedState=this.cachedState;for(var key of Object.keys(newColumnState)){var value=newColumnState[key];if(!_jsonEquals(value,cachedState[key])){hasChanged=true;}}this.cachedState=_objectSpread(_objectSpread({},cachedState),newColumnState);if(hasChanged){this.dispatchStateUpdateEvent(features);}}updateCachedState(key,value){var existingValue=this.cachedState[key];this.setCachedStateValue(key,value);if(!_jsonEquals(value,existingValue)){this.dispatchStateUpdateEvent([key]);}}setCachedStateValue(key,value){this.cachedState=_objectSpread(_objectSpread({},this.cachedState),{},{[key]:value});}refreshStaleState(){var staleStateKeys=this.staleStateKeys;staleStateKeys.forEach(key=>{switch(key){case\"rowSelection\":this.setCachedStateValue(key,this.getRowSelectionState());break;}});staleStateKeys.clear();}dispatchStateUpdateEvent(sources){if(this.suppressEvents){return;}sources.forEach(source=>this.queuedUpdateSources.add(source));this.dispatchStateUpdateEventDebounced();}dispatchQueuedStateUpdateEvents(){var queuedUpdateSources=this.queuedUpdateSources;var sources=Array.from(queuedUpdateSources);queuedUpdateSources.clear();this.eventSvc.dispatchEvent({type:\"stateUpdated\",sources,state:this.cachedState});}startSuppressEvents(){var _this$beans$colAnimat;this.suppressEvents=true;(_this$beans$colAnimat=this.beans.colAnimation)===null||_this$beans$colAnimat===void 0||_this$beans$colAnimat.setSuppressAnimation(true);}stopSuppressEvents(source){setTimeout(()=>{var _this$beans$colAnimat2;this.suppressEvents=false;this.queuedUpdateSources.clear();if(!this.isAlive()){return;}(_this$beans$colAnimat2=this.beans.colAnimation)===null||_this$beans$colAnimat2===void 0||_this$beans$colAnimat2.setSuppressAnimation(false);this.dispatchStateUpdateEvent([source]);});}suppressEventsAndDispatchInitEvent(updateFunc){this.startSuppressEvents();updateFunc();this.stopSuppressEvents(\"gridInitializing\");}};// packages/ag-grid-community/src/misc/state/stateModule.ts\nvar GridStateModule={moduleName:\"GridState\",version:VERSION,beans:[StateService],apiFunctions:{getState,setState}};// packages/ag-grid-community/src/pagination/paginationApi.ts\nfunction paginationIsLastPageFound(beans){return beans.rowModel.isLastRowIndexKnown();}function paginationGetPageSize(beans){var _beans$pagination$get2,_beans$pagination3;return(_beans$pagination$get2=(_beans$pagination3=beans.pagination)===null||_beans$pagination3===void 0?void 0:_beans$pagination3.getPageSize())!==null&&_beans$pagination$get2!==void 0?_beans$pagination$get2:100;}function paginationGetCurrentPage(beans){var _beans$pagination$get3,_beans$pagination4;return(_beans$pagination$get3=(_beans$pagination4=beans.pagination)===null||_beans$pagination4===void 0?void 0:_beans$pagination4.getCurrentPage())!==null&&_beans$pagination$get3!==void 0?_beans$pagination$get3:0;}function paginationGetTotalPages(beans){var _beans$pagination$get4,_beans$pagination5;return(_beans$pagination$get4=(_beans$pagination5=beans.pagination)===null||_beans$pagination5===void 0?void 0:_beans$pagination5.getTotalPages())!==null&&_beans$pagination$get4!==void 0?_beans$pagination$get4:1;}function paginationGetRowCount(beans){return beans.pagination?beans.pagination.getMasterRowCount():beans.rowModel.getRowCount();}function paginationGoToNextPage(beans){var _beans$pagination6;(_beans$pagination6=beans.pagination)===null||_beans$pagination6===void 0||_beans$pagination6.goToNextPage();}function paginationGoToPreviousPage(beans){var _beans$pagination7;(_beans$pagination7=beans.pagination)===null||_beans$pagination7===void 0||_beans$pagination7.goToPreviousPage();}function paginationGoToFirstPage(beans){var _beans$pagination8;(_beans$pagination8=beans.pagination)===null||_beans$pagination8===void 0||_beans$pagination8.goToFirstPage();}function paginationGoToLastPage(beans){var _beans$pagination9;(_beans$pagination9=beans.pagination)===null||_beans$pagination9===void 0||_beans$pagination9.goToLastPage();}function paginationGoToPage(beans,page){var _beans$pagination0;(_beans$pagination0=beans.pagination)===null||_beans$pagination0===void 0||_beans$pagination0.goToPage(page);}// packages/ag-grid-community/src/pagination/paginationAutoPageSizeService.ts\nvar PaginationAutoPageSizeService=class extends BeanStub{constructor(){super(...arguments);this.beanName=\"paginationAutoPageSizeSvc\";}postConstruct(){this.beans.ctrlsSvc.whenReady(this,p=>{this.centerRowsCtrl=p.center;var listener=this.checkPageSize.bind(this);this.addManagedEventListeners({bodyHeightChanged:listener,scrollVisibilityChanged:listener});this.addManagedPropertyListener(\"paginationAutoPageSize\",this.onPaginationAutoSizeChanged.bind(this));this.checkPageSize();});}notActive(){return!this.gos.get(\"paginationAutoPageSize\")||this.centerRowsCtrl==null;}onPaginationAutoSizeChanged(){if(this.notActive()){this.beans.pagination.unsetAutoCalculatedPageSize();}else{this.checkPageSize();}}checkPageSize(){if(this.notActive()){return;}var bodyHeight=this.centerRowsCtrl.viewportSizeFeature.getBodyHeight();if(bodyHeight>0){var beans=this.beans;var update=()=>{var rowHeight=Math.max(_getRowHeightAsNumber(beans),1);var newPageSize=Math.floor(bodyHeight/rowHeight);beans.pagination.setPageSize(newPageSize,\"autoCalculated\");};if(!this.isBodyRendered){update();this.isBodyRendered=true;}else{_debounce(this,update,50)();}}else{this.isBodyRendered=false;}}};// packages/ag-grid-community/src/pagination/pageSizeSelector/pageSizeSelectorComp.ts\nvar paginationPageSizeSelector=\"paginationPageSizeSelector\";var PageSizeSelectorCompElement={tag:\"span\",cls:\"ag-paging-page-size\"};var PageSizeSelectorComp=class extends Component{constructor(){super(PageSizeSelectorCompElement);this.hasEmptyOption=false;this.handlePageSizeItemSelected=()=>{if(!this.selectPageSizeComp){return;}var newValue=this.selectPageSizeComp.getValue();if(!newValue){return;}var paginationPageSize=Number(newValue);if(isNaN(paginationPageSize)||paginationPageSize<1||paginationPageSize===this.pagination.getPageSize()){return;}this.pagination.setPageSize(paginationPageSize,\"pageSizeSelector\");if(this.hasEmptyOption){this.toggleSelectDisplay(true);}this.selectPageSizeComp.getFocusableElement().focus();};}wireBeans(beans){this.pagination=beans.pagination;}postConstruct(){this.addManagedPropertyListener(paginationPageSizeSelector,()=>{this.onPageSizeSelectorValuesChange();});this.addManagedEventListeners({paginationChanged:event=>this.handlePaginationChanged(event)});}handlePaginationChanged(paginationChangedEvent){if(!this.selectPageSizeComp||!(paginationChangedEvent!==null&&paginationChangedEvent!==void 0&&paginationChangedEvent.newPageSize)){return;}var paginationPageSize=this.pagination.getPageSize();if(this.getPageSizeSelectorValues().includes(paginationPageSize)){this.selectPageSizeComp.setValue(paginationPageSize.toString());}else{if(this.hasEmptyOption){this.selectPageSizeComp.setValue(\"\");}else{this.toggleSelectDisplay(true);}}}toggleSelectDisplay(show){if(this.selectPageSizeComp&&!show){this.reset();}if(!show){return;}this.reloadPageSizesSelector();if(!this.selectPageSizeComp){return;}}reset(){_clearElement(this.getGui());if(!this.selectPageSizeComp){return;}this.selectPageSizeComp=this.destroyBean(this.selectPageSizeComp);}onPageSizeSelectorValuesChange(){if(!this.selectPageSizeComp){return;}if(this.shouldShowPageSizeSelector()){this.reloadPageSizesSelector();}}shouldShowPageSizeSelector(){return this.gos.get(\"pagination\")&&!this.gos.get(\"suppressPaginationPanel\")&&!this.gos.get(\"paginationAutoPageSize\")&&this.gos.get(paginationPageSizeSelector)!==false;}reloadPageSizesSelector(){var pageSizeOptions=this.getPageSizeSelectorValues();var paginationPageSizeOption=this.pagination.getPageSize();var shouldAddAndSelectEmptyOption=!paginationPageSizeOption||!pageSizeOptions.includes(paginationPageSizeOption);if(shouldAddAndSelectEmptyOption){var pageSizeSet=this.gos.exists(\"paginationPageSize\");var pageSizesSet=this.gos.get(paginationPageSizeSelector)!==true;_warn(94,{pageSizeSet,pageSizesSet,pageSizeOptions,paginationPageSizeOption});if(!pageSizesSet){_warn(95,{paginationPageSizeOption,paginationPageSizeSelector});}pageSizeOptions.unshift(\"\");}var value=String(shouldAddAndSelectEmptyOption?\"\":paginationPageSizeOption);if(this.selectPageSizeComp){if(!_areEqual(this.pageSizeOptions,pageSizeOptions)){this.selectPageSizeComp.clearOptions().addOptions(this.createPageSizeSelectOptions(pageSizeOptions));this.pageSizeOptions=pageSizeOptions;}this.selectPageSizeComp.setValue(value,true);}else{this.createPageSizeSelectorComp(pageSizeOptions,value);}this.hasEmptyOption=shouldAddAndSelectEmptyOption;}createPageSizeSelectOptions(pageSizeOptions){return pageSizeOptions.map(value=>({value:String(value)}));}createPageSizeSelectorComp(pageSizeOptions,value){var localeTextFunc=this.getLocaleTextFunc();var localisedLabel=localeTextFunc(\"pageSizeSelectorLabel\",\"Page Size:\");var localisedAriaLabel=localeTextFunc(\"ariaPageSizeSelectorLabel\",\"Page Size\");this.selectPageSizeComp=this.createManagedBean(new AgSelect()).addOptions(this.createPageSizeSelectOptions(pageSizeOptions)).setValue(value).setAriaLabel(localisedAriaLabel).setLabel(localisedLabel).onValueChange(()=>this.handlePageSizeItemSelected());this.appendChild(this.selectPageSizeComp);}getPageSizeSelectorValues(){var defaultValues=[20,50,100];var paginationPageSizeSelectorValues=this.gos.get(paginationPageSizeSelector);if(!Array.isArray(paginationPageSizeSelectorValues)||!(paginationPageSizeSelectorValues!==null&&paginationPageSizeSelectorValues!==void 0&&paginationPageSizeSelectorValues.length)){return defaultValues;}return[...paginationPageSizeSelectorValues].sort((a,b)=>a-b);}destroy(){this.toggleSelectDisplay(false);super.destroy();}};var PageSizeSelectorSelector={selector:\"AG-PAGE-SIZE-SELECTOR\",component:PageSizeSelectorComp};// packages/ag-grid-community/src/pagination/paginationComp.css-GENERATED.ts\nvar paginationCompCSS=/*css*/\".ag-paging-panel{align-items:center;border-top:var(--ag-footer-row-border);display:flex;gap:calc(var(--ag-spacing)*4);height:var(--ag-pagination-panel-height);justify-content:flex-end;padding:0 var(--ag-cell-horizontal-padding)}:where(.ag-paging-page-size) .ag-wrapper{min-width:50px}.ag-paging-page-summary-panel{align-items:center;display:flex;gap:var(--ag-cell-widget-spacing);.ag-disabled &{pointer-events:none}}.ag-paging-button{cursor:pointer;position:relative;&.ag-disabled{cursor:default;opacity:.5}}.ag-paging-number,.ag-paging-row-summary-panel-number{font-weight:500}\";// packages/ag-grid-community/src/pagination/paginationComp.ts\nvar PaginationComp=class extends TabGuardComp{constructor(){super();this.btFirst=RefPlaceholder;this.btPrevious=RefPlaceholder;this.btNext=RefPlaceholder;this.btLast=RefPlaceholder;this.lbRecordCount=RefPlaceholder;this.lbFirstRowOnPage=RefPlaceholder;this.lbLastRowOnPage=RefPlaceholder;this.lbCurrent=RefPlaceholder;this.lbTotal=RefPlaceholder;this.pageSizeComp=RefPlaceholder;this.previousAndFirstButtonsDisabled=false;this.nextButtonDisabled=false;this.lastButtonDisabled=false;this.areListenersSetup=false;this.allowFocusInnerElement=false;this.registerCSS(paginationCompCSS);}wireBeans(beans){this.rowModel=beans.rowModel;this.pagination=beans.pagination;this.ariaAnnounce=beans.ariaAnnounce;}postConstruct(){var isRtl=this.gos.get(\"enableRtl\");this.setTemplate(this.getTemplate(),[PageSizeSelectorSelector]);var{btFirst,btPrevious,btNext,btLast}=this;this.activateTabIndex([btFirst,btPrevious,btNext,btLast]);btFirst.insertAdjacentElement(\"afterbegin\",_createIconNoSpan(isRtl?\"last\":\"first\",this.beans));btPrevious.insertAdjacentElement(\"afterbegin\",_createIconNoSpan(isRtl?\"next\":\"previous\",this.beans));btNext.insertAdjacentElement(\"afterbegin\",_createIconNoSpan(isRtl?\"previous\":\"next\",this.beans));btLast.insertAdjacentElement(\"afterbegin\",_createIconNoSpan(isRtl?\"first\":\"last\",this.beans));this.addManagedPropertyListener(\"pagination\",this.onPaginationChanged.bind(this));this.addManagedPropertyListener(\"suppressPaginationPanel\",this.onPaginationChanged.bind(this));this.addManagedPropertyListeners([\"paginationPageSizeSelector\",\"paginationAutoPageSize\",\"suppressPaginationPanel\"],()=>this.onPageSizeRelatedOptionsChange());this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector());this.initialiseTabGuard({// prevent tab guard default logic\nonTabKeyDown:()=>{},focusInnerElement:fromBottom=>{if(this.allowFocusInnerElement){return this.tabGuardFeature.getTabGuardCtrl().focusInnerElement(fromBottom);}else{return _focusGridInnerElement(this.beans,fromBottom);}},forceFocusOutWhenTabGuardsAreEmpty:true});this.onPaginationChanged();}setAllowFocus(allowFocus){this.allowFocusInnerElement=allowFocus;}onPaginationChanged(){var isPaging=this.gos.get(\"pagination\");var paginationPanelEnabled=isPaging&&!this.gos.get(\"suppressPaginationPanel\");this.setDisplayed(paginationPanelEnabled);if(!paginationPanelEnabled){return;}this.setupListeners();this.enableOrDisableButtons();this.updateLabels();this.onPageSizeRelatedOptionsChange();}onPageSizeRelatedOptionsChange(){this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector());}setupListeners(){if(!this.areListenersSetup){this.addManagedEventListeners({paginationChanged:this.onPaginationChanged.bind(this)});[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(item=>{var{el,fn}=item;this.addManagedListeners(el,{click:fn,keydown:e=>{if(e.key===KeyCode.ENTER||e.key===KeyCode.SPACE){e.preventDefault();fn();}}});});_addFocusableContainerListener(this.beans,this,this.getGui());this.areListenersSetup=true;}}onBtFirst(){if(!this.previousAndFirstButtonsDisabled){this.pagination.goToFirstPage();}}formatNumber(value){var userFunc=this.gos.getCallback(\"paginationNumberFormatter\");if(userFunc){var params={value};return userFunc(params);}return _formatNumberCommas(value,this.getLocaleTextFunc.bind(this));}getTemplate(){var localeTextFunc=this.getLocaleTextFunc();var idPrefix=\"ag-\".concat(this.getCompId());return{tag:\"div\",cls:\"ag-paging-panel ag-unselectable\",attrs:{id:\"\".concat(idPrefix)},children:[{tag:\"ag-page-size-selector\",ref:\"pageSizeComp\"},{tag:\"span\",cls:\"ag-paging-row-summary-panel\",children:[{tag:\"span\",ref:\"lbFirstRowOnPage\",cls:\"ag-paging-row-summary-panel-number\",attrs:{id:\"\".concat(idPrefix,\"-first-row\")}},{tag:\"span\",attrs:{id:\"\".concat(idPrefix,\"-to\")},children:localeTextFunc(\"to\",\"to\")},{tag:\"span\",ref:\"lbLastRowOnPage\",cls:\"ag-paging-row-summary-panel-number\",attrs:{id:\"\".concat(idPrefix,\"-last-row\")}},{tag:\"span\",attrs:{id:\"\".concat(idPrefix,\"-of\")},children:localeTextFunc(\"of\",\"of\")},{tag:\"span\",ref:\"lbRecordCount\",cls:\"ag-paging-row-summary-panel-number\",attrs:{id:\"\".concat(idPrefix,\"-row-count\")}}]},{tag:\"span\",cls:\"ag-paging-page-summary-panel\",role:\"presentation\",children:[{tag:\"div\",ref:\"btFirst\",cls:\"ag-button ag-paging-button\",role:\"button\",attrs:{\"aria-label\":localeTextFunc(\"firstPage\",\"First Page\")}},{tag:\"div\",ref:\"btPrevious\",cls:\"ag-button ag-paging-button\",role:\"button\",attrs:{\"aria-label\":localeTextFunc(\"previousPage\",\"Previous Page\")}},{tag:\"span\",cls:\"ag-paging-description\",children:[{tag:\"span\",attrs:{id:\"\".concat(idPrefix,\"-start-page\")},children:localeTextFunc(\"page\",\"Page\")},{tag:\"span\",ref:\"lbCurrent\",cls:\"ag-paging-number\",attrs:{id:\"\".concat(idPrefix,\"-start-page-number\")}},{tag:\"span\",attrs:{id:\"\".concat(idPrefix,\"-of-page\")},children:localeTextFunc(\"of\",\"of\")},{tag:\"span\",ref:\"lbTotal\",cls:\"ag-paging-number\",attrs:{id:\"\".concat(idPrefix,\"-of-page-number\")}}]},{tag:\"div\",ref:\"btNext\",cls:\"ag-button ag-paging-button\",role:\"button\",attrs:{\"aria-label\":localeTextFunc(\"nextPage\",\"Next Page\")}},{tag:\"div\",ref:\"btLast\",cls:\"ag-button ag-paging-button\",role:\"button\",attrs:{\"aria-label\":localeTextFunc(\"lastPage\",\"Last Page\")}}]}]};}onBtNext(){if(!this.nextButtonDisabled){this.pagination.goToNextPage();}}onBtPrevious(){if(!this.previousAndFirstButtonsDisabled){this.pagination.goToPreviousPage();}}onBtLast(){if(!this.lastButtonDisabled){this.pagination.goToLastPage();}}enableOrDisableButtons(){var currentPage=this.pagination.getCurrentPage();var maxRowFound=this.rowModel.isLastRowIndexKnown();var totalPages=this.pagination.getTotalPages();this.previousAndFirstButtonsDisabled=currentPage===0;this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled);this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);var zeroPagesToDisplay=this.isZeroPagesToDisplay();var onLastPage=currentPage===totalPages-1;this.nextButtonDisabled=onLastPage||zeroPagesToDisplay;this.lastButtonDisabled=!maxRowFound||zeroPagesToDisplay||currentPage===totalPages-1;this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled);this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled);}toggleButtonDisabled(button,disabled){_setAriaDisabled(button,disabled);button.classList.toggle(\"ag-disabled\",disabled);}isZeroPagesToDisplay(){var maxRowFound=this.rowModel.isLastRowIndexKnown();var totalPages=this.pagination.getTotalPages();return maxRowFound&&totalPages===0;}updateLabels(){var lastPageFound=this.rowModel.isLastRowIndexKnown();var totalPages=this.pagination.getTotalPages();var masterRowCount=this.pagination.getMasterRowCount();var rowCount=lastPageFound?masterRowCount:null;var currentPage=this.pagination.getCurrentPage();var pageSize=this.pagination.getPageSize();var startRow;var endRow;if(this.isZeroPagesToDisplay()){startRow=endRow=0;}else{startRow=pageSize*currentPage+1;endRow=startRow+pageSize-1;if(lastPageFound&&endRow>rowCount){endRow=rowCount;}}var theoreticalEndRow=startRow+pageSize-1;var isLoadingPageSize=!lastPageFound&&masterRowCount<theoreticalEndRow;var lbFirstRowOnPage=this.formatNumber(startRow);this.lbFirstRowOnPage.textContent=lbFirstRowOnPage;var lbLastRowOnPage;var localeTextFunc=this.getLocaleTextFunc();if(isLoadingPageSize){lbLastRowOnPage=localeTextFunc(\"pageLastRowUnknown\",\"?\");}else{lbLastRowOnPage=this.formatNumber(endRow);}this.lbLastRowOnPage.textContent=lbLastRowOnPage;var pagesExist=totalPages>0;var toDisplay=pagesExist?currentPage+1:0;var lbCurrent=this.formatNumber(toDisplay);this.lbCurrent.textContent=lbCurrent;var lbTotal;var lbRecordCount;if(lastPageFound){lbTotal=this.formatNumber(totalPages);lbRecordCount=this.formatNumber(rowCount);}else{var moreText=localeTextFunc(\"more\",\"more\");lbTotal=moreText;lbRecordCount=moreText;}this.lbTotal.textContent=lbTotal;this.lbRecordCount.textContent=lbRecordCount;this.announceAriaStatus(lbFirstRowOnPage,lbLastRowOnPage,lbRecordCount,lbCurrent,lbTotal);}announceAriaStatus(lbFirstRowOnPage,lbLastRowOnPage,lbRecordCount,lbCurrent,lbTotal){var localeTextFunc=this.getLocaleTextFunc();var strPage=localeTextFunc(\"page\",\"Page\");var strTo=localeTextFunc(\"to\",\"to\");var strOf=localeTextFunc(\"of\",\"of\");var ariaRowStatus=\"\".concat(lbFirstRowOnPage,\" \").concat(strTo,\" \").concat(lbLastRowOnPage,\" \").concat(strOf,\" \").concat(lbRecordCount);var ariaPageStatus=\"\".concat(strPage,\" \").concat(lbCurrent,\" \").concat(strOf,\" \").concat(lbTotal);if(ariaRowStatus!==this.ariaRowStatus){var _this$ariaAnnounce;this.ariaRowStatus=ariaRowStatus;(_this$ariaAnnounce=this.ariaAnnounce)===null||_this$ariaAnnounce===void 0||_this$ariaAnnounce.announceValue(ariaRowStatus,\"paginationRow\");}if(ariaPageStatus!==this.ariaPageStatus){var _this$ariaAnnounce2;this.ariaPageStatus=ariaPageStatus;(_this$ariaAnnounce2=this.ariaAnnounce)===null||_this$ariaAnnounce2===void 0||_this$ariaAnnounce2.announceValue(ariaPageStatus,\"paginationPage\");}}setTotalLabelsToZero(){var strZero=this.formatNumber(0);this.lbFirstRowOnPage.textContent=strZero;this.lbCurrent.textContent=strZero;this.lbLastRowOnPage.textContent=strZero;this.lbTotal.textContent=strZero;this.lbRecordCount.textContent=strZero;this.announceAriaStatus(strZero,strZero,strZero,strZero,strZero);}};var PaginationSelector={selector:\"AG-PAGINATION\",component:PaginationComp};// packages/ag-grid-community/src/pagination/paginationService.ts\nvar PaginationService=class extends BeanStub{constructor(){super(...arguments);this.beanName=\"pagination\";this.currentPage=0;this.topDisplayedRowIndex=0;this.bottomDisplayedRowIndex=0;this.masterRowCount=0;}postConstruct(){var gos=this.gos;this.active=gos.get(\"pagination\");this.pageSizeFromGridOptions=gos.get(\"paginationPageSize\");this.paginateChildRows=this.isPaginateChildRows();this.addManagedPropertyListener(\"pagination\",this.onPaginationGridOptionChanged.bind(this));this.addManagedPropertyListener(\"paginationPageSize\",this.onPageSizeGridOptionChanged.bind(this));}getPaginationSelector(){return PaginationSelector;}isPaginateChildRows(){var gos=this.gos;var shouldPaginate=gos.get(\"groupHideParentOfSingleChild\")||// following two properties deprecated v32.3.0\ngos.get(\"groupRemoveSingleChildren\")||gos.get(\"groupRemoveLowestSingleChildren\");if(shouldPaginate){return true;}return gos.get(\"paginateChildRows\");}onPaginationGridOptionChanged(){this.active=this.gos.get(\"pagination\");this.calculatePages();this.dispatchPaginationChangedEvent({keepRenderedRows:true});}onPageSizeGridOptionChanged(){this.setPageSize(this.gos.get(\"paginationPageSize\"),\"gridOptions\");}goToPage(page){var currentPage=this.currentPage;if(!this.active||currentPage===page||typeof currentPage!==\"number\"){return;}var{editSvc}=this.beans;if(editSvc!==null&&editSvc!==void 0&&editSvc.isEditing()){if(editSvc.isBatchEditing()){editSvc.cleanupEditors();}else{editSvc.stopEditing(void 0,{source:\"api\"});}}this.currentPage=page;this.calculatePages();this.dispatchPaginationChangedEvent({newPage:true});}goToPageWithIndex(index){if(!this.active){return;}var adjustedIndex=index;if(!this.paginateChildRows){var _this$beans$rowModel$2,_this$beans$rowModel$3,_this$beans$rowModel;adjustedIndex=(_this$beans$rowModel$2=(_this$beans$rowModel$3=(_this$beans$rowModel=this.beans.rowModel).getTopLevelIndexFromDisplayedIndex)===null||_this$beans$rowModel$3===void 0?void 0:_this$beans$rowModel$3.call(_this$beans$rowModel,index))!==null&&_this$beans$rowModel$2!==void 0?_this$beans$rowModel$2:index;}this.goToPage(Math.floor(adjustedIndex/this.pageSize));}isRowInPage(rowIndex){if(!this.active){return true;}return rowIndex>=this.topDisplayedRowIndex&&rowIndex<=this.bottomDisplayedRowIndex;}getCurrentPage(){return this.currentPage;}goToNextPage(){this.goToPage(this.currentPage+1);}goToPreviousPage(){this.goToPage(this.currentPage-1);}goToFirstPage(){this.goToPage(0);}goToLastPage(){var rowCount=this.beans.rowModel.getRowCount();var lastPage=Math.floor(rowCount/this.pageSize);this.goToPage(lastPage);}getPageSize(){return this.pageSize;}getTotalPages(){return this.totalPages;}/** This is only for state setting before data has been loaded */setPage(page){this.currentPage=page;}get pageSize(){if(_exists(this.pageSizeAutoCalculated)&&this.gos.get(\"paginationAutoPageSize\")){return this.pageSizeAutoCalculated;}if(_exists(this.pageSizeFromPageSizeSelector)){return this.pageSizeFromPageSizeSelector;}if(_exists(this.pageSizeFromInitialState)){return this.pageSizeFromInitialState;}if(_exists(this.pageSizeFromGridOptions)){return this.pageSizeFromGridOptions;}return this.defaultPageSize;}calculatePages(){if(this.active){if(this.paginateChildRows){this.calculatePagesAllRows();}else{this.calculatePagesMasterRowsOnly();}}else{this.calculatedPagesNotActive();}this.beans.pageBounds.calculateBounds(this.topDisplayedRowIndex,this.bottomDisplayedRowIndex);}unsetAutoCalculatedPageSize(){if(this.pageSizeAutoCalculated===void 0){return;}var oldPageSize=this.pageSizeAutoCalculated;this.pageSizeAutoCalculated=void 0;if(this.pageSize===oldPageSize){return;}this.calculatePages();this.dispatchPaginationChangedEvent({newPageSize:true});}setPageSize(size,source){var currentSize=this.pageSize;switch(source){case\"autoCalculated\":this.pageSizeAutoCalculated=size;break;case\"pageSizeSelector\":this.pageSizeFromPageSizeSelector=size;if(this.currentPage!==0){this.goToFirstPage();}break;case\"initialState\":this.pageSizeFromInitialState=size;break;case\"gridOptions\":this.pageSizeFromGridOptions=size;this.pageSizeFromInitialState=void 0;this.pageSizeFromPageSizeSelector=void 0;if(this.currentPage!==0){this.goToFirstPage();}break;}if(currentSize!==this.pageSize){this.calculatePages();this.dispatchPaginationChangedEvent({newPageSize:true,keepRenderedRows:true});}}setZeroRows(){this.masterRowCount=0;this.topDisplayedRowIndex=0;this.bottomDisplayedRowIndex=-1;this.currentPage=0;this.totalPages=0;}adjustCurrentPageIfInvalid(){var totalPages=this.totalPages;if(this.currentPage>=totalPages){this.currentPage=totalPages-1;}var currentPage=this.currentPage;if(!isFinite(currentPage)||isNaN(currentPage)||currentPage<0){this.currentPage=0;}}calculatePagesMasterRowsOnly(){var rowModel=this.beans.rowModel;var masterRowCount=rowModel.getTopLevelRowCount();this.masterRowCount=masterRowCount;if(masterRowCount<=0){this.setZeroRows();return;}var pageSize=this.pageSize;var masterLastRowIndex=masterRowCount-1;this.totalPages=Math.floor(masterLastRowIndex/pageSize)+1;this.adjustCurrentPageIfInvalid();var currentPage=this.currentPage;var masterPageStartIndex=pageSize*currentPage;var masterPageEndIndex=pageSize*(currentPage+1)-1;if(masterPageEndIndex>masterLastRowIndex){masterPageEndIndex=masterLastRowIndex;}this.topDisplayedRowIndex=rowModel.getTopLevelRowDisplayedIndex(masterPageStartIndex);if(masterPageEndIndex===masterLastRowIndex){this.bottomDisplayedRowIndex=rowModel.getRowCount()-1;}else{var firstIndexNotToShow=rowModel.getTopLevelRowDisplayedIndex(masterPageEndIndex+1);this.bottomDisplayedRowIndex=firstIndexNotToShow-1;}}getMasterRowCount(){return this.masterRowCount;}calculatePagesAllRows(){var masterRowCount=this.beans.rowModel.getRowCount();this.masterRowCount=masterRowCount;if(masterRowCount===0){this.setZeroRows();return;}var{pageSize,currentPage}=this;var maxRowIndex=masterRowCount-1;this.totalPages=Math.floor(maxRowIndex/pageSize)+1;this.adjustCurrentPageIfInvalid();this.topDisplayedRowIndex=pageSize*currentPage;this.bottomDisplayedRowIndex=pageSize*(currentPage+1)-1;if(this.bottomDisplayedRowIndex>maxRowIndex){this.bottomDisplayedRowIndex=maxRowIndex;}}calculatedPagesNotActive(){this.setPageSize(void 0,\"autoCalculated\");this.totalPages=1;this.currentPage=0;this.topDisplayedRowIndex=0;this.bottomDisplayedRowIndex=this.beans.rowModel.getRowCount()-1;}dispatchPaginationChangedEvent(params){var{keepRenderedRows=false,newPage=false,newPageSize=false}=params;this.eventSvc.dispatchEvent({type:\"paginationChanged\",animate:false,newData:false,newPage,newPageSize,keepRenderedRows});}};// packages/ag-grid-community/src/pagination/paginationModule.ts\nvar PaginationModule={moduleName:\"Pagination\",version:VERSION,beans:[PaginationService,PaginationAutoPageSizeService],icons:{// \"go to first\" button in pagination controls\nfirst:\"first\",// \"go to previous\" button in pagination controls\nprevious:\"previous\",// \"go to next\" button in pagination controls\nnext:\"next\",// \"go to last\" button in pagination controls\nlast:\"last\"},apiFunctions:{paginationIsLastPageFound,paginationGetPageSize,paginationGetCurrentPage,paginationGetTotalPages,paginationGetRowCount,paginationGoToNextPage,paginationGoToPreviousPage,paginationGoToFirstPage,paginationGoToLastPage,paginationGoToPage},dependsOn:[PopupModule]};// packages/ag-grid-community/src/api/rowApi.ts\nfunction redrawRows(beans){var params=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var rowNodes=params?params.rowNodes:void 0;beans.frameworkOverrides.wrapIncoming(()=>beans.rowRenderer.redrawRows(rowNodes));}function setRowNodeExpanded(beans,rowNode,expanded,expandParents,forceSync){if(rowNode){if(expandParents&&rowNode.parent&&rowNode.parent.level!==-1){setRowNodeExpanded(beans,rowNode.parent,expanded,expandParents,forceSync);}rowNode.setExpanded(expanded,void 0,forceSync);}}function getRowNode(beans,id){return beans.rowModel.getRowNode(id);}function addRenderedRowListener(beans,eventName,rowIndex,callback){beans.rowRenderer.addRenderedRowListener(eventName,rowIndex,callback);}function getRenderedNodes(beans){return beans.rowRenderer.getRenderedNodes();}function forEachNode(beans,callback,includeFooterNodes){beans.rowModel.forEachNode(callback,includeFooterNodes);}function getFirstDisplayedRowIndex(beans){return beans.rowRenderer.firstRenderedRow;}function getLastDisplayedRowIndex(beans){return beans.rowRenderer.lastRenderedRow;}function getDisplayedRowAtIndex(beans,index){return beans.rowModel.getRow(index);}function getDisplayedRowCount(beans){return beans.rowModel.getRowCount();}// packages/ag-grid-community/src/api/apiModule.ts\nvar RowApiModule={moduleName:\"RowApi\",version:VERSION,apiFunctions:{redrawRows,setRowNodeExpanded,getRowNode,addRenderedRowListener,getRenderedNodes,forEachNode,getFirstDisplayedRowIndex,getLastDisplayedRowIndex,getDisplayedRowAtIndex,getDisplayedRowCount}};var ScrollApiModule={moduleName:\"ScrollApi\",version:VERSION,apiFunctions:{getVerticalPixelRange,getHorizontalPixelRange,ensureColumnVisible,ensureIndexVisible,ensureNodeVisible}};// packages/ag-grid-community/src/rendering/renderApi.ts\nfunction setGridAriaProperty(beans,property,value){if(!property){return;}var eGrid=beans.ctrlsSvc.getGridBodyCtrl().eGridBody;var ariaProperty=\"aria-\".concat(property);if(value===null){eGrid.removeAttribute(ariaProperty);}else{eGrid.setAttribute(ariaProperty,value);}}function refreshCells(beans){var params=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};beans.frameworkOverrides.wrapIncoming(()=>beans.rowRenderer.refreshCells(params));}function refreshHeader(beans){beans.frameworkOverrides.wrapIncoming(()=>beans.ctrlsSvc.getHeaderRowContainerCtrls().forEach(c=>c.refresh()));}function isAnimationFrameQueueEmpty(beans){var _beans$animationFrame,_beans$animationFrame2;return(_beans$animationFrame=(_beans$animationFrame2=beans.animationFrameSvc)===null||_beans$animationFrame2===void 0?void 0:_beans$animationFrame2.isQueueEmpty())!==null&&_beans$animationFrame!==void 0?_beans$animationFrame:true;}function flushAllAnimationFrames(beans){var _beans$animationFrame3;(_beans$animationFrame3=beans.animationFrameSvc)===null||_beans$animationFrame3===void 0||_beans$animationFrame3.flushAllFrames();}function getSizesForCurrentTheme(beans){return{rowHeight:_getRowHeightAsNumber(beans),headerHeight:getHeaderHeight(beans)};}function getCellRendererInstances(beans){var _params$columns;var params=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var cellRenderers=[];beans.rowRenderer.getCellCtrls(params.rowNodes,params.columns).forEach(cellCtrl=>{var cellRenderer=cellCtrl.getCellRenderer();if(cellRenderer!=null){cellRenderers.push(_unwrapUserComp(cellRenderer));}});if((_params$columns=params.columns)!==null&&_params$columns!==void 0&&_params$columns.length){return cellRenderers;}var fullWidthRenderers=[];var rowIdMap=mapRowNodes(params.rowNodes);beans.rowRenderer.getAllRowCtrls().forEach(rowCtrl=>{if(rowIdMap&&!isRowInMap(rowCtrl.rowNode,rowIdMap)){return;}if(!rowCtrl.isFullWidth()){return;}var renderers=rowCtrl.getFullWidthCellRenderers();for(var i=0;i<renderers.length;i++){var renderer=renderers[i];if(renderer!=null){fullWidthRenderers.push(_unwrapUserComp(renderer));}}});return[...fullWidthRenderers,...cellRenderers];}// packages/ag-grid-community/src/rendering/renderModule.ts\nvar RenderApiModule={moduleName:\"RenderApi\",version:VERSION,apiFunctions:{setGridAriaProperty,refreshCells,refreshHeader,isAnimationFrameQueueEmpty,flushAllAnimationFrames,getSizesForCurrentTheme,getCellRendererInstances}};// packages/ag-grid-community/src/columnAutosize/columnAutosizeApi.ts\nfunction sizeColumnsToFit(beans,paramsOrGridWidth){if(typeof paramsOrGridWidth===\"number\"){var _beans$colAutosize;(_beans$colAutosize=beans.colAutosize)===null||_beans$colAutosize===void 0||_beans$colAutosize.sizeColumnsToFit(paramsOrGridWidth,\"api\");}else{var _beans$colAutosize2;(_beans$colAutosize2=beans.colAutosize)===null||_beans$colAutosize2===void 0||_beans$colAutosize2.sizeColumnsToFitGridBody(paramsOrGridWidth);}}function autoSizeColumns(_ref261,keysOrParams,skipHeader){var{colAutosize,visibleCols}=_ref261;if(Array.isArray(keysOrParams)){colAutosize===null||colAutosize===void 0||colAutosize.autoSizeCols({colKeys:keysOrParams,skipHeader,source:\"api\"});}else{var _keysOrParams$colIds;colAutosize===null||colAutosize===void 0||colAutosize.autoSizeCols({colKeys:(_keysOrParams$colIds=keysOrParams.colIds)!==null&&_keysOrParams$colIds!==void 0?_keysOrParams$colIds:visibleCols.allCols,skipHeader:keysOrParams.skipHeader,defaultMaxWidth:keysOrParams.defaultMaxWidth,defaultMinWidth:keysOrParams.defaultMinWidth,columnLimits:keysOrParams.columnLimits,source:\"api\"});}}function autoSizeAllColumns(beans,paramsOrSkipHeader){if(paramsOrSkipHeader&&typeof paramsOrSkipHeader===\"object\"){autoSizeColumns(beans,paramsOrSkipHeader);}else{var _beans$colAutosize3;(_beans$colAutosize3=beans.colAutosize)===null||_beans$colAutosize3===void 0||_beans$colAutosize3.autoSizeAllColumns({source:\"api\",skipHeader:paramsOrSkipHeader});}}// packages/ag-grid-community/src/columnAutosize/columnAutosizeService.ts\nvar ColumnAutosizeService=class extends BeanStub{constructor(){super(...arguments);this.beanName=\"colAutosize\";this.timesDelayed=0;// when we're waiting for cell data types to be inferred, we need to defer column resizing\nthis.shouldQueueResizeOperations=false;this.resizeOperationQueue=[];}postConstruct(){this.addManagedEventListeners({firstDataRendered:()=>this.onFirstDataRendered()});}autoSizeCols(params){if(this.shouldQueueResizeOperations){this.pushResizeOperation(()=>this.autoSizeCols(params));return;}var{colKeys,skipHeader,skipHeaderGroups,stopAtGroup,defaultMaxWidth,defaultMinWidth,columnLimits=[],source=\"api\"}=params;var{animationFrameSvc,renderStatus,colModel,autoWidthCalc,visibleCols}=this.beans;animationFrameSvc===null||animationFrameSvc===void 0||animationFrameSvc.flushAllFrames();if(this.timesDelayed<5&&renderStatus&&!renderStatus.areHeaderCellsRendered()){this.timesDelayed++;setTimeout(()=>{if(this.isAlive()){this.autoSizeCols(params);}});return;}this.timesDelayed=0;var columnsAutoSized=[];var changesThisTimeAround=-1;var columnLimitsIndex=Object.fromEntries(columnLimits.map(_ref262=>{var{colId,maxWidth,minWidth}=_ref262;return[colId,{maxWidth,minWidth}];}));var shouldSkipHeader=skipHeader!=null?skipHeader:this.gos.get(\"skipHeaderOnAutoSize\");var shouldSkipHeaderGroups=skipHeaderGroups!=null?skipHeaderGroups:shouldSkipHeader;var _loop10=function _loop10(){changesThisTimeAround=0;var updatedColumns=[];colKeys.forEach(key=>{if(!key||isColumnSelectionCol(key)){return;}var column=colModel.getCol(key);if(!column||isRowNumberCol(column)){return;}if(columnsAutoSized.indexOf(column)>=0){return;}var preferredWidth=autoWidthCalc.getPreferredWidthForColumn(column,shouldSkipHeader);if(preferredWidth>0){var _columnLimitsIndex$co,_columnLimit$minWidth,_columnLimit$maxWidth;var columnLimit=(_columnLimitsIndex$co=columnLimitsIndex[column.colId])!==null&&_columnLimitsIndex$co!==void 0?_columnLimitsIndex$co:{};(_columnLimit$minWidth=columnLimit.minWidth)!==null&&_columnLimit$minWidth!==void 0?_columnLimit$minWidth:columnLimit.minWidth=defaultMinWidth;(_columnLimit$maxWidth=columnLimit.maxWidth)!==null&&_columnLimit$maxWidth!==void 0?_columnLimit$maxWidth:columnLimit.maxWidth=defaultMaxWidth;var newWidth=normaliseColumnWidth(column,preferredWidth,columnLimit);column.setActualWidth(newWidth,source);columnsAutoSized.push(column);changesThisTimeAround++;}updatedColumns.push(column);});if(!updatedColumns.length){return 1;// continue\n}visibleCols.refresh(source);};while(changesThisTimeAround!==0){if(_loop10())continue;}if(!shouldSkipHeaderGroups){this.autoSizeColumnGroupsByColumns(colKeys,source,stopAtGroup);}dispatchColumnResizedEvent(this.eventSvc,columnsAutoSized,true,\"autosizeColumns\");}autoSizeColumn(key,source,skipHeader){if(key){this.autoSizeCols({colKeys:[key],skipHeader,skipHeaderGroups:true,source});}}autoSizeColumnGroupsByColumns(keys,source,stopAtGroup){var{colModel,ctrlsSvc}=this.beans;var columnGroups=/* @__PURE__ */new Set();var columns=colModel.getColsForKeys(keys);columns.forEach(col=>{var parent=col.getParent();while(parent&&parent!=stopAtGroup){if(!parent.isPadding()){columnGroups.add(parent);}parent=parent.getParent();}});var headerGroupCtrl;var resizedColumns=[];for(var columnGroup of columnGroups){for(var headerContainerCtrl of ctrlsSvc.getHeaderRowContainerCtrls()){headerGroupCtrl=headerContainerCtrl.getHeaderCtrlForColumn(columnGroup);if(headerGroupCtrl){break;}}if(headerGroupCtrl){headerGroupCtrl.resizeLeafColumnsToFit(source);}}return resizedColumns;}autoSizeAllColumns(params){if(this.shouldQueueResizeOperations){this.pushResizeOperation(()=>this.autoSizeAllColumns(params));return;}var allDisplayedColumns=this.beans.visibleCols.allCols;this.autoSizeCols(_objectSpread({colKeys:allDisplayedColumns},params));}addColumnAutosize(element,column){var skipHeaderOnAutoSize=this.gos.get(\"skipHeaderOnAutoSize\");var autoSizeColListener=()=>{this.autoSizeColumn(column,\"uiColumnResized\",skipHeaderOnAutoSize);};element.addEventListener(\"dblclick\",autoSizeColListener);var touchListener=new TouchListener(element);touchListener.addEventListener(\"doubleTap\",autoSizeColListener);return()=>{element.removeEventListener(\"dblclick\",autoSizeColListener);touchListener.removeEventListener(\"doubleTap\",autoSizeColListener);touchListener.destroy();};}addColumnGroupResize(element,columnGroup,callback){var skipHeaderOnAutoSize=this.gos.get(\"skipHeaderOnAutoSize\");var listener=()=>{var keys=[];var leafCols=columnGroup.getDisplayedLeafColumns();leafCols.forEach(column=>{if(!column.getColDef().suppressAutoSize){keys.push(column.getColId());}});if(keys.length>0){this.autoSizeCols({colKeys:keys,skipHeader:skipHeaderOnAutoSize,stopAtGroup:columnGroup,source:\"uiColumnResized\"});}callback();};element.addEventListener(\"dblclick\",listener);return()=>element.removeEventListener(\"dblclick\",listener);}// method will call itself if no available width. this covers if the grid\n// isn't visible, but is just about to be visible.\nsizeColumnsToFitGridBody(params,nextTimeout){if(!this.isAlive()){return;}var{ctrlsSvc,scrollVisibleSvc}=this.beans;var gridBodyCtrl=ctrlsSvc.getGridBodyCtrl();var removeScrollWidth=gridBodyCtrl.isVerticalScrollShowing();var scrollWidthToRemove=removeScrollWidth?scrollVisibleSvc.getScrollbarWidth():0;var bodyViewportWidth=_getInnerWidth(gridBodyCtrl.eGridBody);var availableWidth=bodyViewportWidth-scrollWidthToRemove;if(availableWidth>0){this.sizeColumnsToFit(availableWidth,\"sizeColumnsToFit\",false,params);return;}if(nextTimeout===void 0){window.setTimeout(()=>{this.sizeColumnsToFitGridBody(params,100);},0);}else if(nextTimeout===100){window.setTimeout(()=>{this.sizeColumnsToFitGridBody(params,500);},100);}else if(nextTimeout===500){window.setTimeout(()=>{this.sizeColumnsToFitGridBody(params,-1);},500);}else{_warn(29);}}// called from api\nsizeColumnsToFit(gridWidth){var source=arguments.length>1&&arguments[1]!==undefined?arguments[1]:\"sizeColumnsToFit\";var silent=arguments.length>2?arguments[2]:undefined;var params=arguments.length>3?arguments[3]:undefined;if(this.shouldQueueResizeOperations){this.pushResizeOperation(()=>this.sizeColumnsToFit(gridWidth,source,silent,params));return;}var limitsMap={};if(params){var _params$columnLimits;params===null||params===void 0||(_params$columnLimits=params.columnLimits)===null||_params$columnLimits===void 0||_params$columnLimits.forEach(_ref263=>{var{key}=_ref263,dimensions=_objectWithoutProperties(_ref263,_excluded2);limitsMap[typeof key===\"string\"?key:key.getColId()]=dimensions;});}var allDisplayedColumns=this.beans.visibleCols.allCols;if(gridWidth<=0||!allDisplayedColumns.length){return;}var doColumnsAlreadyFit=gridWidth===getWidthOfColsInList(allDisplayedColumns);if(doColumnsAlreadyFit){var doAllColumnsSatisfyConstraints=allDisplayedColumns.every(column=>{var _widthOverride$minWid,_widthOverride$maxWid;if(column.colDef.suppressSizeToFit){return true;}var widthOverride=limitsMap===null||limitsMap===void 0?void 0:limitsMap[column.getId()];var minWidth=(_widthOverride$minWid=widthOverride===null||widthOverride===void 0?void 0:widthOverride.minWidth)!==null&&_widthOverride$minWid!==void 0?_widthOverride$minWid:params===null||params===void 0?void 0:params.defaultMinWidth;var maxWidth=(_widthOverride$maxWid=widthOverride===null||widthOverride===void 0?void 0:widthOverride.maxWidth)!==null&&_widthOverride$maxWid!==void 0?_widthOverride$maxWid:params===null||params===void 0?void 0:params.defaultMaxWidth;var colWidth=column.getActualWidth();return(minWidth==null||colWidth>=minWidth)&&(maxWidth==null||colWidth<=maxWidth);});if(doAllColumnsSatisfyConstraints){return;}}var colsToSpread=[];var colsToNotSpread=[];allDisplayedColumns.forEach(column=>{if(column.getColDef().suppressSizeToFit===true){colsToNotSpread.push(column);}else{colsToSpread.push(column);}});var colsToDispatchEventFor=colsToSpread.slice(0);var finishedResizing=false;var moveToNotSpread=column=>{_removeFromArray(colsToSpread,column);colsToNotSpread.push(column);};colsToSpread.forEach(column=>{var _widthOverride$minWid2,_widthOverride$maxWid2;column.resetActualWidth(source);var widthOverride=limitsMap===null||limitsMap===void 0?void 0:limitsMap[column.getId()];var minOverride=(_widthOverride$minWid2=widthOverride===null||widthOverride===void 0?void 0:widthOverride.minWidth)!==null&&_widthOverride$minWid2!==void 0?_widthOverride$minWid2:params===null||params===void 0?void 0:params.defaultMinWidth;var maxOverride=(_widthOverride$maxWid2=widthOverride===null||widthOverride===void 0?void 0:widthOverride.maxWidth)!==null&&_widthOverride$maxWid2!==void 0?_widthOverride$maxWid2:params===null||params===void 0?void 0:params.defaultMaxWidth;var colWidth=column.getActualWidth();if(typeof minOverride===\"number\"&&colWidth<minOverride){column.setActualWidth(minOverride,source,true);}else if(typeof maxOverride===\"number\"&&colWidth>maxOverride){column.setActualWidth(maxOverride,source,true);}});while(!finishedResizing){finishedResizing=true;var availablePixels=gridWidth-getWidthOfColsInList(colsToNotSpread);if(availablePixels<=0){colsToSpread.forEach(column=>{var _limitsMap$column$get,_limitsMap$column$get2;var widthOverride=(_limitsMap$column$get=limitsMap===null||limitsMap===void 0||(_limitsMap$column$get2=limitsMap[column.getId()])===null||_limitsMap$column$get2===void 0?void 0:_limitsMap$column$get2.minWidth)!==null&&_limitsMap$column$get!==void 0?_limitsMap$column$get:params===null||params===void 0?void 0:params.defaultMinWidth;if(typeof widthOverride===\"number\"){column.setActualWidth(widthOverride,source,true);return;}column.setActualWidth(column.minWidth,source);});}else{var scale=availablePixels/getWidthOfColsInList(colsToSpread);var pixelsForLastCol=availablePixels;for(var i=colsToSpread.length-1;i>=0;i--){var _widthOverride$minWid3,_widthOverride$maxWid3;var column=colsToSpread[i];var widthOverride=limitsMap===null||limitsMap===void 0?void 0:limitsMap[column.getId()];var minOverride=(_widthOverride$minWid3=widthOverride===null||widthOverride===void 0?void 0:widthOverride.minWidth)!==null&&_widthOverride$minWid3!==void 0?_widthOverride$minWid3:params===null||params===void 0?void 0:params.defaultMinWidth;var maxOverride=(_widthOverride$maxWid3=widthOverride===null||widthOverride===void 0?void 0:widthOverride.maxWidth)!==null&&_widthOverride$maxWid3!==void 0?_widthOverride$maxWid3:params===null||params===void 0?void 0:params.defaultMaxWidth;var colMinWidth=column.getMinWidth();var colMaxWidth=column.getMaxWidth();var minWidth=typeof minOverride===\"number\"&&minOverride>colMinWidth?minOverride:colMinWidth;var maxWidth=typeof maxOverride===\"number\"&&maxOverride<colMaxWidth?maxOverride:colMaxWidth;var newWidth=Math.round(column.getActualWidth()*scale);if(newWidth<minWidth){newWidth=minWidth;moveToNotSpread(column);finishedResizing=false;}else if(newWidth>maxWidth){newWidth=maxWidth;moveToNotSpread(column);finishedResizing=false;}else if(i===0){newWidth=pixelsForLastCol;}column.setActualWidth(newWidth,source,true);pixelsForLastCol-=newWidth;}}}colsToDispatchEventFor.forEach(col=>{col.fireColumnWidthChangedEvent(source);});var visibleCols=this.beans.visibleCols;visibleCols.setLeftValues(source);visibleCols.updateBodyWidths();if(silent){return;}dispatchColumnResizedEvent(this.eventSvc,colsToDispatchEventFor,true,source);}applyAutosizeStrategy(){var autoSizeStrategy=this.gos.get(\"autoSizeStrategy\");if(!autoSizeStrategy){return;}var{type}=autoSizeStrategy;setTimeout(()=>{if(type===\"fitGridWidth\"){var{columnLimits:propColumnLimits,defaultMinWidth,defaultMaxWidth}=autoSizeStrategy;var columnLimits=propColumnLimits===null||propColumnLimits===void 0?void 0:propColumnLimits.map(_ref264=>{var{colId:key,minWidth,maxWidth}=_ref264;return{key,minWidth,maxWidth};});this.sizeColumnsToFitGridBody({defaultMinWidth,defaultMaxWidth,columnLimits});}else if(type===\"fitProvidedWidth\"){this.sizeColumnsToFit(autoSizeStrategy.width,\"sizeColumnsToFit\");}});}onFirstDataRendered(){var autoSizeStrategy=this.gos.get(\"autoSizeStrategy\");if((autoSizeStrategy===null||autoSizeStrategy===void 0?void 0:autoSizeStrategy.type)!==\"fitCellContents\"){return;}var{colIds:columns,skipHeader,defaultMaxWidth,defaultMinWidth,columnLimits}=autoSizeStrategy;setTimeout(()=>{var params={skipHeader,source:\"autosizeColumns\",defaultMaxWidth,defaultMinWidth,columnLimits};if(columns){this.autoSizeCols(_objectSpread({colKeys:columns},params));}else{this.autoSizeAllColumns(params);}});}processResizeOperations(){this.shouldQueueResizeOperations=false;this.resizeOperationQueue.forEach(resizeOperation=>resizeOperation());this.resizeOperationQueue=[];}pushResizeOperation(func){this.resizeOperationQueue.push(func);}destroy(){this.resizeOperationQueue.length=0;super.destroy();}};function normaliseColumnWidth(column,newWidth){var _limits$minWidth,_limits$maxWidth;var limits=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var minWidth=(_limits$minWidth=limits.minWidth)!==null&&_limits$minWidth!==void 0?_limits$minWidth:column.getMinWidth();if(newWidth<minWidth){newWidth=minWidth;}var maxWidth=(_limits$maxWidth=limits.maxWidth)!==null&&_limits$maxWidth!==void 0?_limits$maxWidth:column.getMaxWidth();if(newWidth>maxWidth){newWidth=maxWidth;}return newWidth;}// packages/ag-grid-community/src/columnAutosize/columnAutosizeModule.ts\nvar ColumnAutoSizeModule={moduleName:\"ColumnAutoSize\",version:VERSION,beans:[ColumnAutosizeService],apiFunctions:{sizeColumnsToFit,autoSizeColumns,autoSizeAllColumns},dependsOn:[AutoWidthModule]};// packages/ag-grid-community/src/pinnedRowModel/manualPinnedRow.css-GENERATED.ts\nvar manualPinnedRowCSS=/*css*/\".ag-row-pinned-source{background-color:var(--ag-pinned-source-row-background-color);color:var(--ag-pinned-source-row-text-color);font-weight:var(--ag-pinned-source-row-font-weight)}.ag-row-pinned-manual{background-color:var(--ag-pinned-row-background-color);color:var(--ag-pinned-row-text-color);font-weight:var(--ag-pinned-row-font-weight)}\";// packages/ag-grid-community/src/pinnedRowModel/pinnedRowApi.ts\nfunction getPinnedTopRowCount(beans){var _beans$pinnedRowModel4,_beans$pinnedRowModel5;return(_beans$pinnedRowModel4=(_beans$pinnedRowModel5=beans.pinnedRowModel)===null||_beans$pinnedRowModel5===void 0?void 0:_beans$pinnedRowModel5.getPinnedTopRowCount())!==null&&_beans$pinnedRowModel4!==void 0?_beans$pinnedRowModel4:0;}function getPinnedBottomRowCount(beans){var _beans$pinnedRowModel6,_beans$pinnedRowModel7;return(_beans$pinnedRowModel6=(_beans$pinnedRowModel7=beans.pinnedRowModel)===null||_beans$pinnedRowModel7===void 0?void 0:_beans$pinnedRowModel7.getPinnedBottomRowCount())!==null&&_beans$pinnedRowModel6!==void 0?_beans$pinnedRowModel6:0;}function getPinnedTopRow(beans,index){var _beans$pinnedRowModel8;return(_beans$pinnedRowModel8=beans.pinnedRowModel)===null||_beans$pinnedRowModel8===void 0?void 0:_beans$pinnedRowModel8.getPinnedTopRow(index);}function getPinnedBottomRow(beans,index){var _beans$pinnedRowModel9;return(_beans$pinnedRowModel9=beans.pinnedRowModel)===null||_beans$pinnedRowModel9===void 0?void 0:_beans$pinnedRowModel9.getPinnedBottomRow(index);}function forEachPinnedRow(beans,floating,callback){var _beans$pinnedRowModel0;return(_beans$pinnedRowModel0=beans.pinnedRowModel)===null||_beans$pinnedRowModel0===void 0?void 0:_beans$pinnedRowModel0.forEachPinnedRow(floating,callback);}// packages/ag-grid-community/src/pinnedRowModel/pinnedRowModule.ts\nvar PinnedRowModule={moduleName:\"PinnedRow\",version:VERSION,beans:[PinnedRowModel],css:[manualPinnedRowCSS],apiFunctions:{getPinnedTopRowCount,getPinnedBottomRowCount,getPinnedTopRow,getPinnedBottomRow,forEachPinnedRow},icons:{rowPin:\"pin\",rowPinTop:\"pinned-top\",rowPinBottom:\"pinned-bottom\",rowUnpin:\"un-pin\"}};// packages/ag-grid-community/src/rendering/spanning/spannedCellCtrl.ts\nvar SpannedCellCtrl=class extends CellCtrl{constructor(cellSpan,rowCtrl,beans){super(cellSpan.col,cellSpan.firstNode,beans,rowCtrl);this.cellSpan=cellSpan;this.SPANNED_CELL_CSS_CLASS=\"ag-spanned-cell\";}setComp(comp,eCell,eWrapper,eCellWrapper,printLayout,startEditing,compBean){this.eWrapper=eWrapper;super.setComp(comp,eCell,eWrapper,eCellWrapper,printLayout,startEditing,compBean);this.setAriaRowSpan();this.refreshAriaRowIndex();}isCellSpanning(){return true;}getCellSpan(){return this.cellSpan;}/**\n   * When cell is spanning, ensure row index is also available on the cell\n   */refreshAriaRowIndex(){if(this.rowNode.rowIndex==null){return;}_setAriaRowIndex(this.eGui,this.rowNode.rowIndex);}/**\n   * When cell is spanning, ensure row index is also available on the cell\n   */setAriaRowSpan(){_setAriaRowSpan(this.eGui,this.cellSpan.spannedNodes.size);}// not ideal, for tabbing need to force the focused position\nsetFocusedCellPosition(cellPos){this.focusedCellPosition=cellPos;}getFocusedCellPosition(){var _this$focusedCellPosi;return(_this$focusedCellPosi=this.focusedCellPosition)!==null&&_this$focusedCellPosi!==void 0?_this$focusedCellPosi:this.cellPosition;}checkCellFocused(){var focusedCell=this.beans.focusSvc.getFocusedCell();return!!focusedCell&&this.cellSpan.doesSpanContain(focusedCell);}applyStaticCssClasses(){super.applyStaticCssClasses();this.comp.toggleCss(this.SPANNED_CELL_CSS_CLASS,true);}onCellFocused(event){var{beans}=this;if(_isCellFocusSuppressed(beans)){this.focusedCellPosition=void 0;return;}var cellFocused=this.isCellFocused();if(!cellFocused){this.focusedCellPosition=void 0;}if(event&&cellFocused){this.focusedCellPosition={rowIndex:event.rowIndex,rowPinned:event.rowPinned,column:event.column// fix\n};}super.onCellFocused(event);}getRootElement(){return this.eWrapper;}};// packages/ag-grid-community/src/rendering/spanning/spannedRowCtrl.ts\nvar SpannedRowCtrl=class extends RowCtrl{onRowIndexChanged(){super.onRowIndexChanged();this.getAllCellCtrls().forEach(c=>c.refreshAriaRowIndex());}getInitialRowClasses(_rowContainerType){return[\"ag-spanned-row\"];}getNewCellCtrl(col){var _this$beans$rowSpanSv6;var cellSpan=(_this$beans$rowSpanSv6=this.beans.rowSpanSvc)===null||_this$beans$rowSpanSv6===void 0?void 0:_this$beans$rowSpanSv6.getCellSpan(col,this.rowNode);if(!cellSpan){return;}var firstRowOfSpan=cellSpan.firstNode!==this.rowNode;if(firstRowOfSpan){return;}return new SpannedCellCtrl(cellSpan,this,this.beans);}isCorrectCtrlForSpan(cell){var _this$beans$rowSpanSv7;var cellSpan=(_this$beans$rowSpanSv7=this.beans.rowSpanSvc)===null||_this$beans$rowSpanSv7===void 0?void 0:_this$beans$rowSpanSv7.getCellSpan(cell.column,this.rowNode);if(!cellSpan){return false;}var firstRowOfSpan=cellSpan.firstNode!==this.rowNode;if(firstRowOfSpan){return false;}return cell.getCellSpan()===cellSpan;}/**\n   * Below overrides are explicitly disabling styling and other unwanted behaviours for spannedRowCtrl\n   */// row height should be 0 in spanned row - they're only included for purpose of aria\nonRowHeightChanged(){}// no styling spanned rows\nrefreshFirstAndLastRowStyles(){}// no hover functionality for spanned rows\naddHoverFunctionality(){}resetHoveredStatus(){}};// packages/ag-grid-community/src/rendering/spanning/spannedRowRenderer.ts\nvar SpannedRowRenderer=class extends BeanStub{constructor(){super(...arguments);this.beanName=\"spannedRowRenderer\";this.topCtrls=/* @__PURE__ */new Map();this.bottomCtrls=/* @__PURE__ */new Map();this.centerCtrls=/* @__PURE__ */new Map();}postConstruct(){this.addManagedEventListeners({displayedRowsChanged:this.createAllCtrls.bind(this)});}createAllCtrls(){this.createCtrls(\"top\");this.createCtrls(\"bottom\");this.createCtrls(\"center\");}/**\n   * When displayed rows or cols change, the spanned cell ctrls need to update\n   */createCtrls(ctrlsKey){var{rowSpanSvc}=this.beans;var ctrlsName=\"\".concat(ctrlsKey,\"Ctrls\");var previousCtrls=this[ctrlsName];var previousCtrlsSize=previousCtrls.size;var rowCtrls=this.getAllRelevantRowControls(ctrlsKey);var newRowCtrls=/* @__PURE__ */new Map();var hasNewSpans=false;for(var ctrl of rowCtrls){if(!ctrl.isAlive()){continue;}rowSpanSvc===null||rowSpanSvc===void 0||rowSpanSvc.forEachSpannedColumn(ctrl.rowNode,(col,cellSpan)=>{if(newRowCtrls.has(cellSpan.firstNode)){return;}var existingCtrl=previousCtrls.get(cellSpan.firstNode);if(existingCtrl){newRowCtrls.set(cellSpan.firstNode,existingCtrl);previousCtrls.delete(cellSpan.firstNode);return;}hasNewSpans=true;var newCtrl=new SpannedRowCtrl(cellSpan.firstNode,this.beans,false,false,false);newRowCtrls.set(cellSpan.firstNode,newCtrl);});}this[ctrlsName]=newRowCtrls;var sameCount=newRowCtrls.size===previousCtrlsSize;if(!hasNewSpans&&sameCount)return;for(var oldCtrl of previousCtrls.values()){oldCtrl.destroyFirstPass(true);oldCtrl.destroySecondPass();}this.dispatchLocalEvent({type:\"spannedRowsUpdated\",ctrlsKey});}// cannot use getAllRowCtrls as it returns this services row ctrls.\ngetAllRelevantRowControls(ctrlsKey){var{rowRenderer}=this.beans;switch(ctrlsKey){case\"top\":return rowRenderer.topRowCtrls;case\"bottom\":return rowRenderer.bottomRowCtrls;case\"center\":return rowRenderer.allRowCtrls;}}getCellByPosition(cellPosition){var{rowSpanSvc}=this.beans;var cellSpan=rowSpanSvc===null||rowSpanSvc===void 0?void 0:rowSpanSvc.getCellSpanByPosition(cellPosition);if(!cellSpan){return void 0;}var ctrlsName=\"\".concat(_normalisePinnedValue(cellPosition.rowPinned),\"Ctrls\");var ctrl=this[ctrlsName].get(cellSpan.firstNode);if(!ctrl){return void 0;}return ctrl.getAllCellCtrls().find(cellCtrl=>cellCtrl.column===cellPosition.column);}getCtrls(container){var ctrlsName=\"\".concat(container,\"Ctrls\");return[...this[ctrlsName].values()];}destroyRowCtrls(container){var ctrlsName=\"\".concat(container,\"Ctrls\");for(var ctrl of this[ctrlsName].values()){ctrl.destroyFirstPass(true);ctrl.destroySecondPass();}this[ctrlsName]=/* @__PURE__ */new Map();}destroy(){super.destroy();this.destroyRowCtrls(\"top\");this.destroyRowCtrls(\"bottom\");this.destroyRowCtrls(\"center\");}};var _normalisePinnedValue=pinned=>{return pinned!==null&&pinned!==void 0?pinned:\"center\";};// packages/ag-grid-community/src/rendering/spanning/rowSpanCache.ts\nvar CellSpan=class{constructor(col,firstNode){this.col=col;this.firstNode=firstNode;// used for distinguishing between types\nthis.cellSpan=true;this.spannedNodes=/* @__PURE__ */new Set();this.addSpannedNode(firstNode);}/**\n   * Reset the span leaving only the head.\n   * Head is used as a comparison as this is the row used to render this cell\n   * Even if the row data changes, the cell will properly reflect the correct value.\n   */reset(){this.spannedNodes.clear();this.addSpannedNode(this.firstNode);}addSpannedNode(node){this.spannedNodes.add(node);this.lastNode=node;}getLastNode(){return this.lastNode;}getCellHeight(){return this.lastNode.rowTop+this.lastNode.rowHeight-this.firstNode.rowTop-1;}doesSpanContain(cellPosition){if(cellPosition.column!==this.col){return false;}if(cellPosition.rowPinned!=this.firstNode.rowPinned){return false;}return this.firstNode.rowIndex<=cellPosition.rowIndex&&cellPosition.rowIndex<=this.lastNode.rowIndex;}/**\n   * Gets the auto height value for last node in the spanned cell.\n   * The first node is used to store the auto height for the cell, but the additional height for this cell\n   * needs applied to the last row in the span.\n   */getLastNodeAutoHeight(){var _this$firstNode$__aut;var autoHeight=(_this$firstNode$__aut=this.firstNode.__autoHeights)===null||_this$firstNode$__aut===void 0?void 0:_this$firstNode$__aut[this.col.getColId()];if(autoHeight==null){return void 0;}var allButLastHeights=0;this.spannedNodes.forEach(node=>{if(node===this.lastNode)return;allButLastHeights+=node.rowHeight;});return autoHeight-allButLastHeights;}};var RowSpanCache=class extends BeanStub{constructor(column){super();this.column=column;}buildCache(pinned){var _rowModel$forEachDisp;var{column,beans:{gos,pinnedRowModel,rowModel,valueSvc,pagination}}=this;var{colDef}=column;var oldMap=this[\"\".concat(pinned,\"ValueNodeMap\")];var newMap=/* @__PURE__ */new Map();var isFullWidthCellFunc=gos.getCallback(\"isFullWidthRow\");var equalsFnc=colDef.equals;var customCompare=colDef.spanRows;var isCustomCompare=typeof customCompare===\"function\";var lastNode=null;var spanData=null;var lastValue;var setNewHead=(node,value)=>{lastNode=node;spanData=null;lastValue=value;};var checkNodeForCache=node=>{var _spanData;var doesNodeSupportSpanning=!node.isExpandable()&&!node.group&&!node.detail&&(isFullWidthCellFunc?!isFullWidthCellFunc({rowNode:node}):true);if(node.rowIndex==null||!doesNodeSupportSpanning){setNewHead(null,null);return;}if(lastNode==null||node.level!==lastNode.level||// no span across groups\nnode.footer||spanData&&node.rowIndex-1!==((_spanData=spanData)===null||_spanData===void 0?void 0:_spanData.getLastNode().rowIndex)){setNewHead(node,valueSvc.getValue(column,node));return;}var value=valueSvc.getValue(column,node);if(isCustomCompare){var params=_addGridCommonParams(gos,{valueA:lastValue,nodeA:lastNode,valueB:value,nodeB:node,column,colDef});if(!customCompare(params)){setNewHead(node,value);return;}}else{if(equalsFnc?!equalsFnc(lastValue,value):lastValue!==value){setNewHead(node,value);return;}}if(!spanData){var oldSpan=oldMap===null||oldMap===void 0?void 0:oldMap.get(lastNode);if((oldSpan===null||oldSpan===void 0?void 0:oldSpan.firstNode)===lastNode){oldSpan.reset();spanData=oldSpan;}else{spanData=new CellSpan(column,lastNode);}newMap.set(lastNode,spanData);}spanData.addSpannedNode(node);newMap.set(node,spanData);};switch(pinned){case\"center\":(_rowModel$forEachDisp=rowModel.forEachDisplayedNode)===null||_rowModel$forEachDisp===void 0||_rowModel$forEachDisp.call(rowModel,node=>{var isNodeInPage=!pagination||pagination.isRowInPage(node.rowIndex);if(!isNodeInPage){return;}checkNodeForCache(node);});break;case\"top\":pinnedRowModel===null||pinnedRowModel===void 0||pinnedRowModel.forEachPinnedRow(\"top\",checkNodeForCache);break;case\"bottom\":pinnedRowModel===null||pinnedRowModel===void 0||pinnedRowModel.forEachPinnedRow(\"bottom\",checkNodeForCache);break;}this[\"\".concat(pinned,\"ValueNodeMap\")]=newMap;}isCellSpanning(node){return!!this.getCellSpan(node);}getCellSpan(node){var map=this[\"\".concat(_normalisePinnedValue(node.rowPinned),\"ValueNodeMap\")];return map.get(node);}};// packages/ag-grid-community/src/rendering/spanning/rowSpanService.ts\nvar RowSpanService=class extends BeanStub{constructor(){super(...arguments);this.beanName=\"rowSpanSvc\";this.spanningColumns=/* @__PURE__ */new Map();// debounced to allow spannedRowRenderer to run first, removing any old spanned rows\nthis.debouncePinnedEvent=_debounce(this,this.dispatchCellsUpdatedEvent.bind(this,true),0);this.debounceModelEvent=_debounce(this,this.dispatchCellsUpdatedEvent.bind(this,false),0);this.pinnedTimeout=null;this.modelTimeout=null;}postConstruct(){var onRowDataUpdated=this.onRowDataUpdated.bind(this);var buildPinnedCaches=this.buildPinnedCaches.bind(this);this.addManagedEventListeners({paginationChanged:this.buildModelCaches.bind(this),pinnedRowDataChanged:buildPinnedCaches,pinnedRowsChanged:buildPinnedCaches,rowNodeDataChanged:onRowDataUpdated,cellValueChanged:onRowDataUpdated});}/**\n   * When a new column is created with spanning (or spanning changes for a column)\n   * @param column column that is now spanning\n   */register(column){var{gos}=this.beans;if(!gos.get(\"enableCellSpan\")){return;}if(this.spanningColumns.has(column)){return;}var cache=this.createManagedBean(new RowSpanCache(column));this.spanningColumns.set(column,cache);cache.buildCache(\"top\");cache.buildCache(\"bottom\");cache.buildCache(\"center\");this.debouncePinnedEvent();this.debounceModelEvent();}dispatchCellsUpdatedEvent(pinned){this.dispatchLocalEvent({type:\"spannedCellsUpdated\",pinned});}/**\n   * When a new column is destroyed with spanning (or spanning changes for a column)\n   * @param column column that is now spanning\n   */deregister(column){this.spanningColumns.delete(column);}// called when data changes, as this could be a hot path it's debounced\n// it uses timeouts instead of debounce so that it can be cancelled by `modelUpdated`\n// which is expected to run immediately (to exec before the rowRenderer)\nonRowDataUpdated(_ref265){var{node}=_ref265;var{spannedRowRenderer}=this.beans;if(node.rowPinned){if(this.pinnedTimeout!=null){return;}this.pinnedTimeout=window.setTimeout(()=>{this.pinnedTimeout=null;this.buildPinnedCaches();spannedRowRenderer===null||spannedRowRenderer===void 0||spannedRowRenderer.createCtrls(\"top\");spannedRowRenderer===null||spannedRowRenderer===void 0||spannedRowRenderer.createCtrls(\"bottom\");},0);return;}if(this.modelTimeout!=null){return;}this.modelTimeout=window.setTimeout(()=>{this.modelTimeout=null;this.buildModelCaches();spannedRowRenderer===null||spannedRowRenderer===void 0||spannedRowRenderer.createCtrls(\"center\");},0);}buildModelCaches(){if(this.modelTimeout!=null){clearTimeout(this.modelTimeout);}this.spanningColumns.forEach(cache=>cache.buildCache(\"center\"));this.debounceModelEvent();}buildPinnedCaches(){if(this.pinnedTimeout!=null){clearTimeout(this.pinnedTimeout);}this.spanningColumns.forEach(cache=>{cache.buildCache(\"top\");cache.buildCache(\"bottom\");});this.debouncePinnedEvent();}isCellSpanning(col,rowNode){var cache=this.spanningColumns.get(col);if(!cache){return false;}return cache.isCellSpanning(rowNode);}getCellSpanByPosition(position){var{pinnedRowModel,rowModel}=this.beans;var col=position.column;var index=position.rowIndex;var cache=this.spanningColumns.get(col);if(!cache){return void 0;}var node;switch(position.rowPinned){case\"top\":node=pinnedRowModel===null||pinnedRowModel===void 0?void 0:pinnedRowModel.getPinnedTopRow(index);break;case\"bottom\":node=pinnedRowModel===null||pinnedRowModel===void 0?void 0:pinnedRowModel.getPinnedBottomRow(index);break;default:node=rowModel.getRow(index);}if(!node){return void 0;}return cache.getCellSpan(node);}getCellStart(position){var span=this.getCellSpanByPosition(position);if(!span){return position;}return _objectSpread(_objectSpread({},position),{},{rowIndex:span.firstNode.rowIndex});}getCellEnd(position){var span=this.getCellSpanByPosition(position);if(!span){return position;}return _objectSpread(_objectSpread({},position),{},{rowIndex:span.getLastNode().rowIndex});}/**\n   * Look-up a spanned cell given a col and node as position indicators\n   *\n   * @param col a column to lookup a span at this position\n   * @param rowNode a node that may be spanned at this position\n   * @returns the CellSpan object if one exists\n   */getCellSpan(col,rowNode){var cache=this.spanningColumns.get(col);if(!cache){return void 0;}return cache.getCellSpan(rowNode);}forEachSpannedColumn(rowNode,callback){for(var[col,cache]of this.spanningColumns){if(cache.isCellSpanning(rowNode)){var spanningNode=cache.getCellSpan(rowNode);callback(col,spanningNode);}}}destroy(){super.destroy();this.spanningColumns.clear();}};// packages/ag-grid-community/src/rendering/spanning/cellSpanModule.ts\nvar CellSpanModule={moduleName:\"CellSpan\",version:VERSION,beans:[RowSpanService,SpannedRowRenderer]};// packages/ag-grid-community/src/styling/cellCustomStyleFeature.ts\nvar CellCustomStyleFeature=class extends BeanStub{constructor(cellCtrl,beans){super();this.cellCtrl=cellCtrl;this.staticClasses=[];this.beans=beans;this.column=cellCtrl.column;}setComp(comp){this.cellComp=comp;this.applyUserStyles();this.applyCellClassRules();this.applyClassesFromColDef();}applyCellClassRules(){var{column,cellComp}=this;var colDef=column.colDef;var cellClassRules=colDef.cellClassRules;var cellClassParams=this.getCellClassParams(column,colDef);processClassRules(this.beans.expressionSvc,// if current was previous, skip\ncellClassRules===this.cellClassRules?void 0:this.cellClassRules,cellClassRules,cellClassParams,className=>cellComp.toggleCss(className,true),className=>cellComp.toggleCss(className,false));this.cellClassRules=cellClassRules;}applyUserStyles(){var column=this.column;var colDef=column.colDef;var cellStyle=colDef.cellStyle;if(!cellStyle){return;}var styles;if(typeof cellStyle===\"function\"){var cellStyleParams=this.getCellClassParams(column,colDef);styles=cellStyle(cellStyleParams);}else{styles=cellStyle;}if(styles){this.cellComp.setUserStyles(styles);}}applyClassesFromColDef(){var{column,cellComp}=this;var colDef=column.colDef;var cellClassParams=this.getCellClassParams(column,colDef);this.staticClasses.forEach(className=>cellComp.toggleCss(className,false));var newStaticClasses=this.beans.cellStyles.getStaticCellClasses(colDef,cellClassParams);this.staticClasses=newStaticClasses;newStaticClasses.forEach(className=>cellComp.toggleCss(className,true));}getCellClassParams(column,colDef){var{value,rowNode}=this.cellCtrl;return _addGridCommonParams(this.beans.gos,{value,data:rowNode.data,node:rowNode,colDef,column,rowIndex:rowNode.rowIndex});}};// packages/ag-grid-community/src/styling/cellStyleService.ts\nvar CellStyleService=class extends BeanStub{constructor(){super(...arguments);this.beanName=\"cellStyles\";}processAllCellClasses(colDef,params,onApplicableClass,onNotApplicableClass){processClassRules(this.beans.expressionSvc,void 0,colDef.cellClassRules,params,onApplicableClass,onNotApplicableClass);this.processStaticCellClasses(colDef,params,onApplicableClass);}getStaticCellClasses(colDef,params){var{cellClass}=colDef;if(!cellClass){return[];}var classOrClasses;if(typeof cellClass===\"function\"){var cellClassFunc=cellClass;classOrClasses=cellClassFunc(params);}else{classOrClasses=cellClass;}if(typeof classOrClasses===\"string\"){classOrClasses=[classOrClasses];}return classOrClasses||[];}createCellCustomStyleFeature(ctrl,beans){return new CellCustomStyleFeature(ctrl,beans);}processStaticCellClasses(colDef,params,onApplicableClass){var classOrClasses=this.getStaticCellClasses(colDef,params);classOrClasses.forEach(cssClassItem=>{onApplicableClass(cssClassItem);});}};// packages/ag-grid-community/src/styling/stylingModule.ts\nvar CellStyleModule={moduleName:\"CellStyle\",version:VERSION,beans:[CellStyleService]};var RowStyleModule={moduleName:\"RowStyle\",version:VERSION,beans:[RowStyleService]};// packages/ag-grid-community/src/columns/columnHover/columnHoverApi.ts\nfunction isColumnHovered(beans,column){var _beans$colHover;return!!((_beans$colHover=beans.colHover)!==null&&_beans$colHover!==void 0&&_beans$colHover.isHovered(column));}// packages/ag-grid-community/src/columns/columnHover/hoverFeature.ts\nvar HoverFeature=class extends BeanStub{constructor(columns,element){super();this.columns=columns;this.element=element;this.destroyManagedListeners=[];this.enableFeature=enabled=>{var{beans,gos,element,columns}=this;var colHover=beans.colHover;var active=enabled!==null&&enabled!==void 0?enabled:!!gos.get(\"columnHoverHighlight\");if(active){this.destroyManagedListeners=this.addManagedElementListeners(element,{mouseover:colHover.setMouseOver.bind(colHover,columns),mouseout:colHover.clearMouseOver.bind(colHover)});}else{this.destroyManagedListeners.forEach(fn=>fn());this.destroyManagedListeners=[];}};}postConstruct(){this.addManagedPropertyListener(\"columnHoverHighlight\",_ref266=>{var{currentValue}=_ref266;this.enableFeature(currentValue);});this.enableFeature();}destroy(){super.destroy();this.destroyManagedListeners=null;}};// packages/ag-grid-community/src/columns/columnHover/columnHoverService.ts\nvar CSS_COLUMN_HOVER=\"ag-column-hover\";var ColumnHoverService=class extends BeanStub{constructor(){super(...arguments);this.beanName=\"colHover\";}postConstruct(){this.addManagedPropertyListener(\"columnHoverHighlight\",_ref267=>{var{currentValue}=_ref267;if(!currentValue){this.clearMouseOver();}});}setMouseOver(columns){this.updateState(columns);}clearMouseOver(){this.updateState(null);}isHovered(column){if(!this.gos.get(\"columnHoverHighlight\")){return false;}var selectedColumns=this.selectedColumns;return!!selectedColumns&&selectedColumns.indexOf(column)>=0;}addHeaderColumnHoverListener(compBean,comp,column){var listener=()=>{var isHovered=this.isHovered(column);comp.toggleCss(\"ag-column-hover\",isHovered);};compBean.addManagedEventListeners({columnHoverChanged:listener});listener();}onCellColumnHover(column,cellComp){if(!cellComp){return;}var isHovered=this.isHovered(column);cellComp.toggleCss(CSS_COLUMN_HOVER,isHovered);}addHeaderFilterColumnHoverListener(compBean,comp,column,eGui){this.createHoverFeature(compBean,[column],eGui);var listener=()=>{var hovered=this.isHovered(column);comp.toggleCss(\"ag-column-hover\",hovered);};compBean.addManagedEventListeners({columnHoverChanged:listener});listener();}createHoverFeature(compBean,columns,eGui){compBean.createManagedBean(new HoverFeature(columns,eGui));}updateState(columns){this.selectedColumns=columns;this.eventSvc.dispatchEvent({type:\"columnHoverChanged\"});}};// packages/ag-grid-community/src/columns/columnHover/columnHoverModule.ts\nvar ColumnHoverModule={moduleName:\"ColumnHover\",version:VERSION,beans:[ColumnHoverService],apiFunctions:{isColumnHovered}};// packages/ag-grid-community/src/misc/apiEvents/apiEventService.ts\nvar ApiEventService=class extends BeanStub{constructor(){super(...arguments);this.beanName=\"apiEventSvc\";this.syncListeners=/* @__PURE__ */new Map();this.asyncListeners=/* @__PURE__ */new Map();this.syncGlobalListeners=/* @__PURE__ */new Set();this.globalListenerPairs=/* @__PURE__ */new Map();}postConstruct(){var _this$beans$framework10,_this$beans$framework11;this.wrapSvc=(_this$beans$framework10=(_this$beans$framework11=this.beans.frameworkOverrides).createGlobalEventListenerWrapper)===null||_this$beans$framework10===void 0?void 0:_this$beans$framework10.call(_this$beans$framework11);}addEventListener(eventType,userListener){var _this$wrapSvc$wrap,_this$wrapSvc;var listener=(_this$wrapSvc$wrap=(_this$wrapSvc=this.wrapSvc)===null||_this$wrapSvc===void 0?void 0:_this$wrapSvc.wrap(eventType,userListener))!==null&&_this$wrapSvc$wrap!==void 0?_this$wrapSvc$wrap:userListener;var async=!ALWAYS_SYNC_GLOBAL_EVENTS.has(eventType);var listeners=async?this.asyncListeners:this.syncListeners;if(!listeners.has(eventType)){listeners.set(eventType,/* @__PURE__ */new Set());}listeners.get(eventType).add(listener);this.eventSvc.addEventListener(eventType,listener,async);}removeEventListener(eventType,userListener){var _this$wrapSvc$unwrap,_this$wrapSvc2;var listener=(_this$wrapSvc$unwrap=(_this$wrapSvc2=this.wrapSvc)===null||_this$wrapSvc2===void 0?void 0:_this$wrapSvc2.unwrap(eventType,userListener))!==null&&_this$wrapSvc$unwrap!==void 0?_this$wrapSvc$unwrap:userListener;var asyncListeners=this.asyncListeners.get(eventType);var hasAsync=!!(asyncListeners!==null&&asyncListeners!==void 0&&asyncListeners.delete(listener));if(!hasAsync){var _this$syncListeners$g;(_this$syncListeners$g=this.syncListeners.get(eventType))===null||_this$syncListeners$g===void 0||_this$syncListeners$g.delete(listener);}this.eventSvc.removeEventListener(eventType,listener,hasAsync);}addGlobalListener(userListener){var _this$wrapSvc$wrapGlo,_this$wrapSvc3;var listener=(_this$wrapSvc$wrapGlo=(_this$wrapSvc3=this.wrapSvc)===null||_this$wrapSvc3===void 0?void 0:_this$wrapSvc3.wrapGlobal(userListener))!==null&&_this$wrapSvc$wrapGlo!==void 0?_this$wrapSvc$wrapGlo:userListener;var syncListener=(eventType,event)=>{if(ALWAYS_SYNC_GLOBAL_EVENTS.has(eventType)){listener(eventType,event);}};var asyncListener=(eventType,event)=>{if(!ALWAYS_SYNC_GLOBAL_EVENTS.has(eventType)){listener(eventType,event);}};this.globalListenerPairs.set(userListener,{syncListener,asyncListener});var eventSvc=this.eventSvc;eventSvc.addGlobalListener(syncListener,false);eventSvc.addGlobalListener(asyncListener,true);}removeGlobalListener(userListener){var _wrapSvc$unwrapGlobal;var{eventSvc,wrapSvc,globalListenerPairs}=this;var listener=(_wrapSvc$unwrapGlobal=wrapSvc===null||wrapSvc===void 0?void 0:wrapSvc.unwrapGlobal(userListener))!==null&&_wrapSvc$unwrapGlobal!==void 0?_wrapSvc$unwrapGlobal:userListener;var hasAsync=globalListenerPairs.has(listener);if(hasAsync){var{syncListener,asyncListener}=globalListenerPairs.get(listener);eventSvc.removeGlobalListener(syncListener,false);eventSvc.removeGlobalListener(asyncListener,true);globalListenerPairs.delete(userListener);}else{this.syncGlobalListeners.delete(listener);eventSvc.removeGlobalListener(listener,false);}}destroyEventListeners(map,async){map.forEach((listeners,eventType)=>{listeners.forEach(listener=>this.eventSvc.removeEventListener(eventType,listener,async));listeners.clear();});map.clear();}destroyGlobalListeners(set,async){set.forEach(listener=>this.eventSvc.removeGlobalListener(listener,async));set.clear();}destroy(){super.destroy();this.destroyEventListeners(this.syncListeners,false);this.destroyEventListeners(this.asyncListeners,true);this.destroyGlobalListeners(this.syncGlobalListeners,false);var{globalListenerPairs,eventSvc}=this;globalListenerPairs.forEach(_ref268=>{var{syncListener,asyncListener}=_ref268;eventSvc.removeGlobalListener(syncListener,false);eventSvc.removeGlobalListener(asyncListener,true);});globalListenerPairs.clear();}};// packages/ag-grid-community/src/misc/apiEvents/eventApi.ts\nfunction addEventListener(beans,eventType,listener){var _beans$apiEventSvc;(_beans$apiEventSvc=beans.apiEventSvc)===null||_beans$apiEventSvc===void 0||_beans$apiEventSvc.addEventListener(eventType,listener);}function removeEventListener(beans,eventType,listener){var _beans$apiEventSvc2;(_beans$apiEventSvc2=beans.apiEventSvc)===null||_beans$apiEventSvc2===void 0||_beans$apiEventSvc2.removeEventListener(eventType,listener);}function addGlobalListener(beans,listener){var _beans$apiEventSvc3;(_beans$apiEventSvc3=beans.apiEventSvc)===null||_beans$apiEventSvc3===void 0||_beans$apiEventSvc3.addGlobalListener(listener);}function removeGlobalListener(beans,listener){var _beans$apiEventSvc4;(_beans$apiEventSvc4=beans.apiEventSvc)===null||_beans$apiEventSvc4===void 0||_beans$apiEventSvc4.removeGlobalListener(listener);}// packages/ag-grid-community/src/misc/apiEvents/apiEventModule.ts\nvar EventApiModule={moduleName:\"EventApi\",version:VERSION,apiFunctions:{addEventListener,addGlobalListener,removeEventListener,removeGlobalListener},beans:[ApiEventService]};// packages/ag-grid-community/src/misc/locale/localeModule.ts\nvar LocaleModule={moduleName:\"Locale\",version:VERSION,beans:[LocaleService]};// packages/ag-grid-community/src/rendering/row/rowAutoHeightService.ts\nvar RowAutoHeightService=class extends BeanStub{constructor(){super(...arguments);this.beanName=\"rowAutoHeight\";this.wasEverActive=false;this._debouncedCalculateRowHeights=_debounce(this,this.calculateRowHeights.bind(this),1);}/**\n   * If row height has been active, request a refresh of the row heights.\n   */requestCheckAutoHeight(){if(!this.wasEverActive){return;}this._debouncedCalculateRowHeights();}calculateRowHeights(){var _pinnedRowModel$forEa,_pinnedRowModel$forEa2,_rowModel$forEachDisp2;var{visibleCols,rowModel,rowSpanSvc,pinnedRowModel}=this.beans;var displayedAutoHeightCols=visibleCols.autoHeightCols;var anyNodeChanged=false;var updateDisplayedRowHeights=row=>{var autoHeights=row.__autoHeights;var newRowHeight=_getRowHeightForNode(this.beans,row).height;for(var col of displayedAutoHeightCols){var cellHeight=autoHeights===null||autoHeights===void 0?void 0:autoHeights[col.getColId()];var spannedCell=rowSpanSvc===null||rowSpanSvc===void 0?void 0:rowSpanSvc.getCellSpan(col,row);if(spannedCell){var _rowSpanSvc$getCellSp2;if(spannedCell.getLastNode()!==row){continue;}cellHeight=rowSpanSvc===null||rowSpanSvc===void 0||(_rowSpanSvc$getCellSp2=rowSpanSvc.getCellSpan(col,row))===null||_rowSpanSvc$getCellSp2===void 0?void 0:_rowSpanSvc$getCellSp2.getLastNodeAutoHeight();if(!cellHeight){return;}}if(cellHeight==null){if(this.colSpanSkipCell(col,row)){continue;}return;}newRowHeight=Math.max(cellHeight,newRowHeight);}if(newRowHeight!==row.rowHeight){row.setRowHeight(newRowHeight);anyNodeChanged=true;}};pinnedRowModel===null||pinnedRowModel===void 0||(_pinnedRowModel$forEa=pinnedRowModel.forEachPinnedRow)===null||_pinnedRowModel$forEa===void 0||_pinnedRowModel$forEa.call(pinnedRowModel,\"top\",updateDisplayedRowHeights);pinnedRowModel===null||pinnedRowModel===void 0||(_pinnedRowModel$forEa2=pinnedRowModel.forEachPinnedRow)===null||_pinnedRowModel$forEa2===void 0||_pinnedRowModel$forEa2.call(pinnedRowModel,\"bottom\",updateDisplayedRowHeights);(_rowModel$forEachDisp2=rowModel.forEachDisplayedNode)===null||_rowModel$forEachDisp2===void 0||_rowModel$forEachDisp2.call(rowModel,updateDisplayedRowHeights);if(anyNodeChanged){var _rowModel$onRowHeight;(_rowModel$onRowHeight=rowModel.onRowHeightChanged)===null||_rowModel$onRowHeight===void 0||_rowModel$onRowHeight.call(rowModel);}}/**\n   * Set the cell height into the row node, and request a refresh of the row heights if there's been a change.\n   * @param rowNode the node to set the auto height on\n   * @param cellHeight the height to set, undefined if the cell has just been destroyed\n   * @param column the column of the cell\n   */setRowAutoHeight(rowNode,cellHeight,column){var _rowNode$__autoHeight;(_rowNode$__autoHeight=rowNode.__autoHeights)!==null&&_rowNode$__autoHeight!==void 0?_rowNode$__autoHeight:rowNode.__autoHeights={};if(cellHeight==void 0){delete rowNode.__autoHeights[column.getId()];return;}var previousCellHeight=rowNode.__autoHeights[column.getId()];rowNode.__autoHeights[column.getId()]=cellHeight;if(previousCellHeight!==cellHeight){this.requestCheckAutoHeight();}}/**\n   * If using col span, then cells which have been spanned over do not need an auto height value\n   * @param col the column of the cell\n   * @param node the node of the cell\n   * @returns whether the row needs auto height value for that column\n   */colSpanSkipCell(col,node){var{colModel,colViewport,visibleCols}=this.beans;if(!colModel.colSpanActive){return false;}var activeColsForRow=[];switch(col.getPinned()){case\"left\":activeColsForRow=visibleCols.getLeftColsForRow(node);break;case\"right\":activeColsForRow=visibleCols.getRightColsForRow(node);break;case null:activeColsForRow=colViewport.getColsWithinViewport(node);break;}return!activeColsForRow.includes(col);}/**\n   * If required, sets up observers to continuously measure changes in the cell height.\n   * @param cellCtrl the cellCtrl of the cell\n   * @param eCellWrapper the HTMLElement to track the height of\n   * @param compBean the component bean to add the destroy/cleanup function to\n   * @returns whether or not auto height has been set up on this cell\n   */setupCellAutoHeight(cellCtrl,eCellWrapper,compBean){if(!cellCtrl.column.isAutoHeight()||!eCellWrapper){return false;}this.wasEverActive=true;var eParentCell=eCellWrapper.parentElement;var{rowNode,column}=cellCtrl;var beans=this.beans;var measureHeight=timesCalled=>{var _this$beans$editSvc7;if((_this$beans$editSvc7=this.beans.editSvc)!==null&&_this$beans$editSvc7!==void 0&&_this$beans$editSvc7.isEditing(cellCtrl)){return;}if(!cellCtrl.isAlive()||!compBean.isAlive()){return;}var{paddingTop,paddingBottom,borderBottomWidth,borderTopWidth}=_getElementSize(eParentCell);var extraHeight=paddingTop+paddingBottom+borderBottomWidth+borderTopWidth;var wrapperHeight=eCellWrapper.offsetHeight;var autoHeight=wrapperHeight+extraHeight;if(timesCalled<5){var doc=_getDocument(beans);var notYetInDom=!doc||!doc.contains(eCellWrapper);var possiblyNoContentYet=autoHeight==0;if(notYetInDom||possiblyNoContentYet){window.setTimeout(()=>measureHeight(timesCalled+1),0);return;}}this.setRowAutoHeight(rowNode,autoHeight,column);};var listener=()=>measureHeight(0);listener();var destroyResizeObserver=_observeResize(beans,eCellWrapper,listener);compBean.addDestroyFunc(()=>{destroyResizeObserver();this.setRowAutoHeight(rowNode,void 0,column);});return true;}setAutoHeightActive(cols){this.active=cols.list.some(col=>col.isVisible()&&col.isAutoHeight());}/**\n   * Determines if the row auto height service has cells to grow.\n   * @returns true if all of the rendered rows are at least as tall as their rendered cells.\n   */areRowsMeasured(){if(!this.active){return true;}var rowCtrls=this.beans.rowRenderer.getAllRowCtrls();var renderedAutoHeightCols=null;for(var{rowNode}of rowCtrls){if(!renderedAutoHeightCols||this.beans.colModel.colSpanActive){var renderedCols=this.beans.colViewport.getColsWithinViewport(rowNode);renderedAutoHeightCols=renderedCols.filter(col=>col.isAutoHeight());}if(renderedAutoHeightCols.length===0){continue;}if(!rowNode.__autoHeights){return false;}for(var col of renderedAutoHeightCols){var cellHeight=rowNode.__autoHeights[col.getColId()];if(!cellHeight||rowNode.rowHeight<cellHeight){return false;}}}return true;}};// packages/ag-grid-community/src/rendering/row/rowAutoHeightModule.ts\nvar RowAutoHeightModule={moduleName:\"RowAutoHeight\",version:VERSION,beans:[RowAutoHeightService]};// packages/ag-grid-community/src/allCommunityModule.ts\nvar AllCommunityModule={moduleName:\"AllCommunity\",version:VERSION,dependsOn:[ClientSideRowModelModule,CsvExportModule,InfiniteRowModelModule,ValidationModule,TextEditorModule,NumberEditorModule,DateEditorModule,CheckboxEditorModule,SelectEditorModule,LargeTextEditorModule,CustomEditorModule,UndoRedoEditModule,TextFilterModule,NumberFilterModule,DateFilterModule,CustomFilterModule,QuickFilterModule,ExternalFilterModule,GridStateModule,AlignedGridsModule,PaginationModule,ColumnApiModule,RowApiModule,ScrollApiModule,RenderApiModule,ColumnAutoSizeModule,RowDragModule,PinnedRowModule,RowSelectionModule,ValueCacheModule,CellStyleModule,ColumnHoverModule,RowStyleModule,EventApiModule,CellApiModule,HighlightChangesModule,TooltipModule,LocaleModule,RowAutoHeightModule,DragAndDropModule,ClientSideRowModelApiModule,CellSpanModule]};\n\n//# sourceURL=webpack://pcf_tools_652ac3f36e1e4bca82eb3c1dc44e6fad/./node_modules/ag-grid-community/dist/package/main.esm.mjs?\n}");

/***/ }),

/***/ "./node_modules/ag-grid-enterprise/dist/package/main.esm.mjs":
/*!*******************************************************************!*\
  !*** ./node_modules/ag-grid-enterprise/dist/package/main.esm.mjs ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ALWAYS_SYNC_GLOBAL_EVENTS: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.ALWAYS_SYNC_GLOBAL_EVENTS),\n/* harmony export */   AbstractClientSideNodeManager: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AbstractClientSideNodeManager),\n/* harmony export */   AdvancedFilterModule: () => (/* binding */ AdvancedFilterModule),\n/* harmony export */   AgAbstractCellEditor: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgAbstractCellEditor),\n/* harmony export */   AgAbstractInputField: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgAbstractInputField),\n/* harmony export */   AgAbstractLabel: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgAbstractLabel),\n/* harmony export */   AgCheckbox: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgCheckbox),\n/* harmony export */   AgCheckboxSelector: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgCheckboxSelector),\n/* harmony export */   AgColumn: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgColumn),\n/* harmony export */   AgColumnGroup: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgColumnGroup),\n/* harmony export */   AgInputDateField: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgInputDateField),\n/* harmony export */   AgInputNumberField: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgInputNumberField),\n/* harmony export */   AgInputNumberFieldSelector: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgInputNumberFieldSelector),\n/* harmony export */   AgInputTextArea: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgInputTextArea),\n/* harmony export */   AgInputTextField: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgInputTextField),\n/* harmony export */   AgInputTextFieldSelector: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgInputTextFieldSelector),\n/* harmony export */   AgPickerField: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgPickerField),\n/* harmony export */   AgPromise: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgPromise),\n/* harmony export */   AgProvidedColumnGroup: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgProvidedColumnGroup),\n/* harmony export */   AgRadioButton: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgRadioButton),\n/* harmony export */   AgSelect: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgSelect),\n/* harmony export */   AgSelectSelector: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgSelectSelector),\n/* harmony export */   AgToggleButton: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgToggleButton),\n/* harmony export */   AgToggleButtonSelector: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgToggleButtonSelector),\n/* harmony export */   AggregationModule: () => (/* binding */ AggregationModule),\n/* harmony export */   AlignedGridsModule: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AlignedGridsModule),\n/* harmony export */   AllCommunityModule: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AllCommunityModule),\n/* harmony export */   AllEnterpriseModule: () => (/* binding */ AllEnterpriseModule),\n/* harmony export */   AutoScrollService: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AutoScrollService),\n/* harmony export */   BaseColsService: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BaseColsService),\n/* harmony export */   BaseComponentWrapper: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BaseComponentWrapper),\n/* harmony export */   BaseCreator: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BaseCreator),\n/* harmony export */   BaseGridSerializingSession: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BaseGridSerializingSession),\n/* harmony export */   BaseSelectionService: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BaseSelectionService),\n/* harmony export */   BatchEditModule: () => (/* binding */ BatchEditModule),\n/* harmony export */   BeanStub: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BeanStub),\n/* harmony export */   CellApiModule: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.CellApiModule),\n/* harmony export */   CellRangeType: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.CellRangeType),\n/* harmony export */   CellSelectionModule: () => (/* binding */ CellSelectionModule),\n/* harmony export */   CellSpanModule: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.CellSpanModule),\n/* harmony export */   CellStyleModule: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.CellStyleModule),\n/* harmony export */   ChangedPath: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.ChangedPath),\n/* harmony export */   CheckboxEditorModule: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.CheckboxEditorModule),\n/* harmony export */   ClientSideRowModelApiModule: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.ClientSideRowModelApiModule),\n/* harmony export */   ClientSideRowModelModule: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.ClientSideRowModelModule),\n/* harmony export */   ClipboardModule: () => (/* binding */ ClipboardModule),\n/* harmony export */   ColumnApiModule: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.ColumnApiModule),\n/* harmony export */   ColumnAutoSizeModule: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.ColumnAutoSizeModule),\n/* harmony export */   ColumnHoverModule: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.ColumnHoverModule),\n/* harmony export */   ColumnKeyCreator: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.ColumnKeyCreator),\n/* harmony export */   ColumnMenuModule: () => (/* binding */ ColumnMenuModule),\n/* harmony export */   ColumnsToolPanelModule: () => (/* binding */ ColumnsToolPanelModule),\n/* harmony export */   Component: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Component),\n/* harmony export */   ContextMenuModule: () => (/* binding */ ContextMenuModule),\n/* harmony export */   CssClassManager: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.CssClassManager),\n/* harmony export */   CsvExportModule: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.CsvExportModule),\n/* harmony export */   CustomEditorModule: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.CustomEditorModule),\n/* harmony export */   CustomFilterModule: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.CustomFilterModule),\n/* harmony export */   DateEditorModule: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.DateEditorModule),\n/* harmony export */   DateFilterModule: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.DateFilterModule),\n/* harmony export */   DragAndDropModule: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.DragAndDropModule),\n/* harmony export */   DragSourceType: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.DragSourceType),\n/* harmony export */   EventApiModule: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EventApiModule),\n/* harmony export */   ExcelExportModule: () => (/* binding */ ExcelExportModule),\n/* harmony export */   ExternalFilterModule: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.ExternalFilterModule),\n/* harmony export */   FakeHScrollComp: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FakeHScrollComp),\n/* harmony export */   FakeVScrollComp: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FakeVScrollComp),\n/* harmony export */   FilterButtonComp: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FilterButtonComp),\n/* harmony export */   FilterComp: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FilterComp),\n/* harmony export */   FilterWrapperComp: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FilterWrapperComp),\n/* harmony export */   FiltersToolPanelModule: () => (/* binding */ FiltersToolPanelModule),\n/* harmony export */   FindModule: () => (/* binding */ FindModule),\n/* harmony export */   GROUP_AUTO_COLUMN_ID: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GROUP_AUTO_COLUMN_ID),\n/* harmony export */   GridBodyCtrl: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GridBodyCtrl),\n/* harmony export */   GridChartsModule: () => (/* binding */ GridChartsModule),\n/* harmony export */   GridCoreCreator: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GridCoreCreator),\n/* harmony export */   GridCtrl: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GridCtrl),\n/* harmony export */   GridHeaderCtrl: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GridHeaderCtrl),\n/* harmony export */   GridStateModule: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GridStateModule),\n/* harmony export */   GroupFilterModule: () => (/* binding */ GroupFilterModule),\n/* harmony export */   GroupInstanceIdCreator: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GroupInstanceIdCreator),\n/* harmony export */   HeaderRowContainerCtrl: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.HeaderRowContainerCtrl),\n/* harmony export */   HighlightChangesModule: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.HighlightChangesModule),\n/* harmony export */   InfiniteRowModelModule: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.InfiniteRowModelModule),\n/* harmony export */   IntegratedChartsModule: () => (/* binding */ IntegratedChartsModule),\n/* harmony export */   KeyCode: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode),\n/* harmony export */   LargeTextEditorModule: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.LargeTextEditorModule),\n/* harmony export */   LicenseManager: () => (/* binding */ GridLicenseManager),\n/* harmony export */   LocalEventService: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.LocalEventService),\n/* harmony export */   LocaleModule: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.LocaleModule),\n/* harmony export */   LocaleService: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.LocaleService),\n/* harmony export */   ManagedFocusFeature: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.ManagedFocusFeature),\n/* harmony export */   MasterDetailModule: () => (/* binding */ MasterDetailModule),\n/* harmony export */   MenuModule: () => (/* binding */ MenuModule),\n/* harmony export */   ModuleRegistry: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.ModuleRegistry),\n/* harmony export */   MultiFilterModule: () => (/* binding */ MultiFilterModule),\n/* harmony export */   NewFiltersToolPanelModule: () => (/* binding */ NewFiltersToolPanelModule),\n/* harmony export */   NumberEditorModule: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NumberEditorModule),\n/* harmony export */   NumberFilterModule: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NumberFilterModule),\n/* harmony export */   PaginationModule: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.PaginationModule),\n/* harmony export */   PinnedRowModel: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.PinnedRowModel),\n/* harmony export */   PinnedRowModule: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.PinnedRowModule),\n/* harmony export */   PivotModule: () => (/* binding */ PivotModule),\n/* harmony export */   PopupComponent: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.PopupComponent),\n/* harmony export */   PositionableFeature: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.PositionableFeature),\n/* harmony export */   ProvidedFilter: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.ProvidedFilter),\n/* harmony export */   QuickFilterModule: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.QuickFilterModule),\n/* harmony export */   ROW_NUMBERS_COLUMN_ID: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.ROW_NUMBERS_COLUMN_ID),\n/* harmony export */   RangeSelectionModule: () => (/* binding */ RangeSelectionModule),\n/* harmony export */   RefPlaceholder: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder),\n/* harmony export */   RenderApiModule: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RenderApiModule),\n/* harmony export */   RichSelectModule: () => (/* binding */ RichSelectModule),\n/* harmony export */   RowApiModule: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RowApiModule),\n/* harmony export */   RowAutoHeightModule: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RowAutoHeightModule),\n/* harmony export */   RowContainerCtrl: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RowContainerCtrl),\n/* harmony export */   RowDragModule: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RowDragModule),\n/* harmony export */   RowGroupingModule: () => (/* binding */ RowGroupingModule),\n/* harmony export */   RowGroupingPanelModule: () => (/* binding */ RowGroupingPanelModule),\n/* harmony export */   RowNode: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RowNode),\n/* harmony export */   RowNumbersModule: () => (/* binding */ RowNumbersModule),\n/* harmony export */   RowSelectionModule: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RowSelectionModule),\n/* harmony export */   RowStyleModule: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RowStyleModule),\n/* harmony export */   SELECTION_COLUMN_ID: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.SELECTION_COLUMN_ID),\n/* harmony export */   ScrollApiModule: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.ScrollApiModule),\n/* harmony export */   SelectEditorModule: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.SelectEditorModule),\n/* harmony export */   ServerSideRowModelApiModule: () => (/* binding */ ServerSideRowModelApiModule),\n/* harmony export */   ServerSideRowModelModule: () => (/* binding */ ServerSideRowModelModule),\n/* harmony export */   ServerSideTransactionResultStatus: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.ServerSideTransactionResultStatus),\n/* harmony export */   SetFilterModule: () => (/* binding */ SetFilterModule),\n/* harmony export */   SideBarModule: () => (/* binding */ SideBarModule),\n/* harmony export */   SparklinesModule: () => (/* binding */ SparklinesModule),\n/* harmony export */   StatusBarModule: () => (/* binding */ StatusBarModule),\n/* harmony export */   TabGuardClassNames: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.TabGuardClassNames),\n/* harmony export */   TabGuardComp: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.TabGuardComp),\n/* harmony export */   TabGuardCtrl: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.TabGuardCtrl),\n/* harmony export */   TabGuardFeature: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.TabGuardFeature),\n/* harmony export */   TextEditorModule: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.TextEditorModule),\n/* harmony export */   TextFilterModule: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.TextFilterModule),\n/* harmony export */   TooltipFeature: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.TooltipFeature),\n/* harmony export */   TooltipModule: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.TooltipModule),\n/* harmony export */   TouchListener: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.TouchListener),\n/* harmony export */   TreeDataModule: () => (/* binding */ TreeDataModule),\n/* harmony export */   UndoRedoEditModule: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.UndoRedoEditModule),\n/* harmony export */   ValidationModule: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.ValidationModule),\n/* harmony export */   ValueCacheModule: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.ValueCacheModule),\n/* harmony export */   VanillaFrameworkOverrides: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VanillaFrameworkOverrides),\n/* harmony export */   ViewportRowModelModule: () => (/* binding */ ViewportRowModelModule),\n/* harmony export */   _BOOLEAN_MIXED_GRID_OPTIONS: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._BOOLEAN_MIXED_GRID_OPTIONS),\n/* harmony export */   _ColumnFilterModule: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._ColumnFilterModule),\n/* harmony export */   _ColumnGroupModule: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._ColumnGroupModule),\n/* harmony export */   _ColumnMoveModule: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._ColumnMoveModule),\n/* harmony export */   _CsrmSsrmSharedApiModule: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._CsrmSsrmSharedApiModule),\n/* harmony export */   _DragModule: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._DragModule),\n/* harmony export */   _EditCoreModule: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._EditCoreModule),\n/* harmony export */   _EmptyArray: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._EmptyArray),\n/* harmony export */   _EmptyBean: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._EmptyBean),\n/* harmony export */   _FOCUS_MANAGED_CLASS: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._FOCUS_MANAGED_CLASS),\n/* harmony export */   _FilterCoreModule: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._FilterCoreModule),\n/* harmony export */   _FilterValueModule: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._FilterValueModule),\n/* harmony export */   _GET_ALL_EVENTS: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._GET_ALL_EVENTS),\n/* harmony export */   _GET_ALL_GRID_OPTIONS: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._GET_ALL_GRID_OPTIONS),\n/* harmony export */   _HeaderComp: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._HeaderComp),\n/* harmony export */   _HorizontalResizeModule: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._HorizontalResizeModule),\n/* harmony export */   _KeyboardNavigationModule: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._KeyboardNavigationModule),\n/* harmony export */   _PUBLIC_EVENTS: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._PUBLIC_EVENTS),\n/* harmony export */   _PUBLIC_EVENT_HANDLERS_MAP: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._PUBLIC_EVENT_HANDLERS_MAP),\n/* harmony export */   _PopupModule: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._PopupModule),\n/* harmony export */   _ROW_ID_PREFIX_BOTTOM_PINNED: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._ROW_ID_PREFIX_BOTTOM_PINNED),\n/* harmony export */   _ROW_ID_PREFIX_ROW_GROUP: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._ROW_ID_PREFIX_ROW_GROUP),\n/* harmony export */   _ROW_ID_PREFIX_TOP_PINNED: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._ROW_ID_PREFIX_TOP_PINNED),\n/* harmony export */   _SharedDragAndDropModule: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._SharedDragAndDropModule),\n/* harmony export */   _SharedExportModule: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._SharedExportModule),\n/* harmony export */   _SharedMenuModule: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._SharedMenuModule),\n/* harmony export */   _SharedRowSelectionModule: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._SharedRowSelectionModule),\n/* harmony export */   _SortModule: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._SortModule),\n/* harmony export */   _SsrmInfiniteSharedApiModule: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._SsrmInfiniteSharedApiModule),\n/* harmony export */   _addColumnDefaultAndTypes: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._addColumnDefaultAndTypes),\n/* harmony export */   _addFocusableContainerListener: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._addFocusableContainerListener),\n/* harmony export */   _addGridCommonParams: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._addGridCommonParams),\n/* harmony export */   _anchorElementToMouseMoveEvent: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._anchorElementToMouseMoveEvent),\n/* harmony export */   _applyColumnState: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._applyColumnState),\n/* harmony export */   _areCellsEqual: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._areCellsEqual),\n/* harmony export */   _areColIdsEqual: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._areColIdsEqual),\n/* harmony export */   _areEqual: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._areEqual),\n/* harmony export */   _asThemeImpl: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._asThemeImpl),\n/* harmony export */   _batchCall: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._batchCall),\n/* harmony export */   _canSkipShowingRowGroup: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._canSkipShowingRowGroup),\n/* harmony export */   _clearElement: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._clearElement),\n/* harmony export */   _columnsMatch: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._columnsMatch),\n/* harmony export */   _combineAttributesAndGridOptions: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._combineAttributesAndGridOptions),\n/* harmony export */   _convertColumnEventSourceType: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._convertColumnEventSourceType),\n/* harmony export */   _createCellId: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createCellId),\n/* harmony export */   _createColumnTree: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createColumnTree),\n/* harmony export */   _createColumnTreeWithIds: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createColumnTreeWithIds),\n/* harmony export */   _createElement: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createElement),\n/* harmony export */   _createGlobalRowEvent: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createGlobalRowEvent),\n/* harmony export */   _createIcon: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createIcon),\n/* harmony export */   _createIconNoSpan: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createIconNoSpan),\n/* harmony export */   _createRowNodeSibling: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createRowNodeSibling),\n/* harmony export */   _debounce: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._debounce),\n/* harmony export */   _defaultComparator: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._defaultComparator),\n/* harmony export */   _destroyColumnTree: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._destroyColumnTree),\n/* harmony export */   _doOnce: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._doOnce),\n/* harmony export */   _downloadFile: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._downloadFile),\n/* harmony export */   _errMsg: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._errMsg),\n/* harmony export */   _error: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._error),\n/* harmony export */   _escapeString: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._escapeString),\n/* harmony export */   _exists: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._exists),\n/* harmony export */   _findFocusableElements: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._findFocusableElements),\n/* harmony export */   _findNextFocusableElement: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._findNextFocusableElement),\n/* harmony export */   _findTabbableParent: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._findTabbableParent),\n/* harmony export */   _flatten: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._flatten),\n/* harmony export */   _focusGridInnerElement: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._focusGridInnerElement),\n/* harmony export */   _focusInto: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._focusInto),\n/* harmony export */   _focusNextGridCoreContainer: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._focusNextGridCoreContainer),\n/* harmony export */   _formatNumberCommas: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._formatNumberCommas),\n/* harmony export */   _fuzzySuggestions: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._fuzzySuggestions),\n/* harmony export */   _getAbsoluteHeight: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getAbsoluteHeight),\n/* harmony export */   _getAbsoluteWidth: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getAbsoluteWidth),\n/* harmony export */   _getActiveDomElement: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getActiveDomElement),\n/* harmony export */   _getAriaPosInSet: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getAriaPosInSet),\n/* harmony export */   _getCallbackForEvent: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getCallbackForEvent),\n/* harmony export */   _getCellByPosition: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getCellByPosition),\n/* harmony export */   _getCellCtrlForEventTarget: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getCellCtrlForEventTarget),\n/* harmony export */   _getCellPositionForEvent: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getCellPositionForEvent),\n/* harmony export */   _getCellRendererDetails: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getCellRendererDetails),\n/* harmony export */   _getCheckboxLocation: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getCheckboxLocation),\n/* harmony export */   _getCheckboxes: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getCheckboxes),\n/* harmony export */   _getClientSideRowModel: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getClientSideRowModel),\n/* harmony export */   _getColumnState: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getColumnState),\n/* harmony export */   _getColumnsFromTree: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getColumnsFromTree),\n/* harmony export */   _getDateParts: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getDateParts),\n/* harmony export */   _getDefaultFloatingFilterType: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getDefaultFloatingFilterType),\n/* harmony export */   _getDefaultSimpleFilter: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getDefaultSimpleFilter),\n/* harmony export */   _getDocument: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getDocument),\n/* harmony export */   _getEditorRendererDetails: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getEditorRendererDetails),\n/* harmony export */   _getFillHandle: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getFillHandle),\n/* harmony export */   _getFilterDetails: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getFilterDetails),\n/* harmony export */   _getFilterModel: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getFilterModel),\n/* harmony export */   _getFilterParamsForDataType: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getFilterParamsForDataType),\n/* harmony export */   _getFloatingFilterCompDetails: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getFloatingFilterCompDetails),\n/* harmony export */   _getFloatingFiltersHeight: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getFloatingFiltersHeight),\n/* harmony export */   _getGlobalGridOption: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getGlobalGridOption),\n/* harmony export */   _getGrandTotalRow: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getGrandTotalRow),\n/* harmony export */   _getGridOption: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getGridOption),\n/* harmony export */   _getGridRegisteredModules: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getGridRegisteredModules),\n/* harmony export */   _getGroupAggFiltering: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getGroupAggFiltering),\n/* harmony export */   _getGroupSelection: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getGroupSelection),\n/* harmony export */   _getGroupSelectsDescendants: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getGroupSelectsDescendants),\n/* harmony export */   _getGroupTotalRowCallback: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getGroupTotalRowCallback),\n/* harmony export */   _getGroupingApproach: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getGroupingApproach),\n/* harmony export */   _getHeaderCheckbox: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getHeaderCheckbox),\n/* harmony export */   _getHeaderClassesFromColDef: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getHeaderClassesFromColDef),\n/* harmony export */   _getHeaderRowCount: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getHeaderRowCount),\n/* harmony export */   _getInnerCellRendererDetails: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getInnerCellRendererDetails),\n/* harmony export */   _getInnerHeight: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getInnerHeight),\n/* harmony export */   _getInnerWidth: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getInnerWidth),\n/* harmony export */   _getIsRowSelectable: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getIsRowSelectable),\n/* harmony export */   _getLocaleTextFunc: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getLocaleTextFunc),\n/* harmony export */   _getMaxConcurrentDatasourceRequests: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getMaxConcurrentDatasourceRequests),\n/* harmony export */   _getNormalisedMousePosition: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getNormalisedMousePosition),\n/* harmony export */   _getPageBody: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getPageBody),\n/* harmony export */   _getRootNode: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getRootNode),\n/* harmony export */   _getRowAbove: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getRowAbove),\n/* harmony export */   _getRowBelow: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getRowBelow),\n/* harmony export */   _getRowContainerClass: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getRowContainerClass),\n/* harmony export */   _getRowContainerOptions: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getRowContainerOptions),\n/* harmony export */   _getRowHeightAsNumber: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getRowHeightAsNumber),\n/* harmony export */   _getRowHeightForNode: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getRowHeightForNode),\n/* harmony export */   _getRowIdCallback: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getRowIdCallback),\n/* harmony export */   _getRowNode: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getRowNode),\n/* harmony export */   _getRowSelectionMode: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getRowSelectionMode),\n/* harmony export */   _getRowSpanContainerClass: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getRowSpanContainerClass),\n/* harmony export */   _getRowViewportClass: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getRowViewportClass),\n/* harmony export */   _getServerSideRowModel: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getServerSideRowModel),\n/* harmony export */   _getShouldDisplayTooltip: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getShouldDisplayTooltip),\n/* harmony export */   _getSuppressMultiRanges: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getSuppressMultiRanges),\n/* harmony export */   _getToolPanelClassesFromColDef: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getToolPanelClassesFromColDef),\n/* harmony export */   _interpretAsRightClick: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._interpretAsRightClick),\n/* harmony export */   _isAnimateRows: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isAnimateRows),\n/* harmony export */   _isCellSelectionEnabled: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isCellSelectionEnabled),\n/* harmony export */   _isClientSideRowModel: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isClientSideRowModel),\n/* harmony export */   _isColumnMenuAnchoringEnabled: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isColumnMenuAnchoringEnabled),\n/* harmony export */   _isColumnsSortingCoupledToGroup: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isColumnsSortingCoupledToGroup),\n/* harmony export */   _isDomLayout: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isDomLayout),\n/* harmony export */   _isElementInEventPath: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isElementInEventPath),\n/* harmony export */   _isElementOverflowingCallback: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isElementOverflowingCallback),\n/* harmony export */   _isEventFromPrintableCharacter: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isEventFromPrintableCharacter),\n/* harmony export */   _isFullWidthGroupRow: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isFullWidthGroupRow),\n/* harmony export */   _isGetRowHeightFunction: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isGetRowHeightFunction),\n/* harmony export */   _isGroupMultiAutoColumn: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isGroupMultiAutoColumn),\n/* harmony export */   _isGroupRowsSticky: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isGroupRowsSticky),\n/* harmony export */   _isGroupUseEntireRow: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isGroupUseEntireRow),\n/* harmony export */   _isIOSUserAgent: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isIOSUserAgent),\n/* harmony export */   _isKeyboardMode: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isKeyboardMode),\n/* harmony export */   _isLegacyMenuEnabled: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isLegacyMenuEnabled),\n/* harmony export */   _isMultiRowSelection: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isMultiRowSelection),\n/* harmony export */   _isNodeOrElement: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isNodeOrElement),\n/* harmony export */   _isNothingFocused: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isNothingFocused),\n/* harmony export */   _isPromise: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isPromise),\n/* harmony export */   _isRowBefore: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isRowBefore),\n/* harmony export */   _isRowSelection: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isRowSelection),\n/* harmony export */   _isSameRow: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isSameRow),\n/* harmony export */   _isServerSideRowModel: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isServerSideRowModel),\n/* harmony export */   _isSetFilterByDefault: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isSetFilterByDefault),\n/* harmony export */   _isShowTooltipWhenTruncated: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isShowTooltipWhenTruncated),\n/* harmony export */   _isStopPropagationForAgGrid: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isStopPropagationForAgGrid),\n/* harmony export */   _isUseApplyButton: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isUseApplyButton),\n/* harmony export */   _isUsingNewCellSelectionAPI: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isUsingNewCellSelectionAPI),\n/* harmony export */   _isUsingNewRowSelectionAPI: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isUsingNewRowSelectionAPI),\n/* harmony export */   _isVisible: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isVisible),\n/* harmony export */   _jsonEquals: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._jsonEquals),\n/* harmony export */   _last: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._last),\n/* harmony export */   _loadTemplate: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._loadTemplate),\n/* harmony export */   _makeNull: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._makeNull),\n/* harmony export */   _mergeDeep: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._mergeDeep),\n/* harmony export */   _missing: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._missing),\n/* harmony export */   _observeResize: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._observeResize),\n/* harmony export */   _parseDateTimeFromString: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._parseDateTimeFromString),\n/* harmony export */   _preInitErrMsg: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._preInitErrMsg),\n/* harmony export */   _preserveRangesWhile: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._preserveRangesWhile),\n/* harmony export */   _processOnChange: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._processOnChange),\n/* harmony export */   _radioCssClass: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._radioCssClass),\n/* harmony export */   _refreshFilterUi: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._refreshFilterUi),\n/* harmony export */   _refreshHandlerAndUi: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._refreshHandlerAndUi),\n/* harmony export */   _registerModule: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._registerModule),\n/* harmony export */   _removeAriaExpanded: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._removeAriaExpanded),\n/* harmony export */   _removeAriaSort: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._removeAriaSort),\n/* harmony export */   _removeFromArray: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._removeFromArray),\n/* harmony export */   _removeFromParent: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._removeFromParent),\n/* harmony export */   _requestAnimationFrame: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._requestAnimationFrame),\n/* harmony export */   _resetColumnState: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._resetColumnState),\n/* harmony export */   _selectAllCells: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._selectAllCells),\n/* harmony export */   _serialiseDate: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._serialiseDate),\n/* harmony export */   _setAriaActiveDescendant: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setAriaActiveDescendant),\n/* harmony export */   _setAriaChecked: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setAriaChecked),\n/* harmony export */   _setAriaColCount: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setAriaColCount),\n/* harmony export */   _setAriaColIndex: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setAriaColIndex),\n/* harmony export */   _setAriaColSpan: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setAriaColSpan),\n/* harmony export */   _setAriaControls: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setAriaControls),\n/* harmony export */   _setAriaControlsAndLabel: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setAriaControlsAndLabel),\n/* harmony export */   _setAriaDescribedBy: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setAriaDescribedBy),\n/* harmony export */   _setAriaDisabled: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setAriaDisabled),\n/* harmony export */   _setAriaExpanded: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setAriaExpanded),\n/* harmony export */   _setAriaHasPopup: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setAriaHasPopup),\n/* harmony export */   _setAriaHidden: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setAriaHidden),\n/* harmony export */   _setAriaInvalid: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setAriaInvalid),\n/* harmony export */   _setAriaLabel: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setAriaLabel),\n/* harmony export */   _setAriaLabelledBy: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setAriaLabelledBy),\n/* harmony export */   _setAriaLevel: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setAriaLevel),\n/* harmony export */   _setAriaPosInSet: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setAriaPosInSet),\n/* harmony export */   _setAriaRole: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setAriaRole),\n/* harmony export */   _setAriaRowCount: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setAriaRowCount),\n/* harmony export */   _setAriaRowIndex: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setAriaRowIndex),\n/* harmony export */   _setAriaSelected: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setAriaSelected),\n/* harmony export */   _setAriaSetSize: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setAriaSetSize),\n/* harmony export */   _setAriaSort: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setAriaSort),\n/* harmony export */   _setColMenuVisible: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setColMenuVisible),\n/* harmony export */   _setDisabled: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setDisabled),\n/* harmony export */   _setDisplayed: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setDisplayed),\n/* harmony export */   _setFixedWidth: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setFixedWidth),\n/* harmony export */   _setUmd: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setUmd),\n/* harmony export */   _setVisible: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setVisible),\n/* harmony export */   _shouldUpdateColVisibilityAfterGroup: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._shouldUpdateColVisibilityAfterGroup),\n/* harmony export */   _stopPropagationForAgGrid: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._stopPropagationForAgGrid),\n/* harmony export */   _toString: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._toString),\n/* harmony export */   _toStringOrNull: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._toStringOrNull),\n/* harmony export */   _translate: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._translate),\n/* harmony export */   _unwrapUserComp: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._unwrapUserComp),\n/* harmony export */   _updateColsMap: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._updateColsMap),\n/* harmony export */   _updateColumnState: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._updateColumnState),\n/* harmony export */   _updateFilterModel: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._updateFilterModel),\n/* harmony export */   _waitUntil: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._waitUntil),\n/* harmony export */   _warn: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn),\n/* harmony export */   _warnOnce: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warnOnce),\n/* harmony export */   buttonStyleAlpine: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.buttonStyleAlpine),\n/* harmony export */   buttonStyleBalham: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.buttonStyleBalham),\n/* harmony export */   buttonStyleBase: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.buttonStyleBase),\n/* harmony export */   buttonStyleQuartz: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.buttonStyleQuartz),\n/* harmony export */   checkboxStyleDefault: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.checkboxStyleDefault),\n/* harmony export */   colorSchemeDark: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.colorSchemeDark),\n/* harmony export */   colorSchemeDarkBlue: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.colorSchemeDarkBlue),\n/* harmony export */   colorSchemeDarkWarm: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.colorSchemeDarkWarm),\n/* harmony export */   colorSchemeLight: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.colorSchemeLight),\n/* harmony export */   colorSchemeLightCold: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.colorSchemeLightCold),\n/* harmony export */   colorSchemeLightWarm: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.colorSchemeLightWarm),\n/* harmony export */   colorSchemeVariable: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.colorSchemeVariable),\n/* harmony export */   columnDropStyleBordered: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.columnDropStyleBordered),\n/* harmony export */   columnDropStylePlain: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.columnDropStylePlain),\n/* harmony export */   convertColumnGroupState: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.convertColumnGroupState),\n/* harmony export */   convertColumnState: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.convertColumnState),\n/* harmony export */   createGrid: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.createGrid),\n/* harmony export */   createPart: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.createPart),\n/* harmony export */   createTheme: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.createTheme),\n/* harmony export */   exportMultipleSheetsAsExcel: () => (/* binding */ exportMultipleSheetsAsExcel),\n/* harmony export */   getMultipleSheetsAsExcel: () => (/* binding */ getMultipleSheetsAsExcel),\n/* harmony export */   iconOverrides: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.iconOverrides),\n/* harmony export */   iconSetAlpine: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.iconSetAlpine),\n/* harmony export */   iconSetMaterial: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.iconSetMaterial),\n/* harmony export */   iconSetQuartz: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.iconSetQuartz),\n/* harmony export */   iconSetQuartzBold: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.iconSetQuartzBold),\n/* harmony export */   iconSetQuartzLight: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.iconSetQuartzLight),\n/* harmony export */   iconSetQuartzRegular: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.iconSetQuartzRegular),\n/* harmony export */   inputStyleBase: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.inputStyleBase),\n/* harmony export */   inputStyleBordered: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.inputStyleBordered),\n/* harmony export */   inputStyleUnderlined: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.inputStyleUnderlined),\n/* harmony export */   isColumn: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.isColumn),\n/* harmony export */   isColumnGroup: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.isColumnGroup),\n/* harmony export */   isColumnGroupAutoCol: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.isColumnGroupAutoCol),\n/* harmony export */   isColumnSelectionCol: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.isColumnSelectionCol),\n/* harmony export */   isCombinedFilterModel: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.isCombinedFilterModel),\n/* harmony export */   isProvidedColumnGroup: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.isProvidedColumnGroup),\n/* harmony export */   isRowNumberCol: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.isRowNumberCol),\n/* harmony export */   provideGlobalGridOptions: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.provideGlobalGridOptions),\n/* harmony export */   styleMaterial: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.styleMaterial),\n/* harmony export */   tabStyleAlpine: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.tabStyleAlpine),\n/* harmony export */   tabStyleBase: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.tabStyleBase),\n/* harmony export */   tabStyleMaterial: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.tabStyleMaterial),\n/* harmony export */   tabStyleQuartz: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.tabStyleQuartz),\n/* harmony export */   tabStyleRolodex: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.tabStyleRolodex),\n/* harmony export */   themeAlpine: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.themeAlpine),\n/* harmony export */   themeBalham: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.themeBalham),\n/* harmony export */   themeMaterial: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.themeMaterial),\n/* harmony export */   themeQuartz: () => (/* reexport safe */ ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.themeQuartz)\n/* harmony export */ });\n/* harmony import */ var ag_grid_community__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ag-grid-community */ \"./node_modules/ag-grid-community/dist/package/main.esm.mjs\");\nvar _excluded=[\"nodes\"],_excluded2=[\"xAxis\",\"yAxis\"],_excluded3=[\"chartType\",\"chartPalette\",\"chartOptions\"],_excluded4=[\"dimOpacity\"],_excluded5=[\"item\",\"series\"],_excluded6=[\"axes\",\"series\",\"seriesDefaults\"],_excluded7=[\"chartType\",\"chartOptions\"],_excluded8=[\"type\"],_excluded9=[\"tracking\"],_excluded0=[\"dimOpacity\"];function _objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=_objectWithoutPropertiesLoose(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++)o=n[r],-1===t.indexOf(o)&&{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o]);}return i;}function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(-1!==e.indexOf(n))continue;t[n]=r[n];}return t;}function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value;}catch(n){return void e(n);}i.done?t(u):Promise.resolve(u).then(r,o);}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,\"next\",n);}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,\"throw\",n);}_next(void 0);});};}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}function _defineProperty(e,r,t){return(r=_toPropertyKey(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e;}function _toPropertyKey(t){var i=_toPrimitive(t,\"string\");return\"symbol\"==typeof i?i:i+\"\";}function _toPrimitive(t,r){if(\"object\"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||\"default\");if(\"object\"!=typeof i)return i;throw new TypeError(\"@@toPrimitive must return a primitive value.\");}return(\"string\"===r?String:Number)(t);}// packages/ag-grid-enterprise/src/license/gridLicenseManager.ts\n// packages/ag-grid-enterprise/src/license/shared/md5.ts\nvar MD5=class{constructor(){this.ieCompatibility=false;}init(){this.ieCompatibility=this.md5(\"hello\")!=\"5d41402abc4b2a76b9719d911017c592\";}md5cycle(x,k){var a=x[0],b=x[1],c=x[2],d=x[3];a=this.ff(a,b,c,d,k[0],7,-680876936);d=this.ff(d,a,b,c,k[1],12,-389564586);c=this.ff(c,d,a,b,k[2],17,606105819);b=this.ff(b,c,d,a,k[3],22,-1044525330);a=this.ff(a,b,c,d,k[4],7,-176418897);d=this.ff(d,a,b,c,k[5],12,1200080426);c=this.ff(c,d,a,b,k[6],17,-1473231341);b=this.ff(b,c,d,a,k[7],22,-45705983);a=this.ff(a,b,c,d,k[8],7,1770035416);d=this.ff(d,a,b,c,k[9],12,-1958414417);c=this.ff(c,d,a,b,k[10],17,-42063);b=this.ff(b,c,d,a,k[11],22,-1990404162);a=this.ff(a,b,c,d,k[12],7,1804603682);d=this.ff(d,a,b,c,k[13],12,-40341101);c=this.ff(c,d,a,b,k[14],17,-1502002290);b=this.ff(b,c,d,a,k[15],22,1236535329);a=this.gg(a,b,c,d,k[1],5,-165796510);d=this.gg(d,a,b,c,k[6],9,-1069501632);c=this.gg(c,d,a,b,k[11],14,643717713);b=this.gg(b,c,d,a,k[0],20,-373897302);a=this.gg(a,b,c,d,k[5],5,-701558691);d=this.gg(d,a,b,c,k[10],9,38016083);c=this.gg(c,d,a,b,k[15],14,-660478335);b=this.gg(b,c,d,a,k[4],20,-405537848);a=this.gg(a,b,c,d,k[9],5,568446438);d=this.gg(d,a,b,c,k[14],9,-1019803690);c=this.gg(c,d,a,b,k[3],14,-187363961);b=this.gg(b,c,d,a,k[8],20,1163531501);a=this.gg(a,b,c,d,k[13],5,-1444681467);d=this.gg(d,a,b,c,k[2],9,-51403784);c=this.gg(c,d,a,b,k[7],14,1735328473);b=this.gg(b,c,d,a,k[12],20,-1926607734);a=this.hh(a,b,c,d,k[5],4,-378558);d=this.hh(d,a,b,c,k[8],11,-2022574463);c=this.hh(c,d,a,b,k[11],16,1839030562);b=this.hh(b,c,d,a,k[14],23,-35309556);a=this.hh(a,b,c,d,k[1],4,-1530992060);d=this.hh(d,a,b,c,k[4],11,1272893353);c=this.hh(c,d,a,b,k[7],16,-155497632);b=this.hh(b,c,d,a,k[10],23,-1094730640);a=this.hh(a,b,c,d,k[13],4,681279174);d=this.hh(d,a,b,c,k[0],11,-358537222);c=this.hh(c,d,a,b,k[3],16,-722521979);b=this.hh(b,c,d,a,k[6],23,76029189);a=this.hh(a,b,c,d,k[9],4,-640364487);d=this.hh(d,a,b,c,k[12],11,-421815835);c=this.hh(c,d,a,b,k[15],16,530742520);b=this.hh(b,c,d,a,k[2],23,-995338651);a=this.ii(a,b,c,d,k[0],6,-198630844);d=this.ii(d,a,b,c,k[7],10,1126891415);c=this.ii(c,d,a,b,k[14],15,-1416354905);b=this.ii(b,c,d,a,k[5],21,-57434055);a=this.ii(a,b,c,d,k[12],6,1700485571);d=this.ii(d,a,b,c,k[3],10,-1894986606);c=this.ii(c,d,a,b,k[10],15,-1051523);b=this.ii(b,c,d,a,k[1],21,-2054922799);a=this.ii(a,b,c,d,k[8],6,1873313359);d=this.ii(d,a,b,c,k[15],10,-30611744);c=this.ii(c,d,a,b,k[6],15,-1560198380);b=this.ii(b,c,d,a,k[13],21,1309151649);a=this.ii(a,b,c,d,k[4],6,-145523070);d=this.ii(d,a,b,c,k[11],10,-1120210379);c=this.ii(c,d,a,b,k[2],15,718787259);b=this.ii(b,c,d,a,k[9],21,-343485551);x[0]=this.add32(a,x[0]);x[1]=this.add32(b,x[1]);x[2]=this.add32(c,x[2]);x[3]=this.add32(d,x[3]);}cmn(q,a,b,x,s,t){a=this.add32(this.add32(a,q),this.add32(x,t));return this.add32(a<<s|a>>>32-s,b);}ff(a,b,c,d,x,s,t){return this.cmn(b&c|~b&d,a,b,x,s,t);}gg(a,b,c,d,x,s,t){return this.cmn(b&d|c&~d,a,b,x,s,t);}hh(a,b,c,d,x,s,t){return this.cmn(b^c^d,a,b,x,s,t);}ii(a,b,c,d,x,s,t){return this.cmn(c^(b|~d),a,b,x,s,t);}md51(s){var n=s.length;var state=[1732584193,-271733879,-1732584194,271733878];var i;for(i=64;i<=s.length;i+=64){this.md5cycle(state,this.md5blk(s.substring(i-64,i)));}s=s.substring(i-64);var tail=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(i=0;i<s.length;i++){tail[i>>2]|=s.charCodeAt(i)<<(i%4<<3);}tail[i>>2]|=128<<(i%4<<3);if(i>55){this.md5cycle(state,tail);for(i=0;i<16;i++){tail[i]=0;}}tail[14]=n*8;this.md5cycle(state,tail);return state;}/* there needs to be support for Unicode here, * unless we pretend that we can redefine the MD-5\n   * algorithm for multi-byte characters (perhaps by adding every four 16-bit characters and\n   * shortening the sum to 32 bits). Otherwise I suthis.ggest performing MD-5 as if every character\n   * was two bytes--e.g., 0040 0025 = @%--but then how will an ordinary MD-5 sum be matched?\n   * There is no way to standardize text to something like UTF-8 before transformation; speed cost is\n   * utterly prohibitive. The JavaScript standard itself needs to look at this: it should start\n   * providing access to strings as preformed UTF-8 8-bit unsigned value arrays.\n   */md5blk(s){var md5blks=[];for(var i=0;i<64;i+=4){md5blks[i>>2]=s.charCodeAt(i)+(s.charCodeAt(i+1)<<8)+(s.charCodeAt(i+2)<<16)+(s.charCodeAt(i+3)<<24);}return md5blks;}rhex(n){var hex_chr=\"0123456789abcdef\".split(\"\");var s=\"\",j=0;for(;j<4;j++){s+=hex_chr[n>>j*8+4&15]+hex_chr[n>>j*8&15];}return s;}hex(x){for(var i=0;i<x.length;i++){x[i]=this.rhex(x[i]);}return x.join(\"\");}md5(s){return this.hex(this.md51(s));}add32(a,b){return this.ieCompatibility?this.add32Compat(a,b):this.add32Std(a,b);}/* this function is much faster, so if possible we use it. Some IEs are the only ones I know of that\n   need the idiotic second function, generated by an if clause.  */add32Std(a,b){return a+b&4294967295;}add32Compat(x,y){var lsw=(x&65535)+(y&65535),msw=(x>>16)+(y>>16)+(lsw>>16);return msw<<16|lsw&65535;}};// packages/ag-grid-enterprise/src/license/shared/licenseManager.ts\nvar LICENSE_TYPES={\"01\":\"GRID\",\"02\":\"CHARTS\",\"0102\":\"BOTH\"};var LICENSING_HELP_URL=\"https://www.ag-grid.com/licensing/\";var _LicenseManager=class _LicenseManager{constructor(document2){this.watermarkMessage=void 0;this.totalMessageLength=124;this.document=document2;this.md5=new MD5();this.md5.init();}validateLicense(){var licenseDetails=this.getLicenseDetails(_LicenseManager.licenseKey);var currentLicenseName=\"AG Grid \".concat(licenseDetails.currentLicenseType===\"BOTH\"?\"and AG Charts \":\"\",\"Enterprise\");var suppliedLicenseName=licenseDetails.suppliedLicenseType===void 0?\"\":\"AG \".concat(licenseDetails.suppliedLicenseType===\"BOTH\"?\"Grid and AG Charts\":licenseDetails.suppliedLicenseType===\"GRID\"?\"Grid\":\"Charts\",\" Enterprise\");if(licenseDetails.missing){if(!this.isWebsiteUrl()||this.isForceWatermark()){this.outputMissingLicenseKey(currentLicenseName);}}else if(licenseDetails.expired){var gridReleaseDate=_LicenseManager.getGridReleaseDate();var formattedReleaseDate=_LicenseManager.formatDate(gridReleaseDate);this.outputExpiredKey(licenseDetails.expiry,formattedReleaseDate,currentLicenseName,suppliedLicenseName);}else if(!licenseDetails.valid){this.outputInvalidLicenseKey(!!licenseDetails.incorrectLicenseType,currentLicenseName,suppliedLicenseName);}else if(licenseDetails.isTrial&&licenseDetails.trialExpired){this.outputExpiredTrialKey(licenseDetails.expiry,currentLicenseName,suppliedLicenseName);}}static extractExpiry(license){var restrictionHashed=license.substring(license.lastIndexOf(\"_\")+1,license.length);return new Date(parseInt(_LicenseManager.decode(restrictionHashed),10));}static extractLicenseComponents(licenseKey){var cleanedLicenseKey=licenseKey.replace(/[\\u200B-\\u200D\\uFEFF]/g,\"\");cleanedLicenseKey=cleanedLicenseKey.replace(/\\r?\\n|\\r/g,\"\");if(licenseKey.length<=32){return{md5:null,license:licenseKey,version:null,isTrial:null};}var hashStart=cleanedLicenseKey.length-32;var md5=cleanedLicenseKey.substring(hashStart);var license=cleanedLicenseKey.substring(0,hashStart);var[version,isTrial,type]=_LicenseManager.extractBracketedInformation(cleanedLicenseKey);return{md5,license,version,isTrial,type};}getLicenseDetails(licenseKey){var currentLicenseType=_LicenseManager.chartsLicenseManager?\"BOTH\":\"GRID\";if(!(licenseKey!==null&&licenseKey!==void 0&&licenseKey.length)){return{licenseKey,valid:false,missing:true,currentLicenseType};}var gridReleaseDate=_LicenseManager.getGridReleaseDate();var{md5,license,version,isTrial,type}=_LicenseManager.extractLicenseComponents(licenseKey);var valid=md5===this.md5.md5(license)&&licenseKey.indexOf(\"For_Trialing_ag-Grid_Only\")===-1;var trialExpired=void 0;var expired=void 0;var expiry=null;var incorrectLicenseType=false;var suppliedLicenseType=void 0;function handleTrial(){var now=/* @__PURE__ */new Date();trialExpired=expiry<now;expired=void 0;}if(valid){expiry=_LicenseManager.extractExpiry(license);valid=!isNaN(expiry.getTime());if(valid){expired=gridReleaseDate>expiry;switch(version){case\"legacy\":case\"2\":{if(isTrial){handleTrial();}break;}case\"3\":{if(!(type!==null&&type!==void 0&&type.length)){valid=false;}else{suppliedLicenseType=type;if(type!==LICENSE_TYPES[\"01\"]&&type!==LICENSE_TYPES[\"0102\"]||currentLicenseType===\"BOTH\"&&suppliedLicenseType!==\"BOTH\"){valid=false;incorrectLicenseType=true;}else if(isTrial){handleTrial();}}}}}}if(!valid){return{licenseKey,valid,incorrectLicenseType,currentLicenseType,suppliedLicenseType};}return{licenseKey,valid,expiry:_LicenseManager.formatDate(expiry),expired,version,isTrial,trialExpired,incorrectLicenseType,currentLicenseType,suppliedLicenseType};}isDisplayWatermark(){var _this$watermarkMessag;return this.isForceWatermark()||!this.isLocalhost()&&!this.isWebsiteUrl()&&!!((_this$watermarkMessag=this.watermarkMessage)!==null&&_this$watermarkMessag!==void 0&&_this$watermarkMessag.length);}getWatermarkMessage(){return this.watermarkMessage||\"\";}getHostname(){var win=this.document.defaultView||window;var loc=win.location;var{hostname=\"\"}=loc;return hostname;}isForceWatermark(){var win=this.document.defaultView||window;var loc=win.location;var{pathname}=loc;return pathname?pathname.indexOf(\"forceWatermark\")!==-1:false;}isWebsiteUrl(){var hostname=this.getHostname();return hostname.match(/^((?:[\\w-]+\\.)?ag-grid\\.com)$/)!==null;}isLocalhost(){var hostname=this.getHostname();return hostname.match(/^(?:127\\.0\\.0\\.1|localhost)$/)!==null;}static formatDate(date){var monthNames=[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"];var day=date.getDate();var monthIndex=date.getMonth();var year=date.getFullYear();return day+\" \"+monthNames[monthIndex]+\" \"+year;}static getGridReleaseDate(){return new Date(parseInt(_LicenseManager.decode(_LicenseManager.RELEASE_INFORMATION),10));}static decode(input){var keystr=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";var t=\"\";var n,r,i;var s,o,u,a;var f=0;var e=input.replace(/[^A-Za-z0-9+/=]/g,\"\");while(f<e.length){s=keystr.indexOf(e.charAt(f++));o=keystr.indexOf(e.charAt(f++));u=keystr.indexOf(e.charAt(f++));a=keystr.indexOf(e.charAt(f++));n=s<<2|o>>4;r=(o&15)<<4|u>>2;i=(u&3)<<6|a;t=t+String.fromCharCode(n);if(u!=64){t=t+String.fromCharCode(r);}if(a!=64){t=t+String.fromCharCode(i);}}t=_LicenseManager.utf8_decode(t);return t;}static utf8_decode(input){input=input.replace(/rn/g,\"n\");var t=\"\";for(var n=0;n<input.length;n++){var r=input.charCodeAt(n);if(r<128){t+=String.fromCharCode(r);}else if(r>127&&r<2048){t+=String.fromCharCode(r>>6|192);t+=String.fromCharCode(r&63|128);}else{t+=String.fromCharCode(r>>12|224);t+=String.fromCharCode(r>>6&63|128);t+=String.fromCharCode(r&63|128);}}return t;}static setChartsLicenseManager(dependantLicenseManager){var _this$chartsLicenseMa;this.chartsLicenseManager=dependantLicenseManager;(_this$chartsLicenseMa=this.chartsLicenseManager)===null||_this$chartsLicenseMa===void 0||_this$chartsLicenseMa.setLicenseKey(this.licenseKey,true);}static setLicenseKey(licenseKey){var _this$chartsLicenseMa2;this.licenseKey=licenseKey;(_this$chartsLicenseMa2=this.chartsLicenseManager)===null||_this$chartsLicenseMa2===void 0||_this$chartsLicenseMa2.setLicenseKey(licenseKey,true);}static extractBracketedInformation(licenseKey){if(!licenseKey.includes(\"[\")){return[\"legacy\",false,void 0];}var matches=licenseKey.match(/\\[(.*?)\\]/g).map(match=>match.replace(\"[\",\"\").replace(\"]\",\"\"));if(!matches||matches.length===0){return[\"legacy\",false,void 0];}var isTrial=matches.filter(match=>match===\"TRIAL\").length===1;var rawVersion=matches.filter(match=>match.indexOf(\"v\")===0)[0];var version=rawVersion?rawVersion.replace(\"v\",\"\"):\"legacy\";var type=LICENSE_TYPES[matches.filter(match=>LICENSE_TYPES[match])[0]];return[version,isTrial,type];}centerPadAndOutput(input){var paddingRequired=this.totalMessageLength-input.length;console.error(input.padStart(paddingRequired/2+input.length,\"*\").padEnd(this.totalMessageLength,\"*\"));}padAndOutput(input){var padding=arguments.length>1&&arguments[1]!==undefined?arguments[1]:\"*\";var terminateWithPadding=arguments.length>2&&arguments[2]!==undefined?arguments[2]:\"\";console.error(input.padEnd(this.totalMessageLength-terminateWithPadding.length,padding)+terminateWithPadding);}outputInvalidLicenseKey(incorrectLicenseType,currentLicenseName,suppliedLicenseName){if(incorrectLicenseType){this.centerPadAndOutput(\"\");this.centerPadAndOutput(\" \".concat(currentLicenseName,\" License \"));this.centerPadAndOutput(\" Incompatible License Key \");this.padAndOutput(\"* Your license key is for \".concat(suppliedLicenseName,\" only and does not cover you for \").concat(currentLicenseName,\".\"),\" \",\"*\");this.padAndOutput(\"* To troubleshoot your license key visit \".concat(LICENSING_HELP_URL,\".\"),\" \",\"*\");this.centerPadAndOutput(\"\");this.centerPadAndOutput(\"\");}else{this.centerPadAndOutput(\"\");this.centerPadAndOutput(\" \".concat(currentLicenseName,\" License \"));this.centerPadAndOutput(\" Invalid License Key \");this.padAndOutput(\"* Your license key is not valid.\",\" \",\"*\");this.padAndOutput(\"* To troubleshoot your license key visit \".concat(LICENSING_HELP_URL,\".\"),\" \",\"*\");this.centerPadAndOutput(\"\");this.centerPadAndOutput(\"\");}this.watermarkMessage=\"Invalid License\";}outputExpiredTrialKey(formattedExpiryDate,currentLicenseName,suppliedLicenseName){this.centerPadAndOutput(\"\");this.centerPadAndOutput(\" \".concat(currentLicenseName,\" License \"));this.centerPadAndOutput(\" Trial Period Expired. \");this.padAndOutput(\"* Your trial only license for \".concat(suppliedLicenseName,\" expired on \").concat(formattedExpiryDate,\".\"),\" \",\"*\");this.padAndOutput(\"* Please email info@ag-grid.com to purchase a license.\",\" \",\"*\");this.centerPadAndOutput(\"\");this.centerPadAndOutput(\"\");this.watermarkMessage=\"Trial Period Expired\";}outputMissingLicenseKey(currentLicenseName){this.centerPadAndOutput(\"\");this.centerPadAndOutput(\" \".concat(currentLicenseName,\" License \"));this.centerPadAndOutput(\" License Key Not Found \");this.padAndOutput(\"* All \".concat(currentLicenseName,\" features are unlocked for trial.\"),\" \",\"*\");this.padAndOutput(\"* If you want to hide the watermark please email info@ag-grid.com for a trial license key.\",\" \",\"*\");this.centerPadAndOutput(\"\");this.centerPadAndOutput(\"\");this.watermarkMessage=\"For Trial Use Only\";}outputExpiredKey(formattedExpiryDate,formattedReleaseDate,currentLicenseName,suppliedLicenseName){this.centerPadAndOutput(\"\");this.centerPadAndOutput(\" \".concat(currentLicenseName,\" License \"));this.centerPadAndOutput(\" Incompatible Software Version \");this.padAndOutput(\"* Your license key works with versions of \".concat(suppliedLicenseName,\" released before \").concat(formattedExpiryDate,\".\"),\" \",\"*\");this.padAndOutput(\"* The version you are trying to use was released on \".concat(formattedReleaseDate,\".\"),\" \",\"*\");this.padAndOutput(\"* Please contact info@ag-grid.com to renew your license key.\",\" \",\"*\");this.centerPadAndOutput(\"\");this.centerPadAndOutput(\"\");this.watermarkMessage=\"License Expired\";}};_LicenseManager.RELEASE_INFORMATION=\"MTc1MTk4NDc5OTc2OQ==\";var LicenseManager=_LicenseManager;// packages/ag-grid-enterprise/src/license/watermark.ts\n// packages/ag-grid-enterprise/src/license/watermark.css-GENERATED.ts\nvar watermarkCSS=/*css*/\".ag-watermark{bottom:20px;color:#9b9b9b;opacity:.7;position:absolute;transition:opacity 1s ease-out 3s;&:before{background-image:url(\\\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMDkiIGhlaWdodD0iMzYiIGZpbGw9Im5vbmUiIHZpZXdCb3g9IjAgMCAyMDkgMzYiPjxwYXRoIGZpbGw9IiM5QjlCOUIiIGQ9Ik0xOTIuOTkzIDIzLjY1OHYtNy45NDZoLTEzLjU0MWwtNy45NDcgNy45NDZ6TTIwOC4yNSAzLjk1aC0xNi45NzRsLTguMDEgNy45NDdoMjQuOTg0ek0xNjMuNjIyIDMxLjYwNWw0LjA2OS00LjA2OWgxMy43MzJ2Ny45NDdoLTE3LjgwMXoiLz48cGF0aCBmaWxsPSIjOUI5QjlCIiBkPSJNMTY2LjYxIDE5Ljc4aDguNzczbDguMDEtNy45NDZIMTY2LjYxek0xNTcuMDExIDMxLjYwNWg2LjYxMWw3Ljg4My03Ljk0N2gtMTQuNDk0ek0xOTEuMjc2IDMuOTVsLTQuMDY4IDQuMDdIMTYxLjI3Vi4wNzJoMzAuMDA2ek0yMC44NCAzMC4yMDZIOC4zNzhsLTIuMTYyIDUuMzRILjc1TDEyLjI1NyA4LjU5Mmg0Ljc2OEwyOC41MyAzNS41NDZoLTUuNTN6bS0xLjcxNy00LjI2TDE0LjYwOSAxNC45NWwtNC41MTQgMTAuOTk4ek0xMDQuNDM3IDE4LjUwOWMxLjU4OS0yLjM1MiA1LjU5NC0yLjYwNyA3LjI0Ny0yLjYwN3Y0LjU3OGMtMi4wMzQgMC00LjA2OS4wNjMtNS4yNzcuOTUzLTEuMjA3Ljg5LTEuODQzIDIuMDk4LTEuODQzIDMuNTZ2MTAuNTUzaC00Ljk1OVYxNS45MDJoNC43Njh6TTExOS4zNzYgMTUuOTAyaC00Ljk1OHYxOS42NDRoNC45NTh6TTExOS4zNzYgNy4xM2gtNC45NTh2NS44NDhoNC45NTh6TTE0My45NzkgNy4xM3YyOC40MTZoLTQuNzY4bC0uMTI3LTIuOTg4YTguMyA4LjMgMCAwIDEtMi42NyAyLjQ4Yy0xLjA4MS41NzItMi40MTYuODktMy45NDIuODktMS4zMzUgMC0yLjYwNi0uMjU1LTMuNjg3LS43LTEuMTQ0LS41MDgtMi4xNjItMS4xNDQtMi45ODgtMi4wMzRhOS42IDkuNiAwIDAgMS0xLjk3MS0zLjE3OWMtLjUwOC0xLjIwNy0uNjk5LTIuNjA2LS42OTktNC4xMzJzLjI1NC0yLjkyNC42OTktNC4xOTZjLjUwOS0xLjI3MSAxLjE0NS0yLjM1MiAxLjk3MS0zLjI0MnMxLjg0NC0xLjU4OSAyLjk4OC0yLjA5OCAyLjM1Mi0uNzYzIDMuNjg3LS43NjNjMS41MjYgMCAyLjc5Ny4yNTUgMy44NzguODI3czEuOTcxIDEuMzM1IDIuNjcgMi40MTZWNy4xOTNoNC45NTl6bS0xMC40MjYgMjQuNTM4YzEuNjUzIDAgMi45MjQtLjU3MiAzLjk0MS0xLjY1M3MxLjUyNi0yLjU0MyAxLjUyNi00LjMyMy0uNTA5LTMuMTc4LTEuNTI2LTQuMzIyYy0xLjAxNy0xLjA4MS0yLjI4OC0xLjY1My0zLjk0MS0xLjY1My0xLjU5IDAtMi45MjUuNTcyLTMuODc4IDEuNjUzLTEuMDE3IDEuMDgtMS41MjYgMi41NDMtMS41MjYgNC4zMjIgMCAxLjc4LjUwOSAzLjE4IDEuNTI2IDQuMjYgMS4wMTcgMS4xNDQgMi4yODggMS43MTYgMy44NzggMS43MTZNNTcuMjAyIDIwLjM1M0g0NC45MzN2NC4yNTloNi45OTNjLS4xOSAyLjE2MS0xLjAxNyAzLjgxNC0yLjQxNiA1LjE1LTEuMzk4IDEuMjctMy4xNzggMS45MDYtNS40NjcgMS45MDYtMS4yNzEgMC0yLjQ4LS4yNTQtMy40OTYtLjY5OWE3IDcgMCAwIDEtMi43MzQtMS45N2MtLjc2My0uODI3LTEuMzM1LTEuODQ0LTEuNzgtMy4wNTJzLS42MzYtMi40OC0uNjM2LTMuOTQyLjE5LTIuNzMzLjYzNi0zLjk0MWMuMzgxLTEuMjA4IDEuMDE3LTIuMTYyIDEuNzgtMy4wNTIuNzYzLS44MjYgMS42NTMtMS40NjIgMi43MzMtMS45N2E5LjEgOS4xIDAgMCAxIDMuNTYtLjdxNC4wMDUgMCA2LjEwMyAxLjkwN2wzLjMwNi0zLjMwNWMtMi40OC0xLjkwNy01LjY1OC0yLjkyNS05LjQwOS0yLjkyNS0yLjA5NyAwLTQuMDA0LjMxOC01LjcyMSAxLjAxOC0xLjcxNi42OTktMy4xNzkgMS41ODktNC4zODYgMi43OTdBMTIuMSAxMi4xIDAgMCAwIDMxLjIgMTYuMjJjLS42MzUgMS43MTctLjk1MyAzLjYyNC0uOTUzIDUuNjU4cy4zMTggMy45NDIgMS4wMTcgNS42NThjLjcgMS43MTcgMS41OSAzLjE3OSAyLjc5NyA0LjM4N2ExMi4xIDEyLjEgMCAwIDAgNC4zODcgMi43OTdjMS43MTYuNyAzLjYyMyAxLjAxNyA1LjY1NyAxLjAxNyAyLjAzNSAwIDMuODc4LS4zMTggNS41MzEtMS4wMTcgMS42NTMtLjcgMy4wNTItMS41OSA0LjE5Ni0yLjc5N3ExLjcxNi0xLjgxMiAyLjY3LTQuMzg3Yy42MzYtMS43MTYuOTU0LTMuNjIzLjk1NC01LjY1OHYtLjgyNmMtLjE5MS0uMTI3LS4yNTUtLjQ0NS0uMjU1LS43TTk1Ljk4MiAyMC4zNTNoLTEyLjI3djQuMjU5aDYuOTkzYy0uMTkgMi4xNjEtMS4wMTcgMy44MTQtMi40MTYgNS4xNS0xLjM5OCAxLjI3LTMuMTc4IDEuOTA2LTUuNDY3IDEuOTA2LTEuMjcxIDAtMi40OC0uMjU0LTMuNDk2LS42OTlhNyA3IDAgMCAxLTIuNzM0LTEuOTdjLS43NjMtLjgyNy0xLjMzNS0xLjg0NC0xLjc4LTMuMDUycy0uNjM2LTIuNDgtLjYzNi0zLjk0Mi4xOS0yLjczMy42MzYtMy45NDFjLjM4MS0xLjIwOCAxLjAxNy0yLjE2MiAxLjc4LTMuMDUyLjc2My0uODI2IDEuNjUzLTEuNDYyIDIuNzM0LTEuOTdhOS4xIDkuMSAwIDAgMSAzLjU2LS43cTQuMDA1IDAgNi4xMDMgMS45MDdsMy4zMDUtMy4zMDVjLTIuNDc5LTEuOTA3LTUuNjU4LTIuOTI1LTkuNDA4LTIuOTI1LTIuMDk4IDAtNC4wMDUuMzE4LTUuNzIyIDEuMDE4LTEuNzE2LjY5OS0zLjE3OCAxLjU4OS00LjM4NiAyLjc5N2ExMi4xIDEyLjEgMCAwIDAtMi43OTcgNC4zODZjLS42MzYgMS43MTctLjk1NCAzLjYyNC0uOTU0IDUuNjU4cy4zMTggMy45NDIgMS4wMTcgNS42NThjLjcgMS43MTcgMS41OSAzLjE3OSAyLjc5NyA0LjM4N2ExMi4xIDEyLjEgMCAwIDAgNC4zODcgMi43OTdjMS43MTYuNyAzLjYyMyAxLjAxNyA1LjY1OCAxLjAxNyAyLjAzNCAwIDMuODc4LS4zMTggNS41My0xLjAxNyAxLjY1My0uNyAzLjA1Mi0xLjU5IDQuMTk2LTIuNzk3cTEuNzE4LTEuODEyIDIuNjctNC4zODdjLjYzNi0xLjcxNi45NTQtMy42MjMuOTU0LTUuNjU4di0uODI2Yy0uMTktLjEyNy0uMjU1LS40NDUtLjI1NS0uNyIvPjwvc3ZnPg==\\\");background-repeat:no-repeat;background-size:170px 40px;content:\\\"\\\";display:block;height:40px;width:170px}}:where(.ag-ltr) .ag-watermark{right:25px}:where(.ag-rtl) .ag-watermark{left:25px}.ag-watermark-text{font-family:Impact,sans-serif;font-size:19px;font-weight:700;opacity:.5}:where(.ag-ltr) .ag-watermark-text{padding-left:.7rem}:where(.ag-rtl) .ag-watermark-text{padding-right:.7rem}\";// packages/ag-grid-enterprise/src/license/watermark.ts\nvar WatermarkElement={tag:\"div\",cls:\"ag-watermark\",children:[{tag:\"div\",ref:\"eLicenseTextRef\",cls:\"ag-watermark-text\"}]};var AgWatermark=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(){super(WatermarkElement);this.eLicenseTextRef=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.registerCSS(watermarkCSS);}wireBeans(beans){this.licenseManager=beans.licenseManager;}postConstruct(){var show=this.shouldDisplayWatermark();this.setDisplayed(show);if(show){this.eLicenseTextRef.textContent=this.licenseManager.getWatermarkMessage();window.setTimeout(()=>this.addCss(\"ag-opacity-zero\"),0);window.setTimeout(()=>this.setDisplayed(false),5e3);}}shouldDisplayWatermark(){return this.licenseManager.isDisplayWatermark();}};var AgWatermarkSelector={selector:\"AG-WATERMARK\",component:AgWatermark};// packages/ag-grid-enterprise/src/license/gridLicenseManager.ts\nvar GridLicenseManager=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BeanStub{constructor(){super(...arguments);this.beanName=\"licenseManager\";}postConstruct(){this.validateLicense();}validateLicense(){this.licenseManager=new LicenseManager((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getDocument)(this.beans));this.licenseManager.validateLicense();}static getLicenseDetails(licenseKey){return new LicenseManager(null).getLicenseDetails(licenseKey);}getWatermarkSelector(){return AgWatermarkSelector;}isDisplayWatermark(){return this.licenseManager.isDisplayWatermark();}getWatermarkMessage(){return this.licenseManager.getWatermarkMessage();}static setLicenseKey(licenseKey){LicenseManager.setLicenseKey(licenseKey);}static setChartsLicenseManager(chartsLicenseManager){LicenseManager.setChartsLicenseManager(chartsLicenseManager);}};// packages/ag-grid-enterprise/src/excelExport/excelCreator.ts\n// packages/ag-grid-enterprise/src/excelExport/excelSerializingSession.ts\n// packages/ag-grid-enterprise/src/excelExport/assets/excelUtils.ts\n// packages/ag-grid-enterprise/src/excelExport/assets/excelConstants.ts\nvar INCH_TO_EMU=9525;var numberFormatMap={\"0\":1,\"0.00\":2,\"#,##0\":3,\"#,##0.00\":4,\"0%\":9,\"0.00%\":10,\"0.00E+00\":11,\"# ?/?\":12,\"# ??/??\":13,\"mm-dd-yy\":14,\"d-mmm-yy\":15,\"d-mmm\":16,\"mmm-yy\":17,\"h:mm AM/PM\":18,\"h:mm:ss AM/PM\":19,\"h:mm\":20,\"h:mm:ss\":21,\"m/d/yy h:mm\":22,\"#,##0 ;(#,##0)\":37,\"#,##0 ;[Red](#,##0)\":38,\"#,##0.00;(#,##0.00)\":39,\"#,##0.00;[Red](#,##0.00)\":40,\"mm:ss\":45,\"[h]:mm:ss\":46,\"mmss.0\":47,\"##0.0E+0\":48,\"@\":49};// packages/ag-grid-enterprise/src/excelExport/assets/xmlFactory.ts\nvar LINE_SEPARATOR=\"\\r\\n\";function returnAttributeIfPopulated(key,value,booleanTransformer){if(!value&&value!==\"\"&&value!==0){return\"\";}var xmlValue=value;if(typeof value===\"boolean\"){if(booleanTransformer){xmlValue=booleanTransformer(value);}}return\" \".concat(key,\"=\\\"\").concat(xmlValue,\"\\\"\");}function createXmlHeader(){var headerElement=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var headerStart=\"<?\";var headerEnd=\"?>\";var keys=[\"version\"];if(!headerElement.version){headerElement.version=\"1.0\";}if(headerElement.encoding){keys.push(\"encoding\");}if(headerElement.standalone){keys.push(\"standalone\");}var att=keys.map(key=>\"\".concat(key,\"=\\\"\").concat(headerElement[key],\"\\\"\")).join(\" \");return\"\".concat(headerStart,\"xml \").concat(att,\" \").concat(headerEnd);}function createXml(xmlElement,booleanTransformer){var props=\"\";if(xmlElement.properties){if(xmlElement.properties.prefixedAttributes){xmlElement.properties.prefixedAttributes.forEach(prefixedSet=>{Object.keys(prefixedSet.map).forEach(key=>{props+=returnAttributeIfPopulated(prefixedSet.prefix+key,prefixedSet.map[key],booleanTransformer);});});}if(xmlElement.properties.rawMap){Object.keys(xmlElement.properties.rawMap).forEach(key=>{props+=returnAttributeIfPopulated(key,xmlElement.properties.rawMap[key],booleanTransformer);});}}var result=\"<\"+xmlElement.name+props;if(!xmlElement.children&&xmlElement.textNode==null){return result+\"/>\"+LINE_SEPARATOR;}if(xmlElement.textNode!=null){return result+\">\"+xmlElement.textNode+\"</\"+xmlElement.name+\">\"+LINE_SEPARATOR;}result+=\">\"+LINE_SEPARATOR;if(xmlElement.children){xmlElement.children.forEach(it=>{result+=createXml(it,booleanTransformer);});}return result+\"</\"+xmlElement.name+\">\"+LINE_SEPARATOR;}// packages/ag-grid-enterprise/src/excelExport/assets/excelUtils.ts\nvar pointsToPixel=points=>{return Math.round(points*96/72);};var pixelsToEMU=value=>{return Math.ceil(value*INCH_TO_EMU);};var getFontFamilyId=name=>{if(name===void 0){return;}var families=[\"Automatic\",\"Roman\",\"Swiss\",\"Modern\",\"Script\",\"Decorative\"];var pos=families.indexOf(name||\"Automatic\");return Math.max(pos,0);};var getHeightFromProperty=(rowIndex,height)=>{if(!height){return;}var finalHeight;if(typeof height===\"number\"){finalHeight=height;}else{var heightFunc=height;finalHeight=heightFunc({rowIndex});}return finalHeight;};var setExcelImageTotalWidth=(image,columnsToExport)=>{var{colSpan,column}=image.position;if(!image.width){return;}if(colSpan){var columnsInSpan=columnsToExport.slice(column-1,column+colSpan-1);var totalWidth=0;for(var i=0;i<columnsInSpan.length;i++){var colWidth=columnsInSpan[i].getActualWidth();if(image.width<totalWidth+colWidth){image.position.colSpan=i+1;image.totalWidth=image.width;image.width=image.totalWidth-totalWidth;break;}totalWidth+=colWidth;}}else{image.totalWidth=image.width;}};var setExcelImageTotalHeight=(image,rowHeight)=>{var{rowSpan,row}=image.position;if(!image.height){return;}if(rowSpan){var totalHeight=0;var counter=0;for(var i=row;i<row+rowSpan;i++){var nextRowHeight=pointsToPixel(getHeightFromProperty(i,rowHeight)||20);if(image.height<totalHeight+nextRowHeight){image.position.rowSpan=counter+1;image.totalHeight=image.height;image.height=image.totalHeight-totalHeight;break;}totalHeight+=nextRowHeight;counter++;}}else{image.totalHeight=image.height;}};var createXmlPart=(body,skipHeader)=>{var header=createXmlHeader({encoding:\"UTF-8\",standalone:\"yes\"});var xmlBody=createXml(body);if(skipHeader){return xmlBody;}return\"\".concat(header).concat(xmlBody);};var getExcelColumnName=colIdx=>{var startCode=65;var tableWidth=26;var fromCharCode=String.fromCharCode;var pos=Math.floor(colIdx/tableWidth);var tableIdx=colIdx%tableWidth;if(!pos||colIdx===tableWidth){return fromCharCode(startCode+colIdx-1);}if(!tableIdx){return getExcelColumnName(pos-1)+\"Z\";}if(pos<tableWidth){return fromCharCode(startCode+pos-1)+fromCharCode(startCode+tableIdx-1);}return getExcelColumnName(pos)+fromCharCode(startCode+tableIdx-1);};var sanitizeTableName=name=>{return name.replaceAll(\"\\n\",\"_x000a_\");};var replaceInvisibleCharacters=str=>{if(str==null){return null;}var newString=\"\";for(var i=0;i<str.length;i++){var point=str.charCodeAt(i);if(point>=0&&point<=31&&point!==10){var convertedCode=point.toString(16).toUpperCase();var paddedCode=convertedCode.padStart(4,\"0\");var newValue=\"_x\".concat(paddedCode,\"_\");newString+=newValue;}else{newString+=str[i];}}return newString;};var buildSharedString=strMap=>{var ret=[];for(var key of strMap.keys()){var textNode=key.toString();var child={name:\"t\",textNode:(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._escapeString)(replaceInvisibleCharacters(textNode))};var preserveSpaces=textNode.trim().length!==textNode.length;if(preserveSpaces){child.properties={rawMap:{\"xml:space\":\"preserve\"}};}ret.push({name:\"si\",children:[child]});}return ret;};// packages/ag-grid-enterprise/src/excelExport/excelXlsxFactory.ts\n// packages/ag-grid-enterprise/src/excelExport/files/ooxml/contentType.ts\nvar contentTypeFactory={getTemplate(config){var{name,ContentType,Extension,PartName}=config;return{name,properties:{rawMap:{Extension,PartName,ContentType}}};}};var contentType_default=contentTypeFactory;// packages/ag-grid-enterprise/src/excelExport/files/ooxml/contentTypes.ts\nvar _normaliseImageExtension=ext=>ext===\"jpg\"?\"jpeg\":ext;var contentTypesFactory={getTemplate(sheetLen){var worksheets=new Array(sheetLen).fill(void 0).map((v,i)=>({name:\"Override\",ContentType:\"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml\",PartName:\"/xl/worksheets/sheet\".concat(i+1,\".xml\")}));var sheetsWithImages=XLSX_WORKSHEET_IMAGES.size;var headerFooterImages=XLSX_WORKSHEET_HEADER_FOOTER_IMAGES.size;var imageTypesObject={};XLSX_WORKBOOK_IMAGE_IDS.forEach(v=>{imageTypesObject[_normaliseImageExtension(v.type)]=true;});var imageDocs=new Array(sheetsWithImages).fill(void 0).map((v,i)=>({name:\"Override\",ContentType:\"application/vnd.openxmlformats-officedocument.drawing+xml\",PartName:\"/xl/drawings/drawing\".concat(i+1,\".xml\")}));var tableDocs=[];XLSX_WORKSHEET_DATA_TABLES.forEach(_ref=>{var{name}=_ref;tableDocs.push({name:\"Override\",ContentType:\"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml\",PartName:\"/xl/tables/\".concat(name,\".xml\")});});var imageTypes=Object.keys(imageTypesObject).map(ext=>({name:\"Default\",ContentType:\"image/\".concat(ext),Extension:ext}));if(headerFooterImages){imageTypes.push({name:\"Default\",Extension:\"vml\",ContentType:\"application/vnd.openxmlformats-officedocument.vmlDrawing\"});}var children=[...imageTypes,{name:\"Default\",Extension:\"rels\",ContentType:\"application/vnd.openxmlformats-package.relationships+xml\"},{name:\"Default\",ContentType:\"application/xml\",Extension:\"xml\"},{name:\"Override\",ContentType:\"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml\",PartName:\"/xl/workbook.xml\"},...worksheets,{name:\"Override\",ContentType:\"application/vnd.openxmlformats-officedocument.theme+xml\",PartName:\"/xl/theme/theme1.xml\"},{name:\"Override\",ContentType:\"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml\",PartName:\"/xl/styles.xml\"},{name:\"Override\",ContentType:\"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml\",PartName:\"/xl/sharedStrings.xml\"},...imageDocs,...tableDocs,{name:\"Override\",ContentType:\"application/vnd.openxmlformats-package.core-properties+xml\",PartName:\"/docProps/core.xml\"}].map(contentType=>contentType_default.getTemplate(contentType));return{name:\"Types\",properties:{rawMap:{xmlns:\"http://schemas.openxmlformats.org/package/2006/content-types\"}},children};}};var contentTypes_default=contentTypesFactory;// packages/ag-grid-enterprise/src/excelExport/files/ooxml/core.ts\nvar coreFactory={getTemplate(author){var dt=/* @__PURE__ */new Date();var jsonDate=dt.toJSON();return{name:\"cp:coreProperties\",properties:{prefixedAttributes:[{prefix:\"xmlns:\",map:{cp:\"http://schemas.openxmlformats.org/package/2006/metadata/core-properties\",dc:\"http://purl.org/dc/elements/1.1/\",dcterms:\"http://purl.org/dc/terms/\",dcmitype:\"http://purl.org/dc/dcmitype/\",xsi:\"http://www.w3.org/2001/XMLSchema-instance\"}}]},children:[{name:\"dc:creator\",textNode:author},{name:\"dc:title\",textNode:\"Workbook\"},{name:\"dcterms:created\",properties:{rawMap:{\"xsi:type\":\"dcterms:W3CDTF\"}},textNode:jsonDate},{name:\"dcterms:modified\",properties:{rawMap:{\"xsi:type\":\"dcterms:W3CDTF\"}},textNode:jsonDate}]};}};var core_default=coreFactory;// packages/ag-grid-enterprise/src/excelExport/files/ooxml/drawing.ts\nvar getAnchor=(name,imageAnchor)=>({name:\"xdr:\".concat(name),children:[{name:\"xdr:col\",textNode:imageAnchor.col.toString()},{name:\"xdr:colOff\",textNode:imageAnchor.offsetX.toString()},{name:\"xdr:row\",textNode:imageAnchor.row.toString()},{name:\"xdr:rowOff\",textNode:imageAnchor.offsetY.toString()}]});var getExt=image=>{var children=[{name:\"a:ext\",properties:{rawMap:{uri:\"{FF2B5EF4-FFF2-40B4-BE49-F238E27FC236}\"}},children:[{name:\"a16:creationId\",properties:{rawMap:{id:\"{822E6D20-D7BC-2841-A643-D49A6EF008A2}\",\"xmlns:a16\":\"http://schemas.microsoft.com/office/drawing/2014/main\"}}}]}];var recolor=image.recolor&&image.recolor.toLowerCase();switch(recolor){case\"grayscale\":case\"sepia\":case\"washout\":children.push({name:\"a:ext\",properties:{rawMap:{uri:\"{C183D7F6-B498-43B3-948B-1728B52AA6E4}\"}},children:[{name:\"adec:decorative\",properties:{rawMap:{val:\"0\",\"xmlns:adec\":\"http://schemas.microsoft.com/office/drawing/2017/decorative\"}}}]});}return{name:\"a:extLst\",children};};var getNvPicPr=(image,index)=>({name:\"xdr:nvPicPr\",children:[{name:\"xdr:cNvPr\",properties:{rawMap:{id:index,name:image.id,descr:image.altText!=null?image.altText:void 0}},children:[getExt(image)]},{name:\"xdr:cNvPicPr\",properties:{rawMap:{preferRelativeResize:\"0\"}},children:[{name:\"a:picLocks\"}]}]});var getColorDetails=color=>{if(!color.saturation&&!color.tint){return;}var ret=[];if(color.saturation){ret.push({name:\"a:satMod\",properties:{rawMap:{val:color.saturation*1e3}}});}if(color.tint){ret.push({name:\"a:tint\",properties:{rawMap:{val:color.tint*1e3}}});}return ret;};var getDuoTone=(primaryColor,secondaryColor)=>{return{name:\"a:duotone\",children:[{name:\"a:prstClr\",properties:{rawMap:{val:primaryColor.color}},children:getColorDetails(primaryColor)},{name:\"a:srgbClr\",properties:{rawMap:{val:secondaryColor.color}},children:getColorDetails(secondaryColor)}]};};var getBlipFill=(image,index)=>{var blipChildren;if(image.transparency){var transparency=Math.min(Math.max(image.transparency,0),100);blipChildren=[{name:\"a:alphaModFix\",properties:{rawMap:{amt:1e5-Math.round(transparency*1e3)}}}];}if(image.recolor){if(!blipChildren){blipChildren=[];}switch(image.recolor.toLocaleLowerCase()){case\"grayscale\":blipChildren.push({name:\"a:grayscl\"});break;case\"sepia\":blipChildren.push(getDuoTone({color:\"black\"},{color:\"D9C3A5\",tint:50,saturation:180}));break;case\"washout\":blipChildren.push({name:\"a:lum\",properties:{rawMap:{bright:\"70000\",contrast:\"-70000\"}}});break;default:}}return{name:\"xdr:blipFill\",children:[{name:\"a:blip\",properties:{rawMap:{cstate:\"print\",\"r:embed\":\"rId\".concat(index),\"xmlns:r\":\"http://schemas.openxmlformats.org/officeDocument/2006/relationships\"}},children:blipChildren},{name:\"a:stretch\",children:[{name:\"a:fillRect\"}]}]};};var getSpPr=(image,imageBoxSize)=>{var xfrm={name:\"a:xfrm\",children:[{name:\"a:off\",properties:{rawMap:{x:0,y:0}}},{name:\"a:ext\",properties:{rawMap:{cx:imageBoxSize.width,cy:imageBoxSize.height}}}]};if(image.rotation){var rotation=image.rotation;xfrm.properties={rawMap:{rot:Math.min(Math.max(rotation,0),360)*6e4}};}var prstGeom={name:\"a:prstGeom\",properties:{rawMap:{prst:\"rect\"}},children:[{name:\"a:avLst\"}]};var ret={name:\"xdr:spPr\",children:[xfrm,prstGeom]};return ret;};var getImageBoxSize=image=>{image.fitCell=!!image.fitCell||!image.width||!image.height;var{position={},fitCell,width=0,height=0,totalHeight,totalWidth}=image;var{offsetX=0,offsetY=0,row=1,rowSpan=1,column=1,colSpan=1}=position;return{from:{row:row-1,col:column-1,offsetX:pixelsToEMU(offsetX),offsetY:pixelsToEMU(offsetY)},to:{row:row-1+(fitCell?1:rowSpan-1),col:column-1+(fitCell?1:colSpan-1),offsetX:pixelsToEMU(width+offsetX),offsetY:pixelsToEMU(height+offsetY)},height:pixelsToEMU(totalHeight||height),width:pixelsToEMU(totalWidth||width)};};var getPicture=(image,currentIndex,worksheetImageIndex,imageBoxSize)=>{return{name:\"xdr:pic\",children:[getNvPicPr(image,currentIndex+1),getBlipFill(image,worksheetImageIndex+1),getSpPr(image,imageBoxSize)]};};var drawingFactory={getTemplate(config){var{sheetIndex}=config;var sheetImages=XLSX_WORKSHEET_IMAGES.get(sheetIndex);var sheetImageIds=XLSX_WORKSHEET_IMAGE_IDS.get(sheetIndex);var children=sheetImages.map((image,idx)=>{var boxSize=getImageBoxSize(image);return{name:\"xdr:twoCellAnchor\",properties:{rawMap:{editAs:\"absolute\"}},children:[getAnchor(\"from\",boxSize.from),getAnchor(\"to\",boxSize.to),getPicture(image,idx,sheetImageIds.get(image.id).index,boxSize),{name:\"xdr:clientData\"}]};});return{name:\"xdr:wsDr\",properties:{rawMap:{\"xmlns:a\":\"http://schemas.openxmlformats.org/drawingml/2006/main\",\"xmlns:xdr\":\"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing\"}},children};}};var drawing_default=drawingFactory;// packages/ag-grid-enterprise/src/excelExport/files/ooxml/relationship.ts\nvar relationshipFactory={getTemplate(config){var{Id,Type,Target}=config;return{name:\"Relationship\",properties:{rawMap:{Id,Type,Target}}};}};var relationship_default=relationshipFactory;// packages/ag-grid-enterprise/src/excelExport/files/ooxml/relationships.ts\nvar relationshipsFactory={getTemplate(c){var children=c.map(relationship=>relationship_default.getTemplate(relationship));return{name:\"Relationships\",properties:{rawMap:{xmlns:\"http://schemas.openxmlformats.org/package/2006/relationships\"}},children};}};var relationships_default=relationshipsFactory;// packages/ag-grid-enterprise/src/excelExport/files/ooxml/sharedStrings.ts\nvar sharedStrings={getTemplate(strings){return{name:\"sst\",properties:{rawMap:{xmlns:\"http://schemas.openxmlformats.org/spreadsheetml/2006/main\",count:strings.size,uniqueCount:strings.size}},children:buildSharedString(strings)};}};var sharedStrings_default=sharedStrings;// packages/ag-grid-enterprise/src/excelExport/assets/excelLegacyConvert.ts\nvar getWeightName=value=>{switch(value){case 1:return\"thin\";case 2:return\"medium\";case 3:return\"thick\";default:return\"hair\";}};var mappedBorderNames={None:\"None\",Dot:\"Dotted\",Dash:\"Dashed\",Double:\"Double\",DashDot:\"DashDot\",DashDotDot:\"DashDotDot\",SlantDashDot:\"SlantDashDot\",Continuous:\"Continuous\"};var mediumBorders=[\"Dashed\",\"DashDot\",\"DashDotDot\"];var colorMap={None:\"none\",Solid:\"solid\",Gray50:\"mediumGray\",Gray75:\"darkGray\",Gray25:\"lightGray\",HorzStripe:\"darkHorizontal\",VertStripe:\"darkVertical\",ReverseDiagStripe:\"darkDown\",DiagStripe:\"darkUp\",DiagCross:\"darkGrid\",ThickDiagCross:\"darkTrellis\",ThinHorzStripe:\"lightHorizontal\",ThinVertStripe:\"lightVertical\",ThinReverseDiagStripe:\"lightDown\",ThinDiagStripe:\"lightUp\",ThinHorzCross:\"lightGrid\",ThinDiagCross:\"lightTrellis\",Gray125:\"gray125\",Gray0625:\"gray0625\"};var horizontalAlignmentMap={Automatic:\"general\",Left:\"left\",Center:\"center\",Right:\"right\",Fill:\"fill\",Justify:\"justify\",CenterAcrossSelection:\"centerContinuous\",Distributed:\"distributed\",JustifyDistributed:\"justify\"};var verticalAlignmentMap={Automatic:void 0,Top:\"top\",Bottom:\"bottom\",Center:\"center\",Justify:\"justify\",Distributed:\"distributed\",JustifyDistributed:\"justify\"};var convertLegacyPattern=name=>{if(!name){return\"none\";}return colorMap[name]||name;};var convertLegacyColor=color=>{if(color==void 0){return color;}if(color.charAt(0)===\"#\"){color=color.substring(1);}return color.length===6?\"FF\"+color:color;};var convertLegacyBorder=(type,weight)=>{if(!type){return\"thin\";}var namedWeight=getWeightName(weight);if(type===\"Continuous\"){return namedWeight;}var mappedName=mappedBorderNames[type];if(namedWeight===\"medium\"&&mediumBorders.some(type2=>type2===mappedName)){return\"medium\".concat(mappedName);}return\"\".concat(mappedName.charAt(0).toLowerCase()).concat(mappedName.substring(1));};var convertLegacyHorizontalAlignment=alignment=>{return horizontalAlignmentMap[alignment]||\"general\";};var convertLegacyVerticalAlignment=alignment=>{return verticalAlignmentMap[alignment]||void 0;};// packages/ag-grid-enterprise/src/excelExport/files/ooxml/styles/border.ts\nvar getBorderColor=color=>{return{name:\"color\",properties:{rawMap:{rgb:convertLegacyColor(color||\"#000000\")}}};};var borderFactory={getTemplate(border){var{left,right,top,bottom,diagonal}=border;var leftChildren=left?[getBorderColor(left.color)]:void 0;var rightChildren=right?[getBorderColor(right.color)]:void 0;var topChildren=top?[getBorderColor(top.color)]:void 0;var bottomChildren=bottom?[getBorderColor(bottom.color)]:void 0;var diagonalChildren=diagonal?[getBorderColor(diagonal.color)]:void 0;return{name:\"border\",children:[{name:\"left\",properties:{rawMap:{style:left&&left.style}},children:leftChildren},{name:\"right\",properties:{rawMap:{style:right&&right.style}},children:rightChildren},{name:\"top\",properties:{rawMap:{style:top&&top.style}},children:topChildren},{name:\"bottom\",properties:{rawMap:{style:bottom&&bottom.style}},children:bottomChildren},{name:\"diagonal\",properties:{rawMap:{style:diagonal&&diagonal.style}},children:diagonalChildren}]};}};var border_default=borderFactory;// packages/ag-grid-enterprise/src/excelExport/files/ooxml/styles/borders.ts\nvar bordersFactory={getTemplate(borders){return{name:\"borders\",properties:{rawMap:{count:borders.length}},children:borders.map(border=>border_default.getTemplate(border))};}};var borders_default=bordersFactory;// packages/ag-grid-enterprise/src/excelExport/files/ooxml/styles/alignment.ts\nvar getReadingOrderId=readingOrder=>{var order=[\"Context\",\"LeftToRight\",\"RightToLeft\"];var pos=order.indexOf(readingOrder);return Math.max(pos,0);};var alignmentFactory={getTemplate(alignment){var{horizontal,indent,readingOrder,rotate,shrinkToFit,vertical,wrapText}=alignment;return{name:\"alignment\",properties:{rawMap:{horizontal:horizontal&&convertLegacyHorizontalAlignment(horizontal),indent,readingOrder:readingOrder&&getReadingOrderId(readingOrder),textRotation:rotate,shrinkToFit,vertical:vertical&&convertLegacyVerticalAlignment(vertical),wrapText}}};}};var alignment_default=alignmentFactory;// packages/ag-grid-enterprise/src/excelExport/files/ooxml/styles/protection.ts\nvar protectionFactory={getTemplate(protection){var locked=protection.protected===false?0:1;var hidden=protection.hideFormula===true?1:0;return{name:\"protection\",properties:{rawMap:{hidden,locked}}};}};var protection_default=protectionFactory;// packages/ag-grid-enterprise/src/excelExport/files/ooxml/styles/xf.ts\nvar xfFactory={getTemplate(xf){var{alignment,borderId,fillId,fontId,numFmtId,protection,quotePrefix,xfId}=xf;var children=[];if(alignment){children.push(alignment_default.getTemplate(alignment));}if(protection){children.push(protection_default.getTemplate(protection));}return{name:\"xf\",properties:{rawMap:{applyAlignment:alignment?1:void 0,applyProtection:protection?1:void 0,applyBorder:borderId?1:void 0,applyFill:fillId?1:void 0,borderId,fillId,applyFont:fontId?1:void 0,fontId,applyNumberFormat:numFmtId?1:void 0,numFmtId,quotePrefix:quotePrefix?1:void 0,xfId}},children:children.length?children:void 0};}};var xf_default=xfFactory;// packages/ag-grid-enterprise/src/excelExport/files/ooxml/styles/cellStyleXfs.ts\nvar cellStylesXfsFactory={getTemplate(xfs){return{name:\"cellStyleXfs\",properties:{rawMap:{count:xfs.length}},children:xfs.map(xf=>xf_default.getTemplate(xf))};}};var cellStyleXfs_default=cellStylesXfsFactory;// packages/ag-grid-enterprise/src/excelExport/files/ooxml/styles/cellStyle.ts\nvar borderFactory2={getTemplate(cellStyle){var{builtinId,name,xfId}=cellStyle;return{name:\"cellStyle\",properties:{rawMap:{builtinId,name,xfId}}};}};var cellStyle_default=borderFactory2;// packages/ag-grid-enterprise/src/excelExport/files/ooxml/styles/cellStyles.ts\nvar cellStylesFactory={getTemplate(cellStyles){return{name:\"cellStyles\",properties:{rawMap:{count:cellStyles.length}},children:cellStyles.map(cellStyle=>cellStyle_default.getTemplate(cellStyle))};}};var cellStyles_default=cellStylesFactory;// packages/ag-grid-enterprise/src/excelExport/files/ooxml/styles/cellXfs.ts\nvar cellXfsFactory={getTemplate(xfs){return{name:\"cellXfs\",properties:{rawMap:{count:xfs.length}},children:xfs.map(xf=>xf_default.getTemplate(xf))};}};var cellXfs_default=cellXfsFactory;// packages/ag-grid-enterprise/src/excelExport/files/ooxml/styles/fill.ts\nvar fillFactory={getTemplate(fill){var{patternType,fgTheme,fgTint,fgRgb,bgRgb,bgIndexed}=fill;var pf={name:\"patternFill\",properties:{rawMap:{patternType}}};if(fgTheme||fgTint||fgRgb){pf.children=[{name:\"fgColor\",properties:{rawMap:{theme:fgTheme,tint:fgTint,rgb:fgRgb}}}];}if(bgIndexed||bgRgb){if(!pf.children){pf.children=[];}pf.children.push({name:\"bgColor\",properties:{rawMap:{indexed:bgIndexed,rgb:bgRgb}}});}return{name:\"fill\",children:[pf]};}};var fill_default=fillFactory;// packages/ag-grid-enterprise/src/excelExport/files/ooxml/styles/fills.ts\nvar fillsFactory={getTemplate(fills){return{name:\"fills\",properties:{rawMap:{count:fills.length}},children:fills.map(fill=>fill_default.getTemplate(fill))};}};var fills_default=fillsFactory;// packages/ag-grid-enterprise/src/excelExport/files/ooxml/styles/font.ts\nvar fontFactory={getTemplate(font){var{size,colorTheme,color=\"FF000000\",fontName=\"Calibri\",family,scheme,italic,bold,strikeThrough,outline,shadow:shadow2,underline,verticalAlign}=font;var children=[{name:\"sz\",properties:{rawMap:{val:size}}},{name:\"color\",properties:{rawMap:{theme:colorTheme,rgb:color}}},{name:\"name\",properties:{rawMap:{val:fontName}}}];if(family){children.push({name:\"family\",properties:{rawMap:{val:family}}});}if(scheme){children.push({name:\"scheme\",properties:{rawMap:{val:scheme}}});}if(italic){children.push({name:\"i\"});}if(bold){children.push({name:\"b\"});}if(strikeThrough){children.push({name:\"strike\"});}if(outline){children.push({name:\"outline\"});}if(shadow2){children.push({name:\"shadow\"});}if(underline){children.push({name:\"u\",properties:{rawMap:{val:underline}}});}if(verticalAlign){children.push({name:\"vertAlign\",properties:{rawMap:{val:verticalAlign}}});}return{name:\"font\",children};}};var font_default=fontFactory;// packages/ag-grid-enterprise/src/excelExport/files/ooxml/styles/fonts.ts\nvar fontsFactory={getTemplate(fonts){return{name:\"fonts\",properties:{rawMap:{count:fonts.length}},children:fonts.map(font=>font_default.getTemplate(font))};}};var fonts_default=fontsFactory;// packages/ag-grid-enterprise/src/excelExport/files/ooxml/styles/numberFormat.ts\nfunction prepareString(str){var split=str.split(/(\\[[^\\]]*\\])/);for(var i=0;i<split.length;i++){var currentString=split[i];if(!currentString.length){continue;}if(!currentString.startsWith(\"[\")){currentString=currentString.replace(/\\$/g,'\"$\"');}split[i]=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._escapeString)(currentString);}return split.join(\"\");}var numberFormatFactory={getTemplate(numberFormat){var{formatCode,numFmtId}=numberFormat;if(formatCode.length){formatCode=prepareString(formatCode);}return{name:\"numFmt\",properties:{rawMap:{formatCode,numFmtId}}};}};var numberFormat_default=numberFormatFactory;// packages/ag-grid-enterprise/src/excelExport/files/ooxml/styles/numberFormats.ts\nvar numberFormatsFactory={getTemplate(numberFormats){return{name:\"numFmts\",properties:{rawMap:{count:numberFormats.length}},children:numberFormats.map(numberFormat=>numberFormat_default.getTemplate(numberFormat))};}};var numberFormats_default=numberFormatsFactory;// packages/ag-grid-enterprise/src/excelExport/files/ooxml/styles/stylesheet.ts\nvar stylesMap;var registeredNumberFmts;var registeredFonts;var registeredFills;var registeredBorders;var registeredCellStyleXfs;var registeredCellXfs;var registeredCellStyles;var currentSheet;var getStyleName=(name,currentSheet2)=>{if(name.indexOf(\"mixedStyle\")!==-1&&currentSheet2>1){name+=\"_\".concat(currentSheet2);}return name;};var resetStylesheetValues=()=>{stylesMap={base:0};registeredNumberFmts=[];registeredFonts=[{fontName:\"Calibri\",colorTheme:\"1\",family:\"2\",scheme:\"minor\"}];registeredFills=[{patternType:\"none\"},{patternType:\"gray125\"}];registeredBorders=[{left:void 0,right:void 0,top:void 0,bottom:void 0,diagonal:void 0}];registeredCellStyleXfs=[{borderId:0,fillId:0,fontId:0,numFmtId:0}];registeredCellXfs=[{borderId:0,fillId:0,fontId:0,numFmtId:0,xfId:0}];registeredCellStyles=[{builtinId:0,name:\"Normal\",xfId:0}];};var registerFill=fill=>{var convertedPattern=convertLegacyPattern(fill.pattern);var convertedFillColor=convertLegacyColor(fill.color);var convertedPatternColor=convertLegacyColor(fill.patternColor);var pos=registeredFills.findIndex(currentFill=>{var{patternType,fgRgb,bgRgb}=currentFill;if(patternType!=convertedPattern||fgRgb!=convertedFillColor||bgRgb!=convertedPatternColor){return false;}return true;});if(pos===-1){pos=registeredFills.length;registeredFills.push({patternType:convertedPattern,fgRgb:convertedFillColor,bgRgb:convertedPatternColor});}return pos;};var registerNumberFmt=format=>{if(numberFormatMap[format]){return numberFormatMap[format];}var pos=registeredNumberFmts.findIndex(currentFormat=>currentFormat.formatCode===format);if(pos===-1){pos=registeredNumberFmts.length+164;registeredNumberFmts.push({formatCode:format,numFmtId:pos});}else{pos=registeredNumberFmts[pos].numFmtId;}return pos;};var registerBorders=borders=>{var{borderBottom,borderTop,borderLeft,borderRight}=borders;var bottomStyle;var topStyle;var leftStyle;var rightStyle;var bottomColor;var topColor;var leftColor;var rightColor;if(borderLeft){leftStyle=convertLegacyBorder(borderLeft.lineStyle,borderLeft.weight);leftColor=convertLegacyColor(borderLeft.color);}if(borderRight){rightStyle=convertLegacyBorder(borderRight.lineStyle,borderRight.weight);rightColor=convertLegacyColor(borderRight.color);}if(borderBottom){bottomStyle=convertLegacyBorder(borderBottom.lineStyle,borderBottom.weight);bottomColor=convertLegacyColor(borderBottom.color);}if(borderTop){topStyle=convertLegacyBorder(borderTop.lineStyle,borderTop.weight);topColor=convertLegacyColor(borderTop.color);}var pos=registeredBorders.findIndex(currentBorder=>{var{left,right,top,bottom}=currentBorder;if(!left&&(leftStyle||leftColor)){return false;}if(!right&&(rightStyle||rightColor)){return false;}if(!top&&(topStyle||topColor)){return false;}if(!bottom&&(bottomStyle||bottomColor)){return false;}var{style:clS,color:clC}=left||{};var{style:crS,color:crC}=right||{};var{style:ctS,color:ctC}=top||{};var{style:cbS,color:cbC}=bottom||{};if(clS!=leftStyle||clC!=leftColor){return false;}if(crS!=rightStyle||crC!=rightColor){return false;}if(ctS!=topStyle||ctC!=topColor){return false;}if(cbS!=bottomStyle||cbC!=bottomColor){return false;}return true;});if(pos===-1){pos=registeredBorders.length;registeredBorders.push({left:{style:leftStyle,color:leftColor},right:{style:rightStyle,color:rightColor},top:{style:topStyle,color:topColor},bottom:{style:bottomStyle,color:bottomColor},diagonal:{style:void 0,color:void 0}});}return pos;};var registerFont=font=>{var{fontName:name=\"Calibri\",color,size,bold,italic,outline,shadow:shadow2,strikeThrough,underline,family,verticalAlign}=font;var convertedColor=convertLegacyColor(color);var familyId=getFontFamilyId(family);var convertedUnderline=underline?underline.toLocaleLowerCase():void 0;var convertedVerticalAlign=verticalAlign?verticalAlign.toLocaleLowerCase():void 0;var pos=registeredFonts.findIndex(currentFont=>{if(currentFont.fontName!=name||currentFont.color!=convertedColor||currentFont.size!=size||currentFont.bold!=bold||currentFont.italic!=italic||currentFont.outline!=outline||currentFont.shadow!=shadow2||currentFont.strikeThrough!=strikeThrough||currentFont.underline!=convertedUnderline||currentFont.verticalAlign!=convertedVerticalAlign||currentFont.family!=familyId){return false;}return true;});if(pos===-1){pos=registeredFonts.length;registeredFonts.push({fontName:name,color:convertedColor,size,bold,italic,outline,shadow:shadow2,strikeThrough,underline:convertedUnderline,verticalAlign:convertedVerticalAlign,family:familyId!=null?familyId.toString():void 0});}return pos;};var registerStyle=config=>{var{alignment,borders,font,interior,numberFormat,protection,quotePrefix}=config;var{id}=config;var currentFill=0;var currentBorder=0;var currentFont=0;var currentNumberFmt=0;if(!id){return;}id=getStyleName(id,currentSheet);if(stylesMap[id]!=void 0){return;}if(interior){currentFill=registerFill(interior);}if(borders){currentBorder=registerBorders(borders);}if(font){currentFont=registerFont(font);}if(numberFormat){currentNumberFmt=registerNumberFmt(numberFormat.format);}stylesMap[id]=registeredCellXfs.length;registeredCellXfs.push({alignment,borderId:currentBorder||0,fillId:currentFill||0,fontId:currentFont||0,numFmtId:currentNumberFmt||0,protection,quotePrefix,xfId:0});};var stylesheetFactory={getTemplate(defaultFontSize){var numberFormats=numberFormats_default.getTemplate(registeredNumberFmts);var fonts=fonts_default.getTemplate(registeredFonts.map(font=>_objectSpread(_objectSpread({},font),{},{size:font.size!=null?font.size:defaultFontSize})));var fills=fills_default.getTemplate(registeredFills);var borders=borders_default.getTemplate(registeredBorders);var cellStylesXfs=cellStyleXfs_default.getTemplate(registeredCellStyleXfs);var cellXfs=cellXfs_default.getTemplate(registeredCellXfs);var cellStyles=cellStyles_default.getTemplate(registeredCellStyles);resetStylesheetValues();return{name:\"styleSheet\",properties:{rawMap:{\"mc:Ignorable\":\"x14ac x16r2 xr\",xmlns:\"http://schemas.openxmlformats.org/spreadsheetml/2006/main\",\"xmlns:mc\":\"http://schemas.openxmlformats.org/markup-compatibility/2006\",\"xmlns:x14ac\":\"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac\",\"xmlns:x16r2\":\"http://schemas.microsoft.com/office/spreadsheetml/2015/02/main\",\"xmlns:xr\":\"http://schemas.microsoft.com/office/spreadsheetml/2014/revision\"}},children:[numberFormats,fonts,fills,borders,cellStylesXfs,cellXfs,cellStyles,{name:\"tableStyles\",properties:{rawMap:{count:0,defaultPivotStyle:\"PivotStyleLight16\",defaultTableStyle:\"TableStyleMedium2\"}}}]};}};var getStyleId=(name,currentSheet2)=>{return stylesMap[getStyleName(name,currentSheet2)]||0;};var registerStyles=(styles,_currentSheet)=>{currentSheet=_currentSheet;if(currentSheet===1){resetStylesheetValues();}styles.forEach(registerStyle);};var stylesheet_default=stylesheetFactory;// packages/ag-grid-enterprise/src/excelExport/files/ooxml/table.ts\nvar tableFactory={getTemplate(dataTable,idx){var{name,columns,rowRange,displayName,showRowStripes,showColumnStripes,showFilterButtons,highlightFirstColumn,highlightLastColumn}=dataTable||{};var noRows=!rowRange||rowRange[0]-rowRange[1]===0;if(!dataTable||!name||!Array.isArray(columns)||!columns.length||noRows){return{name:\"table\"};}var filterColumns=columns.map((col,idx2)=>({name:\"filterColumn\",properties:{rawMap:{colId:idx2.toString(),// For filters, this should start with 0\nhiddenButton:showFilterButtons[idx2]?0:1}}}));var firstCell=\"A\".concat(rowRange[0]);var lastCell=\"\".concat(getExcelColumnName(columns.length)).concat(rowRange[1]);var ref=\"\".concat(firstCell,\":\").concat(lastCell);var id=\"\".concat(idx+1);var displayNameToUse=idx?\"\".concat(displayName,\"_\").concat(id):displayName;return{name:\"table\",properties:{rawMap:{xmlns:\"http://schemas.openxmlformats.org/spreadsheetml/2006/main\",\"xmlns:mc\":\"http://schemas.openxmlformats.org/markup-compatibility/2006\",\"mc:Ignorable\":\"xr xr3\",\"xmlns:xr\":\"http://schemas.microsoft.com/office/spreadsheetml/2014/revision\",\"xmlns:xr3\":\"http://schemas.microsoft.com/office/spreadsheetml/2016/revision3\",name,displayName:displayNameToUse,ref,totalsRowShown:0,id}},children:[{name:\"autoFilter\",properties:{rawMap:{ref}},children:filterColumns},{name:\"tableColumns\",properties:{rawMap:{count:columns.length}},children:columns.map((col,idx2)=>({name:\"tableColumn\",properties:{rawMap:{id:(idx2+1).toString(),name:sanitizeTableName(col),dataCellStyle:\"Normal\"}}}))},{name:\"tableStyleInfo\",properties:{rawMap:{name:\"TableStyleLight1\",showFirstColumn:highlightFirstColumn?1:0,showLastColumn:highlightLastColumn?1:0,showRowStripes:showRowStripes?1:0,showColumnStripes:showColumnStripes?1:0}}}]};}};var table_default=tableFactory;// packages/ag-grid-enterprise/src/excelExport/files/ooxml/themes/office/colorScheme.ts\nvar getColorChildren=props=>{var[type,innerType,val,lastClr]=props;return{name:\"a:\".concat(type),children:[{name:\"a:\".concat(innerType),properties:{rawMap:{val,lastClr}}}]};};var colorScheme={getTemplate(){return{name:\"a:clrScheme\",properties:{rawMap:{name:\"Office\"}},children:[getColorChildren([\"dk1\",\"sysClr\",\"windowText\",\"000000\"]),getColorChildren([\"lt1\",\"sysClr\",\"window\",\"FFFFFF\"]),getColorChildren([\"dk2\",\"srgbClr\",\"44546A\"]),getColorChildren([\"lt2\",\"srgbClr\",\"E7E6E6\"]),getColorChildren([\"accent1\",\"srgbClr\",\"4472C4\"]),getColorChildren([\"accent2\",\"srgbClr\",\"ED7D31\"]),getColorChildren([\"accent3\",\"srgbClr\",\"A5A5A5\"]),getColorChildren([\"accent4\",\"srgbClr\",\"FFC000\"]),getColorChildren([\"accent5\",\"srgbClr\",\"5B9BD5\"]),getColorChildren([\"accent6\",\"srgbClr\",\"70AD47\"]),getColorChildren([\"hlink\",\"srgbClr\",\"0563C1\"]),getColorChildren([\"folHlink\",\"srgbClr\",\"954F72\"])]};}};var colorScheme_default=colorScheme;// packages/ag-grid-enterprise/src/excelExport/files/ooxml/themes/office/fontScheme.ts\nvar getFont=props=>{var[type,typeface,script,panose]=props;return{name:\"a:\".concat(type),properties:{rawMap:{script,typeface,panose}}};};var fontScheme={getTemplate(){return{name:\"a:fontScheme\",properties:{rawMap:{name:\"Office\"}},children:[{name:\"a:majorFont\",children:[getFont([\"latin\",\"Calibri Light\",void 0,\"020F0302020204030204\"]),getFont([\"ea\",\"\"]),getFont([\"cs\",\"\"]),getFont([\"font\",\"\\u6E38\\u30B4\\u30B7\\u30C3\\u30AF Light\",\"Jpan\"]),getFont([\"font\",\"\\uB9D1\\uC740 \\uACE0\\uB515\",\"Hang\"]),getFont([\"font\",\"\\u7B49\\u7EBF Light\",\"Hans\"]),getFont([\"font\",\"\\u65B0\\u7D30\\u660E\\u9AD4\",\"Hant\"]),getFont([\"font\",\"Times New Roman\",\"Arab\"]),getFont([\"font\",\"Times New Roman\",\"Hebr\"]),getFont([\"font\",\"Tahoma\",\"Thai\"]),getFont([\"font\",\"Nyala\",\"Ethi\"]),getFont([\"font\",\"Vrinda\",\"Beng\"]),getFont([\"font\",\"Shruti\",\"Gujr\"]),getFont([\"font\",\"MoolBoran\",\"Khmr\"]),getFont([\"font\",\"Tunga\",\"Knda\"]),getFont([\"font\",\"Raavi\",\"Guru\"]),getFont([\"font\",\"Euphemia\",\"Cans\"]),getFont([\"font\",\"Plantagenet Cherokee\",\"Cher\"]),getFont([\"font\",\"Microsoft Yi Baiti\",\"Yiii\"]),getFont([\"font\",\"Microsoft Himalaya\",\"Tibt\"]),getFont([\"font\",\"MV Boli\",\"Thaa\"]),getFont([\"font\",\"Mangal\",\"Deva\"]),getFont([\"font\",\"Gautami\",\"Telu\"]),getFont([\"font\",\"Latha\",\"Taml\"]),getFont([\"font\",\"Estrangelo Edessa\",\"Syrc\"]),getFont([\"font\",\"Kalinga\",\"Orya\"]),getFont([\"font\",\"Kartika\",\"Mlym\"]),getFont([\"font\",\"DokChampa\",\"Laoo\"]),getFont([\"font\",\"Iskoola Pota\",\"Sinh\"]),getFont([\"font\",\"Mongolian Baiti\",\"Mong\"]),getFont([\"font\",\"Times New Roman\",\"Viet\"]),getFont([\"font\",\"Microsoft Uighur\",\"Uigh\"]),getFont([\"font\",\"Sylfaen\",\"Geor\"]),getFont([\"font\",\"Arial\",\"Armn\"]),getFont([\"font\",\"Leelawadee UI\",\"Bugi\"]),getFont([\"font\",\"Microsoft JhengHei\",\"Bopo\"]),getFont([\"font\",\"Javanese Text\",\"Java\"]),getFont([\"font\",\"Segoe UI\",\"Lisu\"]),getFont([\"font\",\"Myanmar Text\",\"Mymr\"]),getFont([\"font\",\"Ebrima\",\"Nkoo\"]),getFont([\"font\",\"Nirmala UI\",\"Olck\"]),getFont([\"font\",\"Ebrima\",\"Osma\"]),getFont([\"font\",\"Phagspa\",\"Phag\"]),getFont([\"font\",\"Estrangelo Edessa\",\"Syrn\"]),getFont([\"font\",\"Estrangelo Edessa\",\"Syrj\"]),getFont([\"font\",\"Estrangelo Edessa\",\"Syre\"]),getFont([\"font\",\"Nirmala UI\",\"Sora\"]),getFont([\"font\",\"Microsoft Tai Le\",\"Tale\"]),getFont([\"font\",\"Microsoft New Tai Lue\",\"Talu\"]),getFont([\"font\",\"Ebrima\",\"Tfng\"])]},{name:\"a:minorFont\",children:[getFont([\"latin\",\"Calibri\",void 0,\"020F0502020204030204\"]),getFont([\"ea\",\"\"]),getFont([\"cs\",\"\"]),getFont([\"font\",\"\\u6E38\\u30B4\\u30B7\\u30C3\\u30AF\",\"Jpan\"]),getFont([\"font\",\"\\uB9D1\\uC740 \\uACE0\\uB515\",\"Hang\"]),getFont([\"font\",\"\\u7B49\\u7EBF\",\"Hans\"]),getFont([\"font\",\"\\u65B0\\u7D30\\u660E\\u9AD4\",\"Hant\"]),getFont([\"font\",\"Arial\",\"Arab\"]),getFont([\"font\",\"Arial\",\"Hebr\"]),getFont([\"font\",\"Tahoma\",\"Thai\"]),getFont([\"font\",\"Nyala\",\"Ethi\"]),getFont([\"font\",\"Vrinda\",\"Beng\"]),getFont([\"font\",\"Shruti\",\"Gujr\"]),getFont([\"font\",\"DaunPenh\",\"Khmr\"]),getFont([\"font\",\"Tunga\",\"Knda\"]),getFont([\"font\",\"Raavi\",\"Guru\"]),getFont([\"font\",\"Euphemia\",\"Cans\"]),getFont([\"font\",\"Plantagenet Cherokee\",\"Cher\"]),getFont([\"font\",\"Microsoft Yi Baiti\",\"Yiii\"]),getFont([\"font\",\"Microsoft Himalaya\",\"Tibt\"]),getFont([\"font\",\"MV Boli\",\"Thaa\"]),getFont([\"font\",\"Mangal\",\"Deva\"]),getFont([\"font\",\"Gautami\",\"Telu\"]),getFont([\"font\",\"Latha\",\"Taml\"]),getFont([\"font\",\"Estrangelo Edessa\",\"Syrc\"]),getFont([\"font\",\"Kalinga\",\"Orya\"]),getFont([\"font\",\"Kartika\",\"Mlym\"]),getFont([\"font\",\"DokChampa\",\"Laoo\"]),getFont([\"font\",\"Iskoola Pota\",\"Sinh\"]),getFont([\"font\",\"Mongolian Baiti\",\"Mong\"]),getFont([\"font\",\"Arial\",\"Viet\"]),getFont([\"font\",\"Microsoft Uighur\",\"Uigh\"]),getFont([\"font\",\"Sylfaen\",\"Geor\"]),getFont([\"font\",\"Arial\",\"Armn\"]),getFont([\"font\",\"Leelawadee UI\",\"Bugi\"]),getFont([\"font\",\"Microsoft JhengHei\",\"Bopo\"]),getFont([\"font\",\"Javanese Text\",\"Java\"]),getFont([\"font\",\"Segoe UI\",\"Lisu\"]),getFont([\"font\",\"Myanmar Text\",\"Mymr\"]),getFont([\"font\",\"Ebrima\",\"Nkoo\"]),getFont([\"font\",\"Nirmala UI\",\"Olck\"]),getFont([\"font\",\"Ebrima\",\"Osma\"]),getFont([\"font\",\"Phagspa\",\"Phag\"]),getFont([\"font\",\"Estrangelo Edessa\",\"Syrn\"]),getFont([\"font\",\"Estrangelo Edessa\",\"Syrj\"]),getFont([\"font\",\"Estrangelo Edessa\",\"Syre\"]),getFont([\"font\",\"Nirmala UI\",\"Sora\"]),getFont([\"font\",\"Microsoft Tai Le\",\"Tale\"]),getFont([\"font\",\"Microsoft New Tai Lue\",\"Talu\"]),getFont([\"font\",\"Ebrima\",\"Tfng\"])]}]};}};var fontScheme_default=fontScheme;// packages/ag-grid-enterprise/src/excelExport/files/ooxml/themes/office/formatScheme.ts\nvar getPropertyVal=(name,val,children)=>({name:\"a:\".concat(name),properties:{rawMap:{val}},children});var getGs=props=>{var[pos,schemeColor,satMod,lumMod,tint,shade]=props;var children=[];children.push(getPropertyVal(\"satMod\",satMod));if(lumMod){children.push(getPropertyVal(\"lumMod\",lumMod));}if(tint){children.push(getPropertyVal(\"tint\",tint));}if(shade){children.push(getPropertyVal(\"shade\",shade));}return{name:\"a:gs\",properties:{rawMap:{pos}},children:[{name:\"a:schemeClr\",properties:{rawMap:{val:schemeColor}},children}]};};var getSolidFill=(val,children)=>({name:\"a:solidFill\",children:[getPropertyVal(\"schemeClr\",val,children)]});var getGradFill=props=>{var[rotWithShape,gs1,gs2,gs3,lin]=props;var[ang,scaled]=lin;return{name:\"a:gradFill\",properties:{rawMap:{rotWithShape}},children:[{name:\"a:gsLst\",children:[getGs(gs1),getGs(gs2),getGs(gs3)]},{name:\"a:lin\",properties:{rawMap:{ang,scaled}}}]};};var getLine=props=>{var[w,cap,cmpd,algn]=props;return{name:\"a:ln\",properties:{rawMap:{w,cap,cmpd,algn}},children:[getSolidFill(\"phClr\"),getPropertyVal(\"prstDash\",\"solid\"),{name:\"a:miter\",properties:{rawMap:{lim:\"800000\"}}}]};};var getEffectStyle=shadow2=>{var children=[];if(shadow2){var[blurRad,dist,dir,algn,rotWithShape]=shadow2;children.push({name:\"a:outerShdw\",properties:{rawMap:{blurRad,dist,dir,algn,rotWithShape}},children:[getPropertyVal(\"srgbClr\",\"000000\",[getPropertyVal(\"alpha\",\"63000\")])]});}return{name:\"a:effectStyle\",children:[Object.assign({},{name:\"a:effectLst\"},children.length?{children}:{})]};};var getFillStyleList=()=>({name:\"a:fillStyleLst\",children:[getSolidFill(\"phClr\"),getGradFill([\"1\",[\"0\",\"phClr\",\"105000\",\"110000\",\"67000\"],[\"50000\",\"phClr\",\"103000\",\"105000\",\"73000\"],[\"100000\",\"phClr\",\"109000\",\"105000\",\"81000\"],[\"5400000\",\"0\"]]),getGradFill([\"1\",[\"0\",\"phClr\",\"103000\",\"102000\",\"94000\"],[\"50000\",\"phClr\",\"110000\",\"100000\",void 0,\"100000\"],[\"100000\",\"phClr\",\"120000\",\"99000\",void 0,\"78000\"],[\"5400000\",\"0\"]])]});var getLineStyleList=()=>({name:\"a:lnStyleLst\",children:[getLine([\"6350\",\"flat\",\"sng\",\"ctr\"]),getLine([\"12700\",\"flat\",\"sng\",\"ctr\"]),getLine([\"19050\",\"flat\",\"sng\",\"ctr\"])]});var getEffectStyleList=()=>({name:\"a:effectStyleLst\",children:[getEffectStyle(),getEffectStyle(),getEffectStyle([\"57150\",\"19050\",\"5400000\",\"ctr\",\"0\"])]});var getBgFillStyleList=()=>({name:\"a:bgFillStyleLst\",children:[getSolidFill(\"phClr\"),getSolidFill(\"phClr\",[getPropertyVal(\"tint\",\"95000\"),getPropertyVal(\"satMod\",\"170000\")]),getGradFill([\"1\",[\"0\",\"phClr\",\"150000\",\"102000\",\"93000\",\"98000\"],[\"50000\",\"phClr\",\"130000\",\"103000\",\"98000\",\"90000\"],[\"100000\",\"phClr\",\"120000\",void 0,void 0,\"63000\"],[\"5400000\",\"0\"]])]});var formatScheme={getTemplate(){return{name:\"a:fmtScheme\",properties:{rawMap:{name:\"Office\"}},children:[getFillStyleList(),getLineStyleList(),getEffectStyleList(),getBgFillStyleList()]};}};var formatScheme_default=formatScheme;// packages/ag-grid-enterprise/src/excelExport/files/ooxml/themes/office/themeElements.ts\nvar themeElements={getTemplate(){return{name:\"a:themeElements\",children:[colorScheme_default.getTemplate(),fontScheme_default.getTemplate(),formatScheme_default.getTemplate()]};}};var themeElements_default=themeElements;// packages/ag-grid-enterprise/src/excelExport/files/ooxml/themes/office.ts\nvar officeTheme={getTemplate(){return{name:\"a:theme\",properties:{prefixedAttributes:[{prefix:\"xmlns:\",map:{a:\"http://schemas.openxmlformats.org/drawingml/2006/main\"}}],rawMap:{name:\"Office Theme\"}},children:[themeElements_default.getTemplate(),{name:\"a:objectDefaults\"},{name:\"a:extraClrSchemeLst\"}]};}};var office_default=officeTheme;// packages/ag-grid-enterprise/src/excelExport/files/ooxml/vmlDrawing.ts\nvar getShapeLayout=()=>({name:\"o:shapelayout\",properties:{prefixedAttributes:[{prefix:\"v:\",map:{ext:\"edit\"}}]},children:[{name:\"o:idmap\",properties:{prefixedAttributes:[{prefix:\"v:\",map:{ext:\"edit\"}}],rawMap:{data:\"1\"}}}]});var getStroke=()=>({name:\"v:stroke\",properties:{rawMap:{joinstyle:\"miter\"}}});var getFormulas=formulas=>({name:\"v:formulas\",children:formulas.map(formula=>({name:\"v:f\",properties:{rawMap:{eqn:formula}}}))});var getPath=()=>({name:\"v:path\",properties:{prefixedAttributes:[{prefix:\"o:\",map:{connecttype:\"rect\",extrusionok:\"f\"}}],rawMap:{gradientshapeok:\"t\"}}});var getLock=params=>{var{aspectratio,rotation}=params||{};var rawMap={};if(aspectratio){rawMap.aspectratio=\"t\";}if(rotation){rawMap.rotation=\"t\";}return{name:\"o:lock\",properties:{prefixedAttributes:[{prefix:\"v:\",map:{ext:\"edit\"}}],rawMap}};};function mapNumber(value,startSource,endSource,startTarget,endTarget){return(value-startSource)/(endSource-startSource)*(endTarget-startTarget)+startTarget;}var getImageData=(image,idx)=>{var rawMap;var{recolor,brightness,contrast,id}=image;if(recolor){rawMap={};if(recolor===\"Washout\"||recolor===\"Grayscale\"){rawMap.gain=\"19661f\";rawMap.blacklevel=\"22938f\";}if(recolor===\"Black & White\"||recolor===\"Grayscale\"){rawMap.grayscale=\"t\";if(recolor===\"Black & White\"){rawMap.bilevel=\"t\";}}}if(!recolor||recolor===\"Grayscale\"){if(!rawMap){rawMap={};}if(contrast!=null&&contrast!==50){var gain=\"1\";if(contrast>=0){if(contrast<50){gain=String(contrast/50);}else if(contrast<100){gain=String(50/(100-contrast));}else if(contrast===100){gain=\"2147483647f\";}}rawMap.gain=gain;}if(brightness!=null&&brightness!==50){rawMap.blacklevel=mapNumber(brightness,0,100,-0.5,0.5).toString();}}return{name:\"v:imagedata\",properties:{prefixedAttributes:[{prefix:\"o:\",map:{relid:\"rId\".concat(idx),title:id}}],rawMap}};};var getShapeType=()=>{var formulas=[\"if lineDrawn pixelLineWidth 0\",\"sum @0 1 0\",\"sum 0 0 @1\",\"prod @2 1 2\",\"prod @3 21600 pixelWidth\",\"prod @3 21600 pixelHeight\",\"sum @0 0 1\",\"prod @6 1 2\",\"prod @7 21600 pixelWidth\",\"sum @8 21600 0\",\"prod @7 21600 pixelHeight\",\"sum @10 21600 0\"];return{name:\"v:shapetype\",properties:{prefixedAttributes:[{prefix:\"o:\",map:{spt:\"75\",preferrelative:\"t\"}}],rawMap:{coordsize:\"21600,21600\",filled:\"f\",id:\"_x0000_t75\",path:\"m@4@5l@4@11@9@11@9@5xe\",stroked:\"f\"}},children:[getStroke(),getFormulas(formulas),getPath(),getLock({aspectratio:true})]};};var pixelToPoint=value=>Math.floor((value!==null&&value!==void 0?value:0)*0.74999943307122);var getShape=(image,idx)=>{var{width=0,height=0,altText}=image;var imageWidth=pixelToPoint(width);var imageHeight=pixelToPoint(height);return{name:\"v:shape\",properties:{rawMap:{id:image.headerFooterPosition,\"o:spid\":\"_x0000_s1025\",style:\"position: absolute; margin-left: 0; margin-top: 10in; margin-bottom: 0; margin-right: 0; width: \".concat(imageWidth,\"pt; height: \").concat(imageHeight,\"pt; z-index: \").concat(idx+1),type:\"#_x0000_t75\",alt:altText}},children:[getImageData(image,idx+1),getLock({rotation:true})]};};var vmlDrawingFactory={getTemplate(params){var headerFooterImages=XLSX_WORKSHEET_HEADER_FOOTER_IMAGES.get(params.sheetIndex)||[];var children=[getShapeLayout(),getShapeType(),...headerFooterImages.map((img,idx)=>getShape(img,idx))];return{name:\"xml\",properties:{prefixedAttributes:[{prefix:\"xmlns:\",map:{v:\"urn:schemas-microsoft-com:vml\",o:\"urn:schemas-microsoft-com:office:office\",x:\"urn:schemas-microsoft-com:office:excel\"}}]},children};}};var vmlDrawing_default=vmlDrawingFactory;// packages/ag-grid-enterprise/src/excelExport/files/ooxml/sheet.ts\nvar sheetFactory={getTemplate(name,idx){var sheetId=(idx+1).toString();return{name:\"sheet\",properties:{rawMap:{name,sheetId,\"r:id\":\"rId\".concat(sheetId)}}};}};var sheet_default=sheetFactory;// packages/ag-grid-enterprise/src/excelExport/files/ooxml/sheets.ts\nvar sheetsFactory={getTemplate(names){return{name:\"sheets\",children:names.map((sheet,idx)=>sheet_default.getTemplate(sheet,idx))};}};var sheets_default=sheetsFactory;// packages/ag-grid-enterprise/src/excelExport/files/ooxml/workbook.ts\nvar workbookFactory={getTemplate(names,activeTab){return{name:\"workbook\",properties:{prefixedAttributes:[{prefix:\"xmlns:\",map:{r:\"http://schemas.openxmlformats.org/officeDocument/2006/relationships\"}}],rawMap:{xmlns:\"http://schemas.openxmlformats.org/spreadsheetml/2006/main\"}},children:[{name:\"bookViews\",children:[{name:\"workbookView\",properties:{rawMap:{activeTab}}}]},sheets_default.getTemplate(names)]};}};var workbook_default=workbookFactory;// packages/ag-grid-enterprise/src/excelExport/files/ooxml/worksheet.ts\n// packages/ag-grid-enterprise/src/excelExport/files/ooxml/column.ts\nvar getExcelCellWidth=width=>Math.ceil((width-12)/7+1);var colFactory={getTemplate(config){var{min,max,outlineLevel,s,width,hidden,bestFit}=config;var excelWidth=1;var customWidth=\"0\";if(width>1){excelWidth=getExcelCellWidth(width);customWidth=\"1\";}return{name:\"col\",properties:{rawMap:{min,max,outlineLevel:outlineLevel!=null?outlineLevel:void 0,width:excelWidth,style:s,hidden:hidden?\"1\":\"0\",bestFit:bestFit?\"1\":\"0\",customWidth}}};}};var column_default=colFactory;// packages/ag-grid-enterprise/src/excelExport/files/ooxml/mergeCell.ts\nvar mergeCellFactory={getTemplate(ref){return{name:\"mergeCell\",properties:{rawMap:{ref}}};}};var mergeCell_default=mergeCellFactory;// packages/ag-grid-enterprise/src/excelExport/files/ooxml/cell.ts\nvar convertLegacyType=type=>{var t=type.charAt(0).toLowerCase();return t===\"s\"?\"inlineStr\":t;};var cellFactory={getTemplate(config,idx,currentSheet2){var{ref,data,styleId}=config;var{type,value}=data||{type:\"empty\",value:null};var convertedType=type;if(type===\"f\"){convertedType=\"str\";}else if(type.charAt(0)===type.charAt(0).toUpperCase()){convertedType=convertLegacyType(type);}var obj={name:\"c\",properties:{rawMap:{r:ref,t:convertedType===\"empty\"?void 0:convertedType,s:styleId?getStyleId(styleId,currentSheet2):void 0}}};if(convertedType===\"empty\"){return obj;}var children;if(convertedType===\"str\"&&type===\"f\"){children=[{name:\"f\",textNode:(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._escapeString)(replaceInvisibleCharacters(value))}];}else if(convertedType===\"inlineStr\"){children=[{name:\"is\",children:[{name:\"t\",textNode:(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._escapeString)(replaceInvisibleCharacters(value))}]}];}else{children=[{name:\"v\",textNode:value}];}return Object.assign({},obj,{children});}};var cell_default=cellFactory;// packages/ag-grid-enterprise/src/excelExport/files/ooxml/row.ts\nvar addEmptyCells=(cells,rowIdx)=>{var mergeMap=[];var posCounter=0;for(var i=0;i<cells.length;i++){var cell=cells[i];if(cell.mergeAcross){mergeMap.push({pos:i,excelPos:posCounter});posCounter+=cell.mergeAcross;}posCounter++;}if(mergeMap.length){for(var _i=mergeMap.length-1;_i>=0;_i--){var mergedCells=[];var _cell=cells[mergeMap[_i].pos];for(var j=1;j<=_cell.mergeAcross;j++){mergedCells.push({ref:\"\".concat(getExcelColumnName(mergeMap[_i].excelPos+1+j)).concat(rowIdx+1),styleId:_cell.styleId,data:{type:\"empty\",value:null}});}if(mergedCells.length){cells.splice(mergeMap[_i].pos+1,0,...mergedCells);}}}};var shouldDisplayCell=cell=>{var _cell$data;return((_cell$data=cell.data)===null||_cell$data===void 0?void 0:_cell$data.value)!==\"\"||cell.styleId!==void 0;};var rowFactory={getTemplate(config,idx,currentSheet2){var{collapsed,hidden,height,outlineLevel,cells=[]}=config;addEmptyCells(cells,idx);var children=cells.filter(shouldDisplayCell).map((cell,idx2)=>cell_default.getTemplate(cell,idx2,currentSheet2));return{name:\"row\",properties:{rawMap:{r:idx+1,collapsed:collapsed?\"1\":\"0\",hidden:hidden?\"1\":\"0\",ht:height,customHeight:height!=null?\"1\":\"0\",spans:\"1:1\",outlineLevel:outlineLevel||void 0}},children};}};var row_default=rowFactory;// packages/ag-grid-enterprise/src/excelExport/files/ooxml/worksheet.ts\nvar getMergedCellsAndAddColumnGroups=(rows,cols,suppressColumnOutline)=>{var mergedCells=[];var cellsWithCollapsibleGroups=[];rows.forEach((currentRow,rowIdx)=>{var cells=currentRow.cells;var merges=0;var lastCol;cells.forEach((currentCell,cellIdx)=>{var min=cellIdx+merges+1;var start=getExcelColumnName(min);var outputRow=rowIdx+1;if(currentCell.mergeAcross){merges+=currentCell.mergeAcross;var end=getExcelColumnName(cellIdx+merges+1);mergedCells.push(\"\".concat(start).concat(outputRow,\":\").concat(end).concat(outputRow));}if(!cols[min-1]){cols[min-1]={};}var{collapsibleRanges}=currentCell;if(collapsibleRanges){collapsibleRanges.forEach(range=>{cellsWithCollapsibleGroups.push([min+range[0],min+range[1]]);});}lastCol=cols[min-1];lastCol.min=min;lastCol.max=min;currentCell.ref=\"\".concat(start).concat(outputRow);});});cellsWithCollapsibleGroups.sort((a,b)=>{if(a[0]!==b[0]){return a[0]-b[0];}return b[1]-a[1];});var rangeMap=/* @__PURE__ */new Map();var outlineLevel=/* @__PURE__ */new Map();cellsWithCollapsibleGroups.filter(currentRange=>{var rangeString=currentRange.toString();var inMap=rangeMap.get(rangeString);if(inMap){return false;}rangeMap.set(rangeString,true);return true;}).forEach(range=>{var refCol=cols.find(col=>col.min==range[0]&&col.max==range[1]);var currentOutlineLevel=outlineLevel.get(range[0]);cols.push({min:range[0],max:range[1],outlineLevel:suppressColumnOutline?void 0:currentOutlineLevel||1,width:(refCol||{width:100}).width});outlineLevel.set(range[0],(currentOutlineLevel||0)+1);});return mergedCells;};var getPageOrientation=orientation=>{if(!orientation||orientation!==\"Portrait\"&&orientation!==\"Landscape\"){return\"portrait\";}return orientation.toLocaleLowerCase();};var getPageSize=pageSize=>{if(pageSize==null){return 1;}var positions=[\"Letter\",\"Letter Small\",\"Tabloid\",\"Ledger\",\"Legal\",\"Statement\",\"Executive\",\"A3\",\"A4\",\"A4 Small\",\"A5\",\"A6\",\"B4\",\"B5\",\"Folio\",\"Envelope\",\"Envelope DL\",\"Envelope C5\",\"Envelope B5\",\"Envelope C3\",\"Envelope C4\",\"Envelope C6\",\"Envelope Monarch\",\"Japanese Postcard\",\"Japanese Double Postcard\"];var pos=positions.indexOf(pageSize);return pos===-1?1:pos+1;};var replaceHeaderFooterTokens=value=>{var map={\"&[Page]\":\"&P\",\"&[Pages]\":\"&N\",\"&[Date]\":\"&D\",\"&[Time]\":\"&T\",\"&[Tab]\":\"&A\",\"&[Path]\":\"&Z\",\"&[File]\":\"&F\",\"&[Picture]\":\"&G\"};for(var key of Object.keys(map)){value=value.replace(key,map[key]);}return value;};var getHeaderPosition=position=>{if(position===\"Center\"){return\"C\";}if(position===\"Right\"){return\"R\";}return\"L\";};var applyHeaderFontStyle=(headerString,font)=>{if(!font){return headerString;}headerString+=\"&amp;&quot;\";headerString+=font.fontName||\"Calibri\";if(font.bold!==font.italic){headerString+=font.bold?\",Bold\":\",Italic\";}else if(font.bold){headerString+=\",Bold Italic\";}else{headerString+=\",Regular\";}headerString+=\"&quot;\";if(font.size){headerString+=\"&amp;\".concat(font.size);}if(font.strikeThrough){headerString+=\"&amp;S\";}if(font.underline){headerString+=\"&amp;\".concat(font.underline===\"Double\"?\"E\":\"U\");}if(font.color){headerString+=\"&amp;K\".concat(font.color.replace(\"#\",\"\").toUpperCase());}return headerString;};var processHeaderFooterContent=(content,location,rule)=>content.reduce((prev,curr,idx)=>{var pos=getHeaderPosition(curr.position);var output=applyHeaderFontStyle(\"\".concat(prev,\"&amp;\").concat(pos),curr.font);var PositionMap=[\"Left\",\"Center\",\"Right\"];if(!curr.position){curr.position=PositionMap[idx];}var{image}=curr;if(curr.value===\"&[Picture]\"&&image){var imagePosition=\"\".concat(pos).concat(location).concat(rule);addXlsxHeaderFooterImageToMap(image,imagePosition);}return\"\".concat(output).concat((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._escapeString)(replaceHeaderFooterTokens(curr.value)));},\"\");var buildHeaderFooter=headerFooterConfig=>{var rules=[\"all\",\"first\",\"even\"];var headersAndFooters=[];rules.forEach(rule=>{var headerFooter=headerFooterConfig[rule];var namePrefix=rule===\"all\"?\"odd\":rule;if(!headerFooter){return;}for(var key of Object.keys(headerFooter)){var value=headerFooter[key];var nameSuffix=\"\".concat(key.charAt(0).toUpperCase()).concat(key.slice(1));var location=key[0].toUpperCase();if(value){var normalizedRule=rule===\"all\"?\"\":rule.toUpperCase();headersAndFooters.push({name:\"\".concat(namePrefix).concat(nameSuffix),properties:{rawMap:{\"xml:space\":\"preserve\"}},textNode:processHeaderFooterContent(value,location,normalizedRule)});}}});return headersAndFooters;};var addColumns=columns=>{return params=>{if(columns.length){params.children.push({name:\"cols\",children:columns.map(column=>column_default.getTemplate(column))});}return params;};};var addSheetData=(rows,sheetNumber)=>{return params=>{if(rows.length){params.children.push({name:\"sheetData\",children:rows.map((row,idx)=>row_default.getTemplate(row,idx,sheetNumber))});}return params;};};var addMergeCells=mergeCells=>{return params=>{if(mergeCells.length){params.children.push({name:\"mergeCells\",properties:{rawMap:{count:mergeCells.length}},children:mergeCells.map(mergedCell=>mergeCell_default.getTemplate(mergedCell))});}return params;};};var addPageMargins=margins=>{return params=>{var{top=0.75,right=0.7,bottom=0.75,left=0.7,header=0.3,footer=0.3}=margins;params.children.push({name:\"pageMargins\",properties:{rawMap:{bottom,footer,header,left,right,top}}});return params;};};var addPageSetup=pageSetup=>{return params=>{if(pageSetup){params.children.push({name:\"pageSetup\",properties:{rawMap:{horizontalDpi:0,verticalDpi:0,orientation:getPageOrientation(pageSetup.orientation),paperSize:getPageSize(pageSetup.pageSize)}}});}return params;};};var addHeaderFooter=headerFooterConfig=>{return params=>{if(!headerFooterConfig){return params;}var differentFirst=headerFooterConfig.first!=null?1:0;var differentOddEven=headerFooterConfig.even!=null?1:0;params.children.push({name:\"headerFooter\",properties:{rawMap:{differentFirst,differentOddEven}},children:buildHeaderFooter(headerFooterConfig)});return params;};};var addExcelTableRel=excelTable=>{return params=>{if(excelTable){params.children.push({name:\"tableParts\",properties:{rawMap:{count:\"1\"}},children:[{name:\"tablePart\",properties:{rawMap:{\"r:id\":\"rId\".concat(++params.rIdCounter)}}}]});}return params;};};var addDrawingRel=currentSheet2=>{return params=>{var worksheetImages=XLSX_WORKSHEET_IMAGES.get(currentSheet2);if(worksheetImages!==null&&worksheetImages!==void 0&&worksheetImages.length){params.children.push({name:\"drawing\",properties:{rawMap:{\"r:id\":\"rId\".concat(++params.rIdCounter)}}});}return params;};};var addVmlDrawingRel=currentSheet2=>{return params=>{if(XLSX_WORKSHEET_HEADER_FOOTER_IMAGES.get(currentSheet2)){params.children.push({name:\"legacyDrawingHF\",properties:{rawMap:{\"r:id\":\"rId\".concat(++params.rIdCounter)}}});}return params;};};var getPane=function getPane(){var xSplit=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var ySplit=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var shouldSplit=xSplit>0||ySplit>0;return shouldSplit?[{name:\"pane\",properties:{rawMap:{state:shouldSplit?\"frozen\":void 0,topLeftCell:shouldSplit?\"\".concat(getExcelColumnName(xSplit+1)).concat(ySplit+1):void 0,xSplit:xSplit===0?void 0:xSplit,ySplit:ySplit===0?void 0:ySplit}}}]:void 0;};var addSheetViews=function addSheetViews(){var rtl=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var xSplit=arguments.length>1?arguments[1]:undefined;var ySplit=arguments.length>2?arguments[2]:undefined;return params=>{params.children.push({name:\"sheetViews\",children:[{name:\"sheetView\",properties:{rawMap:{rightToLeft:rtl===true?\"1\":\"0\",workbookViewId:\"0\"}},children:getPane(xSplit,ySplit)}]});return params;};};var addSheetPr=()=>{return params=>{params.children.push({name:\"sheetPr\",children:[{name:\"outlinePr\",properties:{rawMap:{summaryBelow:0}}}]});return params;};};var addSheetFormatPr=rows=>{return params=>{var maxOutline=rows.reduce((prev,row)=>{if(row.outlineLevel&&row.outlineLevel>prev){return row.outlineLevel;}return prev;},0);params.children.push({name:\"sheetFormatPr\",properties:{rawMap:{baseColWidth:10,defaultRowHeight:16,outlineLevelRow:maxOutline?maxOutline:void 0}}});return params;};};var worksheetFactory={getTemplate(params){var{worksheet,currentSheet:currentSheet2,config}=params;var{margins={},pageSetup,headerFooterConfig,suppressColumnOutline,rightToLeft,frozenRowCount,frozenColumnCount}=config;var{table}=worksheet;var{rows,columns}=table;var mergedCells=columns&&columns.length?getMergedCellsAndAddColumnGroups(rows,columns,!!suppressColumnOutline):[];var worksheetExcelTables=XLSX_WORKSHEET_DATA_TABLES.get(currentSheet2);var{children}=[addSheetPr(),addSheetViews(rightToLeft,frozenColumnCount,frozenRowCount),addSheetFormatPr(rows),addColumns(columns),addSheetData(rows,currentSheet2+1),addMergeCells(mergedCells),addPageMargins(margins),addPageSetup(pageSetup),addHeaderFooter(headerFooterConfig),addDrawingRel(currentSheet2),addVmlDrawingRel(currentSheet2),addExcelTableRel(worksheetExcelTables)].reduce((composed,f)=>f(composed),{children:[],rIdCounter:0});return{name:\"worksheet\",properties:{prefixedAttributes:[{prefix:\"xmlns:\",map:{r:\"http://schemas.openxmlformats.org/officeDocument/2006/relationships\"}}],rawMap:{xmlns:\"http://schemas.openxmlformats.org/spreadsheetml/2006/main\"}},children};}};var worksheet_default=worksheetFactory;// packages/ag-grid-enterprise/src/excelExport/excelXlsxFactory.ts\nvar XLSX_SHARED_STRINGS=/* @__PURE__ */new Map();var XLSX_SHEET_NAMES=[];var XLSX_IMAGES=/* @__PURE__ */new Map();var XLSX_WORKSHEET_IMAGES=/* @__PURE__ */new Map();var XLSX_WORKSHEET_HEADER_FOOTER_IMAGES=/* @__PURE__ */new Map();var XLSX_WORKBOOK_IMAGE_IDS=/* @__PURE__ */new Map();var XLSX_WORKSHEET_IMAGE_IDS=/* @__PURE__ */new Map();var XLSX_WORKSHEET_DATA_TABLES=/* @__PURE__ */new Map();var DEFAULT_TABLE_DISPLAY_NAME=\"AG-GRID-TABLE\";var XLSX_FACTORY_MODE=\"SINGLE_SHEET\";function getXlsxFactoryMode(){return XLSX_FACTORY_MODE;}function setXlsxFactoryMode(factoryMode){XLSX_FACTORY_MODE=factoryMode;}function createXlsxExcel(styles,worksheet,config){addSheetName(worksheet);registerStyles(styles,XLSX_SHEET_NAMES.length);var newConfig=Object.assign({},config);if(config.exportAsExcelTable){if(config.colModel.isPivotActive()){showExcelTableNonCompatibleFeaturesWarning(\"pivot mode\");newConfig.exportAsExcelTable=false;}}processTableConfig(worksheet,newConfig);return createWorksheet(worksheet,newConfig);}function showExcelTableNonCompatibleFeaturesWarning(featureName){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(163,{featureName});}function getXlsxSanitizedTableName(name){return name.replace(/^[^a-zA-Z_]+/,\"_\").replace(/\\s/g,\"_\").replace(/[^a-zA-Z0-9_]/g,\"_\");}function addXlsxTableToSheet(sheetIndex,table){if(XLSX_WORKSHEET_DATA_TABLES.has(sheetIndex)){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(164);return;}XLSX_WORKSHEET_DATA_TABLES.set(sheetIndex,table);}function processTableConfig(worksheet,config){var{exportAsExcelTable,prependContent,appendContent,colModel}=config;if(!exportAsExcelTable){return;}var tableConfig=typeof exportAsExcelTable===\"boolean\"?{}:exportAsExcelTable;var{name:nameFromConfig,showColumnStripes,showRowStripes,showFilterButton,highlightFirstColumn,highlightLastColumn}=tableConfig;var tableName=getXlsxSanitizedTableName(nameFromConfig||DEFAULT_TABLE_DISPLAY_NAME);var sheetIndex=XLSX_SHEET_NAMES.length-1;var{table}=worksheet;var{rows,columns}=table;var headerRowCount=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getHeaderRowCount)(colModel);var skipTopRows=prependContent?prependContent.length:0;var removeFromBottom=appendContent?appendContent.length:0;var tableRowCount=rows.length;var tableColCount=columns.length;var tableColumns=[];var showFilterButtons=[];for(var i=0;i<tableColCount;i++){var _col$filterAllowed;var col=columns[i];tableColumns.push(col.displayName||\"\");showFilterButtons.push(showFilterButton===\"match\"||showFilterButton===void 0?(_col$filterAllowed=col.filterAllowed)!==null&&_col$filterAllowed!==void 0?_col$filterAllowed:false:showFilterButton);}if(!tableColumns||!tableColumns.length||!tableRowCount||!tableName){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(165);return;}addXlsxTableToSheet(sheetIndex,{name:\"table\".concat(XLSX_WORKSHEET_DATA_TABLES.size+1),displayName:tableName,columns:tableColumns,showFilterButtons,rowRange:[headerRowCount+skipTopRows,headerRowCount+(tableRowCount-headerRowCount)-removeFromBottom],showRowStripes:showRowStripes!==null&&showRowStripes!==void 0?showRowStripes:true,showColumnStripes:showColumnStripes!==null&&showColumnStripes!==void 0?showColumnStripes:false,highlightFirstColumn:highlightFirstColumn!==null&&highlightFirstColumn!==void 0?highlightFirstColumn:false,highlightLastColumn:highlightLastColumn!==null&&highlightLastColumn!==void 0?highlightLastColumn:false});}function addXlsxHeaderFooterImageToMap(image,position){var sheetIndex=XLSX_SHEET_NAMES.length-1;var headerFooterImage=image;headerFooterImage.headerFooterPosition=position;buildImageMap({imageToAdd:headerFooterImage,idx:sheetIndex});var headerFooterImagesForSheet=XLSX_WORKSHEET_HEADER_FOOTER_IMAGES.get(sheetIndex);if(!headerFooterImagesForSheet){headerFooterImagesForSheet=[];XLSX_WORKSHEET_HEADER_FOOTER_IMAGES.set(sheetIndex,headerFooterImagesForSheet);}if(!headerFooterImagesForSheet.find(img=>img.id===image.id)){headerFooterImagesForSheet.push(image);}}function addXlsxBodyImageToMap(image,rowIndex,col,columnsToExport,rowHeight){var sheetIndex=XLSX_SHEET_NAMES.length;var{row,column}=image.position||{};var calculatedImage=image;if(columnsToExport){if(rowIndex!=null&&col!=null&&(!row||!column)){if(!image.position){image.position={};}image.position=Object.assign({},image.position,{row:rowIndex,column:columnsToExport.indexOf(col)+1});}setExcelImageTotalWidth(calculatedImage,columnsToExport);setExcelImageTotalHeight(calculatedImage,rowHeight);}buildImageMap({imageToAdd:calculatedImage,idx:sheetIndex});var worksheetImageIdMap=XLSX_WORKSHEET_IMAGE_IDS.get(sheetIndex);if(!worksheetImageIdMap){worksheetImageIdMap=/* @__PURE__ */new Map();XLSX_WORKSHEET_IMAGE_IDS.set(sheetIndex,worksheetImageIdMap);}var sheetImages=XLSX_WORKSHEET_IMAGES.get(sheetIndex);if(!sheetImages){XLSX_WORKSHEET_IMAGES.set(sheetIndex,[calculatedImage]);}else{sheetImages.push(calculatedImage);}if(!worksheetImageIdMap.get(image.id)){worksheetImageIdMap.set(image.id,{index:worksheetImageIdMap.size,type:image.imageType});}}function buildImageMap(params){var{imageToAdd,idx}=params;var mappedImagesToSheet=XLSX_IMAGES.get(imageToAdd.id);if(mappedImagesToSheet){var currentSheetImages=mappedImagesToSheet.find(currentImage=>currentImage.sheetId===idx);if(currentSheetImages){currentSheetImages.image.push(imageToAdd);}else{mappedImagesToSheet.push({sheetId:idx,image:[imageToAdd]});}}else{XLSX_IMAGES.set(imageToAdd.id,[{sheetId:idx,image:[imageToAdd]}]);XLSX_WORKBOOK_IMAGE_IDS.set(imageToAdd.id,{type:imageToAdd.imageType,index:XLSX_WORKBOOK_IMAGE_IDS.size});}}function addSheetName(worksheet){var name=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._escapeString)(worksheet.name)||\"\";var append=\"\";while(XLSX_SHEET_NAMES.indexOf(\"\".concat(name).concat(append))!==-1){if(append===\"\"){append=\"_1\";}else{var curr=parseInt(append.slice(1),10);append=\"_\".concat(curr+1);}}worksheet.name=\"\".concat(name).concat(append);XLSX_SHEET_NAMES.push(worksheet.name);}function getXlsxStringPosition(str){if(XLSX_SHARED_STRINGS.has(str)){return XLSX_SHARED_STRINGS.get(str);}XLSX_SHARED_STRINGS.set(str,XLSX_SHARED_STRINGS.size);return XLSX_SHARED_STRINGS.size-1;}function resetXlsxFactory(){XLSX_SHARED_STRINGS.clear();XLSX_IMAGES.clear();XLSX_WORKSHEET_IMAGES.clear();XLSX_WORKSHEET_HEADER_FOOTER_IMAGES.clear();XLSX_WORKBOOK_IMAGE_IDS.clear();XLSX_WORKSHEET_IMAGE_IDS.clear();XLSX_WORKSHEET_DATA_TABLES.clear();XLSX_SHEET_NAMES=[];XLSX_FACTORY_MODE=\"SINGLE_SHEET\";}function createXlsxWorkbook(currentSheet2){return createXmlPart(workbook_default.getTemplate(XLSX_SHEET_NAMES,currentSheet2));}function createXlsxStylesheet(defaultFontSize){return createXmlPart(stylesheet_default.getTemplate(defaultFontSize));}function createXlsxSharedStrings(){return createXmlPart(sharedStrings_default.getTemplate(XLSX_SHARED_STRINGS));}function createXlsxCore(author){return createXmlPart(core_default.getTemplate(author));}function createXlsxContentTypes(sheetLen){return createXmlPart(contentTypes_default.getTemplate(sheetLen));}function createXlsxRels(){var rs=relationships_default.getTemplate([{Id:\"rId1\",Type:\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument\",Target:\"xl/workbook.xml\"},{Id:\"rId2\",Type:\"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties\",Target:\"docProps/core.xml\"}]);return createXmlPart(rs);}function createXlsxTheme(){return createXmlPart(office_default.getTemplate());}function createXlsxTable(dataTable,index){return createXmlPart(table_default.getTemplate(dataTable,index));}function createXlsxWorkbookRels(sheetLen){var worksheets=new Array(sheetLen).fill(void 0).map((v,i)=>({Id:\"rId\".concat(i+1),Type:\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet\",Target:\"worksheets/sheet\".concat(i+1,\".xml\")}));var rs=relationships_default.getTemplate([...worksheets,{Id:\"rId\".concat(sheetLen+1),Type:\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme\",Target:\"theme/theme1.xml\"},{Id:\"rId\".concat(sheetLen+2),Type:\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles\",Target:\"styles.xml\"},{Id:\"rId\".concat(sheetLen+3),Type:\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings\",Target:\"sharedStrings.xml\"}]);return createXmlPart(rs);}function createXlsxDrawing(sheetIndex){return createXmlPart(drawing_default.getTemplate({sheetIndex}));}function createXlsxDrawingRel(sheetIndex){var worksheetImageIds=XLSX_WORKSHEET_IMAGE_IDS.get(sheetIndex)||[];var XMLArr=[];for(var[key,value]of worksheetImageIds){var{index,type}=value;XMLArr.push({Id:\"rId\".concat(index+1),Type:\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image\",Target:\"../media/image\".concat(XLSX_WORKBOOK_IMAGE_IDS.get(key).index+1,\".\").concat(_normaliseImageExtension(type))});}return createXmlPart(relationships_default.getTemplate(XMLArr));}function createXlsxVmlDrawing(sheetIndex){return createXmlPart(vmlDrawing_default.getTemplate({sheetIndex}),true);}function createXlsxVmlDrawingRel(sheetIndex){var worksheetHeaderFooterImages=XLSX_WORKSHEET_HEADER_FOOTER_IMAGES.get(sheetIndex)||[];var XMLArr=[];for(var i=0;i<worksheetHeaderFooterImages.length;i++){var headerFooterImage=worksheetHeaderFooterImages[i];var workbookImage=XLSX_WORKBOOK_IMAGE_IDS.get(headerFooterImage.id);if(!workbookImage){continue;}var{index,type}=workbookImage;XMLArr.push({Id:\"rId\".concat(i+1),Type:\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image\",Target:\"../media/image\".concat(index+1,\".\").concat(_normaliseImageExtension(type))});}return createXmlPart(relationships_default.getTemplate(XMLArr));}function createXlsxRelationships(){var{drawingIndex,vmlDrawingIndex,tableName}=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};if(drawingIndex===void 0&&vmlDrawingIndex===void 0&&tableName===void 0){return\"\";}var config=[];if(drawingIndex!=null){config.push({Id:\"rId\".concat(config.length+1),Type:\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing\",Target:\"../drawings/drawing\".concat(drawingIndex+1,\".xml\")});}if(vmlDrawingIndex!=null){config.push({Id:\"rId\".concat(config.length+1),Type:\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing\",Target:\"../drawings/vmlDrawing\".concat(vmlDrawingIndex+1,\".vml\")});}if(tableName!=null){config.push({Id:\"rId\".concat(config.length+1),Type:\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/table\",Target:\"../tables/\".concat(tableName,\".xml\")});}var rs=relationships_default.getTemplate(config);return createXmlPart(rs);}function createWorksheet(worksheet,config){return createXmlPart(worksheet_default.getTemplate({worksheet,currentSheet:XLSX_SHEET_NAMES.length-1,config}));}// packages/ag-grid-enterprise/src/excelExport/excelSerializingSession.ts\nvar ExcelSerializingSession=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BaseGridSerializingSession{constructor(config){super(config);this.mixedStyles={};this.mixedStyleCounter=0;this.rows=[];this.frozenRowCount=0;this.skipFrozenRows=false;this.frozenColumnCount=0;this.skipFrozenColumns=false;this.config=Object.assign({},config);this.stylesByIds={};this.config.baseExcelStyles.forEach(style=>{this.stylesByIds[style.id]=style;});this.excelStyles=[...this.config.baseExcelStyles,{id:\"_quotePrefix\",quotePrefix:1}];}addCustomContent(customContent){customContent.forEach(row=>{var rowLen=this.rows.length+1;var outlineLevel;if(!this.config.suppressRowOutline&&row.outlineLevel!=null){outlineLevel=row.outlineLevel;}var rowObj={height:getHeightFromProperty(rowLen,row.height||this.config.rowHeight),cells:(row.cells||[]).map((cell,idx)=>{var _cell$data2,_cell$data$value,_cell$data3;var image=this.addImage(rowLen,this.columnsToExport[idx],(_cell$data2=cell.data)===null||_cell$data2===void 0?void 0:_cell$data2.value);var excelStyles=null;if(cell.styleId){excelStyles=typeof cell.styleId===\"string\"?[cell.styleId]:cell.styleId;}var excelStyleId=this.getStyleId(excelStyles);if(image){return this.createCell(excelStyleId,this.getDataTypeForValue(image.value),image.value==null?\"\":image.value);}var value=(_cell$data$value=(_cell$data3=cell.data)===null||_cell$data3===void 0?void 0:_cell$data3.value)!==null&&_cell$data$value!==void 0?_cell$data$value:\"\";var type=this.getDataTypeForValue(value);if(cell.mergeAcross){return this.createMergedCell(excelStyleId,type,value,cell.mergeAcross);}return this.createCell(excelStyleId,type,value);}),outlineLevel};if(row.collapsed!=null){rowObj.collapsed=row.collapsed;}if(row.hidden!=null){rowObj.hidden=row.hidden;}this.rows.push(rowObj);});}onNewHeaderGroupingRow(){var currentCells=[];var{freezeRows,headerRowHeight}=this.config;this.rows.push({cells:currentCells,height:getHeightFromProperty(this.rows.length+1,headerRowHeight)});if(freezeRows){this.frozenRowCount++;}return{onColumn:(columnGroup,header,index,span,collapsibleRanges)=>{var styleIds=this.config.styleLinker({rowType:\"HEADER_GROUPING\",rowIndex:1,value:\"grouping-\".concat(header),columnGroup});currentCells.push(_objectSpread(_objectSpread({},this.createMergedCell(this.getStyleId(styleIds),this.getDataTypeForValue(\"string\"),header,span)),{},{collapsibleRanges}));}};}onNewHeaderRow(){var{freezeRows,headerRowHeight}=this.config;if(freezeRows){this.frozenRowCount++;}return this.onNewRow(this.onNewHeaderColumn,headerRowHeight);}onNewBodyRow(node){var{freezeRows,rowHeight}=this.config;if(!this.skipFrozenRows){if(freezeRows===\"headersAndPinnedRows\"&&(node===null||node===void 0?void 0:node.rowPinned)===\"top\"){this.frozenRowCount++;}else if(typeof freezeRows===\"function\"){if(freezeRows((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._addGridCommonParams)(this.gos,{node}))){this.frozenRowCount++;}else{this.skipFrozenRows=true;}}else{this.skipFrozenRows=true;}}var rowAccumulator=this.onNewRow(this.onNewBodyColumn,rowHeight);if(node){this.addRowOutlineIfNecessary(node);}return rowAccumulator;}prepare(columnsToExport){super.prepare(columnsToExport);this.columnsToExport=[...columnsToExport];this.cols=columnsToExport.map((col,i)=>this.convertColumnToExcel(col,i));}parse(){var longestRow=this.rows.reduce((a,b)=>Math.max(a,b.cells.length),0);while(this.cols.length<longestRow){this.cols.push(this.convertColumnToExcel(null,this.cols.length+1));}var{config}=this;var name;if(config.sheetName!=null){var{sheetName}=config;var sheetNameValue=typeof sheetName===\"function\"?sheetName((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._addGridCommonParams)(this.gos,{})):sheetName;name=String(sheetNameValue).substring(0,31);}else{name=\"ag-grid\";}var data={name,table:{columns:this.cols,rows:this.rows}};return this.createExcel(data);}addRowOutlineIfNecessary(node){var{gos,suppressRowOutline,rowGroupExpandState=\"expanded\"}=this.config;var isGroupHideOpenParents=gos.get(\"groupHideOpenParents\");if(isGroupHideOpenParents||suppressRowOutline||node.level==null){return;}var padding=node.footer?1:0;var currentRow=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._last)(this.rows);var outlineLevel=Math.min(node.level+padding,7);currentRow.outlineLevel=outlineLevel;if(rowGroupExpandState===\"expanded\"){return;}var collapseAll=rowGroupExpandState===\"collapsed\";if(node.isExpandable()){var isExpanded=!collapseAll&&node.expanded;currentRow.collapsed=!isExpanded;}currentRow.hidden=// always show the node if there is no parent to be expanded\n!!node.parent&&// or if it is a child of the root node\nnode.parent.level!==-1&&(collapseAll||this.isAnyParentCollapsed(node.parent));}isAnyParentCollapsed(node){while(node&&node.level!==-1){if(!node.expanded){return true;}node=node.parent;}return false;}convertColumnToExcel(column,index){var columnWidth=this.config.columnWidth;var headerValue=column?this.extractHeaderValue(column):void 0;var displayName=headerValue!==null&&headerValue!==void 0?headerValue:\"\";var filterAllowed=column?column.isFilterAllowed():false;if(columnWidth){if(typeof columnWidth===\"number\"){return{width:columnWidth,displayName,filterAllowed};}return{width:columnWidth({column,index}),displayName,filterAllowed};}if(column){var smallestUsefulWidth=75;return{width:Math.max(column.getActualWidth(),smallestUsefulWidth),displayName,filterAllowed};}return{displayName,filterAllowed};}onNewHeaderColumn(rowIndex,currentCells){return column=>{var nameForCol=this.extractHeaderValue(column);var styleIds=this.config.styleLinker({rowType:\"HEADER\",rowIndex,value:nameForCol,column});currentCells.push(this.createCell(this.getStyleId(styleIds),this.getDataTypeForValue(\"string\"),nameForCol));};}onNewBodyColumn(rowIndex,currentCells){var skipCols=0;var{freezeColumns,rightToLeft}=this.config;return(column,index,node)=>{if(skipCols>0){skipCols-=1;return;}if(!this.skipFrozenColumns){var pinned=column.getPinned();var isPinnedLeft=pinned===true||pinned===\"left\";if(freezeColumns===\"pinned\"&&pinned&&isPinnedLeft!==rightToLeft){this.frozenColumnCount++;}else if(typeof freezeColumns===\"function\"&&freezeColumns((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._addGridCommonParams)(this.gos,{column}))){this.frozenColumnCount++;}else{this.skipFrozenColumns=true;}}var{value:valueForCell,valueFormatted}=this.extractRowCellValue(column,index,rowIndex,\"excel\",node);var styleIds=this.config.styleLinker({rowType:\"BODY\",rowIndex,value:valueForCell,column,node});var excelStyleId=this.getStyleId(styleIds);var colSpan=column.getColSpan(node);var addedImage=this.addImage(rowIndex,column,valueForCell);if(addedImage){currentCells.push(this.createCell(excelStyleId,this.getDataTypeForValue(addedImage.value),addedImage.value==null?\"\":addedImage.value));}else if(colSpan>1){skipCols=colSpan-1;currentCells.push(this.createMergedCell(excelStyleId,this.getDataTypeForValue(valueForCell),valueForCell,colSpan-1));}else{currentCells.push(this.createCell(excelStyleId,this.getDataTypeForValue(valueForCell),valueForCell,valueFormatted));}};}onNewRow(onNewColumnAccumulator,height){var currentCells=[];this.rows.push({cells:currentCells,height:getHeightFromProperty(this.rows.length+1,height)});return{onColumn:onNewColumnAccumulator.bind(this,this.rows.length,currentCells)()};}createExcel(data){var{excelStyles,config}=this;if(this.frozenColumnCount){config.frozenColumnCount=this.frozenColumnCount;}if(this.frozenRowCount){config.frozenRowCount=this.frozenRowCount;}return createXlsxExcel(excelStyles,data,config);}getDataTypeForValue(valueForCell){if(valueForCell===void 0){return\"empty\";}var dataType=\"s\";try{if(this.isNumerical(valueForCell)){dataType=\"n\";}}catch(e){}return dataType;}getTypeFromStyle(style,value){if(this.isFormula(value)){return\"f\";}if(style&&style.dataType){switch(style.dataType.toLocaleLowerCase()){case\"formula\":return\"f\";case\"string\":return\"s\";case\"number\":return\"n\";case\"datetime\":return\"d\";case\"error\":return\"e\";case\"boolean\":return\"b\";default:(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(162,{id:style.id,dataType:style.dataType});}}return null;}addImage(rowIndex,column,value){if(!this.config.addImageToCell){return;}var addedImage=this.config.addImageToCell(rowIndex,column,value);if(!addedImage){return;}addXlsxBodyImageToMap(addedImage.image,rowIndex,column,this.columnsToExport,this.config.rowHeight);return addedImage;}createCell(styleId,type,value,valueFormatted){var actualStyle=this.getStyleById(styleId);if(!(actualStyle!==null&&actualStyle!==void 0&&actualStyle.dataType)&&type===\"s\"&&valueFormatted!=null){value=valueFormatted;}var processedType=this.getTypeFromStyle(actualStyle,value)||type;var{value:processedValue,escaped}=this.getCellValue(processedType,value);var styles=[];if(actualStyle){styles.push(styleId);}if(escaped){styles.push(\"_quotePrefix\");}styleId=this.getStyleId(styles)||void 0;return{styleId,data:{type:processedType,value:processedValue}};}createMergedCell(styleId,type,value,numOfCells){var valueToUse=value==null?\"\":value;return{styleId:this.getStyleById(styleId)?styleId:void 0,data:{type,value:type===\"s\"?getXlsxStringPosition(valueToUse).toString():value},mergeAcross:numOfCells};}getCellValue(type,value){var escaped=false;if(value==null||type===\"s\"&&value===\"\"){return{value:\"\",escaped:false};}if(type===\"s\"){if(value&&value[0]===\"'\"){escaped=true;value=value.slice(1);}value=getXlsxStringPosition(value).toString();}else if(type===\"f\"){value=value.slice(1);}else if(type===\"n\"){var numberValue=Number(value);if(isNaN(numberValue)){value=\"\";}else if(value!==\"\"){value=numberValue.toString();}}return{value,escaped};}getStyleId(styleIds){if(!styleIds||!styleIds.length){return null;}if(styleIds.length===1){return styleIds[0];}var key=styleIds.join(\"-\");if(!this.mixedStyles[key]){this.addNewMixedStyle(styleIds);}return this.mixedStyles[key].excelID;}deepCloneObject(object){return JSON.parse(JSON.stringify(object));}addNewMixedStyle(styleIds){this.mixedStyleCounter+=1;var excelId=\"mixedStyle\".concat(this.mixedStyleCounter);var resultantStyle={};for(var styleId of styleIds){for(var excelStyle of this.excelStyles){if(excelStyle.id===styleId){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._mergeDeep)(resultantStyle,this.deepCloneObject(excelStyle));}}}resultantStyle.id=excelId;var key=styleIds.join(\"-\");this.mixedStyles[key]={excelID:excelId,key,result:resultantStyle};this.excelStyles.push(resultantStyle);this.stylesByIds[excelId]=resultantStyle;}isFormula(value){if(value==null){return false;}return this.config.autoConvertFormulas&&value.toString().startsWith(\"=\");}isNumerical(value){if(typeof value===\"bigint\"){return true;}return isFinite(value)&&value!==\"\"&&!isNaN(parseFloat(value));}getStyleById(styleId){if(styleId==null){return null;}return this.stylesByIds[styleId]||null;}};// packages/ag-grid-enterprise/src/excelExport/zipContainer/zipContainerHelper.ts\n// packages/ag-grid-enterprise/src/excelExport/zipContainer/compress.ts\nvar compressBlob=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(function*(data){var chunksSize=0;var chunks=[];var writeCompressedData=new WritableStream({write:chunk=>{chunks.push(chunk);chunksSize+=chunk.length;}});var readable=new ReadableStream({start:controller=>{var reader=new FileReader();reader.onload=e=>{var _e$target;if((_e$target=e.target)!==null&&_e$target!==void 0&&_e$target.result){controller.enqueue(e.target.result);}controller.close();};reader.readAsArrayBuffer(data);}});var compressStream=new window.CompressionStream(\"deflate-raw\");yield readable.pipeThrough(compressStream).pipeTo(writeCompressedData);return{size:chunksSize,content:new Blob(chunks)};});return function compressBlob(_x){return _ref2.apply(this,arguments);};}();var deflateLocalFile=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(function*(rawContent){var contentAsBlob=new Blob([rawContent]);var{size:compressedSize,content:compressedContent}=yield compressBlob(contentAsBlob);var compressedContentAsUint8Array=new Uint8Array(yield compressedContent.arrayBuffer());return{size:compressedSize,content:compressedContentAsUint8Array};});return function deflateLocalFile(_x2){return _ref3.apply(this,arguments);};}();// packages/ag-grid-enterprise/src/excelExport/zipContainer/convert.ts\nvar convertTime=date=>{var time=date.getHours();time<<=6;time=time|date.getMinutes();time<<=5;time=time|date.getSeconds()/2;return time;};var convertDate=date=>{var dt=date.getFullYear()-1980;dt<<=4;dt=dt|date.getMonth()+1;dt<<=5;dt=dt|date.getDate();return dt;};function convertDecToHex(number,bytes){var hex=\"\";for(var i=0;i<bytes;i++){hex+=String.fromCharCode(number&255);number>>>=8;}return hex;}// packages/ag-grid-enterprise/src/excelExport/zipContainer/crcTable.ts\nvar getCrcFromCrc32TableAndByteArray=content=>{if(!content.length){return 0;}var crc=0^-1;var j=0;var k=0;var l=0;for(var i=0;i<content.length;i++){j=content[i];k=(crc^j)&255;l=crcTable[k];crc=crc>>>8^l;}return crc^-1;};var getCrcFromCrc32Table=content=>{if(!content.length){return 0;}if(typeof content===\"string\"){return getCrcFromCrc32TableAndByteArray(new TextEncoder().encode(content));}return getCrcFromCrc32TableAndByteArray(content);};var crcTable=/* @__PURE__ */new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]);// packages/ag-grid-enterprise/src/excelExport/zipContainer/zipContainerHelper.ts\nfunction _utf8_encode(s){var stringFromCharCode=String.fromCharCode;function ucs2decode(string){var output=[];if(!string){return[];}var len=string.length;var counter=0;var value;var extra;while(counter<len){value=string.charCodeAt(counter++);if(value>=55296&&value<=56319&&counter<len){extra=string.charCodeAt(counter++);if((extra&64512)==56320){output.push(((value&1023)<<10)+(extra&1023)+65536);}else{output.push(value);counter--;}}else{output.push(value);}}return output;}function checkScalarValue(point){if(point>=55296&&point<=57343){throw Error((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._errMsg)(255,{point}));}}function createByte(point,shift){return stringFromCharCode(point>>shift&63|128);}function encodeCodePoint(point){if((point&4294967168)==0){return stringFromCharCode(point);}var symbol=\"\";if((point&4294965248)==0){symbol=stringFromCharCode(point>>6&31|192);}else if((point&4294901760)==0){checkScalarValue(point);symbol=stringFromCharCode(point>>12&15|224);symbol+=createByte(point,6);}else if((point&4292870144)==0){symbol=stringFromCharCode(point>>18&7|240);symbol+=createByte(point,12);symbol+=createByte(point,6);}symbol+=stringFromCharCode(point&63|128);return symbol;}var codePoints=ucs2decode(s);var length=codePoints.length;var index=-1;var codePoint;var byteString=\"\";while(++index<length){codePoint=codePoints[index];byteString+=encodeCodePoint(codePoint);}return byteString;}var getHeaders=(currentFile,isCompressed,offset,rawSize,rawContent,deflatedSize)=>{var{content,path,created:creationDate}=currentFile;var time=convertTime(creationDate);var dt=convertDate(creationDate);var crcFlag=getCrcFromCrc32Table(rawContent);var zipSize=deflatedSize!==void 0?deflatedSize:rawSize;var utfPath=_utf8_encode(path);var isUTF8=utfPath!==path;var extraFields=\"\";if(isUTF8){var uExtraFieldPath=convertDecToHex(1,1)+convertDecToHex(getCrcFromCrc32Table(utfPath),4)+utfPath;extraFields=\"up\"+convertDecToHex(uExtraFieldPath.length,2)+uExtraFieldPath;}var commonHeader=\"\u0014\\0\"+(// version needed to extract\nisUTF8?\"\\0\\b\":\"\\0\\0\")+// Language encoding flag (EFS) (12th bit turned on)\nconvertDecToHex(isCompressed?8:0,2)+// As per ECMA-376 Part 2 specs\nconvertDecToHex(time,2)+// last modified time\nconvertDecToHex(dt,2)+// last modified date\nconvertDecToHex(zipSize?crcFlag:0,4)+convertDecToHex(deflatedSize!==null&&deflatedSize!==void 0?deflatedSize:rawSize,4)+// compressed size\nconvertDecToHex(rawSize,4)+// uncompressed size\nconvertDecToHex(utfPath.length,2)+// file name length\nconvertDecToHex(extraFields.length,2);var localFileHeader=\"PK\u0003\u0004\"+commonHeader+utfPath+extraFields;var centralDirectoryHeader=\"PK\u0001\u0002\u0014\\0\"+commonHeader+// file header\n\"\\0\\0\\0\\0\\0\\0\"+(content?\"\\0\\0\\0\\0\":\"\u0010\\0\\0\\0\")+// external file attributes\nconvertDecToHex(offset,4)+// relative offset of local header\nutfPath+// file name\nextraFields;return{localFileHeader:Uint8Array.from(localFileHeader,c=>c.charCodeAt(0)),centralDirectoryHeader:Uint8Array.from(centralDirectoryHeader,c=>c.charCodeAt(0))};};var getDecodedContent=content=>{var contentToUse;if(typeof content===\"string\"){var base64String=atob(content.split(\";base64,\")[1]);contentToUse=Uint8Array.from(base64String,c=>c.charCodeAt(0));}else{contentToUse=content;}return{size:contentToUse.length,content:contentToUse};};var getDeflatedHeaderAndContent=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(function*(currentFile,offset){var{content}=currentFile;var{size,content:rawContent}=!content?{size:0,content:Uint8Array.from([])}:getDecodedContent(content);var deflatedContent=void 0;var deflatedSize=void 0;var deflationPerformed=false;var shouldDeflate=currentFile.type===\"file\"&&rawContent&&size>0;if(shouldDeflate){var result=yield deflateLocalFile(rawContent);deflatedContent=result.content;deflatedSize=result.size;deflationPerformed=true;}var headers=getHeaders(currentFile,deflationPerformed,offset,size,rawContent,deflatedSize);return _objectSpread(_objectSpread({},headers),{},{content:deflatedContent||rawContent,isCompressed:deflationPerformed});});return function getDeflatedHeaderAndContent(_x3,_x4){return _ref4.apply(this,arguments);};}();var getHeaderAndContent=(currentFile,offset)=>{var{content}=currentFile;var{content:rawContent}=!content?{content:Uint8Array.from([])}:getDecodedContent(content);var headers=getHeaders(currentFile,false,offset,rawContent.length,rawContent,void 0);return _objectSpread(_objectSpread({},headers),{},{content:rawContent,isCompressed:false});};var buildCentralDirectoryEnd=(tLen,cLen,lLen)=>{var str=\"PK\u0005\u0006\\0\\0\\0\\0\"+convertDecToHex(tLen,2)+// total number of entries in the central folder\nconvertDecToHex(tLen,2)+// total number of entries in the central folder\nconvertDecToHex(cLen,4)+// size of the central folder\nconvertDecToHex(lLen,4)+// central folder start offset\n\"\\0\\0\";return Uint8Array.from(str,c=>c.charCodeAt(0));};// packages/ag-grid-enterprise/src/excelExport/zipContainer/zipContainer.ts\nvar ZipContainer=class{constructor(){this.folders=[];this.files=[];}addFolders(paths){paths.forEach(this.addFolder.bind(this));}addFolder(path){this.folders.push({path,created:/* @__PURE__ */new Date(),isBase64:false,type:\"folder\"});}addFile(path,content){var isBase64=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;this.files.push({path,created:/* @__PURE__ */new Date(),content:isBase64?content:new TextEncoder().encode(content),isBase64,type:\"file\"});}getZipFile(){var _arguments=arguments,_this=this;return _asyncToGenerator(function*(){var mimeType=_arguments.length>0&&_arguments[0]!==undefined?_arguments[0]:\"application/zip\";var textOutput=yield _this.buildCompressedFileStream();_this.clearStream();return new Blob([textOutput],{type:mimeType});})();}getUncompressedZipFile(){var mimeType=arguments.length>0&&arguments[0]!==undefined?arguments[0]:\"application/zip\";var textOutput=this.buildFileStream();this.clearStream();return new Blob([textOutput],{type:mimeType});}clearStream(){this.folders=[];this.files=[];}packageFiles(files){var fileLen=0;var folderLen=0;for(var currentFile of files){var{localFileHeader,centralDirectoryHeader,content}=currentFile;fileLen+=localFileHeader.length+content.length;folderLen+=centralDirectoryHeader.length;}var fileData=new Uint8Array(fileLen);var folderData=new Uint8Array(folderLen);var fileOffset=0;var folderOffset=0;for(var _currentFile of files){var{localFileHeader:_localFileHeader,centralDirectoryHeader:_centralDirectoryHeader,content:_content}=_currentFile;fileData.set(_localFileHeader,fileOffset);fileOffset+=_localFileHeader.length;fileData.set(_content,fileOffset);fileOffset+=_content.length;folderData.set(_centralDirectoryHeader,folderOffset);folderOffset+=_centralDirectoryHeader.length;}var folderEnd=buildCentralDirectoryEnd(files.length,folderLen,fileLen);var result=new Uint8Array(fileData.length+folderData.length+folderEnd.length);result.set(fileData);result.set(folderData,fileData.length);result.set(folderEnd,fileData.length+folderData.length);return result;}buildCompressedFileStream(){var _this2=this;return _asyncToGenerator(function*(){var totalFiles=[..._this2.folders,..._this2.files];var readyFiles=[];var lL=0;for(var currentFile of totalFiles){var output=yield getDeflatedHeaderAndContent(currentFile,lL);var{localFileHeader,content}=output;readyFiles.push(output);lL+=localFileHeader.length+content.length;}return _this2.packageFiles(readyFiles);})();}buildFileStream(){var totalFiles=[...this.folders,...this.files];var readyFiles=[];var lL=0;for(var currentFile of totalFiles){var readyFile=getHeaderAndContent(currentFile,lL);var{localFileHeader,content}=readyFile;readyFiles.push(readyFile);lL+=localFileHeader.length+content.length;}return this.packageFiles(readyFiles);}};// packages/ag-grid-enterprise/src/excelExport/excelCreator.ts\nvar createExcelXMLCoreFolderStructure=zipContainer=>{zipContainer.addFolders([\"_rels/\",\"docProps/\",\"xl/\",\"xl/theme/\",\"xl/_rels/\",\"xl/worksheets/\"]);if(!XLSX_IMAGES.size){return;}zipContainer.addFolders([\"xl/worksheets/_rels\",\"xl/drawings/\",\"xl/drawings/_rels\",\"xl/media/\"]);var imgCounter=0;XLSX_IMAGES.forEach(value=>{var firstImage=value[0].image[0];var{base64,imageType}=firstImage;zipContainer.addFile(\"xl/media/image\".concat(++imgCounter,\".\").concat(_normaliseImageExtension(imageType)),base64,true);});};var createExcelXmlWorksheets=(zipContainer,data)=>{var imageRelationCounter=0;var headerFooterImageCounter=0;for(var i=0;i<data.length;i++){var value=data[i];zipContainer.addFile(\"xl/worksheets/sheet\".concat(i+1,\".xml\"),value,false);var hasImages=XLSX_IMAGES.size>0&&XLSX_WORKSHEET_IMAGES.has(i);var tableData=XLSX_WORKSHEET_DATA_TABLES.size>0&&XLSX_WORKSHEET_DATA_TABLES.get(i);var hasHeaderFooterImages=XLSX_IMAGES.size&&XLSX_WORKSHEET_HEADER_FOOTER_IMAGES.has(i);if(!hasImages&&!tableData&&!hasHeaderFooterImages){continue;}var tableName=void 0;var drawingIndex=void 0;var vmlDrawingIndex=void 0;if(hasImages){createExcelXmlDrawings(zipContainer,i,imageRelationCounter);drawingIndex=imageRelationCounter;imageRelationCounter++;}if(hasHeaderFooterImages){createExcelVmlDrawings(zipContainer,i,headerFooterImageCounter);vmlDrawingIndex=headerFooterImageCounter;headerFooterImageCounter++;}if(tableData){tableName=tableData.name;}var worksheetRelFile=\"xl/worksheets/_rels/sheet\".concat(i+1,\".xml.rels\");zipContainer.addFile(worksheetRelFile,createXlsxRelationships({tableName,drawingIndex,vmlDrawingIndex}));}};var createExcelXmlDrawings=(zipContainer,sheetIndex,drawingIndex)=>{var drawingFolder=\"xl/drawings\";var drawingFileName=\"\".concat(drawingFolder,\"/drawing\").concat(drawingIndex+1,\".xml\");var relFileName=\"\".concat(drawingFolder,\"/_rels/drawing\").concat(drawingIndex+1,\".xml.rels\");zipContainer.addFile(relFileName,createXlsxDrawingRel(sheetIndex));zipContainer.addFile(drawingFileName,createXlsxDrawing(sheetIndex));};var createExcelVmlDrawings=(zipContainer,sheetIndex,drawingIndex)=>{var drawingFolder=\"xl/drawings\";var drawingFileName=\"\".concat(drawingFolder,\"/vmlDrawing\").concat(drawingIndex+1,\".vml\");var relFileName=\"\".concat(drawingFolder,\"/_rels/vmlDrawing\").concat(drawingIndex+1,\".vml.rels\");zipContainer.addFile(drawingFileName,createXlsxVmlDrawing(sheetIndex));zipContainer.addFile(relFileName,createXlsxVmlDrawingRel(sheetIndex));};var createExcelXmlTables=zipContainer=>{var tablesDataByWorksheet=XLSX_WORKSHEET_DATA_TABLES;var worksheetKeys=Array.from(tablesDataByWorksheet.keys());for(var i=0;i<worksheetKeys.length;i++){var sheetIndex=worksheetKeys[i];var table=tablesDataByWorksheet.get(sheetIndex);if(!table){continue;}zipContainer.addFile(\"xl/tables/\".concat(table.name,\".xml\"),createXlsxTable(table,i));}};var createExcelXmlCoreSheets=(zipContainer,fontSize,author,sheetLen,activeTab)=>{zipContainer.addFile(\"xl/workbook.xml\",createXlsxWorkbook(activeTab));zipContainer.addFile(\"xl/styles.xml\",createXlsxStylesheet(fontSize));zipContainer.addFile(\"xl/sharedStrings.xml\",createXlsxSharedStrings());zipContainer.addFile(\"xl/theme/theme1.xml\",createXlsxTheme());zipContainer.addFile(\"xl/_rels/workbook.xml.rels\",createXlsxWorkbookRels(sheetLen));zipContainer.addFile(\"docProps/core.xml\",createXlsxCore(author));zipContainer.addFile(\"[Content_Types].xml\",createXlsxContentTypes(sheetLen));zipContainer.addFile(\"_rels/.rels\",createXlsxRels());};var createExcelFileForExcel=function createExcelFileForExcel(zipContainer,data){var options=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};if(!data||data.length===0){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(159);resetXlsxFactory();return false;}var{fontSize=11,author=\"AG Grid\",activeTab=0}=options;var len=data.length;var activeTabWithinBounds=Math.max(Math.min(activeTab,len-1),0);createExcelXMLCoreFolderStructure(zipContainer);createExcelXmlTables(zipContainer);createExcelXmlWorksheets(zipContainer,data);createExcelXmlCoreSheets(zipContainer,fontSize,author,len,activeTabWithinBounds);resetXlsxFactory();return true;};var getMultipleSheetsAsExcelCompressed=params=>{var{data,fontSize,author,activeSheetIndex}=params;var mimeType=params.mimeType||\"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\";var zipContainer=new ZipContainer();if(!createExcelFileForExcel(zipContainer,data,{author,fontSize,activeTab:activeSheetIndex})){return Promise.resolve(void 0);}return zipContainer.getZipFile(mimeType);};var getMultipleSheetsAsExcel=params=>{var{data,fontSize,author,activeSheetIndex}=params;var mimeType=params.mimeType||\"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\";var zipContainer=new ZipContainer();if(!createExcelFileForExcel(zipContainer,data,{author,fontSize,activeTab:activeSheetIndex})){return;}return zipContainer.getUncompressedZipFile(mimeType);};var exportMultipleSheetsAsExcel=params=>{var{fileName=\"export.xlsx\"}=params;getMultipleSheetsAsExcelCompressed(params).then(contents=>{if(contents){var downloadFileName=typeof fileName===\"function\"?fileName():fileName;(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._downloadFile)(downloadFileName,contents);}});};var ExcelCreator=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BaseCreator{constructor(){super(...arguments);this.beanName=\"excelCreator\";}getMergedParams(params){var baseParams=this.gos.get(\"defaultExcelExportParams\");return Object.assign({},baseParams,params);}export(userParams){if(this.isExportSuppressed()){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(160);return;}var mergedParams=this.getMergedParams(userParams);var data=this.getData(mergedParams);var exportParams={data:[data],fontSize:mergedParams.fontSize,author:mergedParams.author,mimeType:mergedParams.mimeType};this.packageCompressedFile(exportParams).then(packageFile=>{if(packageFile){var{fileName}=mergedParams;var providedFileName=typeof fileName===\"function\"?fileName((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._addGridCommonParams)(this.gos,{})):fileName;(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._downloadFile)(this.getFileName(providedFileName),packageFile);}});}exportDataAsExcel(params){this.export(params);}getDataAsExcel(params){var mergedParams=this.getMergedParams(params);var data=this.getData(mergedParams);var exportParams={data:[data],fontSize:mergedParams.fontSize,author:mergedParams.author,mimeType:mergedParams.mimeType};return this.packageFile(exportParams);}setFactoryMode(factoryMode){setXlsxFactoryMode(factoryMode);}getFactoryMode(){return getXlsxFactoryMode();}getSheetDataForExcel(params){var mergedParams=this.getMergedParams(params);return this.getData(mergedParams);}getMultipleSheetsAsExcel(params){return getMultipleSheetsAsExcel(params);}exportMultipleSheetsAsExcel(params){exportMultipleSheetsAsExcel(params);}getDefaultFileExtension(){return\"xlsx\";}createSerializingSession(params){var _params$rightToLeft;var{colModel,colNames,rowGroupColsSvc,valueSvc,gos}=this.beans;var config=_objectSpread(_objectSpread({},params),{},{colModel,colNames,rowGroupColsSvc,valueSvc,gos,suppressRowOutline:params.suppressRowOutline||params.skipRowGroups,headerRowHeight:params.headerRowHeight||params.rowHeight,baseExcelStyles:gos.get(\"excelStyles\")||[],rightToLeft:(_params$rightToLeft=params.rightToLeft)!==null&&_params$rightToLeft!==void 0?_params$rightToLeft:gos.get(\"enableRtl\"),styleLinker:this.styleLinker.bind(this)});return new ExcelSerializingSession(config);}styleLinker(params){var{rowType,rowIndex,value,column,columnGroup,node}=params;var isHeader=rowType===\"HEADER\";var isGroupHeader=rowType===\"HEADER_GROUPING\";var col=isHeader?column:columnGroup;var headerClasses=[];var{gos,cellStyles}=this.beans;if(isHeader||isGroupHeader){headerClasses.push(\"header\");if(isGroupHeader){headerClasses.push(\"headerGroup\");}if(col){headerClasses=headerClasses.concat((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getHeaderClassesFromColDef)(col.getDefinition(),gos,column||null,columnGroup||null));}return headerClasses;}var styles=gos.get(\"excelStyles\");var applicableStyles=[\"cell\"];if(!styles||!styles.length){return applicableStyles;}var styleIds=styles.map(it=>{return it.id;});var colDef=column.getDefinition();cellStyles===null||cellStyles===void 0||cellStyles.processAllCellClasses(colDef,(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._addGridCommonParams)(gos,{value,data:node.data,node,colDef,column,rowIndex}),className=>{if(styleIds.indexOf(className)>-1){applicableStyles.push(className);}});return applicableStyles.sort((left,right)=>{return styleIds.indexOf(left)<styleIds.indexOf(right)?-1:1;});}isExportSuppressed(){return this.gos.get(\"suppressExcelExport\");}packageCompressedFile(params){return getMultipleSheetsAsExcelCompressed(params);}packageFile(params){return getMultipleSheetsAsExcel(params);}};// packages/ag-grid-enterprise/src/advancedFilter/advancedFilterModule.ts\n// packages/ag-grid-enterprise/src/version.ts\nvar VERSION=\"34.0.2\";// packages/ag-grid-enterprise/src/agGridEnterpriseModule.ts\nvar EnterpriseCoreModule={moduleName:\"EnterpriseCore\",version:VERSION,beans:[GridLicenseManager],icons:{// accordion open (filter tool panel group, charts group)\naccordionOpen:\"tree-open\",// accordion closed (filter tool panel group, charts group)\naccordionClosed:\"tree-closed\",// accordion indeterminate - shown when some children are expanded and\n//     others are collapsed (filter tool panel group, charts group)\naccordionIndeterminate:\"tree-indeterminate\",// dialog title bar\nclose:\"cross\",// X (remove) on column 'pill' after adding it to a drop zone list\ncancel:\"cancel\",// button in chart regular size window title bar (click to maximise)\nmaximize:\"maximize\",// button in chart maximised window title bar (click to make regular size)\nminimize:\"minimize\",// drag handle used to pick up draggable columns\ncolumnDrag:\"grip\"},dependsOn:[]};// packages/ag-grid-enterprise/src/advancedFilter/advanced-filter.css-GENERATED.ts\nvar advancedFilterCSS=/*css*/\".ag-advanced-filter-header{align-items:center;background-color:var(--ag-header-background-color);border-bottom:var(--ag-header-row-border);display:flex;position:relative}.ag-advanced-filter{align-items:center;display:flex;width:100%}.ag-advanced-filter-header-cell{height:100%;padding-left:var(--ag-cell-horizontal-padding);padding-right:var(--ag-cell-horizontal-padding)}.ag-advanced-filter-apply-button,.ag-advanced-filter-builder-button{line-height:normal;white-space:nowrap}:where(.ag-ltr) .ag-advanced-filter-apply-button,:where(.ag-ltr) .ag-advanced-filter-builder-button{margin-left:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-advanced-filter-apply-button,:where(.ag-rtl) .ag-advanced-filter-builder-button{margin-right:calc(var(--ag-spacing)*2)}.ag-advanced-filter-builder-button{align-items:center;background-color:unset;border:0;display:flex;font-size:var(--ag-font-size);font-weight:600;padding:var(--ag-spacing);&:where(:not(:disabled)){cursor:pointer;&:hover{background-color:var(--ag-row-hover-color)}}}:where(.ag-ltr) .ag-advanced-filter-builder-button-label{margin-left:var(--ag-spacing)}:where(.ag-rtl) .ag-advanced-filter-builder-button-label{margin-right:var(--ag-spacing)}.ag-advanced-filter-builder{display:flex;flex-direction:column;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:100%}.ag-advanced-filter-builder-list{flex:1;overflow:auto}.ag-advanced-filter-builder-button-panel{border-top:var(--ag-advanced-filter-builder-button-bar-border);display:flex;justify-content:flex-end;padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}:where(.ag-ltr) .ag-advanced-filter-builder-apply-button,:where(.ag-ltr) .ag-advanced-filter-builder-cancel-button{margin-left:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-advanced-filter-builder-apply-button,:where(.ag-rtl) .ag-advanced-filter-builder-cancel-button{margin-right:calc(var(--ag-spacing)*2)}.ag-advanced-filter-builder-item-wrapper{align-items:center;display:flex;flex:1 1 auto;justify-content:space-between;overflow:hidden}:where(.ag-ltr) .ag-advanced-filter-builder-item-wrapper{padding-left:calc(var(--ag-icon-size)/2);padding-right:var(--ag-icon-size)}:where(.ag-rtl) .ag-advanced-filter-builder-item-wrapper{padding-left:var(--ag-icon-size);padding-right:calc(var(--ag-icon-size)/2)}:where(.ag-virtual-list-viewport .ag-advanced-filter-builder-item-wrapper) .ag-tab-guard{position:absolute}.ag-advanced-filter-builder-item-tree-lines>*{width:var(--ag-advanced-filter-builder-indent-size)}.ag-advanced-filter-builder-item-tree-line-root{width:var(--ag-icon-size);&:before{height:50%;top:50%}}.ag-advanced-filter-builder-item-tree-line-horizontal,.ag-advanced-filter-builder-item-tree-line-vertical,.ag-advanced-filter-builder-item-tree-line-vertical-bottom,.ag-advanced-filter-builder-item-tree-line-vertical-top{align-items:center;display:flex;height:100%;position:relative;&:after,&:before{content:\\\"\\\";height:100%;position:absolute}}.ag-advanced-filter-builder-item-tree-line-horizontal:after{border-bottom:var(--ag-border-width) solid var(--ag-border-color);height:50%;top:0;width:calc(var(--ag-advanced-filter-builder-indent-size) - var(--ag-icon-size))}:where(.ag-ltr) .ag-advanced-filter-builder-item-tree-line-horizontal:after{left:calc(var(--ag-icon-size)/2)}:where(.ag-rtl) .ag-advanced-filter-builder-item-tree-line-horizontal:after{right:calc(var(--ag-icon-size)/2)}.ag-advanced-filter-builder-item-tree-line-vertical:before{top:0;width:calc(var(--ag-advanced-filter-builder-indent-size) - var(--ag-icon-size)/2)}:where(.ag-ltr) .ag-advanced-filter-builder-item-tree-line-vertical:before{border-left:var(--ag-border-width) solid var(--ag-border-color);left:calc(var(--ag-icon-size)/2)}:where(.ag-rtl) .ag-advanced-filter-builder-item-tree-line-vertical:before{border-right:var(--ag-border-width) solid var(--ag-border-color);right:calc(var(--ag-icon-size)/2)}.ag-advanced-filter-builder-item-tree-line-vertical-top:before{height:50%;top:0;width:calc(var(--ag-advanced-filter-builder-indent-size) - var(--ag-icon-size)/2)}:where(.ag-ltr) .ag-advanced-filter-builder-item-tree-line-vertical-top:before{border-left:var(--ag-border-width) solid var(--ag-border-color);left:calc(var(--ag-icon-size)/2)}:where(.ag-rtl) .ag-advanced-filter-builder-item-tree-line-vertical-top:before{border-right:var(--ag-border-width) solid var(--ag-border-color);right:calc(var(--ag-icon-size)/2)}.ag-advanced-filter-builder-item-tree-line-vertical-bottom:before{height:calc(50% - var(--ag-icon-size)*1.5/2);top:calc(50% + var(--ag-icon-size)*1.5/2);width:calc(var(--ag-icon-size)/2)}:where(.ag-ltr) .ag-advanced-filter-builder-item-tree-line-vertical-bottom:before{border-left:var(--ag-border-width) solid var(--ag-border-color);left:calc(var(--ag-icon-size)/2)}:where(.ag-rtl) .ag-advanced-filter-builder-item-tree-line-vertical-bottom:before{border-right:var(--ag-border-width) solid var(--ag-border-color);right:calc(var(--ag-icon-size)/2)}.ag-advanced-filter-builder-item-condition{padding-bottom:var(--ag-spacing);padding-top:var(--ag-spacing)}.ag-advanced-filter-builder-item,.ag-advanced-filter-builder-item-buttons,.ag-advanced-filter-builder-item-condition,.ag-advanced-filter-builder-item-tree-lines,.ag-advanced-filter-builder-pill,.ag-advanced-filter-builder-pill-wrapper{align-items:center;display:flex;height:100%}.ag-advanced-filter-builder-pill-wrapper{margin:0 var(--ag-spacing)}.ag-advanced-filter-builder-pill{border-radius:var(--ag-border-radius);min-height:calc(100% - var(--ag-spacing)*3);min-width:calc(var(--ag-spacing)*2);padding:var(--ag-spacing) calc(var(--ag-spacing)*2);position:relative}:where(.ag-advanced-filter-builder-pill){.ag-advanced-filter-builder-value-number{font-family:monospace;font-weight:700}.ag-advanced-filter-builder-value-empty{color:var(--ag-subtle-text-color)}}:where(.ag-ltr) :where(.ag-advanced-filter-builder-pill){.ag-picker-field-display{margin-right:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-advanced-filter-builder-pill){.ag-picker-field-display{margin-left:var(--ag-spacing)}}.ag-advanced-filter-builder-pill-display{font-weight:500;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ag-advanced-filter-builder-join-pill{background-color:var(--ag-advanced-filter-builder-join-pill-color);cursor:pointer}.ag-advanced-filter-builder-column-pill{background-color:var(--ag-advanced-filter-builder-column-pill-color);cursor:pointer}.ag-advanced-filter-builder-option-pill{background-color:var(--ag-advanced-filter-builder-option-pill-color);cursor:pointer}.ag-advanced-filter-builder-value-pill{background-color:var(--ag-advanced-filter-builder-value-pill-color);cursor:text;max-width:140px;:where(.ag-advanced-filter-builder-pill-display){display:block}}.ag-advanced-filter-builder-item-buttons>*{margin:0 calc(var(--ag-spacing)*.5)}.ag-advanced-filter-builder-item-button{color:var(--ag-subtle-text-color);cursor:pointer;position:relative}.ag-advanced-filter-builder-item-button,.ag-advanced-filter-builder-pill{&:focus-visible{box-shadow:var(--ag-focus-shadow)}}.ag-advanced-filter-builder-item-button-disabled{cursor:default;opacity:.5}.ag-advanced-filter-builder-virtual-list-container{top:var(--ag-spacing)}.ag-advanced-filter-builder-virtual-list-item{cursor:default;display:flex;height:var(--ag-list-item-height);&:hover{background-color:var(--ag-row-hover-color);:where(.ag-advanced-filter-builder-item-button){opacity:1}}}.ag-advanced-filter-builder-invalid{color:var(--ag-invalid-color);cursor:default;margin:0 var(--ag-spacing)}:where(.ag-advanced-filter-builder-validation) .ag-advanced-filter-builder-invalid,:where(.ag-advanced-filter-builder-virtual-list-item-highlight) .ag-advanced-filter-builder-item-button:focus-visible{opacity:1}\";// packages/ag-grid-enterprise/src/advancedFilter/advancedFilterApi.ts\nfunction getAdvancedFilterModel(beans){var _beans$filterManager$,_beans$filterManager;return(_beans$filterManager$=(_beans$filterManager=beans.filterManager)===null||_beans$filterManager===void 0?void 0:_beans$filterManager.getAdvFilterModel())!==null&&_beans$filterManager$!==void 0?_beans$filterManager$:null;}function setAdvancedFilterModel(beans,advancedFilterModel){var _beans$filterManager2;(_beans$filterManager2=beans.filterManager)===null||_beans$filterManager2===void 0||_beans$filterManager2.setAdvFilterModel(advancedFilterModel);}function showAdvancedFilterBuilder(beans){var _beans$filterManager3;(_beans$filterManager3=beans.filterManager)===null||_beans$filterManager3===void 0||_beans$filterManager3.toggleAdvFilterBuilder(true,\"api\");}function hideAdvancedFilterBuilder(beans){var _beans$filterManager4;(_beans$filterManager4=beans.filterManager)===null||_beans$filterManager4===void 0||_beans$filterManager4.toggleAdvFilterBuilder(false,\"api\");}// packages/ag-grid-enterprise/src/advancedFilter/advancedFilterExpressionService.ts\n// packages/ag-grid-enterprise/src/advancedFilter/advancedFilterLocaleText.ts\nvar ADVANCED_FILTER_LOCALE_TEXT={ariaAdvancedFilterBuilderItem:variableValues=>\"\".concat(variableValues[0],\". Level \").concat(variableValues[1],\". Press ENTER to edit\"),ariaAdvancedFilterBuilderItemValidation:variableValues=>\"\".concat(variableValues[0],\". Level \").concat(variableValues[1],\". \").concat(variableValues[2],\" Press ENTER to edit\"),ariaAdvancedFilterBuilderList:\"Advanced Filter Builder List\",ariaAdvancedFilterBuilderFilterItem:\"Filter Condition\",ariaAdvancedFilterBuilderGroupItem:\"Filter Group\",ariaAdvancedFilterBuilderColumn:\"Column\",ariaAdvancedFilterBuilderOption:\"Option\",ariaAdvancedFilterBuilderValue:\"Value\",ariaAdvancedFilterBuilderJoinOperator:\"Join Operator\",ariaAdvancedFilterInput:\"Advanced Filter Input\",ariaLabelAdvancedFilterAutocomplete:\"Advanced Filter Autocomplete\",advancedFilterContains:\"contains\",advancedFilterNotContains:\"does not contain\",advancedFilterTextEquals:\"equals\",advancedFilterTextNotEqual:\"does not equal\",advancedFilterStartsWith:\"begins with\",advancedFilterEndsWith:\"ends with\",advancedFilterBlank:\"is blank\",advancedFilterNotBlank:\"is not blank\",advancedFilterEquals:\"=\",advancedFilterNotEqual:\"!=\",advancedFilterGreaterThan:\">\",advancedFilterGreaterThanOrEqual:\">=\",advancedFilterLessThan:\"<\",advancedFilterLessThanOrEqual:\"<=\",advancedFilterTrue:\"is true\",advancedFilterFalse:\"is false\",advancedFilterAnd:\"AND\",advancedFilterOr:\"OR\",advancedFilterApply:\"Apply\",advancedFilterBuilder:\"Builder\",advancedFilterValidationMissingColumn:\"Column is missing\",advancedFilterValidationMissingOption:\"Option is missing\",advancedFilterValidationMissingValue:\"Value is missing\",advancedFilterValidationInvalidColumn:\"Column not found\",advancedFilterValidationInvalidOption:\"Option not found\",advancedFilterValidationMissingQuote:\"Value is missing an end quote\",advancedFilterValidationNotANumber:\"Value is not a number\",advancedFilterValidationInvalidDate:\"Value is not a valid date\",advancedFilterValidationMissingCondition:\"Condition is missing\",advancedFilterValidationJoinOperatorMismatch:\"Join operators within a condition must be the same\",advancedFilterValidationInvalidJoinOperator:\"Join operator not found\",advancedFilterValidationMissingEndBracket:\"Missing end bracket\",advancedFilterValidationExtraEndBracket:\"Too many end brackets\",advancedFilterValidationMessage:variableValues=>\"Expression has an error. \".concat(variableValues[0],\" - \").concat(variableValues[1],\".\"),advancedFilterValidationMessageAtEnd:variableValues=>\"Expression has an error. \".concat(variableValues[0],\" at end of expression.\"),advancedFilterBuilderTitle:\"Advanced Filter\",advancedFilterBuilderApply:\"Apply\",advancedFilterBuilderCancel:\"Cancel\",advancedFilterBuilderAddButtonTooltip:\"Add Filter or Group\",advancedFilterBuilderRemoveButtonTooltip:\"Remove\",advancedFilterBuilderMoveUpButtonTooltip:\"Move Up\",advancedFilterBuilderMoveDownButtonTooltip:\"Move Down\",advancedFilterBuilderAddJoin:\"Add Group\",advancedFilterBuilderAddCondition:\"Add Filter\",advancedFilterBuilderSelectColumn:\"Select a column\",advancedFilterBuilderSelectOption:\"Select an option\",advancedFilterBuilderEnterValue:\"Enter a value...\",advancedFilterBuilderValidationAlreadyApplied:\"Current filter already applied.\",advancedFilterBuilderValidationIncomplete:\"Not all conditions are complete.\",advancedFilterBuilderValidationSelectColumn:\"Must select a column.\",advancedFilterBuilderValidationSelectOption:\"Must select an option.\",advancedFilterBuilderValidationEnterValue:\"Must enter a value.\"};// packages/ag-grid-enterprise/src/advancedFilter/filterExpressionUtils.ts\nfunction getSearchString(value,position,endPosition){if(!value){return\"\";}var numChars=endPosition-position;return numChars?value.slice(0,value.length-numChars):value;}function updateExpression(expression,startPosition,endPosition,updatedValuePart,appendSpace,appendQuote,empty){var secondPartStartPosition=endPosition+(!expression.length||empty?0:1);var positionOffset=0;if(appendSpace){if(expression[secondPartStartPosition]===\" \"){positionOffset=1;}else{updatedValuePart+=\" \";if(appendQuote){updatedValuePart+=\"\\\"\";}}}var updatedValue=expression.slice(0,startPosition)+updatedValuePart+expression.slice(secondPartStartPosition);return{updatedValue,updatedPosition:startPosition+updatedValuePart.length+positionOffset};}function findStartPosition(expression,position,endPosition){var startPosition=position;while(startPosition<endPosition){var char=expression[startPosition];if(char!==\" \"){break;}startPosition++;}return startPosition;}function findEndPosition(expression,position,includeCloseBracket,isStartPositionUnknown){var endPosition=position;var isEmpty=false;while(endPosition<expression.length){var char=expression[endPosition];if(char===\"(\"){if(isStartPositionUnknown&&expression[endPosition-1]===\" \"){isEmpty=true;}else{endPosition=endPosition-1;}break;}else if(char===\" \"||includeCloseBracket&&char===\")\"){endPosition=endPosition-1;break;}endPosition++;}return{endPosition,isEmpty};}function checkAndUpdateExpression(params,userValue,displayValue,endPosition){if(displayValue!==userValue){params.expression=updateExpression(params.expression,endPosition-userValue.length+1,endPosition,displayValue).updatedValue;}}// packages/ag-grid-enterprise/src/advancedFilter/colFilterExpressionParser.ts\nvar ColumnParser=class{constructor(params,startPosition){this.params=params;this.startPosition=startPosition;this.type=\"column\";this.valid=true;this.hasStartChar=false;this.hasEndChar=false;this.colName=\"\";}parse(char,position){if(char===COL_FILTER_EXPRESSION_START_CHAR&&!this.colName){this.hasStartChar=true;}else if(char===COL_FILTER_EXPRESSION_END_CHAR&&this.hasStartChar){var isMatch=this.parseColumn(false,position);if(isMatch){this.hasEndChar=true;return false;}else{this.colName+=char;}}else{this.colName+=char;}return void 0;}getDisplayValue(){return(this.hasStartChar?COL_FILTER_EXPRESSION_START_CHAR:\"\")+this.colName+(this.hasEndChar?COL_FILTER_EXPRESSION_END_CHAR:\"\");}getColId(){return this.colId;}complete(position){this.parseColumn(true,position);}getValidationError(){var _this$endPosition;return this.valid?null:{message:this.params.advFilterExpSvc.translate(\"advancedFilterValidationInvalidColumn\"),startPosition:this.startPosition,endPosition:(_this$endPosition=this.endPosition)!==null&&_this$endPosition!==void 0?_this$endPosition:this.params.expression.length-1};}parseColumn(fromComplete,endPosition){this.endPosition=endPosition;var colValue=this.params.advFilterExpSvc.getColId(this.colName);if(colValue&&this.hasStartChar){this.colId=colValue.colId;checkAndUpdateExpression(this.params,this.colName,colValue.columnName,endPosition-1);this.colName=colValue.columnName;this.column=this.params.colModel.getColDefCol(this.colId);if(this.column){var _this$params$dataType,_this$params$dataType2;this.baseCellDataType=(_this$params$dataType=(_this$params$dataType2=this.params.dataTypeSvc)===null||_this$params$dataType2===void 0?void 0:_this$params$dataType2.getBaseDataType(this.column))!==null&&_this$params$dataType!==void 0?_this$params$dataType:\"text\";return true;}}if(fromComplete){this.valid=false;}this.baseCellDataType=\"text\";return false;}};var OperatorParser=class{constructor(params,startPosition,baseCellDataType){this.params=params;this.startPosition=startPosition;this.baseCellDataType=baseCellDataType;this.type=\"operator\";this.valid=true;this.expectedNumOperands=0;this.operator=\"\";}parse(char,position){if(char===\" \"||char===\")\"){var isMatch=this.parseOperator(false,position-1);if(isMatch){return true;}else{this.operator+=char;}}else{this.operator+=char;}return void 0;}complete(position){this.parseOperator(true,position);}getValidationError(){var _this$endPosition2;return this.valid?null:{message:this.params.advFilterExpSvc.translate(\"advancedFilterValidationInvalidOption\"),startPosition:this.startPosition,endPosition:(_this$endPosition2=this.endPosition)!==null&&_this$endPosition2!==void 0?_this$endPosition2:this.params.expression.length-1};}getDisplayValue(){return this.operator;}getOperatorKey(){return this.parsedOperator;}parseOperator(fromComplete,endPosition){var operatorForType=this.params.advFilterExpSvc.getDataTypeExpressionOperator(this.baseCellDataType);var parsedOperator=operatorForType.findOperator(this.operator);this.endPosition=endPosition;if(parsedOperator){this.parsedOperator=parsedOperator;var operator=operatorForType.operators[parsedOperator];this.expectedNumOperands=operator.numOperands;var operatorDisplayValue=operator.displayValue;checkAndUpdateExpression(this.params,this.operator,operatorDisplayValue,endPosition);this.operator=operatorDisplayValue;return true;}var isPartialMatch=parsedOperator===null;if(fromComplete||!isPartialMatch){this.valid=false;}return false;}};var OperandParser=class{constructor(params,startPosition,baseCellDataType,column){var _this3=this;this.params=params;this.startPosition=startPosition;this.baseCellDataType=baseCellDataType;this.column=column;this.type=\"operand\";this.valid=true;this.operand=\"\";this.validationMessage=null;this.filterValidationSetters={number:()=>{if(this.quotes||isNaN(this.modelValue)){this.valid=false;this.validationMessage=this.params.advFilterExpSvc.translate(\"advancedFilterValidationNotANumber\");}},date:modelValue=>{if(modelValue==null){this.valid=false;this.validationMessage=this.params.advFilterExpSvc.translate(\"advancedFilterValidationInvalidDate\");}},dateString:function dateString(){return _this3.filterValidationSetters.date(...arguments);},dateTime:function dateTime(){return _this3.filterValidationSetters.date(...arguments);},dateTimeString:function dateTimeString(){return _this3.filterValidationSetters.date(...arguments);},boolean(){},object(){},text(){}};}parse(char,position){if(char===\" \"){if(this.quotes){this.operand+=char;}else{this.parseOperand(false,position);return true;}}else if(char===\")\"){if(this.baseCellDataType===\"number\"||!this.quotes){this.parseOperand(false,position-1);return true;}else{this.operand+=char;}}else if(!this.operand&&!this.quotes&&(char===\"'\"||char===\"\\\"\")){this.quotes=char;}else if(this.quotes&&char===this.quotes){this.parseOperand(false,position);return false;}else{this.operand+=char;}return void 0;}complete(position){this.parseOperand(true,position);}getValidationError(){var _this$endPosition3;return this.validationMessage?{message:this.validationMessage,startPosition:this.startPosition,endPosition:(_this$endPosition3=this.endPosition)!==null&&_this$endPosition3!==void 0?_this$endPosition3:this.params.expression.length-1}:null;}getRawValue(){return this.operand;}getModelValue(){return this.modelValue;}parseOperand(fromComplete,position){var{advFilterExpSvc}=this.params;this.endPosition=position;this.modelValue=this.operand;if(fromComplete&&this.quotes){this.valid=false;this.validationMessage=advFilterExpSvc.translate(\"advancedFilterValidationMissingQuote\");}else if(this.modelValue===\"\"){this.valid=false;this.validationMessage=advFilterExpSvc.translate(\"advancedFilterValidationMissingValue\");}else{var modelValue=advFilterExpSvc.getOperandModelValue(this.operand,this.baseCellDataType,this.column);if(modelValue!=null){this.modelValue=modelValue;}this.filterValidationSetters[this.baseCellDataType](modelValue);}}};var COL_FILTER_EXPRESSION_START_CHAR=\"[\";var COL_FILTER_EXPRESSION_END_CHAR=\"]\";var ColFilterExpressionParser=class{constructor(params,startPosition){var _this4=this;this.params=params;this.startPosition=startPosition;this.isAwaiting=true;this.operandValueGetters={number:Number,date:operand=>this.params.valueSvc.parseValue(this.columnParser.column,null,operand,void 0),dateString:function dateString(){return _this4.operandValueGetters.date(...arguments);},dateTime:function dateTime(){return _this4.operandValueGetters.date(...arguments);},dateTimeString:function dateTimeString(){return _this4.operandValueGetters.date(...arguments);},boolean:operand=>operand,object:operand=>operand,text:operand=>operand};}parseExpression(){var _this$parser,_this$parser$complete;var i=this.startPosition;var{expression}=this.params;while(i<expression.length){var char=expression[i];if(char===\" \"&&this.isAwaiting){}else{this.isAwaiting=false;if(!this.parser){var parser=void 0;if(!this.columnParser){this.columnParser=new ColumnParser(this.params,i);parser=this.columnParser;}else if(!this.operatorParser){this.operatorParser=new OperatorParser(this.params,i,this.columnParser.baseCellDataType);parser=this.operatorParser;}else{this.operandParser=new OperandParser(this.params,i,this.columnParser.baseCellDataType,this.columnParser.column);parser=this.operandParser;}this.parser=parser;}var hasCompletedOnPrevChar=this.parser.parse(char,i);if(hasCompletedOnPrevChar!=null){if(this.isComplete()){return this.returnEndPosition(hasCompletedOnPrevChar?i-1:i,true);}this.parser=void 0;this.isAwaiting=true;}}i++;}(_this$parser=this.parser)===null||_this$parser===void 0||(_this$parser$complete=_this$parser.complete)===null||_this$parser$complete===void 0||_this$parser$complete.call(_this$parser,i-1);return this.returnEndPosition(i);}isValid(){return this.isComplete()&&this.columnParser.valid&&this.operatorParser.valid&&(!this.operandParser||this.operandParser.valid);}getValidationError(){var _ref5,_this$columnParser$ge,_this$columnParser,_this$operatorParser,_this$operandParser;var validationError=(_ref5=(_this$columnParser$ge=(_this$columnParser=this.columnParser)===null||_this$columnParser===void 0?void 0:_this$columnParser.getValidationError())!==null&&_this$columnParser$ge!==void 0?_this$columnParser$ge:(_this$operatorParser=this.operatorParser)===null||_this$operatorParser===void 0?void 0:_this$operatorParser.getValidationError())!==null&&_ref5!==void 0?_ref5:(_this$operandParser=this.operandParser)===null||_this$operandParser===void 0?void 0:_this$operandParser.getValidationError();if(validationError){return validationError;}var endPosition=this.params.expression.length;var translateKey;if(!this.columnParser){translateKey=\"advancedFilterValidationMissingColumn\";}else if(!this.operatorParser){translateKey=\"advancedFilterValidationMissingOption\";}else if(this.operatorParser.expectedNumOperands&&!this.operandParser){translateKey=\"advancedFilterValidationMissingValue\";}if(translateKey){return{message:this.params.advFilterExpSvc.translate(translateKey),startPosition:endPosition,endPosition};}return null;}getFunction(params){return this.getFunctionCommon(params,(operandIndex,operatorIndex,colId,evaluatorParamsIndex)=>{return(expressionProxy,node,p)=>p.operators[operatorIndex].evaluator(expressionProxy.getValue(colId,node),node,p.evaluatorParams[evaluatorParamsIndex],operandIndex==null?void 0:p.operands[operandIndex]);});}getAutocompleteListParams(position){if(this.isColumnPosition(position)){return this.getColumnAutocompleteListParams(position);}if(this.isOperatorPosition(position)){return this.getOperatorAutocompleteListParams(position);}if(this.isBeyondEndPosition(position)){return void 0;}return{enabled:false};}updateExpression(position,updateEntry,type){var{expression}=this.params;if(this.isColumnPosition(position)){var _this$columnParser2;return updateExpression(this.params.expression,this.startPosition,(_this$columnParser2=this.columnParser)!==null&&_this$columnParser2!==void 0&&_this$columnParser2.getColId()?this.columnParser.endPosition:findEndPosition(expression,position).endPosition,this.params.advFilterExpSvc.getColumnValue(updateEntry),true);}else if(this.isOperatorPosition(position)){var _this$operatorParser2;var baseCellDataType=this.getBaseCellDataTypeFromOperatorAutocompleteType(type);var hasOperand=this.hasOperand(baseCellDataType,updateEntry.key);var doesOperandNeedQuotes=hasOperand&&this.doesOperandNeedQuotes(baseCellDataType);var update;if(((_this$operatorParser2=this.operatorParser)===null||_this$operatorParser2===void 0?void 0:_this$operatorParser2.startPosition)!=null&&position<this.operatorParser.startPosition){var _updateEntry$displayV;update=updateExpression(expression,position,position,(_updateEntry$displayV=updateEntry.displayValue)!==null&&_updateEntry$displayV!==void 0?_updateEntry$displayV:updateEntry.key,hasOperand,doesOperandNeedQuotes);}else{var _this$operatorParser3,_updateEntry$displayV2;var endPosition;var empty=false;if((_this$operatorParser3=this.operatorParser)!==null&&_this$operatorParser3!==void 0&&_this$operatorParser3.getOperatorKey()){endPosition=this.operatorParser.endPosition;}else{var{endPosition:calculatedEndPosition,isEmpty}=findEndPosition(expression,position,true,true);endPosition=calculatedEndPosition;empty=isEmpty;}update=updateExpression(expression,findStartPosition(expression,this.columnParser.endPosition+1,endPosition),endPosition,(_updateEntry$displayV2=updateEntry.displayValue)!==null&&_updateEntry$displayV2!==void 0?_updateEntry$displayV2:updateEntry.key,hasOperand,doesOperandNeedQuotes,empty);}return _objectSpread(_objectSpread({},update),{},{hideAutocomplete:!hasOperand});}return null;}getModel(){var colId=this.columnParser.getColId();var model={filterType:this.columnParser.baseCellDataType,colId,type:this.operatorParser.getOperatorKey()};if(this.operatorParser.expectedNumOperands){model.filter=this.operandParser.getModelValue();}return model;}getFunctionCommon(params,processFunc){var _this$operatorParser4,_this$operatorParser5;var colId=this.columnParser.getColId();var operator=(_this$operatorParser4=this.operatorParser)===null||_this$operatorParser4===void 0?void 0:_this$operatorParser4.getOperatorKey();var{operators,evaluatorParams,operands}=params;var operatorForColumn=this.params.advFilterExpSvc.getExpressionOperator(this.columnParser.baseCellDataType,operator);var operatorIndex=this.addToListAndGetIndex(operators,operatorForColumn);var evaluatorParamsForColumn=this.params.advFilterExpSvc.getExpressionEvaluatorParams(colId);var evaluatorParamsIndex=this.addToListAndGetIndex(evaluatorParams,evaluatorParamsForColumn);var operandIndex=((_this$operatorParser5=this.operatorParser)===null||_this$operatorParser5===void 0?void 0:_this$operatorParser5.expectedNumOperands)===0?void 0:this.addToListAndGetIndex(operands,this.getOperandValue());return processFunc(operandIndex,operatorIndex,colId,evaluatorParamsIndex);}getOperandValue(){var{baseCellDataType,column}=this.columnParser;var operand=this.operandValueGetters[baseCellDataType](this.operandParser.getRawValue());if(baseCellDataType===\"dateString\"||baseCellDataType===\"dateTimeString\"){var _this$params$dataType3,_this$params$dataType4;return(_this$params$dataType3=(_this$params$dataType4=this.params.dataTypeSvc)===null||_this$params$dataType4===void 0?void 0:_this$params$dataType4.getDateParserFunction(column)(operand))!==null&&_this$params$dataType3!==void 0?_this$params$dataType3:operand;}return operand;}isComplete(){return!!(this.operatorParser&&(!this.operatorParser.expectedNumOperands||this.operatorParser.expectedNumOperands&&this.operandParser));}isColumnPosition(position){return!this.columnParser||this.columnParser.endPosition==null||position<=this.columnParser.endPosition+1;}isOperatorPosition(position){return!this.operatorParser||this.operatorParser.endPosition==null||position<=this.operatorParser.endPosition+1;}isBeyondEndPosition(position){return this.isComplete()&&this.endPosition!=null&&position>this.endPosition+1&&this.endPosition+1<this.params.expression.length;}returnEndPosition(returnPosition,treatAsEnd){this.endPosition=treatAsEnd?returnPosition:returnPosition-1;return returnPosition;}getColumnAutocompleteListParams(position){return this.params.advFilterExpSvc.generateAutocompleteListParams(this.params.advFilterExpSvc.getColumnAutocompleteEntries(),\"column\",this.getColumnSearchString(position));}getColumnSearchString(position){var _this$columnParser$ge2,_this$columnParser3,_this$columnParser4,_this$columnParser5,_this$columnParser6;var columnName=(_this$columnParser$ge2=(_this$columnParser3=this.columnParser)===null||_this$columnParser3===void 0?void 0:_this$columnParser3.getDisplayValue())!==null&&_this$columnParser$ge2!==void 0?_this$columnParser$ge2:\"\";var searchString=getSearchString(columnName,position,((_this$columnParser4=this.columnParser)===null||_this$columnParser4===void 0?void 0:_this$columnParser4.endPosition)==null?this.params.expression.length:this.columnParser.endPosition+1);var containsStartChar=((_this$columnParser5=this.columnParser)===null||_this$columnParser5===void 0?void 0:_this$columnParser5.hasStartChar)&&searchString.length>0;var containsEndChar=((_this$columnParser6=this.columnParser)===null||_this$columnParser6===void 0?void 0:_this$columnParser6.hasEndChar)&&searchString.length===columnName.length+2;if(containsStartChar){return searchString.slice(1,containsEndChar?-1:void 0);}return searchString;}getOperatorAutocompleteListParams(position){var _this$columnParser7,_this$operatorParser6,_this$operatorParser$,_this$operatorParser7,_this$operatorParser8;var column=(_this$columnParser7=this.columnParser)===null||_this$columnParser7===void 0?void 0:_this$columnParser7.column;if(!column){return{enabled:false};}var baseCellDataType=this.columnParser.baseCellDataType;var searchString=((_this$operatorParser6=this.operatorParser)===null||_this$operatorParser6===void 0?void 0:_this$operatorParser6.startPosition)!=null&&position<this.operatorParser.startPosition?\"\":getSearchString((_this$operatorParser$=(_this$operatorParser7=this.operatorParser)===null||_this$operatorParser7===void 0?void 0:_this$operatorParser7.getDisplayValue())!==null&&_this$operatorParser$!==void 0?_this$operatorParser$:\"\",position,((_this$operatorParser8=this.operatorParser)===null||_this$operatorParser8===void 0?void 0:_this$operatorParser8.endPosition)==null?this.params.expression.length:this.operatorParser.endPosition+1);return this.params.advFilterExpSvc.generateAutocompleteListParams(this.params.advFilterExpSvc.getOperatorAutocompleteEntries(column,baseCellDataType),\"operator-\".concat(baseCellDataType),searchString);}getBaseCellDataTypeFromOperatorAutocompleteType(type){return type===null||type===void 0?void 0:type.replace(\"operator-\",\"\");}hasOperand(baseCellDataType,operator){var _this$params$advFilte,_this$params$advFilte2;return!baseCellDataType||!operator||((_this$params$advFilte=(_this$params$advFilte2=this.params.advFilterExpSvc.getExpressionOperator(baseCellDataType,operator))===null||_this$params$advFilte2===void 0?void 0:_this$params$advFilte2.numOperands)!==null&&_this$params$advFilte!==void 0?_this$params$advFilte:0)>0;}doesOperandNeedQuotes(baseCellDataType){return baseCellDataType!==\"number\";}addToListAndGetIndex(list,value){var index=list.length;list.push(value);return index;}};// packages/ag-grid-enterprise/src/advancedFilter/filterExpressionOperators.ts\nfunction findMatch(searchValue,values,getDisplayValue){var partialMatch=false;var searchValueLowerCase=searchValue.toLocaleLowerCase();var partialSearchValue=searchValueLowerCase+\" \";var parsedValue=Object.keys(values).find(key=>{var value=values[key];var displayValueLowerCase=getDisplayValue(value).toLocaleLowerCase();if(displayValueLowerCase.startsWith(partialSearchValue)){partialMatch=true;}return displayValueLowerCase===searchValueLowerCase;});if(parsedValue){return parsedValue;}else if(partialMatch){return null;}else{return void 0;}}function getEntries(operators,activeOperatorKeys){var keys=activeOperatorKeys!==null&&activeOperatorKeys!==void 0?activeOperatorKeys:Object.keys(operators);return keys.map(key=>({key,displayValue:operators[key].displayValue}));}var TextFilterExpressionOperators=class{constructor(params){this.params=params;this.initOperators();}getEntries(activeOperators){return getEntries(this.operators,activeOperators);}findOperator(displayValue){return findMatch(displayValue,this.operators,_ref6=>{var{displayValue:displayValue2}=_ref6;return displayValue2;});}initOperators(){var{translate}=this.params;this.operators={contains:{displayValue:translate(\"advancedFilterContains\"),evaluator:(value,node,params,operand1)=>this.evaluateExpression(value,node,params,operand1,false,(v,o)=>v.includes(o)),numOperands:1},notContains:{displayValue:translate(\"advancedFilterNotContains\"),evaluator:(value,node,params,operand1)=>this.evaluateExpression(value,node,params,operand1,true,(v,o)=>!v.includes(o)),numOperands:1},equals:{displayValue:translate(\"advancedFilterTextEquals\"),evaluator:(value,node,params,operand1)=>this.evaluateExpression(value,node,params,operand1,false,(v,o)=>v===o),numOperands:1},notEqual:{displayValue:translate(\"advancedFilterTextNotEqual\"),evaluator:(value,node,params,operand1)=>this.evaluateExpression(value,node,params,operand1,true,(v,o)=>v!=o),numOperands:1},startsWith:{displayValue:translate(\"advancedFilterStartsWith\"),evaluator:(value,node,params,operand1)=>this.evaluateExpression(value,node,params,operand1,false,(v,o)=>v.startsWith(o)),numOperands:1},endsWith:{displayValue:translate(\"advancedFilterEndsWith\"),evaluator:(value,node,params,operand1)=>this.evaluateExpression(value,node,params,operand1,false,(v,o)=>v.endsWith(o)),numOperands:1},blank:{displayValue:translate(\"advancedFilterBlank\"),evaluator:value=>value==null||typeof value===\"string\"&&value.trim().length===0,numOperands:0},notBlank:{displayValue:translate(\"advancedFilterNotBlank\"),evaluator:value=>value!=null&&(typeof value!==\"string\"||value.trim().length>0),numOperands:0}};}evaluateExpression(value,node,params,operand,nullsMatch,expression){if(value==null){return nullsMatch;}return params.caseSensitive?expression(params.valueConverter(value,node),operand):expression(params.valueConverter(value,node).toLocaleLowerCase(),operand.toLocaleLowerCase());}};var ScalarFilterExpressionOperators=class{constructor(params){this.params=params;this.initOperators();}getEntries(activeOperators){return getEntries(this.operators,activeOperators);}findOperator(displayValue){return findMatch(displayValue,this.operators,_ref7=>{var{displayValue:displayValue2}=_ref7;return displayValue2;});}initOperators(){var{translate,equals}=this.params;this.operators={equals:{displayValue:translate(\"advancedFilterEquals\"),evaluator:(value,node,params,operand1)=>this.evaluateSingleOperandExpression(value,node,params,operand1,!!params.includeBlanksInEquals,equals),numOperands:1},notEqual:{displayValue:translate(\"advancedFilterNotEqual\"),evaluator:(value,node,params,operand1)=>this.evaluateSingleOperandExpression(value,node,params,operand1,!!params.includeBlanksInEquals,(v,o)=>!equals(v,o)),numOperands:1},greaterThan:{displayValue:translate(\"advancedFilterGreaterThan\"),evaluator:(value,node,params,operand1)=>this.evaluateSingleOperandExpression(value,node,params,operand1,!!params.includeBlanksInGreaterThan,(v,o)=>v>o),numOperands:1},greaterThanOrEqual:{displayValue:translate(\"advancedFilterGreaterThanOrEqual\"),evaluator:(value,node,params,operand1)=>this.evaluateSingleOperandExpression(value,node,params,operand1,!!params.includeBlanksInGreaterThan,(v,o)=>v>=o),numOperands:1},lessThan:{displayValue:translate(\"advancedFilterLessThan\"),evaluator:(value,node,params,operand1)=>this.evaluateSingleOperandExpression(value,node,params,operand1,!!params.includeBlanksInLessThan,(v,o)=>v<o),numOperands:1},lessThanOrEqual:{displayValue:translate(\"advancedFilterLessThanOrEqual\"),evaluator:(value,node,params,operand1)=>this.evaluateSingleOperandExpression(value,node,params,operand1,!!params.includeBlanksInLessThan,(v,o)=>v<=o),numOperands:1},blank:{displayValue:translate(\"advancedFilterBlank\"),evaluator:value=>value==null,numOperands:0},notBlank:{displayValue:translate(\"advancedFilterNotBlank\"),evaluator:value=>value!=null,numOperands:0}};}evaluateSingleOperandExpression(value,node,params,operand,nullsMatch,expression){if(value==null){return nullsMatch;}return expression(params.valueConverter(value,node),operand);}};var BooleanFilterExpressionOperators=class{constructor(params){this.params=params;this.initOperators();}getEntries(activeOperators){return getEntries(this.operators,activeOperators);}findOperator(displayValue){return findMatch(displayValue,this.operators,_ref8=>{var{displayValue:displayValue2}=_ref8;return displayValue2;});}initOperators(){var{translate}=this.params;this.operators={true:{displayValue:translate(\"advancedFilterTrue\"),evaluator:value=>!!value,numOperands:0},false:{displayValue:translate(\"advancedFilterFalse\"),evaluator:value=>value===false,numOperands:0},blank:{displayValue:translate(\"advancedFilterBlank\"),evaluator:value=>value==null,numOperands:0},notBlank:{displayValue:translate(\"advancedFilterNotBlank\"),evaluator:value=>value!=null,numOperands:0}};}};// packages/ag-grid-enterprise/src/advancedFilter/advancedFilterExpressionService.ts\nvar AdvancedFilterExpressionService=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BeanStub{constructor(){var _this5;super(...arguments);_this5=this;this.beanName=\"advFilterExpSvc\";this.filterOperandGetters={number:model=>{var _toStringOrNull7;return(_toStringOrNull7=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._toStringOrNull)(model.filter))!==null&&_toStringOrNull7!==void 0?_toStringOrNull7:\"\";},date:model=>{var column=this.colModel.getColDefCol(model.colId);if(!column){return null;}return this.valueSvc.formatValue(column,null,(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._parseDateTimeFromString)(model.filter));},dateTime:model=>this.filterOperandGetters.date(model),dateString:model=>{var _this$dataTypeSvc,_dateFormatFn,_parseDateTimeFromStr;var column=this.colModel.getColDefCol(model.colId);if(!column){return null;}var{filter}=model;var dateFormatFn=(_this$dataTypeSvc=this.dataTypeSvc)===null||_this$dataTypeSvc===void 0?void 0:_this$dataTypeSvc.getDateFormatterFunction(column);var dateStringStringValue=(_dateFormatFn=dateFormatFn===null||dateFormatFn===void 0?void 0:dateFormatFn((_parseDateTimeFromStr=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._parseDateTimeFromString)(filter))!==null&&_parseDateTimeFromStr!==void 0?_parseDateTimeFromStr:void 0))!==null&&_dateFormatFn!==void 0?_dateFormatFn:filter;return this.valueSvc.formatValue(column,null,dateStringStringValue);},dateTimeString:model=>this.filterOperandGetters.dateString(model),boolean:()=>null,object:()=>null,text:()=>null};this.operandModelValueGetters={number:operand=>(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._exists)(operand)?Number(operand):null,date:(operand,column,baseCellDataType)=>{var _this$dataTypeSvc2;return (0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._serialiseDate)(this.valueSvc.parseValue(column,null,operand,void 0),!!((_this$dataTypeSvc2=this.dataTypeSvc)!==null&&_this$dataTypeSvc2!==void 0&&_this$dataTypeSvc2.getDateIncludesTimeFlag(baseCellDataType)));},dateTime:function dateTime(){return _this5.operandModelValueGetters.date(...arguments);},dateString:(operand,column,baseCellDataType)=>{var parsedDateString=this.valueSvc.parseValue(column,null,operand,void 0);if(this.dataTypeSvc){var _this$dataTypeSvc$get;return (0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._serialiseDate)((_this$dataTypeSvc$get=this.dataTypeSvc.getDateParserFunction(column)(parsedDateString))!==null&&_this$dataTypeSvc$get!==void 0?_this$dataTypeSvc$get:null,this.dataTypeSvc.getDateIncludesTimeFlag(baseCellDataType));}return parsedDateString;},dateTimeString:function dateTimeString(){return _this5.operandModelValueGetters.dateString(...arguments);},boolean:operand=>operand,object:operand=>operand,text:operand=>operand};this.columnNameToIdMap={};this.columnAutocompleteEntries=null;this.expressionEvaluatorParams={};}wireBeans(beans){this.valueSvc=beans.valueSvc;this.colModel=beans.colModel;this.colNames=beans.colNames;this.dataTypeSvc=beans.dataTypeSvc;}postConstruct(){this.expressionJoinOperators=this.generateExpressionJoinOperators();this.expressionOperators=this.generateExpressionOperators();}parseJoinOperator(model){var _this$expressionJoinO;var{type}=model;return(_this$expressionJoinO=this.expressionJoinOperators[type])!==null&&_this$expressionJoinO!==void 0?_this$expressionJoinO:type;}getColumnDisplayValue(model){var{colId}=model;var columnEntries=this.getColumnAutocompleteEntries();var columnEntry=columnEntries.find(_ref9=>{var{key}=_ref9;return key===colId;});var columnName;if(columnEntry){columnName=columnEntry.displayValue;this.columnNameToIdMap[columnName.toLocaleUpperCase()]={colId,columnName};}else{columnName=colId;}return columnName;}getOperatorDisplayValue(model){var _this$getExpressionOp,_this$getExpressionOp2;return(_this$getExpressionOp=(_this$getExpressionOp2=this.getExpressionOperator(model.filterType,model.type))===null||_this$getExpressionOp2===void 0?void 0:_this$getExpressionOp2.displayValue)!==null&&_this$getExpressionOp!==void 0?_this$getExpressionOp:model.type;}getOperandModelValue(operand,baseCellDataType,column){return this.operandModelValueGetters[baseCellDataType](operand,column,baseCellDataType);}getOperandDisplayValue(model,skipFormatting){var{filter}=model;if(filter==null){return\"\";}var operand1=this.filterOperandGetters[model.filterType](model);if(model.filterType!==\"number\"){var _toStringOrNull8;operand1!==null&&operand1!==void 0?operand1:operand1=(_toStringOrNull8=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._toStringOrNull)(filter))!==null&&_toStringOrNull8!==void 0?_toStringOrNull8:\"\";if(!skipFormatting){operand1=\"\\\"\".concat(operand1,\"\\\"\");}}return skipFormatting?operand1:\" \".concat(operand1);}parseColumnFilterModel(model){var _this$getColumnDispla,_this$getOperatorDisp;var columnName=(_this$getColumnDispla=this.getColumnDisplayValue(model))!==null&&_this$getColumnDispla!==void 0?_this$getColumnDispla:\"\";var operator=(_this$getOperatorDisp=this.getOperatorDisplayValue(model))!==null&&_this$getOperatorDisp!==void 0?_this$getOperatorDisp:\"\";var operands=this.getOperandDisplayValue(model);return\"[\".concat(columnName,\"] \").concat(operator).concat(operands);}updateAutocompleteCache(updateEntry,type){if(type===\"column\"){var{key:colId,displayValue}=updateEntry;this.columnNameToIdMap[updateEntry.displayValue.toLocaleUpperCase()]={colId,columnName:displayValue};}}translate(key,variableValues){var defaultValue=ADVANCED_FILTER_LOCALE_TEXT[key];if(typeof defaultValue===\"function\"){defaultValue=defaultValue(variableValues);}return this.getLocaleTextFunc()(key,defaultValue,variableValues);}generateAutocompleteListParams(entries,type,searchString){return{enabled:true,type,searchString,entries};}getColumnAutocompleteEntries(){var _this$colModel$getCol;if(this.columnAutocompleteEntries){return this.columnAutocompleteEntries;}var columns=(_this$colModel$getCol=this.colModel.getColDefCols())!==null&&_this$colModel$getCol!==void 0?_this$colModel$getCol:[];var entries=[];var includeHiddenColumns=this.gos.get(\"includeHiddenColumnsInAdvancedFilter\");columns.forEach(column=>{if(column.getColDef().filter&&(includeHiddenColumns||column.isVisible()||column.isRowGroupActive())){entries.push({key:column.getColId(),displayValue:this.colNames.getDisplayNameForColumn(column,\"advancedFilter\")});}});entries.sort((a,b)=>{var _a$displayValue,_b$displayValue;var aValue=(_a$displayValue=a.displayValue)!==null&&_a$displayValue!==void 0?_a$displayValue:\"\";var bValue=(_b$displayValue=b.displayValue)!==null&&_b$displayValue!==void 0?_b$displayValue:\"\";if(aValue<bValue){return-1;}else if(bValue>aValue){return 1;}return 0;});return entries;}getOperatorAutocompleteEntries(column,baseCellDataType){var activeOperators=this.getActiveOperators(column);return this.getDataTypeExpressionOperator(baseCellDataType).getEntries(activeOperators);}getJoinOperatorAutocompleteEntries(){return Object.entries(this.expressionJoinOperators).map(_ref0=>{var[key,displayValue]=_ref0;return{key,displayValue};});}getDefaultAutocompleteListParams(searchString){return this.generateAutocompleteListParams(this.getColumnAutocompleteEntries(),\"column\",searchString);}getDataTypeExpressionOperator(baseCellDataType){return this.expressionOperators[baseCellDataType];}getExpressionOperator(baseCellDataType,operator){var _this$getDataTypeExpr;return(_this$getDataTypeExpr=this.getDataTypeExpressionOperator(baseCellDataType))===null||_this$getDataTypeExpr===void 0||(_this$getDataTypeExpr=_this$getDataTypeExpr.operators)===null||_this$getDataTypeExpr===void 0?void 0:_this$getDataTypeExpr[operator];}getExpressionJoinOperators(){return this.expressionJoinOperators;}getColId(columnName){var upperCaseColumnName=columnName.toLocaleUpperCase();var cachedColId=this.columnNameToIdMap[upperCaseColumnName];if(cachedColId){return cachedColId;}var columnAutocompleteEntries=this.getColumnAutocompleteEntries();var colEntry=columnAutocompleteEntries.find(_ref1=>{var{displayValue}=_ref1;return displayValue.toLocaleUpperCase()===upperCaseColumnName;});if(colEntry){var{key:colId,displayValue}=colEntry;var colValue={colId,columnName:displayValue};this.columnNameToIdMap[upperCaseColumnName]=colValue;return colValue;}return null;}getExpressionEvaluatorParams(colId){var _this$dataTypeSvc3,_this$dataTypeSvc$get2,_this$dataTypeSvc4;var params=this.expressionEvaluatorParams[colId];if(params){return params;}var column=this.colModel.getColDefCol(colId);if(!column){return{valueConverter:v=>v};}var baseCellDataType=(_this$dataTypeSvc3=this.dataTypeSvc)===null||_this$dataTypeSvc3===void 0?void 0:_this$dataTypeSvc3.getBaseDataType(column);switch(baseCellDataType){case\"dateTimeString\":case\"dateString\":params={valueConverter:(_this$dataTypeSvc$get2=(_this$dataTypeSvc4=this.dataTypeSvc)===null||_this$dataTypeSvc4===void 0?void 0:_this$dataTypeSvc4.getDateParserFunction(column))!==null&&_this$dataTypeSvc$get2!==void 0?_this$dataTypeSvc$get2:v=>v};break;case\"object\":if(column.getColDef().filterValueGetter){params={valueConverter:v=>v};}else{params={valueConverter:(value,node)=>{var _this$valueSvc$format;return(_this$valueSvc$format=this.valueSvc.formatValue(column,node,value))!==null&&_this$valueSvc$format!==void 0?_this$valueSvc$format:typeof value.toString===\"function\"?value.toString():\"\";}};}break;case\"text\":case void 0:params={valueConverter:v=>(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._toStringOrNull)(v)};break;default:params={valueConverter:v=>v};break;}var{filterParams}=column.getColDef();if(filterParams){[\"caseSensitive\",\"includeBlanksInEquals\",\"includeBlanksInLessThan\",\"includeBlanksInGreaterThan\"].forEach(param=>{var paramValue=filterParams[param];if(paramValue){params[param]=paramValue;}});}this.expressionEvaluatorParams[colId]=params;return params;}getColumnDetails(colId){var _this$colModel$getCol2,_ref10,_this$dataTypeSvc5;var column=(_this$colModel$getCol2=this.colModel.getColDefCol(colId))!==null&&_this$colModel$getCol2!==void 0?_this$colModel$getCol2:void 0;var baseCellDataType=(_ref10=column?(_this$dataTypeSvc5=this.dataTypeSvc)===null||_this$dataTypeSvc5===void 0?void 0:_this$dataTypeSvc5.getBaseDataType(column):void 0)!==null&&_ref10!==void 0?_ref10:\"text\";return{column,baseCellDataType};}generateExpressionOperators(){var translate=(key,variableValues)=>this.translate(key,variableValues);var dateOperatorsParams={translate,equals:(v,o)=>v.getTime()===o.getTime()};return{text:new TextFilterExpressionOperators({translate}),boolean:new BooleanFilterExpressionOperators({translate}),object:new TextFilterExpressionOperators({translate}),number:new ScalarFilterExpressionOperators({translate,equals:(v,o)=>v===o}),date:new ScalarFilterExpressionOperators(dateOperatorsParams),dateString:new ScalarFilterExpressionOperators(dateOperatorsParams),dateTime:new ScalarFilterExpressionOperators(dateOperatorsParams),dateTimeString:new ScalarFilterExpressionOperators(dateOperatorsParams)};}getColumnValue(_ref11){var{displayValue}=_ref11;return\"\".concat(COL_FILTER_EXPRESSION_START_CHAR).concat(displayValue).concat(COL_FILTER_EXPRESSION_END_CHAR);}generateExpressionJoinOperators(){return{AND:this.translate(\"advancedFilterAnd\"),OR:this.translate(\"advancedFilterOr\")};}getActiveOperators(column){var _column$getColDef$fil;var filterOptions=(_column$getColDef$fil=column.getColDef().filterParams)===null||_column$getColDef$fil===void 0?void 0:_column$getColDef$fil.filterOptions;if(!filterOptions){return void 0;}var isValid=filterOptions.every(filterOption=>typeof filterOption===\"string\");return isValid?filterOptions:void 0;}resetColumnCaches(){this.columnAutocompleteEntries=null;this.columnNameToIdMap={};this.expressionEvaluatorParams={};}};// packages/ag-grid-enterprise/src/advancedFilter/advancedFilterService.ts\n// packages/ag-grid-enterprise/src/advancedFilter/advancedFilterCtrl.ts\n// packages/ag-grid-enterprise/src/widgets/agDialog.ts\n// packages/ag-grid-enterprise/src/widgets/agPanel.ts\n// packages/ag-grid-enterprise/src/widgets/agPanel.css-GENERATED.ts\nvar agPanelCSS=/*css*/\".ag-panel{background-color:var(--ag-panel-background-color);display:flex;flex-direction:column;overflow:hidden;position:relative}.ag-dialog{border:var(--ag-dialog-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dialog-shadow);position:absolute}.ag-panel-title-bar{align-items:center;background-color:var(--ag-panel-title-bar-background-color);border-bottom:var(--ag-panel-title-bar-border);color:var(--ag-panel-title-bar-text-color);cursor:default;display:flex;flex:none;font-weight:var(--ag-panel-title-bar-font-weight);height:var(--ag-header-height);padding:var(--ag-spacing) var(--ag-cell-horizontal-padding)}.ag-panel-title-bar-button{color:var(--ag-panel-title-bar-icon-color);cursor:pointer}:where(.ag-ltr) .ag-panel-title-bar-button{margin-left:calc(var(--ag-spacing)*2);margin-right:var(--ag-spacing)}:where(.ag-rtl) .ag-panel-title-bar-button{margin-left:var(--ag-spacing);margin-right:calc(var(--ag-spacing)*2)}.ag-panel-title-bar-title{flex:1 1 auto}.ag-panel-title-bar-buttons{display:flex}.ag-panel-content-wrapper{display:flex;flex:1 1 auto;overflow:hidden;position:relative}:where(.ag-dragging-fill-handle) .ag-dialog,:where(.ag-dragging-range-handle) .ag-dialog{opacity:.7;pointer-events:none}\";// packages/ag-grid-enterprise/src/widgets/agPanel.ts\nfunction getTemplate(config){var cssIdentifier=config.cssIdentifier||\"default\";return{tag:\"div\",cls:\"ag-panel ag-\".concat(cssIdentifier,\"-panel\"),attrs:{tabindex:\"-1\"},children:[{tag:\"div\",ref:\"eTitleBar\",cls:\"ag-panel-title-bar ag-\".concat(cssIdentifier,\"-panel-title-bar ag-unselectable\"),children:[{tag:\"span\",ref:\"eTitle\",cls:\"ag-panel-title-bar-title ag-\".concat(cssIdentifier,\"-panel-title-bar-title\")},{tag:\"div\",ref:\"eTitleBarButtons\",cls:\"ag-panel-title-bar-buttons ag-\".concat(cssIdentifier,\"-panel-title-bar-buttons\")}]},{tag:\"div\",ref:\"eContentWrapper\",cls:\"ag-panel-content-wrapper ag-\".concat(cssIdentifier,\"-panel-content-wrapper\")}]};}var AgPanel=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(config){super(getTemplate(config));this.config=config;this.closable=true;this.eContentWrapper=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.eTitleBar=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.eTitleBarButtons=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.eTitle=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.registerCSS(agPanelCSS);}postConstruct(){var{component,closable,hideTitleBar,title,minWidth=250,width,minHeight=250,height,centered,popup,x,y}=this.config;this.positionableFeature=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.PositionableFeature(this.getGui(),{minWidth,width,minHeight,height,centered,x,y,popup,calculateTopBuffer:()=>this.positionableFeature.getHeight()-this.getBodyHeight()});this.createManagedBean(this.positionableFeature);var eGui=this.getGui();if(component){this.setBodyComponent(component);}if(!hideTitleBar){if(title){this.setTitle(title);}this.setClosable(closable!=null?closable:this.closable);}else{(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setDisplayed)(this.eTitleBar,false);}this.addManagedElementListeners(this.eTitleBar,{mousedown:e=>{if(eGui.contains(e.relatedTarget)||eGui.contains((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getActiveDomElement)(this.beans))||this.eTitleBarButtons.contains(e.target)){e.preventDefault();return;}var focusEl=this.eContentWrapper.querySelector(\"button, [href], input, select, textarea, [tabindex]\");if(focusEl){focusEl.focus();}}});if(popup&&this.positionableFeature.isPositioned()){return;}if(this.renderComponent){this.renderComponent();}this.positionableFeature.initialisePosition();this.eContentWrapper.style.height=\"0\";}renderComponent(){var eGui=this.getGui();eGui.focus();this.close=()=>{eGui.parentElement.removeChild(eGui);this.destroy();};}getHeight(){return this.positionableFeature.getHeight();}setHeight(height){this.positionableFeature.setHeight(height);}getWidth(){return this.positionableFeature.getWidth();}setWidth(width){this.positionableFeature.setWidth(width);}setClosable(closable){if(closable!==this.closable){this.closable=closable;}if(closable){var closeButtonComp=this.closeButtonComp=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Component({tag:\"div\",cls:\"ag-button\"});this.createBean(closeButtonComp);var eGui=closeButtonComp.getGui();var child=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createIconNoSpan)(\"close\",this.beans);child.classList.add(\"ag-panel-title-bar-button-icon\");eGui.appendChild(child);this.addTitleBarButton(closeButtonComp);closeButtonComp.addManagedElementListeners(eGui,{click:this.onBtClose.bind(this)});}else if(this.closeButtonComp){var _eGui=this.closeButtonComp.getGui();_eGui.parentElement.removeChild(_eGui);this.closeButtonComp=this.destroyBean(this.closeButtonComp);}}setBodyComponent(bodyComponent){bodyComponent.setParentComponent(this);this.eContentWrapper.appendChild(bodyComponent.getGui());}addTitleBarButton(button,position){var eTitleBarButtons=this.eTitleBarButtons;var buttons=eTitleBarButtons.children;var len=buttons.length;if(position==null){position=len;}position=Math.max(0,Math.min(position,len));button.addCss(\"ag-panel-title-bar-button\");var eGui=button.getGui();if(position===0){eTitleBarButtons.insertAdjacentElement(\"afterbegin\",eGui);}else if(position===len){eTitleBarButtons.insertAdjacentElement(\"beforeend\",eGui);}else{buttons[position-1].insertAdjacentElement(\"afterend\",eGui);}button.setParentComponent(this);}getBodyHeight(){return (0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getInnerHeight)(this.eContentWrapper);}getBodyWidth(){return (0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getInnerWidth)(this.eContentWrapper);}setTitle(title){this.eTitle.innerText=title;}// called when user hits the 'x' in the top right\nonBtClose(){this.close();}destroy(){if(this.closeButtonComp){this.closeButtonComp=this.destroyBean(this.closeButtonComp);}var eGui=this.getGui();if(eGui&&(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isVisible)(eGui)){this.close();}super.destroy();}};// packages/ag-grid-enterprise/src/widgets/agDialog.ts\nvar AgDialog=class extends AgPanel{constructor(config){super(_objectSpread(_objectSpread({},config),{},{popup:true}));this.isMaximizable=false;this.isMaximized=false;this.maximizeListeners=[];this.resizeListenerDestroy=null;this.lastPosition={x:0,y:0,width:0,height:0};}wireBeans(beans){this.popupSvc=beans.popupSvc;}postConstruct(){var eGui=this.getGui();var{movable,resizable,maximizable,modal,postProcessPopupParams}=this.config;this.addCss(\"ag-dialog\");super.postConstruct();if(postProcessPopupParams){var _this$popupSvc;var{type,eventSource,column,mouseEvent,rowNode}=postProcessPopupParams;(_this$popupSvc=this.popupSvc)===null||_this$popupSvc===void 0||_this$popupSvc.callPostProcessPopup(type,eGui,eventSource,mouseEvent,column,rowNode);}this.tabGuardFeature=this.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.TabGuardFeature(this));this.tabGuardFeature.initialiseTabGuard({isFocusableContainer:true,onFocusIn:()=>{var _this$popupSvc2;(_this$popupSvc2=this.popupSvc)===null||_this$popupSvc2===void 0||_this$popupSvc2.bringPopupToFront(eGui);},onTabKeyDown:e=>{if(modal){return;}var backwards=e.shiftKey;var nextFocusableElement=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._findNextFocusableElement)(this.beans,eGui,false,backwards);if(!nextFocusableElement||this.tabGuardFeature.getTabGuardCtrl().isTabGuard(nextFocusableElement)){if((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._focusNextGridCoreContainer)(this.beans,backwards)){e.preventDefault();}}}});if(movable){this.setMovable(movable);}if(maximizable){this.setMaximizable(maximizable);}if(resizable){this.setResizable(resizable);}if(!this.config.modal){var gridCtrl=this.beans.ctrlsSvc.get(\"gridCtrl\");gridCtrl.addFocusableContainer(this);this.addDestroyFunc(()=>gridCtrl.removeFocusableContainer(this));}}setAllowFocus(allowFocus){this.tabGuardFeature.getTabGuardCtrl().setAllowFocus(allowFocus);}renderComponent(){var _this$popupSvc3;var eGui=this.getGui();var{alwaysOnTop,modal,title,afterGuiAttached}=this.config;var translate=this.getLocaleTextFunc();var addPopupRes=(_this$popupSvc3=this.popupSvc)===null||_this$popupSvc3===void 0?void 0:_this$popupSvc3.addPopup({modal,eChild:eGui,closeOnEsc:true,closedCallback:this.onClosed.bind(this),alwaysOnTop,ariaLabel:title||translate(\"ariaLabelDialog\",\"Dialog\"),afterGuiAttached});if(addPopupRes){this.close=addPopupRes.hideFunc;}}onClosed(event){var _this$config$closedCa,_this$config;this.destroy();(_this$config$closedCa=(_this$config=this.config).closedCallback)===null||_this$config$closedCa===void 0||_this$config$closedCa.call(_this$config,event);}toggleMaximize(){var position=this.positionableFeature.getPosition();if(this.isMaximized){var{x,y,width,height}=this.lastPosition;this.setWidth(width);this.setHeight(height);this.positionableFeature.offsetElement(x,y);}else{this.lastPosition.width=this.getWidth();this.lastPosition.height=this.getHeight();this.lastPosition.x=position.x;this.lastPosition.y=position.y;this.positionableFeature.offsetElement(0,0);this.setHeight(\"100%\");this.setWidth(\"100%\");}this.isMaximized=!this.isMaximized;this.refreshMaximizeIcon();}refreshMaximizeIcon(){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setDisplayed)(this.maximizeIcon,!this.isMaximized);(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setDisplayed)(this.minimizeIcon,this.isMaximized);}clearMaximizebleListeners(){if(this.maximizeListeners.length){this.maximizeListeners.forEach(destroyListener=>destroyListener());this.maximizeListeners.length=0;}if(this.resizeListenerDestroy){this.resizeListenerDestroy();this.resizeListenerDestroy=null;}}destroy(){this.maximizeButtonComp=this.destroyBean(this.maximizeButtonComp);this.clearMaximizebleListeners();super.destroy();}setResizable(resizable){this.positionableFeature.setResizable(resizable);}setMovable(movable){this.positionableFeature.setMovable(movable,this.eTitleBar);}setMaximizable(maximizable){if(!maximizable){this.clearMaximizebleListeners();if(this.maximizeButtonComp){this.destroyBean(this.maximizeButtonComp);this.maximizeButtonComp=this.maximizeIcon=this.minimizeIcon=void 0;}return;}var eTitleBar=this.eTitleBar;if(!eTitleBar||maximizable===this.isMaximizable){return;}var maximizeButtonComp=this.buildMaximizeAndMinimizeElements();this.refreshMaximizeIcon();maximizeButtonComp.addManagedElementListeners(maximizeButtonComp.getGui(),{click:this.toggleMaximize.bind(this)});this.addTitleBarButton(maximizeButtonComp,0);this.maximizeListeners.push(...this.addManagedElementListeners(eTitleBar,{dblclick:this.toggleMaximize.bind(this)}));[this.resizeListenerDestroy]=this.addManagedListeners(this.positionableFeature,{resize:()=>{this.isMaximized=false;this.refreshMaximizeIcon();}});}buildMaximizeAndMinimizeElements(){var maximizeButtonComp=this.maximizeButtonComp=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Component({tag:\"div\",cls:\"ag-dialog-button\"}));var eGui=maximizeButtonComp.getGui();this.maximizeIcon=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createIconNoSpan)(\"maximize\",this.beans);eGui.appendChild(this.maximizeIcon);this.maximizeIcon.classList.add(\"ag-panel-title-bar-button-icon\");this.minimizeIcon=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createIconNoSpan)(\"minimize\",this.beans);eGui.appendChild(this.minimizeIcon);this.minimizeIcon.classList.add(\"ag-panel-title-bar-button-icon\");return maximizeButtonComp;}};// packages/ag-grid-enterprise/src/advancedFilter/advancedFilterComp.ts\n// packages/ag-grid-enterprise/src/advancedFilter/autocomplete/agAutocomplete.ts\n// packages/ag-grid-enterprise/src/advancedFilter/autocomplete/agAutocomplete.css-GENERATED.ts\nvar agAutocompleteCSS=/*css*/\".ag-autocomplete{align-items:center;display:flex;width:100%;>*{flex:1 1 auto}}.ag-autocomplete-list-popup{background-color:var(--ag-background-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);padding:0;position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-autocomplete-list{height:calc(var(--ag-row-height)*6.5);min-width:200px;position:relative;width:100%}.ag-autocomplete-virtual-list-item{cursor:default;display:flex;height:var(--ag-list-item-height);&:focus-visible:after{content:none}&:hover{background-color:var(--ag-row-hover-color)}}.ag-autocomplete-row{align-items:center;display:flex;flex:1 1 auto;overflow:hidden}.ag-autocomplete-row-label{margin:0 var(--ag-widget-container-horizontal-padding);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ag-autocomplete-row-selected{background-color:var(--ag-selected-row-background-color)}\";// packages/ag-grid-enterprise/src/advancedFilter/autocomplete/agAutocompleteList.ts\n// packages/ag-grid-enterprise/src/widgets/virtualList.ts\nfunction getVirtualListTemplate(cssIdentifier){return{tag:\"div\",cls:\"ag-virtual-list-viewport ag-\".concat(cssIdentifier,\"-virtual-list-viewport\"),role:\"presentation\",children:[{tag:\"div\",ref:\"eContainer\",cls:\"ag-virtual-list-container ag-\".concat(cssIdentifier,\"-virtual-list-container\")}]};}var VirtualList=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.TabGuardComp{constructor(params){super(getVirtualListTemplate((params===null||params===void 0?void 0:params.cssIdentifier)||\"default\"));this.renderedRows=/* @__PURE__ */new Map();this.rowHeight=20;this.pageSize=-1;this.isScrolling=false;this.isHeightFromTheme=true;this.eContainer=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.awaitStableCallbacks=[];var{cssIdentifier=\"default\",ariaRole=\"listbox\",listName,moveItemCallback}=params||{};this.cssIdentifier=cssIdentifier;this.ariaRole=ariaRole;this.listName=listName;this.moveItemCallback=moveItemCallback;}wireBeans(beans){this.environment=beans.environment;}postConstruct(){this.addScrollListener();this.rowHeight=this.getItemHeight();this.addResizeObserver();this.initialiseTabGuard({onFocusIn:e=>this.onFocusIn(e),onFocusOut:e=>this.onFocusOut(e),focusInnerElement:fromBottom=>this.focusInnerElement(fromBottom),onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e)});this.refreshAriaProperties();this.addManagedEventListeners({gridStylesChanged:this.onGridStylesChanged.bind(this)});}onGridStylesChanged(e){if(e.listItemHeightChanged){this.rowHeight=this.getItemHeight();this.refresh();}}refreshAriaProperties(){var _this$model;var translate=this.getLocaleTextFunc();var listName=translate(\"ariaDefaultListName\",this.listName||\"List\");var ariaEl=this.eContainer;(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setAriaRole)(ariaEl,((_this$model=this.model)===null||_this$model===void 0?void 0:_this$model.getRowCount())>0?this.ariaRole:\"presentation\");(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setAriaLabel)(ariaEl,listName);}addResizeObserver(){var listener=()=>(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._requestAnimationFrame)(this.beans,()=>this.drawVirtualRows());var destroyObserver=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._observeResize)(this.beans,this.getGui(),listener);this.addDestroyFunc(destroyObserver);}focusInnerElement(fromBottom){this.focusRow(fromBottom?this.model.getRowCount()-1:0);return true;}onFocusIn(e){var target=e.target;if(target.classList.contains(\"ag-virtual-list-item\")){this.lastFocusedRowIndex=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getAriaPosInSet)(target)-1;}}onFocusOut(e){if(!this.getFocusableElement().contains(e.relatedTarget)){this.lastFocusedRowIndex=null;}}handleKeyDown(e){var{key,shiftKey}=e;switch(key){case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.UP:case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.DOWN:{var isUp=key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.UP;e.preventDefault();if(shiftKey){this.moveItem(isUp);}else{this.navigate(isUp);}}break;case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.PAGE_HOME:case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.PAGE_END:case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.PAGE_UP:case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.PAGE_DOWN:if(this.navigateToPage(key)!==null){e.preventDefault();}break;}}onTabKeyDown(e){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._stopPropagationForAgGrid)(e);this.forceFocusOutOfContainer(e.shiftKey);}getNextRow(up){if(this.lastFocusedRowIndex==null){return void 0;}var nextRow=this.lastFocusedRowIndex+(up?-1:1);if(nextRow<0||nextRow>=this.model.getRowCount()){return void 0;}return nextRow;}moveItem(up){if(!this.moveItemCallback){return;}var item=this.getComponentAt(this.lastFocusedRowIndex);if(!item){return;}this.moveItemCallback(item,up);}navigate(up){var nextRow=this.getNextRow(up);if(nextRow===void 0){return;}this.focusRow(nextRow);}navigateToPage(key){var fromItem=arguments.length>1&&arguments[1]!==undefined?arguments[1]:\"focused\";var hasFocus=false;if(fromItem===\"focused\"){fromItem=this.getLastFocusedRow();hasFocus=true;}var rowCount=this.model.getRowCount()-1;var newIndex=-1;if(key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.PAGE_HOME){newIndex=0;}else if(key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.PAGE_END){newIndex=rowCount;}else if(key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.PAGE_DOWN){newIndex=Math.min(fromItem+this.pageSize,rowCount);}else if(key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.PAGE_UP){newIndex=Math.max(fromItem-this.pageSize,0);}if(newIndex===-1){return null;}if(hasFocus){this.focusRow(newIndex);}else{this.ensureIndexVisible(newIndex);}return newIndex;}getLastFocusedRow(){return this.lastFocusedRowIndex;}focusRow(rowNumber){if(this.isScrolling){return;}this.isScrolling=true;this.ensureIndexVisible(rowNumber);(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._requestAnimationFrame)(this.beans,()=>{this.isScrolling=false;if(!this.isAlive()){return;}var renderedRow=this.renderedRows.get(rowNumber);if(renderedRow){renderedRow.eDiv.focus();}});}getComponentAt(rowIndex){var comp=this.renderedRows.get(rowIndex);return comp&&comp.rowComponent;}forEachRenderedRow(func){this.renderedRows.forEach((value,key)=>func(value.rowComponent,key));}getItemHeight(){if(!this.isHeightFromTheme){return this.rowHeight;}return this.environment.getDefaultListItemHeight();}/**\n   * Returns true if the view had to be scrolled, otherwise, false.\n   */ensureIndexVisible(index){var scrollPartialIntoView=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;var lastRow=this.model.getRowCount();if(typeof index!==\"number\"||index<0||index>=lastRow){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(229,{index});return false;}var rowTopPixel=index*this.rowHeight;var rowBottomPixel=rowTopPixel+this.rowHeight;var eGui=this.getGui();var viewportTopPixel=eGui.scrollTop;var viewportHeight=eGui.offsetHeight;var viewportBottomPixel=viewportTopPixel+viewportHeight;var diff=scrollPartialIntoView?0:this.rowHeight;var viewportScrolledPastRow=viewportTopPixel>rowTopPixel+diff;var viewportScrolledBeforeRow=viewportBottomPixel<rowBottomPixel-diff;if(viewportScrolledPastRow){eGui.scrollTop=rowTopPixel;return true;}if(viewportScrolledBeforeRow){var newScrollPosition=rowBottomPixel-viewportHeight;eGui.scrollTop=newScrollPosition;return true;}return false;}setComponentCreator(componentCreator){this.componentCreator=componentCreator;}setComponentUpdater(componentUpdater){this.componentUpdater=componentUpdater;}getRowHeight(){return this.rowHeight;}getScrollTop(){return this.getGui().scrollTop;}setRowHeight(rowHeight){this.isHeightFromTheme=false;this.rowHeight=rowHeight;this.refresh();}refresh(softRefresh){if(this.model==null||!this.isAlive()){return;}var rowCount=this.model.getRowCount();this.eContainer.style.height=\"\".concat(rowCount*this.rowHeight,\"px\");this.refreshAriaProperties();this.awaitStable(()=>{if(!this.isAlive()){return;}if(this.canSoftRefresh(softRefresh)){this.drawVirtualRows(true);}else{this.clearVirtualRows();this.drawVirtualRows();}});}awaitStable(callback){this.awaitStableCallbacks.push(callback);if(this.awaitStableCallbacks.length>1){return;}var rowCount=this.model.getRowCount();(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._waitUntil)(()=>this.eContainer.clientHeight>=rowCount*this.rowHeight,()=>{if(!this.isAlive()){return;}var callbacks=this.awaitStableCallbacks;this.awaitStableCallbacks=[];callbacks.forEach(c=>c());});}canSoftRefresh(softRefresh){return!!(softRefresh&&this.renderedRows.size&&typeof this.model.areRowsEqual===\"function\"&&this.componentUpdater);}clearVirtualRows(){this.renderedRows.forEach((_,rowIndex)=>this.removeRow(rowIndex));}drawVirtualRows(softRefresh){if(!this.isAlive()||!this.model){return;}var gui=this.getGui();var topPixel=gui.scrollTop;var bottomPixel=topPixel+gui.offsetHeight;if(topPixel===bottomPixel){this.clearVirtualRows();}else{var firstRow=Math.floor(topPixel/this.rowHeight);var lastRow=Math.floor(bottomPixel/this.rowHeight);this.pageSize=Math.floor((bottomPixel-topPixel)/this.rowHeight);this.ensureRowsRendered(firstRow,lastRow,softRefresh);}}ensureRowsRendered(start,finish,softRefresh){this.renderedRows.forEach((_,rowIndex)=>{if((rowIndex<start||rowIndex>finish)&&rowIndex!==this.lastFocusedRowIndex){this.removeRow(rowIndex);}});if(softRefresh){this.refreshRows();}for(var rowIndex=start;rowIndex<=finish;rowIndex++){if(this.renderedRows.has(rowIndex)){continue;}if(rowIndex<this.model.getRowCount()){this.insertRow(rowIndex);}}}insertRow(rowIndex){var value=this.model.getRow(rowIndex);var role=this.ariaRole===\"tree\"?\"treeitem\":\"option\";var eDiv=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createElement)({tag:\"div\",cls:\"ag-virtual-list-item ag-\".concat(this.cssIdentifier,\"-virtual-list-item\"),role,attrs:{tabindex:\"-1\"}});(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setAriaSetSize)(eDiv,this.model.getRowCount());(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setAriaPosInSet)(eDiv,rowIndex+1);eDiv.style.height=\"\".concat(this.rowHeight,\"px\");eDiv.style.top=\"\".concat(this.rowHeight*rowIndex,\"px\");var rowComponent=this.componentCreator(value,eDiv);rowComponent.addGuiEventListener(\"focusin\",()=>this.lastFocusedRowIndex=rowIndex);eDiv.appendChild(rowComponent.getGui());if(this.renderedRows.has(rowIndex-1)){this.renderedRows.get(rowIndex-1).eDiv.insertAdjacentElement(\"afterend\",eDiv);}else if(this.renderedRows.has(rowIndex+1)){this.renderedRows.get(rowIndex+1).eDiv.insertAdjacentElement(\"beforebegin\",eDiv);}else{this.eContainer.appendChild(eDiv);}this.renderedRows.set(rowIndex,{rowComponent,eDiv,value});}removeRow(rowIndex){var component=this.renderedRows.get(rowIndex);this.eContainer.removeChild(component.eDiv);this.destroyBean(component.rowComponent);this.renderedRows.delete(rowIndex);}refreshRows(){var rowCount=this.model.getRowCount();this.renderedRows.forEach((row,rowIndex)=>{if(rowIndex>=rowCount){this.removeRow(rowIndex);}else{var _this$model$areRowsEq,_this$model2;var newValue=this.model.getRow(rowIndex);if((_this$model$areRowsEq=(_this$model2=this.model).areRowsEqual)!==null&&_this$model$areRowsEq!==void 0&&_this$model$areRowsEq.call(_this$model2,row.value,newValue)){this.componentUpdater(newValue,row.rowComponent);}else{this.removeRow(rowIndex);}}});}addScrollListener(){this.addGuiEventListener(\"scroll\",()=>this.drawVirtualRows(),{passive:true});}setModel(model){this.model=model;}getAriaElement(){return this.eContainer;}destroy(){if(!this.isAlive()){return;}this.clearVirtualRows();this.awaitStableCallbacks.length=0;super.destroy();}};// packages/ag-grid-enterprise/src/advancedFilter/autocomplete/agAutocompleteRow.ts\nvar AgAutocompleteRowElement={tag:\"div\",cls:\"ag-autocomplete-row\",role:\"presentation\",children:[{tag:\"div\",cls:\"ag-autocomplete-row-label\"}]};var AgAutocompleteRow=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(){super(AgAutocompleteRowElement);this.hasHighlighting=false;}setState(value,selected){this.value=value;this.render();this.updateSelected(selected);}updateSelected(selected){this.toggleCss(\"ag-autocomplete-row-selected\",selected);}setSearchString(searchString){var keepHighlighting=false;var{value}=this;if(value&&(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._exists)(searchString)){var index=value.toLocaleLowerCase().indexOf(searchString.toLocaleLowerCase());if(index>=0){keepHighlighting=true;this.hasHighlighting=true;var highlightEndIndex=index+searchString.length;var child=this.getGui().lastElementChild;(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._clearElement)(child);child.append(// Start part\nvalue.slice(0,index),// Highlighted part wrapped in bold tag\n(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createElement)({tag:\"b\",children:value.slice(index,highlightEndIndex)}),// End part\nvalue.slice(highlightEndIndex));}}if(!keepHighlighting&&this.hasHighlighting){this.hasHighlighting=false;this.render();}}render(){var _this$value;this.getGui().lastElementChild.textContent=(_this$value=this.value)!==null&&_this$value!==void 0?_this$value:\"\\xA0\";}};// packages/ag-grid-enterprise/src/advancedFilter/autocomplete/agAutocompleteList.ts\nvar AgAutocompleteListElement={tag:\"div\",cls:\"ag-autocomplete-list-popup\",children:[{tag:\"div\",ref:\"eList\",cls:\"ag-autocomplete-list\"}]};var AgAutocompleteList=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.PopupComponent{constructor(params){super(AgAutocompleteListElement);this.params=params;this.eList=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.searchString=\"\";}postConstruct(){this.autocompleteEntries=this.params.autocompleteEntries;this.virtualList=this.createManagedBean(new VirtualList({cssIdentifier:\"autocomplete\"}));this.virtualList.setComponentCreator(this.createRowComponent.bind(this));this.eList.appendChild(this.virtualList.getGui());this.virtualList.setModel({getRowCount:()=>this.autocompleteEntries.length,getRow:index=>this.autocompleteEntries[index]});var virtualListGui=this.virtualList.getGui();this.addManagedListeners(virtualListGui,{click:()=>this.params.onConfirmed(),mousemove:this.onMouseMove.bind(this),mousedown:e=>e.preventDefault()});this.setSelectedValue(0);}onNavigationKeyDown(event,key){event.preventDefault();var oldIndex=this.autocompleteEntries.indexOf(this.selectedValue);var newIndex=key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.UP?oldIndex-1:oldIndex+1;this.checkSetSelectedValue(newIndex);}setSearch(searchString){this.searchString=searchString;if((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._exists)(searchString)){this.runSearch();}else{this.autocompleteEntries=this.params.autocompleteEntries;this.virtualList.refresh();this.checkSetSelectedValue(0);}this.updateSearchInList();}runContainsSearch(searchString,searchStrings){var topMatch;var topMatchStartsWithSearchString=false;var lowerCaseSearchString=searchString.toLocaleLowerCase();var allMatches=searchStrings.filter(string=>{var lowerCaseString=string.toLocaleLowerCase();var index=lowerCaseString.indexOf(lowerCaseSearchString);var startsWithSearchString=index===0;var isMatch=index>=0;if(isMatch&&(!topMatch||!topMatchStartsWithSearchString&&startsWithSearchString||topMatchStartsWithSearchString===startsWithSearchString&&string.length<topMatch.length)){topMatch=string;topMatchStartsWithSearchString=startsWithSearchString;}return isMatch;});if(!topMatch&&allMatches.length){topMatch=allMatches[0];}return{topMatch,allMatches};}runSearch(){var{autocompleteEntries,useFuzzySearch,forceLastSelection}=this.params;var searchStrings=autocompleteEntries.map(v=>{var _v$displayValue;return(_v$displayValue=v.displayValue)!==null&&_v$displayValue!==void 0?_v$displayValue:v.key;});var matchingStrings;var topSuggestion;if(useFuzzySearch){matchingStrings=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._fuzzySuggestions)({inputValue:this.searchString,allSuggestions:searchStrings,hideIrrelevant:true}).values;topSuggestion=matchingStrings.length?matchingStrings[0]:void 0;}else{var containsMatches=this.runContainsSearch(this.searchString,searchStrings);matchingStrings=containsMatches.allMatches;topSuggestion=containsMatches.topMatch;}var filteredEntries=autocompleteEntries.filter(_ref12=>{var{key,displayValue}=_ref12;return matchingStrings.includes(displayValue!==null&&displayValue!==void 0?displayValue:key);});if(!filteredEntries.length&&this.selectedValue&&forceLastSelection!==null&&forceLastSelection!==void 0&&forceLastSelection(this.selectedValue,this.searchString)){filteredEntries=[this.selectedValue];}this.autocompleteEntries=filteredEntries;this.virtualList.refresh();if(!topSuggestion){return;}var topSuggestionIndex=matchingStrings.indexOf(topSuggestion);this.checkSetSelectedValue(topSuggestionIndex);}updateSearchInList(){this.virtualList.forEachRenderedRow(row=>row.setSearchString(this.searchString));}checkSetSelectedValue(index){if(index>=0&&index<this.autocompleteEntries.length){this.setSelectedValue(index);}}setSelectedValue(index){var value=this.autocompleteEntries[index];if(this.selectedValue===value){return;}this.selectedValue=value;this.virtualList.ensureIndexVisible(index);this.virtualList.forEachRenderedRow((cmp,idx)=>{cmp.updateSelected(index===idx);});}createRowComponent(value){var _value$displayValue;var row=new AgAutocompleteRow();this.createBean(row);row.setState((_value$displayValue=value.displayValue)!==null&&_value$displayValue!==void 0?_value$displayValue:value.key,value===this.selectedValue);return row;}onMouseMove(mouseEvent){var virtualList=this.virtualList;var rect=virtualList.getGui().getBoundingClientRect();var scrollTop=virtualList.getScrollTop();var mouseY=mouseEvent.clientY-rect.top+scrollTop;var row=Math.floor(mouseY/virtualList.getRowHeight());this.checkSetSelectedValue(row);}afterGuiAttached(){this.virtualList.refresh();}getSelectedValue(){var _this$selectedValue;if(!this.autocompleteEntries.length){return null;}return(_this$selectedValue=this.selectedValue)!==null&&_this$selectedValue!==void 0?_this$selectedValue:null;}};// packages/ag-grid-enterprise/src/advancedFilter/autocomplete/agAutocomplete.ts\nvar AgAutocompleteElement={tag:\"div\",cls:\"ag-autocomplete\",role:\"presentation\",children:[{tag:\"ag-input-text-field\",ref:\"eAutocompleteInput\"}]};var AgAutocomplete=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(){super(AgAutocompleteElement,[ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgInputTextFieldSelector]);this.eAutocompleteInput=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.isListOpen=false;this.lastPosition=0;this.valid=true;this.registerCSS(agAutocompleteCSS);}wireBeans(beans){this.popupSvc=beans.popupSvc;}postConstruct(){this.eAutocompleteInput.onValueChange(value=>this.onValueChanged(value));this.eAutocompleteInput.getInputElement().setAttribute(\"autocomplete\",\"off\");this.addGuiEventListener(\"keydown\",this.onKeyDown.bind(this));this.addGuiEventListener(\"click\",this.updatePositionAndList.bind(this));this.addDestroyFunc(()=>{this.destroyBean(this.autocompleteList);});this.addGuiEventListener(\"focusout\",()=>this.onFocusOut());}onValueChanged(value){var parsedValue=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._makeNull)(value);this.updateValue(parsedValue);this.updateAutocompleteList(parsedValue);}updateValue(value){this.updateLastPosition();this.dispatchLocalEvent({type:\"eventValueChanged\",value});this.validate(value);}updateAutocompleteList(value){var _this$listGenerator,_this$listGenerator2,_this$autocompleteLis;var autocompleteListParams=(_this$listGenerator=(_this$listGenerator2=this.listGenerator)===null||_this$listGenerator2===void 0?void 0:_this$listGenerator2.call(this,value,this.lastPosition))!==null&&_this$listGenerator!==void 0?_this$listGenerator:{enabled:false};if(!autocompleteListParams.type||autocompleteListParams.type!==((_this$autocompleteLis=this.autocompleteListParams)===null||_this$autocompleteLis===void 0?void 0:_this$autocompleteLis.type)){if(this.isListOpen){this.closeList();}}var isListOpen=this.isListOpen;this.autocompleteListParams=autocompleteListParams;if(autocompleteListParams!==null&&autocompleteListParams!==void 0&&autocompleteListParams.enabled){if(!isListOpen){this.openList();}var{searchString}=autocompleteListParams;this.autocompleteList.setSearch(searchString!==null&&searchString!==void 0?searchString:\"\");}else{if(isListOpen){this.closeList();}}}onKeyDown(event){var key=event.key;this.updateLastPosition();switch(key){case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.ENTER:this.onEnterKeyDown(event);break;case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.TAB:this.onTabKeyDown(event);break;case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.DOWN:case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.UP:this.onUpDownKeyDown(event,key);break;case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.LEFT:case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.RIGHT:case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.PAGE_HOME:case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.PAGE_END:setTimeout(()=>{this.updatePositionAndList();});break;case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.ESCAPE:this.onEscapeKeyDown(event);break;case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.SPACE:if(event.ctrlKey&&!this.isListOpen){event.preventDefault();this.forceOpenList();}break;}}confirmSelection(){var _this$autocompleteLis2;var selectedValue=(_this$autocompleteLis2=this.autocompleteList)===null||_this$autocompleteLis2===void 0?void 0:_this$autocompleteLis2.getSelectedValue();if(selectedValue){this.closeList();this.dispatchLocalEvent({type:\"eventOptionSelected\",value:this.getValue(),position:this.lastPosition,updateEntry:selectedValue,autocompleteType:this.autocompleteListParams.type});}}onTabKeyDown(event){if(this.isListOpen){event.preventDefault();event.stopPropagation();this.confirmSelection();}}onEnterKeyDown(event){event.preventDefault();if(this.isListOpen){this.confirmSelection();}else{this.onCompleted();}}onUpDownKeyDown(event,key){event.preventDefault();if(!this.isListOpen){this.forceOpenList();}else{var _this$autocompleteLis3;(_this$autocompleteLis3=this.autocompleteList)===null||_this$autocompleteLis3===void 0||_this$autocompleteLis3.onNavigationKeyDown(event,key);}}onEscapeKeyDown(event){if(this.isListOpen){event.preventDefault();event.stopPropagation();this.closeList();this.setCaret(this.lastPosition,true);}}onFocusOut(){if(this.isListOpen){this.closeList();}}updatePositionAndList(){var _this$eAutocompleteIn;this.updateLastPosition();this.updateAutocompleteList((_this$eAutocompleteIn=this.eAutocompleteInput.getValue())!==null&&_this$eAutocompleteIn!==void 0?_this$eAutocompleteIn:null);}setCaret(position,setFocus){if(setFocus&&(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isNothingFocused)(this.beans)){this.eAutocompleteInput.getFocusableElement().focus();}var eInput=this.eAutocompleteInput.getInputElement();eInput.setSelectionRange(position,position);if(position===eInput.value.length){eInput.scrollLeft=eInput.scrollWidth;}}forceOpenList(){this.onValueChanged(this.eAutocompleteInput.getValue());}updateLastPosition(){var _this$eAutocompleteIn2;this.lastPosition=(_this$eAutocompleteIn2=this.eAutocompleteInput.getInputElement().selectionStart)!==null&&_this$eAutocompleteIn2!==void 0?_this$eAutocompleteIn2:0;}validate(value){if(!this.validator){return;}var validationMessage=this.validationMessage=this.validator(value);this.eAutocompleteInput.getInputElement().setCustomValidity(validationMessage!==null&&validationMessage!==void 0?validationMessage:\"\");this.valid=!validationMessage;this.dispatchLocalEvent({type:\"eventValidChanged\",isValid:this.valid,validationMessage});}openList(){this.isListOpen=true;this.autocompleteList=this.createBean(new AgAutocompleteList({autocompleteEntries:this.autocompleteListParams.entries,onConfirmed:()=>this.confirmSelection(),forceLastSelection:this.forceLastSelection}));var ePopupGui=this.autocompleteList.getGui();var positionParams={ePopup:ePopupGui,type:\"autocomplete\",eventSource:this.getGui(),position:\"under\",alignSide:this.gos.get(\"enableRtl\")?\"right\":\"left\",keepWithinBounds:true};var addPopupRes=this.popupSvc.addPopup({eChild:ePopupGui,anchorToElement:this.getGui(),positionCallback:()=>this.popupSvc.positionPopupByComponent(positionParams),ariaLabel:this.listAriaLabel});this.hidePopup=addPopupRes.hideFunc;this.autocompleteList.afterGuiAttached();}closeList(){this.isListOpen=false;this.hidePopup();this.destroyBean(this.autocompleteList);this.autocompleteList=null;}onCompleted(){if(this.isListOpen){this.closeList();}this.dispatchLocalEvent({type:\"eventValueConfirmed\",value:this.getValue(),isValid:this.isValid()});}getValue(){return (0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._makeNull)(this.eAutocompleteInput.getValue());}setInputPlaceholder(placeholder){this.eAutocompleteInput.setInputPlaceholder(placeholder);return this;}setInputAriaLabel(label){this.eAutocompleteInput.setInputAriaLabel(label);return this;}setListAriaLabel(label){this.listAriaLabel=label;return this;}setListGenerator(listGenerator){this.listGenerator=listGenerator;return this;}setValidator(validator){this.validator=validator;return this;}isValid(){return this.valid;}setValue(params){var{value,position,silent,updateListOnlyIfOpen,restoreFocus}=params;this.eAutocompleteInput.setValue(value,true);this.setCaret(position!==null&&position!==void 0?position:this.lastPosition,restoreFocus);if(!silent){this.updateValue(value);}if(!updateListOnlyIfOpen||this.isListOpen){this.updateAutocompleteList(value);}}setForceLastSelection(forceLastSelection){this.forceLastSelection=forceLastSelection;return this;}setInputDisabled(disabled){this.eAutocompleteInput.setDisabled(disabled);return this;}};var AgAutocompleteSelector={selector:\"AG-AUTOCOMPLETE\",component:AgAutocomplete};// packages/ag-grid-enterprise/src/advancedFilter/advancedFilterComp.ts\nvar AdvancedFilterElement={tag:\"div\",cls:\"ag-advanced-filter\",role:\"presentation\",attrs:{tabindex:\"-1\"},children:[{tag:\"ag-autocomplete\",ref:\"eAutocomplete\"},{tag:\"button\",ref:\"eApplyFilterButton\",cls:\"ag-button ag-standard-button ag-advanced-filter-apply-button\"},{tag:\"button\",ref:\"eBuilderFilterButton\",cls:\"ag-button ag-advanced-filter-builder-button\",children:[{tag:\"span\",ref:\"eBuilderFilterButtonIcon\",attrs:{\"aria-hidden\":\"true\"}},{tag:\"span\",ref:\"eBuilderFilterButtonLabel\",cls:\"ag-advanced-filter-builder-button-label\"}]}]};var AdvancedFilterComp=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(){super(AdvancedFilterElement,[AgAutocompleteSelector]);this.eAutocomplete=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.eApplyFilterButton=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.eBuilderFilterButton=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.eBuilderFilterButtonIcon=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.eBuilderFilterButtonLabel=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.expressionParser=null;this.isApplyDisabled=true;this.builderOpen=false;}wireBeans(beans){this.advFilterExpSvc=beans.advFilterExpSvc;this.advancedFilter=beans.advancedFilter;this.filterManager=beans.filterManager;this.registry=beans.registry;}postConstruct(){this.tooltipFeature=this.createOptionalManagedBean(this.registry.createDynamicBean(\"tooltipFeature\",false,{getGui:()=>this.getGui(),getTooltipShowDelayOverride:()=>1e3,getLocation:()=>\"advancedFilter\"}));this.eAutocomplete.setListGenerator((_value,position)=>this.generateAutocompleteListParams(position)).setValidator(()=>this.validateValue()).setForceLastSelection((lastSelection,searchString)=>this.forceLastSelection(lastSelection,searchString)).setInputAriaLabel(this.advFilterExpSvc.translate(\"ariaAdvancedFilterInput\")).setListAriaLabel(this.advFilterExpSvc.translate(\"ariaLabelAdvancedFilterAutocomplete\"));this.refresh();this.addManagedListeners(this.eAutocomplete,{eventValueChanged:_ref13=>{var{value}=_ref13;return this.onValueChanged(value);},eventValueConfirmed:_ref14=>{var{isValid}=_ref14;return this.onValueConfirmed(isValid);},eventOptionSelected:_ref15=>{var{position,updateEntry,autocompleteType}=_ref15;return this.onOptionSelected(position,updateEntry,autocompleteType);},eventValidChanged:_ref16=>{var{isValid,validationMessage}=_ref16;return this.onValidChanged(isValid,validationMessage);}});this.setupApplyButton();this.setupBuilderButton();}refresh(){var expression=this.advancedFilter.getExpressionDisplayValue();this.eAutocomplete.setValue({value:expression!==null&&expression!==void 0?expression:\"\",position:expression===null||expression===void 0?void 0:expression.length,updateListOnlyIfOpen:true});}setInputDisabled(disabled){this.eAutocomplete.setInputDisabled(disabled);(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setDisabled)(this.eApplyFilterButton,disabled||this.isApplyDisabled);}setupApplyButton(){this.eApplyFilterButton.textContent=this.advFilterExpSvc.translate(\"advancedFilterApply\");this.activateTabIndex([this.eApplyFilterButton]);this.addManagedElementListeners(this.eApplyFilterButton,{click:()=>this.onValueConfirmed(this.eAutocomplete.isValid())});(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setDisabled)(this.eApplyFilterButton,this.isApplyDisabled);}setupBuilderButton(){this.eBuilderFilterButtonIcon.appendChild((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createIconNoSpan)(\"advancedFilterBuilder\",this.beans));this.eBuilderFilterButtonLabel.textContent=this.advFilterExpSvc.translate(\"advancedFilterBuilder\");this.activateTabIndex([this.eBuilderFilterButton]);this.addManagedElementListeners(this.eBuilderFilterButton,{click:()=>this.openBuilder()});this.addManagedListeners(this.advancedFilter.getCtrl(),{advancedFilterBuilderClosed:()=>this.closeBuilder()});}onValueChanged(value){var _this$expressionParse;value=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._makeNull)(value);this.advancedFilter.setExpressionDisplayValue(value);this.expressionParser=this.advancedFilter.createExpressionParser(value);var updatedExpression=(_this$expressionParse=this.expressionParser)===null||_this$expressionParse===void 0?void 0:_this$expressionParse.parseExpression();if(updatedExpression&&updatedExpression!==value){this.eAutocomplete.setValue({value:updatedExpression,silent:true,restoreFocus:true});}}onValueConfirmed(isValid){var _this$filterManager;if(!isValid||this.isApplyDisabled){return;}(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setDisabled)(this.eApplyFilterButton,true);this.advancedFilter.applyExpression();(_this$filterManager=this.filterManager)===null||_this$filterManager===void 0||_this$filterManager.onFilterChanged({source:\"advancedFilter\"});}onOptionSelected(position,updateEntry,type){var{updatedValue,updatedPosition,hideAutocomplete}=this.updateExpression(position,updateEntry,type);this.eAutocomplete.setValue({value:updatedValue,position:updatedPosition,updateListOnlyIfOpen:hideAutocomplete,restoreFocus:true});}validateValue(){var _this$expressionParse2,_this$expressionParse3,_this$expressionParse4;return(_this$expressionParse2=this.expressionParser)!==null&&_this$expressionParse2!==void 0&&_this$expressionParse2.isValid()?null:(_this$expressionParse3=(_this$expressionParse4=this.expressionParser)===null||_this$expressionParse4===void 0?void 0:_this$expressionParse4.getValidationMessage())!==null&&_this$expressionParse3!==void 0?_this$expressionParse3:null;}onValidChanged(isValid,validationMessage){var _this$tooltipFeature;this.isApplyDisabled=!isValid||this.advancedFilter.isCurrentExpressionApplied();(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setDisabled)(this.eApplyFilterButton,this.isApplyDisabled);(_this$tooltipFeature=this.tooltipFeature)===null||_this$tooltipFeature===void 0||_this$tooltipFeature.setTooltipAndRefresh(validationMessage);}generateAutocompleteListParams(position){return this.expressionParser?this.expressionParser.getAutocompleteListParams(position):this.advFilterExpSvc.getDefaultAutocompleteListParams(\"\");}updateExpression(position,updateEntry,type){var _this$expressionParse5,_this$expressionParse6;this.advFilterExpSvc.updateAutocompleteCache(updateEntry,type);return(_this$expressionParse5=(_this$expressionParse6=this.expressionParser)===null||_this$expressionParse6===void 0?void 0:_this$expressionParse6.updateExpression(position,updateEntry,type))!==null&&_this$expressionParse5!==void 0?_this$expressionParse5:this.advancedFilter.getDefaultExpression(updateEntry);}forceLastSelection(_ref17,searchString){var{key,displayValue}=_ref17;return!!searchString.toLocaleLowerCase().match(\"^\".concat((displayValue!==null&&displayValue!==void 0?displayValue:key).toLocaleLowerCase(),\"\\\\s*$\"));}openBuilder(){if(this.builderOpen){return;}this.builderOpen=true;(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setDisabled)(this.eBuilderFilterButton,true);this.advancedFilter.getCtrl().toggleFilterBuilder({source:\"ui\",eventSource:this.eBuilderFilterButton});}closeBuilder(){if(!this.builderOpen){return;}this.builderOpen=false;(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setDisabled)(this.eBuilderFilterButton,false);this.eBuilderFilterButton.focus();}};// packages/ag-grid-enterprise/src/advancedFilter/advancedFilterHeaderComp.ts\nvar AdvancedFilterHeaderElement={tag:\"div\",cls:\"ag-advanced-filter-header\",role:\"row\"};var AdvancedFilterHeaderComp=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(enabled){super(AdvancedFilterHeaderElement);this.enabled=enabled;}wireBeans(beans){this.colModel=beans.colModel;this.focusSvc=beans.focusSvc;this.ctrlsSvc=beans.ctrlsSvc;}postConstruct(){this.setupAdvancedFilter(this.enabled);this.addDestroyFunc(()=>this.destroyBean(this.eAdvancedFilter));var heightListener=()=>{if(this.enabled){this.setEnabledHeight();}};this.addManagedEventListeners({gridColumnsChanged:()=>this.onGridColumnsChanged(),columnHeaderHeightChanged:heightListener,gridStylesChanged:heightListener});this.addManagedPropertyListener(\"headerHeight\",heightListener);this.addManagedPropertyListener(\"floatingFiltersHeight\",heightListener);this.addGuiEventListener(\"keydown\",event=>this.onKeyDown(event));this.addGuiEventListener(\"focusout\",event=>{if(!this.getFocusableElement().contains(event.relatedTarget)){this.focusSvc.clearAdvancedFilterColumn();}});}getFocusableElement(){var _this$eAdvancedFilter,_this$eAdvancedFilter2;return(_this$eAdvancedFilter=(_this$eAdvancedFilter2=this.eAdvancedFilter)===null||_this$eAdvancedFilter2===void 0?void 0:_this$eAdvancedFilter2.getGui())!==null&&_this$eAdvancedFilter!==void 0?_this$eAdvancedFilter:this.getGui();}setEnabled(enabled){if(enabled===this.enabled){return;}this.setupAdvancedFilter(enabled);}refresh(){var _this$eAdvancedFilter3;(_this$eAdvancedFilter3=this.eAdvancedFilter)===null||_this$eAdvancedFilter3===void 0||_this$eAdvancedFilter3.refresh();}getHeight(){return this.height;}setInputDisabled(disabled){var _this$eAdvancedFilter4;(_this$eAdvancedFilter4=this.eAdvancedFilter)===null||_this$eAdvancedFilter4===void 0||_this$eAdvancedFilter4.setInputDisabled(disabled);}setupAdvancedFilter(enabled){var eGui=this.getGui();if(enabled){this.eAdvancedFilter=this.createBean(new AdvancedFilterComp());var eAdvancedFilterGui=this.eAdvancedFilter.getGui();this.eAdvancedFilter.addCss(\"ag-advanced-filter-header-cell\");this.setEnabledHeight();this.setAriaRowIndex();(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setAriaRole)(eAdvancedFilterGui,\"gridcell\");(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setAriaColIndex)(eAdvancedFilterGui,1);this.setAriaColumnCount(eAdvancedFilterGui);eGui.appendChild(eAdvancedFilterGui);}else{(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._clearElement)(eGui);this.destroyBean(this.eAdvancedFilter);this.height=0;}(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setDisplayed)(eGui,enabled);this.enabled=enabled;}setEnabledHeight(){var eGui=this.getGui();this.height=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getFloatingFiltersHeight)(this.beans);var height=\"\".concat(this.height,\"px\");eGui.style.height=height;eGui.style.minHeight=height;}setAriaColumnCount(eAdvancedFilterGui){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setAriaColSpan)(eAdvancedFilterGui,this.colModel.getCols().length);}setAriaRowIndex(){var _this$ctrlsSvc$getHea,_this$ctrlsSvc$getHea2;(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setAriaRowIndex)(this.getGui(),(_this$ctrlsSvc$getHea=(_this$ctrlsSvc$getHea2=this.ctrlsSvc.getHeaderRowContainerCtrl())===null||_this$ctrlsSvc$getHea2===void 0?void 0:_this$ctrlsSvc$getHea2.getRowCount())!==null&&_this$ctrlsSvc$getHea!==void 0?_this$ctrlsSvc$getHea:0);}onGridColumnsChanged(){if(!this.eAdvancedFilter){return;}this.setAriaColumnCount(this.eAdvancedFilter.getGui());this.setAriaRowIndex();}onKeyDown(event){switch(event.key){case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.ENTER:{if(this.hasFocus()){if((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._focusInto)(this.getFocusableElement())){event.preventDefault();}}break;}case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.ESCAPE:if(!this.hasFocus()){this.getFocusableElement().focus();}break;case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.UP:this.navigateUpDown(true,event);break;case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.DOWN:this.navigateUpDown(false,event);break;case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.TAB:if(this.hasFocus()){this.navigateLeftRight(event);}else{var nextFocusableEl=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._findNextFocusableElement)(this.beans,this.getFocusableElement(),null,event.shiftKey);if(nextFocusableEl){event.preventDefault();nextFocusableEl.focus();}else{this.navigateLeftRight(event);}}break;}}navigateUpDown(backwards,event){if(this.hasFocus()){if(this.focusSvc.focusNextFromAdvancedFilter(backwards)){event.preventDefault();}}}navigateLeftRight(event){if(event.shiftKey?this.focusSvc.focusLastHeader():this.focusSvc.focusNextFromAdvancedFilter(false,true)){event.preventDefault();}}hasFocus(){return (0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getActiveDomElement)(this.beans)===this.getFocusableElement();}};// packages/ag-grid-enterprise/src/advancedFilter/builder/advancedFilterBuilderComp.ts\n// packages/ag-grid-enterprise/src/advancedFilter/builder/advancedFilterBuilderDragFeature.ts\n// packages/ag-grid-enterprise/src/features/virtualListDragFeature.ts\nvar LIST_ITEM_HOVERED=\"ag-list-item-hovered\";var VirtualListDragFeature=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BeanStub{constructor(comp,virtualList,params){super();this.comp=comp;this.virtualList=virtualList;this.params=params;this.currentDragValue=null;this.lastHoveredListItem=null;}wireBeans(beans){this.dragAndDrop=beans.dragAndDrop;}postConstruct(){this.addManagedListeners(this.params.eventSource,{[this.params.listItemDragStartEvent]:this.listItemDragStart.bind(this),[this.params.listItemDragEndEvent]:this.listItemDragEnd.bind(this)});this.createDropTarget();this.createAutoScrollService();}listItemDragStart(event){this.currentDragValue=this.params.getCurrentDragValue(event);this.moveBlocked=this.params.isMoveBlocked(this.currentDragValue);}listItemDragEnd(){window.setTimeout(()=>{this.currentDragValue=null;this.moveBlocked=false;},10);}createDropTarget(){var _this$dragAndDrop;var dropTarget={isInterestedIn:type=>type===this.params.dragSourceType,getIconName:()=>this.moveBlocked?\"pinned\":\"move\",getContainer:()=>this.comp.getGui(),onDragging:e=>this.onDragging(e),onDragStop:()=>this.onDragStop(),onDragLeave:()=>this.onDragLeave(),onDragCancel:()=>this.onDragCancel()};(_this$dragAndDrop=this.dragAndDrop)===null||_this$dragAndDrop===void 0||_this$dragAndDrop.addDropTarget(dropTarget);}createAutoScrollService(){var virtualListGui=this.virtualList.getGui();this.autoScrollService=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AutoScrollService({scrollContainer:virtualListGui,scrollAxis:\"y\",getVerticalPosition:()=>virtualListGui.scrollTop,setVerticalPosition:position=>virtualListGui.scrollTop=position});}onDragging(e){if(!this.currentDragValue||this.moveBlocked){return;}var hoveredListItem=this.getListDragItem(e);var comp=this.virtualList.getComponentAt(hoveredListItem.rowIndex);if(!comp){return;}var el=comp.getGui().parentElement;if(this.lastHoveredListItem&&this.lastHoveredListItem.rowIndex===hoveredListItem.rowIndex&&this.lastHoveredListItem.position===hoveredListItem.position){return;}this.autoScrollService.check(e.event);this.clearHoveredItems();this.lastHoveredListItem=hoveredListItem;(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._radioCssClass)(el,LIST_ITEM_HOVERED);(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._radioCssClass)(el,\"ag-item-highlight-\".concat(hoveredListItem.position));}getListDragItem(e){var virtualListGui=this.virtualList.getGui();var paddingTop=parseFloat(window.getComputedStyle(virtualListGui).paddingTop);var rowHeight=this.virtualList.getRowHeight();var scrollTop=this.virtualList.getScrollTop();var rowIndex=Math.max(0,(e.y-paddingTop+scrollTop)/rowHeight);var maxLen=this.params.getNumRows(this.comp)-1;var normalizedRowIndex=Math.min(maxLen,rowIndex)|0;return{rowIndex:normalizedRowIndex,position:Math.round(rowIndex)>rowIndex||rowIndex>maxLen?\"bottom\":\"top\",component:this.virtualList.getComponentAt(normalizedRowIndex)};}onDragStop(){if(this.moveBlocked){return;}this.params.moveItem(this.currentDragValue,this.lastHoveredListItem);this.clearDragProperties();}onDragCancel(){this.clearDragProperties();}onDragLeave(){this.clearDragProperties();}clearDragProperties(){this.clearHoveredItems();this.autoScrollService.ensureCleared();}clearHoveredItems(){var virtualListGui=this.virtualList.getGui();virtualListGui.querySelectorAll(\".\".concat(LIST_ITEM_HOVERED)).forEach(el=>{[LIST_ITEM_HOVERED,\"ag-item-highlight-top\",\"ag-item-highlight-bottom\"].forEach(cls=>{el.classList.remove(cls);});});this.lastHoveredListItem=null;}};// packages/ag-grid-enterprise/src/advancedFilter/builder/advancedFilterBuilderDragFeature.ts\nvar AdvancedFilterBuilderDragFeature=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BeanStub{constructor(comp,virtualList){super();this.comp=comp;this.virtualList=virtualList;}postConstruct(){this.createManagedBean(new VirtualListDragFeature(this.comp,this.virtualList,{dragSourceType:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.DragSourceType.AdvancedFilterBuilder,listItemDragStartEvent:\"advancedFilterBuilderDragStarted\",listItemDragEndEvent:\"advancedFilterBuilderDragEnded\",eventSource:this,getCurrentDragValue:listItemDragStartEvent=>this.getCurrentDragValue(listItemDragStartEvent),isMoveBlocked:()=>false,getNumRows:comp=>comp.getNumItems(),moveItem:(currentDragValue,lastHoveredListItem)=>this.moveItem(currentDragValue,lastHoveredListItem)}));}getCurrentDragValue(listItemDragStartEvent){return listItemDragStartEvent.item;}moveItem(currentDragValue,lastHoveredListItem){this.comp.moveItem(currentDragValue,lastHoveredListItem);}};// packages/ag-grid-enterprise/src/advancedFilter/builder/advancedFilterBuilderItemAddComp.ts\n// packages/ag-grid-enterprise/src/advancedFilter/builder/addDropdownComp.ts\n// packages/ag-grid-enterprise/src/widgets/agRichSelect.ts\n// packages/ag-grid-enterprise/src/widgets/AgPillContainer.ts\n// packages/ag-grid-enterprise/src/widgets/agPill.ts\nvar AgPillElement={tag:\"div\",cls:\"ag-pill\",role:\"option\",children:[{tag:\"span\",ref:\"eText\",cls:\"ag-pill-text\"},{tag:\"span\",ref:\"eButton\",cls:\"ag-button ag-pill-button\",role:\"presentation\"}]};var AgPill=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(config){super(AgPillElement);this.config=config;this.eText=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.eButton=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;}postConstruct(){var{config,eButton}=this;var{onKeyDown,onButtonClick}=config;this.getGui().setAttribute(\"tabindex\",String(this.gos.get(\"tabIndex\")));this.addGuiEventListener(\"focus\",()=>{this.eButton.focus();});if(onKeyDown){this.addGuiEventListener(\"keydown\",onKeyDown);}if(onButtonClick){this.addManagedElementListeners(eButton,{click:onButtonClick});}}toggleCloseButtonClass(className,force){this.eButton.classList.toggle(className,force);}setText(text){this.eText.textContent=text;}getText(){return this.eText.textContent;}};// packages/ag-grid-enterprise/src/widgets/AgPillContainer.ts\nvar AgPillContainerElement={tag:\"div\",cls:\"ag-pill-container\"};var AgPillContainer=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(){super(AgPillContainerElement);this.pills=[];}init(params){this.params=params;this.refresh();}refresh(){var _params$valueFormatte,_this6=this;this.clearPills();var{params,onPillKeyDown}=this;var values=params.getValue();if(!Array.isArray(values)){if(values==null){return;}values=[values];}var valueFormatter=(_params$valueFormatte=params.valueFormatter)!==null&&_params$valueFormatte!==void 0?_params$valueFormatte:v=>String(v);var len=values.length;(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setAriaRole)(this.getGui(),len===0?\"presentation\":\"listbox\");var _loop=function _loop(){var _valueFormatter;var value=values[i];var pill=_this6.createBean(new AgPill({onButtonClick:()=>_this6.onPillButtonClick(pill),onKeyDown:onPillKeyDown.bind(_this6)}));var pillGui=pill.getGui();(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setAriaPosInSet)(pillGui,i+1);(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setAriaSetSize)(pillGui,len);if(params.onPillMouseDown){pill.addGuiEventListener(\"mousedown\",params.onPillMouseDown);}if(params.announceItemFocus){pill.addGuiEventListener(\"focus\",params.announceItemFocus);}pill.setText((_valueFormatter=valueFormatter(value))!==null&&_valueFormatter!==void 0?_valueFormatter:\"\");pill.toggleCloseButtonClass(\"ag-icon-cancel\",true);_this6.appendChild(pillGui);_this6.pills.push(pill);};for(var i=0;i<len;i++){_loop();}}onNavigationKeyDown(e){var{key}=e;if(!this.pills.length||key!==ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.LEFT&&key!==ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.RIGHT){return;}e.preventDefault();var{params,beans}=this;var activeEl=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getActiveDomElement)(beans);var eGui=this.getGui();if(eGui.contains(activeEl)){var nextFocusableEl=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._findNextFocusableElement)(beans,eGui,false,key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.LEFT);if(nextFocusableEl){nextFocusableEl.focus();}else if(params.eWrapper){params.eWrapper.focus();}}else{var focusableElements=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._findFocusableElements)(eGui);if(focusableElements.length>0){focusableElements[key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.RIGHT?0:focusableElements.length-1].focus();}}}clearPills(){var eGui=this.getGui();if(eGui.contains((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getActiveDomElement)(this.beans))&&this.params.eWrapper){this.params.eWrapper.focus();}(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._clearElement)(eGui);this.destroyBeans(this.pills);this.pills=[];}onPillButtonClick(pill){this.deletePill(pill);}onPillKeyDown(e){var key=e.key;if(key!==ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.DELETE&&key!==ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.BACKSPACE){return;}e.preventDefault();var eDoc=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getDocument)(this.beans);var pillIndex=this.pills.findIndex(pill2=>pill2.getGui().contains(eDoc.activeElement));if(pillIndex===-1){return;}var pill=this.pills[pillIndex];if(pill){this.deletePill(pill,pillIndex);}}deletePill(pill,restoreFocusToIndex){var value=pill.getText();var values=(this.params.getValue()||[]).filter(val=>val!==value);this.params.setValue(values);if(!values.length&&this.params.eWrapper){this.params.eWrapper.focus();}else if(restoreFocusToIndex!=null){var pill2=this.pills[Math.min(restoreFocusToIndex,this.pills.length-1)];if(pill2){pill2.getFocusableElement().focus();}}}destroy(){this.clearPills();super.destroy();}};// packages/ag-grid-enterprise/src/widgets/agRichSelect.css-GENERATED.ts\nvar agRichSelectCSS=/*css*/\".ag-rich-select{cursor:default;height:100%}.ag-rich-select-value{align-items:center;background-color:var(--ag-picker-button-background-color);display:flex;height:100%;padding:var(--ag-spacing);:where(.ag-picker-field-display){overflow:hidden;text-overflow:ellipsis;&:where(.ag-display-as-placeholder){opacity:.5}}}.ag-rich-select-list{background-color:var(--ag-picker-list-background-color);border:var(--ag-picker-list-border);border-radius:var(--ag-input-border-radius);box-shadow:var(--ag-dropdown-shadow);height:auto;position:relative;width:100%;:where(.ag-loading-text){padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}}.ag-rich-select-row{align-items:center;display:flex;flex:1 1 auto;height:100%;overflow:hidden;padding:0 var(--ag-spacing);white-space:nowrap}.ag-rich-select-row-selected{background-color:var(--ag-selected-row-background-color)}.ag-rich-select-row-highlighted,.ag-rich-select-row:hover{background-image:linear-gradient(var(--ag-row-hover-color),var(--ag-row-hover-color))}.ag-rich-select-row-text-highlight{font-weight:700}.ag-rich-select-field-input{flex:1 1 auto;:where(.ag-input-field-input){border:none!important;box-shadow:none!important;padding:0!important;text-overflow:ellipsis;&::-moz-placeholder{opacity:.8}&::placeholder{opacity:.8}}}:where(.ag-ltr) .ag-rich-select-field-input{left:var(--ag-spacing)}:where(.ag-rtl) .ag-rich-select-field-input{right:var(--ag-spacing)}:where(.ag-popup-editor) .ag-rich-select-value{height:var(--ag-row-height);min-width:200px}.ag-rich-select-virtual-list-item{cursor:default;height:var(--ag-list-item-height)}.ag-pill-container{display:flex;flex-wrap:nowrap;gap:.25rem}.ag-pill{align-items:center;background:var(--ag-select-cell-background-color);border:var(--ag-select-cell-border);border-radius:var(--ag-border-radius);display:flex;padding:0 .25rem;white-space:nowrap}.ag-pill-button{border:none;padding:0;&:hover{color:var(--ag-accent-color);cursor:pointer}}:where(.ag-ltr) .ag-pill-button{margin-left:var(--ag-spacing)}:where(.ag-rtl) .ag-pill-button{margin-right:var(--ag-spacing)}\";// packages/ag-grid-enterprise/src/widgets/agRichSelectList.ts\n// packages/ag-grid-enterprise/src/widgets/agRichSelectRow.ts\nvar RichSelectRowElement={tag:\"div\",cls:\"ag-rich-select-row\",role:\"presentation\"};var RichSelectRow=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(params){super(RichSelectRowElement);this.params=params;}wireBeans(beans){this.userCompFactory=beans.userCompFactory;this.registry=beans.registry;}postConstruct(){this.tooltipFeature=this.createOptionalManagedBean(this.registry.createDynamicBean(\"tooltipFeature\",false,{getGui:()=>this.getGui(),shouldDisplayTooltip:()=>{var _this$shouldDisplayTo,_this$shouldDisplayTo2;return(_this$shouldDisplayTo=(_this$shouldDisplayTo2=this.shouldDisplayTooltip)===null||_this$shouldDisplayTo2===void 0?void 0:_this$shouldDisplayTo2.call(this))!==null&&_this$shouldDisplayTo!==void 0?_this$shouldDisplayTo:true;}}));}setState(value){var _params$valueFormatte2,_params$valueFormatte3;var{params}=this;var formattedValue=(_params$valueFormatte2=(_params$valueFormatte3=params.valueFormatter)===null||_params$valueFormatte3===void 0?void 0:_params$valueFormatte3.call(params,value))!==null&&_params$valueFormatte2!==void 0?_params$valueFormatte2:\"\";var rendererSuccessful=this.populateWithRenderer(value,formattedValue);if(!rendererSuccessful){this.populateWithoutRenderer(value,formattedValue);}this.value=value;}highlightString(matchString){var{parsedValue,params}=this;if(params.cellRenderer||!(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._exists)(parsedValue)){return;}var hasMatch=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._exists)(matchString);if(hasMatch){var index=parsedValue===null||parsedValue===void 0?void 0:parsedValue.toLocaleLowerCase().indexOf(matchString.toLocaleLowerCase());if(index>=0){var highlightEndIndex=index+matchString.length;var child=this.getGui().querySelector(\"span\");if(child){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._clearElement)(child);child.append(// Start part\nparsedValue.slice(0,index),// Highlighted part wrapped in bold tag\n(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createElement)({tag:\"span\",cls:\"ag-rich-select-row-text-highlight\",children:parsedValue.slice(index,highlightEndIndex)}),// End part\nparsedValue.slice(highlightEndIndex));}}else{hasMatch=false;}}if(!hasMatch){this.renderValueWithoutRenderer(parsedValue);}}updateSelected(selected){var eGui=this.getGui();(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setAriaSelected)(eGui.parentElement,selected);this.toggleCss(\"ag-rich-select-row-selected\",selected);}getValue(){return this.value;}toggleHighlighted(highlighted){this.toggleCss(\"ag-rich-select-row-highlighted\",highlighted);}populateWithoutRenderer(value,valueFormatted){var _this$tooltipFeature2;var eGui=this.getGui();var span=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createElement)({tag:\"span\"});span.style.overflow=\"hidden\";span.style.textOverflow=\"ellipsis\";var parsedValue=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._toString)((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._exists)(valueFormatted)?valueFormatted:value);this.parsedValue=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._exists)(parsedValue)?parsedValue:null;eGui.appendChild(span);this.renderValueWithoutRenderer(parsedValue);this.shouldDisplayTooltip=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isElementOverflowingCallback)(()=>span);(_this$tooltipFeature2=this.tooltipFeature)===null||_this$tooltipFeature2===void 0||_this$tooltipFeature2.setTooltipAndRefresh(this.parsedValue);}renderValueWithoutRenderer(value){var span=this.getGui().querySelector(\"span\");if(!span){return;}span.textContent=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._exists)(value)?value:\"\\xA0\";}populateWithRenderer(value,valueFormatted){var cellRendererPromise;var userCompDetails;if(this.params.cellRenderer){var _this$getParentCompon;var richSelect=(_this$getParentCompon=this.getParentComponent())===null||_this$getParentCompon===void 0?void 0:_this$getParentCompon.getParentComponent();userCompDetails=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getEditorRendererDetails)(this.userCompFactory,this.params,(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._addGridCommonParams)(this.gos,{value,valueFormatted,getValue:()=>richSelect===null||richSelect===void 0?void 0:richSelect.getValue(),setValue:value2=>{richSelect===null||richSelect===void 0||richSelect.setValue(value2,true);},setTooltip:(value2,shouldDisplayTooltip)=>{var _this$tooltipFeature3;this.gos.assertModuleRegistered(\"Tooltip\",3);this.shouldDisplayTooltip=shouldDisplayTooltip;(_this$tooltipFeature3=this.tooltipFeature)===null||_this$tooltipFeature3===void 0||_this$tooltipFeature3.setTooltipAndRefresh(value2);}}));}if(userCompDetails){cellRendererPromise=userCompDetails.newAgStackInstance();}if(cellRendererPromise){_bindCellRendererToHtmlElement(cellRendererPromise,this.getGui());}if(cellRendererPromise){cellRendererPromise.then(childComponent=>{this.addDestroyFunc(()=>{this.destroyBean(childComponent);});});return true;}return false;}};// packages/ag-grid-enterprise/src/widgets/agRichSelectList.ts\nvar LIST_COMPONENT_NAME=\"ag-rich-select-list\";var ROW_COMPONENT_NAME=\"ag-rich-select-row\";var AgRichSelectList=class extends VirtualList{constructor(params,richSelectWrapper,getSearchString2){super({cssIdentifier:\"rich-select\"});this.params=params;this.richSelectWrapper=richSelectWrapper;this.getSearchString=getSearchString2;this.lastRowHovered=-1;this.selectedItems=/* @__PURE__ */new Set();this.params=params;this.setComponentCreator(this.createRowComponent.bind(this));this.setComponentUpdater(()=>{});}postConstruct(){super.postConstruct();this.eLoading=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createElement)({tag:\"div\",cls:\"ag-loading-text\",children:this.getLocaleTextFunc()(\"loadingOoo\",\"Loading...\")});var{cellRowHeight,pickerAriaLabelKey,pickerAriaLabelValue}=this.params;if(cellRowHeight){this.setRowHeight(cellRowHeight);}var eGui=this.getGui();var eListAriaEl=this.getAriaElement();this.addManagedListeners(eGui,{mousemove:this.onMouseMove.bind(this),mouseout:this.onMouseOut.bind(this),mousedown:this.onMouseDown.bind(this),click:this.onClick.bind(this)});eGui.classList.add(LIST_COMPONENT_NAME);var listId=\"\".concat(LIST_COMPONENT_NAME,\"-\").concat(this.getCompId());eListAriaEl.setAttribute(\"id\",listId);var translate=this.getLocaleTextFunc();var ariaLabel=translate(pickerAriaLabelKey,pickerAriaLabelValue);(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setAriaLabel)(eListAriaEl,ariaLabel);(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setAriaControlsAndLabel)(this.richSelectWrapper,eListAriaEl);}navigateToPage(key){var newIndex=super.navigateToPage(key,this.lastRowHovered);if(newIndex!=null){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._requestAnimationFrame)(this.beans,()=>{if(!this.isAlive()){return null;}this.highlightIndex(newIndex);});}return newIndex;}drawVirtualRows(softRefresh){super.drawVirtualRows(softRefresh);this.refreshSelectedItems();}highlightFilterMatch(searchString){this.forEachRenderedRow(cmp=>{cmp.highlightString(searchString);});}onNavigationKeyDown(key,announceItem){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._requestAnimationFrame)(this.beans,()=>{if(!this.currentList||!this.isAlive()){return;}var len=this.currentList.length;var oldIndex=this.lastRowHovered;var diff=key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.DOWN?1:-1;var newIndex=Math.min(Math.max(oldIndex===-1?0:oldIndex+diff,0),len-1);this.highlightIndex(newIndex);announceItem();});}selectValue(value){var _this$eLoading;if(!this.currentList){if(this.eLoading){this.appendChild(this.eLoading);}return false;}if((_this$eLoading=this.eLoading)!==null&&_this$eLoading!==void 0&&_this$eLoading.offsetParent){var _this$eLoading$parent;(_this$eLoading$parent=this.eLoading.parentElement)===null||_this$eLoading$parent===void 0||_this$eLoading$parent.removeChild(this.eLoading);}if(value==null){return false;}var selectedPositions=this.getIndicesForValues(value);var refresh=selectedPositions.length>0;if(refresh){this.refresh();this.ensureIndexVisible(selectedPositions[0]);this.refresh(true);}this.selectListItems(Array.isArray(value)?value:[value]);return refresh;}selectListItems(values){var append=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(!append){this.selectedItems.clear();}for(var i=0;i<values.length;i++){var currentItem=values[i];if(this.findItemInSelected(currentItem)!==void 0){continue;}this.selectedItems.add(currentItem);}this.refreshSelectedItems();}getCurrentList(){return this.currentList;}setCurrentList(list){this.currentList=list;this.setModel({getRowCount:()=>list.length,getRow:index=>list[index],areRowsEqual:(oldRow,newRow)=>oldRow===newRow});}getSelectedItems(){return this.selectedItems;}getLastItemHovered(){return this.currentList[this.lastRowHovered];}highlightIndex(index,preventUnnecessaryScroll){if(!this.currentList){return;}if(index<0||index>=this.currentList.length){this.lastRowHovered=-1;}else{this.lastRowHovered=index;var wasScrolled=this.ensureIndexVisible(index,!preventUnnecessaryScroll);if(wasScrolled&&!preventUnnecessaryScroll){this.refresh(true);}}this.forEachRenderedRow((cmp,idx)=>{var highlighted=index===idx;cmp.toggleHighlighted(highlighted);if(highlighted){var idForParent=\"\".concat(ROW_COMPONENT_NAME,\"-\").concat(cmp.getCompId());(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setAriaActiveDescendant)(this.richSelectWrapper,idForParent);this.richSelectWrapper.setAttribute(\"data-active-option\",idForParent);}});}getIndicesForValues(values){var{currentList}=this;if(!currentList||currentList.length===0||values==null){return[];}if(!Array.isArray(values)){values=[values];}if(values.length===0){return[];}var{valueFormatter}=this.params;var positions=[];var isObject=typeof values[0]===\"object\";var formattedList=currentList.map(valueFormatter);for(var value of values){var idx=-1;if(isObject){idx=formattedList.indexOf(valueFormatter(value));}else{idx=currentList.indexOf(value);}if(idx>=0){positions.push(idx);}}return positions;}toggleListItemSelection(value){var item=this.findItemInSelected(value);if(item!==void 0){this.selectedItems.delete(item);}else{this.selectedItems.add(value);}this.refreshSelectedItems();this.dispatchValueSelected();}refreshSelectedItems(){this.forEachRenderedRow(cmp=>{var selected=this.findItemInSelected(cmp.getValue())!==void 0;cmp.updateSelected(selected);});}findItemInSelected(value){if(typeof value===\"object\"){var valueFormatter=this.params.valueFormatter;var valueFormatted=valueFormatter(value);for(var item of this.selectedItems){if(valueFormatter(item)===valueFormatted){return item;}}}else{return this.selectedItems.has(value)?value:void 0;}}createRowComponent(value,listItemElement){var row=new RichSelectRow(this.params);listItemElement.setAttribute(\"id\",\"\".concat(ROW_COMPONENT_NAME,\"-\").concat(row.getCompId()));row.setParentComponent(this);this.createBean(row);row.setState(value);var{highlightMatch,searchType=\"fuzzy\"}=this.params;if(highlightMatch&&searchType!==\"fuzzy\"){row.highlightString(this.getSearchString());}return row;}getRowForMouseEvent(e){var eGui=this.getGui();var rect=eGui.getBoundingClientRect();var scrollTop=this.getScrollTop();var mouseY=e.clientY-rect.top+scrollTop;return Math.min(Math.floor(mouseY/this.getRowHeight()),this.model.getRowCount()-1);}onMouseMove(e){var row=this.getRowForMouseEvent(e);if(row!==-1&&row!=this.lastRowHovered){this.lastRowHovered=row;this.highlightIndex(row,true);}}onMouseDown(e){e.preventDefault();}onMouseOut(e){if(!this.getGui().contains(e.relatedTarget)){this.highlightIndex(-1);}}onClick(e){var{multiSelect}=this.params;if(!this.currentList){return;}var row=this.getRowForMouseEvent(e);var item=this.currentList[row];if(multiSelect){this.toggleListItemSelection(item);}else{this.selectListItems([item]);this.dispatchValueSelected();}}dispatchValueSelected(){this.dispatchLocalEvent({type:\"richSelectListRowSelected\",fromEnterKey:false,value:this.selectedItems});}destroy(){super.destroy();this.eLoading=void 0;}};// packages/ag-grid-enterprise/src/widgets/agRichSelect.ts\nvar AgRichSelectElement={tag:\"div\",cls:\"ag-picker-field\",role:\"presentation\",children:[{tag:\"div\",ref:\"eLabel\"},{tag:\"div\",ref:\"eWrapper\",cls:\"ag-wrapper ag-picker-field-wrapper ag-rich-select-value ag-picker-collapsed\",children:[{tag:\"span\",ref:\"eDisplayField\",cls:\"ag-picker-field-display\"},{tag:\"ag-input-text-field\",ref:\"eInput\",cls:\"ag-rich-select-field-input\"},{tag:\"span\",ref:\"eDeselect\",cls:\"ag-rich-select-deselect-button ag-picker-field-icon\",role:\"presentation\"},{tag:\"span\",ref:\"eIcon\",cls:\"ag-picker-field-icon\",attrs:{\"aria-hidden\":\"true\"}}]}]};var AgRichSelect=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgPickerField{constructor(config){var _config$template,_config$maxPickerHeig;super(_objectSpread(_objectSpread({pickerAriaLabelKey:\"ariaLabelRichSelectField\",pickerAriaLabelValue:\"Rich Select Field\",pickerType:\"ag-list\",className:\"ag-rich-select\",pickerIcon:\"richSelectOpen\",ariaRole:\"combobox\",template:(_config$template=config===null||config===void 0?void 0:config.template)!==null&&_config$template!==void 0?_config$template:AgRichSelectElement,agComponents:[ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgInputTextFieldSelector],modalPicker:false},config),{},{// maxPickerHeight needs to be set after expanding `config`\nmaxPickerHeight:(_config$maxPickerHeig=config===null||config===void 0?void 0:config.maxPickerHeight)!==null&&_config$maxPickerHeig!==void 0?_config$maxPickerHeig:\"calc(var(--ag-row-height) * 6.5)\"}));this.searchString=\"\";this.searchStringCreator=null;this.eInput=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.eDeselect=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.skipWrapperAnnouncement=false;var{value,valueList,searchStringCreator}=config||{};if(value!==void 0){this.value=value;}if(searchStringCreator){this.searchStringCreator=searchStringCreator;}if(valueList!=null){this.setValues(valueList);}this.registerCSS(agRichSelectCSS);}wireBeans(beans){this.userCompFactory=beans.userCompFactory;this.ariaAnnounce=beans.ariaAnnounce;this.registry=beans.registry;}postConstruct(){this.tooltipFeature=this.createOptionalManagedBean(this.registry.createDynamicBean(\"tooltipFeature\",false,{getGui:()=>this.getGui(),shouldDisplayTooltip:()=>{var _this$shouldDisplayTo3,_this$shouldDisplayTo4;return(_this$shouldDisplayTo3=(_this$shouldDisplayTo4=this.shouldDisplayTooltip)===null||_this$shouldDisplayTo4===void 0?void 0:_this$shouldDisplayTo4.call(this))!==null&&_this$shouldDisplayTo3!==void 0?_this$shouldDisplayTo3:true;}}));super.postConstruct();this.createListComponent();this.eDeselect.appendChild((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createIconNoSpan)(\"richSelectRemove\",this.beans));var{allowTyping,placeholder,suppressDeselectAll}=this.config;this.eDeselect.classList.add(\"ag-hidden\");if(allowTyping){this.eInput.setAutoComplete(false).setInputPlaceholder(placeholder);this.eDisplayField.classList.add(\"ag-hidden\");}else{this.eInput.setDisplayed(false);}this.setupAriaProperties();var{searchDebounceDelay=300}=this.config;this.clearSearchString=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._debounce)(this,this.clearSearchString.bind(this),searchDebounceDelay);this.renderSelectedValue();if(allowTyping){this.eInput.onValueChange(value=>this.searchTextFromString(value));}this.addManagedElementListeners(this.eWrapper,{focus:this.onWrapperFocus.bind(this)});this.addManagedElementListeners(this.eWrapper,{focusout:this.onWrapperFocusOut.bind(this)});if(!suppressDeselectAll){this.addManagedElementListeners(this.eDeselect,{mousedown:this.onDeselectAllMouseDown.bind(this),click:this.onDeselectAllClick.bind(this)});}}setupAriaProperties(){var{eWrapper,gos}=this;eWrapper.tabIndex=gos.get(\"tabIndex\");var translate=this.getLocaleTextFunc();this.ariaDeleteSelection=translate(\"ariaLabelRichSelectDeleteSelection\",\"Press DELETE to deselect item\");this.ariaDeselectAllItems=translate(\"ariaLabelRichSelectDeselectAllItems\",\"Press DELETE to deselect all items\");this.ariaToggleSelection=translate(\"ariaLabelRichSelectToggleSelection\",\"Press SPACE to toggle selection\");}createListComponent(){this.listComponent=this.createBean(new AgRichSelectList(this.config,this.getFocusableElement(),()=>this.searchString));this.listComponent.setParentComponent(this);this.addManagedListeners(this.listComponent,{richSelectListRowSelected:e=>{this.onListValueSelected(e.value,e.fromEnterKey);}});}renderSelectedValue(){var _config$valueFormatte,_config$valueFormatte2;var{value,eDisplayField,config,gos}=this;var{allowTyping,cellRenderer,initialInputValue,multiSelect,suppressDeselectAll,suppressMultiSelectPillRenderer}=config;var valueFormatted=(_config$valueFormatte=(_config$valueFormatte2=config.valueFormatter)===null||_config$valueFormatte2===void 0?void 0:_config$valueFormatte2.call(config,value))!==null&&_config$valueFormatte!==void 0?_config$valueFormatte:String(value);if(allowTyping){this.eInput.setValue(initialInputValue!==null&&initialInputValue!==void 0?initialInputValue:valueFormatted);return;}if(multiSelect&&!suppressDeselectAll){var isEmpty=value==null||Array.isArray(value)&&value.length===0;this.eDeselect.classList.toggle(\"ag-hidden\",isEmpty);}var userCompDetails;if(multiSelect&&!suppressMultiSelectPillRenderer){this.createOrUpdatePillContainer(eDisplayField);return;}if(cellRenderer){userCompDetails=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getEditorRendererDetails)(this.userCompFactory,config,(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._addGridCommonParams)(this.gos,{value,valueFormatted,getValue:()=>this.getValue(),setValue:value2=>{this.setValue(value2,true);},setTooltip:(value2,shouldDisplayTooltip)=>{var _this$tooltipFeature4;gos.assertModuleRegistered(\"Tooltip\",3);this.shouldDisplayTooltip=shouldDisplayTooltip;(_this$tooltipFeature4=this.tooltipFeature)===null||_this$tooltipFeature4===void 0||_this$tooltipFeature4.setTooltipAndRefresh(value2);}}));}var userCompDetailsPromise;if(userCompDetails){userCompDetailsPromise=userCompDetails.newAgStackInstance();}if(userCompDetailsPromise){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._clearElement)(eDisplayField);_bindCellRendererToHtmlElement(userCompDetailsPromise,eDisplayField);userCompDetailsPromise.then(renderer=>{this.addDestroyFunc(()=>this.destroyBean(renderer));});}else{var _this$tooltipFeature5;if((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._exists)(this.value)){eDisplayField.innerText=valueFormatted;eDisplayField.classList.remove(\"ag-display-as-placeholder\");}else{var{placeholder}=config;if((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._exists)(placeholder)){eDisplayField.textContent=placeholder;eDisplayField.classList.add(\"ag-display-as-placeholder\");}else{(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._clearElement)(eDisplayField);}}this.shouldDisplayTooltip=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isElementOverflowingCallback)(()=>this.eDisplayField);(_this$tooltipFeature5=this.tooltipFeature)===null||_this$tooltipFeature5===void 0||_this$tooltipFeature5.setTooltipAndRefresh(valueFormatted!==null&&valueFormatted!==void 0?valueFormatted:null);}}createPickerComponent(){var{values}=this;if(values){this.setValueList({valueList:values});}return this.listComponent;}setSearchStringCreator(searchStringFn){this.searchStringCreator=searchStringFn;}setValueList(params){var{valueList,refresh}=params;if(!this.listComponent||this.listComponent.getCurrentList()===valueList){return;}this.listComponent.setCurrentList(valueList);if(refresh){if(!this.values){this.setValues(valueList);if(this.isPickerDisplayed){var hasRefreshed=this.listComponent.selectValue(this.value);if(!hasRefreshed){this.listComponent.refresh();}}}else{this.listComponent.refresh(true);}this.alignPickerToComponent();}}/**\n   * This method updates the list of values\n   */setValues(values){this.values=values;this.searchStrings=this.getSearchStringsFromValues(values);}showPicker(){super.showPicker();var{listComponent,value}=this;if(!listComponent){return;}var idx=null;listComponent.selectValue(this.value);if(this.value!=null){idx=listComponent.getIndicesForValues(Array.isArray(value)?value:[value])[0];}if(idx!=null){listComponent.highlightIndex(idx);}else{listComponent.refresh();}this.displayOrHidePicker();}beforeHidePicker(){super.beforeHidePicker();}createOrUpdatePillContainer(container){if(!this.pillContainer){var pillContainer=this.pillContainer=this.createBean(new AgPillContainer());this.addDestroyFunc(()=>{this.destroyBean(this.pillContainer);this.pillContainer=null;});(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._clearElement)(container);container.appendChild(pillContainer.getGui());var{config,eWrapper,ariaDeleteSelection}=this;var{valueFormatter}=config;pillContainer.init({eWrapper,valueFormatter,onPillMouseDown:e=>{e.stopImmediatePropagation();},announceItemFocus:()=>{this.announceAriaValue(ariaDeleteSelection);},getValue:()=>this.getValue(),setValue:value=>this.setValue(value,true)});}this.doWhileBlockingAnnouncement(()=>{var _this$pillContainer;return(_this$pillContainer=this.pillContainer)===null||_this$pillContainer===void 0?void 0:_this$pillContainer.refresh();});}doWhileBlockingAnnouncement(func){this.skipWrapperAnnouncement=true;func();this.skipWrapperAnnouncement=false;}onWrapperFocus(){var{eInput,config}=this;var{allowTyping,multiSelect,suppressDeselectAll}=config;if(allowTyping){var focusableEl=eInput.getFocusableElement();focusableEl.focus();focusableEl.select();}else if(multiSelect&&!suppressDeselectAll&&!this.skipWrapperAnnouncement){this.announceAriaValue(this.ariaDeselectAllItems);}}onWrapperFocusOut(e){if(!this.eWrapper.contains(e.relatedTarget)){this.hidePicker();}}onDeselectAllMouseDown(e){e.stopImmediatePropagation();}onDeselectAllClick(){this.setValue([],true);}buildSearchStringFromKeyboardEvent(searchKey){var{key}=searchKey;if(key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.BACKSPACE){this.searchString=this.searchString.slice(0,-1);key=\"\";}else if(!(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isEventFromPrintableCharacter)(searchKey)){return;}searchKey.preventDefault();this.searchTextFromCharacter(key);}searchTextFromCharacter(char){this.searchString+=char;this.runSearch();this.clearSearchString();}searchTextFromString(str){if(str==null){str=\"\";}this.searchString=str;this.runSearch();}getSearchStringsFromValues(values){var{config}=this;var{valueFormatter=value=>String(value)}=config;if(typeof values[0]===\"object\"&&this.searchStringCreator){return this.searchStringCreator(values);}return values.map(v=>valueFormatter(v));}filterListModel(filteredValues){var{filterList}=this.config;if(!filterList){return;}this.setValueList({valueList:filteredValues,refresh:true});}runSearch(){if(!this.listComponent){return;}var{values}=this;var searchStrings=this.searchStrings;if(!searchStrings){this.listComponent.highlightIndex(-1);return;}var{suggestions,filteredValues}=this.getSuggestionsAndFilteredValues(this.searchString,searchStrings);var{filterList,highlightMatch,searchType=\"fuzzy\"}=this.config;var shouldFilter=!!(filterList&&this.searchString!==\"\");this.filterListModel(shouldFilter?filteredValues:values);if(!this.highlightEmptyValue()){this.highlightListValue(suggestions,filteredValues,shouldFilter);}if(highlightMatch&&searchType!==\"fuzzy\"){var _this$listComponent;(_this$listComponent=this.listComponent)===null||_this$listComponent===void 0||_this$listComponent.highlightFilterMatch(this.searchString);}this.displayOrHidePicker();}highlightEmptyValue(){if(this.searchString===\"\"){var _this$searchStrings;var emptyIdx=(_this$searchStrings=this.searchStrings)===null||_this$searchStrings===void 0?void 0:_this$searchStrings.indexOf(\"\");if(emptyIdx!==void 0&&emptyIdx!==-1){var _this$listComponent2;(_this$listComponent2=this.listComponent)===null||_this$listComponent2===void 0||_this$listComponent2.highlightIndex(emptyIdx);return true;}}return false;}highlightListValue(suggestions,filteredValues,shouldFilter){if(suggestions.length){var _this$searchStrings2;var topSuggestionIndex=shouldFilter?0:(_this$searchStrings2=this.searchStrings)===null||_this$searchStrings2===void 0?void 0:_this$searchStrings2.indexOf(suggestions[0]);if(topSuggestionIndex!==void 0){var _this$listComponent3;(_this$listComponent3=this.listComponent)===null||_this$listComponent3===void 0||_this$listComponent3.highlightIndex(topSuggestionIndex);}}else{var _this$listComponent4;(_this$listComponent4=this.listComponent)===null||_this$listComponent4===void 0||_this$listComponent4.highlightIndex(-1);if(!shouldFilter||filteredValues.length){var _this$listComponent5;(_this$listComponent5=this.listComponent)===null||_this$listComponent5===void 0||_this$listComponent5.ensureIndexVisible(0);}else if(shouldFilter){var _this$listComponent6;this.getAriaElement().removeAttribute(\"data-active-option\");var eListAriaEl=(_this$listComponent6=this.listComponent)===null||_this$listComponent6===void 0?void 0:_this$listComponent6.getAriaElement();if(eListAriaEl){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setAriaActiveDescendant)(eListAriaEl,null);}}}}getSuggestionsAndFilteredValues(searchValue,valueList){var suggestions=[];var filteredValues=[];if(!searchValue.length){return{suggestions,filteredValues};}var{searchType=\"fuzzy\",filterList}=this.config;if(searchType===\"fuzzy\"){var fuzzySearchResult=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._fuzzySuggestions)({inputValue:searchValue,allSuggestions:valueList,hideIrrelevant:true});suggestions=fuzzySearchResult.values;var indices=fuzzySearchResult.indices;if(filterList&&indices.length){for(var i=0;i<indices.length;i++){filteredValues.push(this.values[indices[i]]);}}}else{suggestions=valueList.filter((val,idx)=>{var currentValue=val.toLocaleLowerCase();var valueToMatch=this.searchString.toLocaleLowerCase();var isMatch=searchType===\"match\"?currentValue.startsWith(valueToMatch):currentValue.indexOf(valueToMatch)!==-1;if(filterList&&isMatch){filteredValues.push(this.values[idx]);}return isMatch;});}return{suggestions,filteredValues};}displayOrHidePicker(){if(!this.listComponent){return;}var eListGui=this.listComponent.getGui();var list=this.listComponent.getCurrentList();var toggleValue=list?list.length===0:false;eListGui.classList.toggle(\"ag-hidden\",toggleValue);}clearSearchString(){this.searchString=\"\";}setValue(value,silent,fromPicker,skipRendering){if(this.value===value){return this;}var isArray=Array.isArray(value);if(value!=null){if(!isArray){var _this$listComponent7;var list=(_this$listComponent7=this.listComponent)===null||_this$listComponent7===void 0?void 0:_this$listComponent7.getCurrentList();var index=list?list.indexOf(value):-1;if(index===-1){return this;}}if(!fromPicker){var _this$listComponent8;(_this$listComponent8=this.listComponent)===null||_this$listComponent8===void 0||_this$listComponent8.selectValue(value);}}super.setValue(value,silent);if(!skipRendering){this.renderSelectedValue();}return this;}onNavigationKeyDown(event,key,announceItem){var _this$listComponent9;event.preventDefault();var isDown=key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.DOWN;if(!this.isPickerDisplayed&&isDown){this.showPicker();return;}(_this$listComponent9=this.listComponent)===null||_this$listComponent9===void 0||_this$listComponent9.onNavigationKeyDown(key,announceItem);}onEnterKeyDown(e){var _this$listComponent0;if(!this.isPickerDisplayed){return;}e.preventDefault();if((_this$listComponent0=this.listComponent)!==null&&_this$listComponent0!==void 0&&_this$listComponent0.getCurrentList()){var lastRowHovered=this.listComponent.getLastItemHovered();if(this.config.multiSelect||lastRowHovered==null){this.dispatchPickerEventAndHidePicker(this.value,true);}else{this.onListValueSelected(/* @__PURE__ */new Set([lastRowHovered]),true);}}}onDeleteKeyDown(e){var{eWrapper,beans}=this;var activeEl=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getActiveDomElement)(beans);if(activeEl===eWrapper){e.preventDefault();this.setValue([],true);}}onTabKeyDown(){var{config,isPickerDisplayed,listComponent}=this;var{multiSelect}=config;if(!isPickerDisplayed||!listComponent){return;}if(multiSelect){var values=this.getValueFromSet(listComponent.getSelectedItems());if(values){this.setValue(values,false,true,true);}}else{var lastItemHovered=listComponent.getLastItemHovered();if(lastItemHovered){this.setValue(lastItemHovered,false,true);}}this.hidePicker();}getValueFromSet(valueSet){var{multiSelect}=this.config;var newValue=null;for(var value of valueSet){if(valueSet.size===1&&!multiSelect){newValue=value;break;}if(!newValue){newValue=[];}newValue.push(value);}if(Array.isArray(newValue)){newValue.sort();}return newValue;}onListValueSelected(valueSet,fromEnterKey){var newValue=this.getValueFromSet(valueSet);this.setValue(newValue,false,true);if(!this.config.multiSelect){this.dispatchPickerEventAndHidePicker(newValue,fromEnterKey);}}dispatchPickerEventAndHidePicker(value,fromEnterKey){var event={type:\"fieldPickerValueSelected\",fromEnterKey,value};this.dispatchLocalEvent(event);this.hidePicker();}getFocusableElement(){var{allowTyping}=this.config;if(allowTyping){return this.eInput.getFocusableElement();}return super.getFocusableElement();}onKeyDown(e){var{key,isComposing}=e;var{isPickerDisplayed,config:{allowTyping,multiSelect,suppressDeselectAll},listComponent,pickerComponent}=this;switch(key){case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.LEFT:case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.RIGHT:if(!allowTyping||this.pillContainer){e.preventDefault();if(this.pillContainer){var _this$listComponent1;(_this$listComponent1=this.listComponent)===null||_this$listComponent1===void 0||_this$listComponent1.highlightIndex(-1);this.pillContainer.onNavigationKeyDown(e);}}break;case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.PAGE_HOME:case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.PAGE_END:if(allowTyping){e.preventDefault();var inputEl=this.eInput.getInputElement();var target=key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.PAGE_HOME?0:inputEl.value.length;inputEl.setSelectionRange(target,target);break;}case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.PAGE_UP:case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.PAGE_DOWN:e.preventDefault();if(pickerComponent){listComponent===null||listComponent===void 0||listComponent.navigateToPage(key);}break;case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.DOWN:case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.UP:if(!isComposing){this.onNavigationKeyDown(e,key,()=>{if(multiSelect){this.doWhileBlockingAnnouncement(()=>this.eWrapper.focus());this.announceAriaValue(this.ariaToggleSelection);}});}break;case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.ESCAPE:if(isPickerDisplayed){if((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isVisible)(this.listComponent.getGui())){e.preventDefault();(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._stopPropagationForAgGrid)(e);}this.hidePicker();}break;case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.ENTER:if(isComposing){e.preventDefault();}else{this.onEnterKeyDown(e);}break;case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.SPACE:if(!allowTyping||isComposing){e.preventDefault();}if(!isComposing&&isPickerDisplayed&&multiSelect&&listComponent){var lastItemHovered=listComponent.getLastItemHovered();if(lastItemHovered){listComponent.toggleListItemSelection(lastItemHovered);}}break;case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.TAB:this.onTabKeyDown();break;case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.DELETE:if(multiSelect&&!suppressDeselectAll){this.onDeleteKeyDown(e);}break;default:if(!allowTyping){this.buildSearchStringFromKeyboardEvent(e);}}}announceAriaValue(value){var _this$ariaAnnounce;(_this$ariaAnnounce=this.ariaAnnounce)===null||_this$ariaAnnounce===void 0||_this$ariaAnnounce.announceValue(value,\"richSelect\");}destroy(){if(this.listComponent){this.listComponent=this.destroyBean(this.listComponent);}this.searchStrings=void 0;super.destroy();}};function _bindCellRendererToHtmlElement(cellRendererPromise,eTarget){cellRendererPromise.then(cellRenderer=>{var gui=cellRenderer.getGui();if(gui!=null){eTarget.appendChild(gui);}});}// packages/ag-grid-enterprise/src/advancedFilter/builder/addDropdownComp.ts\nvar AddDropdownCompElement={tag:\"div\",cls:\"ag-picker-field\",role:\"presentation\",children:[{tag:\"div\",ref:\"eLabel\"},{tag:\"div\",ref:\"eWrapper\",cls:\"ag-wrapper ag-picker-collapsed\",children:[{tag:\"div\",ref:\"eDisplayField\",cls:\"ag-picker-field-display\"},{tag:\"ag-input-text-field\",ref:\"eInput\",cls:\"ag-rich-select-field-input\"},{tag:\"span\",ref:\"eDeselect\",cls:\"ag-rich-select-deselect-button ag-picker-field-icon\",role:\"presentation\"},{tag:\"div\",ref:\"eIcon\",cls:\"ag-picker-field-icon\",attrs:{\"aria-hidden\":\"true\"}}]}]};var AddDropdownComp=class extends AgRichSelect{constructor(params){super(_objectSpread(_objectSpread({},params),{},{template:AddDropdownCompElement,agComponents:[ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgInputTextFieldSelector]}));this.params=params;}showPicker(){setTimeout(()=>super.showPicker());}hidePicker(){setTimeout(()=>super.hidePicker());}postConstruct(){super.postConstruct();var{wrapperClassName,ariaLabel}=this.params;(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setDisplayed)(this.eDisplayField,false);if(wrapperClassName){this.eWrapper.classList.add(wrapperClassName);}(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setAriaLabelledBy)(this.eWrapper,\"\");(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setAriaLabel)(this.eWrapper,ariaLabel);}onEnterKeyDown(event){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._stopPropagationForAgGrid)(event);if(this.isPickerDisplayed){super.onEnterKeyDown(event);}else{event.preventDefault();this.showPicker();}}};// packages/ag-grid-enterprise/src/advancedFilter/builder/advancedFilterBuilderItemNavigationFeature.ts\nvar AdvancedFilterBuilderItemNavigationFeature=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BeanStub{constructor(eGui,focusWrapper,eFocusableComp){super();this.eGui=eGui;this.focusWrapper=focusWrapper;this.eFocusableComp=eFocusableComp;}postConstruct(){this.addManagedElementListeners(this.eGui,{keydown:event=>{switch(event.key){case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.TAB:if(!event.defaultPrevented){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._stopPropagationForAgGrid)(event);}break;case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.UP:case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.DOWN:(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._stopPropagationForAgGrid)(event);break;case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.ESCAPE:if((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isStopPropagationForAgGrid)(event)){return;}if(this.eGui.contains((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getActiveDomElement)(this.beans))){event.preventDefault();(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._stopPropagationForAgGrid)(event);this.focusWrapper.focus();}break;}}});var highlightClass=\"ag-advanced-filter-builder-virtual-list-item-highlight\";this.addManagedListeners(this.focusWrapper,{keydown:event=>{switch(event.key){case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.ENTER:if((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isStopPropagationForAgGrid)(event)){return;}if((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getActiveDomElement)(this.beans)===this.focusWrapper){event.preventDefault();(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._stopPropagationForAgGrid)(event);this.eFocusableComp.getFocusableElement().focus();}break;}},focusin:()=>{this.focusWrapper.classList.add(highlightClass);},focusout:event=>{if(!this.focusWrapper.contains(event.relatedTarget)){this.focusWrapper.classList.remove(highlightClass);}}});}};// packages/ag-grid-enterprise/src/advancedFilter/builder/advancedFilterBuilderUtils.ts\nfunction getAdvancedFilterBuilderAddButtonParams(translate,maxPickerWidth){return{pickerAriaLabelKey:\"ariaLabelAdvancedFilterBuilderAddField\",pickerAriaLabelValue:\"Advanced Filter Builder Add Field\",pickerType:\"ag-list\",valueList:[{key:\"condition\",displayValue:translate(\"advancedFilterBuilderAddCondition\")},{key:\"join\",displayValue:translate(\"advancedFilterBuilderAddJoin\")}],valueFormatter:value=>{var _value$displayValue2;return value==null?\"\":(_value$displayValue2=value.displayValue)!==null&&_value$displayValue2!==void 0?_value$displayValue2:value.key;},pickerIcon:\"advancedFilterBuilderAdd\",maxPickerWidth:\"\".concat(maxPickerWidth!==null&&maxPickerWidth!==void 0?maxPickerWidth:120,\"px\"),wrapperClassName:\"ag-advanced-filter-builder-item-button\",ariaLabel:translate(\"advancedFilterBuilderAddButtonTooltip\")};}// packages/ag-grid-enterprise/src/advancedFilter/builder/advancedFilterBuilderItemAddComp.ts\nvar ItemAddElement={tag:\"div\",cls:\"ag-advanced-filter-builder-item-wrapper\",role:\"presentation\",children:[{tag:\"div\",ref:\"eItem\",cls:\"ag-advanced-filter-builder-item\",role:\"presentation\",children:[{tag:\"div\",cls:\"ag-advanced-filter-builder-item-tree-lines\",attrs:{\"aria-hidden\":\"true\"},children:[{tag:\"div\",cls:\"ag-advanced-filter-builder-item-tree-line-vertical-top ag-advanced-filter-builder-item-tree-line-horizontal\"}]}]}]};var AdvancedFilterBuilderItemAddComp=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(item,focusWrapper){super(ItemAddElement);this.item=item;this.focusWrapper=focusWrapper;this.eItem=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;}wireBeans(beans){this.advFilterExpSvc=beans.advFilterExpSvc;this.registry=beans.registry;}postConstruct(){var _this$gos$get;(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setAriaLevel)(this.focusWrapper,2);var addButtonParams=getAdvancedFilterBuilderAddButtonParams(key=>this.advFilterExpSvc.translate(key),(_this$gos$get=this.gos.get(\"advancedFilterBuilderParams\"))===null||_this$gos$get===void 0?void 0:_this$gos$get.addSelectWidth);var eAddButton=this.createManagedBean(new AddDropdownComp(addButtonParams));this.addManagedListeners(eAddButton,{fieldPickerValueSelected:_ref18=>{var{value}=_ref18;this.dispatchLocalEvent({type:\"advancedFilterBuilderAdded\",item:this.item,isJoin:value.key===\"join\"});}});this.eItem.appendChild(eAddButton.getGui());this.createOptionalManagedBean(this.registry.createDynamicBean(\"tooltipFeature\",false,{getGui:()=>eAddButton.getGui(),getLocation:()=>\"advancedFilter\",getTooltipValue:()=>this.advFilterExpSvc.translate(\"advancedFilterBuilderAddButtonTooltip\")}));this.createManagedBean(new AdvancedFilterBuilderItemNavigationFeature(this.getGui(),this.focusWrapper,eAddButton));(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setAriaLabel)(this.focusWrapper,this.advFilterExpSvc.translate(\"ariaAdvancedFilterBuilderItem\",[this.advFilterExpSvc.translate(\"advancedFilterBuilderAddButtonTooltip\"),\"\".concat(this.item.level+1)]));}afterAdd(){}};// packages/ag-grid-enterprise/src/advancedFilter/builder/advancedFilterBuilderItemComp.ts\n// packages/ag-grid-enterprise/src/advancedFilter/builder/conditionPillWrapperComp.ts\nvar ConditionPillWrapperComp=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(){super({tag:\"div\",cls:\"ag-advanced-filter-builder-item-condition\",role:\"presentation\"});this.validationMessage=null;}wireBeans(beans){this.advFilterExpSvc=beans.advFilterExpSvc;}init(params){var{item,createPill}=params;this.item=item;this.createPill=createPill;this.filterModel=item.filterModel;this.setupColumnCondition(this.filterModel);this.validate();this.addDestroyFunc(()=>this.destroyBeans([this.eColumnPill,this.eOperatorPill,this.eOperandPill]));}getDragName(){return this.filterModel.colId?this.advFilterExpSvc.parseColumnFilterModel(this.filterModel):this.getDefaultColumnDisplayValue();}getAriaLabel(){return\"\".concat(this.advFilterExpSvc.translate(\"ariaAdvancedFilterBuilderFilterItem\"),\" \").concat(this.getDragName());}getValidationMessage(){return this.validationMessage;}getFocusableElement(){return this.eColumnPill.getFocusableElement();}setupColumnCondition(filterModel){var _this$getColumnDispla2;var columnDetails=this.advFilterExpSvc.getColumnDetails(filterModel.colId);this.baseCellDataType=columnDetails.baseCellDataType;this.column=columnDetails.column;this.numOperands=this.getNumOperands(this.getOperatorKey());this.eColumnPill=this.createPill({key:this.getColumnKey(),displayValue:(_this$getColumnDispla2=this.getColumnDisplayValue())!==null&&_this$getColumnDispla2!==void 0?_this$getColumnDispla2:this.getDefaultColumnDisplayValue(),cssClass:\"ag-advanced-filter-builder-column-pill\",isSelect:true,getEditorParams:()=>({values:this.advFilterExpSvc.getColumnAutocompleteEntries()}),update:key=>this.setColumnKey(key),pickerAriaLabelKey:\"ariaLabelAdvancedFilterBuilderColumnSelectField\",pickerAriaLabelValue:\"Advanced Filter Builder Column Select Field\",ariaLabel:this.advFilterExpSvc.translate(\"ariaAdvancedFilterBuilderColumn\")});this.getGui().appendChild(this.eColumnPill.getGui());if((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._exists)(this.getColumnKey())){this.createOperatorPill();if(this.hasOperand()){this.createOperandPill();}}}createOperatorPill(){var _this$getOperatorDisp2;this.eOperatorPill=this.createPill({key:this.getOperatorKey(),displayValue:(_this$getOperatorDisp2=this.getOperatorDisplayValue())!==null&&_this$getOperatorDisp2!==void 0?_this$getOperatorDisp2:this.getDefaultOptionSelectValue(),cssClass:\"ag-advanced-filter-builder-option-pill\",isSelect:true,getEditorParams:()=>({values:this.getOperatorAutocompleteEntries()}),update:key=>this.setOperatorKey(key),pickerAriaLabelKey:\"ariaLabelAdvancedFilterBuilderOptionSelectField\",pickerAriaLabelValue:\"Advanced Filter Builder Option Select Field\",ariaLabel:this.advFilterExpSvc.translate(\"ariaAdvancedFilterBuilderOption\")});this.eColumnPill.getGui().insertAdjacentElement(\"afterend\",this.eOperatorPill.getGui());}createOperandPill(){var _ref19;var{filter}=this.filterModel;var key=(_ref19=typeof filter===\"number\"?(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._toStringOrNull)(filter):filter)!==null&&_ref19!==void 0?_ref19:\"\";this.eOperandPill=this.createPill({key,// Convert from the input format to display format.\n// Input format matches model format except for numbers, but these get stringified anyway\nvalueFormatter:value=>this.advFilterExpSvc.getOperandDisplayValue(_objectSpread(_objectSpread({},this.filterModel),{},{filter:value}),true),baseCellDataType:this.baseCellDataType,cssClass:\"ag-advanced-filter-builder-value-pill\",isSelect:false,update:key2=>this.setOperand(key2),ariaLabel:this.advFilterExpSvc.translate(\"ariaAdvancedFilterBuilderValue\")});this.getGui().appendChild(this.eOperandPill.getGui());}getColumnKey(){return this.filterModel.colId;}getColumnDisplayValue(){return this.advFilterExpSvc.getColumnDisplayValue(this.filterModel);}getOperatorKey(){return this.filterModel.type;}getOperatorDisplayValue(){return this.advFilterExpSvc.getOperatorDisplayValue(this.filterModel);}getOperandDisplayValue(){return this.advFilterExpSvc.getOperandDisplayValue(this.filterModel,true);}hasOperand(){return this.numOperands>0;}getOperatorAutocompleteEntries(){return this.column?this.advFilterExpSvc.getOperatorAutocompleteEntries(this.column,this.baseCellDataType):[];}setColumnKey(colId){if(!this.eOperatorPill){this.createOperatorPill();}var newColumnDetails=this.advFilterExpSvc.getColumnDetails(colId);this.column=newColumnDetails.column;var newBaseCellDataType=newColumnDetails.baseCellDataType;if(this.baseCellDataType!==newBaseCellDataType){this.baseCellDataType=newBaseCellDataType;this.setOperatorKey(void 0);if(this.eOperatorPill){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._removeFromParent)(this.eOperatorPill.getGui());this.destroyBean(this.eOperatorPill);this.createOperatorPill();}this.validate();}this.filterModel.colId=colId;this.filterModel.filterType=this.baseCellDataType;}setOperatorKey(operator){var newNumOperands=this.getNumOperands(operator);if(newNumOperands!==this.numOperands){this.numOperands=newNumOperands;if(newNumOperands===0){this.destroyOperandPill();}else{this.createOperandPill();if(this.baseCellDataType!==\"number\"){this.setOperand(\"\");}}}this.filterModel.type=operator;this.validate();}setOperand(operand){var parsedOperand=operand;if(this.baseCellDataType===\"number\"){parsedOperand=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._exists)(operand)?Number(operand):\"\";}this.filterModel.filter=parsedOperand;this.validate();}getNumOperands(operator){var _this$advFilterExpSvc,_this$advFilterExpSvc2;return(_this$advFilterExpSvc=(_this$advFilterExpSvc2=this.advFilterExpSvc.getExpressionOperator(this.baseCellDataType,operator))===null||_this$advFilterExpSvc2===void 0?void 0:_this$advFilterExpSvc2.numOperands)!==null&&_this$advFilterExpSvc!==void 0?_this$advFilterExpSvc:0;}destroyOperandPill(){delete this.filterModel.filter;this.getGui().removeChild(this.eOperandPill.getGui());this.destroyBean(this.eOperandPill);this.eOperandPill=void 0;}validate(){var validationMessage=null;if(!(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._exists)(this.getColumnKey())){validationMessage=this.advFilterExpSvc.translate(\"advancedFilterBuilderValidationSelectColumn\");}else if(!(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._exists)(this.getOperatorKey())){validationMessage=this.advFilterExpSvc.translate(\"advancedFilterBuilderValidationSelectOption\");}else if(this.numOperands>0&&!(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._exists)(this.getOperandDisplayValue())){validationMessage=this.advFilterExpSvc.translate(\"advancedFilterBuilderValidationEnterValue\");}this.item.valid=!validationMessage;if(validationMessage!==this.validationMessage){this.validationMessage=validationMessage;this.dispatchLocalEvent({type:\"advancedFilterBuilderValidChanged\"});}}getDefaultColumnDisplayValue(){return this.advFilterExpSvc.translate(\"advancedFilterBuilderSelectColumn\");}getDefaultOptionSelectValue(){return this.advFilterExpSvc.translate(\"advancedFilterBuilderSelectOption\");}};// packages/ag-grid-enterprise/src/advancedFilter/builder/inputPillComp.ts\nvar inputComponentDescriptors={number:[ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgInputNumberField],boolean:[ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgInputTextField],object:[ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgInputTextField],text:[ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgInputTextField],date:[ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgInputDateField],dateString:[ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgInputDateField],dateTime:[ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgInputDateField,i=>i.setIncludeTime(true)],dateTimeString:[ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgInputDateField,i=>i.setIncludeTime(true)]};var InputPillElement={tag:\"div\",cls:\"ag-advanced-filter-builder-pill-wrapper\",role:\"presentation\",children:[{tag:\"div\",ref:\"ePill\",cls:\"ag-advanced-filter-builder-pill\",role:\"button\",children:[{tag:\"span\",ref:\"eLabel\",cls:\"ag-advanced-filter-builder-pill-display\"}]}]};var InputPillComp=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(params){super(InputPillElement);this.params=params;this.ePill=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.eLabel=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;var{value,valueFormatter}=params;this.value=value;this.displayValue=valueFormatter(value);}wireBeans(beans){this.advFilterExpSvc=beans.advFilterExpSvc;}postConstruct(){var{cssClass,ariaLabel}=this.params;this.ePill.classList.add(cssClass);this.activateTabIndex([this.ePill]);this.eLabel.id=\"\".concat(this.getCompId());(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setAriaDescribedBy)(this.ePill,this.eLabel.id);(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setAriaLabel)(this.ePill,ariaLabel);this.renderValue();this.addManagedListeners(this.ePill,{click:event=>{event.preventDefault();this.showEditor();},keydown:event=>{switch(event.key){case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.ENTER:event.preventDefault();(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._stopPropagationForAgGrid)(event);this.showEditor();break;}}});this.addDestroyFunc(()=>this.destroyBean(this.eEditor));}getFocusableElement(){return this.ePill;}showEditor(){if(this.eEditor){return;}(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setDisplayed)(this.ePill,false);this.eEditor=this.createEditorComp(this.params.type);this.eEditor.setValue(this.value);var eEditorGui=this.eEditor.getGui();this.eEditor.addManagedElementListeners(eEditorGui,{keydown:event=>{switch(event.key){case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.ENTER:event.preventDefault();(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._stopPropagationForAgGrid)(event);this.updateValue(true);break;case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.ESCAPE:event.preventDefault();(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._stopPropagationForAgGrid)(event);this.hideEditor(true);break;}},focusout:()=>this.updateValue(false)});this.getGui().appendChild(eEditorGui);this.eEditor.getFocusableElement().focus();}/**\n   * Responsible for instantiating an InputField and calling some of the setup methods\n   */createEditorComp(type){var[Comp,postConstruct]=inputComponentDescriptors[type];var instance=this.createBean(new Comp());if(postConstruct)postConstruct(instance);return instance;}hideEditor(keepFocus){var{eEditor}=this;if(!eEditor){return;}this.eEditor=void 0;this.getGui().removeChild(eEditor.getGui());this.destroyBean(eEditor);(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setDisplayed)(this.ePill,true);if(keepFocus){this.ePill.focus();}}renderValue(){var value;var{displayValue,eLabel}=this;var{classList}=eLabel;classList.remove(\"ag-advanced-filter-builder-value-empty\",\"ag-advanced-filter-builder-value-number\",\"ag-advanced-filter-builder-value-text\");if(!(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._exists)(displayValue)){value=this.advFilterExpSvc.translate(\"advancedFilterBuilderEnterValue\");classList.add(\"ag-advanced-filter-builder-value-empty\");}else if(this.params.type===\"number\"){value=displayValue;classList.add(\"ag-advanced-filter-builder-value-number\");}else{value=\"\\\"\".concat(displayValue,\"\\\"\");classList.add(\"ag-advanced-filter-builder-value-text\");}eLabel.textContent=value;}updateValue(keepFocus){var _this$eEditor$getValu;if(!this.eEditor){return;}var value=(_this$eEditor$getValu=this.eEditor.getValue())!==null&&_this$eEditor$getValu!==void 0?_this$eEditor$getValu:\"\";this.dispatchLocalEvent({type:\"fieldValueChanged\",value});this.value=value;this.displayValue=this.params.valueFormatter(value);this.renderValue();this.hideEditor(keepFocus);}};// packages/ag-grid-enterprise/src/advancedFilter/builder/joinPillWrapperComp.ts\nvar JoinPillWrapperComp=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Component{wireBeans(beans){this.advFilterExpSvc=beans.advFilterExpSvc;}constructor(){super({tag:\"div\",cls:\"ag-advanced-filter-builder-item-condition\",role:\"presentation\"});}init(params){var{item,createPill}=params;var filterModel=item.filterModel;this.filterModel=filterModel;this.ePill=createPill({key:filterModel.type,displayValue:this.advFilterExpSvc.parseJoinOperator(filterModel),cssClass:\"ag-advanced-filter-builder-join-pill\",isSelect:true,getEditorParams:()=>({values:this.advFilterExpSvc.getJoinOperatorAutocompleteEntries()}),update:key=>filterModel.type=key,pickerAriaLabelKey:\"ariaLabelAdvancedFilterBuilderJoinSelectField\",pickerAriaLabelValue:\"Advanced Filter Builder Join Operator Select Field\",ariaLabel:this.advFilterExpSvc.translate(\"ariaAdvancedFilterBuilderJoinOperator\")});this.getGui().appendChild(this.ePill.getGui());this.addDestroyFunc(()=>this.destroyBean(this.ePill));}getDragName(){return this.advFilterExpSvc.parseJoinOperator(this.filterModel);}getAriaLabel(){return\"\".concat(this.advFilterExpSvc.translate(\"ariaAdvancedFilterBuilderGroupItem\"),\" \").concat(this.getDragName());}getValidationMessage(){return null;}getFocusableElement(){return this.ePill.getFocusableElement();}};// packages/ag-grid-enterprise/src/advancedFilter/builder/selectPillComp.ts\nvar SelectPillElement={tag:\"div\",cls:\"ag-picker-field ag-advanced-filter-builder-pill-wrapper\",role:\"presentation\",children:[{tag:\"div\",ref:\"eLabel\"},{tag:\"div\",ref:\"eWrapper\",cls:\"ag-wrapper ag-advanced-filter-builder-pill ag-picker-collapsed\",children:[{tag:\"div\",ref:\"eDisplayField\",cls:\"ag-picker-field-display ag-advanced-filter-builder-pill-display\"},{tag:\"ag-input-text-field\",ref:\"eInput\",cls:\"ag-rich-select-field-input\"},{tag:\"span\",ref:\"eDeselect\",cls:\"ag-rich-select-deselect-button ag-picker-field-icon\",role:\"presentation\"},{tag:\"div\",ref:\"eIcon\",cls:\"ag-picker-field-icon\",attrs:{\"aria-hidden\":\"true\"}}]}]};var SelectPillComp=class extends AgRichSelect{constructor(params){super(_objectSpread(_objectSpread({},params),{},{template:SelectPillElement,agComponents:[ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgInputTextFieldSelector]}));this.params=params;}getFocusableElement(){return this.eWrapper;}showPicker(){setTimeout(()=>super.showPicker());}hidePicker(){setTimeout(()=>super.hidePicker());}postConstruct(){super.postConstruct();var{wrapperClassName,ariaLabel}=this.params;this.eWrapper.classList.add(wrapperClassName);(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setAriaLabelledBy)(this.eWrapper,\"\");(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setAriaLabel)(this.eWrapper,ariaLabel);}createPickerComponent(){if(!this.values){var _values$find;var{values}=this.params.getEditorParams();this.values=values;var key=this.value.key;var value=(_values$find=values.find(value2=>value2.key===key))!==null&&_values$find!==void 0?_values$find:{key,displayValue:this.value.displayValue};this.value=value;}return super.createPickerComponent();}onEnterKeyDown(event){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._stopPropagationForAgGrid)(event);if(this.isPickerDisplayed){super.onEnterKeyDown(event);}else{event.preventDefault();this.showPicker();}}};// packages/ag-grid-enterprise/src/advancedFilter/builder/advancedFilterBuilderItemComp.ts\nvar AdvancedFilterBuilderItemElement={tag:\"div\",cls:\"ag-advanced-filter-builder-item-wrapper\",role:\"presentation\",children:[{tag:\"div\",cls:\"ag-advanced-filter-builder-item\",role:\"presentation\",children:[{tag:\"div\",ref:\"eTreeLines\",cls:\"ag-advanced-filter-builder-item-tree-lines\",attrs:{\"aria-hidden\":\"true\"}},{tag:\"span\",ref:\"eDragHandle\",cls:\"ag-drag-handle\",attrs:{\"aria-hidden\":\"true\"}},{tag:\"span\",ref:\"eValidation\",cls:\"ag-advanced-filter-builder-item-button ag-advanced-filter-builder-invalid\",attrs:{\"aria-hidden\":\"true\"}}]},{tag:\"div\",ref:\"eButtons\",cls:\"ag-advanced-filter-builder-item-buttons\",children:[{tag:\"span\",ref:\"eMoveUpButton\",cls:\"ag-advanced-filter-builder-item-button\",role:\"button\"},{tag:\"span\",ref:\"eMoveDownButton\",cls:\"ag-advanced-filter-builder-item-button\",role:\"button\"},{tag:\"div\",ref:\"eAddButton\",role:\"presentation\"},{tag:\"span\",ref:\"eRemoveButton\",cls:\"ag-advanced-filter-builder-item-button\",role:\"button\"}]}]};var AdvancedFilterBuilderItemComp=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.TabGuardComp{constructor(item,dragFeature,focusWrapper){super(AdvancedFilterBuilderItemElement);this.item=item;this.dragFeature=dragFeature;this.focusWrapper=focusWrapper;this.eTreeLines=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.eDragHandle=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.eButtons=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.eValidation=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.eMoveUpButton=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.eMoveDownButton=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.eAddButton=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.eRemoveButton=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.moveUpDisabled=false;this.moveDownDisabled=false;}wireBeans(beans){this.dragAndDrop=beans.dragAndDrop;this.advFilterExpSvc=beans.advFilterExpSvc;this.registry=beans.registry;}postConstruct(){var{filterModel,level,showMove}=this.item;var isJoin=filterModel.filterType===\"join\";this.ePillWrapper=this.createManagedBean(isJoin?new JoinPillWrapperComp():new ConditionPillWrapperComp());this.ePillWrapper.init({item:this.item,createPill:params=>this.createPill(params)});this.eDragHandle.insertAdjacentElement(\"afterend\",this.ePillWrapper.getGui());if(level===0){var eTreeLine=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createElement)({tag:\"div\",cls:\"ag-advanced-filter-builder-item-tree-line-vertical-bottom ag-advanced-filter-builder-item-tree-line-root\"});this.eTreeLines.appendChild(eTreeLine);(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setDisplayed)(this.eDragHandle,false);(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setDisplayed)(this.eButtons,false);(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setAriaExpanded)(this.focusWrapper,true);}else{this.setupTreeLines(level);this.eDragHandle.appendChild((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createIconNoSpan)(\"advancedFilterBuilderDrag\",this.beans));this.setupValidation();this.setupMoveButtons(showMove);this.setupAddButton();this.setupRemoveButton();this.setupDragging();this.updateAriaExpanded();}(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setAriaLevel)(this.focusWrapper,level+1);this.initialiseTabGuard({});this.createManagedBean(new AdvancedFilterBuilderItemNavigationFeature(this.getGui(),this.focusWrapper,this.ePillWrapper));this.updateAriaLabel();this.addManagedListeners(this.ePillWrapper,{advancedFilterBuilderValueChanged:()=>this.dispatchLocalEvent({type:\"advancedFilterBuilderValueChanged\"}),advancedFilterBuilderValidChanged:()=>this.updateValidity()});}setState(params){var{level}=this.item;if(level===0){return;}var{showMove}=this.item;var{disableMoveUp,disableMoveDown,treeLines,showStartTreeLine}=params;this.updateTreeLines(treeLines,showStartTreeLine);this.updateAriaExpanded();if(showMove){var _this$moveUpTooltipFe,_this$moveDownTooltip;this.moveUpDisabled=!!disableMoveUp;this.moveDownDisabled=!!disableMoveDown;this.eMoveUpButton.classList.toggle(\"ag-advanced-filter-builder-item-button-disabled\",disableMoveUp);this.eMoveDownButton.classList.toggle(\"ag-advanced-filter-builder-item-button-disabled\",disableMoveDown);(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setAriaDisabled)(this.eMoveUpButton,!!disableMoveUp);(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setAriaDisabled)(this.eMoveDownButton,!!disableMoveDown);(_this$moveUpTooltipFe=this.moveUpTooltipFeature)===null||_this$moveUpTooltipFe===void 0||_this$moveUpTooltipFe.refreshTooltip();(_this$moveDownTooltip=this.moveDownTooltipFeature)===null||_this$moveDownTooltip===void 0||_this$moveDownTooltip.refreshTooltip();}}focusMoveButton(backwards){(backwards?this.eMoveUpButton:this.eMoveDownButton).focus();}afterAdd(){this.ePillWrapper.getFocusableElement().focus();}setupTreeLines(level){for(var i=0;i<level;i++){this.eTreeLines.appendChild((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createElement)({tag:\"div\"}));}}updateTreeLines(treeLines,showStartTreeLine){var lastTreeLineIndex=treeLines.length-1;var{children}=this.eTreeLines;for(var i=0;i<lastTreeLineIndex;i++){var eTreeLine2=children.item(i);if(eTreeLine2){eTreeLine2.classList.toggle(\"ag-advanced-filter-builder-item-tree-line-vertical\",!treeLines[i]);}}var eTreeLine=children.item(lastTreeLineIndex);if(eTreeLine){eTreeLine.classList.add(\"ag-advanced-filter-builder-item-tree-line-horizontal\");var isLastChild=treeLines[lastTreeLineIndex];eTreeLine.classList.toggle(\"ag-advanced-filter-builder-item-tree-line-vertical-top\",isLastChild);eTreeLine.classList.toggle(\"ag-advanced-filter-builder-item-tree-line-vertical\",!isLastChild);}this.eDragHandle.classList.toggle(\"ag-advanced-filter-builder-item-tree-line-vertical-bottom\",showStartTreeLine);}setupValidation(){this.eValidation.appendChild((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createIconNoSpan)(\"advancedFilterBuilderInvalid\",this.beans));this.validationTooltipFeature=this.createOptionalManagedBean(this.registry.createDynamicBean(\"tooltipFeature\",false,{getGui:()=>this.eValidation,getLocation:()=>\"advancedFilter\",getTooltipValue:()=>this.ePillWrapper.getValidationMessage(),getTooltipShowDelayOverride:()=>1e3}));this.updateValidity();}setupAddButton(){var _this$gos$get2;var addButtonParams=getAdvancedFilterBuilderAddButtonParams(key=>this.advFilterExpSvc.translate(key),(_this$gos$get2=this.gos.get(\"advancedFilterBuilderParams\"))===null||_this$gos$get2===void 0?void 0:_this$gos$get2.addSelectWidth);var eAddButton=this.createManagedBean(new AddDropdownComp(addButtonParams));this.addManagedListeners(eAddButton,{fieldPickerValueSelected:_ref20=>{var{value}=_ref20;return this.dispatchLocalEvent({type:\"advancedFilterBuilderAdded\",item:this.item,isJoin:value.key===\"join\"});}});this.eAddButton.appendChild(eAddButton.getGui());this.createOptionalManagedBean(this.registry.createDynamicBean(\"tooltipFeature\",false,{getGui:()=>this.eAddButton,getLocation:()=>\"advancedFilter\",getTooltipValue:()=>this.advFilterExpSvc.translate(\"advancedFilterBuilderAddButtonTooltip\")}));}setupRemoveButton(){this.eRemoveButton.appendChild((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createIconNoSpan)(\"advancedFilterBuilderRemove\",this.beans));this.addManagedListeners(this.eRemoveButton,{click:()=>this.removeItem(),keydown:event=>{switch(event.key){case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.ENTER:event.preventDefault();(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._stopPropagationForAgGrid)(event);this.removeItem();break;}}});this.createOptionalManagedBean(this.registry.createDynamicBean(\"tooltipFeature\",false,{getGui:()=>this.eRemoveButton,getLocation:()=>\"advancedFilter\",getTooltipValue:()=>this.advFilterExpSvc.translate(\"advancedFilterBuilderRemoveButtonTooltip\")}));(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setAriaLabel)(this.eRemoveButton,this.advFilterExpSvc.translate(\"advancedFilterBuilderRemoveButtonTooltip\"));this.activateTabIndex([this.eRemoveButton]);}setupMoveButtons(showMove){if(showMove){this.eMoveUpButton.appendChild((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createIconNoSpan)(\"advancedFilterBuilderMoveUp\",this.beans));this.addManagedListeners(this.eMoveUpButton,{click:()=>this.moveItem(true),keydown:event=>{switch(event.key){case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.ENTER:event.preventDefault();(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._stopPropagationForAgGrid)(event);this.moveItem(true);break;}}});this.moveUpTooltipFeature=this.createOptionalManagedBean(this.registry.createDynamicBean(\"tooltipFeature\",false,{getGui:()=>this.eMoveUpButton,getLocation:()=>\"advancedFilter\",getTooltipValue:()=>this.moveUpDisabled?null:this.advFilterExpSvc.translate(\"advancedFilterBuilderMoveUpButtonTooltip\")}));(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setAriaLabel)(this.eMoveUpButton,this.advFilterExpSvc.translate(\"advancedFilterBuilderMoveUpButtonTooltip\"));this.eMoveDownButton.appendChild((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createIconNoSpan)(\"advancedFilterBuilderMoveDown\",this.beans));this.addManagedListeners(this.eMoveDownButton,{click:()=>this.moveItem(false),keydown:event=>{switch(event.key){case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.ENTER:event.preventDefault();(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._stopPropagationForAgGrid)(event);this.moveItem(false);break;}}});this.moveDownTooltipFeature=this.createOptionalManagedBean(this.registry.createDynamicBean(\"tooltipFeature\",false,{getGui:()=>this.eMoveDownButton,getLocation:()=>\"advancedFilter\",getTooltipValue:()=>this.moveDownDisabled?null:this.advFilterExpSvc.translate(\"advancedFilterBuilderMoveDownButtonTooltip\")}));(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setAriaLabel)(this.eMoveDownButton,this.advFilterExpSvc.translate(\"advancedFilterBuilderMoveDownButtonTooltip\"));this.activateTabIndex([this.eMoveUpButton,this.eMoveDownButton]);}else{(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setDisplayed)(this.eMoveUpButton,false);(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setDisplayed)(this.eMoveDownButton,false);}}updateValidity(){var _this$validationToolt;(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setVisible)(this.eValidation,!this.item.valid);(_this$validationToolt=this.validationTooltipFeature)===null||_this$validationToolt===void 0||_this$validationToolt.refreshTooltip();this.updateAriaLabel();}createPill(params){var{key,cssClass,update,ariaLabel}=params;var onUpdated=key2=>{if(key2==null){return;}update(key2);this.dispatchLocalEvent({type:\"advancedFilterBuilderValueChanged\"});};if(params.isSelect){var _advancedFilterBuilde,_advancedFilterBuilde2;var{getEditorParams,pickerAriaLabelKey,pickerAriaLabelValue,displayValue}=params;var advancedFilterBuilderParams=this.gos.get(\"advancedFilterBuilderParams\");var minPickerWidth=\"\".concat((_advancedFilterBuilde=advancedFilterBuilderParams===null||advancedFilterBuilderParams===void 0?void 0:advancedFilterBuilderParams.pillSelectMinWidth)!==null&&_advancedFilterBuilde!==void 0?_advancedFilterBuilde:140,\"px\");var maxPickerWidth=\"\".concat((_advancedFilterBuilde2=advancedFilterBuilderParams===null||advancedFilterBuilderParams===void 0?void 0:advancedFilterBuilderParams.pillSelectMaxWidth)!==null&&_advancedFilterBuilde2!==void 0?_advancedFilterBuilde2:200,\"px\");var comp=this.createBean(new SelectPillComp({pickerAriaLabelKey,pickerAriaLabelValue,pickerType:\"ag-list\",value:{key,displayValue},valueFormatter:value=>{var _value$displayValue3;return value==null?\"\":(_value$displayValue3=value.displayValue)!==null&&_value$displayValue3!==void 0?_value$displayValue3:value.key;},variableWidth:true,minPickerWidth,maxPickerWidth,getEditorParams,wrapperClassName:cssClass,ariaLabel,pickerIcon:\"advancedFilterBuilderSelectOpen\"}));this.addManagedListeners(comp,{fieldPickerValueSelected:_ref21=>{var{value}=_ref21;return onUpdated(value===null||value===void 0?void 0:value.key);}});return comp;}else{var{baseCellDataType,valueFormatter}=params;var _comp=this.createBean(new InputPillComp({value:key,valueFormatter,cssClass,type:baseCellDataType,ariaLabel}));this.addManagedListeners(_comp,{fieldValueChanged:_ref22=>{var{value}=_ref22;return onUpdated(value);}});return _comp;}}setupDragging(){var dragSource={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.DragSourceType.AdvancedFilterBuilder,eElement:this.eDragHandle,dragItemName:()=>this.ePillWrapper.getDragName(),getDefaultIconName:()=>\"notAllowed\",getDragItem:()=>({}),onDragStarted:()=>this.dragFeature.dispatchLocalEvent({type:\"advancedFilterBuilderDragStarted\",item:this.item}),onDragStopped:()=>this.dragFeature.dispatchLocalEvent({type:\"advancedFilterBuilderDragEnded\"})};this.dragAndDrop.addDragSource(dragSource,true);this.addDestroyFunc(()=>this.dragAndDrop.removeDragSource(dragSource));}updateAriaLabel(){var wrapperLabel=this.ePillWrapper.getAriaLabel();var level=\"\".concat(this.item.level+1);var validationMessage=this.ePillWrapper.getValidationMessage();var ariaLabel;if(validationMessage){ariaLabel=this.advFilterExpSvc.translate(\"ariaAdvancedFilterBuilderItemValidation\",[wrapperLabel,level,validationMessage]);}else{ariaLabel=this.advFilterExpSvc.translate(\"ariaAdvancedFilterBuilderItem\",[wrapperLabel,level]);}(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setAriaLabel)(this.focusWrapper,ariaLabel);}updateAriaExpanded(){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._removeAriaExpanded)(this.focusWrapper);var{filterModel}=this.item;if((filterModel===null||filterModel===void 0?void 0:filterModel.filterType)===\"join\"&&filterModel.conditions.length){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setAriaExpanded)(this.focusWrapper,true);}}removeItem(){this.dispatchLocalEvent({type:\"advancedFilterBuilderRemoved\",item:this.item});}moveItem(backwards){this.dispatchLocalEvent({type:\"advancedFilterBuilderMoved\",item:this.item,backwards});}};// packages/ag-grid-enterprise/src/advancedFilter/builder/advancedFilterBuilderComp.ts\nvar AdvancedFilterBuilderElement={tag:\"div\",cls:\"ag-advanced-filter-builder\",role:\"presentation\",attrs:{tabindex:\"-1\"},children:[{tag:\"div\",ref:\"eList\",cls:\"ag-advanced-filter-builder-list\",role:\"presentation\"},{tag:\"div\",cls:\"ag-advanced-filter-builder-button-panel\",role:\"presentation\",children:[{tag:\"button\",ref:\"eApplyFilterButton\",cls:\"ag-button ag-standard-button ag-advanced-filter-builder-apply-button\"},{tag:\"button\",ref:\"eCancelFilterButton\",cls:\"ag-button ag-standard-button ag-advanced-filter-builder-cancel-button\"}]}]};var AdvancedFilterBuilderComp=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(){super(AdvancedFilterBuilderElement);this.eList=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.eApplyFilterButton=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.eCancelFilterButton=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.validationMessage=null;}wireBeans(beans){this.filterManager=beans.filterManager;this.advancedFilter=beans.advancedFilter;this.advFilterExpSvc=beans.advFilterExpSvc;this.registry=beans.registry;}postConstruct(){var _this$gos$get3;var{showMoveButtons}=(_this$gos$get3=this.gos.get(\"advancedFilterBuilderParams\"))!==null&&_this$gos$get3!==void 0?_this$gos$get3:{};this.showMove=!!showMoveButtons;this.addManagedPropertyListener(\"advancedFilterBuilderParams\",_ref23=>{var{currentValue}=_ref23;this.showMove=!!(currentValue!==null&&currentValue!==void 0&&currentValue.showMoveButtons);this.refreshList(false);});this.filterModel=this.setupFilterModel();this.setupVirtualList();this.dragFeature=this.createManagedBean(new AdvancedFilterBuilderDragFeature(this,this.virtualList));this.setupButtons();}refresh(){var virtualList=this.virtualList;var indexToFocus=virtualList.getLastFocusedRow();this.setupFilterModel();this.validateItems();this.refreshList(false);if(indexToFocus!=null){if(!virtualList.getComponentAt(indexToFocus)){indexToFocus=0;}virtualList.focusRow(indexToFocus);}}getNumItems(){return this.items.length;}moveItem(item,destination){if(!destination||!item){return;}this.moveItemToIndex(item,destination.rowIndex,destination.position);}afterGuiAttached(){this.virtualList.awaitStable(()=>this.virtualList.focusRow(0));}setupVirtualList(){var virtualList=this.virtualList=this.createManagedBean(new VirtualList({cssIdentifier:\"advanced-filter-builder\",ariaRole:\"tree\",listName:this.advFilterExpSvc.translate(\"ariaAdvancedFilterBuilderList\"),moveItemCallback:this.virtualListMoveItemCallback.bind(this)}));virtualList.setComponentCreator(this.createItemComponent.bind(this));virtualList.setComponentUpdater(this.updateItemComponent.bind(this));virtualList.setRowHeight(40);this.eList.appendChild(virtualList.getGui());virtualList.setModel({getRowCount:()=>{var _this$items;return((_this$items=this.items)===null||_this$items===void 0?void 0:_this$items.length)||0;},getRow:index=>this.items[index],areRowsEqual:(oldRow,newRow)=>oldRow===newRow});this.buildList();virtualList.refresh();}setupButtons(){this.eApplyFilterButton.textContent=this.advFilterExpSvc.translate(\"advancedFilterBuilderApply\");this.activateTabIndex([this.eApplyFilterButton]);this.addManagedElementListeners(this.eApplyFilterButton,{click:()=>{var _this$filterManager2;this.advancedFilter.setModel(this.filterModel);(_this$filterManager2=this.filterManager)===null||_this$filterManager2===void 0||_this$filterManager2.onFilterChanged({source:\"advancedFilter\"});this.close();}});this.validationTooltipFeature=this.createOptionalManagedBean(this.registry.createDynamicBean(\"tooltipFeature\",false,{getGui:()=>this.eApplyFilterButton,getLocation:()=>\"advancedFilter\",getTooltipValue:()=>this.validationMessage,getTooltipShowDelayOverride:()=>1e3}));this.validate();var mouseListener=isEnter=>this.toggleCss(\"ag-advanced-filter-builder-validation\",isEnter);this.addManagedListeners(this.eApplyFilterButton,{mouseenter:()=>mouseListener(true),mouseleave:()=>mouseListener(false)});this.eCancelFilterButton.textContent=this.advFilterExpSvc.translate(\"advancedFilterBuilderCancel\");this.activateTabIndex([this.eCancelFilterButton]);this.addManagedElementListeners(this.eCancelFilterButton,{click:()=>this.close()});}removeItemFromParent(item){var sourceParentIndex=item.parent.conditions.indexOf(item.filterModel);item.parent.conditions.splice(sourceParentIndex,1);return sourceParentIndex;}moveItemToIndex(item,destinationRowIndex,destinationPosition){var _destinationItem$filt;var destinationItem=this.items[destinationRowIndex];var destinationIsParent=((_destinationItem$filt=destinationItem.filterModel)===null||_destinationItem$filt===void 0?void 0:_destinationItem$filt.filterType)===\"join\"&&destinationPosition===\"bottom\";var destinationParent=destinationIsParent?destinationItem.filterModel:destinationItem.parent;if(!destinationParent){return;}if(this.isChildOrSelf(destinationParent,item.filterModel)||destinationItem===item){return;}this.removeItemFromParent(item);var destinationParentIndex;if(destinationIsParent){destinationParentIndex=0;}else{destinationParentIndex=destinationParent.conditions.indexOf(destinationItem.filterModel);if(destinationParentIndex===-1){destinationParentIndex=destinationParent.conditions.length;}else if(destinationPosition===\"bottom\"){destinationParentIndex+=1;}}destinationParent.conditions.splice(destinationParentIndex,0,item.filterModel);this.refreshList(false);}isChildOrSelf(modelToCheck,potentialParentModel){return modelToCheck===potentialParentModel||potentialParentModel.filterType===\"join\"&&potentialParentModel.conditions.some(condition=>this.isChildOrSelf(modelToCheck,condition));}setupFilterModel(){var filterModel=this.formatFilterModel(this.advancedFilter.getModel());this.stringifiedModel=JSON.stringify(filterModel);return filterModel;}formatFilterModel(filterModel){filterModel=filterModel!==null&&filterModel!==void 0?filterModel:{filterType:\"join\",type:\"AND\",conditions:[]};if(filterModel.filterType!==\"join\"){filterModel={filterType:\"join\",type:\"AND\",conditions:[filterModel]};}return filterModel;}buildList(){var parseFilterModel=(filterModel,items,level,parent)=>{items.push({filterModel,level,parent,valid:true,showMove:this.showMove});if(filterModel.filterType===\"join\"){filterModel.conditions.forEach(childFilterModel=>parseFilterModel(childFilterModel,items,level+1,filterModel));if(level===0){items.push({filterModel:null,level:level+1,parent:filterModel,valid:true});}}};this.items=[];parseFilterModel(this.filterModel,this.items,0);}refreshList(softRefresh){if(!softRefresh){var invalidModels=[];this.items.forEach(item=>{if(!item.valid){invalidModels.push(item.filterModel);}});this.buildList();if(invalidModels.length){this.items.forEach(item=>{if(item.filterModel&&invalidModels.includes(item.filterModel)){item.valid=false;}});}}this.virtualList.refresh(softRefresh);this.validate();}updateItemComponent(item,comp){var index=this.items.indexOf(item);var populateTreeLines=(filterModel2,treeLines2)=>{var parentItem=this.items.find(itemToCheck=>itemToCheck.filterModel===filterModel2);var parentFilterModel=parentItem===null||parentItem===void 0?void 0:parentItem.parent;if(parentFilterModel){var{conditions}=parentFilterModel;populateTreeLines(parentFilterModel,treeLines2);treeLines2.push(conditions[conditions.length-1]===filterModel2);}};var treeLines=[];var{filterModel}=item;if(filterModel){populateTreeLines(filterModel,treeLines);treeLines[0]=false;}var showStartTreeLine=(filterModel===null||filterModel===void 0?void 0:filterModel.filterType)===\"join\"&&!!filterModel.conditions.length;comp.setState({disableMoveUp:index===1,disableMoveDown:!this.canMoveDown(item,index),treeLines,showStartTreeLine});}createItemComponent(item,focusWrapper){var itemComp=this.createBean(item.filterModel?new AdvancedFilterBuilderItemComp(item,this.dragFeature,focusWrapper):new AdvancedFilterBuilderItemAddComp(item,focusWrapper));itemComp.addManagedListeners(itemComp,{advancedFilterBuilderRemoved:_ref24=>{var{item:item2}=_ref24;return this.removeItem(item2);},advancedFilterBuilderValueChanged:()=>this.validate(),advancedFilterBuilderAdded:_ref25=>{var{item:item2,isJoin}=_ref25;return this.addItem(item2,isJoin);},advancedFilterBuilderMoved:_ref26=>{var{item:item2,backwards}=_ref26;return this.moveItemUpDown(item2,backwards);}});if(itemComp instanceof AdvancedFilterBuilderItemComp){this.updateItemComponent(item,itemComp);}return itemComp;}addItem(item,isJoin){var{parent:itemParent,level,filterModel:itemFilterModel}=item;var itemIsJoin=(itemFilterModel===null||itemFilterModel===void 0?void 0:itemFilterModel.filterType)===\"join\";var filterModel=isJoin?{filterType:\"join\",type:\"AND\",conditions:[]}:{};var parent=itemIsJoin?itemFilterModel:itemParent;var insertIndex=itemIsJoin?0:parent.conditions.indexOf(itemFilterModel);if(insertIndex>=0){if(!itemIsJoin){insertIndex+=1;}parent.conditions.splice(insertIndex,0,filterModel);}else{parent.conditions.push(filterModel);}var index=this.items.indexOf(item);var softRefresh=index>=0;if(softRefresh){if(item.filterModel){index++;}var newItems=[{filterModel,level:itemIsJoin?level+1:level,parent,valid:isJoin,showMove:this.showMove}];this.items.splice(index,0,...newItems);}this.refreshList(softRefresh);if(softRefresh){var _this$virtualList$get;(_this$virtualList$get=this.virtualList.getComponentAt(index))===null||_this$virtualList$get===void 0||_this$virtualList$get.afterAdd();}}removeItem(item){var _item$filterModel;var parent=item.parent;var{filterModel}=item;var parentIndex=parent.conditions.indexOf(filterModel);parent.conditions.splice(parentIndex,1);var isJoin=((_item$filterModel=item.filterModel)===null||_item$filterModel===void 0?void 0:_item$filterModel.filterType)===\"join\";var index=this.items.indexOf(item);var softRefresh=!isJoin&&index>=0;if(softRefresh){this.items.splice(index,1);}this.refreshList(softRefresh);if(index>=0){this.virtualList.focusRow(index);}}moveItemUpDown(item,backwards,fromVirtualList){var itemIndex=this.items.indexOf(item);var destinationIndex=backwards?itemIndex-1:itemIndex+1;if(destinationIndex===0||!backwards&&!this.canMoveDown(item,itemIndex)){return;}var destinationItem=this.items[destinationIndex];var indexInParent=this.removeItemFromParent(item);var{level,filterModel,parent}=item;var{level:destinationLevel,filterModel:destinationFilterModel,parent:destinationParent}=destinationItem;if(backwards){if(destinationLevel===level&&destinationFilterModel.filterType===\"join\"){destinationFilterModel.conditions.push(filterModel);}else if(destinationLevel<=level){var destinationIndex2=destinationParent.conditions.indexOf(destinationFilterModel);destinationParent.conditions.splice(destinationIndex2,0,filterModel);}else{var newParentItem=parent.conditions[indexInParent-1];newParentItem.conditions.push(filterModel);}}else{if(destinationLevel===level){if(destinationFilterModel.filterType===\"join\"){destinationFilterModel.conditions.splice(0,0,filterModel);}else{var _destinationIndex=destinationParent.conditions.indexOf(destinationFilterModel);destinationParent.conditions.splice(_destinationIndex+1,0,filterModel);}}else{if(indexInParent<parent.conditions.length){parent.conditions.splice(indexInParent+1,0,filterModel);}else{var parentItem=this.items.find(itemToCheck=>itemToCheck.filterModel===parent);var _destinationIndex2=parentItem.parent.conditions.indexOf(parentItem.filterModel)+1;parentItem.parent.conditions.splice(_destinationIndex2,0,filterModel);}}}this.refreshList(false);var newIndex=this.items.findIndex(_ref27=>{var{filterModel:filterModelToCheck}=_ref27;return filterModelToCheck===filterModel;});if(newIndex<0){return;}var comp=this.virtualList.getComponentAt(newIndex);if(!(comp instanceof AdvancedFilterBuilderItemComp)){return;}if(!fromVirtualList){comp.focusMoveButton(backwards);}}virtualListMoveItemCallback(itemComp,isUp){var item=itemComp.item;var from=this.items.indexOf(item);if(from<=0||from===this.items.length-1){return;}if(isUp&&from===1||!isUp&&!this.canMoveDown(item,from)){return;}this.moveItemUpDown(item,isUp,true);this.virtualList.focusRow(from+(isUp?-1:1));}canMoveDown(item,index){return!(item.level===1&&index===this.items.length-2||item.level===1&&item.parent.conditions[item.parent.conditions.length-1]===item.filterModel);}close(){this.advancedFilter.getCtrl().toggleFilterBuilder({source:\"ui\"});}validate(){var _this$validationToolt2;var disableApply=!this.items.every(_ref28=>{var{valid}=_ref28;return valid;});if(!disableApply){disableApply=JSON.stringify(this.filterModel)===this.stringifiedModel;if(disableApply){this.validationMessage=this.advFilterExpSvc.translate(\"advancedFilterBuilderValidationAlreadyApplied\");}else{this.validationMessage=null;}}else{this.validationMessage=this.advFilterExpSvc.translate(\"advancedFilterBuilderValidationIncomplete\");}(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setDisabled)(this.eApplyFilterButton,disableApply);(_this$validationToolt2=this.validationTooltipFeature)===null||_this$validationToolt2===void 0||_this$validationToolt2.refreshTooltip();}validateItems(){var clearOperator=filterModel=>{filterModel.type=void 0;};var clearOperand=filterModel=>{delete filterModel.filter;};this.items.forEach(item=>{if(!item.valid||!item.filterModel||item.filterModel.filterType===\"join\"){return;}var{filterModel}=item;var{colId}=filterModel;var hasColumn=this.advFilterExpSvc.getColumnAutocompleteEntries().find(_ref29=>{var{key}=_ref29;return key===colId;});var columnDetails=this.advFilterExpSvc.getColumnDetails(filterModel.colId);if(!hasColumn||!columnDetails.column){item.valid=false;filterModel.colId=void 0;clearOperator(filterModel);clearOperand(filterModel);return;}var operatorForType=this.advFilterExpSvc.getDataTypeExpressionOperator(columnDetails.baseCellDataType);var operator=operatorForType.operators[filterModel.type];if(!operator){item.valid=false;clearOperator(filterModel);clearOperand(filterModel);return;}if(operator.numOperands>0&&!(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._exists)(filterModel.filter)){item.valid=false;return;}});}};// packages/ag-grid-enterprise/src/advancedFilter/advancedFilterCtrl.ts\nvar AdvancedFilterCtrl=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BeanStub{constructor(enabled){super();this.enabled=enabled;}wireBeans(beans){this.ctrlsSvc=beans.ctrlsSvc;this.popupSvc=beans.popupSvc;this.advFilterExpSvc=beans.advFilterExpSvc;this.environment=beans.environment;}postConstruct(){this.hasAdvancedFilterParent=!!this.gos.get(\"advancedFilterParent\");this.ctrlsSvc.whenReady(this,()=>this.setAdvancedFilterComp());this.addManagedEventListeners({advancedFilterEnabledChanged:_ref30=>{var{enabled}=_ref30;return this.onEnabledChanged(enabled);}});this.addManagedPropertyListener(\"advancedFilterParent\",()=>this.updateComps());this.addDestroyFunc(()=>{this.destroyAdvancedFilterComp();this.destroyBean(this.eBuilderComp);if(this.eBuilderDialog&&this.eBuilderDialog.isAlive()){this.destroyBean(this.eBuilderDialog);}});}setupHeaderComp(eCompToInsertBefore){if(this.eHeaderComp){var _this$eHeaderComp;(_this$eHeaderComp=this.eHeaderComp)===null||_this$eHeaderComp===void 0||_this$eHeaderComp.getGui().remove();this.destroyBean(this.eHeaderComp);}this.eHeaderComp=this.createManagedBean(new AdvancedFilterHeaderComp(this.enabled&&!this.hasAdvancedFilterParent));eCompToInsertBefore.insertAdjacentElement(\"beforebegin\",this.eHeaderComp.getGui());}focusHeaderComp(){if(this.eHeaderComp){this.eHeaderComp.getFocusableElement().focus();return true;}return false;}refreshComp(){var _this$eFilterComp,_this$eHeaderComp2;(_this$eFilterComp=this.eFilterComp)===null||_this$eFilterComp===void 0||_this$eFilterComp.refresh();(_this$eHeaderComp2=this.eHeaderComp)===null||_this$eHeaderComp2===void 0||_this$eHeaderComp2.refresh();}refreshBuilderComp(){var _this$eBuilderComp;(_this$eBuilderComp=this.eBuilderComp)===null||_this$eBuilderComp===void 0||_this$eBuilderComp.refresh();}getHeaderHeight(){var _this$eHeaderComp$get,_this$eHeaderComp3;return(_this$eHeaderComp$get=(_this$eHeaderComp3=this.eHeaderComp)===null||_this$eHeaderComp3===void 0?void 0:_this$eHeaderComp3.getHeight())!==null&&_this$eHeaderComp$get!==void 0?_this$eHeaderComp$get:0;}setInputDisabled(disabled){var _this$eFilterComp2,_this$eHeaderComp4;(_this$eFilterComp2=this.eFilterComp)===null||_this$eFilterComp2===void 0||_this$eFilterComp2.setInputDisabled(disabled);(_this$eHeaderComp4=this.eHeaderComp)===null||_this$eHeaderComp4===void 0||_this$eHeaderComp4.setInputDisabled(disabled);}toggleFilterBuilder(params){var{source,force,eventSource}=params;if(force&&this.eBuilderDialog||force===false&&!this.eBuilderDialog){return;}if(this.eBuilderDialog){this.builderDestroySource=source;this.destroyBean(this.eBuilderDialog);return;}this.setInputDisabled(true);var{width,height,minWidth}=this.getBuilderDialogSize();this.eBuilderComp=this.createBean(new AdvancedFilterBuilderComp());this.eBuilderDialog=this.createBean(new AgDialog({title:this.advFilterExpSvc.translate(\"advancedFilterBuilderTitle\"),component:this.eBuilderComp,width,height,resizable:true,movable:true,maximizable:true,centered:true,closable:true,minWidth,afterGuiAttached:()=>{var _this$eBuilderComp2;return(_this$eBuilderComp2=this.eBuilderComp)===null||_this$eBuilderComp2===void 0?void 0:_this$eBuilderComp2.afterGuiAttached();},postProcessPopupParams:{type:\"advancedFilterBuilder\",eventSource}}));this.dispatchFilterBuilderVisibleChangedEvent(source,true);this.eBuilderDialog.addEventListener(\"destroyed\",()=>{var _this$builderDestroyS;this.destroyBean(this.eBuilderComp);this.eBuilderComp=void 0;this.eBuilderDialog=void 0;this.setInputDisabled(false);this.dispatchLocalEvent({type:\"advancedFilterBuilderClosed\"});this.dispatchFilterBuilderVisibleChangedEvent((_this$builderDestroyS=this.builderDestroySource)!==null&&_this$builderDestroyS!==void 0?_this$builderDestroyS:\"ui\",false);this.builderDestroySource=void 0;});}dispatchFilterBuilderVisibleChangedEvent(source,visible){this.eventSvc.dispatchEvent({type:\"advancedFilterBuilderVisibleChanged\",source,visible});}getBuilderDialogSize(){var _this$gos$get$minWidt,_this$gos$get4;var minWidth=(_this$gos$get$minWidt=(_this$gos$get4=this.gos.get(\"advancedFilterBuilderParams\"))===null||_this$gos$get4===void 0?void 0:_this$gos$get4.minWidth)!==null&&_this$gos$get$minWidt!==void 0?_this$gos$get$minWidt:500;var popupParent=this.popupSvc.getPopupParent();var maxWidth=Math.round((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getAbsoluteWidth)(popupParent))-2;var maxHeight=Math.round((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getAbsoluteHeight)(popupParent)*0.75)-2;var width=Math.min(Math.max(700,minWidth),maxWidth);var height=Math.min(600,maxHeight);return{width,height,minWidth};}onEnabledChanged(enabled){this.enabled=enabled;this.updateComps();}updateComps(){this.setAdvancedFilterComp();this.setHeaderCompEnabled();this.eventSvc.dispatchEvent({type:\"headerHeightChanged\"});}setAdvancedFilterComp(){this.destroyAdvancedFilterComp();if(!this.enabled){return;}var advancedFilterParent=this.gos.get(\"advancedFilterParent\");this.hasAdvancedFilterParent=!!advancedFilterParent;if(advancedFilterParent){var eAdvancedFilterComp=this.createBean(new AdvancedFilterComp());var eAdvancedFilterCompGui=eAdvancedFilterComp.getGui();this.environment.applyThemeClasses(eAdvancedFilterCompGui);eAdvancedFilterCompGui.classList.add(this.gos.get(\"enableRtl\")?\"ag-rtl\":\"ag-ltr\");advancedFilterParent.appendChild(eAdvancedFilterCompGui);this.eFilterComp=eAdvancedFilterComp;}}setHeaderCompEnabled(){var _this$eHeaderComp5;(_this$eHeaderComp5=this.eHeaderComp)===null||_this$eHeaderComp5===void 0||_this$eHeaderComp5.setEnabled(this.enabled&&!this.hasAdvancedFilterParent);}destroyAdvancedFilterComp(){if(this.eFilterComp){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._removeFromParent)(this.eFilterComp.getGui());this.destroyBean(this.eFilterComp);}}};// packages/ag-grid-enterprise/src/advancedFilter/joinFilterExpressionParser.ts\nvar OperatorParser2=class{constructor(params){this.params=params;this.operators=[];this.operatorStartPositions=[];this.operatorEndPositions=[];this.activeOperator=0;this.validationError=null;}parseExpression(i){this.operators.push(\"\");this.operatorStartPositions.push(i);this.operatorEndPositions.push(void 0);var{expression}=this.params;while(i<expression.length){var char=expression[i];if(char===\" \"){var isComplete=this.parseOperator(i-1);if(isComplete){this.activeOperator++;return i-1;}else{this.operators[this.activeOperator]+=char;}}else{this.operators[this.activeOperator]+=char;}i++;}this.parseOperator(i-1);return i;}isValid(){return!this.validationError&&(!this.operators.length||!!this.parsedOperator);}getValidationError(){return this.validationError;}getFunction(){return this.parsedOperator===\"OR\"?\"||\":\"&&\";}getModel(){return this.parsedOperator===\"OR\"?\"OR\":\"AND\";}getAutocompleteListParams(position,operatorIndex){var searchString;if(operatorIndex==null){searchString=\"\";}else{var operator=this.operators[operatorIndex];var operatorEndPosition=this.operatorEndPositions[operatorIndex];searchString=getSearchString(operator,position,operatorEndPosition==null?this.params.expression.length:operatorEndPosition+1);}var entries=this.params.advFilterExpSvc.getJoinOperatorAutocompleteEntries();if(operatorIndex||operatorIndex==null&&this.activeOperator){entries=entries.filter(_ref31=>{var{key}=_ref31;return key===this.parsedOperator;});}return this.params.advFilterExpSvc.generateAutocompleteListParams(entries,\"join\",searchString);}updateExpression(position,updateEntry,operatorIndex){var _updateEntry$displayV3,_ref32;var{expression}=this.params;var updatedValuePart=(_updateEntry$displayV3=updateEntry.displayValue)!==null&&_updateEntry$displayV3!==void 0?_updateEntry$displayV3:updateEntry.key;if(operatorIndex===0){for(var i=this.operatorEndPositions.length-1;i>0;i--){var operatorEndPosition=this.operatorEndPositions[i];if(operatorEndPosition==null){continue;}expression=updateExpression(expression,this.operatorStartPositions[i],operatorEndPosition,updatedValuePart).updatedValue;}}var startPosition=this.operatorStartPositions.length>operatorIndex?this.operatorStartPositions[operatorIndex]:position;var endPosition=(_ref32=this.operatorEndPositions.length>operatorIndex?this.operatorEndPositions[operatorIndex]:void 0)!==null&&_ref32!==void 0?_ref32:findEndPosition(expression,position,true).endPosition;return updateExpression(expression,startPosition,endPosition,updatedValuePart,true);}getNumOperators(){return this.operators.length;}getLastOperatorEndPosition(){return this.operatorEndPositions[this.operatorEndPositions.length-1];}parseOperator(endPosition){var operator=this.operators.length>this.activeOperator?this.operators[this.activeOperator]:\"\";var joinOperators=this.params.advFilterExpSvc.getExpressionJoinOperators();var parsedValue=findMatch(operator,joinOperators,v=>v);if(parsedValue){this.operatorEndPositions[this.activeOperator]=endPosition;var displayValue=joinOperators[parsedValue];if(this.activeOperator){if(parsedValue!==this.parsedOperator){if(!this.validationError){this.validationError={message:this.params.advFilterExpSvc.translate(\"advancedFilterValidationJoinOperatorMismatch\"),startPosition:endPosition-operator.length+1,endPosition};}return false;}}else{this.parsedOperator=parsedValue;}if(operator!==displayValue){checkAndUpdateExpression(this.params,operator,displayValue,endPosition);this.operators[this.activeOperator]=displayValue;}return true;}else if(parsedValue===null){return false;}else{if(!this.validationError){this.validationError={message:this.params.advFilterExpSvc.translate(\"advancedFilterValidationInvalidJoinOperator\"),startPosition:endPosition-operator.length+1,endPosition};}return true;}}};var JoinFilterExpressionParser=class _JoinFilterExpressionParser{constructor(params,startPosition){this.params=params;this.startPosition=startPosition;this.expectingExpression=true;this.expectingOperator=false;this.expressionParsers=[];this.operatorParser=new OperatorParser2(this.params);this.missingEndBracket=false;this.extraEndBracket=false;}parseExpression(){var i=this.startPosition;var{expression}=this.params;while(i<expression.length){var char=expression[i];if(char===\"(\"&&!this.expectingOperator){var nestedParser=new _JoinFilterExpressionParser(this.params,i+1);i=nestedParser.parseExpression();this.expressionParsers.push(nestedParser);this.expectingExpression=false;this.expectingOperator=true;}else if(char===\")\"){this.endPosition=i-1;if(this.startPosition===0){this.extraEndBracket=true;}return i;}else if(char===\" \"){}else if(this.expectingExpression){var _nestedParser=new ColFilterExpressionParser(this.params,i);i=_nestedParser.parseExpression();this.expressionParsers.push(_nestedParser);this.expectingExpression=false;this.expectingOperator=true;}else if(this.expectingOperator){i=this.operatorParser.parseExpression(i);this.expectingOperator=false;this.expectingExpression=true;}i++;}if(this.startPosition>0){this.missingEndBracket=true;}return i;}isValid(){return!this.missingEndBracket&&!this.extraEndBracket&&this.expressionParsers.length===this.operatorParser.getNumOperators()+1&&this.operatorParser.isValid()&&this.expressionParsers.every(expressionParser=>expressionParser.isValid());}getValidationError(){var operatorError=this.operatorParser.getValidationError();for(var i=0;i<this.expressionParsers.length;i++){var expressionError=this.expressionParsers[i].getValidationError();if(expressionError){return operatorError&&operatorError.startPosition<expressionError.startPosition?operatorError:expressionError;}}if(operatorError){return operatorError;}if(this.extraEndBracket){return{message:this.params.advFilterExpSvc.translate(\"advancedFilterValidationExtraEndBracket\"),startPosition:this.endPosition+1,endPosition:this.endPosition+1};}var translateKey;if(this.expressionParsers.length===this.operatorParser.getNumOperators()){translateKey=\"advancedFilterValidationMissingCondition\";}else if(this.missingEndBracket){translateKey=\"advancedFilterValidationMissingEndBracket\";}if(translateKey){return{message:this.params.advFilterExpSvc.translate(translateKey),startPosition:this.params.expression.length,endPosition:this.params.expression.length};}return null;}getFunction(params){var operator=this.operatorParser.getFunction();var funcs=this.expressionParsers.map(expressionParser=>expressionParser.getFunction(params));var arrayFunc=operator===\"&&\"?\"every\":\"some\";return(expressionProxy,node,p)=>funcs[arrayFunc](func=>func(expressionProxy,node,p));}getAutocompleteListParams(position){if(this.endPosition!=null&&position>this.endPosition+1){return void 0;}if(!this.expressionParsers.length){return this.getColumnAutocompleteListParams();}var expressionParserIndex=this.getExpressionParserIndex(position);if(expressionParserIndex==null){if(this.params.expression[position]===\"(\"){return{enabled:false};}return this.getColumnAutocompleteListParams();}var expressionParser=this.expressionParsers[expressionParserIndex];var autocompleteType=expressionParser.getAutocompleteListParams(position);if(!autocompleteType){if(expressionParserIndex<this.expressionParsers.length-1){return this.operatorParser.getAutocompleteListParams(position,expressionParserIndex);}if(this.expressionParsers.length===this.operatorParser.getNumOperators()){var operatorEndPosition=this.operatorParser.getLastOperatorEndPosition();return operatorEndPosition==null||position<=operatorEndPosition+1?this.operatorParser.getAutocompleteListParams(position,this.operatorParser.getNumOperators()-1):this.getColumnAutocompleteListParams();}if(this.params.expression[position-1]===\")\"){return{enabled:false};}return this.operatorParser.getAutocompleteListParams(position);}return autocompleteType;}updateExpression(position,updateEntry,type){var expression=this.params.expression;var expressionParserIndex=this.getExpressionParserIndex(position);if(expressionParserIndex==null){var _updateEntry$displayV4;var updatedValuePart=type===\"column\"?this.params.advFilterExpSvc.getColumnValue(updateEntry):(_updateEntry$displayV4=updateEntry.displayValue)!==null&&_updateEntry$displayV4!==void 0?_updateEntry$displayV4:updateEntry.key;return updateExpression(expression,this.startPosition,this.startPosition,updatedValuePart,true);}var expressionParser=this.expressionParsers[expressionParserIndex];var updatedExpression=expressionParser.updateExpression(position,updateEntry,type);if(updatedExpression==null){if(type===\"column\"){return updateExpression(expression,position,expression.length-1,this.params.advFilterExpSvc.getColumnValue(updateEntry),true);}else if(this.endPosition!=null&&position>this.endPosition+1){return null;}else{return this.operatorParser.updateExpression(position,updateEntry,expressionParserIndex);}}return updatedExpression;}getModel(){if(this.expressionParsers.length>1){return{filterType:\"join\",type:this.operatorParser.getModel(),conditions:this.expressionParsers.map(parser=>parser.getModel())};}else{return this.expressionParsers[0].getModel();}}getColumnAutocompleteListParams(){return this.params.advFilterExpSvc.generateAutocompleteListParams(this.params.advFilterExpSvc.getColumnAutocompleteEntries(),\"column\",\"\");}getExpressionParserIndex(position){var expressionParserIndex;for(var i=0;i<this.expressionParsers.length;i++){var expressionParserToCheck=this.expressionParsers[i];if(expressionParserToCheck.startPosition>position){break;}expressionParserIndex=i;}return expressionParserIndex;}};// packages/ag-grid-enterprise/src/advancedFilter/filterExpressionParser.ts\nvar FilterExpressionParser=class{constructor(params){this.params=params;this.valid=false;}parseExpression(){this.joinExpressionParser=new JoinFilterExpressionParser(this.params,0);var i=this.joinExpressionParser.parseExpression();this.valid=i>=this.params.expression.length-1&&this.joinExpressionParser.isValid();return this.params.expression;}isValid(){return this.valid;}getValidationMessage(){var error=this.joinExpressionParser.getValidationError();if(!error){return null;}var{message,startPosition,endPosition}=error;return startPosition<this.params.expression.length?this.params.advFilterExpSvc.translate(\"advancedFilterValidationMessage\",[message,this.params.expression.slice(startPosition,endPosition+1).trim()]):this.params.advFilterExpSvc.translate(\"advancedFilterValidationMessageAtEnd\",[message]);}getFunction(){var params=this.createFunctionParams();return{expressionFunction:this.joinExpressionParser.getFunction(params),params};}getAutocompleteListParams(position){var _this$joinExpressionP;return(_this$joinExpressionP=this.joinExpressionParser.getAutocompleteListParams(position))!==null&&_this$joinExpressionP!==void 0?_this$joinExpressionP:{enabled:false};}updateExpression(position,updateEntry,type){return this.joinExpressionParser.updateExpression(position,updateEntry,type);}getModel(){return this.isValid()?this.joinExpressionParser.getModel():null;}createFunctionParams(){return{operands:[],operators:[],evaluatorParams:[]};}};// packages/ag-grid-enterprise/src/advancedFilter/advancedFilterService.ts\nvar AdvancedFilterService=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BeanStub{constructor(){super(...arguments);this.beanName=\"advancedFilter\";this.appliedExpression=null;/** The value displayed in the input, which may be invalid */this.expression=null;this.isValid=true;}wireBeans(beans){this.valueSvc=beans.valueSvc;this.colModel=beans.colModel;this.dataTypeSvc=beans.dataTypeSvc;this.advFilterExpSvc=beans.advFilterExpSvc;this.filterValueSvc=beans.filterValueSvc;}postConstruct(){this.setEnabled(this.gos.get(\"enableAdvancedFilter\"),true);this.ctrl=this.createManagedBean(new AdvancedFilterCtrl(this.enabled));this.expressionProxy={getValue:(colId,node)=>{var column=this.colModel.getColDefCol(colId);return column?this.filterValueSvc.getValue(column,node):void 0;}};this.addManagedPropertyListener(\"enableAdvancedFilter\",event=>this.setEnabled(!!event.currentValue));this.addManagedEventListeners({newColumnsLoaded:event=>this.onNewColumnsLoaded(event)});this.addManagedPropertyListener(\"includeHiddenColumnsInAdvancedFilter\",()=>this.updateValidity());}isEnabled(){return this.enabled;}isFilterPresent(){return!!this.expressionFunction;}doesFilterPass(node){return this.expressionFunction(this.expressionProxy,node,this.expressionParams);}getModel(){var _expressionParser$get;var expressionParser=this.createExpressionParser(this.appliedExpression);expressionParser===null||expressionParser===void 0||expressionParser.parseExpression();return(_expressionParser$get=expressionParser===null||expressionParser===void 0?void 0:expressionParser.getModel())!==null&&_expressionParser$get!==void 0?_expressionParser$get:null;}setModel(model){var parseModel=(model2,isFirstParent)=>{if(model2.filterType===\"join\"){var operator=this.advFilterExpSvc.parseJoinOperator(model2);var expression2=model2.conditions.map(condition=>parseModel(condition)).filter(condition=>(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._exists)(condition)).join(\" \".concat(operator,\" \"));return isFirstParent||model2.conditions.length<=1?expression2:\"(\".concat(expression2,\")\");}else{return this.advFilterExpSvc.parseColumnFilterModel(model2);}};var expression=model?parseModel(model,true):null;this.setExpressionDisplayValue(expression);this.applyExpression();this.ctrl.refreshComp();this.ctrl.refreshBuilderComp();}getExpressionDisplayValue(){return this.expression;}setExpressionDisplayValue(expression){this.expression=expression;}isCurrentExpressionApplied(){return this.appliedExpression===this.expression;}createExpressionParser(expression){if(!expression){return null;}return new FilterExpressionParser({expression,colModel:this.colModel,dataTypeSvc:this.dataTypeSvc,valueSvc:this.valueSvc,advFilterExpSvc:this.advFilterExpSvc});}getDefaultExpression(updateEntry){var updatedValue=this.advFilterExpSvc.getColumnValue(updateEntry)+\" \";return{updatedValue,updatedPosition:updatedValue.length};}isHeaderActive(){return!this.gos.get(\"advancedFilterParent\");}getCtrl(){return this.ctrl;}setEnabled(enabled,silent){var previousValue=this.enabled;var isValidRowModel=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isClientSideRowModel)(this.gos)||(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isServerSideRowModel)(this.gos);if(enabled&&!isValidRowModel){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(123);}this.enabled=enabled&&isValidRowModel;if(!silent&&this.enabled!==previousValue){this.eventSvc.dispatchEvent({type:\"advancedFilterEnabledChanged\",enabled:this.enabled});}}applyExpression(){var expressionParser=this.createExpressionParser(this.expression);expressionParser===null||expressionParser===void 0||expressionParser.parseExpression();this.applyExpressionFromParser(expressionParser);}applyExpressionFromParser(expressionParser){this.isValid=!expressionParser||expressionParser.isValid();if(!expressionParser||!this.isValid){this.expressionFunction=null;this.expressionParams=null;this.appliedExpression=null;return;}var{expressionFunction,params}=expressionParser.getFunction();this.expressionFunction=expressionFunction;this.expressionParams=params;this.appliedExpression=this.expression;}updateValidity(){this.advFilterExpSvc.resetColumnCaches();var expressionParser=this.createExpressionParser(this.expression);expressionParser===null||expressionParser===void 0||expressionParser.parseExpression();var isValid=!expressionParser||expressionParser.isValid();var updatedValidity=isValid!==this.isValid;this.applyExpressionFromParser(expressionParser);this.ctrl.refreshComp();this.ctrl.refreshBuilderComp();return updatedValidity;}onNewColumnsLoaded(event){var _this$dataTypeSvc6;if(event.source!==\"gridInitializing\"||!((_this$dataTypeSvc6=this.dataTypeSvc)!==null&&_this$dataTypeSvc6!==void 0&&_this$dataTypeSvc6.isPendingInference)){return;}this.ctrl.setInputDisabled(true);var[destroyFunc]=this.addManagedEventListeners({dataTypesInferred:()=>{destroyFunc===null||destroyFunc===void 0||destroyFunc();this.ctrl.setInputDisabled(false);}});}};// packages/ag-grid-enterprise/src/advancedFilter/advancedFilterModule.ts\nvar AdvancedFilterModule={moduleName:\"AdvancedFilter\",version:VERSION,beans:[AdvancedFilterService,AdvancedFilterExpressionService],icons:{// Builder button in Advanced Filter\nadvancedFilterBuilder:\"group\",// drag handle used to pick up Advanced Filter Builder rows\nadvancedFilterBuilderDrag:\"grip\",// Advanced Filter Builder row validation error\nadvancedFilterBuilderInvalid:\"not-allowed\",// shown on Advanced Filter Builder rows to move them up\nadvancedFilterBuilderMoveUp:\"up\",// shown on Advanced Filter Builder rows to move them down\nadvancedFilterBuilderMoveDown:\"down\",// shown on Advanced Filter Builder rows to add new rows\nadvancedFilterBuilderAdd:\"plus\",// shown on Advanced Filter Builder rows to remove row\nadvancedFilterBuilderRemove:\"minus\",// shown on Advanced Filter Builder selection pills\nadvancedFilterBuilderSelectOpen:\"small-down\",// remove for rich select editor pills\nrichSelectRemove:\"cancel\"},apiFunctions:{getAdvancedFilterModel,setAdvancedFilterModel,showAdvancedFilterBuilder,hideAdvancedFilterBuilder},dependsOn:[EnterpriseCoreModule,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._FilterCoreModule,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._SharedDragAndDropModule,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._PopupModule,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._FilterValueModule],css:[advancedFilterCSS]};// packages/ag-grid-enterprise/src/columnToolPanel/columnsToolPanelModule.ts\n// packages/ag-grid-enterprise/src/sideBar/sideBarModule.ts\n// packages/ag-grid-enterprise/src/sideBar/sideBarApi.ts\nfunction isSideBarVisible(beans){var _beans$sideBar$comp$i,_beans$sideBar;return(_beans$sideBar$comp$i=(_beans$sideBar=beans.sideBar)===null||_beans$sideBar===void 0?void 0:_beans$sideBar.comp.isDisplayed())!==null&&_beans$sideBar$comp$i!==void 0?_beans$sideBar$comp$i:false;}function setSideBarVisible(beans,show){var _beans$sideBar2;(_beans$sideBar2=beans.sideBar)===null||_beans$sideBar2===void 0||_beans$sideBar2.comp.setDisplayed(show);}function setSideBarPosition(beans,position){var _beans$sideBar3;(_beans$sideBar3=beans.sideBar)===null||_beans$sideBar3===void 0||_beans$sideBar3.comp.setSideBarPosition(position);}function openToolPanel(beans,key){var _beans$sideBar4;(_beans$sideBar4=beans.sideBar)===null||_beans$sideBar4===void 0||_beans$sideBar4.comp.openToolPanel(key,\"api\");}function closeToolPanel(beans){var _beans$sideBar5;(_beans$sideBar5=beans.sideBar)===null||_beans$sideBar5===void 0||_beans$sideBar5.comp.close(\"api\");}function getOpenedToolPanel(beans){var _beans$sideBar$comp$o,_beans$sideBar6;return(_beans$sideBar$comp$o=(_beans$sideBar6=beans.sideBar)===null||_beans$sideBar6===void 0?void 0:_beans$sideBar6.comp.openedItem())!==null&&_beans$sideBar$comp$o!==void 0?_beans$sideBar$comp$o:null;}function refreshToolPanel(beans){var _beans$sideBar7;(_beans$sideBar7=beans.sideBar)===null||_beans$sideBar7===void 0||_beans$sideBar7.comp.refresh();}function isToolPanelShowing(beans){var _beans$sideBar$comp$i2,_beans$sideBar8;return(_beans$sideBar$comp$i2=(_beans$sideBar8=beans.sideBar)===null||_beans$sideBar8===void 0?void 0:_beans$sideBar8.comp.isToolPanelShowing())!==null&&_beans$sideBar$comp$i2!==void 0?_beans$sideBar$comp$i2:false;}function getToolPanelInstance(beans,id){var _beans$sideBar9;var comp=(_beans$sideBar9=beans.sideBar)===null||_beans$sideBar9===void 0?void 0:_beans$sideBar9.comp.getToolPanelInstance(id);return (0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._unwrapUserComp)(comp);}function getSideBar(beans){var _beans$sideBar0;return(_beans$sideBar0=beans.sideBar)===null||_beans$sideBar0===void 0?void 0:_beans$sideBar0.comp.getDef();}// packages/ag-grid-enterprise/src/sideBar/sideBarService.ts\n// packages/ag-grid-enterprise/src/sideBar/agSideBar.ts\n// packages/ag-grid-enterprise/src/misc/enterpriseFocusUtils.ts\nfunction findFocusableElementBeforeTabGuard(rootNode,referenceElement){if(!referenceElement){return null;}var focusableElements=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._findFocusableElements)(rootNode);var referenceIndex=focusableElements.indexOf(referenceElement);if(referenceIndex===-1){return null;}var lastTabGuardIndex=-1;for(var i=referenceIndex-1;i>=0;i--){if(focusableElements[i].classList.contains(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.TabGuardClassNames.TAB_GUARD_TOP)){lastTabGuardIndex=i;break;}}if(lastTabGuardIndex<=0){return null;}return focusableElements[lastTabGuardIndex-1];}function isTargetUnderManagedComponent(rootNode,target){if(!target){return false;}var managedContainers=rootNode.querySelectorAll(\".\".concat(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._FOCUS_MANAGED_CLASS));if(!managedContainers.length){return false;}for(var i=0;i<managedContainers.length;i++){if(managedContainers[i].contains(target)){return true;}}return false;}// packages/ag-grid-enterprise/src/sideBar/agSideBar.css-GENERATED.ts\nvar agSideBarCSS=/*css*/\".ag-tool-panel-wrapper{display:flex;overflow:hidden auto;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:var(--ag-side-bar-panel-width)}.ag-select-agg-func-item{align-items:center;display:flex;flex:1 1 auto;flex-flow:row nowrap;height:100%;overflow:hidden;position:relative;text-overflow:ellipsis;white-space:nowrap;>*{flex:none}}.ag-tool-panel-horizontal-resize{cursor:ew-resize;height:100%;position:absolute;top:0;width:5px;z-index:1}.ag-side-bar{background-color:var(--ag-side-bar-background-color);display:flex;flex-direction:row-reverse;position:relative}:where(.ag-ltr) :where(.ag-side-bar-left) .ag-tool-panel-horizontal-resize{right:-3px}:where(.ag-rtl) :where(.ag-side-bar-left) .ag-tool-panel-horizontal-resize{left:-3px}:where(.ag-ltr) :where(.ag-side-bar-right) .ag-tool-panel-horizontal-resize{left:-3px}:where(.ag-rtl) :where(.ag-side-bar-right) .ag-tool-panel-horizontal-resize{right:-3px}.ag-side-bar-left{flex-direction:row;order:-1}.ag-side-buttons{background-color:var(--ag-side-button-bar-background-color);padding-top:var(--ag-side-button-bar-top-padding);position:relative}.ag-side-button{background-color:var(--ag-side-button-background-color);border-bottom:var(--ag-side-button-border);border-top:var(--ag-side-button-border);color:var(--ag-side-button-text-color);margin-top:-1px;position:relative;&:before{background-color:transparent;bottom:0;content:\\\"\\\";display:block;position:absolute;top:0;transition:background-color var(--ag-side-button-selected-underline-transition-duration);width:var(--ag-side-button-selected-underline-width)}&:hover{background-color:var(--ag-side-button-hover-background-color);color:var(--ag-side-button-hover-text-color)}&.ag-selected{background-color:var(--ag-side-button-selected-background-color);border-bottom:var(--ag-side-button-selected-border);border-top:var(--ag-side-button-selected-border);color:var(--ag-side-button-selected-text-color);&:before{background-color:var(--ag-side-button-selected-underline-color)}}}:where(.ag-ltr) .ag-side-button{&:before{left:0}}:where(.ag-rtl) .ag-side-button{&:before{right:0}}.ag-side-button-button{align-items:center;display:flex;flex-direction:column;gap:var(--ag-spacing);position:relative;white-space:nowrap;width:100%;&:focus{box-shadow:none}}:where(.ag-ltr) .ag-side-button-button{padding:var(--ag-side-button-vertical-padding) var(--ag-side-button-right-padding) var(--ag-side-button-vertical-padding) var(--ag-side-button-left-padding)}:where(.ag-rtl) .ag-side-button-button{padding:var(--ag-side-button-vertical-padding) var(--ag-side-button-left-padding) var(--ag-side-button-vertical-padding) var(--ag-side-button-right-padding)}.ag-side-button-button:focus-visible{box-shadow:inset var(--ag-focus-shadow)}.ag-side-button-label{writing-mode:vertical-lr}@media (resolution <= 1.5x){.ag-side-button-label{font-family:\\\"Segoe UI\\\",var(--ag-font-family)}:where(.ag-ltr) .ag-side-button-label{transform:rotate(.05deg)}:where(.ag-rtl) .ag-side-button-label{transform:rotate(-.05deg)}}:where(.ag-ltr) .ag-side-bar-left,:where(.ag-rtl) .ag-side-bar-right{border-right:var(--ag-side-panel-border);:where(.ag-tool-panel-wrapper){border-left:var(--ag-side-panel-border)}}:where(.ag-ltr) .ag-side-bar-right,:where(.ag-rtl) .ag-side-bar-left{border-left:var(--ag-side-panel-border);:where(.ag-tool-panel-wrapper){border-right:var(--ag-side-panel-border)}}\";// packages/ag-grid-enterprise/src/sideBar/agSideBarButtons.ts\n// packages/ag-grid-enterprise/src/sideBar/sideBarButtonComp.ts\nvar SideBarButtonElement={tag:\"div\",cls:\"ag-side-button\",role:\"presentation\",children:[{tag:\"button\",ref:\"eToggleButton\",cls:\"ag-button ag-side-button-button\",role:\"tab\",attrs:{type:\"button\",tabindex:\"-1\",\"aria-expanded\":\"false\"},children:[{tag:\"div\",ref:\"eIconWrapper\",cls:\"ag-side-button-icon-wrapper\",attrs:{\"aria-hidden\":\"true\"}},{tag:\"span\",ref:\"eLabel\",cls:\"ag-side-button-label\"}]}]};var SideBarButtonComp=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(toolPanelDef){super();this.toolPanelDef=toolPanelDef;this.eToggleButton=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.eIconWrapper=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.eLabel=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;}getToolPanelId(){return this.toolPanelDef.id;}postConstruct(){this.setTemplate(SideBarButtonElement,[]);this.setLabel();this.setIcon();this.addManagedElementListeners(this.eToggleButton,{click:this.onButtonPressed.bind(this)});this.eToggleButton.setAttribute(\"id\",\"ag-\".concat(this.getCompId(),\"-button\"));}setLabel(){var def=this.toolPanelDef;var label=this.getLocaleTextFunc()(def.labelKey,def.labelDefault);this.eLabel.textContent=label;}setIcon(){this.eIconWrapper.insertAdjacentElement(\"afterbegin\",(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createIconNoSpan)(this.toolPanelDef.iconKey,this.beans));}onButtonPressed(){this.dispatchLocalEvent({type:\"toggleButtonClicked\"});}setSelected(selected){this.toggleCss(\"ag-selected\",selected);(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setAriaExpanded)(this.eToggleButton,selected);}};// packages/ag-grid-enterprise/src/sideBar/agSideBarButtons.ts\nvar SideBarElement={tag:\"div\",cls:\"ag-side-buttons\",role:\"tablist\"};var AgSideBarButtons=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(){super(SideBarElement);this.buttonComps=[];}postConstruct(){this.addManagedElementListeners(this.getFocusableElement(),{keydown:this.handleKeyDown.bind(this)});}handleKeyDown(e){if(e.key!==ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.TAB||!e.shiftKey){return;}if((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._focusNextGridCoreContainer)(this.beans,true)){e.preventDefault();return;}(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._stopPropagationForAgGrid)(e);}setActiveButton(id){this.buttonComps.forEach(comp=>{comp.setSelected(id===comp.getToolPanelId());});}addButtonComp(def){var buttonComp=this.createBean(new SideBarButtonComp(def));this.buttonComps.push(buttonComp);this.appendChild(buttonComp);buttonComp.addEventListener(\"toggleButtonClicked\",()=>{this.dispatchLocalEvent({type:\"sideBarButtonClicked\",toolPanelId:def.id});});return buttonComp;}clearButtons(){this.buttonComps=this.destroyBeans(this.buttonComps);(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._clearElement)(this.getGui());super.destroy();}destroy(){this.clearButtons();super.destroy();}};var AgSideBarButtonsSelector={selector:\"AG-SIDE-BAR-BUTTONS\",component:AgSideBarButtons};// packages/ag-grid-enterprise/src/sideBar/sideBarDefParser.ts\nvar DEFAULT_COLUMN_COMP={id:\"columns\",labelDefault:\"Columns\",labelKey:\"columns\",iconKey:\"columnsToolPanel\",toolPanel:\"agColumnsToolPanel\"};var DEFAULT_FILTER_COMP={id:\"filters\",labelDefault:\"Filters\",labelKey:\"filters\",iconKey:\"filtersToolPanel\",toolPanel:\"agFiltersToolPanel\"};var DEFAULT_NEW_FILTER_COMP={id:\"filters-new\",labelDefault:\"Filters\",labelKey:\"filters\",iconKey:\"filtersToolPanel\",toolPanel:\"agNewFiltersToolPanel\"};var DEFAULT_BY_KEY={columns:DEFAULT_COLUMN_COMP,filters:DEFAULT_FILTER_COMP,\"filters-new\":DEFAULT_NEW_FILTER_COMP};function parseSideBarDef(toParse){if(!toParse){return void 0;}if(toParse===true){return{toolPanels:[DEFAULT_COLUMN_COMP,DEFAULT_FILTER_COMP],defaultToolPanel:\"columns\"};}if(typeof toParse===\"string\"){return parseSideBarDef([toParse]);}if(Array.isArray(toParse)){var comps=[];toParse.forEach(key=>{var lookupResult=DEFAULT_BY_KEY[key];if(!lookupResult){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(215,{key,defaultByKey:DEFAULT_BY_KEY});return;}comps.push(lookupResult);});if(comps.length===0){return void 0;}return{toolPanels:comps,defaultToolPanel:comps[0].id};}var result={toolPanels:parseComponents(toParse.toolPanels),defaultToolPanel:toParse.defaultToolPanel,hiddenByDefault:toParse.hiddenByDefault,position:toParse.position};return result;}function parseComponents(from){var result=[];if(!from){return result;}from.forEach(it=>{var toAdd=null;if(typeof it===\"string\"){var lookupResult=DEFAULT_BY_KEY[it];if(!lookupResult){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(215,{key:it,defaultByKey:DEFAULT_BY_KEY});return;}toAdd=lookupResult;}else{toAdd=it;}result.push(toAdd);});return result;}// packages/ag-grid-enterprise/src/sideBar/toolPanelWrapper.ts\n// packages/ag-grid-enterprise/src/sideBar/agHorizontalResize.ts\nvar AgHorizontalResize=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(){super({tag:\"div\",cls:\"ag-tool-panel-horizontal-resize\"});this.minWidth=100;this.maxWidth=null;}postConstruct(){var finishedWithResizeFunc=this.beans.horizontalResizeSvc.addResizeBar({eResizeBar:this.getGui(),dragStartPixels:1,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this),onResizeEnd:this.onResizeEnd.bind(this)});this.addDestroyFunc(finishedWithResizeFunc);this.inverted=this.gos.get(\"enableRtl\");}dispatchResizeEvent(start,end,width){this.eventSvc.dispatchEvent({type:\"toolPanelSizeChanged\",width,started:start,ended:end});}onResizeStart(){this.startingWidth=this.elementToResize.offsetWidth;this.dispatchResizeEvent(true,false,this.startingWidth);}onResizeEnd(delta){return this.onResizing(delta,true);}onResizing(delta){var isEnd=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var direction=this.inverted?-1:1;var newWidth=Math.max(this.minWidth,Math.floor(this.startingWidth-delta*direction));if(this.maxWidth!=null){newWidth=Math.min(this.maxWidth,newWidth);}this.elementToResize.style.width=\"\".concat(newWidth,\"px\");this.dispatchResizeEvent(false,isEnd,newWidth);}};// packages/ag-grid-enterprise/src/sideBar/toolPanelWrapper.ts\nfunction getToolPanelCompDetails(userCompFactory,toolPanelDef,params){return userCompFactory.getCompDetails(toolPanelDef,ToolPanelComponent,void 0,params,true);}var ToolPanelComponent={name:\"toolPanel\",optionalMethods:[\"refresh\",\"getState\"]};var ToolPanelElement={tag:\"div\",cls:\"ag-tool-panel-wrapper\",role:\"tabpanel\"};var ToolPanelWrapper=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(){super(ToolPanelElement);}postConstruct(){var eGui=this.getGui();var resizeBar=this.resizeBar=this.createManagedBean(new AgHorizontalResize());eGui.setAttribute(\"id\",\"ag-\".concat(this.getCompId()));resizeBar.elementToResize=eGui;this.appendChild(resizeBar);}getToolPanelId(){return this.toolPanelId;}setToolPanelDef(toolPanelDef,params){var{id,minWidth,maxWidth,width}=toolPanelDef;this.toolPanelId=id;this.width=width;var compDetails=getToolPanelCompDetails(this.beans.userCompFactory,toolPanelDef,params);if(compDetails==null){return false;}var componentPromise=compDetails.newAgStackInstance();this.params=compDetails.params;componentPromise.then(this.setToolPanelComponent.bind(this));var resizeBar=this.resizeBar;if(minWidth!=null){resizeBar.minWidth=minWidth;}if(maxWidth!=null){resizeBar.maxWidth=maxWidth;}return true;}setToolPanelComponent(compInstance){this.toolPanelCompInstance=compInstance;this.appendChild(compInstance.getGui());this.addDestroyFunc(()=>{this.destroyBean(compInstance);});var width=this.width;if(width){this.getGui().style.width=\"\".concat(width,\"px\");}}getToolPanelInstance(){return this.toolPanelCompInstance;}setResizerSizerSide(side){var isRtl=this.gos.get(\"enableRtl\");var isLeft=side===\"left\";var inverted=isRtl?isLeft:!isLeft;this.resizeBar.inverted=inverted;}refresh(){var _this$toolPanelCompIn;(_this$toolPanelCompIn=this.toolPanelCompInstance)===null||_this$toolPanelCompIn===void 0||_this$toolPanelCompIn.refresh(this.params);}};// packages/ag-grid-enterprise/src/sideBar/agSideBar.ts\nvar AgSideBarElement={tag:\"div\",cls:\"ag-side-bar ag-unselectable\",children:[{tag:\"ag-side-bar-buttons\",ref:\"sideBarButtons\"}]};var AgSideBar=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(){super(AgSideBarElement,[AgSideBarButtonsSelector]);this.sideBarButtons=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.toolPanelWrappers=[];this.registerCSS(agSideBarCSS);}postConstruct(){var _gos$get;this.sideBarButtons.addEventListener(\"sideBarButtonClicked\",this.onToolPanelButtonClicked.bind(this));var{beans,gos}=this;var{sideBar:sideBarState}=(_gos$get=gos.get(\"initialState\"))!==null&&_gos$get!==void 0?_gos$get:{};this.setSideBarDef({sideBarDef:parseSideBarDef(gos.get(\"sideBar\")),sideBarState});this.addManagedPropertyListener(\"sideBar\",()=>this.setState());beans.sideBar.comp=this;var eGui=this.getFocusableElement();this.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.ManagedFocusFeature(eGui,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this)}));(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._addFocusableContainerListener)(beans,this,eGui);}onTabKeyDown(e){if(e.defaultPrevented){return;}var{beans,sideBarButtons}=this;var eGui=this.getGui();var sideBarGui=sideBarButtons.getGui();var activeElement=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getActiveDomElement)(beans);var openPanel=eGui.querySelector(\".ag-tool-panel-wrapper:not(.ag-hidden)\");var target=e.target;var backwards=e.shiftKey;if(!openPanel){if((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._focusNextGridCoreContainer)(beans,backwards)){e.preventDefault();return true;}return (0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._focusNextGridCoreContainer)(beans,backwards,true);}if(sideBarGui.contains(activeElement)){if((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._focusInto)(openPanel,backwards)){e.preventDefault();}return;}if(!backwards){return;}var nextEl=null;if(openPanel.contains(activeElement)){nextEl=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._findNextFocusableElement)(beans,openPanel,void 0,true);}else if(isTargetUnderManagedComponent(openPanel,target)&&backwards){nextEl=findFocusableElementBeforeTabGuard(openPanel,target);}if(!nextEl){nextEl=sideBarGui.querySelector(\".ag-selected button\");}if(nextEl&&nextEl!==e.target){e.preventDefault();nextEl.focus();}}handleKeyDown(e){var currentButton=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getActiveDomElement)(this.beans);var sideBarButtons=this.sideBarButtons;if(!sideBarButtons.getGui().contains(currentButton)){return;}var sideBarGui=sideBarButtons.getGui();var buttons=Array.prototype.slice.call(sideBarGui.querySelectorAll(\".ag-side-button\"));var currentPos=buttons.findIndex(button=>button.contains(currentButton));var nextPos=null;switch(e.key){case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.LEFT:case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.UP:nextPos=Math.max(0,currentPos-1);break;case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.RIGHT:case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.DOWN:nextPos=Math.min(currentPos+1,buttons.length-1);break;}if(nextPos===null){return;}var innerButton=buttons[nextPos].querySelector(\"button\");if(innerButton){innerButton.focus();e.preventDefault();}}onToolPanelButtonClicked(event){var id=event.toolPanelId;var openedItem=this.openedItem();if(openedItem===id){this.openToolPanel(void 0,\"sideBarButtonClicked\");}else{this.openToolPanel(id,\"sideBarButtonClicked\");}}clearDownUi(){this.sideBarButtons.clearButtons();this.destroyToolPanelWrappers();}setSideBarDef(_ref33){var{sideBarDef,sideBarState,existingToolPanelWrappers}=_ref33;this.setDisplayed(false);this.sideBar=sideBarDef;if(!!sideBarDef&&!!sideBarDef.toolPanels){var toolPanelDefs=sideBarDef.toolPanels;this.createToolPanelsAndSideButtons(toolPanelDefs,sideBarState,existingToolPanelWrappers);if(!this.toolPanelWrappers.length){return;}var shouldDisplaySideBar=sideBarState?sideBarState.visible:!sideBarDef.hiddenByDefault;this.setDisplayed(shouldDisplaySideBar);this.setSideBarPosition(sideBarState?sideBarState.position:sideBarDef.position);if(shouldDisplaySideBar){if(sideBarState){var{openToolPanel:openToolPanel2}=sideBarState;if(openToolPanel2){this.openToolPanel(openToolPanel2,\"sideBarInitializing\");}}else{this.openToolPanel(sideBarDef.defaultToolPanel,\"sideBarInitializing\");}}}}getDef(){return this.sideBar;}setSideBarPosition(position){if(!position){position=\"right\";}this.position=position;var isLeft=position===\"left\";var resizerSide=isLeft?\"right\":\"left\";this.toggleCss(\"ag-side-bar-left\",isLeft);this.toggleCss(\"ag-side-bar-right\",!isLeft);this.toolPanelWrappers.forEach(wrapper=>{wrapper.setResizerSizerSide(resizerSide);});this.dispatchSideBarUpdated();return this;}setDisplayed(displayed,options){super.setDisplayed(displayed,options);this.dispatchSideBarUpdated();}getState(){var toolPanels={};this.toolPanelWrappers.forEach(wrapper=>{var _wrapper$getToolPanel,_wrapper$getToolPanel2;toolPanels[wrapper.getToolPanelId()]=(_wrapper$getToolPanel=wrapper.getToolPanelInstance())===null||_wrapper$getToolPanel===void 0||(_wrapper$getToolPanel2=_wrapper$getToolPanel.getState)===null||_wrapper$getToolPanel2===void 0?void 0:_wrapper$getToolPanel2.call(_wrapper$getToolPanel);});return{visible:this.isDisplayed(),position:this.position,openToolPanel:this.openedItem(),toolPanels};}createToolPanelsAndSideButtons(defs,sideBarState,existingToolPanelWrappers){for(var def of defs){var _sideBarState$toolPan;this.createToolPanelAndSideButton(def,sideBarState===null||sideBarState===void 0||(_sideBarState$toolPan=sideBarState.toolPanels)===null||_sideBarState$toolPan===void 0?void 0:_sideBarState$toolPan[def.id],existingToolPanelWrappers===null||existingToolPanelWrappers===void 0?void 0:existingToolPanelWrappers[def.id]);}}validateDef(def){var{id,toolPanel}=def;if(id==null){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(212);return false;}if(toolPanel===\"agFiltersToolPanel\"||toolPanel===\"agNewFiltersToolPanel\"){var _this$beans$filterMan;if((_this$beans$filterMan=this.beans.filterManager)!==null&&_this$beans$filterMan!==void 0&&_this$beans$filterMan.isAdvFilterEnabled()){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(213);return false;}}return true;}createToolPanelAndSideButton(def,initialState,existingToolPanelWrapper){if(!this.validateDef(def)){return;}var wrapper;if(existingToolPanelWrapper){wrapper=existingToolPanelWrapper;}else{wrapper=this.createBean(new ToolPanelWrapper());var created=wrapper.setToolPanelDef(def,(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._addGridCommonParams)(this.gos,{initialState,onStateUpdated:()=>this.dispatchSideBarUpdated()}));if(!created){return;}}wrapper.setDisplayed(false);var wrapperGui=wrapper.getGui();this.appendChild(wrapperGui);this.toolPanelWrappers.push(wrapper);var button=this.sideBarButtons.addButtonComp(def);(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setAriaControlsAndLabel)(button.eToggleButton,wrapperGui);}refresh(){this.toolPanelWrappers.forEach(wrapper=>wrapper.refresh());}openToolPanel(key){var source=arguments.length>1&&arguments[1]!==undefined?arguments[1]:\"api\";var currentlyOpenedKey=this.openedItem();if(currentlyOpenedKey===key){return;}this.toolPanelWrappers.forEach(wrapper=>{var show=key===wrapper.getToolPanelId();wrapper.setDisplayed(show);});var newlyOpenedKey=this.openedItem();var openToolPanelChanged=currentlyOpenedKey!==newlyOpenedKey;if(openToolPanelChanged){this.sideBarButtons.setActiveButton(key);this.raiseToolPanelVisibleEvent(key,currentlyOpenedKey!==null&&currentlyOpenedKey!==void 0?currentlyOpenedKey:void 0,source);}}getToolPanelInstance(key){var toolPanelWrapper=this.toolPanelWrappers.filter(toolPanel=>toolPanel.getToolPanelId()===key)[0];if(!toolPanelWrapper){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(214,{key});return;}return toolPanelWrapper.getToolPanelInstance();}raiseToolPanelVisibleEvent(key,previousKey,source){var switchingToolPanel=!!key&&!!previousKey;var eventSvc=this.eventSvc;if(previousKey){eventSvc.dispatchEvent({type:\"toolPanelVisibleChanged\",source,key:previousKey,visible:false,switchingToolPanel});}if(key){eventSvc.dispatchEvent({type:\"toolPanelVisibleChanged\",source,key,visible:true,switchingToolPanel});}}close(){var source=arguments.length>0&&arguments[0]!==undefined?arguments[0]:\"api\";this.openToolPanel(void 0,source);}isToolPanelShowing(){return!!this.openedItem();}openedItem(){var activeToolPanel=null;this.toolPanelWrappers.forEach(wrapper=>{if(wrapper.isDisplayed()){activeToolPanel=wrapper.getToolPanelId();}});return activeToolPanel;}setState(sideBarState){var sideBarDef=parseSideBarDef(this.gos.get(\"sideBar\"));var existingToolPanelWrappers={};if(sideBarDef&&this.sideBar){var _sideBarDef$toolPanel;(_sideBarDef$toolPanel=sideBarDef.toolPanels)===null||_sideBarDef$toolPanel===void 0||_sideBarDef$toolPanel.forEach(toolPanelDef=>{var _this$sideBar$toolPan,_toolPanelDef$toolPan,_toolPanelWrapper$get;var{id}=toolPanelDef;if(!id){return;}var existingToolPanelDef=(_this$sideBar$toolPan=this.sideBar.toolPanels)===null||_this$sideBar$toolPan===void 0?void 0:_this$sideBar$toolPan.find(toolPanelDefToCheck=>toolPanelDefToCheck.id===id);if(!existingToolPanelDef||toolPanelDef.toolPanel!==existingToolPanelDef.toolPanel){return;}var toolPanelWrapper=this.toolPanelWrappers.find(toolPanel=>toolPanel.getToolPanelId()===id);if(!toolPanelWrapper){return;}var params=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._addGridCommonParams)(this.gos,_objectSpread(_objectSpread({},(_toolPanelDef$toolPan=toolPanelDef.toolPanelParams)!==null&&_toolPanelDef$toolPan!==void 0?_toolPanelDef$toolPan:{}),{},{onStateUpdated:()=>this.dispatchSideBarUpdated()}));var hasRefreshed=(_toolPanelWrapper$get=toolPanelWrapper.getToolPanelInstance())===null||_toolPanelWrapper$get===void 0?void 0:_toolPanelWrapper$get.refresh(params);if(hasRefreshed!==true){return;}this.toolPanelWrappers=this.toolPanelWrappers.filter(toolPanel=>toolPanel!==toolPanelWrapper);(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._removeFromParent)(toolPanelWrapper.getGui());existingToolPanelWrappers[id]=toolPanelWrapper;});}this.clearDownUi();this.setSideBarDef({sideBarDef,sideBarState,existingToolPanelWrappers});}dispatchSideBarUpdated(){this.eventSvc.dispatchEvent({type:\"sideBarUpdated\"});}destroyToolPanelWrappers(){this.toolPanelWrappers.forEach(wrapper=>{(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._removeFromParent)(wrapper.getGui());this.destroyBean(wrapper);});this.toolPanelWrappers.length=0;}destroy(){this.destroyToolPanelWrappers();super.destroy();}};var AgSideBarSelector={selector:\"AG-SIDE-BAR\",component:AgSideBar};// packages/ag-grid-enterprise/src/sideBar/sideBarService.ts\nvar SideBarService=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BeanStub{constructor(){super(...arguments);this.beanName=\"sideBar\";}getSelector(){return AgSideBarSelector;}};// packages/ag-grid-enterprise/src/sideBar/sideBarModule.ts\nvar SideBarModule={moduleName:\"SideBar\",version:VERSION,beans:[SideBarService],apiFunctions:{isSideBarVisible,setSideBarVisible,setSideBarPosition,openToolPanel,closeToolPanel,getOpenedToolPanel,refreshToolPanel,isToolPanelShowing,getToolPanelInstance,getSideBar},dependsOn:[EnterpriseCoreModule,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._HorizontalResizeModule]};// packages/ag-grid-enterprise/src/widgets/agMenuItemRenderer.ts\nvar MenuItemElement={tag:\"div\"};var AgMenuItemRenderer=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(){super(MenuItemElement);}init(params){var _this$params$cssClass;this.params=params;this.cssClassPrefix=(_this$params$cssClass=this.params.cssClassPrefix)!==null&&_this$params$cssClass!==void 0?_this$params$cssClass:\"ag-menu-option\";this.addAriaAttributes();this.addIcon();this.addName();this.addShortcut();this.addSubMenu();}configureDefaults(){return true;}addAriaAttributes(){var{checked,subMenu}=this.params;var eGui=this.getGui();if(checked){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setAriaChecked)(eGui,checked);}if(subMenu){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setAriaExpanded)(eGui,false);}}addIcon(){if(this.params.isCompact){return;}var iconWrapper=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createElement)({tag:\"span\",ref:\"eIcon\",cls:\"\".concat(this.getClassName(\"part\"),\" \").concat(this.getClassName(\"icon\")),role:\"presentation\"});var{checked,icon}=this.params;if(checked){iconWrapper.appendChild((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createIconNoSpan)(\"check\",this.beans));}else if(icon){if((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isNodeOrElement)(icon)){iconWrapper.appendChild(icon);}else if(typeof icon===\"string\"){iconWrapper.innerHTML=icon;}else{(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(227);}}this.getGui().appendChild(iconWrapper);}addName(){var name=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createElement)({tag:\"span\",ref:\"eName\",cls:\"\".concat(this.getClassName(\"part\"),\" \").concat(this.getClassName(\"text\")),children:this.params.name||\"\"});this.getGui().appendChild(name);}addShortcut(){if(this.params.isCompact){return;}var shortcut=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createElement)({tag:\"span\",ref:\"eShortcut\",cls:\"\".concat(this.getClassName(\"part\"),\" \").concat(this.getClassName(\"shortcut\")),children:this.params.shortcut||\"\"});this.getGui().appendChild(shortcut);}addSubMenu(){var pointer=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createElement)({tag:\"span\",ref:\"ePopupPointer\",cls:\"\".concat(this.getClassName(\"part\"),\" \").concat(this.getClassName(\"popup-pointer\"))});var eGui=this.getGui();if(this.params.subMenu){var iconName=this.gos.get(\"enableRtl\")?\"subMenuOpenRtl\":\"subMenuOpen\";pointer.appendChild((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createIconNoSpan)(iconName,this.beans));}eGui.appendChild(pointer);}getClassName(suffix){return\"\".concat(this.cssClassPrefix,\"-\").concat(suffix);}};// packages/ag-grid-enterprise/src/widgets/menu.css-GENERATED.ts\nvar menuCSS=/*css*/\".ag-menu-list{cursor:default;display:table;padding:var(--ag-spacing) 0;width:100%}.ag-menu-option,.ag-menu-separator{display:table-row}.ag-menu-option-part,.ag-menu-separator-part{display:table-cell;vertical-align:middle}.ag-menu-option{cursor:pointer;font-weight:500}:where(.ag-ltr) :where(.ag-menu-option-popup-pointer) .ag-icon{text-align:right}:where(.ag-rtl) :where(.ag-menu-option-popup-pointer) .ag-icon{text-align:left}.ag-menu-option-text{white-space:nowrap}.ag-menu-option-custom{display:contents}.ag-compact-menu-option{display:flex;flex-wrap:nowrap;width:100%}.ag-compact-menu-option-text{flex:1 1 auto;white-space:nowrap}.ag-menu-separator{height:calc(var(--ag-spacing)*2 + 1px)}.ag-menu-separator-part:after{border-top:solid var(--ag-border-width) var(--ag-menu-separator-color);content:\\\"\\\";display:block}.ag-compact-menu-option-active,.ag-menu-option-active{background-color:var(--ag-row-hover-color)}.ag-compact-menu-option-part,.ag-menu-option-part{line-height:var(--ag-icon-size);padding:calc(var(--ag-spacing) + 2px) 0}.ag-compact-menu-option-disabled,.ag-menu-option-disabled{cursor:not-allowed;opacity:.5}.ag-compact-menu-option-icon,.ag-menu-option-icon{width:var(--ag-icon-size)}:where(.ag-ltr) .ag-compact-menu-option-icon,:where(.ag-ltr) .ag-menu-option-icon{padding-left:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-compact-menu-option-icon,:where(.ag-rtl) .ag-menu-option-icon{padding-right:calc(var(--ag-spacing)*2)}.ag-compact-menu-option-text,.ag-menu-option-text{padding-left:calc(var(--ag-spacing)*2);padding-right:calc(var(--ag-spacing)*2)}:where(.ag-ltr) .ag-compact-menu-option-shortcut,:where(.ag-ltr) .ag-menu-option-shortcut{padding-right:var(--ag-spacing)}:where(.ag-rtl) .ag-compact-menu-option-shortcut,:where(.ag-rtl) .ag-menu-option-shortcut{padding-left:var(--ag-spacing)}:where(.ag-ltr) .ag-compact-menu-option-popup-pointer,:where(.ag-ltr) .ag-menu-option-popup-pointer{padding-right:var(--ag-spacing)}:where(.ag-rtl) .ag-compact-menu-option-popup-pointer,:where(.ag-rtl) .ag-menu-option-popup-pointer{padding-left:var(--ag-spacing)}.ag-menu-column-select-wrapper{height:265px;overflow:auto;:where(.ag-column-select){height:100%}}.ag-menu:where(.ag-tabs){min-width:290px}.ag-context-menu-loading-icon{pointer-events:none;position:absolute}\";// packages/ag-grid-enterprise/src/widgets/menuItemModule.ts\nvar MenuItemModule={moduleName:\"MenuItem\",version:VERSION,userComponents:{agMenuItem:AgMenuItemRenderer},icons:{// indicates the currently active pin state in the \"Pin column\" sub-menu of the column menu\ncheck:\"tick\",// icon for sub menu item\nsubMenuOpen:\"small-right\",// version of subMenuOpen used in RTL mode\nsubMenuOpenRtl:\"small-left\"},css:[menuCSS]};// packages/ag-grid-enterprise/src/columnToolPanel/columnToolPanel.ts\n// packages/ag-grid-enterprise/src/columnToolPanel/agPrimaryCols.ts\n// packages/ag-grid-enterprise/src/columnToolPanel/agPrimaryCols.css-GENERATED.ts\nvar agPrimaryColsCSS=/*css*/\".ag-column-select{display:flex;flex:3 1 0px;flex-direction:column;overflow:hidden;position:relative}.ag-column-select-header{align-items:center;display:flex;flex:none;gap:var(--ag-widget-horizontal-spacing);height:var(--ag-header-height);padding-left:var(--ag-widget-container-horizontal-padding);padding-right:var(--ag-widget-container-horizontal-padding);position:relative}.ag-column-select-column,.ag-column-select-column-group{align-items:center;display:flex;gap:var(--ag-widget-horizontal-spacing);height:100%;position:relative;&:where(:not(:last-child)){margin-bottom:var(--ag-widget-vertical-spacing)}}:where(.ag-ltr) .ag-column-select-column,:where(.ag-ltr) .ag-column-select-column-group{padding-left:calc(var(--ag-indentation-level)*var(--ag-column-select-indent-size))}:where(.ag-rtl) .ag-column-select-column,:where(.ag-rtl) .ag-column-select-column-group{padding-right:calc(var(--ag-indentation-level)*var(--ag-column-select-indent-size))}.ag-column-select-header-icon{border-radius:var(--ag-border-radius);cursor:pointer;height:var(--ag-icon-size);position:relative;width:var(--ag-icon-size);&:focus-visible{box-shadow:var(--ag-focus-shadow)}}.ag-column-select-header-filter-wrapper{flex:1 1 auto}.ag-column-select-header-filter{width:100%}.ag-column-select-list{flex:1 1 0px;overflow:hidden}:where(.ag-ltr) .ag-column-select-add-group-indent{margin-left:calc(var(--ag-icon-size) + var(--ag-spacing)*1.5)}:where(.ag-rtl) .ag-column-select-add-group-indent{margin-right:calc(var(--ag-icon-size) + var(--ag-spacing)*1.5)}.ag-column-select-column-group-readonly,.ag-column-select-column-readonly{opacity:.5;pointer-events:none}.ag-column-select-virtual-list-viewport{padding:calc(var(--ag-widget-container-vertical-padding)*.5) 0}.ag-column-select-virtual-list-item{padding:0 var(--ag-widget-container-horizontal-padding)}.ag-column-select-column-label{flex:1 1 auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ag-column-select-checkbox{display:flex}\";// packages/ag-grid-enterprise/src/columnToolPanel/agPrimaryColsHeader.ts\nvar DEBOUNCE_DELAY=300;var AgPrimaryColsHeaderElement={tag:\"div\",cls:\"ag-column-select-header\",role:\"presentation\",children:[{tag:\"div\",ref:\"eExpand\",cls:\"ag-column-select-header-icon\"},{tag:\"ag-checkbox\",ref:\"eSelect\",cls:\"ag-column-select-header-checkbox\"},{tag:\"ag-input-text-field\",ref:\"eFilterTextField\",cls:\"ag-column-select-header-filter-wrapper\"}]};var AgPrimaryColsHeader=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(){super(AgPrimaryColsHeaderElement,[ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgCheckboxSelector,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgInputTextFieldSelector]);this.eExpand=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.eSelect=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.eFilterTextField=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;}postConstruct(){this.createExpandIcons();this.addManagedListeners(this.eExpand,{click:this.onExpandClicked.bind(this),keydown:e=>{if(e.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.SPACE){e.preventDefault();this.onExpandClicked();}}});this.addManagedElementListeners(this.eSelect.getInputElement(),{click:this.onSelectClicked.bind(this)});this.addManagedPropertyListener(\"functionsReadOnly\",()=>this.onFunctionsReadOnlyPropChanged());this.eFilterTextField.setAutoComplete(false).onValueChange(()=>this.onFilterTextChanged());this.addManagedEventListeners({newColumnsLoaded:this.showOrHideOptions.bind(this)});var translate=this.getLocaleTextFunc();this.eSelect.setInputAriaLabel(translate(\"ariaColumnSelectAll\",\"Toggle All Columns Visibility\"));this.eFilterTextField.setInputAriaLabel(translate(\"ariaFilterColumnsInput\",\"Filter Columns Input\"));this.activateTabIndex([this.eExpand]);}onFunctionsReadOnlyPropChanged(){var readOnly=this.gos.get(\"functionsReadOnly\");this.eSelect.setReadOnly(readOnly);this.eSelect.toggleCss(\"ag-column-select-column-readonly\",readOnly);}init(params){this.params=params;var readOnly=this.gos.get(\"functionsReadOnly\");this.eSelect.setReadOnly(readOnly);this.eSelect.toggleCss(\"ag-column-select-column-readonly\",readOnly);if(this.beans.colModel.ready){this.showOrHideOptions();}}createExpandIcons(){var beans=this.beans;this.eExpand.appendChild(this.eExpandChecked=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createIconNoSpan)(\"columnSelectOpen\",beans));this.eExpand.appendChild(this.eExpandUnchecked=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createIconNoSpan)(\"columnSelectClosed\",beans));this.eExpand.appendChild(this.eExpandIndeterminate=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createIconNoSpan)(\"columnSelectIndeterminate\",beans));this.setExpandState(0/* EXPANDED */);}// we only show expand / collapse if we are showing columns\nshowOrHideOptions(){var _this$beans$colModel$;var params=this.params;var showFilter=!params.suppressColumnFilter;var showSelect=!params.suppressColumnSelectAll;var showExpand=!params.suppressColumnExpandAll;var groupsPresent=!!((_this$beans$colModel$=this.beans.colModel.colDefCols)!==null&&_this$beans$colModel$!==void 0&&_this$beans$colModel$.treeDepth);var translate=this.getLocaleTextFunc();this.eFilterTextField.setInputPlaceholder(translate(\"searchOoo\",\"Search...\"));(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setDisplayed)(this.eFilterTextField.getGui(),showFilter);(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setDisplayed)(this.eSelect.getGui(),showSelect);(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setDisplayed)(this.eExpand,showExpand&&groupsPresent);}onFilterTextChanged(){if(!this.onFilterTextChangedDebounced){this.onFilterTextChangedDebounced=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._debounce)(this,()=>{var filterText=this.eFilterTextField.getValue();this.dispatchLocalEvent({type:\"filterChanged\",filterText});},DEBOUNCE_DELAY);}this.onFilterTextChangedDebounced();}onSelectClicked(){this.dispatchLocalEvent({type:this.selectState?\"unselectAll\":\"selectAll\"});}onExpandClicked(){this.dispatchLocalEvent({type:this.expandState===0/* EXPANDED */?\"collapseAll\":\"expandAll\"});}setExpandState(state){this.expandState=state;(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setDisplayed)(this.eExpandChecked,state===0/* EXPANDED */);(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setDisplayed)(this.eExpandUnchecked,state===1/* COLLAPSED */);(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setDisplayed)(this.eExpandIndeterminate,state===2/* INDETERMINATE */);}setSelectionState(state){this.selectState=state;this.eSelect.setValue(this.selectState);}};var AgPrimaryColsHeaderSelector={selector:\"AG-PRIMARY-COLS-HEADER\",component:AgPrimaryColsHeader};// packages/ag-grid-enterprise/src/columnToolPanel/agPrimaryColsList.ts\n// packages/ag-grid-enterprise/src/sideBar/common/toolPanelColDefService.ts\n// packages/ag-grid-enterprise/src/sideBar/common/sideBarUtils.ts\nfunction isColGroupDef(colDef){return!!colDef&&typeof colDef.children!==\"undefined\";}function getId(colDef){return isColGroupDef(colDef)?colDef.groupId:colDef.colId;}function addChildrenToGroup(tree,groupId,colDef){var subGroupIsSplit=(currentSubGroup,currentSubGroupToAdd)=>{var existingChildIds=currentSubGroup.children.map(getId);var childGroupAlreadyExists=existingChildIds.includes(getId(currentSubGroupToAdd));var lastChild=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._last)(currentSubGroup.children);var lastChildIsDifferent=lastChild&&getId(lastChild)!==getId(currentSubGroupToAdd);return childGroupAlreadyExists&&lastChildIsDifferent;};if(!isColGroupDef(tree)){return true;}var currentGroup=tree;var groupToAdd=colDef;if(subGroupIsSplit(currentGroup,groupToAdd)){currentGroup.children.push(groupToAdd);return true;}if(currentGroup.groupId===groupId){var existingChildIds=currentGroup.children.map(getId);var colDefAlreadyPresent=existingChildIds.includes(getId(groupToAdd));if(!colDefAlreadyPresent){currentGroup.children.push(groupToAdd);return true;}}for(var i=currentGroup.children.length-1;i>=0;i--){if(addChildrenToGroup(currentGroup.children[i],groupId,colDef)){break;}}return false;}function mergeLeafPathTrees(leafPathTrees){var matchingRootGroupIds=(pathA,pathB)=>{var bothPathsAreGroups=isColGroupDef(pathA)&&isColGroupDef(pathB);return bothPathsAreGroups&&getId(pathA)===getId(pathB);};var mergeTrees=(treeA,treeB)=>{if(!isColGroupDef(treeB)){return treeA;}var mergeResult=treeA;var groupToMerge=treeB;if(groupToMerge.children&&groupToMerge.groupId){var added=addChildrenToGroup(mergeResult,groupToMerge.groupId,groupToMerge.children[0]);if(added){return mergeResult;}}groupToMerge.children.forEach(child=>mergeTrees(mergeResult,child));return mergeResult;};var mergeColDefs=[];for(var i=1;i<=leafPathTrees.length;i++){var first=leafPathTrees[i-1];var second=leafPathTrees[i];if(matchingRootGroupIds(first,second)){leafPathTrees[i]=mergeTrees(first,second);}else{mergeColDefs.push(first);}}return mergeColDefs;}// packages/ag-grid-enterprise/src/sideBar/common/toolPanelColDefService.ts\nfunction toolPanelCreateColumnTree(colModel,colDefs){var invalidColIds=[];var createDummyColGroup=(abstractColDef,depth)=>{if(isColGroupDef(abstractColDef)){var groupDef=abstractColDef;var groupId=typeof groupDef.groupId!==\"undefined\"?groupDef.groupId:groupDef.headerName;var group=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgProvidedColumnGroup(groupDef,groupId,false,depth);var children=[];groupDef.children.forEach(def=>{var child=createDummyColGroup(def,depth+1);if(child){children.push(child);}});group.setChildren(children);return group;}else{var colDef=abstractColDef;var key=colDef.colId?colDef.colId:colDef.field;var column=colModel.getColDefCol(key);if(!column){invalidColIds.push(colDef);}return column;}};var mappedResults=[];colDefs.forEach(colDef=>{var result=createDummyColGroup(colDef,0);if(result){mappedResults.push(result);}});if(invalidColIds.length>0){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(217,{invalidColIds});}return mappedResults;}function syncLayoutWithGrid(colModel,syncLayoutCallback){var leafPathTrees=getLeafPathTrees(colModel);var mergedColumnTrees=mergeLeafPathTrees(leafPathTrees);syncLayoutCallback(mergedColumnTrees);}function getLeafPathTrees(colModel){var getLeafPathTree=(node,childDef)=>{var leafPathTree;if((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.isProvidedColumnGroup)(node)){if(node.isPadding()){leafPathTree=childDef;}else{var groupDef=Object.assign({},node.getColGroupDef());groupDef.groupId=node.getGroupId();groupDef.children=[childDef];leafPathTree=groupDef;}}else{var colDef=Object.assign({},node.getColDef());colDef.colId=node.getColId();leafPathTree=colDef;}var parent=node.getOriginalParent();if(parent){return getLeafPathTree(parent,leafPathTree);}else{return leafPathTree;}};var allGridColumns=colModel.getCols();var allPrimaryGridColumns=allGridColumns.filter(column=>{var colDef=column.getColDef();return column.isPrimary()&&!colDef.showRowGroup;});return allPrimaryGridColumns.map(col=>getLeafPathTree(col,col.getColDef()));}// packages/ag-grid-enterprise/src/columnToolPanel/columnModelItem.ts\nvar ColumnModelItem=class{constructor(displayName,columnOrGroup,depth){var group=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var expanded=arguments.length>4?arguments[4]:undefined;this.displayName=displayName;this.depth=depth;this.group=group;this.localEventService=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.LocalEventService();if(group){this.columnGroup=columnOrGroup;this._expanded=expanded;this.children=[];}else{this.column=columnOrGroup;}}get expanded(){return!!this._expanded;}set expanded(expanded){if(expanded===this._expanded){return;}this._expanded=expanded;this.localEventService.dispatchEvent({type:\"expandedChanged\"});}addEventListener(eventType,listener){this.localEventService.addEventListener(eventType,listener);}removeEventListener(eventType,listener){this.localEventService.removeEventListener(eventType,listener);}};// packages/ag-grid-enterprise/src/columnToolPanel/columnMoveUtils.ts\n// packages/ag-grid-enterprise/src/columnToolPanel/toolPanelColumnGroupComp.ts\n// packages/ag-grid-enterprise/src/columnToolPanel/modelItemUtils.ts\nfunction selectAllChildren(beans,colTree,selectAllChecked,eventType){var cols=extractAllLeafColumns(colTree);setAllColumns(beans,cols,selectAllChecked,eventType);}function setAllColumns(beans,cols,selectAllChecked,eventType){if(beans.colModel.isPivotMode()){setAllPivot(beans,cols,selectAllChecked,eventType);}else{setAllVisible(beans,cols,selectAllChecked,eventType);}}function extractAllLeafColumns(allItems){var res=[];var recursiveFunc=items=>{items.forEach(item=>{if(!item.passesFilter){return;}if(item.group){recursiveFunc(item.children);}else{res.push(item.column);}});};recursiveFunc(allItems);return res;}function setAllVisible(beans,columns,visible,eventType){var colStateItems=[];columns.forEach(col=>{if(col.getColDef().lockVisible){return;}if(col.isVisible()!=visible){colStateItems.push({colId:col.getId(),hide:!visible});}});if(colStateItems.length>0){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._applyColumnState)(beans,{state:colStateItems},eventType);}}function setAllPivot(beans,columns,value,eventType){setAllPivotActive(beans,columns,value,eventType);}function setAllPivotActive(beans,columns,value,eventType){var colStateItems=[];var turnOnAction=col=>{if(col.isAnyFunctionActive()){return;}if(col.isAllowValue()){var _beans$aggFuncSvc;var aggFunc=typeof col.getAggFunc()===\"string\"?col.getAggFunc():(_beans$aggFuncSvc=beans.aggFuncSvc)===null||_beans$aggFuncSvc===void 0?void 0:_beans$aggFuncSvc.getDefaultAggFunc(col);colStateItems.push({colId:col.getId(),aggFunc});}else if(col.isAllowRowGroup()){colStateItems.push({colId:col.getId(),rowGroup:true});}else if(col.isAllowPivot()){colStateItems.push({colId:col.getId(),pivot:true});}};var turnOffAction=col=>{var isActive=col.isPivotActive()||col.isRowGroupActive()||col.isValueActive();if(isActive){colStateItems.push({colId:col.getId(),pivot:false,rowGroup:false,aggFunc:null});}};var action=value?turnOnAction:turnOffAction;columns.forEach(action);if(colStateItems.length>0){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._applyColumnState)(beans,{state:colStateItems},eventType);}}function updateColumns(beans,params){var{columns,visibleState,pivotState,eventType}=params;var state=columns.map(column=>{var colId=column.getColId();if(beans.colModel.isPivotMode()){var pivotStateForColumn=pivotState===null||pivotState===void 0?void 0:pivotState[colId];return{colId,pivot:pivotStateForColumn===null||pivotStateForColumn===void 0?void 0:pivotStateForColumn.pivot,rowGroup:pivotStateForColumn===null||pivotStateForColumn===void 0?void 0:pivotStateForColumn.rowGroup,aggFunc:pivotStateForColumn===null||pivotStateForColumn===void 0?void 0:pivotStateForColumn.aggFunc};}else{return{colId,hide:!(visibleState!==null&&visibleState!==void 0&&visibleState[colId])};}});(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._applyColumnState)(beans,{state},eventType);}function createPivotState(column){return{pivot:column.isPivotActive(),rowGroup:column.isRowGroupActive(),aggFunc:column.isValueActive()?column.getAggFunc():void 0};}// packages/ag-grid-enterprise/src/columnToolPanel/toolPanelContextMenu.ts\n// packages/ag-grid-enterprise/src/rowGrouping/rowGroupingUtils.ts\nfunction setRowNodeGroupValue(rowNode,colModel,colKey,newValue){var column=colModel.getCol(colKey);if(!rowNode.groupData){rowNode.groupData={};}var columnId=column.getColId();var oldValue=rowNode.groupData[columnId];if(oldValue===newValue){return;}rowNode.groupData[columnId]=newValue;rowNode.dispatchCellChangedEvent(column,newValue,oldValue);}function setRowNodeGroup(rowNode,beans,group){var _beans$selectionSvc;if(rowNode.group===group){return;}if(rowNode.group&&!group){rowNode.expanded=false;}rowNode.group=group;rowNode.updateHasChildren();(_beans$selectionSvc=beans.selectionSvc)===null||_beans$selectionSvc===void 0||_beans$selectionSvc.updateRowSelectable(rowNode);rowNode.dispatchRowEvent(\"groupChanged\");}function isRowGroupColLocked(column,beans){var{gos,rowGroupColsSvc}=beans;if(!rowGroupColsSvc||!column){return false;}var groupLockGroupColumns=gos.get(\"groupLockGroupColumns\");if(!column.isRowGroupActive()||groupLockGroupColumns===0){return false;}if(groupLockGroupColumns===-1){return true;}var colIndex=rowGroupColsSvc.columns.findIndex(groupCol=>groupCol.getColId()===column.getColId());return groupLockGroupColumns>colIndex;}// packages/ag-grid-enterprise/src/widgets/agMenuList.ts\n// packages/ag-grid-enterprise/src/widgets/agMenuItemComponent.ts\n// packages/ag-grid-enterprise/src/widgets/agMenuPanel.ts\nvar AgMenuPanel=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.TabGuardComp{constructor(wrappedComponent){super();this.setTemplateFromElement(wrappedComponent.getGui(),void 0,void 0,true);}postConstruct(){this.initialiseTabGuard({onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e)});}handleKeyDown(e){if(e.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.ESCAPE){this.closePanel();}}onTabKeyDown(e){if(e.defaultPrevented){return;}this.closePanel();e.preventDefault();}closePanel(){var menuItem=this.parentComponent;menuItem.closeSubMenu();setTimeout(()=>menuItem.getGui().focus(),0);}};// packages/ag-grid-enterprise/src/widgets/agMenuItemComponent.ts\nfunction getMenuItemCompDetails(userCompFactory,def,params){return userCompFactory.getCompDetails(def,MenuItemComponent,\"agMenuItem\",params,true);}var MenuItemComponent={name:\"menuItem\",optionalMethods:[\"setActive\",\"select\",\"setExpanded\",\"configureDefaults\"]};var MenuItemElement2={tag:\"div\",cls:\"ag-menu\",role:\"presentation\"};var AgMenuItemComponent=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BeanStub{constructor(){super(...arguments);this.ACTIVATION_DELAY=80;this.isActive=false;this.subMenuIsOpen=false;this.subMenuIsOpening=false;this.suppressRootStyles=true;this.suppressAria=true;this.suppressFocus=true;}wireBeans(beans){this.popupSvc=beans.popupSvc;this.userCompFactory=beans.userCompFactory;this.registry=beans.registry;}init(params){var _this$params$menuItem,_this$params$menuItem2,_compDetails$newAgSta;var{menuItemDef,isAnotherSubMenuOpen,level,childComponent,contextParams}=params;this.params=params.menuItemDef;this.level=level;this.isAnotherSubMenuOpen=isAnotherSubMenuOpen;this.childComponent=childComponent;this.contextParams=contextParams;this.cssClassPrefix=(_this$params$menuItem=(_this$params$menuItem2=this.params.menuItemParams)===null||_this$params$menuItem2===void 0?void 0:_this$params$menuItem2.cssClassPrefix)!==null&&_this$params$menuItem!==void 0?_this$params$menuItem:\"ag-menu-option\";var compDetails=getMenuItemCompDetails(this.userCompFactory,this.params,(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._addGridCommonParams)(this.gos,_objectSpread(_objectSpread({},menuItemDef),{},{level,isAnotherSubMenuOpen,openSubMenu:activateFirstItem=>this.openSubMenu(activateFirstItem),closeSubMenu:()=>this.closeSubMenu(),closeMenu:event=>this.closeMenu(event),updateTooltip:(tooltip,shouldDisplayTooltip)=>this.refreshTooltip(tooltip,shouldDisplayTooltip),onItemActivated:()=>this.onItemActivated()})));return(_compDetails$newAgSta=compDetails===null||compDetails===void 0?void 0:compDetails.newAgStackInstance().then(comp=>{var _comp$configureDefaul;this.menuItemComp=comp;var configureDefaults=(_comp$configureDefaul=comp.configureDefaults)===null||_comp$configureDefaul===void 0?void 0:_comp$configureDefaul.call(comp);if(configureDefaults){this.configureDefaults(configureDefaults===true?void 0:configureDefaults);}}))!==null&&_compDetails$newAgSta!==void 0?_compDetails$newAgSta:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgPromise.resolve();}addListeners(eGui,params){if(!(params!==null&&params!==void 0&&params.suppressClick)){this.addManagedElementListeners(eGui,{click:e=>this.onItemSelected(e)});}if(!(params!==null&&params!==void 0&&params.suppressKeyboardSelect)){this.addManagedElementListeners(eGui,{keydown:e=>{if(e.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.ENTER||e.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.SPACE){e.preventDefault();this.onItemSelected(e);}}});}if(!(params!==null&&params!==void 0&&params.suppressMouseDown)){this.addManagedElementListeners(eGui,{mousedown:e=>{e.stopPropagation();e.preventDefault();}});}if(!(params!==null&&params!==void 0&&params.suppressMouseOver)){this.addManagedElementListeners(eGui,{mouseenter:()=>this.onMouseEnter(),mouseleave:()=>this.onMouseLeave()});}}isDisabled(){return!!this.params.disabled;}openSubMenu(){var _this$menuItemComp$se2,_this$menuItemComp2;var activateFirstItem=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var event=arguments.length>1?arguments[1]:undefined;this.closeSubMenu();if(!this.params.subMenu){return;}this.subMenuIsOpening=true;var ePopup=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createElement)(MenuItemElement2);this.eSubMenuGui=ePopup;var destroySubMenu;var afterGuiAttached=()=>{this.subMenuIsOpening=false;};if(this.childComponent){var menuPanel=this.createBean(new AgMenuPanel(this.childComponent));menuPanel.setParentComponent(this);var subMenuGui=menuPanel.getGui();var mouseEvent=\"mouseenter\";var mouseEnterListener=()=>this.cancelDeactivate();subMenuGui.addEventListener(mouseEvent,mouseEnterListener);destroySubMenu=()=>{subMenuGui.removeEventListener(mouseEvent,mouseEnterListener);this.destroyBean(menuPanel);};ePopup.appendChild(subMenuGui);if(this.childComponent.afterGuiAttached){afterGuiAttached=()=>{this.childComponent.afterGuiAttached();this.subMenuIsOpening=false;};}}else if(this.params.subMenu){var childMenu=this.createBean(new AgMenuList(this.level+1,this.contextParams));childMenu.setParentComponent(this);childMenu.addMenuItems(this.params.subMenu);ePopup.appendChild(childMenu.getGui());this.addManagedListeners(childMenu,{closeMenu:e=>this.dispatchLocalEvent(e)});childMenu.addGuiEventListener(\"mouseenter\",()=>this.cancelDeactivate());destroySubMenu=()=>this.destroyBean(childMenu);if(activateFirstItem){afterGuiAttached=()=>{childMenu.activateFirstItem();this.subMenuIsOpening=false;};}}var{popupSvc}=this;var positionCallback=()=>{var eventSource=this.eGui;var{column,node}=this.contextParams;popupSvc===null||popupSvc===void 0||popupSvc.positionPopupForMenu({eventSource,ePopup,event:event instanceof MouseEvent?event:void 0,column,node});};var translate=this.getLocaleTextFunc();var addPopupRes=popupSvc===null||popupSvc===void 0?void 0:popupSvc.addPopup({modal:true,eChild:ePopup,positionCallback,anchorToElement:this.eGui,ariaLabel:translate(\"ariaLabelSubMenu\",\"SubMenu\"),afterGuiAttached});this.subMenuIsOpen=true;this.setAriaExpanded(true);this.hideSubMenu=()=>{var _this$menuItemComp$se,_this$menuItemComp;if(addPopupRes){addPopupRes.hideFunc();}this.subMenuIsOpen=false;this.setAriaExpanded(false);destroySubMenu();(_this$menuItemComp$se=(_this$menuItemComp=this.menuItemComp).setExpanded)===null||_this$menuItemComp$se===void 0||_this$menuItemComp$se.call(_this$menuItemComp,false);this.eSubMenuGui=void 0;};(_this$menuItemComp$se2=(_this$menuItemComp2=this.menuItemComp).setExpanded)===null||_this$menuItemComp$se2===void 0||_this$menuItemComp$se2.call(_this$menuItemComp2,true);}setAriaExpanded(expanded){if(!this.suppressAria){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setAriaExpanded)(this.eGui,expanded);}}closeSubMenu(){if(!this.hideSubMenu){return;}this.hideSubMenu();this.hideSubMenu=null;this.setAriaExpanded(false);}isSubMenuOpen(){return this.subMenuIsOpen;}isSubMenuOpening(){return this.subMenuIsOpening;}activate(openSubMenu,fromKeyNav){var _this$menuItemComp$se3,_this$menuItemComp3;this.cancelActivate();if(this.params.disabled&&!fromKeyNav){return;}this.isActive=true;if(!this.suppressRootStyles){this.eGui.classList.add(\"\".concat(this.cssClassPrefix,\"-active\"));}(_this$menuItemComp$se3=(_this$menuItemComp3=this.menuItemComp).setActive)===null||_this$menuItemComp$se3===void 0||_this$menuItemComp$se3.call(_this$menuItemComp3,true);if(!this.suppressFocus){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._preserveRangesWhile)(this.beans,()=>this.eGui.focus({preventScroll:!fromKeyNav}));}if(openSubMenu&&this.params.subMenu){window.setTimeout(()=>{if(this.isAlive()&&this.isActive){this.openSubMenu();}},300);}this.onItemActivated();}deactivate(){var _this$menuItemComp$se4,_this$menuItemComp4;this.cancelDeactivate();if(!this.suppressRootStyles){this.eGui.classList.remove(\"\".concat(this.cssClassPrefix,\"-active\"));}(_this$menuItemComp$se4=(_this$menuItemComp4=this.menuItemComp).setActive)===null||_this$menuItemComp$se4===void 0||_this$menuItemComp$se4.call(_this$menuItemComp4,false);this.isActive=false;if(this.subMenuIsOpen){this.closeSubMenu();}}getGui(){return this.menuItemComp.getGui();}getParentComponent(){return this.parentComponent;}setParentComponent(component){this.parentComponent=component;}getSubMenuGui(){return this.eSubMenuGui;}onItemSelected(event){var _this$menuItemComp$se5,_this$menuItemComp5;(_this$menuItemComp$se5=(_this$menuItemComp5=this.menuItemComp).select)===null||_this$menuItemComp$se5===void 0||_this$menuItemComp$se5.call(_this$menuItemComp5);if(this.params.action){this.beans.frameworkOverrides.wrapOutgoing(()=>this.params.action((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._addGridCommonParams)(this.gos,_objectSpread({},this.contextParams))));}else{this.openSubMenu(event&&event.type===\"keydown\",event);}if(this.params.subMenu&&!this.params.action||this.params.suppressCloseOnSelect){return;}this.closeMenu(event);}closeMenu(event){var e={type:\"closeMenu\"};if(event){if(event instanceof MouseEvent){e.mouseEvent=event;}else{e.keyboardEvent=event;}}this.dispatchLocalEvent(e);}onItemActivated(){var event={type:\"menuItemActivated\",menuItem:this};this.dispatchLocalEvent(event);}cancelActivate(){if(this.activateTimeoutId){window.clearTimeout(this.activateTimeoutId);this.activateTimeoutId=0;}}cancelDeactivate(){if(this.deactivateTimeoutId){window.clearTimeout(this.deactivateTimeoutId);this.deactivateTimeoutId=0;}}onMouseEnter(){this.cancelDeactivate();if(this.isAnotherSubMenuOpen()){this.activateTimeoutId=window.setTimeout(()=>this.activate(true),this.ACTIVATION_DELAY);}else{this.activate(true);}}onMouseLeave(){this.cancelActivate();if(this.isSubMenuOpen()){this.deactivateTimeoutId=window.setTimeout(()=>this.deactivate(),this.ACTIVATION_DELAY);}else{this.deactivate();}}configureDefaults(params){var _this$menuItemComp$ge,_this$menuItemComp6;if(!this.menuItemComp){setTimeout(()=>this.configureDefaults(params));return;}var eGui=this.menuItemComp.getGui();var{suppressRootStyles,suppressTooltip,suppressAria,suppressTabIndex,suppressFocus}=params||{};var rootElement=(_this$menuItemComp$ge=(_this$menuItemComp6=this.menuItemComp).getRootElement)===null||_this$menuItemComp$ge===void 0?void 0:_this$menuItemComp$ge.call(_this$menuItemComp6);if(rootElement){if(!suppressRootStyles){eGui.classList.add(\"ag-menu-option-custom\");}eGui=rootElement;}this.eGui=eGui;this.suppressRootStyles=!!suppressRootStyles;if(!this.suppressRootStyles){var _this$params$cssClass2;eGui.classList.add(this.cssClassPrefix);(_this$params$cssClass2=this.params.cssClasses)===null||_this$params$cssClass2===void 0||_this$params$cssClass2.forEach(it=>eGui.classList.add(it));if(this.params.disabled){eGui.classList.add(\"\".concat(this.cssClassPrefix,\"-disabled\"));}}if(!suppressTooltip){this.refreshTooltip(this.params.tooltip);}this.suppressAria=!!suppressAria;if(!this.suppressAria){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setAriaRole)(eGui,\"menuitem\");if(this.params.subMenu){var _this$params$subMenuR;(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setAriaHasPopup)(eGui,(_this$params$subMenuR=this.params.subMenuRole)!==null&&_this$params$subMenuR!==void 0?_this$params$subMenuR:\"menu\");}if(this.params.disabled){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setAriaDisabled)(eGui,true);}}if(!suppressTabIndex){eGui.setAttribute(\"tabindex\",\"-1\");}if(!this.params.disabled){this.addListeners(eGui,params);}this.suppressFocus=!!suppressFocus;}refreshTooltip(tooltip,shouldDisplayTooltip){this.tooltip=tooltip;this.tooltipFeature=this.destroyBean(this.tooltipFeature);if(!tooltip||!this.menuItemComp){return;}var tooltipFeature=this.registry.createDynamicBean(\"tooltipFeature\",false,{getGui:()=>this.getGui(),getTooltipValue:()=>this.tooltip,getLocation:()=>\"menu\",shouldDisplayTooltip});if(tooltipFeature){this.tooltipFeature=this.createBean(tooltipFeature);}}destroy(){var _this$menuItemComp7,_this$menuItemComp7$d;this.tooltipFeature=this.destroyBean(this.tooltipFeature);(_this$menuItemComp7=this.menuItemComp)===null||_this$menuItemComp7===void 0||(_this$menuItemComp7$d=_this$menuItemComp7.destroy)===null||_this$menuItemComp7$d===void 0||_this$menuItemComp7$d.call(_this$menuItemComp7);super.destroy();}};// packages/ag-grid-enterprise/src/widgets/agMenuList.ts\nvar AgMenuList=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.TabGuardComp{constructor(){var level=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var params=arguments.length>1?arguments[1]:undefined;super({tag:\"div\",cls:\"ag-menu-list\",role:\"menu\"});this.level=level;this.menuItems=[];this.params=params!==null&&params!==void 0?params:{column:null,node:null,value:null};}postConstruct(){this.initialiseTabGuard({onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._preserveRangesWhile)(this.beans,()=>this.handleKeyDown(e)),onFocusIn:e=>this.handleFocusIn(e),onFocusOut:e=>this.handleFocusOut(e)});}onTabKeyDown(e){var _parent$getGui;var parent=this.getParentComponent();var isManaged=parent===null||parent===void 0||(_parent$getGui=parent.getGui())===null||_parent$getGui===void 0?void 0:_parent$getGui.classList.contains(\"ag-focus-managed\");if(!isManaged){e.preventDefault();}if(e.shiftKey){this.closeIfIsChild(e);}}handleKeyDown(e){switch(e.key){case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.UP:case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.RIGHT:case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.DOWN:case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.LEFT:e.preventDefault();this.handleNavKey(e.key);break;case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.ESCAPE:if(this.closeIfIsChild()){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._stopPropagationForAgGrid)(e);}break;}}handleFocusIn(e){var _this$activeMenuItem;var oldFocusedElement=e.relatedTarget;if(!this.tabGuardFeature.getTabGuardCtrl().isTabGuard(oldFocusedElement)&&(this.getGui().contains(oldFocusedElement)||(_this$activeMenuItem=this.activeMenuItem)!==null&&_this$activeMenuItem!==void 0&&(_this$activeMenuItem=_this$activeMenuItem.getSubMenuGui())!==null&&_this$activeMenuItem!==void 0&&_this$activeMenuItem.contains(oldFocusedElement))){return;}if(this.activeMenuItem){this.activeMenuItem.activate();}else{this.activateFirstItem();}}handleFocusOut(e){var _this$activeMenuItem$;var newFocusedElement=e.relatedTarget;if(!this.activeMenuItem||this.getGui().contains(newFocusedElement)||(_this$activeMenuItem$=this.activeMenuItem.getSubMenuGui())!==null&&_this$activeMenuItem$!==void 0&&_this$activeMenuItem$.contains(newFocusedElement)){return;}if(!this.activeMenuItem.isSubMenuOpening()){this.activeMenuItem.deactivate();}}clearActiveItem(){if(this.activeMenuItem){this.activeMenuItem.deactivate();this.activeMenuItem=null;}}addMenuItems(menuItems){if(menuItems==null){return;}ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgPromise.all(menuItems.map(menuItemOrString=>{if(menuItemOrString===\"separator\"){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgPromise.resolve({eGui:this.createSeparator()});}else if(typeof menuItemOrString===\"string\"){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(228,{menuItemOrString});return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgPromise.resolve({eGui:null});}else{return this.addItem(menuItemOrString);}})).then(elements=>{(elements!==null&&elements!==void 0?elements:[]).forEach(element=>{if(element!==null&&element!==void 0&&element.eGui){this.appendChild(element.eGui);if(element.comp){this.menuItems.push(element.comp);}}});});}addItem(menuItemDef){var menuItem=this.createManagedBean(new AgMenuItemComponent());return menuItem.init({menuItemDef,isAnotherSubMenuOpen:()=>this.menuItems.some(m=>m.isSubMenuOpen()),level:this.level,contextParams:this.params}).then(()=>{menuItem.setParentComponent(this);this.addManagedListeners(menuItem,{closeMenu:event=>{this.dispatchLocalEvent(event);},menuItemActivated:event=>{if(this.activeMenuItem&&this.activeMenuItem!==event.menuItem){this.activeMenuItem.deactivate();}this.activeMenuItem=event.menuItem;}});return{comp:menuItem,eGui:menuItem.getGui()};});}activateFirstItem(){var item=this.menuItems.filter(currentItem=>!currentItem.isDisabled())[0];if(!item){return;}item.activate();}createSeparator(){var part={tag:\"div\",cls:\"ag-menu-separator-part\"};return (0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createElement)({tag:\"div\",cls:\"ag-menu-separator\",attrs:{\"aria-hidden\":\"true\"},children:[part,part,part,part]});}handleNavKey(key){switch(key){case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.UP:case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.DOWN:{var nextItem=this.findNextItem(key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.UP);if(nextItem&&nextItem!==this.activeMenuItem){nextItem.activate(false,true);}return;}}var left=this.gos.get(\"enableRtl\")?ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.RIGHT:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.LEFT;if(key===left){this.closeIfIsChild();}else{this.openChild();}}closeIfIsChild(e){var parentItem=this.getParentComponent();if(parentItem&&parentItem instanceof AgMenuItemComponent){if(e){e.preventDefault();}parentItem.closeSubMenu();parentItem.getGui().focus();return true;}return false;}openChild(){if(this.activeMenuItem){this.activeMenuItem.openSubMenu(true);}}findNextItem(up){var items=[...this.menuItems];if(!items.length){return;}if(!this.activeMenuItem){return up?(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._last)(items):items[0];}if(up){items.reverse();}var nextItem;var foundCurrent=false;for(var item of items){if(!foundCurrent){if(item===this.activeMenuItem){foundCurrent=true;}continue;}nextItem=item;break;}if(foundCurrent&&!nextItem){return items[0];}return nextItem||this.activeMenuItem;}destroy(){this.clearActiveItem();super.destroy();}};// packages/ag-grid-enterprise/src/columnToolPanel/toolPanelContextMenu.ts\nvar ToolPanelContextMenu=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(column,mouseEvent,parentEl){super({tag:\"div\",cls:\"ag-menu\"});this.column=column;this.mouseEvent=mouseEvent;this.parentEl=parentEl;this.displayName=null;}postConstruct(){var{column,beans:{colNames}}=this;this.initializeProperties(column);var displayName;if((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.isColumn)(column)){displayName=colNames.getDisplayNameForColumn(column,\"columnToolPanel\");}else{displayName=colNames.getDisplayNameForProvidedColumnGroup(null,column,\"columnToolPanel\");}this.displayName=displayName;this.buildMenuItemMap();if(this.isActive()){this.mouseEvent.preventDefault();var menuItemsMapped=this.getMappedMenuItems();if(menuItemsMapped.length===0){return;}this.displayContextMenu(menuItemsMapped);}}initializeProperties(column){var columns;if((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.isProvidedColumnGroup)(column)){columns=column.getLeafColumns();}else{columns=[column];}this.columns=columns;var isPivotMode2=this.beans.colModel.isPivotMode();this.allowScrollIntoView=!isPivotMode2&&columns.some(this.isColumnValidForScrollIntoView);this.allowGrouping=columns.some(col=>col.isPrimary()&&col.isAllowRowGroup());this.allowValues=columns.some(col=>col.isPrimary()&&col.isAllowValue());this.allowPivoting=isPivotMode2&&columns.some(col=>col.isPrimary()&&col.isAllowPivot());}buildMenuItemMap(){var localeTextFunc=this.getLocaleTextFunc();var{beans,displayName}=this;var{rowGroupColsSvc,valueColsSvc,pivotColsSvc,colModel}=beans;var menuItemMap=/* @__PURE__ */new Map();this.menuItemMap=menuItemMap;var isPivotMode2=colModel.isPivotMode();menuItemMap.set(\"scrollIntoView\",{allowedFunction:col=>!col.isPinned()&&!isPivotMode2&&this.isColumnValidForScrollIntoView(col),activeFunction:()=>false,activateLabel:()=>localeTextFunc(\"scrollColumnIntoView\",\"Scroll \".concat(displayName,\" into View\"),[displayName]),activateFunction:()=>{var firstVisibleColumn=this.columns.find(this.isColumnValidForScrollIntoView);if(firstVisibleColumn){this.beans.ctrlsSvc.getScrollFeature().ensureColumnVisible(firstVisibleColumn);}},deActivateFunction:()=>{},addIcon:\"ensureColumnVisible\"});menuItemMap.set(\"rowGroup\",{allowedFunction:col=>col.isPrimary()&&col.isAllowRowGroup()&&!isRowGroupColLocked(col,beans),activeFunction:col=>col.isRowGroupActive(),activateLabel:()=>\"\".concat(localeTextFunc(\"groupBy\",\"Group by\"),\" \").concat(displayName),deactivateLabel:()=>\"\".concat(localeTextFunc(\"ungroupBy\",\"Un-Group by\"),\" \").concat(displayName),activateFunction:()=>rowGroupColsSvc===null||rowGroupColsSvc===void 0?void 0:rowGroupColsSvc.setColumns(this.addColumnsToList(rowGroupColsSvc.columns),\"toolPanelUi\"),deActivateFunction:()=>rowGroupColsSvc===null||rowGroupColsSvc===void 0?void 0:rowGroupColsSvc.setColumns(this.removeColumnsFromList(rowGroupColsSvc.columns),\"toolPanelUi\"),addIcon:\"menuAddRowGroup\",removeIcon:\"menuRemoveRowGroup\"});menuItemMap.set(\"value\",{allowedFunction:col=>col.isPrimary()&&col.isAllowValue(),activeFunction:col=>col.isValueActive(),activateLabel:()=>localeTextFunc(\"addToValues\",\"Add \".concat(displayName,\" to values\"),[displayName]),deactivateLabel:()=>localeTextFunc(\"removeFromValues\",\"Remove \".concat(displayName,\" from values\"),[displayName]),activateFunction:()=>valueColsSvc===null||valueColsSvc===void 0?void 0:valueColsSvc.setColumns(this.addColumnsToList(valueColsSvc.columns),\"toolPanelUi\"),deActivateFunction:()=>valueColsSvc===null||valueColsSvc===void 0?void 0:valueColsSvc.setColumns(this.removeColumnsFromList(valueColsSvc.columns),\"toolPanelUi\"),addIcon:\"valuePanel\",removeIcon:\"valuePanel\"});menuItemMap.set(\"pivot\",{allowedFunction:col=>isPivotMode2&&col.isPrimary()&&col.isAllowPivot(),activeFunction:col=>col.isPivotActive(),activateLabel:()=>localeTextFunc(\"addToLabels\",\"Add \".concat(displayName,\" to labels\"),[displayName]),deactivateLabel:()=>localeTextFunc(\"removeFromLabels\",\"Remove \".concat(displayName,\" from labels\"),[displayName]),activateFunction:()=>pivotColsSvc===null||pivotColsSvc===void 0?void 0:pivotColsSvc.setColumns(this.addColumnsToList(pivotColsSvc.columns),\"toolPanelUi\"),deActivateFunction:()=>pivotColsSvc===null||pivotColsSvc===void 0?void 0:pivotColsSvc.setColumns(this.removeColumnsFromList(pivotColsSvc.columns),\"toolPanelUi\"),addIcon:\"pivotPanel\",removeIcon:\"pivotPanel\"});}isColumnValidForScrollIntoView(col){var _parent$getDisplayedC;var isVisible=col.isVisible();if(!isVisible){return false;}var parent=col.getParent();if(!parent){return true;}return((_parent$getDisplayedC=parent.getDisplayedChildren())===null||_parent$getDisplayedC===void 0?void 0:_parent$getDisplayedC.indexOf(col))!==-1;}addColumnsToList(columnList){return[...columnList].concat(this.columns.filter(col=>columnList.indexOf(col)===-1));}removeColumnsFromList(columnList){return columnList.filter(col=>this.columns.indexOf(col)===-1);}displayContextMenu(menuItemsMapped){var eGui=this.getGui();var menuList=this.createBean(new AgMenuList());var localeTextFunc=this.getLocaleTextFunc();var hideFunc=()=>{};eGui.appendChild(menuList.getGui());menuList.addMenuItems(menuItemsMapped);menuList.addManagedListeners(menuList,{closeMenu:()=>{this.parentEl.focus();hideFunc();}});var popupSvc=this.beans.popupSvc;var addPopupRes=popupSvc.addPopup({modal:true,eChild:eGui,closeOnEsc:true,afterGuiAttached:()=>(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._focusInto)(menuList.getGui()),ariaLabel:localeTextFunc(\"ariaLabelContextMenu\",\"Context Menu\"),closedCallback:e=>{if(e instanceof KeyboardEvent){this.parentEl.focus();}this.destroyBean(menuList);}});if(addPopupRes){hideFunc=addPopupRes.hideFunc;}popupSvc.positionPopupUnderMouseEvent({type:\"columnContextMenu\",mouseEvent:this.mouseEvent,ePopup:eGui});}isActive(){return this.allowScrollIntoView||this.allowGrouping||this.allowValues||this.allowPivoting;}getMappedMenuItems(){var ret=[];var{menuItemMap,columns,displayName,beans}=this;var _loop2=function _loop2(val){var isInactive=columns.some(col=>val.allowedFunction(col)&&!val.activeFunction(col));var isActive=columns.some(col=>val.allowedFunction(col)&&val.activeFunction(col));if(isInactive){ret.push({name:val.activateLabel(displayName),icon:(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createIconNoSpan)(val.addIcon,beans,null),action:()=>val.activateFunction()});}if(isActive&&val.removeIcon&&val.deactivateLabel){ret.push({name:val.deactivateLabel(displayName),icon:(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createIconNoSpan)(val.removeIcon,beans,null),action:()=>{var _val$deActivateFuncti;return(_val$deActivateFuncti=val.deActivateFunction)===null||_val$deActivateFuncti===void 0?void 0:_val$deActivateFuncti.call(val);}});}};for(var val of menuItemMap.values()){_loop2(val);}return ret;}};// packages/ag-grid-enterprise/src/columnToolPanel/toolPanelColumnGroupComp.ts\nvar ToolPanelColumnGroupElement={tag:\"div\",cls:\"ag-column-select-column-group\",children:[{tag:\"span\",ref:\"eColumnGroupIcons\",cls:\"ag-column-group-icons\",children:[{tag:\"span\",ref:\"eGroupClosedIcon\",cls:\"ag-column-group-closed-icon\"},{tag:\"span\",ref:\"eGroupOpenedIcon\",cls:\"ag-column-group-opened-icon\"}]},{tag:\"ag-checkbox\",ref:\"cbSelect\",cls:\"ag-column-select-checkbox\"},{tag:\"span\",ref:\"eLabel\",cls:\"ag-column-select-column-label\"}]};var ToolPanelColumnGroupComp=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(modelItem,allowDragging,eventType,focusWrapper){super();this.modelItem=modelItem;this.allowDragging=allowDragging;this.eventType=eventType;this.focusWrapper=focusWrapper;this.cbSelect=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.eLabel=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.eGroupOpenedIcon=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.eGroupClosedIcon=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.eColumnGroupIcons=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.processingColumnStateChange=false;var{columnGroup,depth,displayName}=modelItem;this.columnGroup=columnGroup;this.columnDepth=depth;this.displayName=displayName;}postConstruct(){this.setTemplate(ToolPanelColumnGroupElement,[ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgCheckboxSelector]);var{beans,cbSelect,eLabel,displayName,columnDepth,modelItem,focusWrapper,columnGroup}=this;var{registry,gos}=beans;var eDragHandle=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createIconNoSpan)(\"columnDrag\",beans);this.eDragHandle=eDragHandle;eDragHandle.classList.add(\"ag-drag-handle\",\"ag-column-select-column-group-drag-handle\");var checkboxGui=cbSelect.getGui();var checkboxInput=cbSelect.getInputElement();checkboxGui.insertAdjacentElement(\"afterend\",eDragHandle);checkboxInput.setAttribute(\"tabindex\",\"-1\");eLabel.textContent=displayName!==null&&displayName!==void 0?displayName:\"\";this.setupExpandContract();this.addCss(\"ag-column-select-indent-\"+columnDepth);this.getGui().style.setProperty(\"--ag-indentation-level\",String(columnDepth));this.tooltipFeature=this.createOptionalManagedBean(registry.createDynamicBean(\"tooltipFeature\",false,{getGui:()=>this.getGui(),getLocation:()=>\"columnToolPanelColumnGroup\",shouldDisplayTooltip:(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getShouldDisplayTooltip)(gos,()=>eLabel)}));this.addManagedEventListeners({columnPivotModeChanged:this.onColumnStateChanged.bind(this)});this.addManagedElementListeners(eLabel,{click:this.onLabelClicked.bind(this)});this.addManagedListeners(cbSelect,{fieldValueChanged:this.onCheckboxChanged.bind(this)});this.addManagedListeners(modelItem,{expandedChanged:this.onExpandChanged.bind(this)});this.addManagedListeners(focusWrapper,{keydown:this.handleKeyDown.bind(this),contextmenu:this.onContextMenu.bind(this)});this.setOpenClosedIcons();this.setupDragging();this.onColumnStateChanged();this.addVisibilityListenersToAllChildren();this.refreshAriaExpanded();this.refreshAriaLabel();this.setupTooltip();var classes=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getToolPanelClassesFromColDef)(columnGroup.getColGroupDef(),gos,null,columnGroup);classes.forEach(c=>this.toggleCss(c,true));}getColumns(){return this.columnGroup.getLeafColumns();}setupTooltip(){var colGroupDef=this.columnGroup.getColGroupDef();if(!colGroupDef){return;}var refresh=()=>{var _this$tooltipFeature6;return(_this$tooltipFeature6=this.tooltipFeature)===null||_this$tooltipFeature6===void 0?void 0:_this$tooltipFeature6.setTooltipAndRefresh(colGroupDef.headerTooltip);};refresh();this.addManagedEventListeners({newColumnsLoaded:refresh});}handleKeyDown(e){switch(e.key){case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.LEFT:e.preventDefault();this.modelItem.expanded=false;break;case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.RIGHT:e.preventDefault();this.modelItem.expanded=true;break;case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.SPACE:e.preventDefault();if(this.isSelectable()){this.onSelectAllChanged(!this.isSelected());}break;}}onContextMenu(e){var{columnGroup,gos}=this;if(gos.get(\"functionsReadOnly\")){return;}var contextMenu=this.createBean(new ToolPanelContextMenu(columnGroup,e,this.focusWrapper));this.addDestroyFunc(()=>{if(contextMenu.isAlive()){this.destroyBean(contextMenu);}});}addVisibilityListenersToAllChildren(){var listener=this.onColumnStateChanged.bind(this);this.columnGroup.getLeafColumns().forEach(column=>{this.addManagedListeners(column,{visibleChanged:listener,columnValueChanged:listener,columnPivotChanged:listener,columnRowGroupChanged:listener});});}setupDragging(){if(!this.allowDragging){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setDisplayed)(this.eDragHandle,false);return;}var beans=this.beans;var{gos,eventSvc,dragAndDrop}=beans;var hideColumnOnExit=!gos.get(\"suppressDragLeaveHidesColumns\");var dragSource={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.DragSourceType.ToolPanel,eElement:this.eDragHandle,dragItemName:this.displayName,getDefaultIconName:()=>hideColumnOnExit?\"hide\":\"notAllowed\",getDragItem:()=>this.createDragItem(),onDragStarted:()=>{hideColumnOnExit=!gos.get(\"suppressDragLeaveHidesColumns\");eventSvc.dispatchEvent({type:\"columnPanelItemDragStart\",column:this.columnGroup});},onDragStopped:()=>{eventSvc.dispatchEvent({type:\"columnPanelItemDragEnd\"});},onGridEnter:dragItem=>{if(hideColumnOnExit){updateColumns(beans,{columns:this.columnGroup.getLeafColumns(),visibleState:dragItem===null||dragItem===void 0?void 0:dragItem.visibleState,pivotState:dragItem===null||dragItem===void 0?void 0:dragItem.pivotState,eventType:this.eventType});}},onGridExit:()=>{if(hideColumnOnExit){this.onChangeCommon(false);}}};dragAndDrop.addDragSource(dragSource,true);this.addDestroyFunc(()=>dragAndDrop.removeDragSource(dragSource));}createDragItem(){var columns=this.columnGroup.getLeafColumns();var visibleState={};var pivotState={};columns.forEach(col=>{var colId=col.getId();visibleState[colId]=col.isVisible();pivotState[colId]=createPivotState(col);});return{columns,visibleState,pivotState};}setupExpandContract(){var{beans,eGroupClosedIcon,eGroupOpenedIcon,eColumnGroupIcons}=this;eGroupClosedIcon.appendChild((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createIcon)(\"columnSelectClosed\",beans,null));eGroupOpenedIcon.appendChild((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createIcon)(\"columnSelectOpen\",beans,null));var listener=this.onExpandOrContractClicked.bind(this);this.addManagedElementListeners(eGroupClosedIcon,{click:listener});this.addManagedElementListeners(eGroupOpenedIcon,{click:listener});var touchListener=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.TouchListener(eColumnGroupIcons,true);this.addManagedListeners(touchListener,{tap:listener});this.addDestroyFunc(touchListener.destroy.bind(touchListener));}onLabelClicked(){var nextState=!this.cbSelect.getValue();this.onChangeCommon(nextState);}onCheckboxChanged(event){this.onChangeCommon(event.selected);}getVisibleLeafColumns(){var childColumns=[];var extractCols=children=>{children.forEach(child=>{if(!child.passesFilter){return;}if(child.group){extractCols(child.children);}else{childColumns.push(child.column);}});};extractCols(this.modelItem.children);return childColumns;}onChangeCommon(nextState){this.refreshAriaLabel();if(this.processingColumnStateChange){return;}selectAllChildren(this.beans,this.modelItem.children,nextState,this.eventType);}refreshAriaLabel(){var{cbSelect,focusWrapper,displayName}=this;var translate=this.getLocaleTextFunc();var columnLabel=translate(\"ariaColumnGroup\",\"Column Group\");var checkboxValue=cbSelect.getValue();var state=checkboxValue===void 0?translate(\"ariaIndeterminate\",\"indeterminate\"):checkboxValue?translate(\"ariaVisible\",\"visible\"):translate(\"ariaHidden\",\"hidden\");var visibilityLabel=translate(\"ariaToggleVisibility\",\"Press SPACE to toggle visibility\");(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setAriaLabel)(focusWrapper,\"\".concat(displayName,\" \").concat(columnLabel));cbSelect.setInputAriaLabel(\"\".concat(visibilityLabel,\" (\").concat(state,\")\"));(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setAriaDescribedBy)(focusWrapper,cbSelect.getInputElement().id);}onColumnStateChanged(){var selectedValue=this.workOutSelectedValue();var readOnlyValue=this.workOutReadOnlyValue();this.processingColumnStateChange=true;var cbSelect=this.cbSelect;cbSelect.setValue(selectedValue);cbSelect.setReadOnly(readOnlyValue);this.toggleCss(\"ag-column-select-column-group-readonly\",readOnlyValue);this.processingColumnStateChange=false;}workOutSelectedValue(){var pivotMode=this.beans.colModel.isPivotMode();var visibleLeafColumns=this.getVisibleLeafColumns();var checkedCount=0;var uncheckedCount=0;visibleLeafColumns.forEach(column=>{if(!pivotMode&&column.getColDef().lockVisible){return;}if(this.isColumnChecked(column,pivotMode)){checkedCount++;}else{uncheckedCount++;}});if(checkedCount>0&&uncheckedCount>0){return void 0;}return checkedCount>0;}workOutReadOnlyValue(){var pivotMode=this.beans.colModel.isPivotMode();var colsThatCanAction=0;this.columnGroup.getLeafColumns().forEach(col=>{if(pivotMode){if(col.isAnyFunctionAllowed()){colsThatCanAction++;}}else{if(!col.getColDef().lockVisible){colsThatCanAction++;}}});return colsThatCanAction===0;}isColumnChecked(column,pivotMode){if(pivotMode){var pivoted=column.isPivotActive();var grouped=column.isRowGroupActive();var aggregated=column.isValueActive();return pivoted||grouped||aggregated;}return column.isVisible();}onExpandOrContractClicked(){var modelItem=this.modelItem;var oldState=modelItem.expanded;modelItem.expanded=!oldState;}onExpandChanged(){this.setOpenClosedIcons();this.refreshAriaExpanded();}setOpenClosedIcons(){var folderOpen=this.modelItem.expanded;(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setDisplayed)(this.eGroupClosedIcon,!folderOpen);(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setDisplayed)(this.eGroupOpenedIcon,folderOpen);}refreshAriaExpanded(){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setAriaExpanded)(this.focusWrapper,this.modelItem.expanded);}getDisplayName(){return this.displayName;}onSelectAllChanged(value){var cbSelect=this.cbSelect;var cbValue=cbSelect.getValue();var readOnly=cbSelect.isReadOnly();if(!readOnly&&(value&&!cbValue||!value&&cbValue)){cbSelect.toggle();}}isSelected(){return this.cbSelect.getValue();}isSelectable(){return!this.cbSelect.isReadOnly();}setSelected(selected){this.cbSelect.setValue(selected,true);}};// packages/ag-grid-enterprise/src/columnToolPanel/columnMoveUtils.ts\nvar getCurrentColumnsBeingMoved=column=>{if((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.isProvidedColumnGroup)(column)){return column.getLeafColumns();}return column?[column]:[];};var getMoveTargetIndex=(beans,currentColumns,lastHoveredColumn,isBefore)=>{if(!lastHoveredColumn||!currentColumns){return null;}var allColumns=beans.colModel.getCols();var targetColumnIndex=allColumns.indexOf(lastHoveredColumn);var adjustedTarget=isBefore?targetColumnIndex:targetColumnIndex+1;var diff=getMoveDiff(allColumns,currentColumns,adjustedTarget);return adjustedTarget-diff;};var getMoveDiff=(allColumns,currentColumns,end)=>{if(!currentColumns){return 0;}var targetColumn=currentColumns[0];var span=currentColumns.length;var currentIndex=allColumns.indexOf(targetColumn);if(currentIndex<end){return span;}return 0;};var _isMoveBlocked=(gos,beans,currentColumns)=>{var preventMoving=gos.get(\"suppressMovableColumns\")||beans.colModel.isPivotMode();if(preventMoving){return true;}var hasNotMovable=currentColumns.find(_ref34=>{var{colDef}=_ref34;return!!colDef.suppressMovable||!!colDef.lockPosition;});return!!hasNotMovable;};var _moveItem=(beans,currentColumns,lastHoveredListItem)=>{if(!lastHoveredListItem){return;}var{component}=lastHoveredListItem;var lastHoveredColumn=null;var isBefore=lastHoveredListItem.position===\"top\";if(component instanceof ToolPanelColumnGroupComp){var columns=component.getColumns();lastHoveredColumn=columns[0];isBefore=true;}else if(component){lastHoveredColumn=component.column;}if(!lastHoveredColumn){return;}var targetIndex=getMoveTargetIndex(beans,currentColumns,lastHoveredColumn,isBefore);if(targetIndex!=null){var _beans$colMoves;(_beans$colMoves=beans.colMoves)===null||_beans$colMoves===void 0||_beans$colMoves.moveColumns(currentColumns,targetIndex,\"toolPanelUi\");}};var _getCurrentDragValue=listItemDragStartEvent=>{return listItemDragStartEvent.column;};// packages/ag-grid-enterprise/src/columnToolPanel/toolPanelColumnComp.ts\nvar ToolPanelColumnElement={tag:\"div\",cls:\"ag-column-select-column\",children:[{tag:\"ag-checkbox\",ref:\"cbSelect\",cls:\"ag-column-select-checkbox\"},{tag:\"span\",ref:\"eLabel\",cls:\"ag-column-select-column-label\"}]};var ToolPanelColumnComp=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(modelItem,allowDragging,groupsExist,focusWrapper){super();this.modelItem=modelItem;this.allowDragging=allowDragging;this.groupsExist=groupsExist;this.focusWrapper=focusWrapper;this.eLabel=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.cbSelect=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.processingColumnStateChange=false;var{column,depth,displayName}=modelItem;this.column=column;this.columnDepth=depth;this.displayName=displayName;}postConstruct(){this.setTemplate(ToolPanelColumnElement,[ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgCheckboxSelector]);var{beans,cbSelect,displayName,eLabel,columnDepth:indent,groupsExist,column,gos,focusWrapper}=this;var eDragHandle=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createIconNoSpan)(\"columnDrag\",beans);this.eDragHandle=eDragHandle;eDragHandle.classList.add(\"ag-drag-handle\",\"ag-column-select-column-drag-handle\");var checkboxGui=cbSelect.getGui();var checkboxInput=cbSelect.getInputElement();checkboxGui.insertAdjacentElement(\"afterend\",eDragHandle);checkboxInput.setAttribute(\"tabindex\",\"-1\");eLabel.textContent=displayName;if(groupsExist){this.addCss(\"ag-column-select-add-group-indent\");}this.addCss(\"ag-column-select-indent-\".concat(indent));this.getGui().style.setProperty(\"--ag-indentation-level\",String(indent));this.tooltipFeature=this.createOptionalManagedBean(beans.registry.createDynamicBean(\"tooltipFeature\",false,{getGui:()=>this.getGui(),getLocation:()=>\"columnToolPanelColumn\",getColDef:()=>column.getColDef(),shouldDisplayTooltip:(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getShouldDisplayTooltip)(gos,()=>eLabel)}));this.setupDragging();var onColStateChanged=this.onColumnStateChanged.bind(this);this.addManagedEventListeners({columnPivotModeChanged:onColStateChanged});this.addManagedListeners(column,{columnValueChanged:onColStateChanged,columnPivotChanged:onColStateChanged,columnRowGroupChanged:onColStateChanged,visibleChanged:onColStateChanged});this.addManagedListeners(focusWrapper,{keydown:this.handleKeyDown.bind(this),contextmenu:this.onContextMenu.bind(this)});this.addManagedPropertyListener(\"functionsReadOnly\",this.onColumnStateChanged.bind(this));this.addManagedListeners(cbSelect,{fieldValueChanged:this.onCheckboxChanged.bind(this)});this.addManagedElementListeners(eLabel,{click:this.onLabelClicked.bind(this)});this.onColumnStateChanged();this.refreshAriaLabel();this.setupTooltip();var classes=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getToolPanelClassesFromColDef)(column.getColDef(),gos,column,null);classes.forEach(c=>this.toggleCss(c,true));}getColumn(){return this.column;}setupTooltip(){var refresh=()=>{var _this$tooltipFeature7;return(_this$tooltipFeature7=this.tooltipFeature)===null||_this$tooltipFeature7===void 0?void 0:_this$tooltipFeature7.setTooltipAndRefresh(this.column.getColDef().headerTooltip);};refresh();this.addManagedEventListeners({newColumnsLoaded:refresh});}onContextMenu(e){var{column,gos}=this;if(gos.get(\"functionsReadOnly\")){return;}var contextMenu=this.createBean(new ToolPanelContextMenu(column,e,this.focusWrapper));this.addDestroyFunc(()=>{if(contextMenu.isAlive()){this.destroyBean(contextMenu);}});}handleKeyDown(e){if(e.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.SPACE){e.preventDefault();if(this.isSelectable()){this.onSelectAllChanged(!this.isSelected());}}}onLabelClicked(){if(this.gos.get(\"functionsReadOnly\")){return;}var nextState=!this.cbSelect.getValue();this.onChangeCommon(nextState);}onCheckboxChanged(event){this.onChangeCommon(event.selected);}onChangeCommon(nextState){if(this.cbSelect.isReadOnly()){return;}this.refreshAriaLabel();if(this.processingColumnStateChange){return;}setAllColumns(this.beans,[this.column],nextState,\"toolPanelUi\");}refreshAriaLabel(){var{cbSelect,focusWrapper,displayName}=this;var translate=this.getLocaleTextFunc();var columnLabel=translate(\"ariaColumn\",\"Column\");var state=cbSelect.getValue()?translate(\"ariaVisible\",\"visible\"):translate(\"ariaHidden\",\"hidden\");var visibilityLabel=translate(\"ariaToggleVisibility\",\"Press SPACE to toggle visibility\");(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setAriaLabel)(focusWrapper,\"\".concat(displayName,\" \").concat(columnLabel));this.cbSelect.setInputAriaLabel(\"\".concat(visibilityLabel,\" (\").concat(state,\")\"));(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setAriaDescribedBy)(focusWrapper,cbSelect.getInputElement().id);}setupDragging(){var eDragHandle=this.eDragHandle;if(!this.allowDragging){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setDisplayed)(eDragHandle,false);return;}var beans=this.beans;var{gos,eventSvc,dragAndDrop}=beans;var hideColumnOnExit=!gos.get(\"suppressDragLeaveHidesColumns\");var dragSource={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.DragSourceType.ToolPanel,eElement:eDragHandle,dragItemName:this.displayName,getDefaultIconName:()=>hideColumnOnExit?\"hide\":\"notAllowed\",getDragItem:()=>this.createDragItem(),onDragStarted:()=>{hideColumnOnExit=!gos.get(\"suppressDragLeaveHidesColumns\");eventSvc.dispatchEvent({type:\"columnPanelItemDragStart\",column:this.column});},onDragStopped:()=>{eventSvc.dispatchEvent({type:\"columnPanelItemDragEnd\"});},onGridEnter:dragItem=>{if(hideColumnOnExit){updateColumns(beans,{columns:[this.column],visibleState:dragItem===null||dragItem===void 0?void 0:dragItem.visibleState,pivotState:dragItem===null||dragItem===void 0?void 0:dragItem.pivotState,eventType:\"toolPanelUi\"});}},onGridExit:()=>{if(hideColumnOnExit){this.onChangeCommon(false);}}};dragAndDrop.addDragSource(dragSource,true);this.addDestroyFunc(()=>dragAndDrop.removeDragSource(dragSource));}createDragItem(){var colId=this.column.getColId();var visibleState={[colId]:this.column.isVisible()};var pivotState={[colId]:createPivotState(this.column)};return{columns:[this.column],visibleState,pivotState};}onColumnStateChanged(){this.processingColumnStateChange=true;var isPivotMode2=this.beans.colModel.isPivotMode();if(isPivotMode2){var anyFunctionActive=this.column.isAnyFunctionActive();this.cbSelect.setValue(anyFunctionActive);}else{this.cbSelect.setValue(this.column.isVisible());}var canBeToggled=true;var canBeDragged=true;if(isPivotMode2){var functionsReadOnly=this.gos.get(\"functionsReadOnly\");var noFunctionsAllowed=!this.column.isAnyFunctionAllowed();canBeToggled=!functionsReadOnly&&!noFunctionsAllowed;canBeDragged=canBeToggled;}else{var{enableRowGroup,enableValue,lockPosition,suppressMovable,lockVisible}=this.column.getColDef();var forceDraggable=!!enableRowGroup||!!enableValue;var disableDraggable=!!lockPosition||!!suppressMovable;canBeToggled=!lockVisible;canBeDragged=forceDraggable||!disableDraggable;}this.cbSelect.setReadOnly(!canBeToggled);this.eDragHandle.classList.toggle(\"ag-column-select-column-readonly\",!canBeDragged);this.toggleCss(\"ag-column-select-column-readonly\",!canBeDragged&&!canBeToggled);this.cbSelect.setPassive(false);this.processingColumnStateChange=false;}getDisplayName(){return this.displayName;}onSelectAllChanged(value){var cbSelect=this.cbSelect;if(value!==cbSelect.getValue()){if(!cbSelect.isReadOnly()){cbSelect.toggle();}}}isSelected(){return this.cbSelect.getValue();}isSelectable(){return!this.cbSelect.isReadOnly();}isExpandable(){return false;}setExpanded(_value){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(158);}};// packages/ag-grid-enterprise/src/columnToolPanel/agPrimaryColsList.ts\nvar UIColumnModel=class{constructor(items){this.items=items;}getRowCount(){return this.items.length;}getRow(index){return this.items[index];}};var PRIMARY_COLS_LIST_PANEL_CLASS=\"ag-column-select-list\";var AgPrimaryColsList=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(){super({tag:\"div\",cls:PRIMARY_COLS_LIST_PANEL_CLASS,role:\"presentation\"});this.destroyColumnItemFuncs=[];this.hasLoadedInitialState=false;this.isInitialState=false;this.skipRefocus=false;}wireBeans(beans){this.colModel=beans.colModel;}destroy(){this.destroyColumnTree();super.destroy();}destroyColumnTree(){this.allColsTree=[];this.destroyColumnItemFuncs.forEach(f=>f());this.destroyColumnItemFuncs=[];}init(params,allowDragging,eventType){this.params=params;var{suppressSyncLayoutWithGrid,contractColumnSelection,suppressColumnMove}=params;this.allowDragging=allowDragging;this.eventType=eventType;if(!suppressSyncLayoutWithGrid){this.addManagedEventListeners({columnMoved:this.onColumnsChanged.bind(this)});}this.addManagedEventListeners({newColumnsLoaded:this.onColumnsChanged.bind(this)});var listener=this.fireSelectionChangedEvent.bind(this);this.addManagedEventListeners({columnPivotChanged:listener,columnPivotModeChanged:listener,columnRowGroupChanged:listener,columnValueChanged:listener,columnVisible:listener,newColumnsLoaded:listener});this.expandGroupsByDefault=!contractColumnSelection;var isPreventMove=suppressColumnMove||suppressSyncLayoutWithGrid;var virtualList=this.createManagedBean(new VirtualList({cssIdentifier:\"column-select\",ariaRole:\"tree\",moveItemCallback:(item,isUp)=>{if(isPreventMove){return;}this.moveItems(item,isUp);}}));this.virtualList=virtualList;this.appendChild(virtualList.getGui());virtualList.setComponentCreator((item,listItemElement)=>{(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setAriaLevel)(listItemElement,item.depth+1);return this.createComponentFromItem(item,listItemElement);});if(this.colModel.ready){this.onColumnsChanged();}if(isPreventMove){return;}this.createItemDragFeature();}createItemDragFeature(){var{gos,beans,eventSvc,virtualList}=this;this.createManagedBean(new VirtualListDragFeature(this,virtualList,{dragSourceType:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.DragSourceType.ToolPanel,listItemDragStartEvent:\"columnPanelItemDragStart\",listItemDragEndEvent:\"columnPanelItemDragEnd\",eventSource:eventSvc,getCurrentDragValue:listItemDragStartEvent=>_getCurrentDragValue(listItemDragStartEvent),isMoveBlocked:currentDragValue=>_isMoveBlocked(gos,beans,getCurrentColumnsBeingMoved(currentDragValue)),getNumRows:comp=>comp.getDisplayedColsList().length,moveItem:(currentDragValue,lastHoveredListItem)=>_moveItem(beans,getCurrentColumnsBeingMoved(currentDragValue),lastHoveredListItem)}));}moveItems(item,isUp){var{gos,beans}=this;var{modelItem}=item;var{group,columnGroup,column,expanded}=modelItem;var currentColumns=getCurrentColumnsBeingMoved(group?columnGroup:column);if(_isMoveBlocked(gos,beans,currentColumns)){return;}var currentIndex=this.displayedColsList.indexOf(modelItem);var diff=isUp?-1:1;var movePadding=0;if(isUp){var _column$getParent;var children=item.columnDepth>0&&((_column$getParent=column.getParent())===null||_column$getParent===void 0?void 0:_column$getParent.getChildren());if(children&&children.length&&column===children[0]){movePadding=-1;}}else if(group){movePadding=expanded?modelItem.children.length:0;}var nextItem=Math.min(Math.max(currentIndex+movePadding+diff,0),this.displayedColsList.length-1);this.skipRefocus=true;_moveItem(beans,currentColumns,{rowIndex:nextItem,position:isUp?\"top\":\"bottom\",component:this.virtualList.getComponentAt(nextItem)});this.focusRowIfAlive(nextItem-movePadding).then(()=>{this.skipRefocus=false;});}createComponentFromItem(item,listItemElement){var allowDragging=this.allowDragging;if(item.group){var renderedGroup=new ToolPanelColumnGroupComp(item,allowDragging,this.eventType,listItemElement);this.createBean(renderedGroup);return renderedGroup;}var columnComp=new ToolPanelColumnComp(item,allowDragging,this.groupsExist,listItemElement);this.createBean(columnComp);return columnComp;}onColumnsChanged(){var params=this.params;if(!this.hasLoadedInitialState){this.hasLoadedInitialState=true;this.isInitialState=!!params.initialState;}var expandedStates=this.getExpandedStates();var pivotModeActive=this.colModel.isPivotMode();var shouldSyncColumnLayoutWithGrid=!params.suppressSyncLayoutWithGrid&&!pivotModeActive;if(shouldSyncColumnLayoutWithGrid){this.buildTreeFromWhatGridIsDisplaying();}else{this.buildTreeFromProvidedColumnDefs();}this.setExpandedStates(expandedStates);this.markFilteredColumns();this.flattenAndFilterModel();this.isInitialState=false;}getDisplayedColsList(){return this.displayedColsList;}getExpandedStates(){var res={};if(this.isInitialState){var{expandedGroupIds}=this.params.initialState;expandedGroupIds.forEach(id=>{res[id]=true;});return res;}if(!this.allColsTree){return{};}this.forEachItem(item=>{if(!item.group){return;}var colGroup=item.columnGroup;if(colGroup){res[colGroup.getId()]=item.expanded;}});return res;}setExpandedStates(states){if(!this.allColsTree){return;}var{isInitialState}=this;this.forEachItem(item=>{if(!item.group){return;}var colGroup=item.columnGroup;if(colGroup){var expanded=states[colGroup.getId()];var groupExistedLastTime=expanded!=null;if(groupExistedLastTime||isInitialState){item.expanded=!!expanded;}}});}buildTreeFromWhatGridIsDisplaying(){syncLayoutWithGrid(this.colModel,this.setColumnLayout.bind(this));}setColumnLayout(colDefs){var columnTree=toolPanelCreateColumnTree(this.colModel,colDefs);this.buildListModel(columnTree);this.groupsExist=colDefs.some(colDef=>{return colDef&&typeof colDef.children!==\"undefined\";});this.markFilteredColumns();this.flattenAndFilterModel();}buildTreeFromProvidedColumnDefs(){var _colModel$colDefCols;var colModel=this.colModel;this.buildListModel(colModel.getColDefColTree());this.groupsExist=!!((_colModel$colDefCols=colModel.colDefCols)!==null&&_colModel$colDefCols!==void 0&&_colModel$colDefCols.treeDepth);}buildListModel(columnTree){var columnExpandedListener=this.onColumnExpanded.bind(this);var addListeners=item=>{item.addEventListener(\"expandedChanged\",columnExpandedListener);var removeFunc=item.removeEventListener.bind(item,\"expandedChanged\",columnExpandedListener);this.destroyColumnItemFuncs.push(removeFunc);};var colNames=this.beans.colNames;var recursivelyBuild=(tree,depth,parentList)=>{tree.forEach(child=>{if((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.isProvidedColumnGroup)(child)){createGroupItem(child,depth,parentList);}else{createColumnItem(child,depth,parentList);}});};var createGroupItem=(columnGroup,depth,parentList)=>{var columnGroupDef=columnGroup.getColGroupDef();var skipThisGroup=columnGroupDef&&columnGroupDef.suppressColumnsToolPanel;if(skipThisGroup){return;}if(columnGroup.isPadding()){recursivelyBuild(columnGroup.getChildren(),depth,parentList);return;}var displayName=colNames.getDisplayNameForProvidedColumnGroup(null,columnGroup,\"columnToolPanel\");var item=new ColumnModelItem(displayName,columnGroup,depth,true,this.expandGroupsByDefault);parentList.push(item);addListeners(item);recursivelyBuild(columnGroup.getChildren(),depth+1,item.children);};var createColumnItem=(column,depth,parentList)=>{var skipThisColumn=column.getColDef()&&column.getColDef().suppressColumnsToolPanel;if(skipThisColumn){return;}var displayName=colNames.getDisplayNameForColumn(column,\"columnToolPanel\");parentList.push(new ColumnModelItem(displayName,column,depth));};this.destroyColumnTree();recursivelyBuild(columnTree,0,this.allColsTree);}onColumnExpanded(){this.flattenAndFilterModel();}flattenAndFilterModel(){this.displayedColsList=[];var recursiveFunc=item=>{if(!item.passesFilter){return;}this.displayedColsList.push(item);if(item.group&&item.expanded){item.children.forEach(recursiveFunc);}};var virtualList=this.virtualList;this.allColsTree.forEach(recursiveFunc);virtualList.setModel(new UIColumnModel(this.displayedColsList));var focusedRow=null;if(!this.skipRefocus){focusedRow=virtualList.getLastFocusedRow();}virtualList.refresh();if(focusedRow!=null){this.focusRowIfAlive(focusedRow);}this.notifyListeners();this.refreshAriaLabel();}refreshAriaLabel(){var translate=this.getLocaleTextFunc();var columnListName=translate(\"ariaColumnPanelList\",\"Column List\");var localeColumns=translate(\"columns\",\"Columns\");var items=this.displayedColsList.length;(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setAriaLabel)(this.virtualList.getAriaElement(),\"\".concat(columnListName,\" \").concat(items,\" \").concat(localeColumns));}focusRowIfAlive(rowIndex){if(rowIndex===-1){return Promise.resolve();}return new Promise(res=>{window.setTimeout(()=>{if(this.isAlive()){this.virtualList.focusRow(rowIndex);}res();},0);});}forEachItem(callback){var recursiveFunc=items=>{items.forEach(item=>{callback(item);if(item.group){recursiveFunc(item.children);}});};var allColsTree=this.allColsTree;if(!allColsTree){return;}recursiveFunc(allColsTree);}doSetExpandedAll(value){this.forEachItem(item=>{if(item.group){item.expanded=value;}});}setGroupsExpanded(expand,groupIds){if(!groupIds){this.doSetExpandedAll(expand);return;}var expandedGroupIds=[];this.forEachItem(item=>{if(!item.group){return;}var groupId=item.columnGroup.getId();if(groupIds.indexOf(groupId)>=0){item.expanded=expand;expandedGroupIds.push(groupId);}});var unrecognisedGroupIds=groupIds.filter(groupId=>!expandedGroupIds.includes(groupId));if(unrecognisedGroupIds.length>0){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(157,{unrecognisedGroupIds});}}getExpandState(){var expandedCount=0;var notExpandedCount=0;this.forEachItem(item=>{if(!item.group){return;}if(item.expanded){expandedCount++;}else{notExpandedCount++;}});if(expandedCount>0&&notExpandedCount>0){return 2/* INDETERMINATE */;}if(notExpandedCount>0){return 1/* COLLAPSED */;}return 0/* EXPANDED */;}doSetSelectedAll(selectAllChecked){selectAllChildren(this.beans,this.allColsTree,selectAllChecked,this.eventType);}getSelectionState(){var checkedCount=0;var uncheckedCount=0;var pivotMode=this.colModel.isPivotMode();this.forEachItem(item=>{if(item.group){return;}if(!item.passesFilter){return;}var column=item.column;var colDef=column.getColDef();var checked;if(pivotMode){var noPivotModeOptionsAllowed=!column.isAllowPivot()&&!column.isAllowRowGroup()&&!column.isAllowValue();if(noPivotModeOptionsAllowed){return;}checked=column.isValueActive()||column.isPivotActive()||column.isRowGroupActive();}else{if(colDef.lockVisible){return;}checked=column.isVisible();}checked?checkedCount++:uncheckedCount++;});if(checkedCount>0&&uncheckedCount>0){return void 0;}return!(checkedCount===0||uncheckedCount>0);}setFilterText(filterText){this.filterText=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._exists)(filterText)?filterText.toLowerCase():null;this.markFilteredColumns();this.flattenAndFilterModel();}markFilteredColumns(){var passesFilter=item=>{if(!(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._exists)(this.filterText)){return true;}var displayName=item.displayName;return displayName==null||displayName.toLowerCase().indexOf(this.filterText)!==-1;};var recursivelyCheckFilter=(item,parentPasses)=>{var atLeastOneChildPassed=false;if(item.group){var groupPasses=passesFilter(item);item.children.forEach(child=>{var childPasses=recursivelyCheckFilter(child,groupPasses||parentPasses);if(childPasses){atLeastOneChildPassed=childPasses;}});}var filterPasses=parentPasses||atLeastOneChildPassed?true:passesFilter(item);item.passesFilter=filterPasses;return filterPasses;};this.allColsTree.forEach(item=>recursivelyCheckFilter(item,false));}notifyListeners(){this.fireGroupExpandedEvent();this.fireSelectionChangedEvent();}fireGroupExpandedEvent(){var expandState=this.getExpandState();this.dispatchLocalEvent({type:\"groupExpanded\",state:expandState});}fireSelectionChangedEvent(){if(!this.allColsTree){return;}var selectionState=this.getSelectionState();this.dispatchLocalEvent({type:\"selectionChanged\",state:selectionState});}getExpandedGroups(){var expandedGroupIds=[];if(!this.allColsTree){return expandedGroupIds;}this.forEachItem(item=>{if(item.group&&item.expanded){expandedGroupIds.push(item.columnGroup.getId());}});return expandedGroupIds;}};var AgPrimaryColsListSelector={selector:\"AG-PRIMARY-COLS-LIST\",component:AgPrimaryColsList};// packages/ag-grid-enterprise/src/columnToolPanel/agPrimaryCols.ts\nvar AgPrimaryColsElement={tag:\"div\",cls:\"ag-column-select\",children:[{tag:\"ag-primary-cols-header\",ref:\"primaryColsHeaderPanel\"},{tag:\"ag-primary-cols-list\",ref:\"primaryColsListPanel\"}]};var AgPrimaryCols=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(){super(AgPrimaryColsElement,[AgPrimaryColsHeaderSelector,AgPrimaryColsListSelector]);this.primaryColsHeaderPanel=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.primaryColsListPanel=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.registerCSS(agPrimaryColsCSS);}// we allow dragging in the toolPanel, but not when this component appears in the column menu\ninit(allowDragging,params,eventType){var{primaryColsHeaderPanel,primaryColsListPanel}=this;primaryColsHeaderPanel.init(params);var hideFilter=params.suppressColumnFilter;var hideSelect=params.suppressColumnSelectAll;var hideExpand=params.suppressColumnExpandAll;if(hideExpand&&hideFilter&&hideSelect){primaryColsHeaderPanel.setDisplayed(false);}this.addManagedListeners(primaryColsListPanel,{groupExpanded:event=>{primaryColsHeaderPanel.setExpandState(event.state);params.onStateUpdated();},selectionChanged:event=>primaryColsHeaderPanel.setSelectionState(event.state)});primaryColsListPanel.init(params,allowDragging,eventType);this.addManagedListeners(primaryColsHeaderPanel,{expandAll:primaryColsListPanel.doSetExpandedAll.bind(primaryColsListPanel,true),collapseAll:primaryColsListPanel.doSetExpandedAll.bind(primaryColsListPanel,false),selectAll:primaryColsListPanel.doSetSelectedAll.bind(primaryColsListPanel,true),unselectAll:primaryColsListPanel.doSetSelectedAll.bind(primaryColsListPanel,false),filterChanged:event=>primaryColsListPanel.setFilterText(event.filterText)});this.positionableFeature=this.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.PositionableFeature(this.getGui(),{minHeight:100}));}toggleResizable(resizable){this.positionableFeature.setResizable(resizable?{bottom:true}:false);}expandGroups(groupIds){this.primaryColsListPanel.setGroupsExpanded(true,groupIds);}collapseGroups(groupIds){this.primaryColsListPanel.setGroupsExpanded(false,groupIds);}setColumnLayout(colDefs){this.primaryColsListPanel.setColumnLayout(colDefs);}syncLayoutWithGrid(){this.primaryColsListPanel.onColumnsChanged();}getExpandedGroups(){return this.primaryColsListPanel.getExpandedGroups();}};// packages/ag-grid-enterprise/src/columnToolPanel/columnToolPanel.css-GENERATED.ts\nvar columnToolPanelCSS=/*css*/\".ag-column-panel{display:flex;flex:1 1 auto;flex-direction:column;overflow:hidden}.ag-pivot-mode-panel{display:flex;height:var(--ag-header-height)}.ag-pivot-mode-select{align-items:center;display:flex}:where(.ag-ltr) .ag-pivot-mode-select{margin-left:var(--ag-widget-container-horizontal-padding)}:where(.ag-rtl) .ag-pivot-mode-select{margin-right:var(--ag-widget-container-horizontal-padding)}.ag-column-panel-column-select{border-bottom:var(--ag-tool-panel-separator-border)}.ag-column-panel-column-select:where(:nth-child(n+2 of :not(.ag-hidden))){border-top:var(--ag-tool-panel-separator-border)}:where(.ag-column-panel) .ag-column-drop-vertical{flex:1 1 0px;min-height:50px;&:where(:not(.ag-last-column-drop)){border-bottom:var(--ag-tool-panel-separator-border)}}\";// packages/ag-grid-enterprise/src/columnToolPanel/columnToolPanel.ts\nvar ColumnToolPanel=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(){super({tag:\"div\",cls:\"ag-column-panel\"});this.initialised=false;this.childDestroyFuncs=[];this.registerCSS(columnToolPanelCSS);}wireBeans(beans){this.colToolPanelFactory=beans.colToolPanelFactory;}// lazy initialise the panel\nsetVisible(visible){super.setDisplayed(visible);if(visible&&!this.initialised){this.init(this.params);}}init(params){var defaultParams=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._addGridCommonParams)(this.gos,{suppressColumnMove:false,suppressColumnSelectAll:false,suppressColumnFilter:false,suppressColumnExpandAll:false,contractColumnSelection:false,suppressPivotMode:false,suppressRowGroups:false,suppressValues:false,suppressPivots:false,suppressSyncLayoutWithGrid:false});var mergedParams=_objectSpread(_objectSpread({},defaultParams),params);this.params=mergedParams;var{childDestroyFuncs,colToolPanelFactory,gos}=this;var hasPivotModule=gos.isModuleRegistered(\"SharedPivot\");var hasRowGroupingModule=hasPivotModule||gos.isModuleRegistered(\"SharedRowGrouping\");if(!mergedParams.suppressPivotMode&&colToolPanelFactory&&hasPivotModule){this.pivotModePanel=colToolPanelFactory.createPivotModePanel(this,childDestroyFuncs);}var primaryColsPanel=this.createBean(new AgPrimaryCols());this.primaryColsPanel=primaryColsPanel;childDestroyFuncs.push(()=>this.destroyBean(this.primaryColsPanel));primaryColsPanel.init(true,mergedParams,\"toolPanelUi\");primaryColsPanel.addCss(\"ag-column-panel-column-select\");this.appendChild(primaryColsPanel);if(colToolPanelFactory){if(!mergedParams.suppressRowGroups&&hasRowGroupingModule){this.rowGroupDropZonePanel=colToolPanelFactory.createRowGroupPanel(this,childDestroyFuncs);}if(!mergedParams.suppressValues&&hasRowGroupingModule){this.valuesDropZonePanel=colToolPanelFactory.createValuesPanel(this,childDestroyFuncs);}if(!mergedParams.suppressPivots&&hasPivotModule){this.pivotDropZonePanel=colToolPanelFactory.createPivotPanel(this,childDestroyFuncs);}this.setLastVisible();var[pivotModeListener]=this.addManagedEventListeners({columnPivotModeChanged:()=>{this.resetChildrenHeight();this.setLastVisible();}});childDestroyFuncs.push(()=>pivotModeListener());}this.initialised=true;}setPivotModeSectionVisible(visible){var colToolPanelFactory=this.colToolPanelFactory;if(!colToolPanelFactory){return;}this.pivotModePanel=colToolPanelFactory.setPanelVisible(this.pivotModePanel,visible,colToolPanelFactory.createPivotModePanel.bind(colToolPanelFactory,this,this.childDestroyFuncs,true));this.setLastVisible();}setRowGroupsSectionVisible(visible){var colToolPanelFactory=this.colToolPanelFactory;if(!colToolPanelFactory){return;}this.rowGroupDropZonePanel=colToolPanelFactory.setPanelVisible(this.rowGroupDropZonePanel,visible,colToolPanelFactory.createRowGroupPanel.bind(colToolPanelFactory,this,this.childDestroyFuncs));this.setLastVisible();}setValuesSectionVisible(visible){var colToolPanelFactory=this.colToolPanelFactory;if(!colToolPanelFactory){return;}this.valuesDropZonePanel=colToolPanelFactory.setPanelVisible(this.valuesDropZonePanel,visible,colToolPanelFactory.createValuesPanel.bind(colToolPanelFactory,this,this.childDestroyFuncs));this.setLastVisible();}setPivotSectionVisible(visible){var _this$pivotDropZonePa;var colToolPanelFactory=this.colToolPanelFactory;if(!colToolPanelFactory){return;}this.pivotDropZonePanel=colToolPanelFactory.setPanelVisible(this.pivotDropZonePanel,visible,colToolPanelFactory.createPivotPanel.bind(colToolPanelFactory,this,this.childDestroyFuncs));(_this$pivotDropZonePa=this.pivotDropZonePanel)===null||_this$pivotDropZonePa===void 0||_this$pivotDropZonePa.setDisplayed(visible);this.setLastVisible();}setResizers(){[this.primaryColsPanel,this.rowGroupDropZonePanel,this.valuesDropZonePanel,this.pivotDropZonePanel].forEach(panel=>{if(!panel){return;}var eGui=panel.getGui();panel.toggleResizable(!eGui.classList.contains(\"ag-last-column-drop\")&&!eGui.classList.contains(\"ag-hidden\"));});}setLastVisible(){var eGui=this.getGui();var columnDrops=Array.prototype.slice.call(eGui.querySelectorAll(\".ag-column-drop\"));columnDrops.forEach(columnDrop=>columnDrop.classList.remove(\"ag-last-column-drop\"));var columnDropEls=eGui.querySelectorAll(\".ag-column-drop:not(.ag-hidden)\");var lastVisible=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._last)(columnDropEls);if(lastVisible){lastVisible.classList.add(\"ag-last-column-drop\");}this.setResizers();}resetChildrenHeight(){var eGui=this.getGui();var children=eGui.children;for(var i=0;i<children.length;i++){var{style}=children[i];style.removeProperty(\"height\");style.removeProperty(\"flex\");}}expandColumnGroups(groupIds){this.primaryColsPanel.expandGroups(groupIds);}collapseColumnGroups(groupIds){this.primaryColsPanel.collapseGroups(groupIds);}setColumnLayout(colDefs){this.primaryColsPanel.setColumnLayout(colDefs);}syncLayoutWithGrid(){this.primaryColsPanel.syncLayoutWithGrid();}destroyChildren(){var childDestroyFuncs=this.childDestroyFuncs;childDestroyFuncs.forEach(func=>func());childDestroyFuncs.length=0;(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._clearElement)(this.getGui());}refresh(params){this.destroyChildren();this.init(params);return true;}getState(){return{expandedGroupIds:this.primaryColsPanel.getExpandedGroups()};}destroy(){this.destroyChildren();super.destroy();}};// packages/ag-grid-enterprise/src/columnToolPanel/columnToolPanelFactory.ts\n// packages/ag-grid-enterprise/src/rowGrouping/columnDropZones/pivotDropZonePanel.ts\n// packages/ag-grid-enterprise/src/rowGrouping/columnDropZones/baseDropZonePanel.ts\n// packages/ag-grid-enterprise/src/widgets/pillDropZonePanel.ts\n// packages/ag-grid-enterprise/src/widgets/pillDropZonePanel.css-GENERATED.ts\nvar pillDropZonePanelCSS=/*css*/\".ag-column-drop{align-items:center;display:inline-flex;overflow:auto;position:relative;width:100%}.ag-column-drop-list{align-items:center;display:flex}.ag-column-drop-cell{align-items:center;background-color:var(--ag-column-drop-cell-background-color);border:var(--ag-column-drop-cell-border);border-radius:500px;color:var(--ag-column-drop-cell-text-color);display:flex;padding:calc(var(--ag-spacing)*.25);position:relative;&:focus-visible{box-shadow:var(--ag-focus-shadow)}:where(.ag-drag-handle){color:var(--ag-column-drop-cell-drag-handle-color)}}:where(.ag-ltr) .ag-column-drop-cell{padding-left:calc(var(--ag-spacing)*.75)}:where(.ag-rtl) .ag-column-drop-cell{padding-right:calc(var(--ag-spacing)*.75)}.ag-column-drop-cell-text{flex:1 1 auto;margin:0 var(--ag-spacing);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ag-column-drop-vertical{align-items:stretch;display:flex;flex-direction:column;min-height:75px;overflow:hidden}.ag-column-drop-vertical-title-bar{align-items:center;display:flex;flex:none;padding:var(--ag-widget-container-vertical-padding) calc(var(--ag-spacing)*2) 0}.ag-column-drop-vertical-list{align-items:stretch;flex-direction:column;flex-grow:1;overflow-x:auto;padding-bottom:var(--ag-spacing);padding-left:var(--ag-spacing);padding-right:var(--ag-spacing);position:relative;>*{flex:none}}:where(.ag-column-drop-empty) .ag-column-drop-vertical-list{overflow:hidden}.ag-column-drop-cell-button{cursor:pointer;min-width:0;opacity:.75;&:hover{opacity:1}}.ag-column-drop-wrapper{display:flex}.ag-column-drop-horizontal-half-width{width:50%!important}.ag-column-drop-cell-ghost{opacity:.5}.ag-column-drop-horizontal{background-color:var(--ag-header-background-color);border-bottom:var(--ag-header-row-border);gap:var(--ag-cell-widget-spacing);height:var(--ag-header-height);overflow:hidden;white-space:nowrap}:where(.ag-ltr) .ag-column-drop-horizontal{padding-left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-column-drop-horizontal{padding-right:var(--ag-cell-horizontal-padding)}.ag-column-drop-horizontal-list{gap:var(--ag-cell-widget-spacing)}.ag-column-drop-vertical-cell{margin-top:var(--ag-spacing)}:where(.ag-ltr) .ag-column-drop-vertical-icon{margin-right:var(--ag-widget-horizontal-spacing)}:where(.ag-rtl) .ag-column-drop-vertical-icon{margin-left:var(--ag-widget-horizontal-spacing)}.ag-select-agg-func-popup{background:var(--ag-background-color);border:solid var(--ag-border-width) var(--ag-border-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);height:calc(var(--ag-spacing)*5*3.5);padding:0;position:absolute}.ag-select-agg-func-virtual-list-item{cursor:default;&:hover{background-color:var(--ag-selected-row-background-color)}}:where(.ag-ltr) .ag-select-agg-func-virtual-list-item{padding-left:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-select-agg-func-virtual-list-item{padding-right:calc(var(--ag-spacing)*2)}:where(.ag-ltr) .ag-column-drop-horizontal-half-width:where(:not(:last-child)){border-right:solid var(--ag-border-width) var(--ag-border-color)}:where(.ag-rtl) .ag-column-drop-horizontal-half-width:where(:not(:last-child)){border-left:solid var(--ag-border-width) var(--ag-border-color)}\";// packages/ag-grid-enterprise/src/widgets/pillDropZonePanel.ts\nfunction _insertArrayIntoArray(dest,src,toIndex){if(dest==null||src==null){return;}dest.splice(toIndex,0,...src);}var PillDropZonePanelElement={tag:\"div\",cls:\"ag-unselectable\",role:\"presentation\"};var PillDropZonePanel=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(horizontal){super(PillDropZonePanelElement);this.horizontal=horizontal;this.state=\"notDragging\";this.guiDestroyFunctions=[];this.childPillComponents=[];this.resizeEnabled=false;this.addElementClasses(this.getGui());this.ePillDropList=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createElement)({tag:\"div\"});this.addElementClasses(this.ePillDropList,\"list\");this.registerCSS(pillDropZonePanelCSS);}toggleResizable(resizable){this.positionableFeature.setResizable(resizable?{bottom:true}:false);this.resizeEnabled=resizable;}isSourceEventFromTarget(draggingEvent){var{dropZoneTarget,dragSource}=draggingEvent;return dropZoneTarget.contains(dragSource.eElement);}destroy(){this.destroyGui();super.destroy();}destroyGui(){this.guiDestroyFunctions.forEach(func=>func());this.guiDestroyFunctions.length=0;this.childPillComponents.length=0;(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._clearElement)(this.getGui());(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._clearElement)(this.ePillDropList);}init(params){this.params=params!==null&&params!==void 0?params:{};this.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.ManagedFocusFeature(this.getFocusableElement(),{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.onKeyDown.bind(this)}));this.setupDropTarget();this.positionableFeature=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.PositionableFeature(this.getGui());this.createManagedBean(this.positionableFeature);this.refreshGui();(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setAriaLabel)(this.ePillDropList,this.getAriaLabel());}onTabKeyDown(e){var focusableElements=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._findFocusableElements)(this.getFocusableElement(),null,true);var len=focusableElements.length;if(len===0){return;}var{shiftKey}=e;var activeEl=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getActiveDomElement)(this.beans);var isFirstFocused=activeEl===focusableElements[0];var isLastFocused=activeEl===(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._last)(focusableElements);var shouldAllowDefaultTab=len===1||isFirstFocused&&shiftKey||isLastFocused&&!shiftKey;if(!shouldAllowDefaultTab){focusableElements[shiftKey?0:len-1].focus();}}onKeyDown(e){var{key}=e;var isVertical=!this.horizontal;var isNext=key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.DOWN;var isPrevious=key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.UP;if(!isVertical){var isRtl=this.gos.get(\"enableRtl\");isNext=!isRtl&&key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.RIGHT||isRtl&&key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.LEFT;isPrevious=!isRtl&&key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.LEFT||isRtl&&key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.RIGHT;}if(!isNext&&!isPrevious){return;}e.preventDefault();if(e.shiftKey){this.moveFocusedItem(isPrevious);}else{var el=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._findNextFocusableElement)(this.beans,this.getFocusableElement(),false,isPrevious);if(el){el.focus();}}}moveFocusedItem(isPrevious){var currentItemIndex=this.getFocusedItem();if(currentItemIndex===-1){return;}var diff=isPrevious?-1:1;var changed=this.normalizeAndUpdateInsertIndex(currentItemIndex,currentItemIndex+diff);if(!changed){return;}var comp=this.childPillComponents[currentItemIndex];if(!comp.isMovable()){return;}var currentItem=comp.getItem();this.focusItemAtIndex(this.insertIndex);this.rearrangeItems([currentItem],true);}addElementClasses(el,suffix){suffix=suffix?\"-\".concat(suffix):\"\";var direction=this.horizontal?\"horizontal\":\"vertical\";el.classList.add(\"ag-column-drop\".concat(suffix),\"ag-column-drop-\".concat(direction).concat(suffix));}setupDropTarget(){var _this$beans$dragAndDr;this.dropTarget={getContainer:this.getGui.bind(this),getIconName:this.getIconName.bind(this),onDragging:this.onDragging.bind(this),onDragEnter:this.onDragEnter.bind(this),onDragLeave:this.onDragLeave.bind(this),onDragStop:this.onDragStop.bind(this),onDragCancel:this.onDragCancel.bind(this),isInterestedIn:this.isInterestedIn.bind(this)};(_this$beans$dragAndDr=this.beans.dragAndDrop)===null||_this$beans$dragAndDr===void 0||_this$beans$dragAndDr.addDropTarget(this.dropTarget);}minimumAllowedNewInsertIndex(){return 0;}checkInsertIndex(draggingEvent){var newIndex=this.getNewInsertIndex(draggingEvent);if(newIndex<0){return false;}return this.normalizeAndUpdateInsertIndex(this.insertIndex,newIndex);}normalizeAndUpdateInsertIndex(currentIndex,index){var minimumAllowedIndex=this.minimumAllowedNewInsertIndex();var newAdjustedIndex=Math.max(minimumAllowedIndex,index);var changed=newAdjustedIndex!==currentIndex;if(changed){this.insertIndex=newAdjustedIndex;}return changed;}getNewInsertIndex(draggingEvent){var mouseEvent=draggingEvent.event;var mouseLocation=this.horizontal?mouseEvent.clientX:mouseEvent.clientY;var boundsList=this.childPillComponents.map(comp=>comp.getGui().getBoundingClientRect());var hoveredIndex=boundsList.findIndex(rect=>this.horizontal?rect.right>mouseLocation&&rect.left<mouseLocation:rect.top<mouseLocation&&rect.bottom>mouseLocation);if(hoveredIndex===-1){var enableRtl=this.gos.get(\"enableRtl\");var isLast=boundsList.every(rect=>mouseLocation>(this.horizontal?rect.right:rect.bottom));if(isLast){return enableRtl&&this.horizontal?0:this.childPillComponents.length;}var isFirst=boundsList.every(rect=>mouseLocation<(this.horizontal?rect.left:rect.top));if(isFirst){return enableRtl&&this.horizontal?this.childPillComponents.length:0;}return this.insertIndex;}if(this.insertIndex<=hoveredIndex){return hoveredIndex+1;}return hoveredIndex;}checkDragStartedBySelf(draggingEvent){if(this.state!==\"notDragging\"){return;}this.state=\"rearrangeItems\";this.potentialDndItems=this.getItems(draggingEvent.dragSource.getDragItem());this.refreshGui();this.checkInsertIndex(draggingEvent);this.refreshGui();}onDragging(draggingEvent){this.checkDragStartedBySelf(draggingEvent);if(this.checkInsertIndex(draggingEvent)){this.refreshGui();}}handleDragEnterEnd(_){}onDragEnter(draggingEvent){var dragItems=this.getItems(draggingEvent.dragSource.getDragItem());this.state=\"newItemsIn\";var goodDragItems=dragItems.filter(item=>this.isItemDroppable(item,draggingEvent));var alreadyPresent=goodDragItems.every(item=>this.childPillComponents.map(cmp=>cmp.getItem()).indexOf(item)!==-1);if(goodDragItems.length===0){return;}this.potentialDndItems=goodDragItems;if(alreadyPresent){this.state=\"notDragging\";return;}this.handleDragEnterEnd(draggingEvent);this.checkInsertIndex(draggingEvent);this.refreshGui();}isPotentialDndItems(){var _this$potentialDndIte;return!!((_this$potentialDndIte=this.potentialDndItems)!==null&&_this$potentialDndIte!==void 0&&_this$potentialDndIte.length);}handleDragLeaveEnd(_){}onDragLeave(draggingEvent){if(this.state===\"rearrangeItems\"){var items=this.getItems(draggingEvent.dragSource.getDragItem());this.removeItems(items);}if(this.isPotentialDndItems()){this.handleDragLeaveEnd(draggingEvent);this.potentialDndItems=[];this.refreshGui();}this.state=\"notDragging\";}onDragCancel(draggingEvent){if(this.isPotentialDndItems()){if(this.state===\"newItemsIn\"){this.handleDragLeaveEnd(draggingEvent);}this.potentialDndItems=[];this.refreshGui();}this.state=\"notDragging\";}onDragStop(){if(this.isPotentialDndItems()){if(this.state===\"newItemsIn\"){this.addItems(this.potentialDndItems);}else{this.rearrangeItems(this.potentialDndItems);}this.potentialDndItems=[];this.refreshGui();}this.state=\"notDragging\";}removeItems(itemsToRemove){var newItemList=this.getExistingItems().filter(item=>!itemsToRemove.includes(item));this.updateItems(newItemList);}addItems(itemsToAdd){if(!itemsToAdd){return;}var newItemList=this.getExistingItems().slice();var itemsToAddNoDuplicates=itemsToAdd.filter(item=>newItemList.indexOf(item)<0);_insertArrayIntoArray(newItemList,itemsToAddNoDuplicates,this.insertIndex);this.updateItems(newItemList);}addItem(item){this.insertIndex=this.getExistingItems().length;this.addItems([item]);this.refreshGui();}rearrangeItems(itemsToAdd,fromKeyboard){var newItemList;if(!fromKeyboard){newItemList=this.getNonGhostItems().slice();}else{newItemList=this.getExistingItems().filter(item=>itemsToAdd.indexOf(item)===-1);}_insertArrayIntoArray(newItemList,itemsToAdd,this.insertIndex);if((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._areEqual)(newItemList,this.getExistingItems())){return false;}this.updateItems(newItemList);return true;}refreshGui(){var scrollTop=0;if(!this.horizontal){scrollTop=this.ePillDropList.scrollTop;}var resizeEnabled=this.resizeEnabled;var focusedIndex=this.getFocusedItem();var{eGridDiv}=this.beans;var isKeyboardMode=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isKeyboardMode)();var alternateElement=null;if(isKeyboardMode){var _findNextFocusableEle;alternateElement=(_findNextFocusableEle=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._findNextFocusableElement)(this.beans,eGridDiv))!==null&&_findNextFocusableEle!==void 0?_findNextFocusableEle:(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._findNextFocusableElement)(this.beans,eGridDiv,false,true);}this.toggleResizable(false);this.destroyGui();this.addIconAndTitleToGui();this.addEmptyMessageToGui();this.addItemsToGui();if(scrollTop!==0){this.ePillDropList.scrollTop=scrollTop;}if(resizeEnabled){this.toggleResizable(resizeEnabled);}if(isKeyboardMode){this.restoreFocus(focusedIndex,alternateElement);}}getFocusedItem(){var eGui=this.getGui();var activeElement=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getActiveDomElement)(this.beans);if(!eGui.contains(activeElement)){return-1;}var items=Array.from(eGui.querySelectorAll(\".ag-column-drop-cell\"));return items.indexOf(activeElement);}focusItemAtIndex(index){var eGui=this.getGui();var items=Array.from(eGui.querySelectorAll(\".ag-column-drop-cell\"));var item=items[index];if(!item){return;}item.focus({preventScroll:true});}restoreFocus(index,alternateElement){var eGui=this.getGui();var items=Array.from(eGui.querySelectorAll(\".ag-column-drop-cell\"));if(index===-1){return;}if(items.length===0){alternateElement.focus();}var indexToFocus=Math.min(items.length-1,index);var el=items[indexToFocus];if(el){el.focus();}}focusList(fromBottom){var index=fromBottom?this.childPillComponents.length-1:0;this.restoreFocus(index,this.getFocusableElement());}getNonGhostItems(){var existingItems=this.getExistingItems();if(this.isPotentialDndItems()){return existingItems.filter(item=>!this.potentialDndItems.includes(item));}return existingItems;}addItemsToGui(){var nonGhostItems=this.getNonGhostItems();var itemsToAddToGui=nonGhostItems.map(item=>this.createItemComponent(item,false));if(this.isPotentialDndItems()){var dndItems=this.potentialDndItems.map(item=>this.createItemComponent(item,true));if(this.insertIndex>=itemsToAddToGui.length){itemsToAddToGui.push(...dndItems);}else{itemsToAddToGui.splice(this.insertIndex,0,...dndItems);}}this.appendChild(this.ePillDropList);itemsToAddToGui.forEach((itemComponent,index)=>{if(index>0){this.addArrow(this.ePillDropList);}this.ePillDropList.appendChild(itemComponent.getGui());});this.addAriaLabelsToComponents();}addAriaLabelsToComponents(){var{childPillComponents,ePillDropList}=this;var len=childPillComponents.length;(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setAriaRole)(ePillDropList,len===0?\"presentation\":\"listbox\");for(var i=0;i<len;i++){var comp=childPillComponents[i];var eGui=comp.getGui();(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setAriaPosInSet)(eGui,i+1);(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setAriaSetSize)(eGui,len);}}createItemComponent(item,ghost){var itemComponent=this.createPillComponent(item,this.dropTarget,ghost,this.horizontal);itemComponent.addEventListener(\"columnRemove\",this.removeItems.bind(this,[item]));this.createBean(itemComponent);this.guiDestroyFunctions.push(()=>this.destroyBean(itemComponent));if(!ghost){this.childPillComponents.push(itemComponent);}return itemComponent;}addIconAndTitleToGui(){var{title,icon:eGroupIcon}=this.params;if(!title||!eGroupIcon){return;}var eTitleBar=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createElement)({tag:\"div\"});(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setAriaHidden)(eTitleBar,true);this.addElementClasses(eTitleBar,\"title-bar\");this.addElementClasses(eGroupIcon,\"icon\");this.toggleCss(\"ag-column-drop-empty\",this.isExistingItemsEmpty());eTitleBar.appendChild(eGroupIcon);if(!this.horizontal){var eTitle=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createElement)({tag:\"span\"});this.addElementClasses(eTitle,\"title\");eTitle.textContent=title;eTitleBar.appendChild(eTitle);}this.appendChild(eTitleBar);}isExistingItemsEmpty(){return this.getExistingItems().length===0;}addEmptyMessageToGui(){var{emptyMessage}=this.params;if(!emptyMessage||!this.isExistingItemsEmpty()||this.isPotentialDndItems()){return;}var eMessage=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createElement)({tag:\"span\"});eMessage.textContent=emptyMessage;this.addElementClasses(eMessage,\"empty-message\");this.ePillDropList.appendChild(eMessage);}addArrow(eParent){if(this.horizontal){var enableRtl=this.gos.get(\"enableRtl\");var icon=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createIconNoSpan)(enableRtl?\"panelDelimiterRtl\":\"panelDelimiter\",this.beans);this.addElementClasses(icon,\"cell-separator\");eParent.appendChild(icon);}}};// packages/ag-grid-enterprise/src/rowGrouping/columnDropZones/dropZoneColumnComp.ts\n// packages/ag-grid-enterprise/src/widgets/pillDragComp.ts\nvar PillDragCompElement={tag:\"span\",role:\"option\",children:[{tag:\"span\",ref:\"eDragHandle\",cls:\"ag-drag-handle ag-column-drop-cell-drag-handle\",role:\"presentation\"},{tag:\"span\",ref:\"eText\",cls:\"ag-column-drop-cell-text\",attrs:{\"aria-hidden\":\"true\"}},{tag:\"span\",ref:\"eButton\",cls:\"ag-column-drop-cell-button\",role:\"presentation\"}]};var PillDragComp=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(dragSourceDropTarget,ghost,horizontal,template,agComponents){super();this.dragSourceDropTarget=dragSourceDropTarget;this.ghost=ghost;this.horizontal=horizontal;this.template=template;this.agComponents=agComponents;this.eText=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.eDragHandle=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.eButton=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;}postConstruct(){var _this$template;this.setTemplate((_this$template=this.template)!==null&&_this$template!==void 0?_this$template:PillDragCompElement,this.agComponents);var eGui=this.getGui();var{beans,eDragHandle,eText,eButton}=this;this.addElementClasses(eGui);this.addElementClasses(eDragHandle,\"drag-handle\");this.addElementClasses(eText,\"text\");this.addElementClasses(eButton,\"button\");eDragHandle.appendChild((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createIconNoSpan)(\"columnDrag\",beans));eButton.appendChild((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createIconNoSpan)(\"cancel\",beans));this.tooltipFeature=this.createOptionalManagedBean(beans.registry.createDynamicBean(\"tooltipFeature\",false,{getGui:()=>this.getGui()}));this.setupComponents();if(!this.ghost&&this.isDraggable()){this.addDragSource();}this.setupAria();this.setupTooltip();this.activateTabIndex();this.refreshDraggable();}isDraggable(){return true;}refreshDraggable(){this.eDragHandle.classList.toggle(\"ag-column-select-column-readonly\",!this.isDraggable());}setupAria(){var translate=this.getLocaleTextFunc();var ariaInstructions=[this.getAriaDisplayName()];this.addAdditionalAriaInstructions(ariaInstructions,translate);(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setAriaLabel)(this.getGui(),ariaInstructions.join(\". \"));}addAdditionalAriaInstructions(ariaInstructions,translate){if(this.isRemovable()){var deleteAria=translate(\"ariaDropZoneColumnComponentDescription\",\"Press DELETE to remove\");ariaInstructions.push(deleteAria);}}setupTooltip(){var refresh=()=>{var _this$tooltipFeature8;return(_this$tooltipFeature8=this.tooltipFeature)===null||_this$tooltipFeature8===void 0?void 0:_this$tooltipFeature8.setTooltipAndRefresh(this.getTooltip());};refresh();this.addManagedEventListeners({newColumnsLoaded:refresh});}getDragSourceId(){return void 0;}getDefaultIconName(){return\"notAllowed\";}addDragSource(){var{beans:{dragAndDrop},eDragHandle}=this;var getDragItem=this.createGetDragItem();var defaultIconName=this.getDefaultIconName();var dragSource={type:this.getDragSourceType(),sourceId:this.getDragSourceId(),eElement:eDragHandle,getDefaultIconName:()=>defaultIconName,getDragItem,dragItemName:this.getDisplayName()};dragAndDrop===null||dragAndDrop===void 0||dragAndDrop.addDragSource(dragSource,true);this.addDestroyFunc(()=>dragAndDrop===null||dragAndDrop===void 0?void 0:dragAndDrop.removeDragSource(dragSource));}setupComponents(){this.eText.textContent=this.getDisplayValue();this.setupRemove();if(this.ghost){this.addCss(\"ag-column-drop-cell-ghost\");}}isRemovable(){return true;}refreshRemove(){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setDisplayed)(this.eButton,this.isRemovable());}setupRemove(){this.refreshRemove();var agEvent={type:\"columnRemove\"};this.addGuiEventListener(\"keydown\",e=>this.onKeyDown(e));this.addManagedElementListeners(this.eButton,{click:mouseEvent=>{this.dispatchLocalEvent(agEvent);mouseEvent.stopPropagation();}});var touchListener=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.TouchListener(this.eButton);this.addManagedListeners(touchListener,{tap:()=>this.dispatchLocalEvent(agEvent)});this.addDestroyFunc(touchListener.destroy.bind(touchListener));}onKeyDown(e){var isDelete=e.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.DELETE;if(isDelete){if(this.isRemovable()){e.preventDefault();this.dispatchLocalEvent({type:\"columnRemove\"});}}}getDisplayValue(){return this.getDisplayName();}addElementClasses(el,suffix){suffix=suffix?\"-\".concat(suffix):\"\";var direction=this.horizontal?\"horizontal\":\"vertical\";el.classList.add(\"ag-column-drop-cell\".concat(suffix),\"ag-column-drop-\".concat(direction,\"-cell\").concat(suffix));}destroy(){super.destroy();this.dragSourceDropTarget=null;}};// packages/ag-grid-enterprise/src/rowGrouping/columnDropZones/dropZoneColumnComp.ts\nvar DropZoneColumnComp=class extends PillDragComp{constructor(column,dragSourceDropTarget,ghost,dropZonePurpose,horizontal){super(dragSourceDropTarget,ghost,horizontal);this.column=column;this.dropZonePurpose=dropZonePurpose;this.eSortIndicator=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.popupShowing=false;}postConstruct(){var{sortSvc,colNames}=this.beans;this.template={tag:\"span\",role:\"option\",children:[{tag:\"span\",ref:\"eDragHandle\",cls:\"ag-drag-handle ag-column-drop-cell-drag-handle\",role:\"presentation\"},{tag:\"span\",ref:\"eText\",cls:\"ag-column-drop-cell-text\",attrs:{\"aria-hidden\":\"true\"}},sortSvc?{tag:\"ag-sort-indicator\",ref:\"eSortIndicator\"}:void 0,{tag:\"span\",ref:\"eButton\",cls:\"ag-column-drop-cell-button\",role:\"presentation\"}]};if(sortSvc){this.agComponents=[sortSvc.getSortIndicatorSelector()];}this.displayName=colNames.getDisplayNameForColumn(this.column,\"columnDrop\");super.postConstruct();if(sortSvc){this.setupSort();this.addManagedEventListeners({sortChanged:()=>{this.setupAria();}});}if(this.isGroupingZone()){this.addManagedPropertyListener(\"groupLockGroupColumns\",()=>{this.refreshRemove();this.refreshDraggable();this.setupAria();});}}getItem(){return this.column;}getDisplayName(){return this.displayName;}getTooltip(){return this.column.getColDef().headerTooltip;}addAdditionalAriaInstructions(ariaInstructions,translate){var isSortSuppressed=this.gos.get(\"rowGroupPanelSuppressSort\");var isFunctionsReadOnly=this.gos.get(\"functionsReadOnly\");if(this.isAggregationZone()&&!isFunctionsReadOnly){var aggregationMenuAria=translate(\"ariaDropZoneColumnValueItemDescription\",\"Press ENTER to change the aggregation type\");ariaInstructions.push(aggregationMenuAria);}if(this.isGroupingZone()&&this.column.isSortable()&&!isSortSuppressed){var sortProgressAria=translate(\"ariaDropZoneColumnGroupItemDescription\",\"Press ENTER to sort\");ariaInstructions.push(sortProgressAria);}super.addAdditionalAriaInstructions(ariaInstructions,translate);}isMovable(){return this.isDraggable();}isDraggable(){return this.isReadOnly();}isRemovable(){return this.isReadOnly();}isReadOnly(){return!this.isGroupingAndLocked()&&!this.gos.get(\"functionsReadOnly\");}getAriaDisplayName(){var translate=this.getLocaleTextFunc();var{name,aggFuncName}=this.getColumnAndAggFuncName();var aggSeparator=translate(\"ariaDropZoneColumnComponentAggFuncSeparator\",\" of \");var sortDirection={asc:translate(\"ariaDropZoneColumnComponentSortAscending\",\"ascending\"),desc:translate(\"ariaDropZoneColumnComponentSortDescending\",\"descending\")};var columnSort=this.column.getSort();var isSortSuppressed=this.gos.get(\"rowGroupPanelSuppressSort\");return[aggFuncName&&\"\".concat(aggFuncName).concat(aggSeparator),name,this.isGroupingZone()&&!isSortSuppressed&&columnSort&&\", \".concat(sortDirection[columnSort])].filter(part=>!!part).join(\"\");}getColumnAndAggFuncName(){var name=this.displayName;var aggFuncName=\"\";if(this.isAggregationZone()){var aggFunc=this.column.getAggFunc();var aggFuncString=typeof aggFunc===\"string\"?aggFunc:\"agg\";var localeTextFunc=this.getLocaleTextFunc();aggFuncName=localeTextFunc(aggFuncString,aggFuncString);}return{name,aggFuncName};}setupSort(){if(!this.column.isSortable()||!this.isGroupingZone()){return;}if(!this.gos.get(\"rowGroupPanelSuppressSort\")){this.eSortIndicator.setupSort(this.column,true);var performSort=event=>{event.preventDefault();this.beans.sortSvc.progressSortFromEvent(this.column,event);};this.addGuiEventListener(\"click\",performSort);this.addGuiEventListener(\"keydown\",e=>{var isEnter=e.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.ENTER;if(isEnter&&this.isGroupingZone()){performSort(e);}});}}getDefaultIconName(){return\"hide\";}createGetDragItem(){var{column}=this;return()=>{var visibleState={};visibleState[column.getId()]=column.isVisible();return{columns:[column],visibleState};};}setupComponents(){super.setupComponents();if(this.isAggregationZone()&&!this.gos.get(\"functionsReadOnly\")){this.addGuiEventListener(\"click\",this.onShowAggFuncSelection.bind(this));}}onKeyDown(e){super.onKeyDown(e);var isEnter=e.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.ENTER;if(isEnter&&this.isAggregationZone()&&!this.gos.get(\"functionsReadOnly\")){e.preventDefault();this.onShowAggFuncSelection();}}getDisplayValue(){var{name,aggFuncName}=this.getColumnAndAggFuncName();return this.isAggregationZone()?\"\".concat(aggFuncName,\"(\").concat(name,\")\"):name;}onShowAggFuncSelection(){if(this.popupShowing){return;}this.popupShowing=true;var{aggFuncSvc,popupSvc}=this.beans;var virtualList=new VirtualList({cssIdentifier:\"select-agg-func\"});var rows=aggFuncSvc.getFuncNames(this.column);var eGui=this.getGui();var virtualListGui=virtualList.getGui();virtualList.setModel({getRow:function getRow(index){return rows[index];},getRowCount:function getRowCount(){return rows.length;}});this.createBean(virtualList);var ePopup=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createElement)({tag:\"div\",cls:\"ag-select-agg-func-popup\"});ePopup.style.top=\"0px\";ePopup.style.left=\"0px\";ePopup.appendChild(virtualListGui);ePopup.style.width=\"\".concat(eGui.clientWidth,\"px\");var[focusoutListener]=this.addManagedElementListeners(ePopup,{focusout:e=>{if(!ePopup.contains(e.relatedTarget)&&addPopupRes){addPopupRes.hideFunc();}}});var popupHiddenFunc=callbackEvent=>{this.destroyBean(virtualList);this.popupShowing=false;if((callbackEvent===null||callbackEvent===void 0?void 0:callbackEvent.key)===\"Escape\"){eGui.focus();}if(focusoutListener){focusoutListener();}};var translate=this.getLocaleTextFunc();var addPopupRes=popupSvc.addPopup({modal:true,eChild:ePopup,closeOnEsc:true,closedCallback:popupHiddenFunc,ariaLabel:translate(\"ariaLabelAggregationFunction\",\"Aggregation Function\")});if(addPopupRes){virtualList.setComponentCreator(this.createAggSelect.bind(this,addPopupRes.hideFunc));}virtualList.addGuiEventListener(\"keydown\",e=>{if(e.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.ENTER||e.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.SPACE){var row=virtualList.getLastFocusedRow();if(row==null){return;}var comp=virtualList.getComponentAt(row);if(comp){comp.selectItem();}}});popupSvc.positionPopupByComponent({type:\"aggFuncSelect\",eventSource:eGui,ePopup,keepWithinBounds:true,column:this.column,position:\"under\"});virtualList.refresh();var rowToFocus=rows.findIndex(r=>r===this.column.getAggFunc());if(rowToFocus===-1){rowToFocus=0;}virtualList.focusRow(rowToFocus);}createAggSelect(hidePopup,value){var itemSelected=()=>{var _this$beans$valueCols,_this$beans$valueCols2;hidePopup();this.getGui().focus();(_this$beans$valueCols=this.beans.valueColsSvc)===null||_this$beans$valueCols===void 0||(_this$beans$valueCols2=_this$beans$valueCols.setColumnAggFunc)===null||_this$beans$valueCols2===void 0||_this$beans$valueCols2.call(_this$beans$valueCols,this.column,value,\"toolPanelDragAndDrop\");};var localeTextFunc=this.getLocaleTextFunc();var aggFuncString=value.toString();var aggFuncStringTranslated=localeTextFunc(aggFuncString,aggFuncString);var comp=new AggItemComp(itemSelected,aggFuncStringTranslated);return comp;}isGroupingAndLocked(){return this.isGroupingZone()&&isRowGroupColLocked(this.column,this.beans);}isAggregationZone(){return this.dropZonePurpose===\"aggregation\";}isGroupingZone(){return this.dropZonePurpose===\"rowGroup\";}getDragSourceType(){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.DragSourceType.ToolPanel;}destroy(){super.destroy();this.column=null;}};var AggItemComp=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(itemSelected,value){super({tag:\"div\",cls:\"ag-select-agg-func-item\",children:value});this.selectItem=itemSelected;this.addGuiEventListener(\"click\",this.selectItem);}};// packages/ag-grid-enterprise/src/rowGrouping/columnDropZones/baseDropZonePanel.ts\nvar BaseDropZonePanel=class extends PillDropZonePanel{constructor(horizontal,dropZonePurpose){super(horizontal);this.dropZonePurpose=dropZonePurpose;this.addElementClasses(this.getGui(),this.dropZonePurpose.toLowerCase());}init(params){super.init(params);this.addManagedEventListeners({newColumnsLoaded:this.refreshGui.bind(this)});this.addManagedPropertyListeners([\"functionsReadOnly\",\"rowGroupPanelSuppressSort\",\"groupLockGroupColumns\"],this.refreshGui.bind(this));}getItems(dragItem){var _dragItem$columns;return(_dragItem$columns=dragItem.columns)!==null&&_dragItem$columns!==void 0?_dragItem$columns:[];}isInterestedIn(type){return type===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.DragSourceType.HeaderCell||type===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.DragSourceType.ToolPanel;}minimumAllowedNewInsertIndex(){var _rowGroupColsSvc$colu;var{gos,rowGroupColsSvc}=this.beans;var numberOfLockedCols=gos.get(\"groupLockGroupColumns\");var numberOfGroupCols=(_rowGroupColsSvc$colu=rowGroupColsSvc===null||rowGroupColsSvc===void 0?void 0:rowGroupColsSvc.columns.length)!==null&&_rowGroupColsSvc$colu!==void 0?_rowGroupColsSvc$colu:0;if(numberOfLockedCols===-1){return numberOfGroupCols;}return Math.min(numberOfLockedCols,numberOfGroupCols);}showOrHideColumnOnExit(draggingEvent){return this.isRowGroupPanel()&&(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._shouldUpdateColVisibilityAfterGroup)(this.gos,true)&&!draggingEvent.fromNudge;}handleDragEnterEnd(draggingEvent){var hideColumnOnExit=this.showOrHideColumnOnExit(draggingEvent);if(hideColumnOnExit){var dragItem=draggingEvent.dragSource.getDragItem();var columns=dragItem.columns;this.setColumnsVisible(columns,false,\"uiColumnDragged\");}}handleDragLeaveEnd(draggingEvent){var showColumnOnExit=this.showOrHideColumnOnExit(draggingEvent);if(showColumnOnExit){var dragItem=draggingEvent.dragSource.getDragItem();this.setColumnsVisible(dragItem.columns,true,\"uiColumnDragged\");}}setColumnsVisible(columns,visible,source){if(columns){var allowedCols=columns.filter(c=>!c.getColDef().lockVisible);this.beans.colModel.setColsVisible(allowedCols,visible,source);}}isRowGroupPanel(){return this.dropZonePurpose===\"rowGroup\";}createPillComponent(column,dropTarget,ghost,horizontal){return new DropZoneColumnComp(column,dropTarget,ghost,this.dropZonePurpose,horizontal);}};// packages/ag-grid-enterprise/src/rowGrouping/columnDropZones/pivotDropZonePanel.ts\nvar PivotDropZonePanel=class extends BaseDropZonePanel{constructor(horizontal){super(horizontal,\"pivot\");}postConstruct(){var localeTextFunc=this.getLocaleTextFunc();var emptyMessage=localeTextFunc(\"pivotColumnsEmptyMessage\",\"Drag here to set column labels\");var title=localeTextFunc(\"pivots\",\"Column Labels\");super.init({icon:(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createIconNoSpan)(\"pivotPanel\",this.beans,null),emptyMessage,title});this.addManagedEventListeners({newColumnsLoaded:this.refresh.bind(this),columnPivotChanged:this.refresh.bind(this),columnPivotModeChanged:this.checkVisibility.bind(this)});this.refresh();}getAriaLabel(){var translate=this.getLocaleTextFunc();var label=translate(\"ariaPivotDropZonePanelLabel\",\"Column Labels\");return label;}refresh(){this.checkVisibility();this.refreshGui();}checkVisibility(){var colModel=this.beans.colModel;var pivotMode=colModel.isPivotMode();if(this.horizontal){switch(this.gos.get(\"pivotPanelShow\")){case\"always\":this.setDisplayed(pivotMode);break;case\"onlyWhenPivoting\":{var pivotActive=colModel.isPivotActive();this.setDisplayed(pivotMode&&pivotActive);break;}default:this.setDisplayed(false);break;}}else{this.setDisplayed(pivotMode);}}isItemDroppable(column,draggingEvent){if(this.gos.get(\"functionsReadOnly\")||!column.isPrimary()){return false;}return column.isAllowPivot()&&(!column.isPivotActive()||this.isSourceEventFromTarget(draggingEvent));}updateItems(columns){var _this$beans$pivotCols;(_this$beans$pivotCols=this.beans.pivotColsSvc)===null||_this$beans$pivotCols===void 0||_this$beans$pivotCols.setColumns(columns,\"toolPanelUi\");}getIconName(){return this.isPotentialDndItems()?\"pivot\":\"notAllowed\";}getExistingItems(){var _this$beans$pivotCols2,_this$beans$pivotCols3;return(_this$beans$pivotCols2=(_this$beans$pivotCols3=this.beans.pivotColsSvc)===null||_this$beans$pivotCols3===void 0?void 0:_this$beans$pivotCols3.columns)!==null&&_this$beans$pivotCols2!==void 0?_this$beans$pivotCols2:[];}};// packages/ag-grid-enterprise/src/rowGrouping/columnDropZones/rowGroupDropZonePanel.ts\nvar RowGroupDropZonePanel=class extends BaseDropZonePanel{constructor(horizontal){super(horizontal,\"rowGroup\");}postConstruct(){var localeTextFunc=this.getLocaleTextFunc();var emptyMessage=localeTextFunc(\"rowGroupColumnsEmptyMessage\",\"Drag here to set row groups\");var title=localeTextFunc(\"groups\",\"Row Groups\");super.init({icon:(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createIconNoSpan)(\"rowGroupPanel\",this.beans,null),emptyMessage,title});this.addManagedEventListeners({columnRowGroupChanged:this.refreshGui.bind(this)});}getAriaLabel(){var translate=this.getLocaleTextFunc();var label=translate(\"ariaRowGroupDropZonePanelLabel\",\"Row Groups\");return label;}isItemDroppable(column,draggingEvent){if(this.gos.get(\"functionsReadOnly\")||!column.isPrimary()||column.colDef.showRowGroup){return false;}return column.isAllowRowGroup()&&(!column.isRowGroupActive()||this.isSourceEventFromTarget(draggingEvent));}updateItems(columns){var _this$beans$rowGroupC;(_this$beans$rowGroupC=this.beans.rowGroupColsSvc)===null||_this$beans$rowGroupC===void 0||_this$beans$rowGroupC.setColumns(columns,\"toolPanelUi\");}getIconName(){return this.isPotentialDndItems()?\"group\":\"notAllowed\";}getExistingItems(){var _this$beans$rowGroupC2,_this$beans$rowGroupC3;return(_this$beans$rowGroupC2=(_this$beans$rowGroupC3=this.beans.rowGroupColsSvc)===null||_this$beans$rowGroupC3===void 0?void 0:_this$beans$rowGroupC3.columns)!==null&&_this$beans$rowGroupC2!==void 0?_this$beans$rowGroupC2:[];}};// packages/ag-grid-enterprise/src/rowGrouping/columnDropZones/valueDropZonePanel.ts\nvar ValuesDropZonePanel=class extends BaseDropZonePanel{constructor(horizontal){super(horizontal,\"aggregation\");}postConstruct(){var localeTextFunc=this.getLocaleTextFunc();var emptyMessage=localeTextFunc(\"valueColumnsEmptyMessage\",\"Drag here to aggregate\");var title=localeTextFunc(\"values\",\"Values\");super.init({icon:(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createIconNoSpan)(\"valuePanel\",this.beans,null),emptyMessage,title});this.addManagedEventListeners({columnValueChanged:this.refreshGui.bind(this)});}getAriaLabel(){var translate=this.getLocaleTextFunc();var label=translate(\"ariaValuesDropZonePanelLabel\",\"Values\");return label;}getIconName(){return this.isPotentialDndItems()?\"aggregate\":\"notAllowed\";}isItemDroppable(column,draggingEvent){if(this.gos.get(\"functionsReadOnly\")||!column.isPrimary()){return false;}return column.isAllowValue()&&(!column.isValueActive()||this.isSourceEventFromTarget(draggingEvent));}updateItems(columns){var _this$beans$valueCols3;(_this$beans$valueCols3=this.beans.valueColsSvc)===null||_this$beans$valueCols3===void 0||_this$beans$valueCols3.setColumns(columns,\"toolPanelUi\");}getExistingItems(){var _this$beans$valueCols4,_this$beans$valueCols5;return(_this$beans$valueCols4=(_this$beans$valueCols5=this.beans.valueColsSvc)===null||_this$beans$valueCols5===void 0?void 0:_this$beans$valueCols5.columns)!==null&&_this$beans$valueCols4!==void 0?_this$beans$valueCols4:[];}};// packages/ag-grid-enterprise/src/columnToolPanel/pivotModePanel.ts\nvar PivotModePanelElement={tag:\"div\",cls:\"ag-pivot-mode-panel\",children:[{tag:\"ag-toggle-button\",ref:\"cbPivotMode\",cls:\"ag-pivot-mode-select\"}]};var PivotModePanel=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(){super(...arguments);this.cbPivotMode=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;}postConstruct(){this.setTemplate(PivotModePanelElement,[ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgToggleButtonSelector]);var cbPivotMode=this.cbPivotMode;var{colModel,ctrlsSvc,gos}=this.beans;cbPivotMode.setValue(colModel.isPivotMode());var localeTextFunc=this.getLocaleTextFunc();cbPivotMode.setLabel(localeTextFunc(\"pivotMode\",\"Pivot Mode\"));var onBtPivotMode=()=>{var newValue=!!cbPivotMode.getValue();if(newValue!==colModel.isPivotMode()){gos.updateGridOptions({options:{pivotMode:newValue},source:\"toolPanelUi\"});ctrlsSvc.getHeaderRowContainerCtrls().forEach(c=>c.refresh());}};var onPivotModeChanged=()=>{var pivotModeActive=colModel.isPivotMode();cbPivotMode.setValue(pivotModeActive);};this.addManagedListeners(cbPivotMode,{fieldValueChanged:onBtPivotMode});this.addManagedEventListeners({newColumnsLoaded:onPivotModeChanged,columnPivotModeChanged:onPivotModeChanged});}};// packages/ag-grid-enterprise/src/columnToolPanel/columnToolPanelFactory.ts\nvar ColumnToolPanelFactory=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BeanStub{constructor(){super(...arguments);this.beanName=\"colToolPanelFactory\";}setPanelVisible(existingPanel,visible,createFunc){if(existingPanel){existingPanel.setDisplayed(visible);}else if(visible){existingPanel=createFunc();}return existingPanel;}createRowGroupPanel(parent,destroyFuncs){return this.createPanel(parent,destroyFuncs,new RowGroupDropZonePanel(false));}createValuesPanel(parent,destroyFuncs){return this.createPanel(parent,destroyFuncs,new ValuesDropZonePanel(false));}createPivotPanel(parent,destroyFuncs){return this.createPanel(parent,destroyFuncs,new PivotDropZonePanel(false));}createPivotModePanel(parent,destroyFuncs,prepend){return this.createPanel(parent,destroyFuncs,new PivotModePanel(),prepend);}createPanel(parent,destroyFuncs,panel,prepend){panel=parent.createBean(panel);destroyFuncs.push(()=>parent.destroyBean(panel));if(prepend){parent.prependChild(panel);}else{parent.appendChild(panel);}return panel;}};// packages/ag-grid-enterprise/src/columnToolPanel/columnsToolPanelModule.ts\nvar ColumnsToolPanelModule={moduleName:\"ColumnsToolPanel\",version:VERSION,beans:[ColumnToolPanelFactory],userComponents:{agColumnsToolPanel:ColumnToolPanel},icons:{ensureColumnVisible:\"column-arrow\",// column tool panel tab\ncolumnsToolPanel:\"columns\",// \"Group by {column-name}\" item in column header menu\nmenuAddRowGroup:\"group\",// \"Un-Group by {column-name}\" item in column header menu\nmenuRemoveRowGroup:\"group\",// identifies the pivot drop zone\npivotPanel:\"pivot\",// \"Row groups\" drop zone in column tool panel\nrowGroupPanel:\"group\",// columns tool panel Values drop zone\nvaluePanel:\"aggregation\",// column tool panel column group contracted (click to expand)\ncolumnSelectClosed:\"tree-closed\",// column tool panel column group expanded (click to contract)\ncolumnSelectOpen:\"tree-open\",// column tool panel header expand/collapse all button, shown when some children are expanded and\n//     others are collapsed\ncolumnSelectIndeterminate:\"tree-indeterminate\"},dependsOn:[EnterpriseCoreModule,SideBarModule,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._ColumnMoveModule,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._SharedDragAndDropModule,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._PopupModule,MenuItemModule]};// packages/ag-grid-enterprise/src/menu/menuModule.ts\n// packages/ag-grid-enterprise/src/menu/chartMenuItemMapper.ts\nvar ChartMenuItemMapper=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BeanStub{constructor(){super(...arguments);this.beanName=\"chartMenuItemMapper\";}getChartItems(key){var _this$gos$get5;var beans=this.beans;var chartSvc=beans.chartSvc;var isPivot=key===\"pivotChart\";if(!chartSvc){return null;}var getLocaleTextFunc=this.getLocaleTextFunc.bind(this);var builder=isPivot?new PivotMenuItemMapper(beans,chartSvc,getLocaleTextFunc):new RangeMenuItemMapper(beans,chartSvc,getLocaleTextFunc);var isEnterprise=chartSvc.isEnterprise();var topLevelMenuItem=builder.getMenuItem();if(topLevelMenuItem&&topLevelMenuItem.subMenu&&!isEnterprise){var filterEnterpriseItems=m=>{var _m$subMenu;return _objectSpread(_objectSpread({},m),{},{subMenu:(_m$subMenu=m.subMenu)===null||_m$subMenu===void 0?void 0:_m$subMenu.filter(menu=>!menu._enterprise).map(menu=>filterEnterpriseItems(menu))});};topLevelMenuItem=filterEnterpriseItems(topLevelMenuItem);}var chartGroupsDef=(_this$gos$get5=this.gos.get(\"chartToolPanelsDef\"))===null||_this$gos$get5===void 0||(_this$gos$get5=_this$gos$get5.settingsPanel)===null||_this$gos$get5===void 0?void 0:_this$gos$get5.chartGroupsDef;if(chartGroupsDef){topLevelMenuItem=this.filterAndOrderChartMenu(topLevelMenuItem,chartGroupsDef,builder.getConfigLookup());}return this.cleanInternals(topLevelMenuItem);}// Remove our internal _key and _enterprise properties so this does not leak out of the class on the menu items.\ncleanInternals(menuItem){if(!menuItem){return menuItem;}var removeKeys=m=>{var _m$subMenu2;m===null||m===void 0||delete m._key;m===null||m===void 0||delete m._enterprise;m===null||m===void 0||(_m$subMenu2=m.subMenu)===null||_m$subMenu2===void 0||_m$subMenu2.forEach(s=>removeKeys(s));return m;};return removeKeys(menuItem);}buildLookup(menuItem){var itemLookup={};var addItem=item=>{itemLookup[item._key]=item;if(item.subMenu){item.subMenu.forEach(s=>addItem(s));}};addItem(menuItem);return itemLookup;}/**\n   * Make the MenuItem match the charts provided and their ordering on the ChartGroupsDef config object as provided by the user.\n   */filterAndOrderChartMenu(topLevelMenuItem,chartGroupsDef,configLookup){var _orderedAndFiltered$s;var menuItemLookup=this.buildLookup(topLevelMenuItem);var orderedAndFiltered=_objectSpread(_objectSpread({},topLevelMenuItem),{},{subMenu:[]});var _loop3=function _loop3(group){var chartTypes=chartGroupsDef[group];var chartConfigGroup=configLookup[group];if(chartConfigGroup===null)return 0;// continue\nif(chartConfigGroup==void 0){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(173,{group});return 0;// continue\n}var menuItem=menuItemLookup[chartConfigGroup._key];if(menuItem){if(menuItem.subMenu){var subMenus=chartTypes.map(chartType=>{var itemKey=chartConfigGroup[chartType];if(itemKey==void 0){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(174,{group,chartType});return void 0;}return menuItemLookup[itemKey];}).filter(s=>s!==void 0);if(subMenus.length>0){var _orderedAndFiltered$s2;menuItem.subMenu=subMenus;(_orderedAndFiltered$s2=orderedAndFiltered.subMenu)===null||_orderedAndFiltered$s2===void 0||_orderedAndFiltered$s2.push(menuItem);}}else{var _orderedAndFiltered$s3;(_orderedAndFiltered$s3=orderedAndFiltered.subMenu)===null||_orderedAndFiltered$s3===void 0||_orderedAndFiltered$s3.push(menuItem);}}},_ret;for(var group of Object.keys(chartGroupsDef)){_ret=_loop3(group);if(_ret===0)continue;}if(((_orderedAndFiltered$s=orderedAndFiltered.subMenu)===null||_orderedAndFiltered$s===void 0?void 0:_orderedAndFiltered$s.length)==0){return null;}return orderedAndFiltered;}};var PivotMenuItemMapper=class{constructor(beans,chartSvc,getLocaleTextFunc){this.beans=beans;this.chartSvc=chartSvc;this.getLocaleTextFunc=getLocaleTextFunc;}getMenuItem(){var _this7=this;var localeTextFunc=this.getLocaleTextFunc();var getMenuItem=function getMenuItem(localeKey,defaultText,chartType,key){var enterprise=arguments.length>4&&arguments[4]!==undefined?arguments[4]:false;return{// will have a LRM character appended to ensure correct display in RTL languages\nname:localeTextFunc(localeKey,defaultText+\"\\u200E\"),action:()=>_this7.chartSvc.createPivotChart({chartType}),_key:key,_enterprise:enterprise};};return{name:localeTextFunc(\"pivotChart\",\"Pivot Chart\"),_key:\"pivotChart\",subMenu:[{_key:\"pivotColumnChart\",name:localeTextFunc(\"columnChart\",\"Column\"),subMenu:[getMenuItem(\"groupedColumn\",\"Grouped\",\"groupedColumn\",\"pivotGroupedColumn\"),getMenuItem(\"stackedColumn\",\"Stacked\",\"stackedColumn\",\"pivotStackedColumn\"),getMenuItem(\"normalizedColumn\",\"100% Stacked\",\"normalizedColumn\",\"pivotNormalizedColumn\")]},{_key:\"pivotBarChart\",name:localeTextFunc(\"barChart\",\"Bar\"),subMenu:[getMenuItem(\"groupedBar\",\"Grouped\",\"groupedBar\",\"pivotGroupedBar\"),getMenuItem(\"stackedBar\",\"Stacked\",\"stackedBar\",\"pivotStackedBar\"),getMenuItem(\"normalizedBar\",\"100% Stacked\",\"normalizedBar\",\"pivotNormalizedBar\")]},{_key:\"pivotPieChart\",name:localeTextFunc(\"pieChart\",\"Pie\"),subMenu:[getMenuItem(\"pie\",\"Pie\",\"pie\",\"pivotPie\"),getMenuItem(\"donut\",\"Donut\",\"donut\",\"pivotDonut\")]},{_key:\"pivotLineChart\",name:localeTextFunc(\"lineChart\",\"Line\"),subMenu:[getMenuItem(\"lineChart\",\"Line\",\"line\",\"pivotLineChart\"),getMenuItem(\"stackedLine\",\"Stacked\",\"stackedLine\",\"pivotStackedLine\"),getMenuItem(\"normalizedLine\",\"100% Stacked\",\"normalizedLine\",\"pivotNormalizedLine\")]},{_key:\"pivotAreaChart\",name:localeTextFunc(\"areaChart\",\"Area\"),subMenu:[getMenuItem(\"areaChart\",\"Area\",\"area\",\"pivotArea\"),getMenuItem(\"stackedArea\",\"Stacked\",\"stackedArea\",\"pivotStackedArea\"),getMenuItem(\"normalizedArea\",\"100% Stacked\",\"normalizedArea\",\"pivotNormalizedArea\")]},{_key:\"pivotXYChart\",name:localeTextFunc(\"xyChart\",\"X Y (Scatter)\"),subMenu:[getMenuItem(\"scatter\",\"Scatter\",\"scatter\",\"pivotScatter\"),getMenuItem(\"bubble\",\"Bubble\",\"bubble\",\"pivotBubble\")]},{_key:\"pivotStatisticalChart\",_enterprise:false,// histogram chart is available in both community and enterprise distributions\nname:localeTextFunc(\"statisticalChart\",\"Statistical\"),subMenu:[getMenuItem(\"histogramChart\",\"Histogram\",\"histogram\",\"pivotHistogram\",false)]},{_key:\"pivotHierarchicalChart\",_enterprise:true,name:localeTextFunc(\"hierarchicalChart\",\"Hierarchical\"),subMenu:[getMenuItem(\"treemapChart\",\"Treemap\",\"treemap\",\"pivotTreemap\",true),getMenuItem(\"sunburstChart\",\"Sunburst\",\"sunburst\",\"pivotSunburst\",true)]},{_key:\"pivotFunnel\",name:localeTextFunc(\"funnel\",\"Funnel\"),subMenu:[getMenuItem(\"funnel\",\"Funnel\",\"funnel\",\"pivotFunnel\"),getMenuItem(\"coneFunnel\",\"Cone Funnel\",\"coneFunnel\",\"pivotConeFunnel\"),getMenuItem(\"pyramid\",\"Pyramid\",\"pyramid\",\"pivotPyramid\")]},{_key:\"pivotCombinationChart\",name:localeTextFunc(\"combinationChart\",\"Combination\"),subMenu:[getMenuItem(\"columnLineCombo\",\"Column & Line\",\"columnLineCombo\",\"pivotColumnLineCombo\"),getMenuItem(\"AreaColumnCombo\",\"Area & Column\",\"areaColumnCombo\",\"pivotAreaColumnCombo\")]}],icon:(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createIconNoSpan)(\"chart\",this.beans,void 0)};}getConfigLookup(){return{columnGroup:{_key:\"pivotColumnChart\",column:\"pivotGroupedColumn\",stackedColumn:\"pivotStackedColumn\",normalizedColumn:\"pivotNormalizedColumn\"},barGroup:{_key:\"pivotBarChart\",bar:\"pivotGroupedBar\",stackedBar:\"pivotStackedBar\",normalizedBar:\"pivotNormalizedBar\"},pieGroup:{_key:\"pivotPieChart\",pie:\"pivotPie\",donut:\"pivotDonut\",doughnut:\"pivotDonut\"},lineGroup:{_key:\"pivotLineChart\",line:\"pivotLineChart\",stackedLine:\"pivotStackedLine\",normalizedLine:\"pivotNormalizedLine\"},areaGroup:{_key:\"pivotAreaChart\",area:\"pivotArea\",stackedArea:\"pivotStackedArea\",normalizedArea:\"pivotNormalizedArea\"},scatterGroup:{_key:\"pivotXYChart\",bubble:\"pivotBubble\",scatter:\"pivotScatter\"},combinationGroup:{_key:\"pivotCombinationChart\",columnLineCombo:\"pivotColumnLineCombo\",areaColumnCombo:\"pivotAreaColumnCombo\",customCombo:null// Not currently supported\n},hierarchicalGroup:{_key:\"pivotHierarchicalChart\",treemap:\"pivotTreemap\",sunburst:\"pivotSunburst\"},statisticalGroup:{_key:\"pivotStatisticalChart\",histogram:\"pivotHistogram\",// Some statistical charts do not currently support pivot mode\nrangeBar:null,rangeArea:null,boxPlot:null},funnelGroup:{_key:\"pivotFunnel\",funnel:\"pivotFunnel\",coneFunnel:\"pivotConeFunnel\",pyramid:\"pivotPyramid\"},// Polar charts do not support pivot mode\npolarGroup:null,// Specialized charts do not currently support pivot mode\nspecializedGroup:null};}};var RangeMenuItemMapper=class{constructor(beans,chartSvc,getLocaleTextFunc){this.beans=beans;this.chartSvc=chartSvc;this.getLocaleTextFunc=getLocaleTextFunc;}getMenuItem(){var _this8=this;var localeTextFunc=this.getLocaleTextFunc();var getMenuItem=function getMenuItem(localeKey,defaultText,chartType,key){var enterprise=arguments.length>4&&arguments[4]!==undefined?arguments[4]:false;return{name:localeTextFunc(localeKey,defaultText),action:()=>_this8.chartSvc.createChartFromCurrentRange(chartType),_key:key,_enterprise:enterprise};};return{name:localeTextFunc(\"chartRange\",\"Chart Range\"),_key:\"chartRange\",subMenu:[{name:localeTextFunc(\"columnChart\",\"Column\"),subMenu:[getMenuItem(\"groupedColumn\",\"Grouped\",\"groupedColumn\",\"rangeGroupedColumn\"),getMenuItem(\"stackedColumn\",\"Stacked\",\"stackedColumn\",\"rangeStackedColumn\"),getMenuItem(\"normalizedColumn\",\"100% Stacked\",\"normalizedColumn\",\"rangeNormalizedColumn\")],_key:\"rangeColumnChart\"},{name:localeTextFunc(\"barChart\",\"Bar\"),subMenu:[getMenuItem(\"groupedBar\",\"Grouped\",\"groupedBar\",\"rangeGroupedBar\"),getMenuItem(\"stackedBar\",\"Stacked\",\"stackedBar\",\"rangeStackedBar\"),getMenuItem(\"normalizedBar\",\"100% Stacked\",\"normalizedBar\",\"rangeNormalizedBar\")],_key:\"rangeBarChart\"},{name:localeTextFunc(\"pieChart\",\"Pie\"),subMenu:[getMenuItem(\"pie\",\"Pie\",\"pie\",\"rangePie\"),getMenuItem(\"donut\",\"Donut\",\"donut\",\"rangeDonut\")],_key:\"rangePieChart\"},{name:localeTextFunc(\"lineChart\",\"Line\"),subMenu:[getMenuItem(\"lineChart\",\"Line\",\"line\",\"rangeLineChart\"),getMenuItem(\"stackedLine\",\"Stacked\",\"stackedLine\",\"rangeStackedLine\"),getMenuItem(\"normalizedLine\",\"100% Stacked\",\"normalizedLine\",\"rangeNormalizedLine\")],_key:\"rangeLineChart\"},{name:localeTextFunc(\"areaChart\",\"Area\"),subMenu:[getMenuItem(\"areaChart\",\"Area\",\"area\",\"rangeArea\"),getMenuItem(\"stackedArea\",\"Stacked\",\"stackedArea\",\"rangeStackedArea\"),getMenuItem(\"normalizedArea\",\"100% Stacked\",\"normalizedArea\",\"rangeNormalizedArea\")],_key:\"rangeAreaChart\"},{name:localeTextFunc(\"xyChart\",\"X Y (Scatter)\"),subMenu:[getMenuItem(\"scatter\",\"Scatter\",\"scatter\",\"rangeScatter\"),getMenuItem(\"bubble\",\"Bubble\",\"bubble\",\"rangeBubble\")],_key:\"rangeXYChart\"},{name:localeTextFunc(\"polarChart\",\"Polar\"),subMenu:[getMenuItem(\"radarLine\",\"Radar Line\",\"radarLine\",\"rangeRadarLine\"),getMenuItem(\"radarArea\",\"Radar Area\",\"radarArea\",\"rangeRadarArea\"),getMenuItem(\"nightingale\",\"Nightingale\",\"nightingale\",\"rangeNightingale\"),getMenuItem(\"radialColumn\",\"Radial Column\",\"radialColumn\",\"rangeRadialColumn\"),getMenuItem(\"radialBar\",\"Radial Bar\",\"radialBar\",\"rangeRadialBar\")],_key:\"rangePolarChart\",_enterprise:true},{name:localeTextFunc(\"statisticalChart\",\"Statistical\"),subMenu:[getMenuItem(\"boxPlot\",\"Box Plot\",\"boxPlot\",\"rangeBoxPlot\",true),getMenuItem(\"histogramChart\",\"Histogram\",\"histogram\",\"rangeHistogram\",false),getMenuItem(\"rangeBar\",\"Range Bar\",\"rangeBar\",\"rangeRangeBar\",true),getMenuItem(\"rangeArea\",\"Range Area\",\"rangeArea\",\"rangeRangeArea\",true)],_key:\"rangeStatisticalChart\",_enterprise:false// histogram chart is available in both community and enterprise distributions\n},{name:localeTextFunc(\"hierarchicalChart\",\"Hierarchical\"),subMenu:[getMenuItem(\"treemap\",\"Treemap\",\"treemap\",\"rangeTreemap\"),getMenuItem(\"sunburst\",\"Sunburst\",\"sunburst\",\"rangeSunburst\")],_key:\"rangeHierarchicalChart\",_enterprise:true},{name:localeTextFunc(\"specializedChart\",\"Specialized\"),subMenu:[getMenuItem(\"heatmap\",\"Heatmap\",\"heatmap\",\"rangeHeatmap\"),getMenuItem(\"waterfall\",\"Waterfall\",\"waterfall\",\"rangeWaterfall\")],_key:\"rangeSpecializedChart\",_enterprise:true},{name:localeTextFunc(\"funnel\",\"Funnel\"),subMenu:[getMenuItem(\"funnel\",\"Funnel\",\"funnel\",\"rangeFunnel\"),getMenuItem(\"coneFunnel\",\"Cone Funnel\",\"coneFunnel\",\"rangeConeFunnel\"),getMenuItem(\"pyramid\",\"Pyramid\",\"pyramid\",\"rangePyramid\")],_key:\"rangeFunnel\",_enterprise:true},{name:localeTextFunc(\"combinationChart\",\"Combination\"),subMenu:[getMenuItem(\"columnLineCombo\",\"Column & Line\",\"columnLineCombo\",\"rangeColumnLineCombo\"),getMenuItem(\"AreaColumnCombo\",\"Area & Column\",\"areaColumnCombo\",\"rangeAreaColumnCombo\")],_key:\"rangeCombinationChart\"}],icon:(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createIconNoSpan)(\"chart\",this.beans,void 0)};}getConfigLookup(){return{columnGroup:{_key:\"rangeColumnChart\",column:\"rangeGroupedColumn\",stackedColumn:\"rangeStackedColumn\",normalizedColumn:\"rangeNormalizedColumn\"},barGroup:{_key:\"rangeBarChart\",bar:\"rangeGroupedBar\",stackedBar:\"rangeStackedBar\",normalizedBar:\"rangeNormalizedBar\"},pieGroup:{_key:\"rangePieChart\",pie:\"rangePie\",donut:\"rangeDonut\",doughnut:\"rangeDonut\"},lineGroup:{_key:\"rangeLineChart\",line:\"rangeLineChart\",stackedLine:\"rangeStackedLine\",normalizedLine:\"rangeNormalizedLine\"},areaGroup:{_key:\"rangeAreaChart\",area:\"rangeArea\",stackedArea:\"rangeStackedArea\",normalizedArea:\"rangeNormalizedArea\"},scatterGroup:{_key:\"rangeXYChart\",bubble:\"rangeBubble\",scatter:\"rangeScatter\"},polarGroup:{_key:\"rangePolarChart\",radarLine:\"rangeRadarLine\",radarArea:\"rangeRadarArea\",nightingale:\"rangeNightingale\",radialColumn:\"rangeRadialColumn\",radialBar:\"rangeRadialBar\"},statisticalGroup:{_key:\"rangeStatisticalChart\",boxPlot:\"rangeBoxPlot\",histogram:\"rangeHistogram\",rangeBar:\"rangeRangeBar\",rangeArea:\"rangeRangeArea\"},hierarchicalGroup:{_key:\"rangeHierarchicalChart\",treemap:\"rangeTreemap\",sunburst:\"rangeSunburst\"},specializedGroup:{_key:\"rangeSpecializedChart\",heatmap:\"rangeHeatmap\",waterfall:\"rangeWaterfall\"},funnelGroup:{_key:\"rangeFunnel\",funnel:\"rangeFunnel\",coneFunnel:\"rangeConeFunnel\",pyramid:\"rangePyramid\"},combinationGroup:{_key:\"rangeCombinationChart\",columnLineCombo:\"rangeColumnLineCombo\",areaColumnCombo:\"rangeAreaColumnCombo\",customCombo:null// Not currently supported\n}};}};// packages/ag-grid-enterprise/src/menu/columnChooserFactory.ts\nvar ColumnChooserFactory=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BeanStub{constructor(){super(...arguments);this.beanName=\"colChooserFactory\";}createColumnSelectPanel(parent,column,draggable,params){var _ref35;var columnSelectPanel=parent.createManagedBean(new AgPrimaryCols());var columnChooserParams=(_ref35=params!==null&&params!==void 0?params:column===null||column===void 0?void 0:column.getColDef().columnChooserParams)!==null&&_ref35!==void 0?_ref35:{};var{contractColumnSelection,suppressColumnExpandAll,suppressColumnFilter,suppressColumnSelectAll,suppressSyncLayoutWithGrid,columnLayout}=columnChooserParams;columnSelectPanel.init(!!draggable,(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._addGridCommonParams)(this.gos,{suppressColumnMove:false,suppressValues:false,suppressPivots:false,suppressRowGroups:false,suppressPivotMode:false,contractColumnSelection:!!contractColumnSelection,suppressColumnExpandAll:!!suppressColumnExpandAll,suppressColumnFilter:!!suppressColumnFilter,suppressColumnSelectAll:!!suppressColumnSelectAll,suppressSyncLayoutWithGrid:!!columnLayout||!!suppressSyncLayoutWithGrid,onStateUpdated:()=>{}}),\"columnMenu\");if(columnLayout){columnSelectPanel.setColumnLayout(columnLayout);}return columnSelectPanel;}showColumnChooser(_ref36){var _ref37,_focusSvc$focusedHead;var{column,chooserParams,eventSource,headerPosition:providedHeaderPosition}=_ref36;this.hideActiveColumnChooser();var columnSelectPanel=this.createColumnSelectPanel(this,column,true,chooserParams);var translate=this.getLocaleTextFunc();var beans=this.beans;var{visibleCols,focusSvc,menuUtils}=beans;var columnIndex=visibleCols.allCols.indexOf(column);var headerPosition=column?(_ref37=(_focusSvc$focusedHead=focusSvc.focusedHeader)!==null&&_focusSvc$focusedHead!==void 0?_focusSvc$focusedHead:providedHeaderPosition)!==null&&_ref37!==void 0?_ref37:null:null;this.activeColumnChooserDialog=this.createBean(new AgDialog({title:translate(\"chooseColumns\",\"Choose Columns\"),component:columnSelectPanel,width:300,height:300,resizable:true,movable:true,centered:true,closable:true,afterGuiAttached:()=>{var _findNextFocusableEle2;(_findNextFocusableEle2=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._findNextFocusableElement)(beans,columnSelectPanel.getGui()))===null||_findNextFocusableEle2===void 0||_findNextFocusableEle2.focus({preventScroll:true});this.dispatchVisibleChangedEvent(true,column);},closedCallback:event=>{var eComp=this.activeColumnChooser.getGui();this.destroyBean(this.activeColumnChooser);this.activeColumnChooser=void 0;this.activeColumnChooserDialog=void 0;this.dispatchVisibleChangedEvent(false,column);if(column){menuUtils.restoreFocusOnClose({column,headerPosition,columnIndex,eventSource},eComp,event,true);}},postProcessPopupParams:{type:\"columnChooser\",column,eventSource}}));this.activeColumnChooser=columnSelectPanel;}hideActiveColumnChooser(){this.destroyBean(this.activeColumnChooserDialog);}dispatchVisibleChangedEvent(visible,column){this.eventSvc.dispatchEvent({type:\"columnMenuVisibleChanged\",visible,switchingTab:false,key:\"columnChooser\",column:column!==null&&column!==void 0?column:null});}};// packages/ag-grid-enterprise/src/menu/columnMenuFactory.ts\n// packages/ag-grid-enterprise/src/menu/menuItemMapper.ts\n// packages/ag-grid-enterprise/src/menu/menuItemValidations.ts\nvar MENU_ITEM_MODULES={pinSubMenu:\"PinnedColumn\",pinLeft:\"PinnedColumn\",pinRight:\"PinnedColumn\",clearPinned:\"PinnedColumn\",pinRowSubMenu:\"PinnedRow\",pinBottom:\"PinnedRow\",pinTop:\"PinnedRow\",unpinRow:\"PinnedRow\",valueAggSubMenu:\"SharedAggregation\",autoSizeThis:\"ColumnAutoSize\",autoSizeAll:\"ColumnAutoSize\",rowGroup:\"SharedRowGrouping\",rowUnGroup:\"SharedRowGrouping\",resetColumns:\"CommunityCore\",expandAll:[\"ClientSideRowModelHierarchy\",\"ServerSideRowModel\"],contractAll:[\"ClientSideRowModelHierarchy\",\"ServerSideRowModel\"],copy:\"Clipboard\",copyWithHeaders:\"Clipboard\",copyWithGroupHeaders:\"Clipboard\",cut:\"Clipboard\",paste:\"Clipboard\",export:[\"CsvExport\",\"ExcelExport\"],csvExport:\"CsvExport\",excelExport:\"ExcelExport\",separator:\"CommunityCore\",pivotChart:\"IntegratedCharts\",chartRange:\"IntegratedCharts\",columnFilter:\"ColumnFilter\",columnChooser:\"ColumnMenu\",sortAscending:\"Sort\",sortDescending:\"Sort\",sortUnSort:\"Sort\"};function validateMenuItem(gos,key){var moduleName4=MENU_ITEM_MODULES[key];if(moduleName4){gos.assertModuleRegistered(moduleName4,\"menu item '\".concat(key,\"'\"));}}// packages/ag-grid-enterprise/src/menu/menuItemMapper.ts\nvar MENU_ITEM_SEPARATOR=\"separator\";function _removeRepeatsFromArray(array,object){if(!array){return;}for(var index=array.length-2;index>=0;index--){var thisOneMatches=array[index]===object;var nextOneMatches=array[index+1]===object;if(thisOneMatches&&nextOneMatches){array.splice(index+1,1);}}}var MenuItemMapper=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BeanStub{constructor(){super(...arguments);this.beanName=\"menuItemMapper\";}mapWithStockItems(originalList,column,node,sourceElement,source){if(!originalList){return[];}var resultList=[];var localeTextFunc=this.getLocaleTextFunc();var{beans,gos}=this;var{pinnedCols,colAutosize,aggFuncSvc,rowGroupColsSvc,colNames,colModel,clipboardSvc,expansionSvc,focusSvc,csvCreator,excelCreator,menuSvc,colChooserFactory,sortSvc,chartMenuItemMapper,valueColsSvc,pinnedRowModel}=beans;var getStockMenuItem=(key,column2,sourceElement2,source2)=>{validateMenuItem(gos,key);switch(key){case\"pinSubMenu\":return pinnedCols&&column2?{name:localeTextFunc(\"pinColumn\",\"Pin Column\"),icon:(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createIconNoSpan)(\"menuPin\",beans,null),subMenu:[\"clearPinned\",\"pinLeft\",\"pinRight\"]}:null;case\"pinLeft\":return pinnedCols&&column2?{name:localeTextFunc(\"pinLeft\",\"Pin Left\"),action:()=>pinnedCols.setColsPinned([column2],\"left\",source2),checked:!!column2&&column2.isPinnedLeft()}:null;case\"pinRight\":return pinnedCols&&column2?{name:localeTextFunc(\"pinRight\",\"Pin Right\"),action:()=>pinnedCols.setColsPinned([column2],\"right\",source2),checked:!!column2&&column2.isPinnedRight()}:null;case\"clearPinned\":return pinnedCols&&column2?{name:localeTextFunc(\"noPin\",\"No Pin\"),action:()=>pinnedCols.setColsPinned([column2],null,source2),checked:!!column2&&!column2.isPinned()}:null;case\"pinRowSubMenu\":{var _node$rowPinned,_node$pinnedSibling;var enableRowPinning=gos.get(\"enableRowPinning\");var subMenu=[];var pinned=(_node$rowPinned=node===null||node===void 0?void 0:node.rowPinned)!==null&&_node$rowPinned!==void 0?_node$rowPinned:node===null||node===void 0||(_node$pinnedSibling=node.pinnedSibling)===null||_node$pinnedSibling===void 0?void 0:_node$pinnedSibling.rowPinned;if(pinned){subMenu.push(\"unpinRow\");}if(enableRowPinning&&enableRowPinning!==\"bottom\"&&pinned!=\"top\"){subMenu.push(\"pinTop\");}if(enableRowPinning&&enableRowPinning!==\"top\"&&pinned!=\"bottom\"){subMenu.push(\"pinBottom\");}return pinnedRowModel!==null&&pinnedRowModel!==void 0&&pinnedRowModel.isManual()?{name:localeTextFunc(\"pinRow\",\"Pin Row\"),icon:(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createIconNoSpan)(\"rowPin\",beans,column2),subMenu}:null;}case\"pinTop\":return pinnedRowModel!==null&&pinnedRowModel!==void 0&&pinnedRowModel.isManual()?{name:localeTextFunc(\"pinTop\",\"Pin to Top\"),icon:(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createIconNoSpan)(\"rowPinTop\",beans,column2),action:_ref38=>{var{node:node2,column:column3}=_ref38;return node2&&pinnedRowModel.pinRow(node2,\"top\",column3);}}:null;case\"pinBottom\":return pinnedRowModel!==null&&pinnedRowModel!==void 0&&pinnedRowModel.isManual()?{name:localeTextFunc(\"pinBottom\",\"Pin to Bottom\"),icon:(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createIconNoSpan)(\"rowPinBottom\",beans,column2),action:_ref39=>{var{node:node2,column:column3}=_ref39;return node2&&pinnedRowModel.pinRow(node2,\"bottom\",column3);}}:null;case\"unpinRow\":return pinnedRowModel!==null&&pinnedRowModel!==void 0&&pinnedRowModel.isManual()?{name:localeTextFunc(\"unpinRow\",\"Unpin Row\"),icon:(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createIconNoSpan)(\"rowUnpin\",beans,column2),action:_ref40=>{var{node:node2,column:column3}=_ref40;return node2&&pinnedRowModel.pinRow(node2,null,column3);}}:null;case\"valueAggSubMenu\":if(aggFuncSvc&&valueColsSvc&&(column2!==null&&column2!==void 0&&column2.isPrimary()||column2!==null&&column2!==void 0&&column2.getColDef().pivotValueColumn)){return{name:localeTextFunc(\"valueAggregation\",\"Value Aggregation\"),icon:(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createIconNoSpan)(\"menuValue\",beans,null),subMenu:createAggregationSubMenu(column2,aggFuncSvc,valueColsSvc,localeTextFunc),disabled:gos.get(\"functionsReadOnly\")};}else{return null;}case\"autoSizeThis\":return colAutosize?{name:localeTextFunc(\"autosizeThisColumn\",\"Autosize This Column\"),action:()=>colAutosize.autoSizeColumn(column2,source2,gos.get(\"skipHeaderOnAutoSize\"))}:null;case\"autoSizeAll\":return colAutosize?{name:localeTextFunc(\"autosizeAllColumns\",\"Autosize All Columns\"),action:()=>colAutosize.autoSizeAllColumns({source:source2,skipHeader:gos.get(\"skipHeaderOnAutoSize\")})}:null;case\"rowGroup\":return rowGroupColsSvc?{name:localeTextFunc(\"groupBy\",\"Group by\")+\" \"+colNames.getDisplayNameForColumn(column2,\"header\"),disabled:gos.get(\"functionsReadOnly\")||(column2===null||column2===void 0?void 0:column2.isRowGroupActive())||!(column2!==null&&column2!==void 0&&column2.getColDef().enableRowGroup),action:()=>rowGroupColsSvc.addColumns([column2],source2),icon:(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createIconNoSpan)(\"menuAddRowGroup\",beans,null)}:null;case\"rowUnGroup\":{if(rowGroupColsSvc&&gos.isModuleRegistered(\"SharedRowGrouping\")){var showRowGroup=column2===null||column2===void 0?void 0:column2.getColDef().showRowGroup;var lockedGroups=gos.get(\"groupLockGroupColumns\");var name;var disabled;var action;if(showRowGroup===true){var _rowGroupColsSvc$colu2;name=localeTextFunc(\"ungroupAll\",\"Un-Group All\");disabled=gos.get(\"functionsReadOnly\")||lockedGroups===-1||lockedGroups>=((_rowGroupColsSvc$colu2=rowGroupColsSvc.columns.length)!==null&&_rowGroupColsSvc$colu2!==void 0?_rowGroupColsSvc$colu2:0);action=()=>rowGroupColsSvc.setColumns(rowGroupColsSvc.columns.slice(0,lockedGroups),source2);}else if(typeof showRowGroup===\"string\"){var underlyingColumn=colModel.getColDefCol(showRowGroup);var ungroupByName=underlyingColumn!=null?colNames.getDisplayNameForColumn(underlyingColumn,\"header\"):showRowGroup;name=localeTextFunc(\"ungroupBy\",\"Un-Group by\")+\" \"+ungroupByName;disabled=gos.get(\"functionsReadOnly\")||isRowGroupColLocked(underlyingColumn,beans);action=()=>{rowGroupColsSvc.removeColumns([showRowGroup],source2);};}else{name=localeTextFunc(\"ungroupBy\",\"Un-Group by\")+\" \"+colNames.getDisplayNameForColumn(column2,\"header\");disabled=gos.get(\"functionsReadOnly\")||!(column2!==null&&column2!==void 0&&column2.isRowGroupActive())||!(column2!==null&&column2!==void 0&&column2.getColDef().enableRowGroup)||isRowGroupColLocked(column2,beans);action=()=>rowGroupColsSvc.removeColumns([column2],source2);}return{name,disabled,action,icon:(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createIconNoSpan)(\"menuRemoveRowGroup\",beans,null)};}else{return null;}}case\"resetColumns\":return{name:localeTextFunc(\"resetColumns\",\"Reset Columns\"),action:()=>(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._resetColumnState)(beans,source2)};case\"expandAll\":return expansionSvc?{name:localeTextFunc(\"expandAll\",\"Expand All Row Groups\"),action:()=>expansionSvc.expandAll(true)}:null;case\"contractAll\":return expansionSvc?{name:localeTextFunc(\"collapseAll\",\"Collapse All Row Groups\"),action:()=>expansionSvc.expandAll(false)}:null;case\"copy\":return clipboardSvc?{name:localeTextFunc(\"copy\",\"Copy\"),shortcut:localeTextFunc(\"ctrlC\",\"Ctrl+C\"),icon:(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createIconNoSpan)(\"clipboardCopy\",beans,null),action:()=>clipboardSvc.copyToClipboard()}:null;case\"copyWithHeaders\":return clipboardSvc?{name:localeTextFunc(\"copyWithHeaders\",\"Copy with Headers\"),// shortcut: localeTextFunc('ctrlC','Ctrl+C'),\nicon:(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createIconNoSpan)(\"clipboardCopy\",beans,null),action:()=>clipboardSvc.copyToClipboard({includeHeaders:true})}:null;case\"copyWithGroupHeaders\":return clipboardSvc?{name:localeTextFunc(\"copyWithGroupHeaders\",\"Copy with Group Headers\"),// shortcut: localeTextFunc('ctrlC','Ctrl+C'),\nicon:(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createIconNoSpan)(\"clipboardCopy\",beans,null),action:()=>clipboardSvc.copyToClipboard({includeHeaders:true,includeGroupHeaders:true})}:null;case\"cut\":if(clipboardSvc){var focusedCell=focusSvc.getFocusedCell();var rowNode=focusedCell?(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getRowNode)(beans,focusedCell):null;var isEditable=rowNode?focusedCell===null||focusedCell===void 0?void 0:focusedCell.column.isCellEditable(rowNode):false;return{name:localeTextFunc(\"cut\",\"Cut\"),shortcut:localeTextFunc(\"ctrlX\",\"Ctrl+X\"),icon:(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createIconNoSpan)(\"clipboardCut\",beans,null),disabled:!isEditable||gos.get(\"suppressCutToClipboard\"),action:()=>clipboardSvc.cutToClipboard(void 0,\"contextMenu\")};}else{return null;}case\"paste\":return clipboardSvc?{name:localeTextFunc(\"paste\",\"Paste\"),shortcut:localeTextFunc(\"ctrlV\",\"Ctrl+V\"),disabled:true,icon:(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createIconNoSpan)(\"clipboardPaste\",beans,null),action:()=>clipboardSvc.pasteFromClipboard()}:null;case\"export\":{var exportSubMenuItems=[];if(!gos.get(\"suppressCsvExport\")&&csvCreator){exportSubMenuItems.push(\"csvExport\");}if(!gos.get(\"suppressExcelExport\")&&excelCreator){exportSubMenuItems.push(\"excelExport\");}return exportSubMenuItems.length?{name:localeTextFunc(\"export\",\"Export\"),subMenu:exportSubMenuItems,icon:(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createIconNoSpan)(\"save\",beans,null)}:null;}case\"csvExport\":return csvCreator?{name:localeTextFunc(\"csvExport\",\"CSV Export\"),icon:(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createIconNoSpan)(\"csvExport\",beans,null),action:()=>csvCreator.exportDataAsCsv()}:null;case\"excelExport\":return excelCreator?{name:localeTextFunc(\"excelExport\",\"Excel Export\"),icon:(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createIconNoSpan)(\"excelExport\",beans,null),action:()=>excelCreator.exportDataAsExcel()}:null;case\"separator\":return key;case\"pivotChart\":case\"chartRange\":return chartMenuItemMapper.getChartItems(key);case\"columnFilter\":return menuSvc&&column2?{name:localeTextFunc(\"columnFilter\",\"Column Filter\"),icon:(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createIconNoSpan)(\"filter\",beans,null),action:()=>menuSvc.showFilterMenu({column:column2,buttonElement:sourceElement2(),containerType:\"columnFilter\",positionBy:\"button\"})}:null;case\"columnChooser\":{var headerPosition=focusSvc.focusedHeader;return colChooserFactory?{name:localeTextFunc(\"columnChooser\",\"Choose Columns\"),icon:(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createIconNoSpan)(\"columns\",beans,null),action:()=>colChooserFactory.showColumnChooser({column:column2,eventSource:sourceElement2(),headerPosition})}:null;}case\"sortAscending\":return sortSvc?{name:localeTextFunc(\"sortAscending\",\"Sort Ascending\"),icon:(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createIconNoSpan)(\"sortAscending\",beans,null),action:()=>sortSvc.setSortForColumn(column2,\"asc\",false,source2)}:null;case\"sortDescending\":return sortSvc?{name:localeTextFunc(\"sortDescending\",\"Sort Descending\"),icon:(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createIconNoSpan)(\"sortDescending\",beans,null),action:()=>sortSvc.setSortForColumn(column2,\"desc\",false,source2)}:null;case\"sortUnSort\":return sortSvc?{name:localeTextFunc(\"sortUnSort\",\"Clear Sort\"),icon:(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createIconNoSpan)(\"sortUnSort\",beans,null),action:()=>sortSvc.setSortForColumn(column2,null,false,source2)}:null;default:{(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(176,{key});return null;}}};originalList.forEach(menuItemOrString=>{var result;if(typeof menuItemOrString===\"string\"){result=getStockMenuItem(menuItemOrString,column,sourceElement,source);}else{result=_objectSpread({},menuItemOrString);}if(!result){return;}var resultDef=result;var{subMenu}=resultDef;if(subMenu&&subMenu instanceof Array){resultDef.subMenu=this.mapWithStockItems(subMenu,column,node,sourceElement,source);}if(result!=null){resultList.push(result);}});_removeRepeatsFromArray(resultList,MENU_ITEM_SEPARATOR);return resultList;}};function createAggregationSubMenu(column,aggFuncSvc,valueColsSvc,localeTextFunc){var columnToUse;if(column.isPrimary()){columnToUse=column;}else{var pivotValueColumn=column.getColDef().pivotValueColumn;columnToUse=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._exists)(pivotValueColumn)?pivotValueColumn:void 0;}var result=[];if(columnToUse){var columnIsAlreadyAggValue=columnToUse.isValueActive();var funcNames=aggFuncSvc.getFuncNames(columnToUse);result.push({name:localeTextFunc(\"noAggregation\",\"None\"),action:()=>{valueColsSvc.removeColumns([columnToUse],\"contextMenu\");valueColsSvc.setColumnAggFunc(columnToUse,void 0,\"contextMenu\");},checked:!columnIsAlreadyAggValue});funcNames.forEach(funcName=>{result.push({name:localeTextFunc(funcName,aggFuncSvc.getDefaultFuncLabel(funcName)),action:()=>{valueColsSvc.setColumnAggFunc(columnToUse,funcName,\"contextMenu\");valueColsSvc.addColumns([columnToUse],\"contextMenu\");},checked:columnIsAlreadyAggValue&&columnToUse.getAggFunc()===funcName});});}return result;}// packages/ag-grid-enterprise/src/menu/columnMenuFactory.ts\nvar ColumnMenuFactory=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BeanStub{constructor(){super(...arguments);this.beanName=\"colMenuFactory\";}createMenu(parent,menuItems,column,sourceElement){var menuList=parent.createManagedBean(new AgMenuList(0,{column:column!==null&&column!==void 0?column:null,node:null,value:null}));var menuItemsMapped=this.beans.menuItemMapper.mapWithStockItems(menuItems,column!==null&&column!==void 0?column:null,null,sourceElement,\"columnMenu\");menuList.addMenuItems(menuItemsMapped);return menuList;}getMenuItems(){var _ref41,_column$getColDef;var column=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;var columnGroup=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var defaultItems=this.getDefaultMenuOptions(column);var result;var columnMainMenuItems=(_ref41=(_column$getColDef=column===null||column===void 0?void 0:column.getColDef())!==null&&_column$getColDef!==void 0?_column$getColDef:columnGroup===null||columnGroup===void 0?void 0:columnGroup.getColGroupDef())===null||_ref41===void 0?void 0:_ref41.mainMenuItems;if(Array.isArray(columnMainMenuItems)){result=columnMainMenuItems;}else if(typeof columnMainMenuItems===\"function\"){result=columnMainMenuItems((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._addGridCommonParams)(this.gos,{column,columnGroup,defaultItems}));}else{var userFunc=this.gos.getCallback(\"getMainMenuItems\");if(userFunc){result=userFunc({column,columnGroup,defaultItems});}else{result=defaultItems;}}_removeRepeatsFromArray(result,MENU_ITEM_SEPARATOR);return result;}getDefaultMenuOptions(column){var _rowGroupColsSvc$colu3;var result=[];var{beans,gos}=this;var{colChooserFactory,rowGroupColsSvc,colModel,expansionSvc,sortSvc,menuSvc,pinnedCols,aggFuncSvc,colAutosize}=beans;var isLegacyMenuEnabled=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isLegacyMenuEnabled)(gos);var addColumnItems=()=>{if(!isLegacyMenuEnabled&&colChooserFactory){result.push(\"columnChooser\");}result.push(\"resetColumns\");};if(!column){addColumnItems();return result;}var{colDef}=column;var allowPinning=pinnedCols&&!colDef.lockPinned;var rowGroupCount=(_rowGroupColsSvc$colu3=rowGroupColsSvc===null||rowGroupColsSvc===void 0?void 0:rowGroupColsSvc.columns.length)!==null&&_rowGroupColsSvc$colu3!==void 0?_rowGroupColsSvc$colu3:0;var doingGrouping=rowGroupCount>0;var isPrimary=column.isPrimary();var allowValueAgg=aggFuncSvc&&// if primary, then only allow aggValue if grouping and it's a value columns\nisPrimary&&doingGrouping&&column.isAllowValue()||// secondary columns can always have aggValue, as it means it's a pivot value column\n!isPrimary;if(sortSvc&&!isLegacyMenuEnabled&&column.isSortable()){var sort=column.getSort();if(sort!==\"asc\"){result.push(\"sortAscending\");}if(sort!==\"desc\"){result.push(\"sortDescending\");}if(sort){result.push(\"sortUnSort\");}result.push(MENU_ITEM_SEPARATOR);}if(menuSvc!==null&&menuSvc!==void 0&&menuSvc.isFilterMenuItemEnabled(column)){result.push(\"columnFilter\");result.push(MENU_ITEM_SEPARATOR);}if(allowPinning){result.push(\"pinSubMenu\");}if(allowValueAgg){result.push(\"valueAggSubMenu\");}if(allowPinning||allowValueAgg){result.push(MENU_ITEM_SEPARATOR);}if(colAutosize){result.push(\"autoSizeThis\");result.push(\"autoSizeAll\");result.push(MENU_ITEM_SEPARATOR);}if(rowGroupColsSvc&&gos.isModuleRegistered(\"SharedRowGrouping\")){var numItems=result.length;var showRowGroup=colDef.showRowGroup;if(showRowGroup){result.push(\"rowUnGroup\");}else if(column.isAllowRowGroup()&&isPrimary){if(column.isRowGroupActive()){var groupLocked=isRowGroupColLocked(column,beans);if(!groupLocked){result.push(\"rowUnGroup\");}}else{result.push(\"rowGroup\");}}if(result.length>numItems){result.push(MENU_ITEM_SEPARATOR);}}addColumnItems();if(expansionSvc&&(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isClientSideRowModel)(gos)&&(gos.get(\"treeData\")||rowGroupCount>(colModel.isPivotMode()?1:0))){result.push(\"expandAll\");result.push(\"contractAll\");}return result;}};// packages/ag-grid-enterprise/src/menu/contextMenu.ts\nvar CSS_MENU=\"ag-menu\";var CSS_CONTEXT_MENU_OPEN=\"ag-context-menu-open\";var CSS_CONTEXT_MENU_LOADING_ICON=\"ag-context-menu-loading-icon\";var ContextMenuService=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BeanStub{constructor(){super(...arguments);this.beanName=\"contextMenuSvc\";this.destroyLoadingSpinner=null;this.lastPromise=0;}hideActiveMenu(){this.destroyBean(this.activeMenu);}getMenuItems(node,column,value,mouseEvent){var _userFunc;var defaultMenuOptions=[];var{clipboardSvc,chartSvc,csvCreator,excelCreator,colModel,rangeSvc,gos}=this.beans;if((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._exists)(node)&&clipboardSvc){if(column){if(!gos.get(\"suppressCutToClipboard\")){defaultMenuOptions.push(\"cut\");}defaultMenuOptions.push(\"copy\",\"copyWithHeaders\",\"copyWithGroupHeaders\",\"paste\",\"separator\");}}if(gos.get(\"enableCharts\")&&chartSvc){if(colModel.isPivotMode()){defaultMenuOptions.push(\"pivotChart\");}if(rangeSvc&&!rangeSvc.isEmpty()){defaultMenuOptions.push(\"chartRange\");}}if((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._exists)(node)){var enableRowPinning=gos.get(\"enableRowPinning\");var isRowPinnable=gos.get(\"isRowPinnable\");if(enableRowPinning){var isGroupTotalRow=node.level>-1&&node.footer;var isGrandTotalRow=node.level===-1&&node.footer;var grandTotalRow=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getGrandTotalRow)(gos);var isGrandTotalRowFixed=grandTotalRow===\"pinnedBottom\"||grandTotalRow===\"pinnedTop\";if(isGrandTotalRow&&!isGrandTotalRowFixed||!isGrandTotalRow&&!isGroupTotalRow){var _isRowPinnable;var pinnable=(_isRowPinnable=isRowPinnable===null||isRowPinnable===void 0?void 0:isRowPinnable(node))!==null&&_isRowPinnable!==void 0?_isRowPinnable:true;if(pinnable){defaultMenuOptions.push(\"pinRowSubMenu\");}}}var suppressExcel=gos.get(\"suppressExcelExport\")||!excelCreator;var suppressCsv=gos.get(\"suppressCsvExport\")||!csvCreator;var onIPad=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isIOSUserAgent)();var anyExport=!onIPad&&(!suppressExcel||!suppressCsv);if(anyExport){defaultMenuOptions.push(\"export\");}}var defaultItems=defaultMenuOptions.length?defaultMenuOptions:void 0;var columnContextMenuItems=column===null||column===void 0?void 0:column.getColDef().contextMenuItems;if(Array.isArray(columnContextMenuItems)){return columnContextMenuItems;}if(typeof columnContextMenuItems===\"function\"){return columnContextMenuItems((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._addGridCommonParams)(gos,{column,node,value,defaultItems,event:mouseEvent}));}var userFunc=gos.getCallback(\"getContextMenuItems\");return(_userFunc=userFunc===null||userFunc===void 0?void 0:userFunc({column,node,value,defaultItems,event:mouseEvent}))!==null&&_userFunc!==void 0?_userFunc:defaultMenuOptions;}getContextMenuPosition(rowNode,column){var rowCtrl=this.getRowCtrl(rowNode);var eGui=this.getCellGui(rowCtrl,column);if(!eGui){var _rowCtrl$getRowYPosit;return{x:0,y:(_rowCtrl$getRowYPosit=rowCtrl===null||rowCtrl===void 0?void 0:rowCtrl.getRowYPosition())!==null&&_rowCtrl$getRowYPosit!==void 0?_rowCtrl$getRowYPosit:0};}var rect=eGui.getBoundingClientRect();return{x:rect.x+rect.width/2,y:rect.y+rect.height/2};}showContextMenu(params){var _params$rowNode,_params$column,_params$mouseEvent,_params$touchEvent;var rowNode=(_params$rowNode=params.rowNode)!==null&&_params$rowNode!==void 0?_params$rowNode:null;var column=(_params$column=params.column)!==null&&_params$column!==void 0?_params$column:null;var{anchorToElement,value,source}=params;if(rowNode&&column&&value==null){value=this.beans.valueSvc.getValueForDisplay(column,rowNode).value;}if(anchorToElement==null){anchorToElement=this.getContextMenuAnchorElement(rowNode,column);}this.beans.menuUtils.onContextMenu({mouseEvent:(_params$mouseEvent=params.mouseEvent)!==null&&_params$mouseEvent!==void 0?_params$mouseEvent:null,touchEvent:(_params$touchEvent=params.touchEvent)!==null&&_params$touchEvent!==void 0?_params$touchEvent:null,showMenuCallback:eventOrTouch=>this.showMenu(rowNode,column,value,eventOrTouch,anchorToElement),source});}handleContextMenuMouseEvent(mouseEvent,touchEvent,rowCtrl,cellCtrl){var _ref42,_cellCtrl$rowNode,_ref43,_cellCtrl$column,_rowCtrl$findFullWidt;var rowNode=(_ref42=(_cellCtrl$rowNode=cellCtrl===null||cellCtrl===void 0?void 0:cellCtrl.rowNode)!==null&&_cellCtrl$rowNode!==void 0?_cellCtrl$rowNode:rowCtrl===null||rowCtrl===void 0?void 0:rowCtrl.rowNode)!==null&&_ref42!==void 0?_ref42:null;var column=(_ref43=(_cellCtrl$column=cellCtrl===null||cellCtrl===void 0?void 0:cellCtrl.column)!==null&&_cellCtrl$column!==void 0?_cellCtrl$column:rowCtrl===null||rowCtrl===void 0||(_rowCtrl$findFullWidt=rowCtrl.findFullWidthInfoForEvent(mouseEvent||touchEvent))===null||_rowCtrl$findFullWidt===void 0?void 0:_rowCtrl$findFullWidt.column)!==null&&_ref43!==void 0?_ref43:null;var{valueSvc,ctrlsSvc}=this.beans;var value=column?valueSvc.getValue(column,rowNode):null;var gridBodyCon=ctrlsSvc.getGridBodyCtrl();var anchorToElement=cellCtrl?cellCtrl.eGui:gridBodyCon.eGridBody;this.showContextMenu({mouseEvent,touchEvent,rowNode,column,value,anchorToElement,source:\"ui\"});}showMenu(node,column,value,mouseEvent,anchorToElement){var menuItems=this.getMenuItems(node,column,value,mouseEvent);if((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isPromise)(menuItems)){var currentPromise=this.lastPromise+1;this.lastPromise=currentPromise;if(!this.destroyLoadingSpinner){this.createLoadingIcon(mouseEvent);}menuItems.then(menuItems2=>{var _this$beans$overlays,_this$destroyLoadingS;if(this.lastPromise!==currentPromise){return;}var{target}=mouseEvent;var isFromFakeEvent=!target;var shouldShowMenu=// check if there are actual menu items to be displayed\nmenuItems2&&menuItems2.length&&(// check if the element that triggered the context menu was removed from the DOM\nisFromFakeEvent||(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isVisible)(target))&&// overlay was displayed\n!((_this$beans$overlays=this.beans.overlays)!==null&&_this$beans$overlays!==void 0&&_this$beans$overlays.isExclusive());if(shouldShowMenu){this.createContextMenu({menuItems:menuItems2,node,column,value,mouseEvent,anchorToElement});}(_this$destroyLoadingS=this.destroyLoadingSpinner)===null||_this$destroyLoadingS===void 0||_this$destroyLoadingS.call(this);});return true;}if(menuItems===void 0||!(menuItems!==null&&menuItems!==void 0&&menuItems.length)){return false;}this.createContextMenu({menuItems,node,column,value,mouseEvent,anchorToElement});return true;}createLoadingIcon(mouseEvent){var _beans$ariaAnnounce;var{beans}=this;var translate=this.getLocaleTextFunc();var loadingIcon=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createIconNoSpan)(\"loadingMenuItems\",beans);var wrapperEl=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createElement)({tag:\"div\",cls:CSS_CONTEXT_MENU_LOADING_ICON});wrapperEl.appendChild(loadingIcon);var rootNode=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getRootNode)(beans);var targetEl=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getPageBody)(beans);if(!targetEl){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(54);return;}targetEl.appendChild(wrapperEl);(_beans$ariaAnnounce=beans.ariaAnnounce)===null||_beans$ariaAnnounce===void 0||_beans$ariaAnnounce.announceValue(translate(\"ariaLabelLoadingContextMenu\",\"Loading Context Menu\"),\"contextmenu\");beans.environment.applyThemeClasses(wrapperEl);(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._anchorElementToMouseMoveEvent)(wrapperEl,mouseEvent,beans);var mouseMoveCallback=e=>{(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._anchorElementToMouseMoveEvent)(wrapperEl,e,beans);};rootNode.addEventListener(\"mousemove\",mouseMoveCallback);this.destroyLoadingSpinner=()=>{rootNode.removeEventListener(\"mousemove\",mouseMoveCallback);targetEl.removeChild(wrapperEl);this.destroyLoadingSpinner=null;};}createContextMenu(params){var{menuItems,node,column,value,mouseEvent,anchorToElement}=params;var{ctrlsSvc,focusSvc,popupSvc}=this.beans;var eGridBodyGui=ctrlsSvc.getGridBodyCtrl().eGridBody;var menu=new ContextMenu(menuItems,column,node,value);this.createBean(menu);var eMenuGui=menu.getGui();if(!column){focusSvc.clearFocusedCell();}var positionParams={column,rowNode:node,type:\"contextMenu\",mouseEvent,ePopup:eMenuGui,// move one pixel away so that accidentally double clicking\n// won't show the browser's contextmenu\nnudgeY:1};var translate=this.getLocaleTextFunc();var addPopupRes=popupSvc===null||popupSvc===void 0?void 0:popupSvc.addPopup({modal:true,eChild:eMenuGui,closeOnEsc:true,closedCallback:e=>{(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._preserveRangesWhile)(this.beans,()=>{eGridBodyGui.classList.remove(CSS_CONTEXT_MENU_OPEN);this.destroyBean(menu);this.dispatchVisibleChangedEvent(false,e===void 0?\"api\":\"ui\");});},click:mouseEvent,positionCallback:()=>{var isRtl=this.gos.get(\"enableRtl\");popupSvc===null||popupSvc===void 0||popupSvc.positionPopupUnderMouseEvent(_objectSpread(_objectSpread({},positionParams),{},{nudgeX:isRtl?(eMenuGui.offsetWidth+1)*-1:1}));},// so when browser is scrolled down, or grid is scrolled, context menu stays with cell\nanchorToElement,ariaLabel:translate(\"ariaLabelContextMenu\",\"Context Menu\")});if(addPopupRes){eGridBodyGui.classList.add(CSS_CONTEXT_MENU_OPEN);menu.afterGuiAttached({container:\"contextMenu\",hidePopup:addPopupRes.hideFunc});}if(this.activeMenu){this.hideActiveMenu();}this.activeMenu=menu;menu.addEventListener(\"destroyed\",()=>{if(this.activeMenu===menu){this.activeMenu=null;}});if(addPopupRes){menu.addEventListener(\"closeMenu\",e=>{var _e$mouseEvent,_e$keyboardEvent;return addPopupRes.hideFunc({mouseEvent:(_e$mouseEvent=e.mouseEvent)!==null&&_e$mouseEvent!==void 0?_e$mouseEvent:void 0,keyboardEvent:(_e$keyboardEvent=e.keyboardEvent)!==null&&_e$keyboardEvent!==void 0?_e$keyboardEvent:void 0,forceHide:true});});}var isApi=mouseEvent&&mouseEvent instanceof MouseEvent&&mouseEvent.type===\"mousedown\";this.dispatchVisibleChangedEvent(true,isApi?\"api\":\"ui\");}dispatchVisibleChangedEvent(visible){var source=arguments.length>1&&arguments[1]!==undefined?arguments[1]:\"ui\";this.eventSvc.dispatchEvent({type:\"contextMenuVisibleChanged\",visible,source});}getRowCtrl(rowNode){var{rowIndex,rowPinned}=rowNode||{};if(rowIndex==null){return;}return this.beans.rowRenderer.getRowByPosition({rowIndex,rowPinned})||void 0;}getCellGui(rowCtrl,column){if(!rowCtrl||!column){return;}var cellCtrl=rowCtrl.getCellCtrl(column);return(cellCtrl===null||cellCtrl===void 0?void 0:cellCtrl.eGui)||void 0;}getContextMenuAnchorElement(rowNode,column){var gridBodyEl=this.beans.ctrlsSvc.getGridBodyCtrl().eGridBody;var rowCtrl=this.getRowCtrl(rowNode);if(!rowCtrl){return gridBodyEl;}var cellGui=this.getCellGui(rowCtrl,column);if(cellGui){return cellGui;}if(rowCtrl.isFullWidth()){return rowCtrl.getFullWidthElement();}return gridBodyEl;}destroy(){var _this$destroyLoadingS2;(_this$destroyLoadingS2=this.destroyLoadingSpinner)===null||_this$destroyLoadingS2===void 0||_this$destroyLoadingS2.call(this);super.destroy();}};var ContextMenu=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(menuItems,column,node,value){super({tag:\"div\",cls:CSS_MENU,role:\"presentation\"});this.menuItems=menuItems;this.column=column;this.node=node;this.value=value;this.menuList=null;this.focusedCell=null;}postConstruct(){var menuList=this.createManagedBean(new AgMenuList(0,{column:this.column,node:this.node,value:this.value}));var menuItemsMapped=this.beans.menuItemMapper.mapWithStockItems(this.menuItems,this.column,this.node,()=>this.getGui(),\"contextMenu\");menuList.addMenuItems(menuItemsMapped);this.appendChild(menuList);this.menuList=menuList;menuList.addEventListener(\"closeMenu\",e=>this.dispatchLocalEvent(e));}afterGuiAttached(_ref44){var{hidePopup}=_ref44;if(hidePopup){this.addDestroyFunc(hidePopup);}this.focusedCell=this.beans.focusSvc.getFocusedCell();var menuList=this.menuList;if(menuList){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._preserveRangesWhile)(this.beans,()=>(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._focusInto)(menuList.getGui()));}}restoreFocusedCell(){var{beans,focusedCell}=this;var focusSvc=beans.focusSvc;var currentFocusedCell=focusSvc.getFocusedCell();if(currentFocusedCell&&focusedCell&&(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._areCellsEqual)(currentFocusedCell,focusedCell)){var{rowIndex,rowPinned,column}=focusedCell;if((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isNothingFocused)(beans)){focusSvc.setFocusedCell({rowIndex,column,rowPinned,forceBrowserFocus:true,preventScrollOnBrowserFocus:!(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isKeyboardMode)()});}}}destroy(){super.destroy();this.restoreFocusedCell();}};// packages/ag-grid-enterprise/src/menu/enterpriseMenu.ts\n// packages/ag-grid-enterprise/src/widgets/tabbedLayout.ts\nfunction getTabbedLayoutTemplate(cssClass){return{tag:\"div\",cls:\"ag-tabs \".concat(cssClass),children:[{tag:\"div\",ref:\"eHeader\"},{tag:\"div\",ref:\"eBody\",role:\"presentation\",cls:\"ag-tabs-body \".concat(cssClass?\"\".concat(cssClass,\"-body\"):\"\")}]};}var TabbedLayout=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.TabGuardComp{constructor(params){super(getTabbedLayoutTemplate(params.cssClass));this.eHeader=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.eBody=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.items=[];this.tabbedItemScrollMap=/* @__PURE__ */new Map();this.params=params;}postConstruct(){this.setupHeader();if(this.params.items){this.params.items.forEach(item=>this.addItem(item));}this.initialiseTabGuard({onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),focusInnerElement:this.focusInnerElement.bind(this),focusTrapActive:true});this.addDestroyFunc(()=>{var _this$activeItem,_this$activeItem$afte;return(_this$activeItem=this.activeItem)===null||_this$activeItem===void 0||(_this$activeItem=_this$activeItem.tabbedItem)===null||_this$activeItem===void 0||(_this$activeItem$afte=_this$activeItem.afterDetachedCallback)===null||_this$activeItem$afte===void 0?void 0:_this$activeItem$afte.call(_this$activeItem);});}setupHeader(){var{enableCloseButton,cssClass}=this.params;var addCssClasses=(el,suffix)=>{el.classList.add(\"ag-tabs-\".concat(suffix));if(cssClass){el.classList.add(\"\".concat(cssClass,\"-\").concat(suffix));}};if(enableCloseButton){this.setupCloseButton(addCssClasses);this.eTabHeader=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createElement)({tag:\"div\",role:\"presentation\"});addCssClasses(this.eHeader,\"header-wrapper\");this.eHeader.appendChild(this.eTabHeader);}else{this.eTabHeader=this.eHeader;}(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setAriaRole)(this.eTabHeader,\"tablist\");addCssClasses(this.eTabHeader,\"header\");}setupCloseButton(addCssClasses){var eCloseButton=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createElement)({tag:\"button\"});addCssClasses(eCloseButton,\"close-button\");var eIcon=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createIconNoSpan)(\"close\",this.beans);(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setAriaLabel)(eCloseButton,this.params.closeButtonAriaLabel);eCloseButton.appendChild(eIcon);this.addManagedElementListeners(eCloseButton,{click:()=>{var _this$params$onCloseC,_this$params;return(_this$params$onCloseC=(_this$params=this.params).onCloseClicked)===null||_this$params$onCloseC===void 0?void 0:_this$params$onCloseC.call(_this$params);}});var eCloseButtonWrapper=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createElement)({tag:\"div\",role:\"presentation\"});addCssClasses(eCloseButtonWrapper,\"close-button-wrapper\");eCloseButtonWrapper.appendChild(eCloseButton);this.eHeader.appendChild(eCloseButtonWrapper);this.eCloseButton=eCloseButton;}handleKeyDown(e){switch(e.key){case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.RIGHT:case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.LEFT:{if(!this.eTabHeader.contains((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getActiveDomElement)(this.beans))){return;}var isRightKey=e.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.RIGHT;var isRtl=this.gos.get(\"enableRtl\");var currentPosition=this.items.indexOf(this.activeItem);var nextPosition=isRightKey!==isRtl?Math.min(currentPosition+1,this.items.length-1):Math.max(currentPosition-1,0);if(currentPosition===nextPosition){return;}e.preventDefault();var nextItem=this.items[nextPosition];this.showItemWrapper(nextItem);nextItem.eHeaderButton.focus();break;}case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.UP:case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.DOWN:e.stopPropagation();break;}}onTabKeyDown(e){if(e.defaultPrevented){return;}var{beans,eHeader,eBody,activeItem,params}=this;var{suppressTrapFocus,enableCloseButton}=params;var activeElement=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getActiveDomElement)(beans);var target=e.target;var backwards=e.shiftKey;if(eHeader.contains(activeElement)){var _this$eCloseButton;e.preventDefault();if(enableCloseButton&&backwards&&!((_this$eCloseButton=this.eCloseButton)!==null&&_this$eCloseButton!==void 0&&_this$eCloseButton.contains(activeElement))){var _this$eCloseButton2;(_this$eCloseButton2=this.eCloseButton)===null||_this$eCloseButton2===void 0||_this$eCloseButton2.focus();}else if(suppressTrapFocus&&backwards){var _findFocusableElement;(_findFocusableElement=findFocusableElementBeforeTabGuard((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getDocument)(beans).body,target))===null||_findFocusableElement===void 0||_findFocusableElement.focus();}else{this.focusBody(e.shiftKey);}return;}var nextEl=null;if(isTargetUnderManagedComponent(eBody,target)){if(backwards){nextEl=findFocusableElementBeforeTabGuard(eBody,target);}if(!nextEl&&!suppressTrapFocus){nextEl=activeItem.eHeaderButton;}}if(!nextEl&&eBody.contains(activeElement)){nextEl=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._findNextFocusableElement)(beans,eBody,false,backwards);if(!nextEl){if(suppressTrapFocus&&!backwards){this.forceFocusOutOfContainer(backwards);}else if(enableCloseButton&&!backwards){var _this$eCloseButton3;e.preventDefault();(_this$eCloseButton3=this.eCloseButton)===null||_this$eCloseButton3===void 0||_this$eCloseButton3.focus();}else{e.preventDefault();this.focusHeader();}return;}}if(nextEl){e.preventDefault();nextEl.focus();}}focusInnerElement(fromBottom){if(fromBottom){return this.focusBody(true);}else{this.focusHeader();return true;}}focusHeader(preventScroll){this.activeItem.eHeaderButton.focus({preventScroll});}focusBody(fromBottom){return (0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._focusInto)(this.eBody,fromBottom);}setAfterAttachedParams(params){this.afterAttachedParams=params;}showFirstItem(){if(this.items.length>0){this.showItemWrapper(this.items[0]);}}addItem(item){var eHeaderButton=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createElement)({tag:\"span\",cls:\"ag-tab\",role:\"tab\",attrs:{tabindex:\"-1\"}});eHeaderButton.appendChild(item.title);this.eTabHeader.appendChild(eHeaderButton);(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setAriaLabel)(eHeaderButton,item.titleLabel);var wrapper={tabbedItem:item,eHeaderButton};this.items.push(wrapper);eHeaderButton.addEventListener(\"click\",this.showItemWrapper.bind(this,wrapper));}showItem(tabbedItem){var itemWrapper=this.items.find(wrapper=>wrapper.tabbedItem===tabbedItem);if(itemWrapper){this.showItemWrapper(itemWrapper);}}showItemWrapper(wrapper){var _this$params$onItemCl,_this$params2;var{tabbedItem,eHeaderButton}=wrapper;(_this$params$onItemCl=(_this$params2=this.params).onItemClicked)===null||_this$params$onItemCl===void 0||_this$params$onItemCl.call(_this$params2,{item:tabbedItem});if(this.activeItem===wrapper){var _this$params$onActive,_this$params3;(_this$params$onActive=(_this$params3=this.params).onActiveItemClicked)===null||_this$params$onActive===void 0||_this$params$onActive.call(_this$params3);return;}if(this.lastScrollListener){this.lastScrollListener=this.lastScrollListener();}(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._clearElement)(this.eBody);tabbedItem.bodyPromise.then(body=>{this.eBody.appendChild(body);var onlyUnmanaged=!(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isKeyboardMode)();if(!this.params.suppressFocusBodyOnOpen){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._focusInto)(this.eBody,false,onlyUnmanaged);}if(tabbedItem.afterAttachedCallback){tabbedItem.afterAttachedCallback(this.afterAttachedParams);}if(this.params.keepScrollPosition){var scrollableContainer=tabbedItem.getScrollableContainer&&tabbedItem.getScrollableContainer()||body;[this.lastScrollListener]=this.addManagedElementListeners(scrollableContainer,{scroll:()=>{this.tabbedItemScrollMap.set(tabbedItem.name,scrollableContainer.scrollTop);}});var scrollPosition=this.tabbedItemScrollMap.get(tabbedItem.name);if(scrollPosition!==void 0){setTimeout(()=>{scrollableContainer.scrollTop=scrollPosition;},0);}}});if(this.activeItem){var _this$activeItem$tabb,_this$activeItem$tabb2;this.activeItem.eHeaderButton.classList.remove(\"ag-tab-selected\");(_this$activeItem$tabb=(_this$activeItem$tabb2=this.activeItem.tabbedItem).afterDetachedCallback)===null||_this$activeItem$tabb===void 0||_this$activeItem$tabb.call(_this$activeItem$tabb2);}eHeaderButton.classList.add(\"ag-tab-selected\");this.activeItem=wrapper;}};// packages/ag-grid-enterprise/src/menu/enterpriseMenu.ts\nvar TAB_FILTER=\"filterMenuTab\";var TAB_GENERAL=\"generalMenuTab\";var TAB_COLUMNS=\"columnsMenuTab\";var TABS_DEFAULT=[TAB_GENERAL,TAB_FILTER,TAB_COLUMNS];var EnterpriseMenuFactory=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BeanStub{constructor(){super(...arguments);this.beanName=\"enterpriseMenuFactory\";}hideActiveMenu(){this.destroyBean(this.activeMenu);}showMenuAfterMouseEvent(columnOrGroup,mouseEvent,containerType,onClosedCallback,filtersOnly){var{column,columnGroup}=this.splitColumnOrGroup(columnOrGroup);var defaultTab=filtersOnly?\"filterMenuTab\":void 0;this.showMenu(column,columnGroup,menu=>{var ePopup=menu.getGui();this.beans.popupSvc.positionPopupUnderMouseEvent({type:containerType,column,mouseEvent,ePopup});if(defaultTab){var _menu$showTab;(_menu$showTab=menu.showTab)===null||_menu$showTab===void 0||_menu$showTab.call(menu,defaultTab);}this.dispatchVisibleChangedEvent(true,false,column,columnGroup,defaultTab);},containerType,defaultTab,void 0,mouseEvent.target,onClosedCallback);}splitColumnOrGroup(columnOrGroup){var colIsColumn=columnOrGroup&&(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.isColumn)(columnOrGroup);var column=colIsColumn?columnOrGroup:void 0;var columnGroup=colIsColumn?void 0:columnOrGroup;return{column,columnGroup};}showMenuAfterButtonClick(columnOrGroup,eventSource,containerType,onClosedCallback,filtersOnly){var multiplier=-1;var alignSide=\"left\";if(this.gos.get(\"enableRtl\")){multiplier=1;alignSide=\"right\";}var defaultTab=filtersOnly?\"filterMenuTab\":void 0;var restrictToTabs=defaultTab?[defaultTab]:void 0;var isLegacyMenuEnabled=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isLegacyMenuEnabled)(this.gos);var nudgeX=(isLegacyMenuEnabled?9:4)*multiplier;var nudgeY=isLegacyMenuEnabled?-23:4;var{column,columnGroup}=this.splitColumnOrGroup(columnOrGroup);this.showMenu(column,columnGroup,menu=>{var ePopup=menu.getGui();this.beans.popupSvc.positionPopupByComponent({type:containerType,column,eventSource,ePopup,alignSide,nudgeX,nudgeY,position:\"under\",keepWithinBounds:true});if(defaultTab){var _menu$showTab2;(_menu$showTab2=menu.showTab)===null||_menu$showTab2===void 0||_menu$showTab2.call(menu,defaultTab);}this.dispatchVisibleChangedEvent(true,false,column,columnGroup,defaultTab);},containerType,defaultTab,restrictToTabs,eventSource,onClosedCallback);}showMenu(column,columnGroup,positionCallback,containerType,defaultTab,restrictToTabs,eventSource,onClosedCallback){var menuParams=this.getMenuParams(column,columnGroup,restrictToTabs,eventSource);if(!menuParams){return;}var{menu,eMenuGui,anchorToElement,restoreFocusParams}=menuParams;var closedFuncs=[];var{menuUtils,popupSvc}=this.beans;closedFuncs.push(e=>{var eComp=menu.getGui();this.destroyBean(menu);if(column){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setColMenuVisible)(column,false,\"contextMenu\");menuUtils.restoreFocusOnClose(restoreFocusParams,eComp,e);}onClosedCallback===null||onClosedCallback===void 0||onClosedCallback();});var translate=this.getLocaleTextFunc();popupSvc.addPopup({modal:true,eChild:eMenuGui,closeOnEsc:true,closedCallback:e=>{closedFuncs.forEach(f=>f(e));this.dispatchVisibleChangedEvent(false,false,column,columnGroup,defaultTab);},afterGuiAttached:params=>menu.afterGuiAttached(Object.assign({},{container:containerType},params)),// if defaultTab is not present, positionCallback will be called\n// after `showTabBasedOnPreviousSelection` is called.\npositionCallback:defaultTab?()=>positionCallback(menu):void 0,ariaLabel:translate(\"ariaLabelColumnMenu\",\"Column Menu\")});if(!defaultTab){var _menu$showTabBasedOnP;(_menu$showTabBasedOnP=menu.showTabBasedOnPreviousSelection)===null||_menu$showTabBasedOnP===void 0||_menu$showTabBasedOnP.call(menu);positionCallback(menu);}if((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isColumnMenuAnchoringEnabled)(this.gos)){var stopAnchoringPromise=popupSvc.setPopupPositionRelatedToElement(eMenuGui,anchorToElement);if(stopAnchoringPromise&&column){this.addStopAnchoring(stopAnchoringPromise,column,closedFuncs);}}menu.addEventListener(\"tabSelected\",event=>{this.dispatchVisibleChangedEvent(false,true,column);this.lastSelectedTab=event.key;this.dispatchVisibleChangedEvent(true,true,column);});if(column){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setColMenuVisible)(column,true,\"contextMenu\");}this.activeMenu=menu;menu.addEventListener(\"destroyed\",()=>{if(this.activeMenu===menu){this.activeMenu=null;}});}addStopAnchoring(stopAnchoringPromise,column,closedFuncsArr){stopAnchoringPromise.then(stopAnchoringFunc=>{column.__addEventListener(\"leftChanged\",stopAnchoringFunc);column.__addEventListener(\"visibleChanged\",stopAnchoringFunc);closedFuncsArr.push(()=>{column.__removeEventListener(\"leftChanged\",stopAnchoringFunc);column.__removeEventListener(\"visibleChanged\",stopAnchoringFunc);});});}getMenuParams(column,columnGroup,restrictToTabs,eventSource){var{focusSvc,visibleCols,ctrlsSvc}=this.beans;var restoreFocusParams={column,headerPosition:focusSvc.focusedHeader,columnIndex:visibleCols.allCols.indexOf(column),eventSource};var menu=this.createMenu(column,columnGroup,restoreFocusParams,restrictToTabs,eventSource);return menu?{menu,eMenuGui:menu.getGui(),anchorToElement:eventSource||ctrlsSvc.getGridBodyCtrl().eGridBody,restoreFocusParams}:void 0;}createMenu(column,columnGroup,restoreFocusParams,restrictToTabs,eventSource){if((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isLegacyMenuEnabled)(this.gos)){return this.createBean(new TabbedColumnMenu(column,restoreFocusParams,this.lastSelectedTab,restrictToTabs,eventSource));}else{var menuItems=this.beans.colMenuFactory.getMenuItems(column,columnGroup);return menuItems.length?this.createBean(new ColumnContextMenu(menuItems,column,restoreFocusParams,eventSource)):void 0;}}dispatchVisibleChangedEvent(visible,switchingTab,column,columnGroup,defaultTab){var _ref45,_this$lastSelectedTab;this.eventSvc.dispatchEvent({type:\"columnMenuVisibleChanged\",visible,switchingTab,key:(_ref45=(_this$lastSelectedTab=this.lastSelectedTab)!==null&&_this$lastSelectedTab!==void 0?_this$lastSelectedTab:defaultTab)!==null&&_ref45!==void 0?_ref45:(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isLegacyMenuEnabled)(this.gos)?TAB_GENERAL:\"columnMenu\",column:column!==null&&column!==void 0?column:null,columnGroup:columnGroup!==null&&columnGroup!==void 0?columnGroup:null});}isMenuEnabled(column){var _this$beans$filterMan2,_column$getColDef$men;if(!(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isLegacyMenuEnabled)(this.gos)){return true;}var isFilterDisabled=!((_this$beans$filterMan2=this.beans.filterManager)!==null&&_this$beans$filterMan2!==void 0&&_this$beans$filterMan2.isFilterAllowed(column));var tabs=(_column$getColDef$men=column.getColDef().menuTabs)!==null&&_column$getColDef$men!==void 0?_column$getColDef$men:TABS_DEFAULT;var numActiveTabs=isFilterDisabled&&tabs.includes(TAB_FILTER)?tabs.length-1:tabs.length;return numActiveTabs>0;}showMenuAfterContextMenuEvent(column,mouseEvent,touchEvent){this.beans.menuUtils.onContextMenu({mouseEvent,touchEvent,source:\"ui\",showMenuCallback:eventOrTouch=>{this.showMenuAfterMouseEvent(column,eventOrTouch,\"columnMenu\");return true;}});}};var TabbedColumnMenu=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BeanStub{constructor(column,restoreFocusParams,initialSelection,restrictTo,sourceElement){super();this.column=column;this.restoreFocusParams=restoreFocusParams;this.initialSelection=initialSelection;this.restrictTo=restrictTo;this.sourceElement=sourceElement;this.tabFactories={};this.includeChecks={};var{tabFactories,includeChecks}=this;tabFactories[TAB_GENERAL]=this.createMainPanel.bind(this);tabFactories[TAB_FILTER]=this.createFilterPanel.bind(this);tabFactories[TAB_COLUMNS]=this.createColumnsPanel.bind(this);includeChecks[TAB_GENERAL]=()=>true;includeChecks[TAB_FILTER]=()=>{var _this$beans$filterMan3;return column?!!((_this$beans$filterMan3=this.beans.filterManager)!==null&&_this$beans$filterMan3!==void 0&&_this$beans$filterMan3.isFilterAllowed(column)):false;};includeChecks[TAB_COLUMNS]=()=>true;}postConstruct(){var _this$mainMenuList;var tabs=this.getTabsToCreate().map(name=>this.createTab(name));var tabbedLayout=new TabbedLayout({items:tabs,cssClass:\"ag-menu\",onActiveItemClicked:this.onHidePopup.bind(this),onItemClicked:this.onTabItemClicked.bind(this)});this.tabbedLayout=this.createBean(tabbedLayout);(_this$mainMenuList=this.mainMenuList)===null||_this$mainMenuList===void 0||_this$mainMenuList.setParentComponent(tabbedLayout);this.addDestroyFunc(()=>this.destroyBean(tabbedLayout));}getTabsToCreate(){var _this$column$getColDe,_this$column;if(this.restrictTo){return this.restrictTo;}return((_this$column$getColDe=(_this$column=this.column)===null||_this$column===void 0?void 0:_this$column.getColDef().menuTabs)!==null&&_this$column$getColDe!==void 0?_this$column$getColDe:TABS_DEFAULT).filter(tabName=>this.isValidMenuTabItem(tabName)&&this.isNotSuppressed(tabName));}isValidMenuTabItem(menuTabName){var isValid=true;var itemsToConsider=TABS_DEFAULT;if(this.restrictTo!=null){isValid=this.restrictTo.indexOf(menuTabName)>-1;itemsToConsider=this.restrictTo;}isValid=isValid&&TABS_DEFAULT.indexOf(menuTabName)>-1;if(!isValid){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(175,{menuTabName,itemsToConsider});}return isValid;}isNotSuppressed(menuTabName){return this.includeChecks[menuTabName]();}createTab(name){return this.tabFactories[name]();}showTabBasedOnPreviousSelection(){this.showTab(this.initialSelection);}showTab(toShow){var{tabItemColumns,tabbedLayout,tabItemFilter,tabItemGeneral}=this;if(tabItemColumns&&toShow===TAB_COLUMNS){tabbedLayout.showItem(tabItemColumns);}else if(tabItemFilter&&toShow===TAB_FILTER){tabbedLayout.showItem(tabItemFilter);}else if(tabItemGeneral&&toShow===TAB_GENERAL){tabbedLayout.showItem(tabItemGeneral);}else{tabbedLayout.showFirstItem();}}onTabItemClicked(event){var key=null;switch(event.item){case this.tabItemColumns:key=TAB_COLUMNS;break;case this.tabItemFilter:key=TAB_FILTER;break;case this.tabItemGeneral:key=TAB_GENERAL;break;}if(key){this.activateTab(key);}}activateTab(tab){var ev={type:\"tabSelected\",key:tab};this.dispatchLocalEvent(ev);}createMainPanel(){var{beans,column}=this;var colMenuFactory=beans.colMenuFactory;var mainMenuList=colMenuFactory.createMenu(this,colMenuFactory.getMenuItems(column),this.column,()=>{var _this$sourceElement;return(_this$sourceElement=this.sourceElement)!==null&&_this$sourceElement!==void 0?_this$sourceElement:this.getGui();});this.mainMenuList=mainMenuList;mainMenuList.addEventListener(\"closeMenu\",this.onHidePopup.bind(this));var tabItemGeneral={title:(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createIconNoSpan)(\"legacyMenu\",beans,column),titleLabel:TAB_GENERAL.replace(\"MenuTab\",\"\"),bodyPromise:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgPromise.resolve(mainMenuList.getGui()),name:TAB_GENERAL};this.tabItemGeneral=tabItemGeneral;return tabItemGeneral;}onHidePopup(event){this.beans.menuUtils.closePopupAndRestoreFocusOnSelect(this.hidePopupFunc,this.restoreFocusParams,event);}createFilterPanel(){var comp=this.column?this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FilterComp(this.column,\"COLUMN_MENU\")):null;this.filterComp=comp;if(!(comp!==null&&comp!==void 0&&comp.hasFilter())){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._error)(119);}var afterAttachedCallback=params=>comp===null||comp===void 0?void 0:comp.afterGuiAttached(params);var afterDetachedCallback=()=>comp===null||comp===void 0?void 0:comp.afterGuiDetached();this.tabItemFilter={title:(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createIconNoSpan)(\"filterTab\",this.beans,this.column),titleLabel:TAB_FILTER.replace(\"MenuTab\",\"\"),bodyPromise:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgPromise.resolve(comp===null||comp===void 0?void 0:comp.getGui()),afterAttachedCallback,afterDetachedCallback,name:TAB_FILTER};return this.tabItemFilter;}createColumnsPanel(){var eWrapperDiv=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createElement)({tag:\"div\",cls:\"ag-menu-column-select-wrapper\"});var{beans,column}=this;var columnSelectPanel=beans.colChooserFactory.createColumnSelectPanel(this,column);var columnSelectPanelGui=columnSelectPanel.getGui();columnSelectPanelGui.classList.add(\"ag-menu-column-select\");eWrapperDiv.appendChild(columnSelectPanelGui);var tabItemColumns={title:(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createIconNoSpan)(\"columns\",beans,column),//createColumnsIcon(),\ntitleLabel:TAB_COLUMNS.replace(\"MenuTab\",\"\"),bodyPromise:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgPromise.resolve(eWrapperDiv),name:TAB_COLUMNS};this.tabItemColumns=tabItemColumns;return tabItemColumns;}afterGuiAttached(params){var{container,hidePopup}=params;this.tabbedLayout.setAfterAttachedParams({container,hidePopup});if(hidePopup){this.hidePopupFunc=hidePopup;this.addDestroyFunc(hidePopup);}}getGui(){return this.tabbedLayout.getGui();}destroy(){super.destroy();this.destroyBean(this.filterComp);}};var ColumnContextMenu=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(menuItems,column,restoreFocusParams,sourceElement){super({tag:\"div\",ref:\"eColumnMenu\",cls:\"ag-menu ag-column-menu\",role:\"presentation\"});this.menuItems=menuItems;this.column=column;this.restoreFocusParams=restoreFocusParams;this.sourceElement=sourceElement;this.eColumnMenu=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;}postConstruct(){var mainMenuList=this.beans.colMenuFactory.createMenu(this,this.menuItems,this.column,()=>{var _this$sourceElement2;return(_this$sourceElement2=this.sourceElement)!==null&&_this$sourceElement2!==void 0?_this$sourceElement2:this.getGui();});this.mainMenuList=mainMenuList;mainMenuList.addEventListener(\"closeMenu\",this.onHidePopup.bind(this));this.eColumnMenu.appendChild(mainMenuList.getGui());}onHidePopup(event){this.beans.menuUtils.closePopupAndRestoreFocusOnSelect(this.hidePopupFunc,this.restoreFocusParams,event);}afterGuiAttached(_ref46){var{hidePopup}=_ref46;if(hidePopup){this.hidePopupFunc=hidePopup;this.addDestroyFunc(hidePopup);}(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._focusInto)(this.mainMenuList.getGui());}};// packages/ag-grid-enterprise/src/menu/menuApi.ts\nfunction showContextMenu(beans,params){var{contextMenuSvc}=beans;if(!contextMenuSvc){return;}var{rowNode,column,value,x,y}=params||{};var{x:clientX,y:clientY}=contextMenuSvc.getContextMenuPosition(rowNode,column);if(x!=null){clientX=x;}if(y!=null){clientY=y;}contextMenuSvc.showContextMenu({mouseEvent:new MouseEvent(\"mousedown\",{clientX,clientY}),rowNode,column,value,source:\"api\"});}function showColumnChooser(beans,params){var _beans$colChooserFact;(_beans$colChooserFact=beans.colChooserFactory)===null||_beans$colChooserFact===void 0||_beans$colChooserFact.showColumnChooser({chooserParams:params});}function hideColumnChooser(beans){var _beans$colChooserFact2;(_beans$colChooserFact2=beans.colChooserFactory)===null||_beans$colChooserFact2===void 0||_beans$colChooserFact2.hideActiveColumnChooser();}// packages/ag-grid-enterprise/src/menu/menuUtils.ts\nvar MenuUtils=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BeanStub{constructor(){super(...arguments);this.beanName=\"menuUtils\";}restoreFocusOnClose(restoreFocusParams,eComp,e,restoreIfMouseEvent){var{eventSource}=restoreFocusParams;var isKeyboardEvent=e instanceof KeyboardEvent;if(!restoreIfMouseEvent&&!isKeyboardEvent||!eventSource){return;}var activeEl=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getActiveDomElement)(this.beans);if(// focus is outside of comp\n!eComp.contains(activeEl)&&// something else has focus\n!(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isNothingFocused)(this.beans)){return;}this.focusHeaderCell(restoreFocusParams);}closePopupAndRestoreFocusOnSelect(hidePopupFunc,restoreFocusParams,event){var keyboardEvent;if(event&&event.keyboardEvent){keyboardEvent=event.keyboardEvent;}hidePopupFunc(keyboardEvent&&{keyboardEvent});var beans=this.beans;var focusSvc=beans.focusSvc;var focusedCell=focusSvc.getFocusedCell();if((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isNothingFocused)(beans)){if(focusedCell){var{rowIndex,rowPinned,column}=focusedCell;focusSvc.setFocusedCell({rowIndex,column,rowPinned,forceBrowserFocus:true,preventScrollOnBrowserFocus:true});}else{this.focusHeaderCell(restoreFocusParams);}}}onContextMenu(params){var{mouseEvent,touchEvent,showMenuCallback,source}=params;if(!this.gos.get(\"allowContextMenuWithControlKey\")){if(mouseEvent&&(mouseEvent.ctrlKey||mouseEvent.metaKey)){return;}}if(mouseEvent){this.blockMiddleClickScrollsIfNeeded(mouseEvent);}if(source===\"ui\"&&this.gos.get(\"suppressContextMenu\")){return;}var eventOrTouch=mouseEvent!==null&&mouseEvent!==void 0?mouseEvent:touchEvent.touches[0];if(showMenuCallback(eventOrTouch)){var event=mouseEvent!==null&&mouseEvent!==void 0?mouseEvent:touchEvent;if(event&&event.cancelable){event.preventDefault();}}}// make this async for react\nfocusHeaderCell(restoreFocusParams){var _this9=this;return _asyncToGenerator(function*(){var{column,columnIndex,headerPosition,eventSource}=restoreFocusParams;var{visibleCols,headerNavigation,focusSvc}=_this9.beans;var isColumnStillVisible=yield visibleCols.allCols.some(col=>col===column);if(!_this9.isAlive()){return;}if(column!==null&&column!==void 0&&column.isAlive()&&isColumnStillVisible&&eventSource&&(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isVisible)(eventSource)){var focusableEl=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._findTabbableParent)(eventSource);if(focusableEl){headerNavigation===null||headerNavigation===void 0||headerNavigation.scrollToColumn(column);focusableEl.focus();}}else if(headerPosition&&columnIndex!==-1){var allColumns=visibleCols.allCols;var columnToFocus=allColumns[columnIndex]||(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._last)(allColumns);if(columnToFocus){focusSvc.focusHeaderPosition({headerPosition:{headerRowIndex:headerPosition.headerRowIndex,column:columnToFocus}});}}})();}blockMiddleClickScrollsIfNeeded(mouseEvent){if(this.gos.get(\"suppressMiddleClickScrolls\")&&mouseEvent.which===2){mouseEvent.preventDefault();}}};// packages/ag-grid-enterprise/src/menu/menuModule.ts\nvar MenuCoreModule={moduleName:\"MenuCore\",version:VERSION,beans:[MenuItemMapper,ChartMenuItemMapper,MenuUtils],icons:{// context menu chart item\nchart:\"chart\",// columns in menu (column chooser / columns tab)\ncolumns:\"columns\",// loading async menu items\nloadingMenuItems:\"loading\",// \"Pin column\" item in column header menu\nmenuPin:\"pin\",// \"Value aggregation\" column menu item (shown on numeric columns when grouping is active)\"\nmenuValue:\"aggregation\",// \"Group by {column-name}\" item in column header menu\nmenuAddRowGroup:\"group\",// \"Un-Group by {column-name}\" item in column header menu\nmenuRemoveRowGroup:\"group\",// context menu copy item\nclipboardCopy:\"copy\",// context menu cut item\nclipboardCut:\"cut\",// context menu paste item\nclipboardPaste:\"paste\",// context menu export item\nsave:\"save\",// csv export\ncsvExport:\"csv\",// excel export,\nexcelExport:\"excel\",// show on column header when column is sorted ascending\nsortAscending:\"asc\",// show on column header when column is sorted descending\nsortDescending:\"desc\",// show on column header when column has no sort, only when enabled with colDef.unSortIcon=true\nsortUnSort:\"none\"},dependsOn:[EnterpriseCoreModule,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._PopupModule,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._SharedMenuModule,MenuItemModule]};var ColumnMenuModule={moduleName:\"ColumnMenu\",version:VERSION,beans:[EnterpriseMenuFactory,ColumnMenuFactory,ColumnChooserFactory],icons:{ensureColumnVisible:\"column-arrow\",// menu tab icon in legacy tabbed enterprise column menu\nlegacyMenu:\"menu\",// filter tab icon in legacy tabbed enterprise column menu\nfilterTab:\"filter\",// column tool panel column group contracted (click to expand)\ncolumnSelectClosed:\"tree-closed\",// column tool panel column group expanded (click to contract)\ncolumnSelectOpen:\"tree-open\",// column tool panel header expand/collapse all button, shown when some children are expanded and\n//     others are collapsed\ncolumnSelectIndeterminate:\"tree-indeterminate\"},apiFunctions:{showColumnChooser,hideColumnChooser},dependsOn:[MenuCoreModule,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._SharedDragAndDropModule,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._ColumnMoveModule]};var ContextMenuModule={moduleName:\"ContextMenu\",version:VERSION,beans:[ContextMenuService],apiFunctions:{showContextMenu},dependsOn:[MenuCoreModule]};var MenuModule={moduleName:\"Menu\",version:VERSION,dependsOn:[ColumnMenuModule,ContextMenuModule]};// packages/ag-grid-enterprise/src/richSelect/richSelectModule.ts\n// packages/ag-grid-enterprise/src/richSelect/richSelectCellEditor.ts\nvar RichSelectCellEditor=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgAbstractCellEditor{constructor(){super({tag:\"div\",cls:\"ag-cell-edit-wrapper\"});this.isAsync=false;}initialiseEditor(_params){var{cellStartedEdit,values,eventKey}=this.params;if((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._missing)(values)){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(180);}var{params:richSelectParams,valuesPromise}=this.buildRichSelectParams();var richSelect=this.createManagedBean(new AgRichSelect(richSelectParams));this.eEditor=richSelect;richSelect.addCss(\"ag-cell-editor\");this.appendChild(richSelect);if(valuesPromise){this.isAsync=true;valuesPromise.then(values2=>{richSelect.setValueList({valueList:values2,refresh:true});var searchStringCallback=this.getSearchStringCallback(values2);if(searchStringCallback){richSelect.setSearchStringCreator(searchStringCallback);}this.processEventKey(eventKey);});}this.addManagedListeners(richSelect,{fieldPickerValueSelected:this.onEditorPickerValueSelected.bind(this)});this.focusAfterAttached=cellStartedEdit;}onEditorPickerValueSelected(e){setTimeout(()=>this.params.stopEditing(!e.fromEnterKey));}buildRichSelectParams(){var params=this.params;var{cellRenderer,cellHeight,value,values,formatValue,searchDebounceDelay,valueListGap,valueListMaxHeight,valueListMaxWidth,allowTyping,filterList,searchType,highlightMatch,valuePlaceholder,eventKey,multiSelect,suppressDeselectAll,suppressMultiSelectPillRenderer}=params;var ret={value,cellRenderer,cellRowHeight:cellHeight,searchDebounceDelay,valueFormatter:formatValue,pickerAriaLabelKey:\"ariaLabelRichSelectField\",pickerAriaLabelValue:\"Rich Select Field\",pickerType:\"virtual-list\",pickerGap:valueListGap,allowTyping,filterList,searchType,highlightMatch,maxPickerHeight:valueListMaxHeight,maxPickerWidth:valueListMaxWidth,placeholder:valuePlaceholder,initialInputValue:(eventKey===null||eventKey===void 0?void 0:eventKey.length)===1?eventKey:void 0,multiSelect,suppressDeselectAll,suppressMultiSelectPillRenderer};var valuesResult;var valuesPromise;if(typeof values===\"function\"){valuesResult=values(params);}else{valuesResult=values!==null&&values!==void 0?values:[];}if(Array.isArray(valuesResult)){ret.valueList=valuesResult;ret.searchStringCreator=this.getSearchStringCallback(valuesResult);}else{valuesPromise=valuesResult;}if(multiSelect&&allowTyping){params.allowTyping=ret.allowTyping=false;(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(181);}return{params:ret,valuesPromise};}getSearchStringCallback(values){var _colDef$cellEditorPar;if(typeof values[0]!==\"object\"){return;}var params=this.params;var{colDef,formatValue}=params;if((_colDef$cellEditorPar=colDef.cellEditorParams)!==null&&_colDef$cellEditorPar!==void 0&&_colDef$cellEditorPar.formatValue){return values2=>values2.map(formatValue);}var{keyCreator}=colDef;if(keyCreator){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(266);var{column,node,data}=params;return values2=>values2.map(value=>{var keyParams=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._addGridCommonParams)(this.gos,{value,colDef,column,node,data});return keyCreator(keyParams);});}return values2=>values2.map(formatValue);}// we need to have the gui attached before we can draw the virtual rows, as the\n// virtual row logic needs info about the gui state\nafterGuiAttached(){var{focusAfterAttached,params}=this;setTimeout(()=>{if(!this.isAlive()){return;}var richSelect=this.eEditor;var{allowTyping,eventKey}=params;if(focusAfterAttached){var focusableEl=richSelect.getFocusableElement();focusableEl.focus();if(allowTyping&&(!eventKey||eventKey.length!==1)){focusableEl.select();}}richSelect.showPicker();if(!this.isAsync){this.processEventKey(eventKey);}});}processEventKey(eventKey){if(!eventKey){return;}if((eventKey===null||eventKey===void 0?void 0:eventKey.length)===1){this.eEditor.searchTextFromString(eventKey);}}focusIn(){this.eEditor.getFocusableElement().focus();}getValue(){var _params$parseValue,_params$parseValue2;var{params}=this;var value=this.eEditor.getValue();return(_params$parseValue=(_params$parseValue2=params.parseValue)===null||_params$parseValue2===void 0?void 0:_params$parseValue2.call(params,value))!==null&&_params$parseValue!==void 0?_params$parseValue:value;}isPopup(){return false;}getValidationElement(){return this.eEditor.getAriaElement();}getValidationErrors(){var{params}=this;var{getValidationErrors}=params;if(!getValidationErrors){return null;}return getValidationErrors({value:this.getValue(),internalErrors:null,cellEditorParams:params});}};// packages/ag-grid-enterprise/src/richSelect/richSelectModule.ts\nvar RichSelectModule={moduleName:\"RichSelect\",version:VERSION,beans:[],userComponents:{agRichSelect:RichSelectCellEditor,agRichSelectCellEditor:RichSelectCellEditor},icons:{// open icon for rich select editor\nrichSelectOpen:\"small-down\",// remove for rich select editor pills\nrichSelectRemove:\"cancel\"},dependsOn:[EnterpriseCoreModule,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._EditCoreModule]};// packages/ag-grid-enterprise/src/setFilter/setFilterModule.ts\n// packages/ag-grid-enterprise/src/setFilter/setFilter.ts\n// packages/ag-grid-enterprise/src/setFilter/iSetDisplayValueModel.ts\nvar SET_FILTER_SELECT_ALL=\"__AG_SELECT_ALL__\";var SET_FILTER_ADD_SELECTION_TO_FILTER=\"__AG_ADD_SELECTION_TO_FILTER__\";// packages/ag-grid-enterprise/src/setFilter/flatSetDisplayValueModel.ts\nvar FlatSetDisplayValueModel=class{constructor(valueSvc,getValueFormatter,formatter,column){this.valueSvc=valueSvc;this.getValueFormatter=getValueFormatter;this.formatter=formatter;this.column=column;/** All keys that are currently displayed, after the mini-filter has been applied. */this.displayedKeys=[];}updateDisplayedValuesToAllAvailable(_getValue,_allKeys,availableKeys){this.displayedKeys=Array.from(availableKeys);}updateDisplayedValuesToMatchMiniFilter(getValue,_allKeys,availableKeys,matchesFilter,nullMatchesFilter){this.displayedKeys=[];var valueFormatter=this.getValueFormatter();for(var key of availableKeys){if(key==null){if(nullMatchesFilter){this.displayedKeys.push(key);}}else{var value=getValue(key);var valueFormatterValue=this.valueSvc.formatValue(this.column,null,value,valueFormatter,false);var textFormatterValue=this.formatter(valueFormatterValue);if(matchesFilter(textFormatterValue)){this.displayedKeys.push(key);}}}}getDisplayedValueCount(){return this.displayedKeys.length;}getDisplayedItem(index){return this.displayedKeys[index];}getSelectAllItem(){return SET_FILTER_SELECT_ALL;}getAddSelectionToFilterItem(){return SET_FILTER_ADD_SELECTION_TO_FILTER;}getDisplayedKeys(){return this.displayedKeys;}forEachDisplayedKey(func){this.displayedKeys.forEach(func);}someDisplayedKey(func){return this.displayedKeys.some(func);}hasGroups(){return false;}refresh(){}};// packages/ag-grid-enterprise/src/setFilter/setFilterListItem.ts\nvar SetFilterGroupElement={tag:\"div\",cls:\"ag-set-filter-item\",attrs:{\"aria-hidden\":\"true\"},children:[{tag:\"span\",cls:\"ag-set-filter-group-icons\",children:[{tag:\"span\",ref:\"eGroupClosedIcon\",cls:\"ag-set-filter-group-closed-icon\"},{tag:\"span\",ref:\"eGroupOpenedIcon\",cls:\"ag-set-filter-group-opened-icon\"},{tag:\"span\",ref:\"eGroupIndeterminateIcon\",cls:\"ag-set-filter-group-indeterminate-icon\"}]},{tag:\"ag-checkbox\",ref:\"eCheckbox\",cls:\"ag-set-filter-item-checkbox\"}]};var SetFilterElement={tag:\"div\",cls:\"ag-set-filter-item\",children:[{tag:\"ag-checkbox\",ref:\"eCheckbox\",cls:\"ag-set-filter-item-checkbox\"}]};var SetFilterListItem=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(params){var _params$depth;super(params.isGroup?SetFilterGroupElement:SetFilterElement,[ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgCheckboxSelector]);this.eCheckbox=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.eGroupOpenedIcon=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.eGroupClosedIcon=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.eGroupIndeterminateIcon=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.formattedValue=null;this.focusWrapper=params.focusWrapper;this.value=params.value;this.params=params.params;this.translate=params.translate;this.valueFormatter=params.valueFormatter;this.item=params.item;this.isSelected=params.isSelected;this.isTree=params.isTree;this.depth=(_params$depth=params.depth)!==null&&_params$depth!==void 0?_params$depth:0;this.isGroup=params.isGroup;this.groupsExist=params.groupsExist;this.isExpanded=params.isExpanded;this.hasIndeterminateExpandState=params.hasIndeterminateExpandState;}postConstruct(){this.tooltipFeature=this.createOptionalManagedBean(this.beans.registry.createDynamicBean(\"tooltipFeature\",false,{getGui:()=>this.getGui(),getColDef:()=>this.params.colDef,getColumn:()=>this.params.column,getLocation:()=>\"setFilterValue\",shouldDisplayTooltip:()=>{var _this$shouldDisplayTo5,_this$shouldDisplayTo6;return(_this$shouldDisplayTo5=(_this$shouldDisplayTo6=this.shouldDisplayTooltip)===null||_this$shouldDisplayTo6===void 0?void 0:_this$shouldDisplayTo6.call(this))!==null&&_this$shouldDisplayTo5!==void 0?_this$shouldDisplayTo5:true;},getValueFormatted:()=>this.formattedValue,getAdditionalParams:()=>this.isTree?{level:this.depth}:{}}));this.addDestroyFunc(()=>{var _this$destroyCellRend;return(_this$destroyCellRend=this.destroyCellRendererComponent)===null||_this$destroyCellRend===void 0?void 0:_this$destroyCellRend.call(this);});this.render();this.eCheckbox.setLabelEllipsis(true).setValue(this.isSelected,true).setDisabled(!!this.params.readOnly).getInputElement().setAttribute(\"tabindex\",\"-1\");this.refreshVariableAriaLabels();if(this.isTree){if(this.depth>0){this.addCss(\"ag-set-filter-indent-\"+this.depth);this.getGui().style.setProperty(\"--ag-indentation-level\",String(this.depth));}if(this.isGroup){this.setupExpansion();}else{if(this.groupsExist){this.addCss(\"ag-set-filter-add-group-indent\");}}(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setAriaLevel)(this.getAriaElement(),this.depth+1);}this.refreshAriaChecked();if(this.params.readOnly){return;}this.eCheckbox.onValueChange(value=>this.onCheckboxChanged(!!value));}getFocusableElement(){return this.focusWrapper;}setupExpansion(){var{eGroupClosedIcon,eGroupOpenedIcon,eGroupIndeterminateIcon,hasIndeterminateExpandState,beans}=this;eGroupClosedIcon.appendChild((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createIcon)(\"setFilterGroupClosed\",beans,null));eGroupOpenedIcon.appendChild((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createIcon)(\"setFilterGroupOpen\",beans,null));var listener=this.onExpandOrContractClicked.bind(this);this.addManagedElementListeners(eGroupClosedIcon,{click:listener});this.addManagedElementListeners(eGroupOpenedIcon,{click:listener});if(hasIndeterminateExpandState){eGroupIndeterminateIcon.appendChild((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createIcon)(\"setFilterGroupIndeterminate\",beans,null));this.addManagedElementListeners(eGroupIndeterminateIcon,{click:listener});}this.setExpandedIcons();this.refreshAriaExpanded();}onExpandOrContractClicked(){this.setExpanded(!this.isExpanded);}setExpanded(isExpanded,silent){if(this.isGroup&&isExpanded!==this.isExpanded){this.isExpanded=isExpanded;var event={type:\"expandedChanged\",isExpanded:!!isExpanded,item:this.item};if(!silent){this.dispatchLocalEvent(event);}this.setExpandedIcons();this.refreshAriaExpanded();}}setExpandedIcons(){var{isExpanded,hasIndeterminateExpandState,eGroupClosedIcon,eGroupOpenedIcon,eGroupIndeterminateIcon}=this;(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setDisplayed)(eGroupClosedIcon,hasIndeterminateExpandState?isExpanded===false:!isExpanded);(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setDisplayed)(eGroupOpenedIcon,isExpanded===true);if(hasIndeterminateExpandState){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setDisplayed)(eGroupIndeterminateIcon,isExpanded===void 0);}}onCheckboxChanged(isSelected){this.isSelected=isSelected;var event={type:\"selectionChanged\",isSelected,item:this.item};this.dispatchLocalEvent(event);this.refreshVariableAriaLabels();this.refreshAriaChecked();}toggleSelected(){if(this.params.readOnly){return;}this.setSelected(!this.isSelected);}setSelected(isSelected,silent){this.isSelected=isSelected;this.eCheckbox.setValue(isSelected,silent);this.refreshAriaChecked();}refreshVariableAriaLabels(){if(!this.isTree){return;}var translate=this.getLocaleTextFunc();var checkboxValue=this.eCheckbox.getValue();var state=checkboxValue===void 0?translate(\"ariaIndeterminate\",\"indeterminate\"):checkboxValue?translate(\"ariaVisible\",\"visible\"):translate(\"ariaHidden\",\"hidden\");var visibilityLabel=translate(\"ariaToggleVisibility\",\"Press SPACE to toggle visibility\");(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setAriaLabelledBy)(this.eCheckbox.getInputElement(),void 0);this.eCheckbox.setInputAriaLabel(\"\".concat(visibilityLabel,\" (\").concat(state,\")\"));}setupFixedAriaLabels(value){if(!this.isTree){return;}var translate=this.getLocaleTextFunc();var itemLabel=translate(\"ariaFilterValue\",\"Filter Value\");var ariaEl=this.getAriaElement();(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setAriaLabel)(ariaEl,\"\".concat(value,\" \").concat(itemLabel));(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setAriaDescribedBy)(ariaEl,this.eCheckbox.getInputElement().id);}refreshAriaChecked(){var ariaEl=this.getAriaElement();(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setAriaChecked)(ariaEl,this.eCheckbox.getValue());}refreshAriaExpanded(){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setAriaExpanded)(this.getAriaElement(),!!this.isExpanded);}refresh(item,isSelected,isExpanded){this.item=item;if(isSelected!==this.isSelected){this.setSelected(isSelected,true);}this.setExpanded(isExpanded,true);var{cellRendererComponent,cellRendererParams,beans,params}=this;if(this.valueFunction){var value=this.valueFunction();this.setTooltipAndCellRendererParams(value,value);if(!cellRendererComponent){this.renderCellWithoutCellRenderer();}}if(cellRendererComponent){var _cellRendererComponen,_compDetails$params;var compDetails=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getCellRendererDetails)(beans.userCompFactory,params,cellRendererParams);var success=(_cellRendererComponen=cellRendererComponent.refresh)===null||_cellRendererComponen===void 0?void 0:_cellRendererComponen.call(cellRendererComponent,(_compDetails$params=compDetails===null||compDetails===void 0?void 0:compDetails.params)!==null&&_compDetails$params!==void 0?_compDetails$params:cellRendererParams);if(!success){var oldComponent=cellRendererComponent;this.renderCell();this.destroyBean(oldComponent);}}}render(){var{params:{column}}=this;var{value}=this;var formattedValue=null;if(typeof value===\"function\"){this.valueFunction=value;formattedValue=this.valueFunction();value=formattedValue;}else if(this.isTree){formattedValue=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._toStringOrNull)(value);}else{formattedValue=this.getFormattedValue(column,value);}this.formattedValue=formattedValue;this.setTooltipAndCellRendererParams(value,formattedValue);this.renderCell();}setTooltipAndCellRendererParams(value,formattedValue){var gos=this.gos;if(this.params.showTooltips&&(!(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isShowTooltipWhenTruncated)(gos)||!this.params.cellRenderer)){var _this$tooltipFeature9;var newTooltipText=formattedValue!=null?formattedValue:(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._toStringOrNull)(value);this.shouldDisplayTooltip=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getShouldDisplayTooltip)(gos,()=>this.eCheckbox.getGui().querySelector(\".ag-label\"));(_this$tooltipFeature9=this.tooltipFeature)===null||_this$tooltipFeature9===void 0||_this$tooltipFeature9.setTooltipAndRefresh(newTooltipText);}this.cellRendererParams=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._addGridCommonParams)(gos,{value,valueFormatted:formattedValue,colDef:this.params.colDef,column:this.params.column,setTooltip:(value2,shouldDisplayTooltip)=>{var _this$tooltipFeature0;gos.assertModuleRegistered(\"Tooltip\",3);this.shouldDisplayTooltip=shouldDisplayTooltip;(_this$tooltipFeature0=this.tooltipFeature)===null||_this$tooltipFeature0===void 0||_this$tooltipFeature0.setTooltipAndRefresh(value2);}});}getFormattedValue(column,value){return this.beans.valueSvc.formatValue(column,null,value,this.valueFormatter,false);}renderCell(){var compDetails=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getCellRendererDetails)(this.beans.userCompFactory,this.params,this.cellRendererParams);var cellRendererPromise=compDetails===null||compDetails===void 0?void 0:compDetails.newAgStackInstance();if(cellRendererPromise==null){this.renderCellWithoutCellRenderer();return;}cellRendererPromise.then(component=>{if(component){this.cellRendererComponent=component;this.eCheckbox.setLabel(component.getGui());this.destroyCellRendererComponent=()=>this.destroyBean(component);}});}renderCellWithoutCellRenderer(){var _ref47;var{valueFormatted,value}=this.cellRendererParams;var valueToRender=(_ref47=valueFormatted==null?value:valueFormatted)!==null&&_ref47!==void 0?_ref47:this.translate(\"blanks\");if(typeof valueToRender!==\"string\"){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(208);valueToRender=\"\";}this.eCheckbox.setLabel(valueToRender);this.setupFixedAriaLabels(valueToRender);}getComponentHolder(){return this.params.column.getColDef();}};// packages/ag-grid-enterprise/src/setFilter/setFilterUtils.ts\n// packages/ag-grid-enterprise/src/setFilter/localeText.ts\nvar DEFAULT_LOCALE_TEXT={loadingOoo:\"Loading...\",blanks:\"(Blanks)\",searchOoo:\"Search...\",selectAll:\"(Select All)\",selectAllSearchResults:\"(Select All Search Results)\",addCurrentSelectionToFilter:\"Add current selection to filter\",noMatches:\"No matches.\",ariaSearchFilterValues:\"Search filter values\",ariaFilterList:\"Filter List\",filterSummaryListInactive:\"is (All)\",filterSummaryListSeparator:\", \",filterSummaryListShort:variableValues=>\"is (\".concat(variableValues[0],\")\"),filterSummaryListLong:variableValues=>\"is (\".concat(variableValues[0],\") and \").concat(variableValues[1],\" more\")};// packages/ag-grid-enterprise/src/setFilter/setFilterUtils.ts\nfunction processDataPath(dataPath,treeData,groupAllowUnbalanced){var processedDataPath=dataPath;if(!processedDataPath){return null;}processedDataPath=processedDataPath.map(treeKey=>(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._toStringOrNull)((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._makeNull)(treeKey)));if(!treeData&&groupAllowUnbalanced&&processedDataPath.some(treeKey=>treeKey==null)){if((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._last)(processedDataPath)==null){return null;}return processedDataPath.filter(treeKey=>treeKey!=null);}return processedDataPath;}function translateForSetFilter(bean,key,variableValues){return (0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._translate)(bean,DEFAULT_LOCALE_TEXT,key,variableValues);}function applyExcelModeOptions(params){if(params.excelMode===\"windows\"){if(!params.buttons){params.buttons=[\"apply\",\"cancel\"];}if(params.closeOnApply==null){params.closeOnApply=true;}}else if(params.excelMode===\"mac\"){if(!params.buttons){params.buttons=[\"reset\"];}if(params.applyMiniFilterWhileTyping==null){params.applyMiniFilterWhileTyping=true;}if(params.debounceMs==null){params.debounceMs=500;}}if(params.excelMode&&params.defaultToNothingSelected){params.defaultToNothingSelected=false;(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(207);}}function createTreeDataOrGroupingComparator(){return(_ref48,_ref49)=>{var[_aKey,aValue]=_ref48;var[_bKey,bValue]=_ref49;if(aValue==null){return bValue==null?0:-1;}else if(bValue==null){return 1;}for(var i=0;i<aValue.length;i++){if(i>=bValue.length){return 1;}var diff=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._defaultComparator)(aValue[i],bValue[i]);if(diff!==0){return diff;}}return 0;};}// packages/ag-grid-enterprise/src/setFilter/treeSetDisplayValueModel.ts\nvar TreeSetDisplayValueModel=class{constructor(formatter,treeListPathGetter,treeListFormatter,treeDataOrGrouping){this.formatter=formatter;this.treeListPathGetter=treeListPathGetter;this.treeListFormatter=treeListFormatter;this.treeDataOrGrouping=treeDataOrGrouping;/** all displayed items in a tree structure */this.allDisplayedItemsTree=/* @__PURE__ */new Map();/** all displayed items flattened and filtered */this.activeDisplayedItemsFlat=[];this.selectAllItem={depth:0,filterPasses:true,available:true,treeKey:SET_FILTER_SELECT_ALL,children:this.allDisplayedItemsTree,expanded:true,key:SET_FILTER_SELECT_ALL,parentTreeKeys:[]};this.addSelectionToFilterItem={depth:0,filterPasses:true,available:true,treeKey:SET_FILTER_ADD_SELECTION_TO_FILTER,expanded:true,key:SET_FILTER_ADD_SELECTION_TO_FILTER,parentTreeKeys:[]};}updateParams(treeListPathGetter,treeListFormatter){this.treeListPathGetter=treeListPathGetter;this.treeListFormatter=treeListFormatter;}updateDisplayedValuesToAllAvailable(getValue,allKeys,availableKeys,source){if(source===\"reload\"){this.generateItemTree(getValue,allKeys,availableKeys);}else if(source===\"otherFilter\"){this.updateAvailable(availableKeys);this.updateExpandAll();}else if(source===\"miniFilter\"){this.resetFilter();this.updateExpandAll();}this.flattenItems();}updateDisplayedValuesToMatchMiniFilter(getValue,allKeys,availableKeys,matchesFilter,nullMatchesFilter,source){if(source===\"reload\"){this.generateItemTree(getValue,allKeys,availableKeys);}else if(source===\"otherFilter\"){this.updateAvailable(availableKeys);}this.updateFilter(matchesFilter,nullMatchesFilter);this.updateExpandAll();this.flattenItems();}generateItemTree(getValue,allKeys,availableKeys){var allDisplayedItemsTree=/* @__PURE__ */new Map();this.allDisplayedItemsTree=allDisplayedItemsTree;var groupsExist=false;var treeListPathGetter=this.getTreeListPathGetter(getValue,availableKeys);for(var key of allKeys){var _treeListPathGetter;var value=getValue(key);var dataPath=(_treeListPathGetter=treeListPathGetter(value))!==null&&_treeListPathGetter!==void 0?_treeListPathGetter:[null];var dataPathLength=dataPath.length;if(dataPathLength>1){groupsExist=true;}var available=availableKeys.has(key);var children=allDisplayedItemsTree;var item=void 0;var parentTreeKeys=[];for(var depth=0;depth<dataPathLength;depth++){var _treeKey$toUpperCase;var treeKey=dataPath[depth];if(!children){children=/* @__PURE__ */new Map();item.children=children;}var treeKeyUpper=(_treeKey$toUpperCase=treeKey===null||treeKey===void 0?void 0:treeKey.toUpperCase())!==null&&_treeKey$toUpperCase!==void 0?_treeKey$toUpperCase:null;item=children.get(treeKeyUpper);if(!item){item={treeKey,depth,filterPasses:true,expanded:false,available,parentTreeKeys};if(depth===dataPath.length-1){item.key=key;}children.set(treeKeyUpper,item);}children=item.children;parentTreeKeys=[...parentTreeKeys,treeKey];}}this.groupsExist=groupsExist;this.updateAvailable(availableKeys);this.selectAllItem.children=allDisplayedItemsTree;this.selectAllItem.expanded=false;}getTreeListPathGetter(getValue,availableKeys){if(this.treeListPathGetter){return this.treeListPathGetter;}if(this.treeDataOrGrouping){return value=>value;}var isDate=false;for(var availableKey of availableKeys){var value=getValue(availableKey);if(value instanceof Date){isDate=true;break;}else if(value!=null){break;}}if(isDate){return value=>(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getDateParts)(value,false);}(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(211);return value=>[String(value)];}flattenItems(){this.activeDisplayedItemsFlat=[];var recursivelyFlattenDisplayedItems=items=>{for(var item of items.values()){if(!item.filterPasses||!item.available){continue;}this.activeDisplayedItemsFlat.push(item);if(item.children&&item.expanded){recursivelyFlattenDisplayedItems(item.children);}}};recursivelyFlattenDisplayedItems(this.allDisplayedItemsTree);}resetFilter(){var recursiveFilterReset=item=>{var children=item.children;if(children){for(var child of children.values()){recursiveFilterReset(child);}}item.filterPasses=true;};for(var item of this.allDisplayedItemsTree.values()){recursiveFilterReset(item);}}updateFilter(matchesFilter,nullMatchesFilter){var passesFilter=item=>{if(!item.available){return false;}if(item.treeKey==null){return nullMatchesFilter;}return matchesFilter(this.formatter(this.treeListFormatter?this.treeListFormatter(item.treeKey,item.depth,item.parentTreeKeys):item.treeKey));};for(var item of this.allDisplayedItemsTree.values()){this.recursiveItemCheck(item,false,passesFilter,\"filterPasses\");}}getDisplayedValueCount(){return this.activeDisplayedItemsFlat.length;}getDisplayedItem(index){return this.activeDisplayedItemsFlat[index];}getSelectAllItem(){return this.selectAllItem;}getAddSelectionToFilterItem(){return this.addSelectionToFilterItem;}getDisplayedKeys(){var displayedKeys=[];this.forEachDisplayedKey(key=>displayedKeys.push(key));return displayedKeys;}forEachDisplayedKey(func){var recursiveForEachItem=(item,topParentExpanded)=>{var children=item.children;if(children){if(!item.expanded||!topParentExpanded){for(var child of children.values()){if(child.filterPasses){recursiveForEachItem(child,false);}}}}else{func(item.key);}};this.activeDisplayedItemsFlat.forEach(item=>recursiveForEachItem(item,true));}someDisplayedKey(func){var recursiveSomeItem=(item,topParentExpanded)=>{var children=item.children;if(children){if(!item.expanded||!topParentExpanded){for(var child of children.values()){if(child.filterPasses&&recursiveSomeItem(child,false)){return true;}}return false;}}else{return func(item.key);}return false;};return this.activeDisplayedItemsFlat.some(item=>recursiveSomeItem(item,true));}hasGroups(){return this.groupsExist;}refresh(){this.updateExpandAll();this.flattenItems();}updateExpandAll(){var recursiveExpansionCheck=(items,someTrue,someFalse)=>{for(var item2 of items.values()){if(!item2.filterPasses||!item2.available||!item2.children){continue;}someTrue=someTrue||!!item2.expanded;someFalse=someFalse||!item2.expanded;if(someTrue&&someFalse){return void 0;}var childExpanded=recursiveExpansionCheck(item2.children,someTrue,someFalse);if(childExpanded===void 0){return void 0;}else if(childExpanded){someTrue=true;}else{someFalse=true;}}return someTrue&&someFalse?void 0:someTrue;};var item=this.getSelectAllItem();item.expanded=recursiveExpansionCheck(item.children,false,false);}recursiveItemCheck(item,parentPasses,checkFunction,itemProp){var atLeastOneChildPassed=false;var children=item.children;if(children){for(var child of children.values()){var childPasses=this.recursiveItemCheck(child,parentPasses||checkFunction(item),checkFunction,itemProp);atLeastOneChildPassed=atLeastOneChildPassed||childPasses;}}var itemPasses=parentPasses||atLeastOneChildPassed||checkFunction(item);item[itemProp]=itemPasses;return itemPasses;}updateAvailable(availableKeys){var isAvailable=item=>availableKeys.has(item.key);for(var item of this.allDisplayedItemsTree.values()){this.recursiveItemCheck(item,false,isAvailable,\"available\");}}};// packages/ag-grid-enterprise/src/setFilter/setFilter.ts\nvar SetFilter=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.ProvidedFilter{constructor(){super(\"setFilter\",\"set-filter\");this.filterType=\"set\";this.eMiniFilter=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.eFilterLoading=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.eFilterLoadingIcon=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.eSetFilterList=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.eFilterNoMatches=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.hardRefreshVirtualList=false;this.miniFilterText=null;/** When true, in excelMode = 'windows', it adds previously selected filter items to newly checked filter selection */this.addCurrentSelectionToFilter=false;/** Keys that have been selected for this filter. */this.selectedKeys=/* @__PURE__ */new Set();}setParams(params){super.setParams(params);var handler=this.updateHandler(params.getHandler());var{column,textFormatter,treeList,treeListPathGetter,treeListFormatter}=params;this.formatter=textFormatter!==null&&textFormatter!==void 0?textFormatter:value=>value!==null&&value!==void 0?value:null;this.displayValueModel=treeList?new TreeSetDisplayValueModel(this.formatter,treeListPathGetter,treeListFormatter,handler.isTreeDataOrGrouping()):new FlatSetDisplayValueModel(this.beans.valueSvc,()=>this.handler.valueFormatter,this.formatter,column);handler.valueModel.allKeys.then(values=>{this.updateDisplayedValues(\"reload\",values!==null&&values!==void 0?values:[]);this.resetSelectionState(values!==null&&values!==void 0?values:[]);});if(handler.valueModel.isLoading()){this.setIsLoading(true);}this.initialiseFilterBodyUi();}refresh(legacyNewParams){if(this.params.treeList!==legacyNewParams.treeList){return false;}this.updateHandler(legacyNewParams.getHandler());return super.refresh(legacyNewParams);}updateParams(newParams,oldParams){super.updateParams(newParams,oldParams);this.updateMiniFilter();if(newParams.suppressSelectAll!==oldParams.suppressSelectAll){this.createVirtualListModel(newParams);}var{textFormatter,treeListPathGetter,treeListFormatter}=newParams;this.formatter=textFormatter!==null&&textFormatter!==void 0?textFormatter:value=>value!==null&&value!==void 0?value:null;if(this.displayValueModel instanceof TreeSetDisplayValueModel){this.displayValueModel.updateParams(treeListPathGetter,treeListFormatter);}this.handler.refreshFilterValues();}updateHandler(handler){var oldHandler=this.handler;if(oldHandler!==handler){var _this$handlerDestroyF;(_this$handlerDestroyF=this.handlerDestroyFuncs)===null||_this$handlerDestroyF===void 0||_this$handlerDestroyF.forEach(func=>func());this.handlerDestroyFuncs=[...this.addManagedListeners(handler,{anyFilterChanged:event=>{handler.valueModel.allKeys.then(values=>{if(this.isAlive()){this.updateDisplayedValues(\"otherFilter\",values!==null&&values!==void 0?values:[]);if(event.updated){this.checkAndRefreshVirtualList();this.showOrHideResults();}}});},dataChanged:_ref50=>{var{hardRefresh}=_ref50;handler.valueModel.allKeys.then(values=>{if(this.isAlive()){var _this$state$model$val,_this$state$model;this.updateDisplayedValues(\"reload\",values!==null&&values!==void 0?values:[]);this.setSelectedModel((_this$state$model$val=(_this$state$model=this.state.model)===null||_this$state$model===void 0?void 0:_this$state$model.values)!==null&&_this$state$model$val!==void 0?_this$state$model$val:null);if(hardRefresh){this.hardRefreshVirtualList=true;}this.checkAndRefreshVirtualList();}});}}),...this.addManagedListeners(handler.valueModel,{loadingStart:()=>this.setIsLoading(true),loadingEnd:()=>this.setIsLoading(false)})];this.handler=handler;}return handler;}// unlike the simple filters, nothing in the set filter UI shows/hides.\n// maybe this method belongs in abstractSimpleFilter???\nupdateUiVisibility(){}createBodyTemplate(){return{tag:\"div\",cls:\"ag-set-filter\",children:[{tag:\"div\",ref:\"eFilterLoading\",cls:\"ag-filter-loading ag-loading ag-hidden\",children:[{tag:\"span\",ref:\"eFilterLoadingIcon\",cls:\"ag-loading-icon\"},{tag:\"span\",cls:\"ag-loading-text\",children:translateForSetFilter(this,\"loadingOoo\")}]},{tag:\"ag-input-text-field\",ref:\"eMiniFilter\",cls:\"ag-mini-filter\"},{tag:\"div\",ref:\"eFilterNoMatches\",cls:\"ag-filter-no-matches ag-hidden\",children:translateForSetFilter(this,\"noMatches\")},{tag:\"div\",ref:\"eSetFilterList\",cls:\"ag-set-filter-list\",role:\"presentation\"}]};}getAgComponents(){return[ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgInputTextFieldSelector];}handleKeyDown(e){var _getComponentForKeyEv,_getComponentForKeyEv2,_getComponentForKeyEv3;super.handleKeyDown(e);if(e.defaultPrevented){return;}var getComponentForKeyEvent=()=>{if(!this.eSetFilterList.contains((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getActiveDomElement)(this.beans))){return;}var currentItem=this.virtualList.getLastFocusedRow();if(currentItem==null){return;}var component=this.virtualList.getComponentAt(currentItem);if(component==null){return;}e.preventDefault();var{readOnly}=this.params;if(readOnly){return;}return component;};switch(e.key){case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.SPACE:(_getComponentForKeyEv=getComponentForKeyEvent())===null||_getComponentForKeyEv===void 0||_getComponentForKeyEv.toggleSelected();break;case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.ENTER:this.handleKeyEnter(e);break;case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.LEFT:(_getComponentForKeyEv2=getComponentForKeyEvent())===null||_getComponentForKeyEv2===void 0||_getComponentForKeyEv2.setExpanded(false);break;case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.RIGHT:(_getComponentForKeyEv3=getComponentForKeyEvent())===null||_getComponentForKeyEv3===void 0||_getComponentForKeyEv3.setExpanded(true);break;}}handleKeyEnter(e){e.preventDefault();var{excelMode,readOnly}=this.params;if(!excelMode||!!readOnly){return;}this.params.onAction(\"apply\",void 0,e);if(this.params.excelMode===\"mac\"){this.eMiniFilter.getInputElement().select();}}setModelAndRefresh(values){return this.setSelectedModel(values).then(()=>{if(this.isAlive()){this.checkAndRefreshVirtualList();}});}setModelIntoUi(model){var _this$params$state$st,_this$params$state$st2;this.setMiniFilter((_this$params$state$st=(_this$params$state$st2=this.params.state.state)===null||_this$params$state$st2===void 0?void 0:_this$params$state$st2.miniFilterValue)!==null&&_this$params$state$st!==void 0?_this$params$state$st:null);var values=model==null?null:model.values;return this.setModelAndRefresh(values);}getModelFromUi(){var values=this.getSelectedModel();if(!values){return null;}return{values,filterType:this.filterType};}areNonNullModelsEqual(a,b){return (0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._areEqual)(a.values,b.values);}setIsLoading(isLoading){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setDisplayed)(this.eFilterLoading,isLoading);if(!isLoading){this.hardRefreshVirtualList=true;}}initialiseFilterBodyUi(){this.initVirtualList();this.initMiniFilter();this.initLoading();}initLoading(){var loadingIcon=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createIconNoSpan)(\"setFilterLoading\",this.beans,this.params.column);if(loadingIcon){this.eFilterLoadingIcon.appendChild(loadingIcon);}}initVirtualList(){var filterListName=translateForSetFilter(this,\"ariaFilterList\");var isTree=!!this.params.treeList;var virtualList=this.virtualList=this.createBean(new VirtualList({cssIdentifier:\"filter\",ariaRole:isTree?\"tree\":\"listbox\",listName:filterListName}));var eSetFilterList=this.eSetFilterList;if(isTree){eSetFilterList.classList.add(\"ag-set-filter-tree-list\");}eSetFilterList.appendChild(virtualList.getGui());var{cellHeight}=this.params;if(cellHeight!=null){virtualList.setRowHeight(cellHeight);}var componentCreator=(item,listItemElement)=>this.createSetListItem(item,isTree,listItemElement);virtualList.setComponentCreator(componentCreator);var componentUpdater=(item,component)=>this.updateSetListItem(item,component);virtualList.setComponentUpdater(componentUpdater);this.createVirtualListModel(this.params);}createVirtualListModel(params){var model;if(params.suppressSelectAll){model=new ModelWrapper(this.displayValueModel);}else{model=new ModelWrapperWithSelectAll(this.displayValueModel,this.showAddCurrentSelectionToFilter.bind(this));}if(params.treeList){model=new TreeModelWrapper(model);}this.virtualList.setModel(model);}getSelectAllLabel(){var key=this.miniFilterText==null||!this.params.excelMode?\"selectAll\":\"selectAllSearchResults\";return translateForSetFilter(this,key);}getAddSelectionToFilterLabel(){return translateForSetFilter(this,\"addCurrentSelectionToFilter\");}createSetListItem(item,isTree,focusWrapper){var groupsExist=this.displayValueModel.hasGroups();var{isSelected,isExpanded}=this.isSelectedExpanded(item);var{value,depth,isGroup,hasIndeterminateExpandState,selectedListener,expandedListener}=this.newSetListItemAttributes(item);var itemParams={focusWrapper,value,params:this.params,translate:translateKey=>translateForSetFilter(this,translateKey),valueFormatter:this.handler.valueFormatter,item,isSelected,isTree,depth,groupsExist,isGroup,isExpanded,hasIndeterminateExpandState};var listItem=this.createBean(new SetFilterListItem(itemParams));listItem.addEventListener(\"selectionChanged\",selectedListener);if(expandedListener){listItem.addEventListener(\"expandedChanged\",expandedListener);}return listItem;}newSetTreeItemAttributes(item){var _this$params$treeList3,_this$params$treeList4,_this$params5;var groupsExist=this.displayValueModel.hasGroups();if(item.key===SET_FILTER_SELECT_ALL){return{value:()=>this.getSelectAllLabel(),isGroup:groupsExist,depth:item.depth,hasIndeterminateExpandState:true,selectedListener:e=>this.onSelectAll(e.isSelected),expandedListener:e=>this.onExpandAll(e.item,e.isExpanded)};}if(item.key===SET_FILTER_ADD_SELECTION_TO_FILTER){return{value:()=>this.getAddSelectionToFilterLabel(),depth:item.depth,isGroup:false,hasIndeterminateExpandState:false,selectedListener:e=>{this.addCurrentSelectionToFilter=e.isSelected;this.refreshAfterSelection();}};}if(item.children){var _this$params$treeList,_this$params$treeList2,_this$params4;return{value:(_this$params$treeList=(_this$params$treeList2=(_this$params4=this.params).treeListFormatter)===null||_this$params$treeList2===void 0?void 0:_this$params$treeList2.call(_this$params4,item.treeKey,item.depth,item.parentTreeKeys))!==null&&_this$params$treeList!==void 0?_this$params$treeList:item.treeKey,depth:item.depth,isGroup:true,selectedListener:e=>this.onGroupItemSelected(e.item,e.isSelected),expandedListener:e=>this.onExpandedChanged(e.item,e.isExpanded)};}return{value:(_this$params$treeList3=(_this$params$treeList4=(_this$params5=this.params).treeListFormatter)===null||_this$params$treeList4===void 0?void 0:_this$params$treeList4.call(_this$params5,item.treeKey,item.depth,item.parentTreeKeys))!==null&&_this$params$treeList3!==void 0?_this$params$treeList3:item.treeKey,depth:item.depth,selectedListener:e=>this.onItemSelected(e.item.key,e.isSelected)};}newSetListItemAttributes(item){var _this$handler$valueMo;if(this.isSetFilterModelTreeItem(item)){return this.newSetTreeItemAttributes(item);}if(item===SET_FILTER_SELECT_ALL){return{value:()=>this.getSelectAllLabel(),selectedListener:e=>this.onSelectAll(e.isSelected)};}if(item===SET_FILTER_ADD_SELECTION_TO_FILTER){return{value:()=>this.getAddSelectionToFilterLabel(),selectedListener:e=>{this.addCurrentSelectionToFilter=e.isSelected;this.refreshAfterSelection();}};}return{value:(_this$handler$valueMo=this.handler.valueModel.allValues.get(item))!==null&&_this$handler$valueMo!==void 0?_this$handler$valueMo:null,selectedListener:e=>this.onItemSelected(e.item,e.isSelected)};}updateSetListItem(item,component){var{isSelected,isExpanded}=this.isSelectedExpanded(item);component.refresh(item,isSelected,isExpanded);}isSelectedExpanded(item){var isSelected;var isExpanded;if(this.isSetFilterModelTreeItem(item)){isExpanded=item.expanded;if(item.key===SET_FILTER_SELECT_ALL){isSelected=this.isSelectAllSelected();}else if(item.key===SET_FILTER_ADD_SELECTION_TO_FILTER){isSelected=this.isAddCurrentSelectionToFilterChecked();}else if(item.children){isSelected=this.areAllChildrenSelected(item);}else{isSelected=this.selectedKeys.has(item.key);}}else{if(item===SET_FILTER_SELECT_ALL){isSelected=this.isSelectAllSelected();}else if(item===SET_FILTER_ADD_SELECTION_TO_FILTER){isSelected=this.isAddCurrentSelectionToFilterChecked();}else{isSelected=this.selectedKeys.has(item);}}return{isSelected,isExpanded};}isSetFilterModelTreeItem(item){return(item===null||item===void 0?void 0:item.treeKey)!==void 0;}initMiniFilter(){var{eMiniFilter}=this;this.updateMiniFilter();eMiniFilter.onValueChange(()=>this.onMiniFilterInput());eMiniFilter.setInputAriaLabel(translateForSetFilter(this,\"ariaSearchFilterValues\"));this.addManagedElementListeners(eMiniFilter.getInputElement(),{keydown:e=>this.onMiniFilterKeyDown(e)});}updateMiniFilter(){var{eMiniFilter,miniFilterText,params}=this;eMiniFilter.setDisplayed(!params.suppressMiniFilter);eMiniFilter.setValue(miniFilterText);}// we need to have the GUI attached before we can draw the virtual rows, as the\n// virtual row logic needs info about the GUI state\nafterGuiAttached(params){super.afterGuiAttached(params);this.resetExpansion();this.refreshVirtualList();var{eMiniFilter}=this;eMiniFilter.setInputPlaceholder(translateForSetFilter(this,\"searchOoo\"));if(!params||!params.suppressFocus){if(eMiniFilter.isDisplayed()){eMiniFilter.getFocusableElement().focus();}else{this.virtualList.awaitStable(()=>this.virtualList.focusRow(0));}}}afterGuiDetached(){var _this$beans$colFilter;super.afterGuiDetached();var{column,excelMode,model,onStateChange}=this.params;if((_this$beans$colFilter=this.beans.colFilter)!==null&&_this$beans$colFilter!==void 0&&_this$beans$colFilter.shouldKeepStateOnDetach(column)){return;}if(excelMode){this.resetMiniFilter();}if(excelMode||model!==this.state.model){onStateChange({model,state:this.getState()});this.showOrHideResults();}}canApply(model){return this.params.excelMode?model==null||model.values.length>0:true;}/**\n   * @deprecated v34 Internal method - should only be called by the grid.\n   */onNewRowsLoaded(){}/**\n   * @deprecated v34 Use the same method on the filter handler (`api.getColumnFilterHandler()`) instead.\n   */setFilterValues(values){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(283);this.handler.setFilterValues(values);}/**\n   * @deprecated v34 Use the same method on the filter handler (`api.getColumnFilterHandler()`) instead.\n   */resetFilterValues(){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(283);this.handler.resetFilterValues();}/**\n   * @deprecated v34 Use the same method on the filter handler (`api.getColumnFilterHandler()`) instead.\n   */refreshFilterValues(){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(283);this.doRefreshFilterValues();}doRefreshFilterValues(){this.handler.refreshFilterValues();}/**\n   * @deprecated v34 Internal method - should only be called by the grid.\n   */onAnyFilterChanged(){}onMiniFilterInput(){if(!this.doSetMiniFilter(this.eMiniFilter.getValue())){return;}var{applyMiniFilterWhileTyping,readOnly,excelMode}=this.params;var updateSelections=!readOnly&&(applyMiniFilterWhileTyping||!!excelMode);var apply=applyMiniFilterWhileTyping&&!readOnly?\"debounce\":void 0;this.updateUiAfterMiniFilterChange(updateSelections,apply);}updateUiAfterMiniFilterChange(updateSelections,apply){if(updateSelections){var{excelMode,readOnly,model}=this.params;if(excelMode&&!readOnly&&this.miniFilterText==null){var _model$values;this.setModelAndRefresh((_model$values=model===null||model===void 0?void 0:model.values)!==null&&_model$values!==void 0?_model$values:null);}else{this.selectAllMatchingMiniFilter(true);}}this.checkAndRefreshVirtualList();this.onUiChanged(updateSelections?apply:\"prevent\");this.showOrHideResults();}showOrHideResults(){var hideResults=this.miniFilterText!=null&&this.displayValueModel.getDisplayedValueCount()<1;(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setDisplayed)(this.eFilterNoMatches,hideResults);(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setDisplayed)(this.eSetFilterList,!hideResults);}resetMiniFilter(){this.eMiniFilter.setValue(null,true);this.doSetMiniFilter(null);}onMiniFilterKeyDown(e){var{excelMode,readOnly}=this.params;if(e.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.ENTER&&!excelMode&&!readOnly){this.updateUiAfterMiniFilterChange(true,\"immediately\");}}focusRowIfAlive(rowIndex){if(rowIndex==null){return Promise.resolve();}return new Promise(res=>{window.setTimeout(()=>{if(this.isAlive()){this.virtualList.focusRow(rowIndex);}res();},0);});}onSelectAll(isSelected){if(isSelected){this.selectAllMatchingMiniFilter();}else{this.deselectAllMatchingMiniFilter();}this.refreshAfterSelection();}onGroupItemSelected(item,isSelected){var recursiveGroupSelection=i=>{if(!i.filterPasses){return;}var children=i.children;if(children){for(var childItem of children.values()){recursiveGroupSelection(childItem);}}else{this.setKeySelected(i.key,isSelected);}};recursiveGroupSelection(item);this.refreshAfterSelection();}onItemSelected(key,isSelected){this.setKeySelected(key,isSelected);this.refreshAfterSelection();}onExpandAll(item,isExpanded){var recursiveExpansion=i=>{if(i.filterPasses&&i.available&&i.children){for(var childItem of i.children.values()){recursiveExpansion(childItem);}i.expanded=isExpanded;}};recursiveExpansion(item);this.refreshAfterExpansion();}onExpandedChanged(item,isExpanded){item.expanded=isExpanded;this.refreshAfterExpansion();}refreshAfterExpansion(){var focusedRow=this.virtualList.getLastFocusedRow();this.updateDisplayedValues(\"expansion\");this.checkAndRefreshVirtualList();this.focusRowIfAlive(focusedRow);}refreshAfterSelection(){var focusedRow=this.virtualList.getLastFocusedRow();this.checkAndRefreshVirtualList();this.onUiChanged();this.focusRowIfAlive(focusedRow);}setMiniFilter(newMiniFilter){this.eMiniFilter.setValue(newMiniFilter);this.onMiniFilterInput();}/** Sets mini filter value. Returns true if it changed from last value, otherwise false. */doSetMiniFilter(value){value=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._makeNull)(value);if(this.miniFilterText===value){return false;}if(value===null){this.addCurrentSelectionToFilter=false;}this.miniFilterText=value;this.updateDisplayedValues(\"miniFilter\");return true;}getMiniFilter(){return this.miniFilterText;}getUiChangeEventParams(){return{miniFilterValue:this.miniFilterText};}getState(){var miniFilterValue=this.miniFilterText;return miniFilterValue?{miniFilterValue}:void 0;}checkAndRefreshVirtualList(){this.virtualList.refresh(!this.hardRefreshVirtualList);if(this.hardRefreshVirtualList){this.hardRefreshVirtualList=false;}}/**\n   * @deprecated v34 Use the same method on the filter handler (`api.getColumnFilterHandler()`) instead.\n   */getFilterKeys(){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(283);return this.handler.getFilterKeys();}/**\n   * @deprecated v34 Use the same method on the filter handler (`api.getColumnFilterHandler()`) instead.\n   */getFilterValues(){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(283);return this.handler.getFilterValues();}refreshVirtualList(){if(this.params.refreshValuesOnOpen){this.doRefreshFilterValues();}else{this.checkAndRefreshVirtualList();}}isSelectAllSelected(){if(!this.params.defaultToNothingSelected){if(this.hasSelections()&&this.isNothingVisibleSelected()){return false;}if(this.isEverythingVisibleSelected()){return true;}}else{if(this.hasSelections()&&this.isEverythingVisibleSelected()){return true;}if(this.isNothingVisibleSelected()){return false;}}return void 0;}areAllChildrenSelected(item){var recursiveChildSelectionCheck=i=>{if(i.children){var someTrue=false;var someFalse=false;for(var child of i.children.values()){if(!child.filterPasses||!child.available){continue;}var childSelected=recursiveChildSelectionCheck(child);if(childSelected===void 0){return void 0;}if(childSelected){someTrue=true;}else{someFalse=true;}if(someTrue&&someFalse){return void 0;}}return someTrue;}else{return this.selectedKeys.has(i.key);}};if(!this.params.defaultToNothingSelected){return recursiveChildSelectionCheck(item);}else{return this.hasSelections()&&recursiveChildSelectionCheck(item);}}resetExpansion(){if(!this.params.treeList){return;}var selectAllItem=this.displayValueModel.getSelectAllItem();if(this.isSetFilterModelTreeItem(selectAllItem)){var recursiveCollapse=i=>{var children=i.children;if(children){for(var childItem of children.values()){recursiveCollapse(childItem);}i.expanded=false;}};recursiveCollapse(selectAllItem);this.updateDisplayedValues(\"expansion\");}}getModelAsString(model){return this.handler.getModelAsString(model);}getPositionableElement(){return this.eSetFilterList;}updateDisplayedValues(source,allKeys){if(source===\"expansion\"){this.displayValueModel.refresh();return;}var handler=this.handler;var valueModel=handler.valueModel;if(this.miniFilterText==null){this.displayValueModel.updateDisplayedValuesToAllAvailable(key=>{var _valueModel$allValues;return(_valueModel$allValues=valueModel.allValues.get(key))!==null&&_valueModel$allValues!==void 0?_valueModel$allValues:null;},allKeys,valueModel.availableKeys,source);return;}var formattedFilterText=handler.caseFormat(this.formatter(this.miniFilterText)||\"\");var matchesFilter=valueToCheck=>valueToCheck!=null&&handler.caseFormat(valueToCheck).indexOf(formattedFilterText)>=0;var nullMatchesFilter=!!this.params.excelMode&&matchesFilter(translateForSetFilter(this,\"blanks\"));this.displayValueModel.updateDisplayedValuesToMatchMiniFilter(key=>{var _valueModel$allValues2;return(_valueModel$allValues2=valueModel.allValues.get(key))!==null&&_valueModel$allValues2!==void 0?_valueModel$allValues2:null;},allKeys,valueModel.availableKeys,matchesFilter,nullMatchesFilter,source);}hasSelections(){return this.params.defaultToNothingSelected?this.selectedKeys.size>0:this.handler.valueModel.allValues.size!==this.selectedKeys.size;}isInWindowsExcelMode(){return this.params.excelMode===\"windows\";}isAddCurrentSelectionToFilterChecked(){return this.isInWindowsExcelMode()&&this.addCurrentSelectionToFilter;}showAddCurrentSelectionToFilter(){return this.isInWindowsExcelMode()&&(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._exists)(this.miniFilterText)&&this.miniFilterText.length>0;}selectAllMatchingMiniFilter(){var clearExistingSelection=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;if(this.miniFilterText==null){this.selectedKeys=new Set(this.handler.valueModel.allValues.keys());}else{if(clearExistingSelection){this.selectedKeys.clear();}this.displayValueModel.forEachDisplayedKey(key=>this.selectedKeys.add(key));}}deselectAllMatchingMiniFilter(){if(this.miniFilterText==null){this.selectedKeys.clear();}else{this.displayValueModel.forEachDisplayedKey(key=>this.selectedKeys.delete(key));}}setKeySelected(key,selected){if(selected){this.selectedKeys.add(key);}else{if(this.params.excelMode&&this.isEverythingVisibleSelected()){this.resetSelectionState(this.displayValueModel.getDisplayedKeys());}this.selectedKeys.delete(key);}}isEverythingVisibleSelected(){return!this.displayValueModel.someDisplayedKey(it=>!this.selectedKeys.has(it));}isNothingVisibleSelected(){return!this.displayValueModel.someDisplayedKey(it=>this.selectedKeys.has(it));}getSelectedModel(){var _this$params$model;if(!this.hasSelections()){return null;}var filteringKeys=this.isAddCurrentSelectionToFilterChecked()?(_this$params$model=this.params.model)===null||_this$params$model===void 0?void 0:_this$params$model.values:void 0;if(filteringKeys!==null&&filteringKeys!==void 0&&filteringKeys.length){if(this.selectedKeys){var modelKeys=/* @__PURE__ */new Set([...filteringKeys,...this.selectedKeys]);return Array.from(modelKeys);}return Array.from(filteringKeys);}return Array.from(this.selectedKeys);}setSelectedModel(model){var handler=this.handler;var valueModel=handler.valueModel;return valueModel.allKeys.then(keys=>{if(model==null){this.resetSelectionState(keys!==null&&keys!==void 0?keys:[]);}else{this.selectedKeys.clear();var existingFormattedKeys=/* @__PURE__ */new Map();valueModel.allValues.forEach((_value,key)=>{existingFormattedKeys.set(handler.caseFormat(key),key);});model.forEach(unformattedKey=>{var formattedKey=handler.caseFormat((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._makeNull)(unformattedKey));var existingUnformattedKey=existingFormattedKeys.get(formattedKey);if(existingUnformattedKey!==void 0){this.selectedKeys.add(existingUnformattedKey);}});}});}resetSelectionState(keys){if(this.params.defaultToNothingSelected){this.selectedKeys.clear();}else{this.selectedKeys=new Set(keys);}}destroy(){var _this$handlerDestroyF2;this.virtualList=this.destroyBean(this.virtualList);(_this$handlerDestroyF2=this.handlerDestroyFuncs)===null||_this$handlerDestroyF2===void 0||_this$handlerDestroyF2.forEach(func=>func());this.handler=void 0;this.displayValueModel=void 0;this.selectedKeys.clear();super.destroy();}};var ModelWrapper=class{constructor(model){this.model=model;}getRowCount(){return this.model.getDisplayedValueCount();}getRow(index){return this.model.getDisplayedItem(index);}areRowsEqual(oldRow,newRow){return oldRow===newRow;}};var ModelWrapperWithSelectAll=class{constructor(model,showAddCurrentSelectionToFilter){this.model=model;this.showAddCurrentSelectionToFilter=showAddCurrentSelectionToFilter;}getRowCount(){var showAddCurrentSelectionToFilter=this.showAddCurrentSelectionToFilter();var outboundItems=showAddCurrentSelectionToFilter?2:1;return this.model.getDisplayedValueCount()+outboundItems;}getRow(index){if(index===0){return this.model.getSelectAllItem();}var showAddCurrentSelectionToFilter=this.showAddCurrentSelectionToFilter();var outboundItems=showAddCurrentSelectionToFilter?2:1;if(index===1&&showAddCurrentSelectionToFilter){return this.model.getAddSelectionToFilterItem();}return this.model.getDisplayedItem(index-outboundItems);}areRowsEqual(oldRow,newRow){return oldRow===newRow;}};var TreeModelWrapper=class{constructor(model){this.model=model;}getRowCount(){return this.model.getRowCount();}getRow(index){return this.model.getRow(index);}areRowsEqual(oldRow,newRow){if(oldRow==null&&newRow==null){return true;}return oldRow!=null&&newRow!=null&&oldRow.treeKey===newRow.treeKey&&oldRow.depth===newRow.depth;}};// packages/ag-grid-enterprise/src/setFilter/setFilterHandler.ts\n// packages/ag-grid-enterprise/src/setFilter/clientSideValueExtractor.ts\nvar ClientSideValuesExtractor=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BeanStub{constructor(createKey,caseFormat,getValue,isTreeDataOrGrouping,isTreeData){super();this.createKey=createKey;this.caseFormat=caseFormat;this.getValue=getValue;this.isTreeDataOrGrouping=isTreeDataOrGrouping;this.isTreeData=isTreeData;}extractUniqueValuesAsync(predicate,existingValues){return new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgPromise(resolve=>{if(this.beans.rowModel.isRowDataLoaded()){resolve(this.extractUniqueValues(predicate,existingValues));}else{var[destroyFunc]=this.addManagedEventListeners({rowCountReady:()=>{destroyFunc===null||destroyFunc===void 0||destroyFunc();resolve(this.extractUniqueValues(predicate,existingValues));}});}});}extractUniqueValues(predicate,existingValues){var _this$beans$rowGroupC4;var values=/* @__PURE__ */new Map();var existingFormattedKeys=this.extractExistingFormattedKeys(existingValues);var formattedKeys=/* @__PURE__ */new Set();var treeData=this.isTreeData();var treeDataOrGrouping=this.isTreeDataOrGrouping();var groupedCols=(_this$beans$rowGroupC4=this.beans.rowGroupColsSvc)===null||_this$beans$rowGroupC4===void 0?void 0:_this$beans$rowGroupC4.columns;var groupAllowUnbalanced=this.gos.get(\"groupAllowUnbalanced\");var addValue=(unformattedKey,value)=>{var formattedKey=this.caseFormat(unformattedKey);if(!formattedKeys.has(formattedKey)){formattedKeys.add(formattedKey);var keyToAdd=unformattedKey;var valueToAdd=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._makeNull)(value);var existingUnformattedKey=existingFormattedKeys===null||existingFormattedKeys===void 0?void 0:existingFormattedKeys.get(formattedKey);if(existingUnformattedKey!=null){keyToAdd=existingUnformattedKey;valueToAdd=existingValues.get(existingUnformattedKey);}values.set(keyToAdd,valueToAdd);}};this.beans.rowModel.forEachLeafNode(node=>{if(!node.data||!predicate(node)){return;}if(treeDataOrGrouping){this.addValueForTreeDataOrGrouping(node,treeData,groupedCols,addValue,groupAllowUnbalanced);return;}var value=this.getValue(node);if(value!=null&&Array.isArray(value)){value.forEach(x=>{addValue(this.createKey(x,node),x);});if(value.length===0){addValue(null,null);}}else{addValue(this.createKey(value,node),value);}});return values;}addValueForTreeDataOrGrouping(node,treeData){var groupedCols=arguments.length>2&&arguments[2]!==undefined?arguments[2]:[];var addValue=arguments.length>3?arguments[3]:undefined;var groupAllowUnbalanced=arguments.length>4?arguments[4]:undefined;var dataPath;if(treeData){var _node$childrenAfterGr,_node$getRoute,_node$key;if((_node$childrenAfterGr=node.childrenAfterGroup)!==null&&_node$childrenAfterGr!==void 0&&_node$childrenAfterGr.length){return;}dataPath=(_node$getRoute=node.getRoute())!==null&&_node$getRoute!==void 0?_node$getRoute:[(_node$key=node.key)!==null&&_node$key!==void 0?_node$key:node.id];}else{dataPath=groupedCols.map(groupCol=>this.beans.valueSvc.getKeyForNode(groupCol,node));dataPath.push(this.getValue(node));}var processedDataPath=processDataPath(dataPath,treeData,groupAllowUnbalanced);addValue(this.createKey(processedDataPath),processedDataPath);}extractExistingFormattedKeys(existingValues){if(!existingValues){return null;}var existingFormattedKeys=/* @__PURE__ */new Map();existingValues.forEach((_value,key)=>{existingFormattedKeys.set(this.caseFormat(key),key);});return existingFormattedKeys;}};// packages/ag-grid-enterprise/src/setFilter/setFilterAppliedModel.ts\nvar SetFilterAppliedModel=class{constructor(caseFormat){this.caseFormat=caseFormat;// This attribute contains keys that are actually used for filtering.\n// These keys take into account case sensitivity:\n// - When filtering is case-insensitive, all filtering keys are converted to upper case and stored here.\nthis.keys=null;}/** No model applied */isNull(){return this.keys==null;}/** Nothing selected */isEmpty(){var _this$keys;return!((_this$keys=this.keys)!==null&&_this$keys!==void 0&&_this$keys.size);}update(appliedModel){var keys=/* @__PURE__ */new Set();this.keys=keys;var values=appliedModel===null||appliedModel===void 0?void 0:appliedModel.values;if(values){var caseFormat=this.caseFormat;for(var i=0,len=values.length;i<len;i++){keys.add(caseFormat(values[i]));}}}has(key){var _this$keys2;return!!((_this$keys2=this.keys)!==null&&_this$keys2!==void 0&&_this$keys2.has(this.caseFormat(key)));}destroy(){this.keys=null;}};// packages/ag-grid-enterprise/src/setFilter/setValueModel.ts\nvar SetFilterModelValuesType=/* @__PURE__ */(SetFilterModelValuesType2=>{SetFilterModelValuesType2[SetFilterModelValuesType2[\"PROVIDED_LIST\"]=0]=\"PROVIDED_LIST\";SetFilterModelValuesType2[SetFilterModelValuesType2[\"PROVIDED_CALLBACK\"]=1]=\"PROVIDED_CALLBACK\";SetFilterModelValuesType2[SetFilterModelValuesType2[\"TAKEN_FROM_GRID_VALUES\"]=2]=\"TAKEN_FROM_GRID_VALUES\";return SetFilterModelValuesType2;})(SetFilterModelValuesType||{});var setValueModel_default=SetFilterModelValuesType;var SetValueModel=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BeanStub{constructor(clientSideValuesExtractor,caseFormat,createKey,isTreeDataOrGrouping,params){super();this.clientSideValuesExtractor=clientSideValuesExtractor;this.caseFormat=caseFormat;this.createKey=createKey;this.isTreeDataOrGrouping=isTreeDataOrGrouping;this.params=params;/** All possible values for the filter, sorted if required. */this.allValues=/* @__PURE__ */new Map();/** Remaining keys when filters from other columns have been applied. */this.availableKeys=/* @__PURE__ */new Set();this.providedValues=null;this.initialised=false;}postConstruct(){var params=this.params;var values=params.handlerParams.filterParams.values;this.updateParams(params);if(values==null){this.valuesType=2/* TAKEN_FROM_GRID_VALUES */;}else{this.valuesType=Array.isArray(values)?0/* PROVIDED_LIST */:1/* PROVIDED_CALLBACK */;this.providedValues=values;}this.updateAllValues();}refresh(params){var handlerParams=params.handlerParams;if(handlerParams.source!==\"colDef\"){return;}var{values,suppressSorting}=handlerParams.filterParams;var currentProvidedValues=this.providedValues;var currentSuppressSorting=this.params.handlerParams.filterParams.suppressSorting;this.params=params;this.updateParams(params);this.providedValues=values!==null&&values!==void 0?values:null;if(this.providedValues!==currentProvidedValues||suppressSorting!==currentSuppressSorting){if(!values||values.length===0){this.valuesType=2/* TAKEN_FROM_GRID_VALUES */;this.providedValues=null;}else{this.valuesType=Array.isArray(values)?0/* PROVIDED_LIST */:1/* PROVIDED_CALLBACK */;}this.updateAllValues();}}updateParams(params){var{handlerParams:{colDef,filterParams:{comparator,treeList,treeListPathGetter}},usingComplexObjects}=params;var keyComparator=comparator!==null&&comparator!==void 0?comparator:colDef.comparator;var treeDataOrGrouping=this.isTreeDataOrGrouping();var entryComparator;if(treeDataOrGrouping&&!keyComparator){entryComparator=createTreeDataOrGroupingComparator();}else if(treeList&&!treeListPathGetter&&!keyComparator){entryComparator=(_ref51,_ref52)=>{var[_aKey,aValue]=_ref51;var[_bKey,bValue]=_ref52;return (0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._defaultComparator)(aValue,bValue);};}else{entryComparator=(_ref53,_ref54)=>{var[_aKey,aValue]=_ref53;var[_bKey,bValue]=_ref54;return keyComparator(aValue,bValue);};}this.entryComparator=entryComparator;this.keyComparator=keyComparator!==null&&keyComparator!==void 0?keyComparator:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._defaultComparator;this.compareByValue=!!(usingComplexObjects&&keyComparator||treeDataOrGrouping||treeList&&!treeListPathGetter);}updateAllValues(){this.allKeys=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgPromise(resolve=>{switch(this.valuesType){case 2/* TAKEN_FROM_GRID_VALUES */:this.getValuesFromRowsAsync().then(values=>resolve(this.processAllValues(values)));break;case 0/* PROVIDED_LIST */:{resolve(this.processAllValues(this.uniqueValues(this.validateProvidedValues(this.providedValues))));break;}case 1/* PROVIDED_CALLBACK */:{this.dispatchLocalEvent({type:\"loadingStart\"});var callback=this.providedValues;var{column,colDef}=this.params.handlerParams;var params=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._addGridCommonParams)(this.gos,{success:values=>{this.dispatchLocalEvent({type:\"loadingEnd\"});resolve(this.processAllValues(this.uniqueValues(this.validateProvidedValues(values))));},colDef,column});window.setTimeout(()=>callback(params),0);break;}}});this.allKeys.then(values=>{this.updateAvailableKeys(values!==null&&values!==void 0?values:[]);this.initialised=true;});return this.allKeys;}getAvailableValues(predicate){return this.sortKeys(this.getValuesFromRows(predicate));}overrideValues(valuesToUse){return this.allKeys.then(()=>{this.valuesType=0/* PROVIDED_LIST */;this.providedValues=valuesToUse;});}refreshAvailable(){return new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgPromise(resolve=>{if(this.showAvailableOnly()){this.allKeys.then(keys=>{var updatedKeys=keys!==null&&keys!==void 0?keys:[];this.updateAvailableKeys(updatedKeys);resolve(true);});return;}resolve(false);});}refreshAll(){return new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgPromise(resolve=>{this.allKeys.then(()=>{this.updateAllValues().then(()=>{resolve();});});});}isLoading(){return!this.initialised&&this.valuesType===1/* PROVIDED_CALLBACK */;}isInitialised(){return this.initialised;}getValueForFormatter(key){return this.initialised?this.allValues.get(key):key;}getAvailableKeys(values){return this.initialised?values.filter(v=>this.availableKeys.has(v)):values;}getParamsForValuesFromRows(removeUnavailableValues){if(!this.clientSideValuesExtractor){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._error)(113);return void 0;}var existingValues=removeUnavailableValues&&!this.params.handlerParams.filterParams.caseSensitive?this.allValues:void 0;return existingValues;}getValuesFromRows(predicate){var _this$clientSideValue,_this$clientSideValue2;var existingValues=this.getParamsForValuesFromRows(true);return(_this$clientSideValue=(_this$clientSideValue2=this.clientSideValuesExtractor)===null||_this$clientSideValue2===void 0?void 0:_this$clientSideValue2.extractUniqueValues(predicate,existingValues))!==null&&_this$clientSideValue!==void 0?_this$clientSideValue:null;}getValuesFromRowsAsync(){var _this$clientSideValue3,_this$clientSideValue4;var existingValues=this.getParamsForValuesFromRows(false);return(_this$clientSideValue3=(_this$clientSideValue4=this.clientSideValuesExtractor)===null||_this$clientSideValue4===void 0?void 0:_this$clientSideValue4.extractUniqueValuesAsync(()=>true,existingValues))!==null&&_this$clientSideValue3!==void 0?_this$clientSideValue3:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgPromise.resolve(null);}processAllValues(values){var sortedKeys=this.sortKeys(values);this.allValues=values!==null&&values!==void 0?values:/* @__PURE__ */new Map();return sortedKeys;}uniqueValues(values){var uniqueValues=/* @__PURE__ */new Map();var formattedKeys=/* @__PURE__ */new Set();var{caseFormat,createKey}=this;(values!==null&&values!==void 0?values:[]).forEach(value=>{var valueToUse=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._makeNull)(value);var unformattedKey=createKey(valueToUse);var formattedKey=caseFormat(unformattedKey);if(!formattedKeys.has(formattedKey)){formattedKeys.add(formattedKey);uniqueValues.set(unformattedKey,valueToUse);}});return uniqueValues;}validateProvidedValues(values){if(this.params.usingComplexObjects&&values!==null&&values!==void 0&&values.length){var firstValue=values[0];if(firstValue&&typeof firstValue!==\"object\"&&typeof firstValue!==\"function\"){var firstKey=this.createKey(firstValue);if(firstKey==null){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(209);}else{(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(210);}}}return values;}sortKeys(nullableValues){var values=nullableValues!==null&&nullableValues!==void 0?nullableValues:/* @__PURE__ */new Map();var filterParams=this.params.handlerParams.filterParams;if(filterParams.suppressSorting){return Array.from(values.keys());}var sortedKeys;if(this.compareByValue){sortedKeys=Array.from(values.entries()).sort(this.entryComparator).map(_ref55=>{var[key]=_ref55;return key;});}else{sortedKeys=Array.from(values.keys()).sort(this.keyComparator);}if(filterParams.excelMode&&values.has(null)){sortedKeys=sortedKeys.filter(v=>v!=null);sortedKeys.push(null);}return sortedKeys;}showAvailableOnly(){return this.valuesType===2/* TAKEN_FROM_GRID_VALUES */;}updateAvailableKeys(allKeys){var availableKeys=this.showAvailableOnly()?this.getAvailableValues(node=>this.params.handlerParams.doesRowPassOtherFilter(node)):allKeys;this.availableKeys=new Set(availableKeys);this.dispatchLocalEvent({type:\"availableValuesChanged\"});}};// packages/ag-grid-enterprise/src/setFilter/setFilterHandler.ts\nvar SetFilterHandler=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BeanStub{constructor(){super(...arguments);/** Used to get the filter type for filter models. */this.filterType=\"set\";this.treeDataTreeList=false;this.groupingTreeList=false;this.caseSensitive=false;this.noValueFormatterSupplied=false;}init(params){var _params$filterParams$;this.updateParams(params);var isTreeDataOrGrouping=this.isTreeDataOrGrouping.bind(this);var isTreeData=()=>this.treeDataTreeList;var createKey=this.createKey;var caseFormat=this.caseFormat.bind(this);var{gos,beans}=this;var clientSideValuesExtractor=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isClientSideRowModel)(gos,beans.rowModel)?this.createManagedBean(new ClientSideValuesExtractor(createKey,caseFormat,params.getValue,isTreeDataOrGrouping,isTreeData)):void 0;this.valueModel=this.createManagedBean(new SetValueModel(clientSideValuesExtractor,caseFormat,createKey,isTreeDataOrGrouping,{handlerParams:params,usingComplexObjects:!!((_params$filterParams$=params.filterParams.keyCreator)!==null&&_params$filterParams$!==void 0?_params$filterParams$:params.colDef.keyCreator)}));this.appliedModel=new SetFilterAppliedModel(this.caseFormat.bind(this));this.appliedModel.update(params.model);this.validateModel(params);this.addEventListenersForDataChanges();}refresh(params){var _params$filterParams$2;this.updateParams(params);this.valueModel.refresh({handlerParams:params,usingComplexObjects:!!((_params$filterParams$2=params.filterParams.keyCreator)!==null&&_params$filterParams$2!==void 0?_params$filterParams$2:params.colDef.keyCreator)});this.appliedModel.update(params.model);this.validateModel(params);}updateParams(params){var _this$beans$rowGroupC5;this.params=params;var{column,colDef,filterParams:{caseSensitive,treeList,keyCreator,valueFormatter}}=params;this.caseSensitive=!!caseSensitive;var isGroupCol=column.getId().startsWith(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GROUP_AUTO_COLUMN_ID);this.treeDataTreeList=this.gos.get(\"treeData\")&&!!treeList&&isGroupCol;this.groupingTreeList=!!((_this$beans$rowGroupC5=this.beans.rowGroupColsSvc)!==null&&_this$beans$rowGroupC5!==void 0&&_this$beans$rowGroupC5.columns.length)&&!!treeList&&isGroupCol;var resolvedKeyCreator=keyCreator!==null&&keyCreator!==void 0?keyCreator:colDef.keyCreator;this.createKey=this.generateCreateKey(resolvedKeyCreator,this.isTreeDataOrGrouping());this.setValueFormatter(valueFormatter,resolvedKeyCreator,!!treeList,!!colDef.refData);}doesFilterPass(params){var{appliedModel,treeDataTreeList,groupingTreeList}=this;if(appliedModel.isNull()){return true;}if(appliedModel.isEmpty()){return false;}var{node}=params;if(treeDataTreeList){return this.doesFilterPassForTreeData(node);}if(groupingTreeList){return this.doesFilterPassForGrouping(node);}var value=this.params.getValue(node);if(value!=null&&Array.isArray(value)){if(value.length===0){return appliedModel.has(null);}return value.some(v=>appliedModel.has(this.createKey(v,node)));}return appliedModel.has(this.createKey(value,node));}getFormattedValue(key){var _ref56;var value=this.valueModel.getValueForFormatter(key);if(this.noValueFormatterSupplied&&this.isTreeDataOrGrouping()&&Array.isArray(value)){value=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._last)(value);}var formattedValue=this.beans.valueSvc.formatValue(this.params.column,null,value,this.valueFormatter,false);return(_ref56=formattedValue==null?(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._toStringOrNull)(value):formattedValue)!==null&&_ref56!==void 0?_ref56:translateForSetFilter(this,\"blanks\");}getModelAsString(model,source){var{values}=model!==null&&model!==void 0?model:{};var forToolPanel=source===\"filterToolPanel\";if(values==null){return forToolPanel?translateForSetFilter(this,\"filterSummaryListInactive\"):\"\";}var availableKeys=this.valueModel.getAvailableKeys(values);var numValues=availableKeys.length;var numToDisplay=forToolPanel?3:10;var formattedValues=availableKeys.slice(0,numToDisplay).map(key=>this.getFormattedValue(key));if(forToolPanel){var valueList=formattedValues.join(translateForSetFilter(this,\"filterSummaryListSeparator\"));if(numValues>3){return translateForSetFilter(this,\"filterSummaryListLong\",[valueList,String(numValues-3)]);}else{return translateForSetFilter(this,\"filterSummaryListShort\",[valueList]);}}return\"(\".concat(numValues,\") \").concat(formattedValues.join(\",\")).concat(numValues>10?\",...\":\"\");}onAnyFilterChanged(){window.setTimeout(()=>{if(!this.isAlive()){return;}this.valueModel.refreshAvailable().then(updated=>{this.dispatchLocalEvent({type:\"anyFilterChanged\",updated:!!updated});});});}onNewRowsLoaded(){this.syncAfterDataChange();}setFilterValues(values){this.valueModel.overrideValues(values).then(()=>{this.refreshFilterValues();});}resetFilterValues(){this.valueModel.valuesType=setValueModel_default.TAKEN_FROM_GRID_VALUES;this.syncAfterDataChange();}refreshFilterValues(){if(!this.valueModel.isInitialised()){return;}this.valueModel.refreshAll().then(()=>{this.dispatchLocalEvent({type:\"dataChanged\",hardRefresh:true});this.validateModel(this.params,void 0,true);});}getFilterKeys(){return Array.from(this.valueModel.allValues.keys());}getFilterValues(){return Array.from(this.valueModel.allValues.values());}isTreeDataOrGrouping(){return this.treeDataTreeList||this.groupingTreeList;}caseFormat(valueToFormat){if(valueToFormat==null||typeof valueToFormat!==\"string\"){return valueToFormat;}return this.caseSensitive?valueToFormat:valueToFormat.toUpperCase();}addEventListenersForDataChanges(){this.addManagedPropertyListeners([\"groupAllowUnbalanced\"],()=>this.syncAfterDataChange());var syncAfterDataChangeDebounced=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._debounce)(this,this.syncAfterDataChange.bind(this),0);this.addManagedEventListeners({cellValueChanged:event=>{if(event.column===this.params.column){syncAfterDataChangeDebounced();}}});}syncAfterDataChange(){if(!this.isValuesTakenFromGrid()){return;}this.valueModel.refreshAll().then(()=>{this.dispatchLocalEvent({type:\"dataChanged\"});this.validateModel(this.params,{afterDataChange:true});});}validateModel(params,additionalEventAttributes,restrictToAvailableValues){var valueModel=this.valueModel;valueModel.allKeys.then(()=>{var model=params.model;if(model==null){return;}var existingFormattedKeys=/* @__PURE__ */new Map();var addKey=key=>existingFormattedKeys.set(this.caseFormat(key),key);if(restrictToAvailableValues){for(var key of valueModel.availableKeys){addKey(key);}}else{valueModel.allValues.forEach((_value,key)=>addKey(key));}var newValues=[];var updated=false;for(var unformattedKey of model.values){var formattedKey=this.caseFormat((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._makeNull)(unformattedKey));var existingUnformattedKey=existingFormattedKeys.get(formattedKey);if(existingUnformattedKey!==void 0){newValues.push(existingUnformattedKey);if(existingUnformattedKey!==unformattedKey){updated=true;}}else{updated=true;}}var numNewValues=newValues.length;if(numNewValues===0&&params.filterParams.excelMode){params.onModelChange(null,additionalEventAttributes);return;}var allSelected=numNewValues===existingFormattedKeys.size;if(updated||!model.filterType||allSelected){var newModel=allSelected?null:{filterType:this.filterType,values:newValues};params.onModelChange(newModel,additionalEventAttributes);return;}});}isValuesTakenFromGrid(){return this.valueModel.valuesType===setValueModel_default.TAKEN_FROM_GRID_VALUES;}doesFilterPassForTreeData(node){var _node$childrenAfterGr2,_node$getRoute2,_node$key2;if((_node$childrenAfterGr2=node.childrenAfterGroup)!==null&&_node$childrenAfterGr2!==void 0&&_node$childrenAfterGr2.length){return false;}var{gos,appliedModel}=this;return appliedModel.has(this.createKey(processDataPath((_node$getRoute2=node.getRoute())!==null&&_node$getRoute2!==void 0?_node$getRoute2:[(_node$key2=node.key)!==null&&_node$key2!==void 0?_node$key2:node.id],true,gos.get(\"groupAllowUnbalanced\"))));}doesFilterPassForGrouping(node){var _rowGroupColsSvc$colu4;var{appliedModel,params,gos,beans:{rowGroupColsSvc,valueSvc}}=this;var dataPath=((_rowGroupColsSvc$colu4=rowGroupColsSvc===null||rowGroupColsSvc===void 0?void 0:rowGroupColsSvc.columns)!==null&&_rowGroupColsSvc$colu4!==void 0?_rowGroupColsSvc$colu4:[]).map(groupCol=>valueSvc.getKeyForNode(groupCol,node));dataPath.push(params.getValue(node));return appliedModel.has(this.createKey(processDataPath(dataPath,false,gos.get(\"groupAllowUnbalanced\"))));}generateCreateKey(keyCreator,treeDataOrGrouping){var _this0=this;if(treeDataOrGrouping&&!keyCreator){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._error)(250);return()=>null;}if(keyCreator){return function(value){var node=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var params=_this0.getKeyCreatorParams(value,node);return (0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._makeNull)(keyCreator(params));};}return value=>(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._makeNull)((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._toStringOrNull)(value));}getKeyCreatorParams(value){var node=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var{colDef,column}=this.params;return (0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._addGridCommonParams)(this.gos,{value,colDef,column,node,data:node===null||node===void 0?void 0:node.data});}setValueFormatter(providedValueFormatter,keyCreator,treeList,isRefData){var valueFormatter=providedValueFormatter;if(!valueFormatter){if(keyCreator&&!treeList){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._error)(249);return;}this.noValueFormatterSupplied=true;if(!isRefData){valueFormatter=params=>(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._toStringOrNull)(params.value);}}this.valueFormatter=valueFormatter;}destroy(){this.appliedModel.destroy();super.destroy();this.valueModel=void 0;}};// packages/ag-grid-enterprise/src/setFilter/setFloatingFilter.ts\nvar SetFloatingFilterElement={tag:\"div\",cls:\"ag-floating-filter-input ag-set-floating-filter-input\",role:\"presentation\",children:[{tag:\"ag-input-text-field\",ref:\"eFloatingFilterText\"}]};var SetFloatingFilterComp=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(){super(SetFloatingFilterElement,[ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgInputTextFieldSelector]);this.eFloatingFilterText=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.listenerAdded=false;}init(params){this.params=params;this.eFloatingFilterText.setDisabled(true).addGuiEventListener(\"click\",()=>this.params.showParentFilter());this.setParams(params);}setParams(params){var displayName=this.beans.colNames.getDisplayNameForColumn(params.column,\"header\",true);var translate=this.getLocaleTextFunc();this.eFloatingFilterText.setInputAriaLabel(\"\".concat(displayName,\" \").concat(translate(\"ariaFilterInput\",\"Filter Input\")));if(this.gos.get(\"enableFilterHandlers\")){var reactiveParams=params;this.updateFloatingFilterText(reactiveParams.model);}}refresh(params){this.params=params;this.setParams(params);}onParentModelChanged(parentModel){this.updateFloatingFilterText(parentModel);}parentSetFilterInstance(cb){this.params.parentFilterInstance(filter=>{if(!(filter instanceof SetFilter)){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._error)(248);return;}cb(filter);});}addAvailableValuesListener(){var addListener=handler=>{if(handler==null||!handler.isAlive()){return;}var valueModel=handler.valueModel;this.destroyListeners=valueModel.addManagedListeners(valueModel,{availableValuesChanged:()=>this.updateFloatingFilterText(handler.params.model),destroyed:()=>{this.listenerAdded=false;this.destroyListeners=void 0;}});};if(this.gos.get(\"enableFilterHandlers\")){addListener(this.params.getHandler());}else{this.parentSetFilterInstance(setFilter=>{addListener(setFilter.handler);});}this.listenerAdded=true;}updateFloatingFilterText(parentModel){if(!this.listenerAdded){this.addAvailableValuesListener();}if(parentModel==null){this.eFloatingFilterText.setValue(\"\");}else{if(this.gos.get(\"enableFilterHandlers\")){var _this$params$getHandl,_this$params$getHandl2,_this$params$getHandl3;this.eFloatingFilterText.setValue((_this$params$getHandl=(_this$params$getHandl2=(_this$params$getHandl3=this.params.getHandler()).getModelAsString)===null||_this$params$getHandl2===void 0?void 0:_this$params$getHandl2.call(_this$params$getHandl3,parentModel))!==null&&_this$params$getHandl!==void 0?_this$params$getHandl:\"\");}else{this.parentSetFilterInstance(setFilter=>{this.eFloatingFilterText.setValue(setFilter.getModelAsString(parentModel));});}}}destroy(){var destroyListeners=this.destroyListeners;if(destroyListeners){destroyListeners.forEach(destroyFunc=>destroyFunc());destroyListeners.length=0;}super.destroy();}};// packages/ag-grid-enterprise/src/setFilter/setFilterModule.ts\nvar SetFilterModule={moduleName:\"SetFilter\",version:VERSION,userComponents:{agSetColumnFilter:{classImp:SetFilter,params:{useForm:true},processParams:params=>{applyExcelModeOptions(params);return params;}},agSetColumnFloatingFilter:SetFloatingFilterComp},dynamicBeans:{agSetColumnFilterHandler:SetFilterHandler},icons:{// set filter tree list group contracted (click to expand)\nsetFilterGroupClosed:\"tree-closed\",// set filter tree list group expanded (click to contract)\nsetFilterGroupOpen:\"tree-open\",// set filter tree list expand/collapse all button, shown when some children are expanded and\n//     others are collapsed\nsetFilterGroupIndeterminate:\"tree-indeterminate\",// set filter async values loading\nsetFilterLoading:\"loading\"},dependsOn:[EnterpriseCoreModule,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._ColumnFilterModule]};// packages/ag-grid-enterprise/src/statusBar/statusBarModule.ts\n// packages/ag-grid-enterprise/src/statusBar/agStatusBar.ts\n// packages/ag-grid-enterprise/src/statusBar/agStatusBar.css-GENERATED.ts\nvar agStatusBarCSS=/*css*/\".ag-status-bar{border-top:var(--ag-footer-row-border);display:flex;justify-content:space-between;line-height:1.5;overflow:hidden;padding-left:calc(var(--ag-spacing)*4);padding-right:calc(var(--ag-spacing)*4)}.ag-status-panel,:where(.ag-status-panel.ag-status-panel-aggregations .ag-status-name-value){display:inline-flex}.ag-status-name-value{color:var(--ag-status-bar-label-color);font-weight:var(--ag-status-bar-label-font-weight);margin-left:var(--ag-spacing);margin-right:var(--ag-spacing);padding-bottom:var(--ag-widget-container-vertical-padding);padding-top:var(--ag-widget-container-vertical-padding);white-space:nowrap}.ag-status-name-value-value{color:var(--ag-status-bar-value-color);font-weight:var(--ag-status-bar-value-font-weight)}.ag-status-bar-left{display:inline-flex}.ag-status-bar-center{display:inline-flex;text-align:center}.ag-status-bar-right{display:inline-flex}\";// packages/ag-grid-enterprise/src/statusBar/agStatusBar.ts\nfunction getStatusPanelCompDetails(userCompFactory,def,params){return userCompFactory.getCompDetails(def,StatusPanelComponent,void 0,params,true);}var StatusPanelComponent={name:\"statusPanel\",optionalMethods:[\"refresh\"]};var AgStatusBarElement={tag:\"div\",cls:\"ag-status-bar\",children:[{tag:\"div\",ref:\"eStatusBarLeft\",cls:\"ag-status-bar-left\",role:\"status\"},{tag:\"div\",ref:\"eStatusBarCenter\",cls:\"ag-status-bar-center\",role:\"status\"},{tag:\"div\",ref:\"eStatusBarRight\",cls:\"ag-status-bar-right\",role:\"status\"}]};var AgStatusBar=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(){super(AgStatusBarElement);this.updateQueued=false;this.panelsPromise=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgPromise.resolve();this.eStatusBarLeft=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.eStatusBarCenter=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.eStatusBarRight=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.compDestroyFunctions={};this.registerCSS(agStatusBarCSS);}wireBeans(beans){this.userCompFactory=beans.userCompFactory;this.statusBarSvc=beans.statusBarSvc;}postConstruct(){this.processStatusPanels(/* @__PURE__ */new Map());this.addManagedPropertyListeners([\"statusBar\"],this.handleStatusBarChanged.bind(this));}processStatusPanels(existingStatusPanelsToReuse){var _this$gos$get6;var statusPanels=(_this$gos$get6=this.gos.get(\"statusBar\"))===null||_this$gos$get6===void 0?void 0:_this$gos$get6.statusPanels;if(statusPanels){var leftStatusPanelComponents=statusPanels.filter(componentConfig=>componentConfig.align===\"left\");var centerStatusPanelComponents=statusPanels.filter(componentConfig=>componentConfig.align===\"center\");var rightStatusPanelComponents=statusPanels.filter(componentConfig=>!componentConfig.align||componentConfig.align===\"right\");this.panelsPromise=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgPromise.all([this.createAndRenderComponents(leftStatusPanelComponents,this.eStatusBarLeft,existingStatusPanelsToReuse),this.createAndRenderComponents(centerStatusPanelComponents,this.eStatusBarCenter,existingStatusPanelsToReuse),this.createAndRenderComponents(rightStatusPanelComponents,this.eStatusBarRight,existingStatusPanelsToReuse)]);}else{this.setDisplayed(false);}}handleStatusBarChanged(){if(this.updateQueued){return;}this.updateQueued=true;this.panelsPromise.then(()=>{this.updateStatusBar();this.updateQueued=false;});}updateStatusBar(){var _this$gos$get7;var statusPanels=(_this$gos$get7=this.gos.get(\"statusBar\"))===null||_this$gos$get7===void 0?void 0:_this$gos$get7.statusPanels;var validStatusBarPanelsProvided=Array.isArray(statusPanels)&&statusPanels.length>0;this.setDisplayed(validStatusBarPanelsProvided);var existingStatusPanelsToReuse=/* @__PURE__ */new Map();if(validStatusBarPanelsProvided){statusPanels.forEach(statusPanelConfig=>{var _statusPanelConfig$ke;var key=(_statusPanelConfig$ke=statusPanelConfig.key)!==null&&_statusPanelConfig$ke!==void 0?_statusPanelConfig$ke:statusPanelConfig.statusPanel;var existingStatusPanel=this.statusBarSvc.getStatusPanel(key);if(existingStatusPanel!==null&&existingStatusPanel!==void 0&&existingStatusPanel.refresh){var _statusPanelConfig$st;var newParams=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._addGridCommonParams)(this.gos,_objectSpread(_objectSpread({},(_statusPanelConfig$st=statusPanelConfig.statusPanelParams)!==null&&_statusPanelConfig$st!==void 0?_statusPanelConfig$st:{}),{},{key}));var hasRefreshed=existingStatusPanel.refresh(newParams);if(hasRefreshed){existingStatusPanelsToReuse.set(key,existingStatusPanel);delete this.compDestroyFunctions[key];(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._removeFromParent)(existingStatusPanel.getGui());}}});}this.resetStatusBar();if(validStatusBarPanelsProvided){this.processStatusPanels(existingStatusPanelsToReuse);}}resetStatusBar(){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._clearElement)(this.eStatusBarLeft);(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._clearElement)(this.eStatusBarCenter);(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._clearElement)(this.eStatusBarRight);this.destroyComponents();this.statusBarSvc.unregisterAllComponents();}destroy(){this.destroyComponents();super.destroy();}destroyComponents(){Object.values(this.compDestroyFunctions).forEach(func=>func());this.compDestroyFunctions={};}createAndRenderComponents(statusBarComponents,ePanelComponent,existingStatusPanelsToReuse){var componentDetails=[];statusBarComponents.forEach(componentConfig=>{var key=componentConfig.key||componentConfig.statusPanel;var existingStatusPanel=existingStatusPanelsToReuse.get(key);var promise;if(existingStatusPanel){promise=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgPromise.resolve(existingStatusPanel);}else{var compDetails=getStatusPanelCompDetails(this.userCompFactory,componentConfig,(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._addGridCommonParams)(this.gos,{key}));if(compDetails==null){return;}promise=compDetails.newAgStackInstance();}componentDetails.push({key,promise});});return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgPromise.all(componentDetails.map(details=>details.promise)).then(()=>{componentDetails.forEach(componentDetail=>{componentDetail.promise.then(component=>{var destroyFunc=()=>{this.destroyBean(component);};if(this.isAlive()){this.statusBarSvc.registerStatusPanel(componentDetail.key,component);ePanelComponent.appendChild(component.getGui());this.compDestroyFunctions[componentDetail.key]=destroyFunc;}else{destroyFunc();}});});});}};var AgStatusBarSelector={selector:\"AG-STATUS-BAR\",component:AgStatusBar};// packages/ag-grid-enterprise/src/statusBar/providedPanels/aggregationComp.ts\n// packages/ag-grid-enterprise/src/statusBar/providedPanels/agNameValue.ts\nvar AgNameValueElement={tag:\"div\",cls:\"ag-status-name-value\",children:[{tag:\"span\",ref:\"eLabel\"},\":\\xA0\",{tag:\"span\",ref:\"eValue\",cls:\"ag-status-name-value-value\"}]};var AgNameValue=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(){super(AgNameValueElement);this.eLabel=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.eValue=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;}setLabel(key,defaultValue){this.setDisplayed(false);this.eLabel.textContent=this.getLocaleTextFunc()(key,defaultValue);}setValue(value,totalRows){this.eValue.textContent=this.valueFormatter((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._addGridCommonParams)(this.gos,{value,totalRows,key:this.key}));}};var AgNameValueSelector={selector:\"AG-NAME-VALUE\",component:AgNameValue};// packages/ag-grid-enterprise/src/statusBar/providedPanels/utils.ts\nvar _getFilteredRowCount=rowModel=>{var filteredRowCount=0;rowModel.forEachNodeAfterFilter(node=>{if(node.data){filteredRowCount++;}});return filteredRowCount;};var _getTotalRowCount=rowModel=>{var totalRowCount=0;rowModel.forEachNode(node=>{if(node.data){totalRowCount++;}});return totalRowCount;};// packages/ag-grid-enterprise/src/statusBar/providedPanels/aggregationComp.ts\nfunction _formatNumberTwoDecimalPlacesAndCommas(value,getLocaleTextFunc){if(typeof value!==\"number\"){return\"\";}return (0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._formatNumberCommas)(Math.round(value*100)/100,getLocaleTextFunc);}var AggregationCompElement={tag:\"div\",cls:\"ag-status-panel ag-status-panel-aggregations\",children:[{tag:\"ag-name-value\",ref:\"avgAggregationComp\"},{tag:\"ag-name-value\",ref:\"countAggregationComp\"},{tag:\"ag-name-value\",ref:\"minAggregationComp\"},{tag:\"ag-name-value\",ref:\"maxAggregationComp\"},{tag:\"ag-name-value\",ref:\"sumAggregationComp\"}]};var AggregationComp=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(){super(AggregationCompElement,[AgNameValueSelector]);this.sumAggregationComp=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.countAggregationComp=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.minAggregationComp=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.maxAggregationComp=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.avgAggregationComp=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;}postConstruct(){if(!(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isClientSideRowModel)(this.gos)&&!(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isServerSideRowModel)(this.gos)){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(221);return;}this.avgAggregationComp.setLabel(\"avg\",\"Average\");this.countAggregationComp.setLabel(\"count\",\"Count\");this.minAggregationComp.setLabel(\"min\",\"Min\");this.maxAggregationComp.setLabel(\"max\",\"Max\");this.sumAggregationComp.setLabel(\"sum\",\"Sum\");this.addManagedEventListeners({cellSelectionChanged:this.onCellSelectionChanged.bind(this),modelUpdated:this.onCellSelectionChanged.bind(this)});}init(params){this.refresh(params);}refresh(params){var _params$valueFormatte4;this.params=params;var valueFormatter=(_params$valueFormatte4=params.valueFormatter)!==null&&_params$valueFormatte4!==void 0?_params$valueFormatte4:_ref57=>{var{value}=_ref57;return _formatNumberTwoDecimalPlacesAndCommas(value,this.getLocaleTextFunc.bind(this));};var aggFuncNames=[\"avg\",\"count\",\"min\",\"max\",\"sum\"];for(var key of aggFuncNames){var comp=this.getAllowedAggregationValueComponent(key);if(comp){comp.key=key;comp.valueFormatter=valueFormatter.bind(this);}}this.onCellSelectionChanged();return true;}setAggregationComponentValue(aggFuncName,value,visible){var statusBarValueComponent=this.getAllowedAggregationValueComponent(aggFuncName);var totalRow=_getTotalRowCount(this.beans.rowModel);if((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._exists)(statusBarValueComponent)&&statusBarValueComponent){statusBarValueComponent.setValue(value,totalRow);statusBarValueComponent.setDisplayed(visible);}else{var _this$getAggregationV;(_this$getAggregationV=this.getAggregationValueComponent(aggFuncName))===null||_this$getAggregationV===void 0||_this$getAggregationV.setDisplayed(false);}}getAllowedAggregationValueComponent(aggFuncName){var{aggFuncs}=this.params;if(!aggFuncs||aggFuncs.includes(aggFuncName)){return this.getAggregationValueComponent(aggFuncName);}return null;}getAggregationValueComponent(aggFuncName){var refComponentName=\"\".concat(aggFuncName,\"AggregationComp\");return this[refComponentName];}onCellSelectionChanged(){var beans=this.beans;var{rangeSvc,valueSvc}=beans;var cellRanges=rangeSvc===null||rangeSvc===void 0?void 0:rangeSvc.getCellRanges();var sum=0;var count=0;var numberCount=0;var min=null;var max=null;var cellsSoFar={};if(cellRanges!==null&&cellRanges!==void 0&&cellRanges.length&&rangeSvc){var _loop4=function _loop4(){var cellRange=cellRanges[i];var currentRow=rangeSvc.getRangeStartRow(cellRange);var lastRow=rangeSvc.getRangeEndRow(cellRange);while(true){var finishedAllRows=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._missing)(currentRow)||!currentRow||(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isRowBefore)(lastRow,currentRow);if(finishedAllRows||!currentRow||!cellRange.columns){break;}cellRange.columns.forEach(col=>{if(currentRow===null){return;}var cellId=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createCellId)({rowPinned:currentRow.rowPinned,column:col,rowIndex:currentRow.rowIndex});if(cellsSoFar[cellId]){return;}cellsSoFar[cellId]=true;var rowNode=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getRowNode)(beans,currentRow);if((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._missing)(rowNode)){return;}var value=valueSvc.getValue(col,rowNode);if((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._missing)(value)||value===\"\"){return;}count++;if(typeof value===\"object\"&&\"value\"in value){value=value.value;if(value===\"\"){return;}}if(typeof value===\"string\"){value=Number(value);}if(typeof value===\"number\"&&!isNaN(value)){sum+=value;if(max===null||value>max){max=value;}if(min===null||value<min){min=value;}numberCount++;}});currentRow=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getRowBelow)(beans,currentRow);}};for(var i=0;i<cellRanges.length;i++){_loop4();}}var gotResult=count>1;var gotNumberResult=numberCount>1;this.setAggregationComponentValue(\"count\",count,gotResult);this.setAggregationComponentValue(\"sum\",sum,gotNumberResult);this.setAggregationComponentValue(\"min\",min,gotNumberResult);this.setAggregationComponentValue(\"max\",max,gotNumberResult);this.setAggregationComponentValue(\"avg\",sum/numberCount,gotNumberResult);}};// packages/ag-grid-enterprise/src/statusBar/providedPanels/filteredRowsComp.ts\nvar FilteredRowsComp=class extends AgNameValue{postConstruct(){this.setLabel(\"filteredRows\",\"Filtered\");if(!(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isClientSideRowModel)(this.gos)){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(222);return;}this.addCss(\"ag-status-panel\");this.addCss(\"ag-status-panel-filtered-row-count\");this.setDisplayed(true);var listener=this.onDataChanged.bind(this);this.addManagedEventListeners({modelUpdated:listener});}onDataChanged(){var{rowModel}=this.beans;var totalRowCountValue=_getTotalRowCount(rowModel);var filteredRowCountValue=_getFilteredRowCount(rowModel);this.setValue(filteredRowCountValue,totalRowCountValue);this.setDisplayed(totalRowCountValue!==filteredRowCountValue);}init(params){this.refresh(params);this.onDataChanged();}updateValueFormatter(valueFormatter){this.valueFormatter=valueFormatter!==null&&valueFormatter!==void 0?valueFormatter:_ref58=>{var{value}=_ref58;return (0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._formatNumberCommas)(value,this.getLocaleTextFunc.bind(this));};}refresh(params){var{key,valueFormatter}=params;this.key=key;this.updateValueFormatter(valueFormatter);return true;}};// packages/ag-grid-enterprise/src/statusBar/providedPanels/selectedRowsComp.ts\nvar SelectedRowsComp=class extends AgNameValue{postConstruct(){var gos=this.gos;if(!(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isClientSideRowModel)(gos)&&!(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isServerSideRowModel)(gos)){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(223);return;}this.setLabel(\"selectedRows\",\"Selected\");this.addCss(\"ag-status-panel\");this.addCss(\"ag-status-panel-selected-row-count\");var eventListener=this.onRowSelectionChanged.bind(this);this.addManagedEventListeners({modelUpdated:eventListener,selectionChanged:eventListener});}onRowSelectionChanged(){var _selectionSvc$getSele;var{selectionSvc,rowModel}=this.beans;var selectedRowCount=(_selectionSvc$getSele=selectionSvc===null||selectionSvc===void 0?void 0:selectionSvc.getSelectionCount())!==null&&_selectionSvc$getSele!==void 0?_selectionSvc$getSele:0;var totalRowCount=_getTotalRowCount(rowModel);this.setValue(selectedRowCount,totalRowCount);if(selectedRowCount<0){this.setDisplayed(true);return;}this.setDisplayed(selectedRowCount>0);}init(params){this.refresh(params);this.onRowSelectionChanged();}updateValueFormatter(valueFormatter){this.valueFormatter=valueFormatter!==null&&valueFormatter!==void 0?valueFormatter:_ref59=>{var{value}=_ref59;if(value==null||value>=0){return (0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._formatNumberCommas)(value,this.getLocaleTextFunc.bind(this));}return this.getLocaleTextFunc()(\"statusBarLastRowUnknown\",\"?\");};}refresh(params){var{key,valueFormatter}=params;this.key=key;this.updateValueFormatter(valueFormatter);return true;}};// packages/ag-grid-enterprise/src/statusBar/providedPanels/totalAndFilteredRowsComp.ts\nvar TotalAndFilteredRowsComp=class extends AgNameValue{postConstruct(){if(!(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isClientSideRowModel)(this.gos)){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(224);return;}this.setLabel(\"totalAndFilteredRows\",\"Rows\");this.addCss(\"ag-status-panel\");this.addCss(\"ag-status-panel-total-and-filtered-row-count\");this.setDisplayed(true);this.addManagedEventListeners({modelUpdated:this.onDataChanged.bind(this)});}onDataChanged(){var{rowModel}=this.beans;var rowCount=_getFilteredRowCount(rowModel);var totalRowCount=_getTotalRowCount(rowModel);this.setValue(rowCount,totalRowCount);}init(params){this.refresh(params);this.onDataChanged();}updateValueFormatter(valueFormatter){this.valueFormatter=valueFormatter!==null&&valueFormatter!==void 0?valueFormatter:_ref60=>{var{value,totalRows}=_ref60;var getLocaleTextFunc=this.getLocaleTextFunc.bind(this);var rowCount=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._formatNumberCommas)(value,getLocaleTextFunc);var totalRowCount=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._formatNumberCommas)(totalRows!==null&&totalRows!==void 0?totalRows:value,getLocaleTextFunc);if(value===totalRows){return rowCount;}var localeTextFunc=getLocaleTextFunc();return\"\".concat(rowCount,\" \").concat(localeTextFunc(\"of\",\"of\"),\" \").concat(totalRowCount);};}refresh(params){var{key,valueFormatter}=params;this.key=key;this.updateValueFormatter(valueFormatter);return true;}};// packages/ag-grid-enterprise/src/statusBar/providedPanels/totalRowsComp.ts\nvar TotalRowsComp=class extends AgNameValue{postConstruct(){this.setLabel(\"totalRows\",\"Total Rows\");if(!(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isClientSideRowModel)(this.gos)){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(225);return;}this.addCss(\"ag-status-panel\");this.addCss(\"ag-status-panel-total-row-count\");this.setDisplayed(true);this.addManagedEventListeners({modelUpdated:this.onDataChanged.bind(this)});}onDataChanged(){var totalRow=_getTotalRowCount(this.beans.rowModel);this.setValue(totalRow,totalRow);}init(params){this.refresh(params);this.onDataChanged();}updateValueFormatter(valueFormatter){this.valueFormatter=valueFormatter!==null&&valueFormatter!==void 0?valueFormatter:_ref61=>{var{value}=_ref61;return (0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._formatNumberCommas)(value,this.getLocaleTextFunc.bind(this));};}refresh(params){var{key,valueFormatter}=params;this.key=key;this.updateValueFormatter(valueFormatter);return true;}};// packages/ag-grid-enterprise/src/statusBar/statusBarApi.ts\nfunction getStatusPanel(beans,key){var _beans$statusBarSvc;var comp=(_beans$statusBarSvc=beans.statusBarSvc)===null||_beans$statusBarSvc===void 0?void 0:_beans$statusBarSvc.getStatusPanel(key);return (0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._unwrapUserComp)(comp);}// packages/ag-grid-enterprise/src/statusBar/statusBarService.ts\nvar StatusBarService=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BeanStub{// tslint:disable-next-line\nconstructor(){super();this.beanName=\"statusBarSvc\";this.comps=/* @__PURE__ */new Map();}registerStatusPanel(key,component){this.comps.set(key,component);}unregisterStatusPanel(key){this.comps.delete(key);}unregisterAllComponents(){this.comps.clear();}getStatusPanel(key){return this.comps.get(key);}destroy(){this.unregisterAllComponents();super.destroy();}};// packages/ag-grid-enterprise/src/statusBar/statusBarModule.ts\nvar StatusBarModule={moduleName:\"StatusBar\",version:VERSION,beans:[StatusBarService],userComponents:{agAggregationComponent:AggregationComp,agTotalRowCountComponent:TotalRowsComp,agFilteredRowCountComponent:FilteredRowsComp,agTotalAndFilteredRowCountComponent:TotalAndFilteredRowsComp,agSelectedRowCountComponent:SelectedRowsComp},selectors:[AgStatusBarSelector],apiFunctions:{getStatusPanel},dependsOn:[EnterpriseCoreModule,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._KeyboardNavigationModule]};// packages/ag-grid-enterprise/src/excelExport/excelExportModule.ts\n// packages/ag-grid-enterprise/src/excelExport/excelExportApi.ts\nfunction assertNotExcelMultiSheet(beans){var _beans$excelCreator;if(((_beans$excelCreator=beans.excelCreator)===null||_beans$excelCreator===void 0?void 0:_beans$excelCreator.getFactoryMode())===\"MULTI_SHEET\"){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(161);return false;}return true;}function getDataAsExcel(beans,params){if(assertNotExcelMultiSheet(beans)){var _beans$excelCreator2;return(_beans$excelCreator2=beans.excelCreator)===null||_beans$excelCreator2===void 0?void 0:_beans$excelCreator2.getDataAsExcel(params);}return void 0;}function exportDataAsExcel(beans,params){if(assertNotExcelMultiSheet(beans)){var _beans$excelCreator3;(_beans$excelCreator3=beans.excelCreator)===null||_beans$excelCreator3===void 0||_beans$excelCreator3.exportDataAsExcel(params);}}function getSheetDataForExcel(beans,params){var _beans$excelCreator4,_beans$excelCreator5;(_beans$excelCreator4=beans.excelCreator)===null||_beans$excelCreator4===void 0||_beans$excelCreator4.setFactoryMode(\"MULTI_SHEET\");return(_beans$excelCreator5=beans.excelCreator)===null||_beans$excelCreator5===void 0?void 0:_beans$excelCreator5.getSheetDataForExcel(params);}function getMultipleSheetsAsExcel2(beans,params){var _beans$excelCreator6;return(_beans$excelCreator6=beans.excelCreator)===null||_beans$excelCreator6===void 0?void 0:_beans$excelCreator6.getMultipleSheetsAsExcel(params);}function exportMultipleSheetsAsExcel2(beans,params){var _beans$excelCreator7;(_beans$excelCreator7=beans.excelCreator)===null||_beans$excelCreator7===void 0||_beans$excelCreator7.exportMultipleSheetsAsExcel(params);}// packages/ag-grid-enterprise/src/excelExport/excelExportModule.ts\nvar ExcelExportModule={moduleName:\"ExcelExport\",version:VERSION,beans:[ExcelCreator],apiFunctions:{getDataAsExcel,exportDataAsExcel,getSheetDataForExcel,getMultipleSheetsAsExcel:getMultipleSheetsAsExcel2,exportMultipleSheetsAsExcel:exportMultipleSheetsAsExcel2},dependsOn:[ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._SharedExportModule,EnterpriseCoreModule]};// packages/ag-grid-enterprise/src/multiFilter/multiFilterModule.ts\n// packages/ag-grid-enterprise/src/multiFilter/multiFilter.ts\n// packages/ag-grid-enterprise/src/multiFilter/baseMultiFilter.ts\n// packages/ag-grid-enterprise/src/widgets/agGroupComponent.ts\nfunction getAgGroupComponentTemplate(params){var cssIdentifier=params.cssIdentifier||\"default\";var direction=params.direction||\"vertical\";return{tag:\"div\",cls:\"ag-group ag-\".concat(cssIdentifier,\"-group\"),role:\"presentation\",children:[{tag:\"div\",ref:\"eToolbar\",cls:\"ag-group-toolbar ag-\".concat(cssIdentifier,\"-group-toolbar\"),children:[{tag:\"ag-checkbox\",ref:\"cbGroupEnabled\"}]},{tag:\"div\",ref:\"eContainer\",cls:\"ag-group-container ag-group-container-\".concat(direction,\" ag-\").concat(cssIdentifier,\"-group-container\")}]};}var AgGroupComponent=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(){var params=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};super(getAgGroupComponentTemplate(params),[ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgCheckboxSelector]);this.params=params;this.suppressEnabledCheckbox=true;this.suppressToggleExpandOnEnableChange=false;this.eToolbar=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.cbGroupEnabled=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.eContainer=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;var{enabled,items,suppressEnabledCheckbox,expanded,suppressToggleExpandOnEnableChange,useToggle:toggleMode}=params;this.cssIdentifier=params.cssIdentifier||\"default\";this.enabled=enabled!=null?enabled:true;this.items=items||[];this.useToggle=toggleMode!==null&&toggleMode!==void 0?toggleMode:false;this.alignItems=params.alignItems||\"center\";this.expanded=expanded==null?true:expanded;if(suppressEnabledCheckbox!=null){this.suppressEnabledCheckbox=suppressEnabledCheckbox;}if(suppressToggleExpandOnEnableChange!=null){this.suppressToggleExpandOnEnableChange=suppressToggleExpandOnEnableChange;}}postConstruct(){this.setupTitleBar();if(this.items.length){var initialItems=this.items;this.items=[];this.addItems(initialItems);}var localeTextFunc=this.getLocaleTextFunc();this.cbGroupEnabled.setLabel(localeTextFunc(\"enabled\",\"Enabled\"));if(this.enabled){this.setEnabled(this.enabled,void 0,true);}this.setAlignItems(this.alignItems);var{onEnableChange,onExpandedChange,suppressOpenCloseIcons}=this.params;this.hideEnabledCheckbox(this.suppressEnabledCheckbox);this.hideOpenCloseIcons(suppressOpenCloseIcons!==null&&suppressOpenCloseIcons!==void 0?suppressOpenCloseIcons:false);this.refreshChildDisplay();(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setDisplayed)(this.eContainer,this.expanded);this.cbGroupEnabled.onValueChange(newSelection=>{this.setEnabled(newSelection,true,this.suppressToggleExpandOnEnableChange);this.dispatchEnableChangeEvent(newSelection);});if(onEnableChange!=null){this.onEnableChange(onEnableChange);}if(onExpandedChange!=null){this.onExpandedChange(onExpandedChange);}}refreshChildDisplay(){var _this$eTitleBar;(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setDisplayed)(this.eToolbar,this.expanded&&!this.suppressEnabledCheckbox);(_this$eTitleBar=this.eTitleBar)===null||_this$eTitleBar===void 0||_this$eTitleBar.refreshOnExpand(this.expanded);}isExpanded(){return this.expanded;}setAlignItems(alignment){if(this.alignItems!==alignment){this.removeCss(\"ag-group-item-alignment-\".concat(this.alignItems));}this.alignItems=alignment;var newCls=\"ag-group-item-alignment-\".concat(this.alignItems);this.addCss(newCls);return this;}toggleGroupExpand(expanded,silent){var _this$eTitleBar2;if((_this$eTitleBar2=this.eTitleBar)!==null&&_this$eTitleBar2!==void 0&&_this$eTitleBar2.isSuppressCollapse()&&!this.useToggle){expanded=true;silent=true;}else{expanded=expanded!=null?expanded:!this.expanded;if(this.expanded===expanded){return this;}}this.expanded=expanded;this.refreshChildDisplay();(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setDisplayed)(this.eContainer,expanded);if(!silent){this.dispatchLocalEvent({type:expanded?\"expanded\":\"collapsed\"});}return this;}addItems(items){items.forEach(item=>this.addItem(item));}prependItem(item){this.insertItem(item,true);}addItem(item){this.insertItem(item,false);}insertItem(item,prepend){var container=this.eContainer;var el=item instanceof ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Component?item.getGui():item;el.classList.add(\"ag-group-item\",\"ag-\".concat(this.cssIdentifier,\"-group-item\"));if(prepend){container.insertAdjacentElement(\"afterbegin\",el);this.items.unshift(el);}else{container.appendChild(el);this.items.push(el);}}hideItem(hide,index){var itemToHide=this.items[index];(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setDisplayed)(itemToHide,!hide);}getItemIndex(item){var el=item instanceof ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Component?item.getGui():item;return this.items.indexOf(el);}setTitle(title){var _this$eTitleBar3;(_this$eTitleBar3=this.eTitleBar)===null||_this$eTitleBar3===void 0||_this$eTitleBar3.setTitle(title);return this;}addTitleBarWidget(el){var _this$eTitleBar4;(_this$eTitleBar4=this.eTitleBar)===null||_this$eTitleBar4===void 0||_this$eTitleBar4.addWidget(el);return this;}addCssClassToTitleBar(cssClass){var _this$eTitleBar5;(_this$eTitleBar5=this.eTitleBar)===null||_this$eTitleBar5===void 0||_this$eTitleBar5.addCss(cssClass);}dispatchEnableChangeEvent(enabled){var event={type:\"enableChange\",enabled};this.dispatchLocalEvent(event);}setEnabled(enabled,skipToggle,skipExpand){this.enabled=enabled;this.refreshDisabledStyles();if(!skipExpand){this.toggleGroupExpand(enabled);}if(!skipToggle){var _this$eToggle;this.cbGroupEnabled.setValue(enabled);(_this$eToggle=this.eToggle)===null||_this$eToggle===void 0||_this$eToggle.setValue(enabled);}return this;}isEnabled(){return this.enabled;}onEnableChange(callbackFn){this.addManagedListeners(this,{enableChange:event=>callbackFn(event.enabled)});return this;}onExpandedChange(callbackFn){this.addManagedListeners(this,{expanded:()=>callbackFn(true),collapsed:()=>callbackFn(false)});return this;}hideEnabledCheckbox(hide){this.suppressEnabledCheckbox=hide;this.refreshChildDisplay();this.refreshDisabledStyles();return this;}hideOpenCloseIcons(hide){var _this$eTitleBar6;(_this$eTitleBar6=this.eTitleBar)===null||_this$eTitleBar6===void 0||_this$eTitleBar6.hideOpenCloseIcons(hide);return this;}refreshDisabledStyles(){var _this$eTitleBar7;var disabled=!this.enabled;this.eContainer.classList.toggle(\"ag-disabled\",disabled);(_this$eTitleBar7=this.eTitleBar)===null||_this$eTitleBar7===void 0||_this$eTitleBar7.refreshDisabledStyles(this.suppressEnabledCheckbox&&disabled);this.eContainer.classList.toggle(\"ag-disabled-group-container\",disabled);}setupTitleBar(){var titleBar=this.useToggle?this.createToggleTitleBar():this.createDefaultTitleBar();this.eToolbar.insertAdjacentElement(\"beforebegin\",titleBar.getGui());}createDefaultTitleBar(){var titleBar=this.createManagedBean(new DefaultTitleBar(this.params));this.eTitleBar=titleBar;titleBar.refreshOnExpand(this.expanded);this.addManagedListeners(titleBar,{expandedChanged:event=>this.toggleGroupExpand(event.expanded)});return titleBar;}createToggleTitleBar(){var _this$params$cssIdent;var eToggle=this.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgToggleButton({value:this.enabled,label:this.params.title,labelAlignment:\"left\",labelWidth:\"flex\",onValueChange:enabled=>{this.setEnabled(enabled,true);this.dispatchEnableChangeEvent(enabled);}}));eToggle.addCss(\"ag-group-title-bar\");eToggle.addCss(\"ag-\".concat((_this$params$cssIdent=this.params.cssIdentifier)!==null&&_this$params$cssIdent!==void 0?_this$params$cssIdent:\"default\",\"-group-title-bar ag-unselectable\"));this.eToggle=eToggle;this.toggleGroupExpand(this.enabled);return eToggle;}};var TITLE_BAR_DISABLED_CLASS=\"ag-disabled-group-title-bar\";function getDefaultTitleBarTemplate(params){var _params$cssIdentifier;var cssIdentifier=(_params$cssIdentifier=params.cssIdentifier)!==null&&_params$cssIdentifier!==void 0?_params$cssIdentifier:\"default\";return{tag:\"div\",cls:\"ag-group-title-bar ag-\".concat(cssIdentifier,\"-group-title-bar ag-unselectable\"),role:params.suppressKeyboardNavigation?\"presentation\":\"role\",children:[{tag:\"span\",ref:\"eGroupOpenedIcon\",cls:\"ag-group-title-bar-icon ag-\".concat(cssIdentifier,\"-group-title-bar-icon\"),role:\"presentation\"},{tag:\"span\",ref:\"eGroupClosedIcon\",cls:\"ag-group-title-bar-icon ag-\".concat(cssIdentifier,\"-group-title-bar-icon\"),role:\"presentation\"},{tag:\"span\",ref:\"eTitle\",cls:\"ag-group-title ag-\".concat(cssIdentifier,\"-group-title\")}]};}var DefaultTitleBar=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(){var params=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};super(getDefaultTitleBarTemplate(params));this.suppressOpenCloseIcons=false;this.suppressKeyboardNavigation=false;this.eGroupOpenedIcon=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.eGroupClosedIcon=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.eTitle=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;var{title,suppressOpenCloseIcons,suppressKeyboardNavigation}=params;if(!!title&&title.length>0){this.title=title;}if(suppressOpenCloseIcons!=null){this.suppressOpenCloseIcons=suppressOpenCloseIcons;}this.suppressKeyboardNavigation=suppressKeyboardNavigation!==null&&suppressKeyboardNavigation!==void 0?suppressKeyboardNavigation:false;}postConstruct(){this.setTitle(this.title);this.hideOpenCloseIcons(this.suppressOpenCloseIcons);this.setupExpandContract();}setupExpandContract(){this.eGroupClosedIcon.appendChild((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createIcon)(\"accordionClosed\",this.beans,null));this.eGroupOpenedIcon.appendChild((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createIcon)(\"accordionOpen\",this.beans,null));this.addManagedElementListeners(this.getGui(),{click:()=>this.dispatchExpandChanged(),keydown:e=>{switch(e.key){case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.ENTER:case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.SPACE:e.preventDefault();this.dispatchExpandChanged();break;case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.RIGHT:case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.LEFT:e.preventDefault();this.dispatchExpandChanged(e.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.RIGHT);break;}}});}refreshOnExpand(expanded){this.refreshAriaStatus(expanded);this.refreshOpenCloseIcons(expanded);}refreshAriaStatus(expanded){if(!this.suppressOpenCloseIcons){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setAriaExpanded)(this.getGui(),expanded);}}refreshOpenCloseIcons(expanded){var showIcon=!this.suppressOpenCloseIcons;(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setDisplayed)(this.eGroupOpenedIcon,showIcon&&expanded);(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setDisplayed)(this.eGroupClosedIcon,showIcon&&!expanded);}isSuppressCollapse(){return this.suppressOpenCloseIcons;}dispatchExpandChanged(expanded){var event={type:\"expandedChanged\",expanded};this.dispatchLocalEvent(event);}setTitle(title){var eGui=this.getGui();var hasTitle=!!title&&title.length>0;title=hasTitle?title:void 0;this.eTitle.textContent=title!==null&&title!==void 0?title:\"\";(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setDisplayed)(eGui,hasTitle);if(title!==this.title){this.title=title;}var disabled=eGui.classList.contains(TITLE_BAR_DISABLED_CLASS);this.refreshDisabledStyles(disabled);return this;}addWidget(el){this.getGui().appendChild(el);return this;}hideOpenCloseIcons(hide){this.suppressOpenCloseIcons=hide;if(hide){this.dispatchExpandChanged(true);}return this;}refreshDisabledStyles(disabled){var eGui=this.getGui();if(disabled){eGui.classList.add(TITLE_BAR_DISABLED_CLASS);eGui.removeAttribute(\"tabindex\");}else{eGui.classList.remove(TITLE_BAR_DISABLED_CLASS);if(typeof this.title===\"string\"&&!this.suppressKeyboardNavigation){eGui.setAttribute(\"tabindex\",\"0\");}else{eGui.removeAttribute(\"tabindex\");}}}};var AgGroupComponentSelector={selector:\"AG-GROUP-COMPONENT\",component:AgGroupComponent};// packages/ag-grid-enterprise/src/multiFilter/multiFilterUtil.ts\nfunction getMultiFilterDefs(params){var{filters}=params;return filters&&filters.length>0?filters:[{filter:\"agTextColumnFilter\"},{filter:\"agSetColumnFilter\"}];}function forEachReverse(list,action){if(list==null){return;}for(var i=list.length-1;i>=0;i--){action(list[i],i);}}function getFilterTitle(filter,filterDef){if(filterDef.title!=null){return filterDef.title;}return filter instanceof ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.ProvidedFilter?filter.getFilterTitle():\"Filter\";}function getUpdatedMultiFilterModel(existingModel,numFilters,newModel,index){var filterModels=[];var existingFilterModels=existingModel===null||existingModel===void 0?void 0:existingModel.filterModels;for(var i=0;i<numFilters;i++){var _ref62;filterModels[i]=(_ref62=i===index?newModel:existingFilterModels===null||existingFilterModels===void 0?void 0:existingFilterModels[i])!==null&&_ref62!==void 0?_ref62:null;}return filterModels.every(childModel=>childModel==null)?null:{filterType:\"multi\",filterModels};}function getFilterModelForIndex(model,index){var _model$filterModels$i,_model$filterModels;return(_model$filterModels$i=model===null||model===void 0||(_model$filterModels=model.filterModels)===null||_model$filterModels===void 0?void 0:_model$filterModels[index])!==null&&_model$filterModels$i!==void 0?_model$filterModels$i:null;}function updateGetValue(beans,column,filterDef,existingGetValue){var filterValueGetter=filterDef.filterValueGetter;return filterValueGetter?beans.colFilter.createGetValue(column,filterValueGetter):existingGetValue;}// packages/ag-grid-enterprise/src/multiFilter/baseMultiFilter.ts\nvar BaseMultiFilter=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.TabGuardComp{constructor(){super({tag:\"div\",cls:\"ag-multi-filter ag-menu-list-compact\"});this.filterDefs=[];this.guiDestroyFuncs=[];// this could be the accordion/sub menu element depending on the display type\nthis.filterGuis=[];this.lastActivatedMenuItem=null;}postConstruct(){this.initialiseTabGuard({onFocusIn:e=>this.onFocusIn(e)});}refreshGui(container){if(container===this.lastOpenedInContainer){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgPromise.resolve();}this.tabGuardFeature.removeAllChildrenExceptTabGuards();this.destroyChildren();return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgPromise.all(this.getFilterWrappers().map((wrapper,index)=>{if(!wrapper){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgPromise.resolve(null);}var filter=this.getFilterFromWrapper(wrapper);var comp=this.getCompFromWrapper(wrapper);var filterDef=this.filterDefs[index];var filterTitle=getFilterTitle(filter,filterDef);var filterGuiPromise;if(filterDef.display===\"subMenu\"&&container!==\"toolPanel\"){filterGuiPromise=this.insertFilterMenu(comp,filterTitle).then(menuItem=>menuItem.getGui());}else if(filterDef.display===\"subMenu\"||filterDef.display===\"accordion\"){var group=this.insertFilterGroup(filter,comp,filterTitle);filterGuiPromise=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgPromise.resolve(group.getGui());}else{filterGuiPromise=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgPromise.resolve(comp.getGui());}return filterGuiPromise;})).then(filterGuis=>{filterGuis.forEach((filterGui,index)=>{if(!filterGui){return;}if(index>0){this.appendChild((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createElement)({tag:\"div\",cls:\"ag-filter-separator\"}));}this.appendChild(filterGui);});this.filterGuis=filterGuis;this.lastOpenedInContainer=container;});}destroyChildren(){this.guiDestroyFuncs.forEach(func=>func());this.guiDestroyFuncs.length=0;this.filterGuis.length=0;}insertFilterMenu(comp,name){var eGui=comp.getGui();(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setAriaRole)(eGui,\"dialog\");var menuItem=this.createBean(new AgMenuItemComponent());return menuItem.init({menuItemDef:{name,subMenu:[],subMenuRole:\"dialog\",cssClasses:[\"ag-multi-filter-menu-item\"],menuItem:AgMenuItemRenderer,menuItemParams:{cssClassPrefix:\"ag-compact-menu-option\",isCompact:true}},level:0,isAnotherSubMenuOpen:()=>false,childComponent:comp,contextParams:{column:null,node:null,value:null}}).then(()=>{menuItem.setParentComponent(this);this.guiDestroyFuncs.push(()=>this.destroyBean(menuItem));this.addManagedListeners(menuItem,{menuItemActivated:event=>{if(this.lastActivatedMenuItem&&this.lastActivatedMenuItem!==event.menuItem){this.lastActivatedMenuItem.deactivate();}this.lastActivatedMenuItem=event.menuItem;}});var menuItemGui=menuItem.getGui();menuItem.addManagedElementListeners(menuItemGui,{// `AgMenuList` normally handles keyboard navigation, so need to do here\nkeydown:e=>{var{key}=e;switch(key){case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.UP:case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.RIGHT:case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.DOWN:case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.LEFT:e.preventDefault();if(key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.RIGHT){menuItem.openSubMenu(true);}break;}},focusin:()=>menuItem.activate(),focusout:()=>{if(!menuItem.isSubMenuOpen()&&!menuItem.isSubMenuOpening()){menuItem.deactivate();}}});return menuItem;});}insertFilterGroup(filter,comp,title){var group=this.createBean(new AgGroupComponent({title,cssIdentifier:\"multi-filter\"}));this.guiDestroyFuncs.push(()=>this.destroyBean(group));group.addItem(comp.getGui());group.toggleGroupExpand(false);if(filter.afterGuiAttached){group.addManagedListeners(group,{expanded:()=>filter.afterGuiAttached({container:this.lastOpenedInContainer,suppressFocus:true,hidePopup:this.hidePopup})});}return group;}afterGuiAttached(params){var refreshPromise;if(params){this.hidePopup=params.hidePopup;refreshPromise=this.refreshGui(params.container);}else{this.hidePopup=void 0;refreshPromise=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgPromise.resolve();}var suppressFocus=params===null||params===void 0?void 0:params.suppressFocus;refreshPromise.then(()=>{var{filterDefs,filterGuis,beans}=this;var wrappers=this.getFilterWrappers();var hasFocused=!!suppressFocus;if(filterDefs){forEachReverse(filterDefs,(filterDef,index)=>{var isFirst=index===0;var notInlineDisplayType=filterDef.display&&filterDef.display!==\"inline\";var suppressFocusForFilter=suppressFocus||!isFirst||notInlineDisplayType;var afterGuiAttachedParams=_objectSpread(_objectSpread({},params!==null&&params!==void 0?params:{}),{},{suppressFocus:suppressFocusForFilter});var wrapper=wrappers[index];var filter=wrapper?this.getFilterFromWrapper(wrapper):void 0;if(wrapper){var comp=this.getCompFromWrapper(wrapper);if(comp!==filter){comp.afterGuiAttached(afterGuiAttachedParams);}}if(filter){this.executeFunctionIfExistsOnFilter(filter,\"afterGuiAttached\",afterGuiAttachedParams);if(isFirst&&!suppressFocusForFilter){hasFocused=true;}}if(!suppressFocus&&isFirst&&notInlineDisplayType){var filterGui=filterGuis[index];if(filterGui){if(!(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._focusInto)(filterGui)){filterGui.focus({preventScroll:true});}hasFocused=true;}}});}var activeEl=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getActiveDomElement)(beans);if(!hasFocused&&((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isNothingFocused)(beans)||this.getGui().contains(activeEl))){this.forceFocusOutOfContainer(true);}});}afterGuiDetached(){this.executeFunctionIfExists(\"afterGuiDetached\");}onAnyFilterChanged(){this.executeFunctionIfExists(\"onAnyFilterChanged\",wrapper=>this.executeOnWrapper(wrapper,\"onAnyFilterChanged\"));}onNewRowsLoaded(){this.executeFunctionIfExists(\"onNewRowsLoaded\",wrapper=>this.executeOnWrapper(wrapper,\"onNewRowsLoaded\"));}destroy(){this.destroyChildren();this.hidePopup=void 0;super.destroy();}executeOnWrapper(_wrapper,_name){}executeFunctionIfExists(name,executeOnHandler){forEachReverse(this.getFilterWrappers(),wrapper=>{if(wrapper){executeOnHandler===null||executeOnHandler===void 0||executeOnHandler(wrapper);this.executeFunctionIfExistsOnFilter(this.getFilterFromWrapper(wrapper),name);}});}executeFunctionIfExistsOnFilter(filter,name){var func=filter[name];if(typeof func===\"function\"){for(var _len=arguments.length,params=new Array(_len>2?_len-2:0),_key=2;_key<_len;_key++){params[_key-2]=arguments[_key];}func.apply(filter,params);}}onFocusIn(e){var lastActivatedMenuItem=this.lastActivatedMenuItem;if(lastActivatedMenuItem!=null&&!lastActivatedMenuItem.getGui().contains(e.target)){lastActivatedMenuItem.deactivate();this.lastActivatedMenuItem=null;}}};// packages/ag-grid-enterprise/src/multiFilter/multiFilter.ts\nvar MultiFilter=class extends BaseMultiFilter{constructor(){super(...arguments);this.filterType=\"multi\";this.wrappers=[];this.activeFilterIndices=[];this.afterFiltersReadyFuncs=[];}init(params){this.params=params;this.filterDefs=getMultiFilterDefs(params);var initialModel=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getFilterModel)(this.beans.colFilter.model,params.column.getColId());var{filterChangedCallback}=params;this.filterChangedCallback=filterChangedCallback;var filterPromises=this.filterDefs.map((filterDef,index)=>this.createFilter(filterDef,index,initialModel));return new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgPromise(resolve=>{ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgPromise.all(filterPromises).then(wrappers=>{this.wrappers=wrappers;this.refreshGui(\"columnMenu\").then(()=>{resolve();});});}).then(()=>{this.afterFiltersReadyFuncs.forEach(f=>f());this.afterFiltersReadyFuncs.length=0;});}refresh(params){this.params=params;return true;}isFilterActive(){return this.wrappers.some(wrapper=>{if(!wrapper){return false;}var{filter,handler,model}=wrapper;if(handler){return model!=null;}return filter.isFilterActive();});}getLastActiveFilterIndex(){var activeFilterIndices=this.activeFilterIndices;return activeFilterIndices.length>0?activeFilterIndices[activeFilterIndices.length-1]:null;}doesFilterPass(params,indexToSkip){return this.wrappers.every((wrapper,index)=>{if(!wrapper||indexToSkip!=null&&index===indexToSkip){return true;}var{handler,filter,model}=wrapper;if(handler){return model==null||handler.doesFilterPass(_objectSpread(_objectSpread({},params),{},{model,handlerParams:wrapper.handlerParams}));}return!filter.isFilterActive()||filter.doesFilterPass(params);});}getModelFromUi(){var model={filterType:this.filterType,filterModels:this.wrappers.map(wrapper=>{if(!wrapper){return null;}var providedFilter=wrapper.filter;if(typeof providedFilter.getModelFromUi===\"function\"){return providedFilter.getModelFromUi();}return null;})};return model;}getModel(){if(!this.isFilterActive()){return null;}var model={filterType:this.filterType,filterModels:this.wrappers.map(wrapper=>{if(!wrapper){return null;}var{filter,handler,model:model2}=wrapper;if(handler){return model2;}return filter.isFilterActive()?filter.getModel():null;})};return model;}setModel(model){var setFilterModel=(filter,filterModel)=>{return new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgPromise(resolve=>{var promise=filter.setModel(filterModel);promise?promise.then(()=>resolve()):resolve();});};var promises=[];this.wrappers.forEach((wrapper,index)=>{if(!wrapper){return;}var modelForFilter=getFilterModelForIndex(model,index);var{filter,filterParams,handler,handlerParams,state}=wrapper;if(handler){promises.push((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._refreshHandlerAndUi)(()=>ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgPromise.resolve({filter,filterParams}),handler,handlerParams,modelForFilter,state!==null&&state!==void 0?state:{model:modelForFilter},\"api\").then(()=>{wrapper.model=modelForFilter;this.updateActiveListForHandler(index,modelForFilter);}));}else{promises.push(setFilterModel(filter,modelForFilter).then(()=>{this.updateActiveListForFilter(index,filter);}));}});return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgPromise.all(promises).then(()=>{});}applyModel(){var source=arguments.length>0&&arguments[0]!==undefined?arguments[0]:\"api\";var result=false;this.wrappers.forEach(wrapper=>{if(wrapper){var filter=wrapper.filter;if(filter instanceof ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.ProvidedFilter){result=filter.applyModel(source)||result;}}});return result;}getChildFilterInstance(index){var _this$wrappers$index;return(_this$wrappers$index=this.wrappers[index])===null||_this$wrappers$index===void 0?void 0:_this$wrappers$index.filter;}destroy(){this.wrappers.forEach(wrapper=>{this.destroyBean(wrapper===null||wrapper===void 0?void 0:wrapper.filter);this.destroyBean(wrapper===null||wrapper===void 0?void 0:wrapper.handler);});this.wrappers.length=0;super.destroy();}getFilterWrappers(){return this.wrappers;}getFilterFromWrapper(wrapper){return wrapper.filter;}getCompFromWrapper(wrapper){return wrapper.comp;}executeOnWrapper(wrapper,name){var _wrapper$handler,_wrapper$handler$name;(_wrapper$handler=wrapper.handler)===null||_wrapper$handler===void 0||(_wrapper$handler$name=_wrapper$handler[name])===null||_wrapper$handler$name===void 0||_wrapper$handler$name.call(_wrapper$handler);}createFilter(filterDef,index,initialModel){var column=this.params.column;var initialModelForFilter=null;var createWrapperComp;var beans=this.beans;var{compDetails,handler,handlerParams:originalHandlerParams,createFilterUi}=beans.colFilter.createFilterInstance(column,filterDef,\"agTextColumnFilter\",(defaultParams,isHandler)=>{var updatedParams=_objectSpread(_objectSpread({},defaultParams),{},{filterChangedCallback:isHandler?()=>{}:additionalEventAttributes=>{this.executeWhenAllFiltersReady(()=>this.onFilterModelChanged(index,additionalEventAttributes));},doesRowPassOtherFilter:node=>defaultParams.doesRowPassOtherFilter(node)&&this.doesFilterPass({node,data:node.data},index),getValue:updateGetValue(beans,column,filterDef,defaultParams.getValue)});if(isHandler){initialModelForFilter=getFilterModelForIndex(initialModel,index);createWrapperComp=this.updateDisplayParams(updatedParams,index,initialModelForFilter,()=>compDetails,()=>handler);}return updatedParams;});if(!createFilterUi){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgPromise.resolve(null);}var handlerParams;if(handler){var _handler$init;var{onModelChange:_onModelChange,doesRowPassOtherFilter:_doesRowPassOtherFilter,getValue}=originalHandlerParams;handlerParams=_objectSpread(_objectSpread({},originalHandlerParams),{},{onModelChange:(newModel,additionalEventAttributes)=>_onModelChange(getUpdatedMultiFilterModel(this.params.model,this.wrappers.length,newModel,index),additionalEventAttributes),doesRowPassOtherFilter:node=>_doesRowPassOtherFilter(node)&&this.doesFilterPass({node,data:node.data},index),getValue:updateGetValue(beans,column,filterDef,getValue)});(_handler$init=handler.init)===null||_handler$init===void 0||_handler$init.call(handler,_objectSpread(_objectSpread({},handlerParams),{},{model:initialModelForFilter,source:\"init\"}));}return createFilterUi().then(filter=>{if(!handler){return{filter,comp:filter};}var filterParams=compDetails===null||compDetails===void 0?void 0:compDetails.params;var comp=createWrapperComp(filter);return{filter,comp,filterParams,handler,handlerParams,model:initialModelForFilter};});}updateDisplayParams(displayParams,index,initialModelForFilter,getCompDetails,getHandler){var column=this.params.column;var eventSvc=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.LocalEventService();displayParams.model=initialModelForFilter;displayParams.state={model:initialModelForFilter};displayParams.onModelChange=(model,additionalEventAttributes)=>{var _wrapper$state;var wrapper=this.wrappers[index];if(!wrapper){return;}(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._refreshHandlerAndUi)(()=>ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgPromise.resolve({filter:wrapper.filter,filterParams:wrapper.filterParams}),wrapper.handler,wrapper.handlerParams,model,(_wrapper$state=wrapper.state)!==null&&_wrapper$state!==void 0?_wrapper$state:{model},\"ui\").then(()=>{wrapper.model=model;this.onHandlerModelChanged(index,model,additionalEventAttributes);});};displayParams.getHandler=getHandler;var updateState=(wrapper,state)=>{wrapper.state=state;eventSvc.dispatchEvent({type:\"filterStateChanged\",column,state});};displayParams.onStateChange=state=>{var _wrapper$model;var wrapper=this.wrappers[index];if(!wrapper){return;}updateState(wrapper,state);(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._refreshFilterUi)(wrapper.filter,wrapper.filterParams,(_wrapper$model=wrapper.model)!==null&&_wrapper$model!==void 0?_wrapper$model:null,state,\"ui\");};var updateModel=(_column,action,additionalEventAttributes)=>{var wrapper=this.wrappers[index];if(!wrapper){return;}var getModel=()=>{var _wrapper$model2;return(_wrapper$model2=wrapper===null||wrapper===void 0?void 0:wrapper.model)!==null&&_wrapper$model2!==void 0?_wrapper$model2:null;};(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._updateFilterModel)(action,()=>{var promise=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgPromise.resolve(wrapper.filter);return{created:true,filterParams:wrapper.filterParams,compDetails:getCompDetails(),create:()=>promise,promise};},getModel,()=>{var _wrapper$state2;return(_wrapper$state2=wrapper===null||wrapper===void 0?void 0:wrapper.state)!==null&&_wrapper$state2!==void 0?_wrapper$state2:{model:getModel()};},state=>updateState(wrapper,state),newModel=>{var _wrapper$filterParams;return(_wrapper$filterParams=wrapper.filterParams)===null||_wrapper$filterParams===void 0?void 0:_wrapper$filterParams.onModelChange(newModel,additionalEventAttributes);});};displayParams.onAction=(action,additionalEventAttributes,event)=>{updateModel(column,action,additionalEventAttributes);eventSvc.dispatchEvent({type:\"filterAction\",column,action,event});};return filter=>{var _getCompDetails;var filterParams=(_getCompDetails=getCompDetails())===null||_getCompDetails===void 0?void 0:_getCompDetails.params;return this.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FilterWrapperComp(column,{comp:filter,params:filterParams,isHandler:true},eventSvc,updateModel,false));};}executeWhenAllFiltersReady(action){var _this$wrappers$length,_this$wrappers;if(((_this$wrappers$length=(_this$wrappers=this.wrappers)===null||_this$wrappers===void 0?void 0:_this$wrappers.length)!==null&&_this$wrappers$length!==void 0?_this$wrappers$length:0)>0){action();}else{this.afterFiltersReadyFuncs.push(action);}}updateActiveListForFilter(index,filter){this.updateActiveList(index,()=>filter===null||filter===void 0?void 0:filter.isFilterActive());}updateActiveListForHandler(index,model){this.updateActiveList(index,()=>model!=null);}updateActiveList(index,isActive){var activeFilterIndices=this.activeFilterIndices;(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._removeFromArray)(this.activeFilterIndices,index);if(isActive()){activeFilterIndices.push(index);}}/** Only called for non-handlers */onFilterModelChanged(index,additionalEventAttributes){var _this$wrappers$index2;this.updateActiveListForFilter(index,(_this$wrappers$index2=this.wrappers[index])===null||_this$wrappers$index2===void 0?void 0:_this$wrappers$index2.filter);this.filterChanged(index,additionalEventAttributes);}onHandlerModelChanged(index,model,additionalEventAttributes){this.updateActiveListForHandler(index,model);this.filterChanged(index,additionalEventAttributes);}filterChanged(index,additionalEventAttributes){this.filterChangedCallback(additionalEventAttributes);this.wrappers.forEach((wrapper,childIndex)=>{var _handler$onAnyFilterC;if(index===childIndex||!wrapper){return;}var{filter,handler}=wrapper;handler===null||handler===void 0||(_handler$onAnyFilterC=handler.onAnyFilterChanged)===null||_handler$onAnyFilterC===void 0||_handler$onAnyFilterC.call(handler);if(typeof filter.onAnyFilterChanged===\"function\"){filter.onAnyFilterChanged();}});}getModelAsString(model){var _model$filterModels2,_this$getLastActiveFi,_this$wrappers$lastAc,_activeFilter$getMode,_activeFilter$getMode2;if(!(model!==null&&model!==void 0&&(_model$filterModels2=model.filterModels)!==null&&_model$filterModels2!==void 0&&_model$filterModels2.length)){return\"\";}var lastActiveIndex=(_this$getLastActiveFi=this.getLastActiveFilterIndex())!==null&&_this$getLastActiveFi!==void 0?_this$getLastActiveFi:0;var activeFilter=(_this$wrappers$lastAc=this.wrappers[lastActiveIndex])===null||_this$wrappers$lastAc===void 0?void 0:_this$wrappers$lastAc.filter;return(_activeFilter$getMode=activeFilter===null||activeFilter===void 0||(_activeFilter$getMode2=activeFilter.getModelAsString)===null||_activeFilter$getMode2===void 0?void 0:_activeFilter$getMode2.call(activeFilter,model.filterModels[lastActiveIndex]))!==null&&_activeFilter$getMode!==void 0?_activeFilter$getMode:\"\";}};// packages/ag-grid-enterprise/src/multiFilter/multiFilterHandler.ts\nvar MultiFilterHandler=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BeanStub{constructor(){super(...arguments);/** Used to get the filter type for filter models. */this.filterType=\"multi\";this.handlerWrappers=[];/** ui active. could still have null model */this.activeFilterIndices=[];this.filterDefs=[];}init(params){this.params=params;var filterDefs=getMultiFilterDefs(params.filterParams);this.filterDefs=filterDefs;filterDefs.forEach((def,index)=>{var _handler$init2;var wrapper=this.beans.colFilter.createHandler(params.column,def,\"agTextColumnFilter\");this.handlerWrappers.push(wrapper);if(!wrapper){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(278,{colId:params.column.getColId()});return;}var{handler,handlerParams}=wrapper;(_handler$init2=handler.init)===null||_handler$init2===void 0||_handler$init2.call(handler,_objectSpread(_objectSpread({},this.updateHandlerParams(handlerParams,index)),{},{model:getFilterModelForIndex(params.model,index),source:\"init\"}));});this.resetActiveList(params.model);}refresh(params){this.params=params;var{model,source,filterParams}=params;var filters=filterParams===null||filterParams===void 0?void 0:filterParams.filters;this.handlerWrappers.forEach((wrapper,index)=>{if(wrapper){var _wrapper$handler$refr,_wrapper$handler2;var handlerParams=this.updateHandlerParams(params,index);var originalFilterParams=handlerParams.filterParams;var providedFilterParams=filters===null||filters===void 0?void 0:filters[index].filterParams;var filterParamsForFilter=providedFilterParams?_objectSpread(_objectSpread({},originalFilterParams),providedFilterParams):originalFilterParams;var updatedParams=_objectSpread(_objectSpread({},this.updateHandlerParams(params,index)),{},{filterParams:filterParamsForFilter});wrapper.handlerParams=updatedParams;(_wrapper$handler$refr=(_wrapper$handler2=wrapper.handler).refresh)===null||_wrapper$handler$refr===void 0||_wrapper$handler$refr.call(_wrapper$handler2,_objectSpread(_objectSpread({},updatedParams),{},{model:getFilterModelForIndex(model,index),source}));}});if(params.source!==\"floating\"&&params.source!==\"ui\"){this.resetActiveList(params.model);}}updateHandlerParams(params,index){var{onModelChange:_onModelChange2,doesRowPassOtherFilter:_doesRowPassOtherFilter2,getValue}=params;var handlerParams=_objectSpread(_objectSpread({},params),{},{onModelChange:(newModel,additionalEventAttributes)=>_onModelChange2(getUpdatedMultiFilterModel(this.params.model,this.handlerWrappers.length,newModel,index),additionalEventAttributes),doesRowPassOtherFilter:node=>_doesRowPassOtherFilter2(node)&&this.doesFilterPass({node,data:node.data,model:this.params.model,handlerParams},index),getValue:updateGetValue(this.beans,params.column,this.filterDefs[index],getValue)});return handlerParams;}doesFilterPass(params,indexToSkip){var _params$model;var filterModels=(_params$model=params.model)===null||_params$model===void 0?void 0:_params$model.filterModels;if(filterModels==null){return true;}return this.handlerWrappers.every((wrapper,index)=>{var model=filterModels[index];if(model==null||indexToSkip!=null&&index===indexToSkip){return true;}var handler=wrapper===null||wrapper===void 0?void 0:wrapper.handler;return!handler||handler.doesFilterPass(_objectSpread(_objectSpread({},params),{},{model,handlerParams:wrapper.handlerParams}));});}resetActiveList(model){this.activeFilterIndices=[];var filterModels=model===null||model===void 0?void 0:model.filterModels;if(filterModels==null){return;}for(var i=0;i<this.handlerWrappers.length;i++){var isActive=filterModels[i]!=null;if(isActive){this.activeFilterIndices.push(i);}}}updateActiveList(index,childModel){var activeFilterIndices=this.activeFilterIndices;(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._removeFromArray)(activeFilterIndices,index);if(childModel!=null){activeFilterIndices.push(index);}}getLastActiveFilterIndex(){var activeFilterIndices=this.activeFilterIndices;return activeFilterIndices.length>0?activeFilterIndices[activeFilterIndices.length-1]:null;}getModelAsString(model,source){var _model$filterModels3,_this$getLastActiveFi2,_activeWrapper$handle,_activeWrapper$handle2,_activeWrapper$handle3;var isForToolPanel=source===\"filterToolPanel\";var defaultOption=()=>isForToolPanel?this.getLocaleTextFunc()(\"filterSummaryInactive\",\"is (All)\"):\"\";if(!(model!==null&&model!==void 0&&(_model$filterModels3=model.filterModels)!==null&&_model$filterModels3!==void 0&&_model$filterModels3.length)){return defaultOption();}var lastActiveIndex=(_this$getLastActiveFi2=this.getLastActiveFilterIndex())!==null&&_this$getLastActiveFi2!==void 0?_this$getLastActiveFi2:0;var activeWrapper=this.handlerWrappers[lastActiveIndex];return(_activeWrapper$handle=activeWrapper===null||activeWrapper===void 0||(_activeWrapper$handle2=(_activeWrapper$handle3=activeWrapper.handler).getModelAsString)===null||_activeWrapper$handle2===void 0?void 0:_activeWrapper$handle2.call(_activeWrapper$handle3,model.filterModels[lastActiveIndex],source))!==null&&_activeWrapper$handle!==void 0?_activeWrapper$handle:defaultOption();}getHandler(index){var _this$handlerWrappers;return(_this$handlerWrappers=this.handlerWrappers[index])===null||_this$handlerWrappers===void 0?void 0:_this$handlerWrappers.handler;}onAnyFilterChanged(){forEachReverse(this.handlerWrappers,wrapper=>{var _wrapper$handler3,_wrapper$handler3$onA;return wrapper===null||wrapper===void 0||(_wrapper$handler3=wrapper.handler)===null||_wrapper$handler3===void 0||(_wrapper$handler3$onA=_wrapper$handler3.onAnyFilterChanged)===null||_wrapper$handler3$onA===void 0?void 0:_wrapper$handler3$onA.call(_wrapper$handler3);});}onNewRowsLoaded(){forEachReverse(this.handlerWrappers,wrapper=>{var _wrapper$handler4,_wrapper$handler4$onN;return wrapper===null||wrapper===void 0||(_wrapper$handler4=wrapper.handler)===null||_wrapper$handler4===void 0||(_wrapper$handler4$onN=_wrapper$handler4.onNewRowsLoaded)===null||_wrapper$handler4$onN===void 0?void 0:_wrapper$handler4$onN.call(_wrapper$handler4);});}destroy(){this.handlerWrappers.forEach(wrapper=>this.destroyBean(wrapper===null||wrapper===void 0?void 0:wrapper.handler));this.handlerWrappers.length=0;super.destroy();}};// packages/ag-grid-enterprise/src/multiFilter/multiFilterService.ts\nvar MultiFilterService=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BeanStub{constructor(){super(...arguments);this.beanName=\"multiFilter\";}getParamsForDataType(existingFilterParams,existingFilterValueGetter,dataTypeDefinition,formatValue){var filters=existingFilterParams===null||existingFilterParams===void 0?void 0:existingFilterParams.filters;var beans=this.beans;if(!filters){var simpleFilter=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getDefaultSimpleFilter)(dataTypeDefinition.baseDataType);filters=[{filter:simpleFilter},{filter:\"agSetColumnFilter\"}];}var translate=this.getLocaleTextFunc();filters=filters.map(filterDef=>{var{filter,filterParams:existingChildFilterParams,filterValueGetter:existingChildFilterValueGetter}=filterDef;if(typeof filter!==\"string\"){return filterDef;}var{filterParams,filterValueGetter}=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getFilterParamsForDataType)(filter,existingChildFilterParams,existingChildFilterValueGetter!==null&&existingChildFilterValueGetter!==void 0?existingChildFilterValueGetter:existingFilterValueGetter,dataTypeDefinition,formatValue,beans,translate);return _objectSpread(_objectSpread({},filterDef),{},{filterParams,filterValueGetter});});return{filterParams:_objectSpread(_objectSpread({},existingFilterParams),{},{filters})};}};// packages/ag-grid-enterprise/src/multiFilter/multiFilterUi.ts\nvar MultiFilterUi=class extends BaseMultiFilter{constructor(){super(...arguments);this.filterType=\"multi\";this.filters=[];this.filterParams=[];this.validity=[];}init(params){this.params=params;this.filterDefs=getMultiFilterDefs(params);this.allState=params.state;var filterPromises=this.filterDefs.map((filterDef,index)=>this.createFilter(filterDef,index));return new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgPromise(resolve=>{ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgPromise.all(filterPromises).then(filters=>{this.filters=filters;this.refreshGui(\"columnMenu\").then(()=>{resolve();});});});}refresh(params){var{model,state,source}=params;if(source===\"colDef\"){return false;}this.params=params;var filterParams=this.filterParams;if(state===this.allState){return true;}this.allState=state;var newAllStateState=state.state;this.filters.forEach((filter,index)=>{var modelForFilter=getFilterModelForIndex(model,index);var stateForFilter={state:newAllStateState===null||newAllStateState===void 0?void 0:newAllStateState[index],model:getFilterModelForIndex(state.model,index)};(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._refreshFilterUi)(filter,filterParams[index],modelForFilter,stateForFilter,source);});return true;}getLastActiveFilterIndex(){var _this$getHandler$getL,_this$getHandler$getL2,_this$getHandler;return(_this$getHandler$getL=(_this$getHandler$getL2=(_this$getHandler=this.getHandler()).getLastActiveFilterIndex)===null||_this$getHandler$getL2===void 0?void 0:_this$getHandler$getL2.call(_this$getHandler))!==null&&_this$getHandler$getL!==void 0?_this$getHandler$getL:null;}getChildFilterInstance(index){var _this$filters$index;return(_this$filters$index=this.filters[index])!==null&&_this$filters$index!==void 0?_this$filters$index:void 0;}destroy(){this.filters.forEach(filter=>this.destroyBean(filter));this.filters.length=0;super.destroy();}getFilterWrappers(){return this.filters;}getFilterFromWrapper(wrapper){return wrapper;}getCompFromWrapper(wrapper){return wrapper;}createFilter(filterDef,index){var userCompFactory=this.beans.userCompFactory;var filterParams=this.updateParams(filterDef,this.params,index);var compDetails=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getFilterDetails)(userCompFactory,filterDef,filterParams,\"agTextColumnFilter\");if(!compDetails){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgPromise.resolve(null);}this.filterParams[index]=compDetails.params;return compDetails.newAgStackInstance();}updateParams(filterDef,params,index){var _state$state;var{doesRowPassOtherFilter:_doesRowPassOtherFilter3,model,onModelChange:_onModelChange3,state,onStateChange:_onStateChange,column,source,onAction:_onAction,onUiChange,getValue}=params;var filterModel=getFilterModelForIndex(model,index);var filterState=state?{model:getFilterModelForIndex(state.model,index),state:(_state$state=state.state)===null||_state$state===void 0?void 0:_state$state[index]}:{model:filterModel};var onAnyFilterChanged=()=>{var handler=this.getHandler();this.filters.forEach((filter,otherIndex)=>{if(index!==otherIndex){var _handler$getHandler,_handler$getHandler$o,_filter$onAnyFilterCh;(_handler$getHandler=handler.getHandler(otherIndex))===null||_handler$getHandler===void 0||(_handler$getHandler$o=_handler$getHandler.onAnyFilterChanged)===null||_handler$getHandler$o===void 0||_handler$getHandler$o.call(_handler$getHandler);filter===null||filter===void 0||(_filter$onAnyFilterCh=filter.onAnyFilterChanged)===null||_filter$onAnyFilterCh===void 0||_filter$onAnyFilterCh.call(filter);}});};var colFilter=this.beans.colFilter;return _objectSpread(_objectSpread(_objectSpread({},colFilter.createBaseFilterParams(column)),filterDef),{},{doesRowPassOtherFilter:node=>_doesRowPassOtherFilter3(node)&&this.getHandler().doesFilterPass({node,data:node.data,model:this.params.model,handlerParams:colFilter.getHandlerParams(column)},index),model:filterModel,state:filterState,onModelChange:(childModel,additionalEventAttributes)=>{var{filters,params:params2}=this;var newModel=getUpdatedMultiFilterModel(params2.model,filters.length,childModel,index);this.updateActiveList(index,childModel);_onModelChange3(newModel,additionalEventAttributes);onAnyFilterChanged();},onStateChange:newState=>this.onStateChange(_onStateChange,index,newState),getHandler:()=>this.getHandler().getHandler(index),onAction:(action,additionalEventAttributes,event)=>{if((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isUseApplyButton)(params)){return;}var isChange=action===\"apply\"||action===\"reset\";if(isChange){this.updateActiveList(index,getFilterModelForIndex(this.params.state.model,index));}_onAction(action,additionalEventAttributes,event);if(isChange){onAnyFilterChanged();}},onUiChange,source,getValue:updateGetValue(this.beans,column,filterDef,getValue)});}updateActiveList(index,childModel){var _this$getHandler$upda,_this$getHandler2;(_this$getHandler$upda=(_this$getHandler2=this.getHandler()).updateActiveList)===null||_this$getHandler$upda===void 0||_this$getHandler$upda.call(_this$getHandler2,index,childModel);}getHandler(){return this.params.getHandler();}onStateChange(onStateChange,index,newState){var _allState$state;var{model,state,valid}=newState;var validity=this.validity;validity[index]=valid;var allState=this.allState;var newModel=getUpdatedMultiFilterModel(allState.model,this.filters.length,model,index);var allValid=validity.every(filterValid=>filterValid!==false);var allStateState=[...((_allState$state=allState.state)!==null&&_allState$state!==void 0?_allState$state:[])];allStateState[index]=state;var newAllState={state:allStateState,model:newModel,valid:allValid};this.allState=newAllState;onStateChange(newAllState);}getModelAsString(model){var _this$getHandler$getM,_this$getHandler$getM2,_this$getHandler3;return(_this$getHandler$getM=(_this$getHandler$getM2=(_this$getHandler3=this.getHandler()).getModelAsString)===null||_this$getHandler$getM2===void 0?void 0:_this$getHandler$getM2.call(_this$getHandler3,model))!==null&&_this$getHandler$getM!==void 0?_this$getHandler$getM:\"\";}};// packages/ag-grid-enterprise/src/multiFilter/multiFloatingFilter.ts\nvar MultiFloatingFilterElement={tag:\"div\",cls:\"ag-multi-floating-filter ag-floating-filter-input\"};var MultiFloatingFilterComp=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(){super(MultiFloatingFilterElement);this.floatingFilters=[];this.compDetailsList=[];}init(params){this.params=params;var{compDetailsList}=this.getCompDetailsList(params);return this.setParams(compDetailsList);}setParams(compDetailsList){var floatingFilterPromises=[];compDetailsList.forEach(compDetails=>{var floatingFilterPromise=compDetails===null||compDetails===void 0?void 0:compDetails.newAgStackInstance();if(floatingFilterPromise!=null){this.compDetailsList.push(compDetails);floatingFilterPromises.push(floatingFilterPromise);}});return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgPromise.all(floatingFilterPromises).then(floatingFilters=>{floatingFilters.forEach((floatingFilter,index)=>{this.floatingFilters.push(floatingFilter);var gui=floatingFilter.getGui();this.appendChild(gui);if(index>0){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setDisplayed)(gui,false);}});});}refresh(params){this.params=params;var{compDetailsList:newCompDetailsList,floatingFilterParamsList}=this.getCompDetailsList(params);var allFloatingFilterCompsUnchanged=newCompDetailsList.length===this.compDetailsList.length&&newCompDetailsList.every((newCompDetails,index)=>{var _this$beans$colFilter2;return!((_this$beans$colFilter2=this.beans.colFilter)!==null&&_this$beans$colFilter2!==void 0&&_this$beans$colFilter2.areFilterCompsDifferent(this.compDetailsList[index],newCompDetails));});if(allFloatingFilterCompsUnchanged){floatingFilterParamsList.forEach((floatingFilterParams,index)=>{var _floatingFilter$refre;var floatingFilter=this.floatingFilters[index];(_floatingFilter$refre=floatingFilter.refresh)===null||_floatingFilter$refre===void 0||_floatingFilter$refre.call(floatingFilter,floatingFilterParams);});if(this.gos.get(\"enableFilterHandlers\")){var reactiveParams=params;if(reactiveParams.model==null){this.floatingFilters.forEach((filter,i)=>{(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setDisplayed)(filter.getGui(),i===0);});}else{var _reactiveParams$getHa,_reactiveParams$getHa2;var lastActiveFloatingFilterIndex=(_reactiveParams$getHa=reactiveParams.getHandler())===null||_reactiveParams$getHa===void 0||(_reactiveParams$getHa2=_reactiveParams$getHa.getLastActiveFilterIndex)===null||_reactiveParams$getHa2===void 0?void 0:_reactiveParams$getHa2.call(_reactiveParams$getHa);this.floatingFilters.forEach((filter,i)=>{var shouldShow=lastActiveFloatingFilterIndex==null?i===0:i===lastActiveFloatingFilterIndex;(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setDisplayed)(filter.getGui(),shouldShow);});}}}else{(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._clearElement)(this.getGui());this.destroyBeans(this.floatingFilters);this.floatingFilters=[];this.compDetailsList=[];this.setParams(newCompDetailsList);}}getCompDetailsList(params){var compDetailsList=[];var floatingFilterParamsList=[];var filterParams=params.filterParams;var _currentParentModel=params.currentParentModel;var filterDefs=getMultiFilterDefs(filterParams);filterDefs.forEach((filterDef,index)=>{var floatingFilterParams=_objectSpread(_objectSpread({},params),{},{// set the parent filter instance for each floating filter to the relevant child filter instance\nparentFilterInstance:callback=>{this.parentMultiFilterInstance(parent=>{var child=parent.getChildFilterInstance(index);if(child==null){return;}callback(child);});},// return the parent model for the specific filter\ncurrentParentModel:()=>{var _currentParentModel$f,_currentParentModel2;return(_currentParentModel$f=(_currentParentModel2=_currentParentModel())===null||_currentParentModel2===void 0||(_currentParentModel2=_currentParentModel2.filterModels)===null||_currentParentModel2===void 0?void 0:_currentParentModel2[index])!==null&&_currentParentModel$f!==void 0?_currentParentModel$f:null;}});if(this.gos.get(\"enableFilterHandlers\")){var _reactiveParams$model,_reactiveParams$model2;var reactiveParams=floatingFilterParams;reactiveParams.model=(_reactiveParams$model=(_reactiveParams$model2=reactiveParams.model)===null||_reactiveParams$model2===void 0||(_reactiveParams$model2=_reactiveParams$model2.filterModels)===null||_reactiveParams$model2===void 0?void 0:_reactiveParams$model2[index])!==null&&_reactiveParams$model!==void 0?_reactiveParams$model:null;var{onModelChange,getHandler}=reactiveParams;reactiveParams.onModelChange=(newModel,additionalEventAttributes)=>onModelChange(getUpdatedMultiFilterModel(this.params.model,filterDefs.length,newModel,index),additionalEventAttributes);reactiveParams.getHandler=()=>{var multiFilterHandler=getHandler();return multiFilterHandler.getHandler(index);};}(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._mergeDeep)(floatingFilterParams.filterParams,filterDef.filterParams);var compDetails=this.getCompDetails(filterDef,floatingFilterParams);if(compDetails){compDetailsList.push(compDetails);floatingFilterParamsList.push(floatingFilterParams);}});return{compDetailsList,floatingFilterParamsList};}onParentModelChanged(model,event){if(event&&event.afterFloatingFilter){return;}this.parentMultiFilterInstance(parent=>{if(model==null){this.floatingFilters.forEach((filter,i)=>{filter.onParentModelChanged(null,event);(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setDisplayed)(filter.getGui(),i===0);});}else{var lastActiveFloatingFilterIndex=parent.getLastActiveFilterIndex();this.floatingFilters.forEach((filter,i)=>{var filterModel=model.filterModels.length>i?model.filterModels[i]:null;filter.onParentModelChanged(filterModel,event);var shouldShow=lastActiveFloatingFilterIndex==null?i===0:i===lastActiveFloatingFilterIndex;(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setDisplayed)(filter.getGui(),shouldShow);});}});}destroy(){this.destroyBeans(this.floatingFilters);this.floatingFilters.length=0;super.destroy();}getCompDetails(filterDef,params){var _getDefaultFloatingFi;var{colFilter,frameworkOverrides,userCompFactory}=this.beans;var defaultComponentName=(_getDefaultFloatingFi=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getDefaultFloatingFilterType)(frameworkOverrides,filterDef,()=>colFilter.getDefaultFloatingFilter(this.params.column)))!==null&&_getDefaultFloatingFi!==void 0?_getDefaultFloatingFi:\"agReadOnlyFloatingFilter\";return (0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getFloatingFilterCompDetails)(userCompFactory,filterDef,params,defaultComponentName);}parentMultiFilterInstance(cb){this.params.parentFilterInstance(parent=>{if(!(parent instanceof MultiFilter||parent instanceof MultiFilterUi)){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._error)(120);}cb(parent);});}};// packages/ag-grid-enterprise/src/multiFilter/multiFilterModule.ts\nvar MultiFilterModule={moduleName:\"MultiFilter\",version:VERSION,userComponents:{agMultiColumnFilter:{getComp:beans=>beans.gos.get(\"enableFilterHandlers\")?{classImp:MultiFilterUi,params:{useForm:true}}:MultiFilter},agMultiColumnFloatingFilter:MultiFloatingFilterComp},beans:[MultiFilterService],dynamicBeans:{agMultiColumnFilterHandler:MultiFilterHandler},dependsOn:[EnterpriseCoreModule,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._ColumnFilterModule,MenuItemModule]};// packages/ag-grid-enterprise/src/rowGrouping/rowGroupingModule.ts\n// packages/ag-grid-enterprise/src/aggregation/aggColumnNameService.ts\nvar AggColumnNameService=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BeanStub{constructor(){super(...arguments);this.beanName=\"aggColNameSvc\";}getHeaderName(column,headerName){if(this.gos.get(\"suppressAggFuncInHeader\")){return headerName;}var{valueColsSvc,colModel,rowGroupColsSvc}=this.beans;var pivotValueColumn=column.getColDef().pivotValueColumn;var pivotActiveOnThisColumn=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._exists)(pivotValueColumn);var aggFunc=null;var aggFuncFound;if(pivotActiveOnThisColumn){var _valueColsSvc$columns;var valueColumns=(_valueColsSvc$columns=valueColsSvc===null||valueColsSvc===void 0?void 0:valueColsSvc.columns)!==null&&_valueColsSvc$columns!==void 0?_valueColsSvc$columns:[];var isCollapsedHeaderEnabled=this.gos.get(\"removePivotHeaderRowWhenSingleValueColumn\")&&valueColumns.length===1;var isTotalColumn=column.getColDef().pivotTotalColumnIds!==void 0;if(isCollapsedHeaderEnabled&&!isTotalColumn){return headerName;}aggFunc=pivotValueColumn?pivotValueColumn.getAggFunc():null;aggFuncFound=true;}else{var measureActive=column.isValueActive();var aggregationPresent=colModel.isPivotMode()||(rowGroupColsSvc===null||rowGroupColsSvc===void 0?void 0:rowGroupColsSvc.columns.length)!==0;if(measureActive&&aggregationPresent){aggFunc=column.getAggFunc();aggFuncFound=true;}else{aggFuncFound=false;}}if(aggFuncFound){var aggFuncString=typeof aggFunc===\"string\"?aggFunc:\"func\";var localeTextFunc=this.getLocaleTextFunc();var aggFuncStringTranslated=localeTextFunc(aggFuncString,aggFuncString);return\"\".concat(aggFuncStringTranslated,\"(\").concat(headerName,\")\");}return headerName;}};// packages/ag-grid-enterprise/src/aggregation/aggFuncService.ts\nvar defaultAggFuncNames={sum:\"Sum\",first:\"First\",last:\"Last\",min:\"Min\",max:\"Max\",count:\"Count\",avg:\"Average\"};var AggFuncService=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BeanStub{constructor(){super(...arguments);this.beanName=\"aggFuncSvc\";this.aggFuncsMap={};this.initialised=false;}postConstruct(){this.init();}init(){if(this.initialised){return;}this.initialiseWithDefaultAggregations();this.addAggFuncs(this.gos.get(\"aggFuncs\"));}initialiseWithDefaultAggregations(){var aggMap=this.aggFuncsMap;aggMap[\"sum\"]=aggSum;aggMap[\"first\"]=aggFirst;aggMap[\"last\"]=aggLast;aggMap[\"min\"]=aggMin;aggMap[\"max\"]=aggMax;aggMap[\"count\"]=aggCount;aggMap[\"avg\"]=aggAvg;this.initialised=true;}isAggFuncPossible(column,func){var allKeys=this.getFuncNames(column);var allowed=allKeys.includes(func);var funcExists=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._exists)(this.aggFuncsMap[func]);return allowed&&funcExists;}getDefaultFuncLabel(fctName){var _defaultAggFuncNames$;return(_defaultAggFuncNames$=defaultAggFuncNames[fctName])!==null&&_defaultAggFuncNames$!==void 0?_defaultAggFuncNames$:fctName;}getDefaultAggFunc(column){var defaultAgg=column.getColDef().defaultAggFunc;if((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._exists)(defaultAgg)&&this.isAggFuncPossible(column,defaultAgg)){return defaultAgg;}if(this.isAggFuncPossible(column,\"sum\")){return\"sum\";}var allKeys=this.getFuncNames(column);return allKeys!==null&&allKeys!==void 0&&allKeys.length?allKeys[0]:null;}addAggFuncs(aggFuncs){this.init();if(!aggFuncs){return;}for(var key of Object.keys(aggFuncs)){this.aggFuncsMap[key]=aggFuncs[key];}}getAggFunc(name){this.init();return this.aggFuncsMap[name];}getFuncNames(column){var userAllowedFuncs=column.getColDef().allowedAggFuncs;return userAllowedFuncs==null?Object.keys(this.aggFuncsMap).sort():userAllowedFuncs;}clear(){this.aggFuncsMap={};}};function aggSum(params){var{values}=params;var result=null;for(var i=0;i<values.length;i++){var value=values[i];if(typeof value===\"number\"){if(result===null){result=value;}else{result+=typeof result===\"number\"?value:BigInt(value);}}else if(typeof value===\"bigint\"){if(result===null){result=value;}else{result=(typeof result===\"bigint\"?result:BigInt(result))+value;}}}return result;}function aggFirst(params){return params.values.length>0?params.values[0]:null;}function aggLast(params){return params.values.length>0?(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._last)(params.values):null;}function aggMin(params){var{values}=params;var result=null;for(var i=0;i<values.length;i++){var value=values[i];if((typeof value===\"number\"||typeof value===\"bigint\")&&(result===null||result>value)){result=value;}}return result;}function aggMax(params){var{values}=params;var result=null;for(var i=0;i<values.length;i++){var value=values[i];if((typeof value===\"number\"||typeof value===\"bigint\")&&(result===null||result<value)){result=value;}}return result;}var COUNT_PROTO=Object.freeze({// the grid by default uses toString to render values for an object, so this\n// is a trick to get the default cellRenderer to display the avg value\ntoString:function toString(){return this.value.toString();},// used for sorting\ntoNumber:function toNumber(){return this.value;}});function aggCount(params){var _params$rowNode2;var{values}=params;var count=0;for(var i=0;i<values.length;i++){var value=values[i];count+=value!=null&&typeof value.value===\"number\"?value.value:1;}var existingAggData=(_params$rowNode2=params.rowNode)===null||_params$rowNode2===void 0||(_params$rowNode2=_params$rowNode2.aggData)===null||_params$rowNode2===void 0?void 0:_params$rowNode2[params.column.getColId()];if(existingAggData&&existingAggData.value===count){return existingAggData;}var result=Object.create(COUNT_PROTO);result.value=count;return result;}var AVERAGE_PROTO=Object.freeze({// the grid by default uses toString to render values for an object, so this\n// is a trick to get the default cellRenderer to display the avg value\ntoString:function toString(){return typeof this.value===\"number\"||typeof this.value===\"bigint\"?this.value.toString():\"\";},// used for sorting\ntoNumber:function toNumber(){return this.value;}});function aggAvg(params){var _params$rowNode3,_params$column2;var{values}=params;var sum=0;var count=0;for(var i=0;i<values.length;i++){var currentValue=values[i];var valueToAdd=null;if(typeof currentValue===\"number\"||typeof currentValue===\"bigint\"){valueToAdd=currentValue;count++;}else if(currentValue!=null&&(typeof currentValue.value===\"number\"||typeof currentValue.value===\"bigint\")&&typeof currentValue.count===\"number\"){valueToAdd=currentValue.value*(typeof currentValue.value===\"number\"?currentValue.count:BigInt(currentValue.count));count+=currentValue.count;}if(typeof valueToAdd===\"number\"){sum+=typeof sum===\"number\"?valueToAdd:BigInt(valueToAdd);}else if(typeof valueToAdd===\"bigint\"){sum=(typeof sum===\"bigint\"?sum:BigInt(sum))+valueToAdd;}}var value=null;if(count>0){value=sum/(typeof sum===\"number\"?count:BigInt(count));}var existingAggData=(_params$rowNode3=params.rowNode)===null||_params$rowNode3===void 0||(_params$rowNode3=_params$rowNode3.aggData)===null||_params$rowNode3===void 0?void 0:_params$rowNode3[(_params$column2=params.column)===null||_params$column2===void 0?void 0:_params$column2.getColId()];if(existingAggData&&existingAggData.count===count&&existingAggData.value===value){return existingAggData;}var result=Object.create(AVERAGE_PROTO);result.count=count;result.value=value;return result;}// packages/ag-grid-enterprise/src/aggregation/aggregationApi.ts\nfunction addAggFuncs(beans,aggFuncs){if(beans.aggFuncSvc){beans.aggFuncSvc.addAggFuncs(aggFuncs);}}function clearAggFuncs(beans){if(beans.aggFuncSvc){beans.aggFuncSvc.clear();}}function setColumnAggFunc(beans,key,aggFunc){var _beans$valueColsSvc,_beans$valueColsSvc$s;(_beans$valueColsSvc=beans.valueColsSvc)===null||_beans$valueColsSvc===void 0||(_beans$valueColsSvc$s=_beans$valueColsSvc.setColumnAggFunc)===null||_beans$valueColsSvc$s===void 0||_beans$valueColsSvc$s.call(_beans$valueColsSvc,key,aggFunc,\"api\");}// packages/ag-grid-enterprise/src/aggregation/aggregationStage.ts\n// packages/ag-grid-enterprise/src/aggregation/aggUtils.ts\nfunction _aggregateValues(beans,values,aggFuncOrString,column,rowNode,pivotResultColumn){var aggFunc=typeof aggFuncOrString===\"string\"?beans.aggFuncSvc.getAggFunc(aggFuncOrString):aggFuncOrString;if(typeof aggFunc!==\"function\"){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._error)(109,{aggFuncOrString});return null;}var params=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._addGridCommonParams)(beans.gos,{values,column,colDef:column.colDef,pivotResultColumn,rowNode,// this is typed incorrectly. Within CSRM, this will always be defined. When called from integrated charts, this will never be defined.\ndata:rowNode===null||rowNode===void 0?void 0:rowNode.data});return aggFunc(params);}// packages/ag-grid-enterprise/src/aggregation/aggregationStage.ts\nvar AggregationStage=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BeanStub{constructor(){super(...arguments);this.beanName=\"aggStage\";this.refreshProps=/* @__PURE__ */new Set([\"getGroupRowAgg\",\"alwaysAggregateAtRootLevel\",\"suppressAggFilteredOnly\",\"grandTotalRow\"]);this.step=\"aggregate\";}wireBeans(beans){this.colModel=beans.colModel;this.pivotColsSvc=beans.pivotColsSvc;this.valueColsSvc=beans.valueColsSvc;this.pivotResultCols=beans.pivotResultCols;this.valueSvc=beans.valueSvc;}// it's possible to recompute the aggregate without doing the other parts\n// + api.refreshClientSideRowModel('aggregate')\nexecute(params){var _this$valueColsSvc,_params$changedPath;var noValueColumns=!((_this$valueColsSvc=this.valueColsSvc)!==null&&_this$valueColsSvc!==void 0&&(_this$valueColsSvc=_this$valueColsSvc.columns)!==null&&_this$valueColsSvc!==void 0&&_this$valueColsSvc.length);var noUserAgg=!this.gos.getCallback(\"getGroupRowAgg\");if(noValueColumns&&noUserAgg&&(_params$changedPath=params.changedPath)!==null&&_params$changedPath!==void 0&&_params$changedPath.active){return;}var aggDetails=this.createAggDetails(params);this.recursivelyCreateAggData(aggDetails);}createAggDetails(params){var _this$valueColsSvc2;var pivotActive=this.colModel.isPivotActive();var measureColumns=(_this$valueColsSvc2=this.valueColsSvc)===null||_this$valueColsSvc2===void 0?void 0:_this$valueColsSvc2.columns;var pivotColumns=pivotActive&&this.pivotColsSvc?this.pivotColsSvc.columns:[];var aggDetails={alwaysAggregateAtRootLevel:this.gos.get(\"alwaysAggregateAtRootLevel\"),groupIncludeTotalFooter:!!(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getGrandTotalRow)(this.gos),changedPath:params.changedPath,valueColumns:measureColumns!==null&&measureColumns!==void 0?measureColumns:[],pivotColumns,filteredOnly:!this.isSuppressAggFilteredOnly(),userAggFunc:this.gos.getCallback(\"getGroupRowAgg\")};return aggDetails;}isSuppressAggFilteredOnly(){var isGroupAggFiltering=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getGroupAggFiltering)(this.gos)!==void 0;return isGroupAggFiltering||this.gos.get(\"suppressAggFilteredOnly\");}recursivelyCreateAggData(aggDetails){var callback=rowNode=>{var hasNoChildren=!rowNode.hasChildren();if(hasNoChildren){if(rowNode.aggData){this.setAggData(rowNode,null);}return;}var isRootNode=rowNode.level===-1;if(isRootNode&&!aggDetails.groupIncludeTotalFooter){var notPivoting=!this.colModel.isPivotMode();if(!aggDetails.alwaysAggregateAtRootLevel&&notPivoting){this.setAggData(rowNode,null);return;}}this.aggregateRowNode(rowNode,aggDetails);};aggDetails.changedPath.forEachChangedNodeDepthFirst(callback,true);}aggregateRowNode(rowNode,aggDetails){var measureColumnsMissing=aggDetails.valueColumns.length===0;var pivotColumnsMissing=aggDetails.pivotColumns.length===0;var aggResult;if(aggDetails.userAggFunc){aggResult=aggDetails.userAggFunc({nodes:rowNode.childrenAfterFilter});}else if(measureColumnsMissing){aggResult=null;}else if(pivotColumnsMissing){aggResult=this.aggregateRowNodeUsingValuesOnly(rowNode,aggDetails);}else{aggResult=this.aggregateRowNodeUsingValuesAndPivot(rowNode);}this.setAggData(rowNode,aggResult);if(rowNode.sibling){this.setAggData(rowNode.sibling,aggResult);if(rowNode.sibling.pinnedSibling){this.setAggData(rowNode.sibling.pinnedSibling,aggResult);}}}aggregateRowNodeUsingValuesAndPivot(rowNode){var _this$pivotResultCols,_this$pivotResultCols2;var result={};var secondaryColumns=(_this$pivotResultCols=(_this$pivotResultCols2=this.pivotResultCols)===null||_this$pivotResultCols2===void 0||(_this$pivotResultCols2=_this$pivotResultCols2.getPivotResultCols())===null||_this$pivotResultCols2===void 0?void 0:_this$pivotResultCols2.list)!==null&&_this$pivotResultCols!==void 0?_this$pivotResultCols:[];var canSkipTotalColumns=true;var beans=this.beans;for(var i=0;i<secondaryColumns.length;i++){var _colDef$pivotKeys;var secondaryCol=secondaryColumns[i];var colDef=secondaryCol.getColDef();if(colDef.pivotTotalColumnIds!=null){canSkipTotalColumns=false;continue;}var keys=(_colDef$pivotKeys=colDef.pivotKeys)!==null&&_colDef$pivotKeys!==void 0?_colDef$pivotKeys:[];var values=void 0;if(rowNode.leafGroup){values=this.getValuesFromMappedSet(rowNode.childrenMapped,keys,colDef.pivotValueColumn);}else{values=this.getValuesPivotNonLeaf(rowNode,colDef.colId);}result[colDef.colId]=_aggregateValues(beans,values,colDef.pivotValueColumn.getAggFunc(),colDef.pivotValueColumn,rowNode,secondaryCol);}if(!canSkipTotalColumns){for(var _i2=0;_i2<secondaryColumns.length;_i2++){var _secondaryCol=secondaryColumns[_i2];var _colDef=_secondaryCol.getColDef();if(_colDef.pivotTotalColumnIds==null||!_colDef.pivotTotalColumnIds.length){continue;}var aggResults=_colDef.pivotTotalColumnIds.map(currentColId=>result[currentColId]);result[_colDef.colId]=_aggregateValues(beans,aggResults,_colDef.pivotValueColumn.getAggFunc(),_colDef.pivotValueColumn,rowNode,_secondaryCol);}}return result;}aggregateRowNodeUsingValuesOnly(rowNode,aggDetails){var result={};var{changedPath,valueColumns,filteredOnly}=aggDetails;var changedValueColumns=changedPath.active?changedPath.getValueColumnsForNode(rowNode,valueColumns):valueColumns;var notChangedValueColumns=changedPath.active?changedPath.getNotValueColumnsForNode(rowNode,valueColumns):null;var values2d=this.getValuesNormal(rowNode,changedValueColumns,filteredOnly);var oldValues=rowNode.aggData;var beans=this.beans;changedValueColumns.forEach((valueColumn,index)=>{result[valueColumn.getId()]=_aggregateValues(beans,values2d[index],valueColumn.getAggFunc(),valueColumn,rowNode);});if(notChangedValueColumns&&oldValues){notChangedValueColumns.forEach(valueColumn=>{result[valueColumn.getId()]=oldValues[valueColumn.getId()];});}return result;}getValuesPivotNonLeaf(rowNode,colId){return rowNode.childrenAfterFilter.map(childNode=>childNode.aggData[colId]);}getValuesFromMappedSet(mappedSet,keys,valueColumn){var mapPointer=mappedSet;for(var i=0;i<keys.length;i++){var key=keys[i];mapPointer=mapPointer?mapPointer[key]:null;}if(!mapPointer){return[];}return mapPointer.map(rowNode=>this.valueSvc.getValue(valueColumn,rowNode));}getValuesNormal(rowNode,valueColumns,filteredOnly){var values=[];valueColumns.forEach(()=>values.push([]));var valueColumnCount=valueColumns.length;var nodeList=filteredOnly?rowNode.childrenAfterFilter:rowNode.childrenAfterGroup;var rowCount=nodeList.length;for(var i=0;i<rowCount;i++){var childNode=nodeList[i];for(var j=0;j<valueColumnCount;j++){var valueColumn=valueColumns[j];var value=this.valueSvc.getValue(valueColumn,childNode);values[j].push(value);}}return values;}setAggData(rowNode,newAggData){var oldAggData=rowNode.aggData;rowNode.aggData=newAggData;if(rowNode.__localEventService){var eventFunc=colId=>{var value=rowNode.aggData?rowNode.aggData[colId]:void 0;var oldValue=oldAggData?oldAggData[colId]:void 0;if(value===oldValue){return;}var column=this.colModel.getColById(colId);if(!column){return;}rowNode.dispatchCellChangedEvent(column,value,oldValue);};if(oldAggData){for(var key of Object.keys(oldAggData)){eventFunc(key);}}if(newAggData){for(var _key2 of Object.keys(newAggData)){if(!oldAggData||!(_key2 in oldAggData)){eventFunc(_key2);}}}}}};// packages/ag-grid-enterprise/src/aggregation/filterAggregatesStage.ts\nvar FilterAggregatesStage=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BeanStub{constructor(){super(...arguments);this.beanName=\"filterAggStage\";this.refreshProps=/* @__PURE__ */new Set([]);this.step=\"filter_aggregates\";}wireBeans(beans){this.filterManager=beans.filterManager;}execute(params){var _this$filterManager3,_this$filterManager4,_this1=this;var isPivotMode2=this.beans.colModel.isPivotMode();var isAggFilterActive=((_this$filterManager3=this.filterManager)===null||_this$filterManager3===void 0?void 0:_this$filterManager3.isAggregateFilterPresent())||((_this$filterManager4=this.filterManager)===null||_this$filterManager4===void 0?void 0:_this$filterManager4.isAggregateQuickFilterPresent());var defaultPrimaryColumnPredicate=params2=>!params2.node.group;var defaultSecondaryColumnPredicate=params2=>params2.node.leafGroup;var applyFilterToNode=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getGroupAggFiltering)(this.gos)||(isPivotMode2?defaultSecondaryColumnPredicate:defaultPrimaryColumnPredicate);var{changedPath}=params;var _preserveChildren=function preserveChildren(node){var recursive=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(node.childrenAfterFilter){node.childrenAfterAggFilter=node.childrenAfterFilter;if(recursive){node.childrenAfterAggFilter.forEach(child=>_preserveChildren(child,recursive));}_this1.setAllChildrenCount(node);}if(node.sibling){node.sibling.childrenAfterAggFilter=node.childrenAfterAggFilter;}};var filterChildren=node=>{var _node$childrenAfterFi;node.childrenAfterAggFilter=((_node$childrenAfterFi=node.childrenAfterFilter)===null||_node$childrenAfterFi===void 0?void 0:_node$childrenAfterFi.filter(child=>{var _child$childrenAfterA;var shouldFilterRow=applyFilterToNode({node:child});if(shouldFilterRow){var doesNodePassFilter=this.filterManager.doesRowPassAggregateFilters({rowNode:child});if(doesNodePassFilter){_preserveChildren(child,true);return true;}}var hasChildPassed=(_child$childrenAfterA=child.childrenAfterAggFilter)===null||_child$childrenAfterA===void 0?void 0:_child$childrenAfterA.length;return hasChildPassed;}))||null;this.setAllChildrenCount(node);if(node.sibling){node.sibling.childrenAfterAggFilter=node.childrenAfterAggFilter;}};changedPath.forEachChangedNodeDepthFirst(isAggFilterActive?filterChildren:_preserveChildren,true);}/** for tree data, we include all children, groups and leafs */setAllChildrenCountTreeData(rowNode){var childrenAfterAggFilter=rowNode.childrenAfterAggFilter;var allChildrenCount=0;if(childrenAfterAggFilter){var length=childrenAfterAggFilter.length;allChildrenCount=length;for(var i=0;i<length;++i){var _childrenAfterAggFilt;allChildrenCount+=(_childrenAfterAggFilt=childrenAfterAggFilter[i].allChildrenCount)!==null&&_childrenAfterAggFilt!==void 0?_childrenAfterAggFilt:0;}}rowNode.setAllChildrenCount(// Maintain the historical behaviour:\n// - allChildrenCount is 0 in the root if there are no children\n// - allChildrenCount is null in any non-root row if there are no children\nallChildrenCount===0&&rowNode.level>=0?null:allChildrenCount);}/* for grid data, we only count the leafs */setAllChildrenCountGridGrouping(rowNode){var allChildrenCount=0;rowNode.childrenAfterAggFilter.forEach(child=>{if(child.group){allChildrenCount+=child.allChildrenCount;}else{allChildrenCount++;}});rowNode.setAllChildrenCount(allChildrenCount);}setAllChildrenCount(rowNode){if(!rowNode.hasChildren()){rowNode.setAllChildrenCount(null);return;}if(this.gos.get(\"treeData\")){this.setAllChildrenCountTreeData(rowNode);}else{this.setAllChildrenCountGridGrouping(rowNode);}}};// packages/ag-grid-enterprise/src/aggregation/footerService.ts\n// packages/ag-grid-enterprise/src/aggregation/footerUtils.ts\nfunction _createRowNodeFooter(rowNode,beans){if(rowNode.sibling){return;}var footerNode=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createRowNodeSibling)(rowNode,beans);footerNode.footer=true;footerNode.setRowTop(null);footerNode.setRowIndex(null);footerNode.oldRowTop=null;footerNode.id=\"rowGroupFooter_\"+rowNode.id;footerNode.sibling=rowNode;rowNode.sibling=footerNode;}function _destroyRowNodeFooter(rowNode){if(!rowNode.sibling){return;}rowNode.sibling.setRowTop(null);rowNode.sibling.setRowIndex(null);rowNode.sibling=void 0;}// packages/ag-grid-enterprise/src/aggregation/footerService.ts\nvar FooterService=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BeanStub{constructor(){super(...arguments);this.beanName=\"footerSvc\";}addTotalRows(startIndex,node,callback,includeFooterNodes,isRootNode,position){var index=startIndex;if(isRootNode){var grandTotal=includeFooterNodes&&(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getGrandTotalRow)(this.gos);if(_positionMatchesGrandTotalRow(position,grandTotal)){_createRowNodeFooter(node,this.beans);callback(node.sibling,index++);}return index;}var isGroupIncludeFooter=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getGroupTotalRowCallback)(this.gos);var groupTotal=includeFooterNodes&&isGroupIncludeFooter({node});if(groupTotal===position){_createRowNodeFooter(node,this.beans);callback(node.sibling,index++);}return index;}getTopDisplayIndex(rowsToDisplay,topLevelIndex,childrenAfterSort,getDefaultIndex){var adjustedIndex=topLevelIndex;if(rowsToDisplay[0].footer){if(topLevelIndex===0){return 0;}adjustedIndex-=1;}var lastRow=rowsToDisplay[rowsToDisplay.length-1];var indexOutsideGroupBounds=adjustedIndex>=childrenAfterSort.length;if(lastRow.footer&&indexOutsideGroupBounds){return lastRow.rowIndex;}return getDefaultIndex(adjustedIndex);}doesCellShowTotalPrefix(node,col){if(!node.footer||!(col!==null&&col!==void 0&&col.getColDef().showRowGroup)){return false;}if(this.gos.get(\"treeData\")){return true;}if(node.level===-1){var _this$beans$showRowGr;return((_this$beans$showRowGr=this.beans.showRowGroupCols)===null||_this$beans$showRowGr===void 0?void 0:_this$beans$showRowGr.getShowRowGroupCols()[0])===col;}return!!node.rowGroupColumn&&col&&col.isRowGroupDisplayed(node.rowGroupColumn.getId());}applyTotalPrefix(value,formattedValue,node,column){var _column$getColDef$cel,_this$getTotalValue;var totalValueGetter=(_column$getColDef$cel=column.getColDef().cellRendererParams)===null||_column$getColDef$cel===void 0?void 0:_column$getColDef$cel.totalValueGetter;if(totalValueGetter){var valueGetterParams=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._addGridCommonParams)(this.gos,{column,node,value,formattedValue});var getterType=typeof totalValueGetter;if(getterType===\"function\"){return totalValueGetter(valueGetterParams);}if(typeof totalValueGetter===\"string\"){var _this$beans$expressio;return(_this$beans$expressio=this.beans.expressionSvc)===null||_this$beans$expressio===void 0?void 0:_this$beans$expressio.evaluate(totalValueGetter,valueGetterParams);}(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(179);}if(node.level===-1){return this.getLocaleTextFunc()(\"footerTotal\",\"Total\")+\" \";}return(_this$getTotalValue=this.getTotalValue(formattedValue!==null&&formattedValue!==void 0?formattedValue:value))!==null&&_this$getTotalValue!==void 0?_this$getTotalValue:\"\";}getTotalValue(value){return this.getLocaleTextFunc()(\"footerTotal\",\"Total\")+\" \"+(value!==null&&value!==void 0?value:\"\");}};function _positionMatchesGrandTotalRow(position,grandTotaRow){switch(grandTotaRow){case\"top\":case\"pinnedTop\":return position===\"top\";case\"bottom\":case\"pinnedBottom\":return position===\"bottom\";default:return false;}}// packages/ag-grid-enterprise/src/aggregation/valueColsSvc.ts\nvar ValueColsSvc=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BaseColsService{constructor(){super(...arguments);this.beanName=\"valueColsSvc\";this.eventName=\"columnValueChanged\";this.columnProcessors={set:(column,added,source)=>this.setValueActive(added,column,source),add:(column,added,source)=>this.setValueActive(true,column,source),remove:(column,added,source)=>this.setValueActive(false,column,source)};this.columnExtractors={setFlagFunc:(col,flag,source)=>this.setColValueActive(col,flag,source),getIndexFunc:()=>void 0,getInitialIndexFunc:()=>void 0,getValueFunc:colDef=>{var aggFunc=colDef.aggFunc;if(aggFunc===null||aggFunc===\"\"){return null;}if(aggFunc===void 0){return;}return!!aggFunc;},getInitialValueFunc:colDef=>{return colDef.initialAggFunc!=null&&colDef.initialAggFunc!=\"\";}};this.modifyColumnsNoEventsCallbacks={addCol:column=>this.columns.push(column),removeCol:column=>(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._removeFromArray)(this.columns,column)};}extractCols(source,oldProvidedCols){this.columns=super.extractCols(source,oldProvidedCols);this.columns.forEach(col=>{var colDef=col.getColDef();if(colDef.aggFunc!=null&&colDef.aggFunc!=\"\"){this.setColAggFunc(col,colDef.aggFunc);}else{if(!col.getAggFunc()){this.setColAggFunc(col,colDef.initialAggFunc);}}});return this.columns;}setColumnAggFunc(key,aggFunc,source){if(!key){return;}var column=this.colModel.getColDefCol(key);if(!column){return;}this.setColAggFunc(column,aggFunc);this.dispatchColumnChangedEvent(this.eventSvc,this.eventName,[column],source);}syncColumnWithState(column,source,getValue){var aggFunc=getValue(\"aggFunc\").value1;if(aggFunc!==void 0){if(typeof aggFunc===\"string\"){this.setColAggFunc(column,aggFunc);if(!column.isValueActive()){this.setColValueActive(column,true,source);this.modifyColumnsNoEventsCallbacks.addCol(column);}}else{if((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._exists)(aggFunc)){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(33);}if(column.isValueActive()){this.setColValueActive(column,false,source);this.modifyColumnsNoEventsCallbacks.removeCol(column);}}}}setValueActive(active,column,source){if(active===column.isValueActive()){return;}this.setColValueActive(column,active,source);if(active&&!column.getAggFunc()&&this.aggFuncSvc){var initialAggFunc=this.aggFuncSvc.getDefaultAggFunc(column);this.setColAggFunc(column,initialAggFunc);}}setColAggFunc(column,aggFunc){column.aggFunc=aggFunc;column.dispatchStateUpdatedEvent(\"aggFunc\");}setColValueActive(column,value,source){if(column.aggregationActive!==value){column.aggregationActive=value;column.dispatchColEvent(\"columnValueChanged\",source);}}};// packages/ag-grid-enterprise/src/aggregation/aggregationModule.ts\nvar SharedAggregationModule={moduleName:\"SharedAggregation\",version:VERSION,beans:[AggFuncService,AggColumnNameService,FooterService,ValueColsSvc],apiFunctions:{addAggFuncs,clearAggFuncs,setColumnAggFunc},dependsOn:[EnterpriseCoreModule]};var AggregationModule={moduleName:\"Aggregation\",version:VERSION,beans:[AggregationStage,FilterAggregatesStage],rowModels:[\"clientSide\"],dependsOn:[SharedAggregationModule]};// packages/ag-grid-enterprise/src/pivot/pivotColsSvc.ts\nvar PivotColsSvc=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BaseColsService{constructor(){super(...arguments);this.beanName=\"pivotColsSvc\";this.eventName=\"columnPivotChanged\";this.columnProcessors={set:(column,added,source)=>this.setColPivotActive(column,added,source),add:(column,added,source)=>this.setColPivotActive(column,true,source),remove:(column,added,source)=>this.setColPivotActive(column,false,source)};this.columnOrdering={enableProp:\"pivot\",initialEnableProp:\"initialPivot\",indexProp:\"pivotIndex\",initialIndexProp:\"initialPivotIndex\"};this.columnExtractors={setFlagFunc:(col,flag,source)=>this.setColPivotActive(col,flag,source),getIndexFunc:colDef=>colDef.pivotIndex,getInitialIndexFunc:colDef=>colDef.initialPivotIndex,getValueFunc:colDef=>colDef.pivot,getInitialValueFunc:colDef=>colDef.initialPivot};this.modifyColumnsNoEventsCallbacks={addCol:column=>this.columns.push(column),removeCol:column=>(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._removeFromArray)(this.columns,column)};}syncColumnWithState(column,source,getValue,rowIndex){var{value1:pivot,value2:pivotIndex}=getValue(\"pivot\",\"pivotIndex\");if(pivot!==void 0||pivotIndex!==void 0){if(typeof pivotIndex===\"number\"||pivot){if(!column.isPivotActive()){this.setColPivotActive(column,true,source);this.modifyColumnsNoEventsCallbacks.addCol(column);}if(rowIndex&&typeof pivotIndex===\"number\"){rowIndex[column.getId()]=pivotIndex;}}else{if(column.isPivotActive()){this.setColPivotActive(column,false,source);this.modifyColumnsNoEventsCallbacks.removeCol(column);}}}}setColPivotActive(column,pivot,source){if(column.pivotActive!==pivot){column.pivotActive=pivot;column.dispatchColEvent(\"columnPivotChanged\",source);}column.dispatchStateUpdatedEvent(\"pivot\");}};// packages/ag-grid-enterprise/src/rowGrouping/rowGroupColsSvc.ts\nvar RowGroupColsSvc=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BaseColsService{constructor(){super(...arguments);this.beanName=\"rowGroupColsSvc\";this.eventName=\"columnRowGroupChanged\";this.columnProcessors={set:(column,added,source)=>this.setActive(added,column,source),add:(column,added,source)=>this.setActive(true,column,source),remove:(column,added,source)=>this.setActive(false,column,source)};this.columnOrdering={enableProp:\"rowGroup\",initialEnableProp:\"initialRowGroup\",indexProp:\"rowGroupIndex\",initialIndexProp:\"initialRowGroupIndex\"};this.columnExtractors={setFlagFunc:(col,flag,source)=>this.setColRowGroupActive(col,flag,source),getIndexFunc:colDef=>colDef.rowGroupIndex,getInitialIndexFunc:colDef=>colDef.initialRowGroupIndex,getValueFunc:colDef=>colDef.rowGroup,getInitialValueFunc:colDef=>colDef.initialRowGroup};this.modifyColumnsNoEventsCallbacks={addCol:column=>this.columns.push(column),removeCol:column=>(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._removeFromArray)(this.columns,column)};}moveColumn(fromIndex,toIndex,source){if(this.columns.length===0){return;}var column=this.columns[fromIndex];var impactedColumns=this.columns.slice(fromIndex,toIndex);this.columns.splice(fromIndex,1);this.columns.splice(toIndex,0,column);this.updateIndexMap();this.eventSvc.dispatchEvent({type:this.eventName,columns:impactedColumns,column:impactedColumns.length===1?impactedColumns[0]:null,source});}syncColumnWithState(column,source,getValue,rowIndex){var{value1:rowGroup,value2:rowGroupIndex}=getValue(\"rowGroup\",\"rowGroupIndex\");if(rowGroup!==void 0||rowGroupIndex!==void 0){if(typeof rowGroupIndex===\"number\"||rowGroup){if(!column.isRowGroupActive()){this.setColRowGroupActive(column,true,source);this.modifyColumnsNoEventsCallbacks.addCol(column);}if(rowIndex&&typeof rowGroupIndex===\"number\"){rowIndex[column.getId()]=rowGroupIndex;}}else{if(column.isRowGroupActive()){this.setColRowGroupActive(column,false,source);this.modifyColumnsNoEventsCallbacks.removeCol(column);}}}}setActive(active,column,source){if(active===column.isRowGroupActive()){return;}this.setColRowGroupActive(column,active,source);if((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._shouldUpdateColVisibilityAfterGroup)(this.gos,active)){this.colModel.setColsVisible([column],!active,source);}}setColRowGroupActive(column,rowGroup,source){if(column.rowGroupActive!==rowGroup){column.rowGroupActive=rowGroup;column.dispatchColEvent(\"columnRowGroupChanged\",source);}column.dispatchStateUpdatedEvent(\"rowGroup\");}};// packages/ag-grid-enterprise/src/rowHierarchy/autoColService.ts\nvar AutoColService=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BeanStub{constructor(){super(...arguments);this.beanName=\"autoColSvc\";}postConstruct(){this.addManagedPropertyListener(\"autoGroupColumnDef\",this.updateColumns.bind(this));}addColumns(cols){if(this.columns==null){return;}cols.list=this.columns.list.concat(cols.list);cols.tree=this.columns.tree.concat(cols.tree);(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._updateColsMap)(cols);}createColumns(cols,updateOrders){var _this$columns,_colGroupSvc$findDept,_colGroupSvc$balanceT;var beans=this.beans;var{colModel,gos,rowGroupColsSvc,colGroupSvc}=beans;var isPivotMode2=colModel.isPivotMode();var groupFullWidthRow=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isGroupUseEntireRow)(gos,isPivotMode2);var suppressAutoColumn=isPivotMode2?gos.get(\"pivotSuppressAutoColumn\"):this.isSuppressAutoCol();var rowGroupCols=rowGroupColsSvc===null||rowGroupColsSvc===void 0?void 0:rowGroupColsSvc.columns;var groupingActive=rowGroupCols&&rowGroupCols.length>0||gos.get(\"treeData\");var noAutoCols=!groupingActive||suppressAutoColumn||groupFullWidthRow;var destroyPrevious=()=>{if(this.columns){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._destroyColumnTree)(beans,this.columns.tree);this.columns=null;}};if(noAutoCols){destroyPrevious();return;}var list=this.generateAutoCols(rowGroupCols);var autoColsSame=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._areColIdsEqual)(list,((_this$columns=this.columns)===null||_this$columns===void 0?void 0:_this$columns.list)||null);var newTreeDepth=cols.treeDepth;var oldTreeDepth=this.columns?this.columns.treeDepth:-1;var treeDepthSame=oldTreeDepth==newTreeDepth;if(autoColsSame&&treeDepthSame){return;}destroyPrevious();var treeDepth=(_colGroupSvc$findDept=colGroupSvc===null||colGroupSvc===void 0?void 0:colGroupSvc.findDepth(cols.tree))!==null&&_colGroupSvc$findDept!==void 0?_colGroupSvc$findDept:0;var tree=(_colGroupSvc$balanceT=colGroupSvc===null||colGroupSvc===void 0?void 0:colGroupSvc.balanceTreeForAutoCols(list,treeDepth))!==null&&_colGroupSvc$balanceT!==void 0?_colGroupSvc$balanceT:[];this.columns={list,tree,treeDepth,map:{}};var putAutoColsFirstInList=cols2=>{if(!cols2){return null;}var colsFiltered=cols2.filter(col=>!(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.isColumnGroupAutoCol)(col));return[...list,...colsFiltered];};updateOrders(putAutoColsFirstInList);}updateColumns(event){var _this$columns2;var source=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._convertColumnEventSourceType)(event.source);(_this$columns2=this.columns)===null||_this$columns2===void 0||_this$columns2.list.forEach((col,index)=>this.updateOneAutoCol(col,index,source));}getColumn(key){var _this$columns$list$fi,_this$columns3;return(_this$columns$list$fi=(_this$columns3=this.columns)===null||_this$columns3===void 0?void 0:_this$columns3.list.find(groupCol=>(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._columnsMatch)(groupCol,key)))!==null&&_this$columns$list$fi!==void 0?_this$columns$list$fi:null;}getColumns(){var _this$columns$list,_this$columns4;return(_this$columns$list=(_this$columns4=this.columns)===null||_this$columns4===void 0?void 0:_this$columns4.list)!==null&&_this$columns$list!==void 0?_this$columns$list:null;}generateAutoCols(){var rowGroupCols=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var autoCols=[];var doingTreeData=this.gos.get(\"treeData\");var doingMultiAutoColumn=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isGroupMultiAutoColumn)(this.gos);if(doingTreeData&&doingMultiAutoColumn){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(182);doingMultiAutoColumn=false;}if(doingMultiAutoColumn){rowGroupCols.forEach((rowGroupCol,index)=>{autoCols.push(this.createOneAutoCol(rowGroupCol,index));});}else{autoCols.push(this.createOneAutoCol());}return autoCols;}isSuppressAutoCol(){var gos=this.gos;var groupDisplayType=gos.get(\"groupDisplayType\");var isCustomRowGroups=groupDisplayType===\"custom\";if(isCustomRowGroups){return true;}var treeDataDisplayType=gos.get(\"treeDataDisplayType\");return treeDataDisplayType===\"custom\";}// rowGroupCol and index are missing if groupDisplayType != \"multipleColumns\"\ncreateOneAutoCol(rowGroupCol,index){var colId;if(rowGroupCol){colId=\"\".concat(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GROUP_AUTO_COLUMN_ID,\"-\").concat(rowGroupCol.getId());}else{colId=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GROUP_AUTO_COLUMN_ID;}var colDef=this.createAutoColDef(colId,rowGroupCol,index);colDef.colId=colId;var newCol=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgColumn(colDef,null,colId,true);this.createBean(newCol);return newCol;}/**\n   * Refreshes an auto group col to load changes from defaultColDef or autoGroupColDef\n   */updateOneAutoCol(colToUpdate,index,source){var oldColDef=colToUpdate.getColDef();var underlyingColId=typeof oldColDef.showRowGroup==\"string\"?oldColDef.showRowGroup:void 0;var beans=this.beans;var underlyingColumn=underlyingColId!=null?beans.colModel.getColDefCol(underlyingColId):void 0;var colId=colToUpdate.getId();var colDef=this.createAutoColDef(colId,underlyingColumn!==null&&underlyingColumn!==void 0?underlyingColumn:void 0,index);colToUpdate.setColDef(colDef,null,source);(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._applyColumnState)(beans,{state:[_objectSpread({colId},colDef)]},source);}createAutoColDef(colId,underlyingColumn,index){var res=this.createBaseColDef(underlyingColumn);var autoGroupColumnDef=this.gos.get(\"autoGroupColumnDef\");(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._mergeDeep)(res,autoGroupColumnDef);res=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._addColumnDefaultAndTypes)(this.beans,res,colId,true);if(!this.gos.get(\"treeData\")){var noFieldOrValueGetter=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._missing)(res.field)&&(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._missing)(res.valueGetter)&&(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._missing)(res.filterValueGetter)&&res.filter!==\"agGroupColumnFilter\";if(noFieldOrValueGetter){res.filter=false;}}if(index&&index>0){res.headerCheckboxSelection=false;}var isSortingCoupled=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isColumnsSortingCoupledToGroup)(this.gos);var hasOwnData=res.valueGetter||res.field!=null;if(isSortingCoupled&&!hasOwnData){res.sortIndex=void 0;res.initialSort=void 0;}return res;}createBaseColDef(rowGroupCol){var _rowGroupCol$getColId;var userDef=this.gos.get(\"autoGroupColumnDef\");var localeTextFunc=this.getLocaleTextFunc();var res={headerName:localeTextFunc(\"group\",\"Group\"),showRowGroup:(_rowGroupCol$getColId=rowGroupCol===null||rowGroupCol===void 0?void 0:rowGroupCol.getColId())!==null&&_rowGroupCol$getColId!==void 0?_rowGroupCol$getColId:true};var userHasProvidedGroupCellRenderer=userDef&&(userDef.cellRenderer||userDef.cellRendererSelector);if(!userHasProvidedGroupCellRenderer){res.cellRenderer=\"agGroupCellRenderer\";}if(rowGroupCol){var _this$beans$colNames$;res.headerName=(_this$beans$colNames$=this.beans.colNames.getDisplayNameForColumn(rowGroupCol,\"header\"))!==null&&_this$beans$colNames$!==void 0?_this$beans$colNames$:void 0;res.headerValueGetter=rowGroupCol.colDef.headerValueGetter;}return res;}destroy(){var _this$columns5;(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._destroyColumnTree)(this.beans,(_this$columns5=this.columns)===null||_this$columns5===void 0?void 0:_this$columns5.tree);super.destroy();}};// packages/ag-grid-enterprise/src/rowHierarchy/clientSideExpansionService.ts\n// packages/ag-grid-enterprise/src/rowHierarchy/baseExpansionService.ts\nvar BaseExpansionService=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BeanStub{addExpandedCss(classes,rowNode){if(rowNode.isExpandable()){classes.push(\"ag-row-group\");classes.push(rowNode.expanded?\"ag-row-group-expanded\":\"ag-row-group-contracted\");}}getRowExpandedListeners(rowCtrl){var{rowNode}=rowCtrl;var updateExpandedCss=this.updateExpandedCss.bind(this,rowCtrl,rowNode);return{expandedChanged:updateExpandedCss,hasChildrenChanged:updateExpandedCss};}setExpanded(rowNode,expanded,e,forceSync){if(rowNode.expanded===expanded){return;}rowNode.expanded=expanded;rowNode.dispatchRowEvent(\"expandedChanged\");var event=_objectSpread(_objectSpread({},(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createGlobalRowEvent)(rowNode,this.gos,\"rowGroupOpened\")),{},{expanded,event:e||null});this.dispatchExpandedEvent(event,forceSync);}isExpandable(rowNode){if(rowNode.footer){return false;}if(this.beans.colModel.isPivotMode()){return rowNode.hasChildren()&&!rowNode.leafGroup;}return rowNode.hasChildren()||rowNode.master;}updateExpandedCss(rowCtrl,rowNode){var expandable=rowNode.isExpandable();var expanded=rowNode.expanded==true;rowCtrl.forEachGui(void 0,gui=>{var rowComp=gui.rowComp;rowComp.toggleCss(\"ag-row-group\",expandable);rowComp.toggleCss(\"ag-row-group-expanded\",expandable&&expanded);rowComp.toggleCss(\"ag-row-group-contracted\",expandable&&!expanded);(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setAriaExpanded)(gui.element,expandable&&expanded);});}};// packages/ag-grid-enterprise/src/rowHierarchy/clientSideExpansionService.ts\nvar ClientSideExpansionService=class extends BaseExpansionService{constructor(){super(...arguments);this.beanName=\"expansionSvc\";this.events=[];}wireBeans(beans){this.rowModel=beans.rowModel;}expandRows(rowIdsToExpand,rowIdsToCollapse){var rowIdsToExpandSet=new Set(rowIdsToExpand);var rowIdsToCollapseSet=rowIdsToCollapse?new Set(rowIdsToCollapse):void 0;this.rowModel.forEachNode(node=>{var id=node.id;if(!id){return;}if(rowIdsToExpandSet.has(id)){node.expanded=true;}else if(rowIdsToCollapseSet!==null&&rowIdsToCollapseSet!==void 0&&rowIdsToCollapseSet.has(id)){node.expanded=false;}});this.onGroupExpandedOrCollapsed();}expandAll(expand){var{gos,colModel,eventSvc}=this.beans;var rowModel=this.rowModel;var usingTreeData=gos.get(\"treeData\");var usingPivotMode=colModel.isPivotActive();var recursiveExpandOrCollapse=rowNodes=>{if(!rowNodes){return;}rowNodes.forEach(rowNode=>{var actionRow=()=>{rowNode.expanded=expand;recursiveExpandOrCollapse(rowNode.childrenAfterGroup);};if(usingTreeData){var hasChildren=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._exists)(rowNode.childrenAfterGroup);if(hasChildren){actionRow();}return;}if(usingPivotMode){var notLeafGroup=!rowNode.leafGroup;if(notLeafGroup){actionRow();}return;}var isRowGroup=rowNode.group;if(isRowGroup){actionRow();}});};var rootNode=rowModel.rootNode;if(rootNode){recursiveExpandOrCollapse(rootNode.childrenAfterGroup);}rowModel.refreshModel({step:\"map\"});eventSvc.dispatchEvent({type:\"expandOrCollapseAll\",source:expand?\"expandAll\":\"collapseAll\"});}onGroupExpandedOrCollapsed(){this.rowModel.refreshModel({step:\"map\"});}// because the user can call rowNode.setExpanded() many times in one VM turn,\n// we throttle the calls to ClientSideRowModel using animationFrameSvc. this means for 100\n// row nodes getting expanded, we only update the CSRM once, and then we fire all events after\n// CSRM has updated.\n//\n// if we did not do this, then the user could call setExpanded on 100+ rows, causing the grid\n// to re-render 100+ times, which would be a performance lag.\n//\n// we use animationFrameService\n// rather than debounce() so this will get done if anyone flushes the animationFrameService\n// (eg user calls api.ensureRowVisible(), which in turn flushes ).\ndispatchExpandedEvent(event,forceSync){this.events.push(event);var func=()=>{this.rowModel.onRowGroupOpened();this.events.forEach(e=>this.eventSvc.dispatchEvent(e));var nodes=this.events.map(e=>e.node);this.beans.rowRenderer.refreshCells({rowNodes:nodes});this.events=[];};if(forceSync){func();}else{if(this.dispatchExpandedDebounced==null){this.dispatchExpandedDebounced=this.debounce(func);}this.dispatchExpandedDebounced();}}// the advantage over normal debounce is the client can call flushAllFrames()\n// to make sure all rendering is complete. we don't wait any milliseconds,\n// as this is intended to batch calls in one VM turn.\ndebounce(func){var animationFrameSvc=this.beans.animationFrameSvc;if(!animationFrameSvc){return()=>window.setTimeout(func,0);}var pending=false;return()=>{if(!animationFrameSvc.active){window.setTimeout(func,0);return;}if(pending){return;}pending=true;animationFrameSvc.addDestroyTask(()=>{pending=false;func();});};}};// packages/ag-grid-enterprise/src/rowHierarchy/flattenStage.ts\n// packages/ag-grid-enterprise/src/rowHierarchy/flattenUtils.ts\nfunction _getFlattenDetails(gos){var groupHideParentOfSingleChild=gos.get(\"groupHideParentOfSingleChild\");if(!groupHideParentOfSingleChild){groupHideParentOfSingleChild=gos.get(\"groupRemoveSingleChildren\");if(!groupHideParentOfSingleChild&&gos.get(\"groupRemoveLowestSingleChildren\")){groupHideParentOfSingleChild=\"leafGroupsOnly\";}}return{groupHideParentOfSingleChild,isGroupMultiAutoColumn:(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isGroupMultiAutoColumn)(gos),hideOpenParents:gos.get(\"groupHideOpenParents\"),grandTotalRow:(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getGrandTotalRow)(gos),groupTotalRow:(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getGroupTotalRowCallback)(gos)};}function _isRemovedSingleChildrenGroup(details,rowNode,isParent){return details.groupHideParentOfSingleChild===true&&isParent&&rowNode.childrenAfterGroup.length===1;}function _isRemovedLowestSingleChildrenGroup(details,rowNode,isParent){return details.groupHideParentOfSingleChild===\"leafGroupsOnly\"&&isParent&&rowNode.leafGroup&&rowNode.childrenAfterGroup.length===1;}function _shouldRowBeRendered(details,rowNode,isParent,skipLeafNodes,isRemovedSingleChildrenGroup,isRemovedLowestSingleChildrenGroup){var isSkippedLeafNode=skipLeafNodes&&!isParent;var neverAllowToExpand=skipLeafNodes&&rowNode.leafGroup;var isHiddenOpenParent=details.hideOpenParents&&rowNode.expanded&&!rowNode.master&&!neverAllowToExpand;return!isSkippedLeafNode&&!isHiddenOpenParent&&!isRemovedSingleChildrenGroup&&!isRemovedLowestSingleChildrenGroup;}// packages/ag-grid-enterprise/src/rowHierarchy/flattenStage.ts\nvar FlattenStage=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BeanStub{constructor(){super(...arguments);this.beanName=\"flattenStage\";this.refreshProps=/* @__PURE__ */new Set([\"groupHideParentOfSingleChild\",\"groupRemoveSingleChildren\",\"groupRemoveLowestSingleChildren\",\"groupTotalRow\",\"masterDetail\"]);this.step=\"map\";}execute(params){var rootNode=params.rowNode;var result=[];var skipLeafNodes=this.beans.colModel.isPivotMode();var showRootNode=skipLeafNodes&&rootNode.leafGroup&&rootNode.aggData;var topList=showRootNode?[rootNode]:rootNode.childrenAfterSort;var details=_getFlattenDetails(this.gos);this.recursivelyAddToRowsToDisplay(details,topList,result,skipLeafNodes,0);var atLeastOneRowPresent=result.length>0;var grandTotalRow=details.grandTotalRow;var includeGrandTotalRow=!showRootNode&&// don't show total footer when showRootNode is true (i.e. in pivot mode and no groups)\natLeastOneRowPresent&&grandTotalRow;if(includeGrandTotalRow){_createRowNodeFooter(rootNode,this.beans);if(grandTotalRow===\"pinnedBottom\"||grandTotalRow===\"pinnedTop\"){var _this$beans$pinnedRow;(_this$beans$pinnedRow=this.beans.pinnedRowModel)===null||_this$beans$pinnedRow===void 0||_this$beans$pinnedRow.setGrandTotalPinned(grandTotalRow===\"pinnedBottom\"?\"bottom\":\"top\");}else{var addToTop=grandTotalRow===\"top\";this.addRowNodeToRowsToDisplay(details,rootNode.sibling,result,0,addToTop);}}return result;}recursivelyAddToRowsToDisplay(details,rowsToFlatten,result,skipLeafNodes,uiLevel){if(!(rowsToFlatten!==null&&rowsToFlatten!==void 0&&rowsToFlatten.length)){return;}for(var i=0;i<rowsToFlatten.length;i++){var rowNode=rowsToFlatten[i];var isParent=rowNode.hasChildren();var isRemovedSingleChildrenGroup=_isRemovedSingleChildrenGroup(details,rowNode,isParent);var isRemovedLowestSingleChildrenGroup=_isRemovedLowestSingleChildrenGroup(details,rowNode,isParent);var thisRowShouldBeRendered=_shouldRowBeRendered(details,rowNode,isParent,skipLeafNodes,isRemovedSingleChildrenGroup,isRemovedLowestSingleChildrenGroup);if(thisRowShouldBeRendered){this.addRowNodeToRowsToDisplay(details,rowNode,result,uiLevel);}if(skipLeafNodes&&rowNode.leafGroup){continue;}if(isParent){var excludedParent=isRemovedSingleChildrenGroup||isRemovedLowestSingleChildrenGroup;if(rowNode.expanded||excludedParent){var doesRowShowFooter=details.groupTotalRow({node:rowNode});if(!doesRowShowFooter){_destroyRowNodeFooter(rowNode);}var uiLevelForChildren=excludedParent?uiLevel:uiLevel+1;if(doesRowShowFooter===\"top\"){_createRowNodeFooter(rowNode,this.beans);this.addRowNodeToRowsToDisplay(details,rowNode.sibling,result,uiLevelForChildren);}this.recursivelyAddToRowsToDisplay(details,rowNode.childrenAfterSort,result,skipLeafNodes,uiLevelForChildren);if(doesRowShowFooter===\"bottom\"){_createRowNodeFooter(rowNode,this.beans);this.addRowNodeToRowsToDisplay(details,rowNode.sibling,result,uiLevelForChildren);}}}else{var _this$beans$masterDet;var detailNode=(_this$beans$masterDet=this.beans.masterDetailSvc)===null||_this$beans$masterDet===void 0?void 0:_this$beans$masterDet.getDetail(rowNode);if(detailNode){this.addRowNodeToRowsToDisplay(details,detailNode,result,uiLevel);}}}}// duplicated method, it's also in floatingRowModel\naddRowNodeToRowsToDisplay(details,rowNode,result,uiLevel,addToTop){if(addToTop){result.unshift(rowNode);}else{result.push(rowNode);}rowNode.setUiLevel(details.isGroupMultiAutoColumn?0:uiLevel);}};// packages/ag-grid-enterprise/src/rowHierarchy/groupStage.ts\nvar GroupStage=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BeanStub{constructor(){super(...arguments);this.beanName=\"groupStage\";this.refreshProps=/* @__PURE__ */new Set([\"groupDefaultExpanded\",\"groupAllowUnbalanced\",\"initialGroupOrderComparator\",\"groupHideOpenParents\",\"groupDisplayType\",\"treeData\",\"treeDataChildrenField\",\"treeDataParentIdField\"]);this.step=\"group\";this.approach=null;this.strategyBeanName=null;this.strategy=void 0;}/** Gets a filler row by id */getNode(id){var _this$strategy;return(_this$strategy=this.strategy)===null||_this$strategy===void 0?void 0:_this$strategy.getNode(id);}destroy(){super.destroy();this.strategy=void 0;}execute(params){var approach=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getGroupingApproach)(this.gos);var approachChanged=this.approach!==approach;var strategy=approachChanged?this.changeApproach(params,approach):this.strategy;if(!strategy){return void 0;}return strategy.execute(params,approach)||approachChanged;}getStrategyBeanName(approach){switch(approach){case\"group\":return\"groupStrategy\";case\"treePath\":case\"treeNested\":case\"treeSelfRef\":return\"treeGroupStrategy\";default:return null;}}changeApproach(_ref63,approach){var{rowNode}=_ref63;this.approach=approach;var newBeanName=this.getStrategyBeanName(approach);var oldStrategy=this.strategy;var strategy=oldStrategy;if(this.strategyBeanName!==newBeanName){this.destroyBean(strategy);strategy=void 0;if(newBeanName){strategy=this.beans.registry.createDynamicBean(newBeanName,false);this.createOptionalManagedBean(strategy);}this.strategy=strategy;this.strategyBeanName=newBeanName;}else{var _strategy,_strategy$reset;(_strategy=strategy)===null||_strategy===void 0||(_strategy$reset=_strategy.reset)===null||_strategy$reset===void 0||_strategy$reset.call(_strategy);}if(oldStrategy){resetGrouping(rowNode,approach!==\"treeNested\");}return strategy;}};var resetGrouping=(rootNode,canResetTreeNode)=>{var allLeafChildren=rootNode.allLeafChildren;var rootSibling=rootNode.sibling;rootNode.treeNodeFlags=0;rootNode.childrenAfterGroup=allLeafChildren;rootNode.childrenMapped=null;rootNode.groupData=null;if(rootSibling){rootSibling.childrenAfterGroup=rootNode.childrenAfterGroup;rootSibling.childrenAfterAggFilter=rootNode.childrenAfterAggFilter;rootSibling.childrenAfterFilter=rootNode.childrenAfterFilter;rootSibling.childrenAfterSort=rootNode.childrenAfterSort;rootSibling.childrenMapped=null;}for(var row of allLeafChildren){var sibling=row.sibling;resetChildRowGrouping(row);if(sibling){resetChildRowGrouping(sibling);}row.parent=rootNode;if(canResetTreeNode){row.treeParent=null;}if(row.group||row.hasChildren()){row.group=false;row.updateHasChildren();}}rootNode.updateHasChildren();};var resetChildRowGrouping=row=>{row.key=null;row.treeNodeFlags=0;row.allChildrenCount=null;row.allLeafChildren=null;row.childrenAfterGroup=null;row.childrenAfterAggFilter=null;row.childrenAfterFilter=null;row.childrenAfterSort=null;row.childrenMapped=null;row.level=0;if(row.groupData){row.groupData=null;}};// packages/ag-grid-enterprise/src/rowHierarchy/rendering/groupCellRenderer.ts\n// packages/ag-grid-enterprise/src/rowHierarchy/rendering/groupCellRendererCtrl.ts\n// packages/ag-grid-enterprise/src/rowHierarchy/rowHierarchyUtils.ts\nfunction _isHiddenParent(node,ancestor,gos){var currentNode=node;var levelDiff=currentNode.level-ancestor.level;if(levelDiff<=0){return false;}var isHideOpenParents=gos.get(\"groupHideOpenParents\");if(!isHideOpenParents){return false;}for(var i=0;i<levelDiff;i++){var _currentNode$parent;var isFirstChild=((_currentNode$parent=currentNode.parent)===null||_currentNode$parent===void 0?void 0:_currentNode$parent.getFirstChild())===currentNode;if(!isFirstChild){return false;}currentNode=currentNode.parent;}return currentNode===ancestor;}// packages/ag-grid-enterprise/src/rowHierarchy/rendering/groupCellRendererCtrl.ts\nvar GroupCellRendererCtrl=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BeanStub{constructor(){super(...arguments);// keep reference to this, so we can remove again when indent changes\nthis.indentClass=null;}init(comp,eGui,eCheckbox,eExpanded,eContracted,compClass,params){var _this$beans$showRowGr2,_this$beans$showRowGr3;this.params=params;this.eGui=eGui;this.eCheckbox=eCheckbox;this.eExpanded=eExpanded;this.eContracted=eContracted;this.comp=comp;this.compClass=compClass;var{node,column}=params;this.node=node;this.displayedNode=node;var embeddedRowMismatch=this.isEmbeddedRowMismatch();if(embeddedRowMismatch){return;}if(node.footer){this.initFooterCell();return;}if(!column){this.initFullWidthCell();return;}this.displayedNode=(_this$beans$showRowGr2=(_this$beans$showRowGr3=this.beans.showRowGroupColValueSvc)===null||_this$beans$showRowGr3===void 0?void 0:_this$beans$showRowGr3.getDisplayedNode(node,column))!==null&&_this$beans$showRowGr2!==void 0?_this$beans$showRowGr2:this.node;this.setupExpand();this.setupCheckbox();this.addGroupValue();this.setupIndent();}initFooterCell(){var{node}=this.params;this.addGroupValue();this.setupIndent();var isGrandTotal=node.level===-1;if(!isGrandTotal){this.comp.toggleCss(\"ag-row-group-leaf-indent\",true);}}initFullWidthCell(){var setupDragger=()=>{var{rowDragSvc}=this.beans;if(!this.params.rowDrag||!rowDragSvc){return;}var rowDragComp=rowDragSvc.createRowDragComp(()=>this.params.value,this.params.node);this.createManagedBean(rowDragComp);this.eGui.insertAdjacentElement(\"afterbegin\",rowDragComp.getGui());};this.setupExpand();setupDragger();this.setupCheckbox();this.addGroupValue();this.setupIndent();}/**\n   * Returns an aria \"role\" to place on full width group cells, or the parent wrapper.\n   * @returns the aria role to place on the parent wrapper\n   */getCellAriaRole(){var _this$params$colDef,_this$params$column;var colDefAriaRole=(_this$params$colDef=this.params.colDef)===null||_this$params$colDef===void 0?void 0:_this$params$colDef.cellAriaRole;var columnColDefAriaRole=(_this$params$column=this.params.column)===null||_this$params$column===void 0?void 0:_this$params$column.getColDef().cellAriaRole;return colDefAriaRole||columnColDefAriaRole||\"gridcell\";}/**\n   * Determines if this cell should be rendered, as when using embeddedFullWidthRows\n   * only one group cell should be rendered.\n   *\n   * if [enableRTL] all but pinned right cells should be skipped if available\n   * otherwise prioritise pinned left cell if available\n   * otherwise center viewport.\n   *\n   * @returns whether the cell should be skipped due to embedded full width rows\n   */isEmbeddedRowMismatch(){if(!this.params.fullWidth||!this.gos.get(\"embedFullWidthRows\")){return false;}var{visibleCols}=this.beans;var pinnedLeftCell=this.params.pinned===\"left\";var pinnedRightCell=this.params.pinned===\"right\";var bodyCell=!pinnedLeftCell&&!pinnedRightCell;if(this.gos.get(\"enableRtl\")){if(visibleCols.isPinningLeft()){return!pinnedRightCell;}return!bodyCell;}if(visibleCols.isPinningLeft()){return!pinnedLeftCell;}return!bodyCell;}/**\n   * Displays the group value for the displayed node\n   */addGroupValue(){var _ref64;var{params:{value,valueFormatted}}=this;var innerCompDetails=this.getInnerCompDetails();this.comp.setInnerRenderer(innerCompDetails,(_ref64=valueFormatted!==null&&valueFormatted!==void 0?valueFormatted:value)!==null&&_ref64!==void 0?_ref64:null);}/**\n   * Sets up expand/collapse:\n   * Chevron\n   * Aria-expanded\n   * Child count\n   */setupExpand(){var{colModel}=this.beans;var{eGridCell,column,suppressDoubleClickExpand}=this.params;var addIconToDom=(iconName,element)=>{var icon=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createIconNoSpan)(iconName,this.beans,null);if(icon){element.appendChild(icon);this.addDestroyFunc(()=>element.removeChild(icon));}};addIconToDom(\"groupExpanded\",this.eExpanded);addIconToDom(\"groupContracted\",this.eContracted);var comp=this.comp;var onExpandedChanged=()=>{var expandable=this.isExpandable();if(!expandable){return;}var expanded=this.displayedNode.expanded;comp.setExpandedDisplayed(expanded);comp.setContractedDisplayed(!expanded);(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setAriaExpanded)(eGridCell,!!this.displayedNode.expanded);};var onExpandableChanged=()=>{var expandable=this.isExpandable();comp.toggleCss(\"ag-cell-expandable\",expandable);comp.toggleCss(\"ag-row-group\",expandable);var pivotModeAndLeaf=!expandable&&colModel.isPivotMode();comp.toggleCss(\"ag-pivot-leaf-group\",pivotModeAndLeaf);var normalModeNotTotalFooter=!colModel.isPivotMode()&&(!this.displayedNode.footer||this.displayedNode.level!==-1);comp.toggleCss(\"ag-row-group-leaf-indent\",!expandable&&normalModeNotTotalFooter);var count=this.getChildCount();var countString=count>0?\"(\".concat(count,\")\"):\"\";comp.setChildCount(countString);if(!expandable){comp.setExpandedDisplayed(false);comp.setContractedDisplayed(false);(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._removeAriaExpanded)(eGridCell);}else{onExpandedChanged();}};var setupListeners=()=>{var isDoubleClickEdit=(column===null||column===void 0?void 0:column.isCellEditable(this.displayedNode))&&this.gos.get(\"enableGroupEdit\");if(!isDoubleClickEdit&&!suppressDoubleClickExpand){this.addManagedListeners(eGridCell,{dblclick:this.onCellDblClicked.bind(this)});}this.addManagedListeners(this.eExpanded,{click:this.onExpandClicked.bind(this)});this.addManagedListeners(this.eContracted,{click:this.onExpandClicked.bind(this)});this.addManagedListeners(eGridCell,{keydown:this.onKeyDown.bind(this)});this.addManagedListeners(this.displayedNode,{// Expandable state has changed\nallChildrenCountChanged:onExpandableChanged,masterChanged:onExpandableChanged,groupChanged:onExpandableChanged,hasChildrenChanged:onExpandableChanged,// Node expanded changed\nexpandedChanged:onExpandedChanged});};setupListeners();onExpandableChanged();}/**\n   * Return the inner renderer details for the cell\n   *\n   * Prioritises:\n   * 1. Group row renderer for group rows\n   * 2. agFindCellRenderer for find results in group rows\n   * 3. Provided innerRenderer (i.e, cellRendererParams.innerRenderer)\n   * 4. Cell renderer of the grouped column\n   * 5. Inner renderer of the grouped column\n   * 6. agFindCellRenderer for find results\n   */getInnerCompDetails(){var _params$column3;var{userCompFactory,findSvc}=this.beans;var params=this.params;if(params.fullWidth){var groupRowRendererParams=this.gos.get(\"groupRowRendererParams\");var groupRowInnerCompDetails=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getInnerCellRendererDetails)(userCompFactory,groupRowRendererParams,params);if(groupRowInnerCompDetails){return groupRowInnerCompDetails;}if(findSvc!==null&&findSvc!==void 0&&findSvc.isMatch(params.node,null)){return (0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getInnerCellRendererDetails)(userCompFactory,_objectSpread(_objectSpread({},groupRowRendererParams),{},{innerRenderer:\"agFindCellRenderer\"}),params);}return void 0;}var isGroupRowRenderer=details=>details&&details.componentClass==this.compClass;var innerCompDetails=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getInnerCellRendererDetails)(userCompFactory,params,params);if(innerCompDetails&&!isGroupRowRenderer(innerCompDetails)){return innerCompDetails;}var{displayedNode:{rowGroupColumn}}=this;var relatedColDef=rowGroupColumn===null||rowGroupColumn===void 0?void 0:rowGroupColumn.colDef;var isShowingThisCol=rowGroupColumn&&((_params$column3=params.column)===null||_params$column3===void 0?void 0:_params$column3.isRowGroupDisplayed(rowGroupColumn.getId()));if(relatedColDef&&isShowingThisCol){var relatedCompDetails=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getCellRendererDetails)(userCompFactory,relatedColDef,params);if(relatedCompDetails){if(isGroupRowRenderer(relatedCompDetails)){var _relatedColDef$cellRe;if(relatedColDef!==null&&relatedColDef!==void 0&&(_relatedColDef$cellRe=relatedColDef.cellRendererParams)!==null&&_relatedColDef$cellRe!==void 0&&_relatedColDef$cellRe.innerRenderer){return (0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getInnerCellRendererDetails)(userCompFactory,relatedColDef.cellRendererParams,params);}}else{return relatedCompDetails;}}}if(findSvc!==null&&findSvc!==void 0&&findSvc.isMatch(params.node,params.column)){return (0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getCellRendererDetails)(userCompFactory,_objectSpread(_objectSpread({},relatedColDef!==null&&relatedColDef!==void 0?relatedColDef:params.colDef),{},{cellRenderer:\"agFindCellRenderer\"}),params);}}/**\n   * Get the allChildCount of a given node\n   * @param node the node to return the count for\n   * @returns 0 if the count should not be displayed, otherwise the count\n   */getChildCount(){var{column,suppressCount}=this.params;if(suppressCount){return 0;}var{allChildrenCount,rowGroupColumn}=this.displayedNode;var isDisplayingRowGroupCell=(allChildrenCount!==null&&allChildrenCount!==void 0?allChildrenCount:0)>0&&(!rowGroupColumn||!column||(column===null||column===void 0?void 0:column.isRowGroupDisplayed(rowGroupColumn.getId())));if(!isDisplayingRowGroupCell){return 0;}var isRepresentingOtherNode=this.gos.get(\"showOpenedGroup\")&&this.displayedNode!==this.node;if(isRepresentingOtherNode&&!_isHiddenParent(this.node,this.displayedNode,this.gos)){return 0;}return allChildrenCount!==null&&allChildrenCount!==void 0?allChildrenCount:0;}/**\n   * Checks whether the current cell is expandable, either due to [groupHideOpenParent] control or otherwise.\n   * @returns whether this cell is expandable\n   */isExpandable(){var{node,column,colDef}=this.params;if(!this.displayedNode.isExpandable()){return false;}if(node.rowPinned){return false;}var isFullWidth=!column;if(isFullWidth){return true;}var hasChildren=node.hasChildren();if(hasChildren&&colDef){var{showRowGroup}=colDef;if(!showRowGroup){return false;}if(showRowGroup===true){return true;}}if(node===this.displayedNode){if(node.rowGroupColumn){var showingThisRowGroup=column===null||column===void 0?void 0:column.isRowGroupDisplayed(node.rowGroupColumn.getId());if(showingThisRowGroup){return true;}}if(node.master){return(colDef===null||colDef===void 0?void 0:colDef.showRowGroup)===true||(colDef===null||colDef===void 0?void 0:colDef.showRowGroup)==null;}return false;}return _isHiddenParent(this.node,this.displayedNode,this.gos);}/**\n   * For full width group cells & single group column, indents child groups based on uiLevel\n   */setupIndent(){var{suppressPadding,node,colDef}=this.params;if(suppressPadding){return;}var setIndent=()=>{var level=0;if(colDef&&colDef.showRowGroup!==true){level=0;}else{level=node.uiLevel;}var newIndentClass=\"ag-row-group-indent-\"+level;if(newIndentClass===this.indentClass){return;}if(this.indentClass){this.comp.toggleCss(this.indentClass,false);}this.indentClass=newIndentClass;this.comp.toggleCss(newIndentClass,true);this.eGui.style.setProperty(\"--ag-indentation-level\",String(level));};this.addManagedListeners(node,{uiLevelChanged:setIndent.bind(this)});setIndent();}/**\n   * Selection checkboxes\n   */setupCheckbox(){var{node}=this.params;var isRowSelectable=!node.footer&&!node.rowPinned&&!node.detail;if(!isRowSelectable){return;}this.addManagedPropertyListener(\"rowSelection\",_ref65=>{var{currentValue,previousValue}=_ref65;var curr=typeof currentValue===\"object\"?currentValue:void 0;var prev=typeof previousValue===\"object\"?previousValue:void 0;if((curr===null||curr===void 0?void 0:curr.checkboxLocation)!==(prev===null||prev===void 0?void 0:prev.checkboxLocation)){this.destroyCheckbox();this.addCheckbox();}});this.addCheckbox();}addCheckbox(){var{selectionSvc}=this.beans;if(!selectionSvc||!(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isRowSelection)(this.gos)){return;}var{node,column}=this.params;var rowSelection=this.gos.get(\"rowSelection\");var checkboxLocation=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getCheckboxLocation)(rowSelection);if(checkboxLocation===\"selectionColumn\"){return;}if(checkboxLocation===\"autoGroupColumn\"){var isGroupColumn=(column===null||column===void 0?void 0:column.getColDef().showRowGroup)!=null;var isFullWidthGroupRow=!column&&node.group;var isApplicableCell=isGroupColumn||isFullWidthGroupRow;if(!isApplicableCell){return;}}var checkboxes=typeof rowSelection===\"object\"?(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getCheckboxes)(rowSelection):this.params.checkbox;var userWantsCheckboxes=typeof checkboxes===\"function\"||checkboxes===true;if(!userWantsCheckboxes){return;}var isMultiAutoCol=typeof(column===null||column===void 0?void 0:column.getColDef().showRowGroup)===\"string\";if(isMultiAutoCol&&!this.isExpandable()){this.comp.setCheckboxSpacing(true);return;}var cbSelectionComponent=selectionSvc.createCheckboxSelectionComponent();this.cbComp=cbSelectionComponent;this.createBean(cbSelectionComponent);cbSelectionComponent.init({rowNode:node,// when groupHideOpenParents = true and group expanded, we want the checkbox to refer to leaf node state (not group node state)\ncolumn,overrides:{isVisible:checkboxes,callbackParams:this.params,removeHidden:true}});this.eCheckbox.appendChild(cbSelectionComponent.getGui());this.comp.setCheckboxVisible(true);}destroyCheckbox(){this.comp.setCheckboxSpacing(false);this.comp.setCheckboxVisible(false);this.cbComp&&this.eCheckbox.removeChild(this.cbComp.getGui());this.cbComp=this.destroyBean(this.cbComp);}/**\n   * Called when the expand / contract icon is clicked.\n   */onExpandClicked(mouseEvent){if((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isStopPropagationForAgGrid)(mouseEvent)){return;}(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._stopPropagationForAgGrid)(mouseEvent);this.onExpandOrContract(mouseEvent);}/**\n   * Called on cell key press - only handles 'Enter' key for expand/collapse\n   */onKeyDown(event){var isEnterKey=event.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.ENTER;if(!isEnterKey||this.params.suppressEnterExpand){return;}var cellEditable=this.params.column&&this.params.column.isCellEditable(this.params.node);if(cellEditable){return;}this.onExpandOrContract(event);}/**\n   * Called on cell double click - only expands/collapses if the event is not on the expand / contract icon\n   */onCellDblClicked(mouseEvent){if((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isStopPropagationForAgGrid)(mouseEvent)){return;}var targetIsExpandIcon=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isElementInEventPath)(this.eExpanded,mouseEvent)||(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isElementInEventPath)(this.eContracted,mouseEvent);if(!targetIsExpandIcon){this.onExpandOrContract(mouseEvent);}}/**\n   * Called when expand or contract is attempted, to scroll the row and update the node state\n   * @param e originating event\n   */onExpandOrContract(e){if(!this.isExpandable()){return;}var rowNode=this.displayedNode;var nextExpandState=!rowNode.expanded;if(!nextExpandState&&rowNode.sticky){this.beans.ctrlsSvc.getScrollFeature().setVerticalScrollPosition(rowNode.rowTop-rowNode.stickyRowTop);}rowNode.setExpanded(nextExpandState,e);}destroy(){super.destroy();this.destroyCheckbox();}};// packages/ag-grid-enterprise/src/rowHierarchy/rendering/groupCellRenderer.ts\nvar GroupCellRendererElement={tag:\"span\",cls:\"ag-cell-wrapper\",children:[{tag:\"span\",ref:\"eExpanded\",cls:\"ag-group-expanded ag-hidden\"},{tag:\"span\",ref:\"eContracted\",cls:\"ag-group-contracted ag-hidden\"},{tag:\"span\",ref:\"eCheckbox\",cls:\"ag-group-checkbox ag-invisible\"},{tag:\"span\",ref:\"eValue\",cls:\"ag-group-value\"},{tag:\"span\",ref:\"eChildCount\",cls:\"ag-group-child-count\"}]};var GroupCellRenderer=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(){super(GroupCellRendererElement);this.eExpanded=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.eContracted=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.eCheckbox=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.eValue=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.eChildCount=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;}init(params){var compProxy={setInnerRenderer:(compDetails,valueToDisplay)=>this.setRenderDetails(compDetails,valueToDisplay),setChildCount:count=>this.eChildCount.textContent=count,toggleCss:(cssClass,value)=>this.toggleCss(cssClass,value),setContractedDisplayed:expanded=>(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setDisplayed)(this.eContracted,expanded),setExpandedDisplayed:expanded=>(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setDisplayed)(this.eExpanded,expanded),setCheckboxVisible:visible=>this.eCheckbox.classList.toggle(\"ag-invisible\",!visible),setCheckboxSpacing:add=>this.eCheckbox.classList.toggle(\"ag-group-checkbox-spacing\",add)};var ctrl=this.createManagedBean(new GroupCellRendererCtrl());var fullWidth=!params.colDef;var eGui=this.getGui();ctrl.init(compProxy,eGui,this.eCheckbox,this.eExpanded,this.eContracted,this.constructor,params);if(fullWidth){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setAriaRole)(eGui,ctrl.getCellAriaRole());}}setRenderDetails(compDetails,valueToDisplay){if(compDetails){compDetails.newAgStackInstance().then(comp=>{if(!comp){return;}var destroyComp=()=>this.destroyBean(comp);if(this.isAlive()){this.eValue.appendChild(comp.getGui());this.addDestroyFunc(destroyComp);}else{destroyComp();}});}else{this.eValue.innerText=valueToDisplay;}}destroy(){this.destroyBean(this.innerCellRenderer);super.destroy();}refresh(){return false;}};// packages/ag-grid-enterprise/src/rowHierarchy/rendering/groupCellStyles.css-GENERATED.ts\nvar groupCellStylesCSS=/*css*/\".ag-group-checkbox-spacing{width:var(--ag-icon-size)}:where(.ag-ltr) .ag-group-checkbox-spacing{margin-right:var(--ag-cell-widget-spacing)}:where(.ag-rtl) .ag-group-checkbox-spacing{margin-left:var(--ag-cell-widget-spacing)}\";// packages/ag-grid-enterprise/src/rowHierarchy/showRowGroupColValueService.ts\nvar ShowRowGroupColValueService=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BeanStub{constructor(){super(...arguments);this.beanName=\"showRowGroupColValueSvc\";}/**\n   * Get the value for format in the group column, also returns the displayedNode from which the value was\n   * taken in cases of groupHideOpenParents and showOpenedGroup.\n   */getGroupValue(node,column){if(!column){if(!node.group){return null;}return{displayedNode:node,value:node.groupValue};}var valueSvc=this.beans.valueSvc;var rowGroupColId=column.colDef.showRowGroup;if(!rowGroupColId){return null;}if(node.level===-1&&node.footer){return{displayedNode:node,value:null};}if(typeof rowGroupColId===\"string\"){var _this$beans$rowGroupC6,_this$beans$rowGroupC7;var colRowGroupIndex=(_this$beans$rowGroupC6=(_this$beans$rowGroupC7=this.beans.rowGroupColsSvc)===null||_this$beans$rowGroupC7===void 0?void 0:_this$beans$rowGroupC7.getColumnIndex(rowGroupColId))!==null&&_this$beans$rowGroupC6!==void 0?_this$beans$rowGroupC6:-1;if(colRowGroupIndex>node.level){return null;}var hideOpenParentsNode=this.getDisplayedNode(node,column,true);if(hideOpenParentsNode){return{displayedNode:hideOpenParentsNode,value:valueSvc.getValue(column,hideOpenParentsNode)};}}var value=valueSvc.getValue(column,node);if(value==null){var displayedNode=this.getDisplayedNode(node,column);if(displayedNode){return{displayedNode,value:valueSvc.getValue(column,displayedNode)};}}return{displayedNode:node,value};}/**\n   * Formats a group col value, and prefixes it with the \"Total\" prefix if applicable\n   */formatAndPrefixGroupColValue(groupValue,column){var exporting=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var formattedValue=this.formatGroupColValue(groupValue,column,exporting);var{value,displayedNode}=groupValue;var footerSvc=this.beans.footerSvc;if(footerSvc!==null&&footerSvc!==void 0&&footerSvc.doesCellShowTotalPrefix(displayedNode,column)){var footerValue=footerSvc.applyTotalPrefix(value,formattedValue,displayedNode,column);return footerValue;}if(displayedNode.footer&&displayedNode.level===-1){return null;}return formattedValue;}/**\n   * Formats the group col value using the underlying column's value formatter\n   */formatGroupColValue(groupValue,column){var exporting=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var valueSvc=this.beans.valueSvc;var{displayedNode,value}=groupValue;var groupedCol=displayedNode.rowGroupColumn;var isFullWidthGroup=displayedNode.group&&!column;var isShowingGroupCell=groupedCol&&(isFullWidthGroup||(column===null||column===void 0?void 0:column.isRowGroupDisplayed(groupedCol.colId)));if(isShowingGroupCell){if(exporting&&groupedCol.colDef.useValueFormatterForExport===false){return null;}var formattedValue=valueSvc.formatValue(groupedCol,displayedNode,value);if(formattedValue==null&&displayedNode.key===\"\"){var localeTextFunc=this.getLocaleTextFunc();return localeTextFunc(\"blanks\",\"(Blanks)\");}return formattedValue;}if(!column||displayedNode.group){return null;}if(exporting&&column.colDef.useValueFormatterForExport===false){return null;}return valueSvc.formatValue(column,displayedNode,value);}/**\n   * Checks if the node has a value to inherit from the parent node for display in the given column\n   *\n   * This is used when [groupHideOpenParents] or [showOpenedGroup] are enabled\n   *\n   * @param node node to check for preferential nodes to display\n   * @param column column to get the displayed node for\n   * @returns a parent node of node to display the value from, or undefined if no value will be inherited\n   */getDisplayedNode(node,column){var onlyHideOpenParents=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var gos=this.gos;var isGroupHideOpenParents=gos.get(\"groupHideOpenParents\");var isShowOpenedGroupValue=gos.get(\"showOpenedGroup\")&&!onlyHideOpenParents;if(!isGroupHideOpenParents&&!isShowOpenedGroupValue){return void 0;}var showRowGroup=column.colDef.showRowGroup;if(showRowGroup===true){var _node$parent;if(node.group){return void 0;}return(_node$parent=node.parent)!==null&&_node$parent!==void 0?_node$parent:void 0;}var pointer=node;while(pointer&&((_pointer$rowGroupColu=pointer.rowGroupColumn)===null||_pointer$rowGroupColu===void 0?void 0:_pointer$rowGroupColu.getId())!=showRowGroup){var _pointer$rowGroupColu,_pointer$parent;var isFirstChild=pointer===((_pointer$parent=pointer.parent)===null||_pointer$parent===void 0?void 0:_pointer$parent.getFirstChild());if(!isShowOpenedGroupValue&&!isFirstChild){return void 0;}pointer=pointer.parent;}if(pointer===node){return void 0;}return pointer!==null&&pointer!==void 0?pointer:void 0;}};// packages/ag-grid-enterprise/src/rowHierarchy/showRowGroupColsService.ts\nvar ShowRowGroupColsService=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BeanStub{constructor(){super(...arguments);this.beanName=\"showRowGroupCols\";}refresh(){this.showRowGroupCols=[];this.showRowGroupColsMap={};var{colModel,rowGroupColsSvc}=this.beans;colModel.getCols().forEach(col=>{var colDef=col.getColDef();var showRowGroup=colDef.showRowGroup;var isString2=typeof showRowGroup===\"string\";var isTrue=showRowGroup===true;if(!isString2&&!isTrue){return;}this.showRowGroupCols.push(col);if(isString2){this.showRowGroupColsMap[showRowGroup]=col;}else if(rowGroupColsSvc){rowGroupColsSvc.columns.forEach(rowGroupCol=>{this.showRowGroupColsMap[rowGroupCol.getId()]=col;});}});}getShowRowGroupCols(){return this.showRowGroupCols;}getShowRowGroupCol(id){return this.showRowGroupColsMap[id];}getSourceColumnsForGroupColumn(groupCol){var sourceColumnId=groupCol.getColDef().showRowGroup;if(!sourceColumnId){return null;}var{rowGroupColsSvc,colModel}=this.beans;if(sourceColumnId===true&&rowGroupColsSvc){return rowGroupColsSvc.columns.slice(0);}var column=colModel.getColDefCol(sourceColumnId);return column?[column]:null;}isRowGroupDisplayed(column,colId){var{colDef}=column;if((colDef===null||colDef===void 0?void 0:colDef.showRowGroup)==null){return false;}var showingAllGroups=colDef.showRowGroup===true;var showingThisGroup=colDef.showRowGroup===colId;return showingAllGroups||showingThisGroup;}};// packages/ag-grid-enterprise/src/rowHierarchy/stickyRowService.ts\n// packages/ag-grid-enterprise/src/rowHierarchy/stickyRowFeature.ts\nvar StickyRowFeature=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BeanStub{constructor(createRowCon,destroyRowCtrls){super();this.createRowCon=createRowCon;this.destroyRowCtrls=destroyRowCtrls;this.stickyTopRowCtrls=[];this.stickyBottomRowCtrls=[];// sticky rows pulls in extra rows from other pages which impacts row position\nthis.extraTopHeight=0;this.extraBottomHeight=0;}postConstruct(){this.isClientSide=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isClientSideRowModel)(this.gos);this.beans.ctrlsSvc.whenReady(this,params=>{this.gridBodyCtrl=params.gridBodyCtrl;});this.resetStickyContainers();}setOffsetTop(offset){if(this.extraTopHeight===offset){return;}this.extraTopHeight=offset;this.eventSvc.dispatchEvent({type:\"stickyTopOffsetChanged\",offset});}setOffsetBottom(offset){if(this.extraBottomHeight===offset){return;}this.extraBottomHeight=offset;}resetOffsets(){this.setOffsetBottom(0);this.setOffsetTop(0);}/**\n   * Get the last pixel of the group, this pixel is used to push the sticky node up out of the viewport.\n   */getLastPixelOfGroup(row){return this.isClientSide?getClientSideLastPixelOfGroup(row):getServerSideLastPixelOfGroup(row);}/**\n   * Get the first pixel of the group, this pixel is used to push the sticky node down out of the viewport\n   */getFirstPixelOfGroup(row){if(row.footer){return row.sibling.rowTop+row.sibling.rowHeight-1;}if(row.hasChildren()){return row.rowTop-1;}return 0;}updateStickyRows(container){var _this10=this;var isTop=container===\"top\";var newStickyContainerHeight=0;if(!this.canRowsBeSticky()){return this.refreshNodesAndContainerHeight(container,/* @__PURE__ */new Set(),newStickyContainerHeight);}var{rowModel,rowRenderer,pinnedRowModel}=this.beans;var pixelAtContainerBoundary=isTop?rowRenderer.firstVisibleVPixel-this.extraTopHeight:rowRenderer.lastVisibleVPixel-this.extraTopHeight;var newStickyRows=/* @__PURE__ */new Set();var addStickyRow=stickyRow=>{newStickyRows.add(stickyRow);if(isTop){var lastChildBottom=this.getLastPixelOfGroup(stickyRow);var stickRowBottom=pixelAtContainerBoundary+newStickyContainerHeight+stickyRow.rowHeight;if(lastChildBottom<stickRowBottom){stickyRow.stickyRowTop=newStickyContainerHeight+(lastChildBottom-stickRowBottom);}else{stickyRow.stickyRowTop=newStickyContainerHeight;}}else{var _lastChildBottom=this.getFirstPixelOfGroup(stickyRow);var stickRowTop=pixelAtContainerBoundary-(newStickyContainerHeight+stickyRow.rowHeight);if(_lastChildBottom>stickRowTop){stickyRow.stickyRowTop=newStickyContainerHeight-(_lastChildBottom-stickRowTop);}else{stickyRow.stickyRowTop=newStickyContainerHeight;}}newStickyContainerHeight=0;newStickyRows.forEach(rowNode=>{var thisRowLastPx=rowNode.stickyRowTop+rowNode.rowHeight;if(newStickyContainerHeight<thisRowLastPx){newStickyContainerHeight=thisRowLastPx;}});};var suppressFootersSticky=this.areFooterRowsStickySuppressed();var suppressGroupsSticky=this.gos.get(\"suppressGroupRowsSticky\");var isRowSticky=row=>{if(!row.displayed){return false;}if(row.footer){if(suppressFootersSticky===true){return false;}if(suppressFootersSticky===\"grand\"&&row.level===-1){return false;}if(suppressFootersSticky===\"group\"&&row.level>-1){return false;}var isFooterFirstRowInGroup=row.sibling.rowIndex?row.sibling.rowIndex+1===row.rowIndex:false;if(container===\"bottom\"&&isFooterFirstRowInGroup){return false;}if(row.level===-1&&pinnedRowModel!==null&&pinnedRowModel!==void 0&&pinnedRowModel.getGrandTotalPinned()){return false;}var alreadySticking=newStickyRows.has(row);return!alreadySticking;}if(row.isExpandable()){if(suppressGroupsSticky===true){return false;}if(container===\"bottom\"){return false;}var _alreadySticking=newStickyRows.has(row);return!_alreadySticking&&row.expanded;}return false;};var _loop5=function _loop5(){var firstPixelAfterStickyRows=pixelAtContainerBoundary+newStickyContainerHeight;if(!isTop){firstPixelAfterStickyRows=pixelAtContainerBoundary-newStickyContainerHeight;}var firstIndex=rowModel.getRowIndexAtPixel(firstPixelAfterStickyRows);var firstRow=rowModel.getRow(firstIndex);if(firstRow==null){return 0;// break\n}var ancestors=_this10.getStickyAncestors(firstRow);var firstMissingParent=ancestors.find(parent=>(isTop?parent.rowIndex<firstIndex:parent.rowIndex>firstIndex)&&isRowSticky(parent));if(firstMissingParent){addStickyRow(firstMissingParent);return 1;// continue\n}var isFirstRowOutsideViewport=isTop?firstRow.rowTop<firstPixelAfterStickyRows:firstRow.rowTop+firstRow.rowHeight>firstPixelAfterStickyRows;if(isFirstRowOutsideViewport&&isRowSticky(firstRow)){addStickyRow(firstRow);return 1;// continue\n}return 0;// break\n},_ret2;for(var i=0;i<100;i++){_ret2=_loop5();if(_ret2===0)break;if(_ret2===1)continue;}if(!isTop){newStickyRows.forEach(rowNode=>{rowNode.stickyRowTop=newStickyContainerHeight-(rowNode.stickyRowTop+rowNode.rowHeight);});}return this.refreshNodesAndContainerHeight(container,newStickyRows,newStickyContainerHeight);}areFooterRowsStickySuppressed(){var suppressFootersSticky=this.gos.get(\"suppressStickyTotalRow\");if(suppressFootersSticky===true){return true;}var suppressGroupRows=suppressFootersSticky===\"group\";var suppressGrandRows=suppressFootersSticky===\"grand\";if(suppressGroupRows&&suppressGrandRows){return true;}if(suppressGrandRows){return\"grand\";}if(suppressGroupRows){return\"group\";}return false;}canRowsBeSticky(){var isStickyEnabled=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isGroupRowsSticky)(this.gos);var suppressFootersSticky=this.areFooterRowsStickySuppressed();var suppressGroupsSticky=this.gos.get(\"suppressGroupRowsSticky\");return isStickyEnabled&&(!suppressFootersSticky||!suppressGroupsSticky);}getStickyAncestors(rowNode){var ancestors=[];var p=rowNode.footer?rowNode.sibling:rowNode.parent;while(p){if(p.sibling){ancestors.push(p.sibling);}ancestors.push(p);p=p.parent;}return ancestors.reverse();}checkStickyRows(){var hasTopUpdated=this.updateStickyRows(\"top\");var hasBottomUpdated=this.updateStickyRows(\"bottom\");return hasTopUpdated||hasBottomUpdated;}destroyStickyCtrls(){this.resetStickyContainers();}resetStickyContainers(){this.refreshNodesAndContainerHeight(\"top\",/* @__PURE__ */new Set(),0);this.refreshNodesAndContainerHeight(\"bottom\",/* @__PURE__ */new Set(),0);}refreshStickyNode(stickRowNode){var allStickyNodes=/* @__PURE__ */new Set();if(this.stickyTopRowCtrls.some(ctrl=>ctrl.rowNode===stickRowNode)){for(var i=0;i<this.stickyTopRowCtrls.length;i++){var currentNode=this.stickyTopRowCtrls[i].rowNode;if(currentNode!==stickRowNode){allStickyNodes.add(currentNode);}}if(this.refreshNodesAndContainerHeight(\"top\",allStickyNodes,this.topContainerHeight)){this.checkStickyRows();}return;}for(var _i3=0;_i3<this.stickyBottomRowCtrls.length;_i3++){var _currentNode=this.stickyBottomRowCtrls[_i3].rowNode;if(_currentNode!==stickRowNode){allStickyNodes.add(_currentNode);}}if(this.refreshNodesAndContainerHeight(\"bottom\",allStickyNodes,this.bottomContainerHeight)){this.checkStickyRows();}}/**\n   * Destroy old ctrls and create new ctrls where necessary.\n   */refreshNodesAndContainerHeight(container,newStickyNodes,height){var isTop=container===\"top\";var previousCtrls=isTop?this.stickyTopRowCtrls:this.stickyBottomRowCtrls;var removedCtrlsMap={};var remainingCtrls=[];for(var i=0;i<previousCtrls.length;i++){var node=previousCtrls[i].rowNode;var hasBeenRemoved=!newStickyNodes.has(node);if(hasBeenRemoved){removedCtrlsMap[node.id]=previousCtrls[i];node.sticky=false;continue;}remainingCtrls.push(previousCtrls[i]);}var existingNodes=/* @__PURE__ */new Set();for(var _i4=0;_i4<remainingCtrls.length;_i4++){existingNodes.add(remainingCtrls[_i4].rowNode);}var newCtrls=[];newStickyNodes.forEach(node=>{if(existingNodes.has(node)){return;}node.sticky=true;newCtrls.push(this.createRowCon(node,false,false));});var hasSomethingChanged=!!newCtrls.length||remainingCtrls.length!==previousCtrls.length;if(isTop){if(this.topContainerHeight!==height){this.topContainerHeight=height;this.gridBodyCtrl.setStickyTopHeight(height);hasSomethingChanged=true;}}else{if(this.bottomContainerHeight!==height){this.bottomContainerHeight=height;this.gridBodyCtrl.setStickyBottomHeight(height);hasSomethingChanged=true;}}this.destroyRowCtrls(removedCtrlsMap,false);var newCtrlsList=[...remainingCtrls,...newCtrls];newCtrlsList.sort((a,b)=>b.rowNode.rowIndex-a.rowNode.rowIndex);if(!isTop){newCtrlsList.reverse();}newCtrlsList.forEach(ctrl=>ctrl.setRowTop(ctrl.rowNode.stickyRowTop));var pageBounds=this.beans.pageBounds;var extraHeight=0;if(isTop){newStickyNodes.forEach(node=>{if(node.rowIndex<pageBounds.getFirstRow()){extraHeight+=node.rowHeight;}});if(extraHeight>this.topContainerHeight){extraHeight=this.topContainerHeight;}this.setOffsetTop(extraHeight);}else{newStickyNodes.forEach(node=>{if(node.rowIndex>pageBounds.getLastRow()){extraHeight+=node.rowHeight;}});if(extraHeight>this.bottomContainerHeight){extraHeight=this.bottomContainerHeight;}this.setOffsetBottom(extraHeight);}if(!hasSomethingChanged){return false;}if(isTop){this.stickyTopRowCtrls=newCtrlsList;}else{this.stickyBottomRowCtrls=newCtrlsList;}return true;}ensureRowHeightsValid(){var anyChange=false;var updateRowHeight=ctrl=>{var rowNode=ctrl.rowNode;if(rowNode.rowHeightEstimated){var rowHeight=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getRowHeightForNode)(this.beans,rowNode);rowNode.setRowHeight(rowHeight.height);anyChange=true;}};this.stickyTopRowCtrls.forEach(updateRowHeight);this.stickyBottomRowCtrls.forEach(updateRowHeight);return anyChange;}};function getServerSideLastPixelOfGroup(row){if(row.isExpandable()||row.footer){if(row.master&&row.detailNode){return row.detailNode.rowTop+row.detailNode.rowHeight;}var noOrContiguousSiblings=!row.sibling||Math.abs(row.sibling.rowIndex-row.rowIndex)===1;if(noOrContiguousSiblings){var _row$childStore,_storeBounds$heightPx,_storeBounds,_storeBounds$topPx,_storeBounds2;var storeBounds=(_row$childStore=row.childStore)===null||_row$childStore===void 0?void 0:_row$childStore.getStoreBounds();if(row.footer){var _row$sibling$childSto;storeBounds=(_row$sibling$childSto=row.sibling.childStore)===null||_row$sibling$childSto===void 0?void 0:_row$sibling$childSto.getStoreBounds();}return((_storeBounds$heightPx=(_storeBounds=storeBounds)===null||_storeBounds===void 0?void 0:_storeBounds.heightPx)!==null&&_storeBounds$heightPx!==void 0?_storeBounds$heightPx:0)+((_storeBounds$topPx=(_storeBounds2=storeBounds)===null||_storeBounds2===void 0?void 0:_storeBounds2.topPx)!==null&&_storeBounds$topPx!==void 0?_storeBounds$topPx:0);}if(row.footer){return row.rowTop+row.rowHeight;}return row.sibling.rowTop+row.sibling.rowHeight;}return Number.MAX_SAFE_INTEGER;}function getClientSideLastPixelOfGroup(row){if(row.isExpandable()||row.footer){var grandTotalAtTop=row.footer&&row.rowIndex===0;if(grandTotalAtTop){return Number.MAX_SAFE_INTEGER;}var noOrContiguousSiblings=!row.sibling||Math.abs(row.sibling.rowIndex-row.rowIndex)===1;if(noOrContiguousSiblings){var lastAncestor=row.footer?row.sibling:row;while(lastAncestor.isExpandable()&&lastAncestor.expanded){if(lastAncestor.master&&lastAncestor.detailNode){lastAncestor=lastAncestor.detailNode;}else if(lastAncestor.childrenAfterSort){if(lastAncestor.childrenAfterSort.length===0){break;}lastAncestor=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._last)(lastAncestor.childrenAfterSort);}}return lastAncestor.rowTop+lastAncestor.rowHeight;}if(row.footer){return row.rowTop+row.rowHeight;}return row.sibling.rowTop+row.sibling.rowHeight;}return Number.MAX_SAFE_INTEGER;}// packages/ag-grid-enterprise/src/rowHierarchy/stickyRowService.ts\nvar StickyRowService=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BeanStub{constructor(){super(...arguments);this.beanName=\"stickyRowSvc\";}createStickyRowFeature(ctrl,createRowCon,destroyRowCtrls){var gos=this.gos;if((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isGroupRowsSticky)(gos)&&(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isClientSideRowModel)(gos)||(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isServerSideRowModel)(gos)){return ctrl.createManagedBean(new StickyRowFeature(createRowCon,destroyRowCtrls));}return void 0;}};// packages/ag-grid-enterprise/src/rowHierarchy/rowHierarchyModule.ts\nvar GroupCellRendererModule={moduleName:\"GroupCellRenderer\",version:VERSION,userComponents:{agGroupRowRenderer:GroupCellRenderer,agGroupCellRenderer:GroupCellRenderer},dynamicBeans:{groupCellRendererCtrl:GroupCellRendererCtrl},icons:{// shown on row group when contracted (click to expand)\ngroupContracted:\"tree-closed\",// shown on row group when expanded (click to contract)\ngroupExpanded:\"tree-open\"},css:[groupCellStylesCSS],dependsOn:[EnterpriseCoreModule]};var GroupColumnModule={moduleName:\"GroupColumn\",version:VERSION,beans:[AutoColService,ShowRowGroupColsService,ShowRowGroupColValueService,RowGroupColsSvc,PivotColsSvc,ValueColsSvc],dependsOn:[EnterpriseCoreModule,GroupCellRendererModule]};var ClientSideRowModelHierarchyModule={moduleName:\"ClientSideRowModelHierarchy\",version:VERSION,rowModels:[\"clientSide\"],beans:[GroupStage,FlattenStage,ClientSideExpansionService],dependsOn:[EnterpriseCoreModule]};var StickyRowModule={moduleName:\"StickyRow\",version:VERSION,beans:[StickyRowService]};// packages/ag-grid-enterprise/src/rowGrouping/columnDropZones/agGridHeaderDropZones.ts\nvar AgGridHeaderDropZones=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(){super();}postConstruct(){this.setGui(this.createNorthPanel());var onRowGroupChanged=this.onRowGroupChanged.bind(this);this.addManagedEventListeners({columnRowGroupChanged:onRowGroupChanged,newColumnsLoaded:onRowGroupChanged});this.addManagedPropertyListener(\"rowGroupPanelShow\",onRowGroupChanged);this.addManagedPropertyListener(\"pivotPanelShow\",()=>this.onPivotPanelShow());this.onRowGroupChanged();}createNorthPanel(){var topPanelGui=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createElement)({tag:\"div\",cls:\"ag-column-drop-wrapper\",role:\"presentation\"});var rowGroupComp=new RowGroupDropZonePanel(true);this.rowGroupComp=this.createManagedBean(rowGroupComp);var pivotComp=new PivotDropZonePanel(true);this.pivotComp=this.createManagedBean(pivotComp);topPanelGui.appendChild(rowGroupComp.getGui());topPanelGui.appendChild(pivotComp.getGui());var listener=this.onDropPanelVisible.bind(this);this.addManagedListeners(rowGroupComp,{displayChanged:listener});this.addManagedListeners(pivotComp,{displayChanged:listener});this.onDropPanelVisible();return topPanelGui;}onDropPanelVisible(){var{rowGroupComp,pivotComp}=this;var bothDisplayed=rowGroupComp.isDisplayed()&&pivotComp.isDisplayed();var classStr=\"ag-column-drop-horizontal-half-width\";rowGroupComp.toggleCss(classStr,bothDisplayed);pivotComp.toggleCss(classStr,bothDisplayed);}onRowGroupChanged(){var rowGroupComp=this.rowGroupComp;if(!rowGroupComp){return;}var rowGroupPanelShow=this.gos.get(\"rowGroupPanelShow\");if(rowGroupPanelShow===\"always\"){rowGroupComp.setDisplayed(true);}else if(rowGroupPanelShow===\"onlyWhenGrouping\"){var _this$beans$rowGroupC8;var grouping=((_this$beans$rowGroupC8=this.beans.rowGroupColsSvc)===null||_this$beans$rowGroupC8===void 0||(_this$beans$rowGroupC8=_this$beans$rowGroupC8.columns)===null||_this$beans$rowGroupC8===void 0?void 0:_this$beans$rowGroupC8.length)!==0;rowGroupComp.setDisplayed(grouping);}else{rowGroupComp.setDisplayed(false);}}onPivotPanelShow(){var pivotComp=this.pivotComp;if(!pivotComp){return;}var pivotPanelShow=this.gos.get(\"pivotPanelShow\");if(pivotPanelShow===\"always\"){pivotComp.setDisplayed(true);}else if(pivotPanelShow===\"onlyWhenPivoting\"){var pivoting=this.beans.colModel.isPivotActive();pivotComp.setDisplayed(pivoting);}else{pivotComp.setDisplayed(false);}}};var AgGridHeaderDropZonesSelector={selector:\"AG-GRID-HEADER-DROP-ZONES\",component:AgGridHeaderDropZones};// packages/ag-grid-enterprise/src/rowGrouping/groupFilter/groupFilter.ts\nvar GroupFilterElement={tag:\"div\",cls:\"ag-group-filter\",children:[{tag:\"div\",ref:\"eGroupField\"},{tag:\"div\",ref:\"eUnderlyingFilter\"}]};var GroupFilter=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.TabGuardComp{constructor(){super(GroupFilterElement);this.filterType=\"group\";this.eGroupField=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.eUnderlyingFilter=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;}wireBeans(beans){this.groupFilterSvc=beans.groupFilter;}postConstruct(){this.initialiseTabGuard({});}init(legacyParams){this.params=legacyParams;return this.updateParams().then(()=>{this.addHandlerListeners(this.updateGroups.bind(this));});}refresh(legacyParams){var params=legacyParams;this.params=params;if(params.source===\"colDef\"){this.updateParams();}return true;}updateParams(){this.validateParams();return this.updateGroups();}validateParams(){var{colDef}=this.params;if(colDef.field){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(234);}if(colDef.filterValueGetter){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(235);}if(colDef.filterParams){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(236);}}addHandlerListeners(listener){var destroyFunctions=this.addManagedListeners(this.getHandler(),{sourceColumnsChanged:()=>{this.updateGroups();},destroyed:()=>{destroyFunctions.forEach(func=>func());this.addHandlerListeners(listener);}});}updateGroups(){var{sourceColumns,selectedColumn}=this.updateGroupField();this.dispatchLocalEvent({type:\"columnsChanged\"});return this.getUnderlyingFilters(sourceColumns,selectedColumn);}updateGroupField(){this.groupColumn=this.params.column;var handler=this.getHandler();if(!handler){return{sourceColumns:null};}var{sourceColumns,hasMultipleColumns,selectedColumn}=handler;var eGroupField=this.eGroupField;(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._clearElement)(eGroupField);if(this.eGroupFieldSelect){this.destroyBean(this.eGroupFieldSelect);}if(hasMultipleColumns&&sourceColumns){this.createGroupFieldSelectElement(sourceColumns,selectedColumn);eGroupField.appendChild(this.eGroupFieldSelect.getGui());eGroupField.appendChild((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createElement)({tag:\"div\",cls:\"ag-filter-separator\"}));}(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setDisplayed)(eGroupField,hasMultipleColumns);return{sourceColumns,selectedColumn};}createGroupFieldSelectElement(sourceColumns,selectedColumn){var eGroupFieldSelect=this.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgSelect());this.eGroupFieldSelect=eGroupFieldSelect;var localeTextFunc=this.getLocaleTextFunc();eGroupFieldSelect.setLabel(localeTextFunc(\"groupFilterSelect\",\"Select field:\"));eGroupFieldSelect.setLabelAlignment(\"top\");eGroupFieldSelect.addOptions(sourceColumns.map(sourceColumn=>{var _this$beans$colNames$2;return{value:sourceColumn.getColId(),text:(_this$beans$colNames$2=this.beans.colNames.getDisplayNameForColumn(sourceColumn,\"groupFilter\",false))!==null&&_this$beans$colNames$2!==void 0?_this$beans$colNames$2:void 0};}));eGroupFieldSelect.setValue(selectedColumn.getColId());eGroupFieldSelect.onValueChange(newValue=>this.updateSelectedColumn(newValue));eGroupFieldSelect.addCss(\"ag-group-filter-field-select-wrapper\");if(sourceColumns.length===1){eGroupFieldSelect.setDisabled(true);}}getUnderlyingFilters(sourceColumns,selectedColumn){if(!sourceColumns){this.filterColumnPairs=void 0;this.selectedFilter=void 0;return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgPromise.resolve();}var filterPromises=[];var filterColumnPairs=[];var colFilter=this.beans.colFilter;sourceColumns.forEach(column=>{var filterPromise=colFilter.getOrCreateFilterUi(column);if(filterPromise){filterPromises.push(filterPromise.then(filter=>{if(filter){filterColumnPairs.push({filter,column});}if(column.getColId()===selectedColumn.getColId()){this.selectedFilter=filter!==null&&filter!==void 0?filter:void 0;}}));}});return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgPromise.all(filterPromises).then(()=>{this.filterColumnPairs=filterColumnPairs;});}addUnderlyingFilterElement(selectedColumn){var _comp$getFilter$then,_comp$getFilter;(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._clearElement)(this.eUnderlyingFilter);if(!selectedColumn){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgPromise.resolve();}var comp=this.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FilterComp(selectedColumn,\"COLUMN_MENU\"));this.filterComp=comp;if(!comp.hasFilter()){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgPromise.resolve();}this.eUnderlyingFilter.appendChild(comp.getGui());return(_comp$getFilter$then=(_comp$getFilter=comp.getFilter())===null||_comp$getFilter===void 0?void 0:_comp$getFilter.then(()=>{var _comp$afterGuiAttache,_this$afterGuiAttache;(_comp$afterGuiAttache=comp.afterGuiAttached)===null||_comp$afterGuiAttache===void 0||_comp$afterGuiAttache.call(comp,this.afterGuiAttachedParams);if(!((_this$afterGuiAttache=this.afterGuiAttachedParams)!==null&&_this$afterGuiAttache!==void 0&&_this$afterGuiAttache.suppressFocus)&&this.eGroupFieldSelect&&!this.eGroupFieldSelect.isDisabled()){this.eGroupFieldSelect.getFocusableElement().focus();}}))!==null&&_comp$getFilter$then!==void 0?_comp$getFilter$then:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgPromise.resolve();}updateSelectedColumn(columnId){var _this$filterComp;if(!columnId){return;}(_this$filterComp=this.filterComp)===null||_this$filterComp===void 0||_this$filterComp.afterGuiDetached();this.destroyBean(this.filterComp);var selectedFilterColumnPair=this.getFilterColumnPair(columnId);var selectedColumn=selectedFilterColumnPair===null||selectedFilterColumnPair===void 0?void 0:selectedFilterColumnPair.column;this.selectedFilter=selectedFilterColumnPair===null||selectedFilterColumnPair===void 0?void 0:selectedFilterColumnPair.filter;this.getHandler().setSelectedColumn(selectedColumn);this.dispatchLocalEvent({type:\"columnsChanged\"});this.addUnderlyingFilterElement(selectedColumn);}isFilterActive(){return this.groupFilterSvc.isFilterActive(this.groupColumn);}doesFilterPass(){return true;}getModel(){return null;}setModel(){}afterGuiAttached(params){this.afterGuiAttachedParams=params;this.addUnderlyingFilterElement(this.getHandler().selectedColumn);}afterGuiDetached(){var _this$selectedFilter,_this$selectedFilter$;(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._clearElement)(this.eUnderlyingFilter);(_this$selectedFilter=this.selectedFilter)===null||_this$selectedFilter===void 0||(_this$selectedFilter$=_this$selectedFilter.afterGuiDetached)===null||_this$selectedFilter$===void 0||_this$selectedFilter$.call(_this$selectedFilter);}getSelectedColumn(){return this.getHandler().selectedColumn;}getHandler(){return this.params.getHandler();}getFilterColumnPair(columnId){var _this$filterColumnPai;if(!columnId){return void 0;}return(_this$filterColumnPai=this.filterColumnPairs)===null||_this$filterColumnPai===void 0?void 0:_this$filterColumnPai.find(_ref66=>{var{column}=_ref66;return column.getColId()===columnId;});}};// packages/ag-grid-enterprise/src/rowGrouping/groupFilter/groupFilterHandler.ts\nvar GroupFilterHandler=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BeanStub{init(params){this.params=params;this.validateModel(params);this.updateColumns();this.addManagedEventListeners({columnRowGroupChanged:this.updateColumns.bind(this),filterDestroyed:event=>this.onFilterDestroyed(event)});}refresh(params){this.params=params;this.validateModel(params);if(params.source===\"colDef\"){this.updateColumns();}}doesFilterPass(){return true;}setSelectedColumn(selectedColumn){this.selectedColumn=selectedColumn;this.dispatchLocalEvent({type:\"selectedColumnChanged\"});}validateModel(params){if(params.model!=null){params.onModelChange(null);}}getSourceColumns(){var groupColumn=this.params.column;if(this.gos.get(\"treeData\")){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(237);return[];}var sourceColumns=this.beans.groupFilter.getSourceColumns(groupColumn);if(!sourceColumns){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(183);return[];}return sourceColumns;}updateColumns(){var allSourceColumns=this.getSourceColumns();var sourceColumns=allSourceColumns.filter(sourceColumn=>sourceColumn.isFilterAllowed());this.sourceColumns=sourceColumns;var selectedColumn;var hasMultipleColumns;if(!sourceColumns.length){selectedColumn=void 0;hasMultipleColumns=false;}else{if(allSourceColumns.length===1){selectedColumn=sourceColumns[0];hasMultipleColumns=false;}else{selectedColumn=this.selectedColumn;if(!selectedColumn||!sourceColumns.some(column=>column.getId()===selectedColumn.getId())){selectedColumn=sourceColumns[0];}hasMultipleColumns=true;}}this.selectedColumn=selectedColumn;this.hasMultipleColumns=hasMultipleColumns;this.dispatchLocalEvent({type:\"sourceColumnsChanged\"});}onFilterDestroyed(_ref67){var _this$sourceColumns;var{column:eventColumn,source}=_ref67;if(source===\"gridDestroyed\"){return;}var colId=eventColumn.getColId();if((_this$sourceColumns=this.sourceColumns)!==null&&_this$sourceColumns!==void 0&&_this$sourceColumns.some(column=>column.getColId()===colId)){setTimeout(()=>{if(this.isAlive()){this.updateColumns();}});}}};// packages/ag-grid-enterprise/src/rowGrouping/groupFilter/groupFilterService.ts\nvar GroupFilterService=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BeanStub{constructor(){super(...arguments);this.beanName=\"groupFilter\";}postConstruct(){this.addManagedEventListeners({columnRowGroupChanged:()=>this.updateFilterFlags(\"columnRowGroupChanged\")});}isGroupFilter(column){return column.getColDef().filter===\"agGroupColumnFilter\";}isFilterAllowed(column){var _this$getSourceColumn;var colFilter=this.beans.colFilter;return!!((_this$getSourceColumn=this.getSourceColumns(column))!==null&&_this$getSourceColumn!==void 0&&_this$getSourceColumn.some(column2=>colFilter===null||colFilter===void 0?void 0:colFilter.isFilterAllowed(column2)));}isFilterActive(column){var _this$getSourceColumn2;var colFilter=this.beans.colFilter;return!!((_this$getSourceColumn2=this.getSourceColumns(column))!==null&&_this$getSourceColumn2!==void 0&&_this$getSourceColumn2.some(column2=>colFilter===null||colFilter===void 0?void 0:colFilter.isFilterActive(column2)));}getSourceColumns(column){var _this$beans$showRowGr4;return(_this$beans$showRowGr4=this.beans.showRowGroupCols)===null||_this$beans$showRowGr4===void 0?void 0:_this$beans$showRowGr4.getSourceColumnsForGroupColumn(column);}updateFilterFlags(source,additionalEventAttributes){var _autoColSvc$getColumn;var{autoColSvc,colFilter}=this.beans;autoColSvc===null||autoColSvc===void 0||(_autoColSvc$getColumn=autoColSvc.getColumns())===null||_autoColSvc$getColumn===void 0||_autoColSvc$getColumn.forEach(groupColumn=>{if(this.isGroupFilter(groupColumn)){colFilter===null||colFilter===void 0||colFilter.setColFilterActive(groupColumn,this.isFilterActive(groupColumn),source,additionalEventAttributes);}});}};// packages/ag-grid-enterprise/src/rowGrouping/groupFilter/groupFloatingFilter.ts\nvar GroupFloatingFilterElement={tag:\"div\",ref:\"eFloatingFilter\",cls:\"ag-group-floating-filter ag-floating-filter-input\",role:\"presentation\"};var GroupFloatingFilterComp=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(){super(GroupFloatingFilterElement);this.eFloatingFilter=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.haveAddedColumnListeners=false;}init(params){this.params=params;var canShowUnderlyingFloatingFilter=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isGroupMultiAutoColumn)(this.gos);var onColChange=this.onColChange.bind(this);var setupFilterElement=resolve=>{if(canShowUnderlyingFloatingFilter){this.setupUnderlyingFloatingFilterElement().then(()=>resolve());}else{this.setupReadOnlyFloatingFilterElement();resolve();}};if(this.gos.get(\"enableFilterHandlers\")){return new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgPromise(resolve=>setupFilterElement(resolve)).then(()=>{this.addHandlerListeners(params,onColChange);});}else{return new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgPromise(resolve=>{this.params.parentFilterInstance(parentFilterInstance=>{this.parentFilterInstance=parentFilterInstance;setupFilterElement(resolve);});}).then(()=>{this.addManagedListeners(this.parentFilterInstance,{columnsChanged:onColChange});});}}refresh(params){this.params=params;this.setParams();if(this.gos.get(\"enableFilterHandlers\")){if(this.showingUnderlyingFloatingFilter){var _this$underlyingFloat,_this$underlyingFloat2;var column=this.getSelectedColumn();var compDetails=this.beans.colFilter.getFloatingFilterCompDetails(column,this.params.showParentFilter);(_this$underlyingFloat=this.underlyingFloatingFilter)===null||_this$underlyingFloat===void 0||(_this$underlyingFloat2=_this$underlyingFloat.refresh)===null||_this$underlyingFloat2===void 0||_this$underlyingFloat2.call(_this$underlyingFloat,compDetails===null||compDetails===void 0?void 0:compDetails.params);}else{this.updateDisplayedValue();}}}setParams(){var _this$eFloatingFilter;var displayName=this.beans.colNames.getDisplayNameForColumn(this.params.column,\"header\",true);var translate=this.getLocaleTextFunc();(_this$eFloatingFilter=this.eFloatingFilterText)===null||_this$eFloatingFilter===void 0||_this$eFloatingFilter.setInputAriaLabel(\"\".concat(displayName,\" \").concat(translate(\"ariaFilterInput\",\"Filter Input\")));}addHandlerListeners(params,listener){var destroyFunctions=this.addManagedListeners(params.getHandler(),{selectedColumnChanged:listener,sourceColumnsChanged:listener,destroyed:()=>{destroyFunctions.forEach(func=>func());this.addHandlerListeners(this.params,listener);}});}setupReadOnlyFloatingFilterElement(){if(!this.eFloatingFilterText){this.eFloatingFilterText=this.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgInputTextField());this.eFloatingFilterText.setDisabled(true).addGuiEventListener(\"click\",()=>this.params.showParentFilter());this.setParams();}this.updateDisplayedValue();this.eFloatingFilter.appendChild(this.eFloatingFilterText.getGui());}setupUnderlyingFloatingFilterElement(){this.showingUnderlyingFloatingFilter=false;this.underlyingFloatingFilter=void 0;(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._clearElement)(this.eFloatingFilter);var column=this.getSelectedColumn();if(column&&!column.isVisible()){var colFilter=this.beans.colFilter;var compDetails=colFilter.getFloatingFilterCompDetails(column,this.params.showParentFilter);if(compDetails){if(!this.haveAddedColumnListeners){this.haveAddedColumnListeners=true;this.addManagedListeners(column,{visibleChanged:this.onColumnVisibleChanged.bind(this),colDefChanged:this.onColDefChanged.bind(this)});}return compDetails.newAgStackInstance().then(floatingFilter=>{var _this$underlyingFloat3;this.underlyingFloatingFilter=floatingFilter;(_this$underlyingFloat3=this.underlyingFloatingFilter)===null||_this$underlyingFloat3===void 0||_this$underlyingFloat3.onParentModelChanged(colFilter.getModelForColumn(column));this.appendChild(floatingFilter.getGui());this.showingUnderlyingFloatingFilter=true;});}}this.setupReadOnlyFloatingFilterElement();return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgPromise.resolve();}getSelectedColumn(){if(this.gos.get(\"enableFilterHandlers\")){var reactiveParams=this.params;return reactiveParams.getHandler().selectedColumn;}else{return this.parentFilterInstance.getSelectedColumn();}}onColumnVisibleChanged(){this.setupUnderlyingFloatingFilterElement();}onColDefChanged(event){if(!event.column){return;}var compDetails=this.beans.colFilter.getFloatingFilterCompDetails(event.column,this.params.showParentFilter);if(compDetails){var _this$underlyingFloat4,_this$underlyingFloat5;(_this$underlyingFloat4=this.underlyingFloatingFilter)===null||_this$underlyingFloat4===void 0||(_this$underlyingFloat5=_this$underlyingFloat4.refresh)===null||_this$underlyingFloat5===void 0||_this$underlyingFloat5.call(_this$underlyingFloat4,compDetails.params);}}onParentModelChanged(_model,event){if(this.showingUnderlyingFloatingFilter){var _this$underlyingFloat6;(_this$underlyingFloat6=this.underlyingFloatingFilter)===null||_this$underlyingFloat6===void 0||_this$underlyingFloat6.onParentModelChanged(this.beans.colFilter.getModelForColumn(this.getSelectedColumn()),event);}else{this.updateDisplayedValue();}}updateDisplayedValue(){var eFloatingFilterText=this.eFloatingFilterText;if(!eFloatingFilterText){return;}var colFilter=this.beans.colFilter;var column=this.getSelectedColumn();var updateText=filterOrHandler=>{if(!filterOrHandler){eFloatingFilterText.setValue(\"\");eFloatingFilterText.setDisplayed(false);}else{var _filterOrHandler$getM,_filterOrHandler$getM2;var model=column?colFilter.getModelForColumn(column):null;eFloatingFilterText.setValue(model==null?\"\":(_filterOrHandler$getM=(_filterOrHandler$getM2=filterOrHandler.getModelAsString)===null||_filterOrHandler$getM2===void 0?void 0:_filterOrHandler$getM2.call(filterOrHandler,model))!==null&&_filterOrHandler$getM!==void 0?_filterOrHandler$getM:\"\");eFloatingFilterText.setDisplayed(true);}};if(this.gos.get(\"enableFilterHandlers\")){updateText(colFilter.getHandler(column));}else{var _colFilter$getOrCreat;(_colFilter$getOrCreat=colFilter.getOrCreateFilterUi(column))===null||_colFilter$getOrCreat===void 0||_colFilter$getOrCreat.then(filter=>{updateText(filter);});}}onColChange(){if(!this.showingUnderlyingFloatingFilter){this.updateDisplayedValue();}}};// packages/ag-grid-enterprise/src/rowGrouping/groupStrategy/groupStrategy.ts\n// packages/ag-grid-enterprise/src/rowGrouping/groupStrategy/batchRemover.ts\nvar BatchRemover=class{constructor(){this.allSets=/* @__PURE__ */new Map();}removeFromChildrenAfterGroup(parent,child){var _set2$fromChildrenAft;var set2=this.getSet(parent);((_set2$fromChildrenAft=set2.fromChildrenAfterGroup)!==null&&_set2$fromChildrenAft!==void 0?_set2$fromChildrenAft:set2.fromChildrenAfterGroup=/* @__PURE__ */new Set()).add(child);}isRemoveFromAllLeafChildren(parent,child){var _this$allSets$get;return!!((_this$allSets$get=this.allSets.get(parent))!==null&&_this$allSets$get!==void 0&&(_this$allSets$get=_this$allSets$get.fromAllLeafChildren)!==null&&_this$allSets$get!==void 0&&_this$allSets$get.has(child));}preventRemoveFromAllLeafChildren(parent,child){var _this$allSets$get2;(_this$allSets$get2=this.allSets.get(parent))===null||_this$allSets$get2===void 0||(_this$allSets$get2=_this$allSets$get2.fromAllLeafChildren)===null||_this$allSets$get2===void 0||_this$allSets$get2.delete(child);}removeFromAllLeafChildren(parent,child){var _set2$fromAllLeafChil;var set2=this.getSet(parent);((_set2$fromAllLeafChil=set2.fromAllLeafChildren)!==null&&_set2$fromAllLeafChil!==void 0?_set2$fromAllLeafChil:set2.fromAllLeafChildren=/* @__PURE__ */new Set()).add(child);}getSet(parent){var set2=this.allSets.get(parent);if(!set2){set2={fromChildrenAfterGroup:null,fromAllLeafChildren:null};this.allSets.set(parent,set2);}return set2;}getAllParents(){return Array.from(this.allSets.keys());}flush(){var allSets=this.allSets;for(var parent of allSets.keys()){var nodeDetails=allSets.get(parent);if(nodeDetails){var{fromChildrenAfterGroup,fromAllLeafChildren}=nodeDetails;var{childrenAfterGroup,allLeafChildren}=parent;if(childrenAfterGroup&&fromChildrenAfterGroup){filterRowNodesInPlace(childrenAfterGroup,fromChildrenAfterGroup);parent.updateHasChildren();}if(allLeafChildren&&fromAllLeafChildren){filterRowNodesInPlace(allLeafChildren,fromAllLeafChildren);}}}allSets.clear();}};function filterRowNodesInPlace(array,removals){var writeIdx=0;for(var i=0,len=array.length;i<len;++i){var item=array[i];if(!removals.has(item)){array[writeIdx++]=item;}}array.length=writeIdx;}// packages/ag-grid-enterprise/src/rowGrouping/groupStrategy/sortGroupChildren.ts\nfunction sortGroupChildren(rowNodes){if(!rowNodes){return false;}var length=rowNodes.length;if(length<2){return false;}var atLeastOneOutOfOrder=false;for(var i=1;i<length;i++){if(compareGroupChildren(rowNodes[i-1],rowNodes[i])>0){atLeastOneOutOfOrder=true;break;}}if(!atLeastOneOutOfOrder){return false;}rowNodes.sort(compareGroupChildren);return true;}function compareGroupChildren(nodeA,nodeB){var positionA=nodeA.sourceRowIndex;var positionB=nodeB.sourceRowIndex;var aHasIndex=positionA>=0;var bHasIndex=positionB>=0;var bothNodesAreUserNodes=aHasIndex&&bHasIndex;var bothNodesAreFillerNodes=!aHasIndex&&!bHasIndex;if(bothNodesAreUserNodes){return positionA-positionB;}if(bothNodesAreFillerNodes){return nodeA.__objectId-nodeB.__objectId;}if(aHasIndex){return 1;}return-1;}// packages/ag-grid-enterprise/src/rowGrouping/groupStrategy/groupStrategy.ts\nvar GroupStrategy=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BeanStub{wireBeans(beans){this.colModel=beans.colModel;this.rowGroupColsSvc=beans.rowGroupColsSvc;this.valueSvc=beans.valueSvc;this.selectionSvc=beans.selectionSvc;this.showRowGroupCols=beans.showRowGroupCols;}getNode(id){var res=void 0;this.beans.rowModel.forEachNode(node=>{if(node.id===id){res=node;}});return res;}execute(params){var _this$selectionSvc;var details=this.createGroupingDetails(params);var changedRowNodes=params.changedRowNodes;if(changedRowNodes){this.handleDeltaUpdate(details,changedRowNodes);}else{this.shotgunResetEverything(details,!!params.afterColumnsChanged);}var changedPath=params.changedPath;this.positionLeafsAndGroups(changedPath);this.orderGroups(details);(_this$selectionSvc=this.selectionSvc)===null||_this$selectionSvc===void 0||_this$selectionSvc.updateSelectableAfterGrouping(changedPath);}positionLeafsAndGroups(changedPath){changedPath.forEachChangedNodeDepthFirst(group=>{if(group.childrenAfterGroup){var leafNodes=[];var groupNodes=[];var unbalancedNode;group.childrenAfterGroup.forEach(row=>{var _row$childrenAfterGro;if(!((_row$childrenAfterGro=row.childrenAfterGroup)!==null&&_row$childrenAfterGro!==void 0&&_row$childrenAfterGro.length)){leafNodes.push(row);}else{if(row.key===\"\"&&!unbalancedNode){unbalancedNode=row;}else{groupNodes.push(row);}}});if(unbalancedNode){groupNodes.push(unbalancedNode);}group.childrenAfterGroup=[...leafNodes,...groupNodes];}},false);}createGroupingDetails(params){var _this$rowGroupColsSvc,_groupedCols$length,_groupedCols$map;var{rowNode,changedPath,rowNodesOrderChanged}=params;var groupedCols=(_this$rowGroupColsSvc=this.rowGroupColsSvc)===null||_this$rowGroupColsSvc===void 0?void 0:_this$rowGroupColsSvc.columns;var details={expandByDefault:this.gos.get(\"groupDefaultExpanded\"),groupedCols,rootNode:rowNode,pivotMode:this.colModel.isPivotMode(),groupedColCount:(_groupedCols$length=groupedCols===null||groupedCols===void 0?void 0:groupedCols.length)!==null&&_groupedCols$length!==void 0?_groupedCols$length:0,rowNodesOrderChanged:!!rowNodesOrderChanged,// if no transaction and not immutable row data set, then it's shotgun, changed path would be 'not active' at this point anyway\nchangedPath,groupAllowUnbalanced:this.gos.get(\"groupAllowUnbalanced\"),isGroupOpenByDefault:this.gos.getCallback(\"isGroupOpenByDefault\"),initialGroupOrderComparator:this.gos.getCallback(\"initialGroupOrderComparator\"),keyCreators:(_groupedCols$map=groupedCols===null||groupedCols===void 0?void 0:groupedCols.map(column=>column.getColDef().keyCreator))!==null&&_groupedCols$map!==void 0?_groupedCols$map:[]};return details;}handleDeltaUpdate(details,_ref68){var{removals,updates,adds}=_ref68;var batchRemover=new BatchRemover();if(removals.size){this.removeNodes(removals,details,batchRemover);}for(var rowNode of updates){this.moveNodeInWrongPath(rowNode,details,batchRemover);}var changedPath=details.changedPath;for(var _rowNode of adds){this.insertOneNode(_rowNode,details);if(changedPath.active){changedPath.addParentNode(_rowNode.parent);}}var parentsWithChildrenRemoved=batchRemover.getAllParents();batchRemover.flush();this.removeEmptyGroups(parentsWithChildrenRemoved,details);if(details.rowNodesOrderChanged){this.sortChildren(details);}}// this is used when doing delta updates, eg Redux, keeps nodes in right order\nsortChildren(details){details.changedPath.forEachChangedNodeDepthFirst(node=>{var didSort=sortGroupChildren(node.childrenAfterGroup);if(didSort){details.changedPath.addParentNode(node);}},false,true);}orderGroups(details){var comparator=details.initialGroupOrderComparator;if((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._exists)(comparator)){recursiveSort(details.rootNode);}function recursiveSort(rowNode){var doSort=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._exists)(rowNode.childrenAfterGroup)&&// we only want to sort groups, so we do not sort leafs (a leaf group has leafs as children)\n!rowNode.leafGroup;if(doSort){rowNode.childrenAfterGroup.sort((nodeA,nodeB)=>comparator({nodeA,nodeB}));rowNode.childrenAfterGroup.forEach(childNode=>recursiveSort(childNode));}}}getExistingPathForNode(node,details){var res=[];var pointer=node.parent;while(pointer&&pointer!==details.rootNode){res.push({key:pointer.key,rowGroupColumn:pointer.rowGroupColumn,field:pointer.field});pointer=pointer.parent;}res.reverse();return res;}moveNodeInWrongPath(childNode,details,batchRemover){if(details.changedPath.active){details.changedPath.addParentNode(childNode.parent);}var infoToKeyMapper=item=>item.key;var oldPath=this.getExistingPathForNode(childNode,details).map(infoToKeyMapper);var newPath=this.getGroupInfo(childNode,details).map(infoToKeyMapper);var nodeInCorrectPath=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._areEqual)(oldPath,newPath);if(!nodeInCorrectPath){this.moveNode(childNode,details,batchRemover);}}moveNode(childNode,details,batchRemover){this.removeNodesFromParents([childNode],details,batchRemover);this.insertOneNode(childNode,details,batchRemover);childNode.setData(childNode.data);if(details.changedPath.active){var newParent=childNode.parent;details.changedPath.addParentNode(newParent);}}removeNodes(leafRowNodes,details,batchRemover){this.removeNodesFromParents(leafRowNodes,details,batchRemover);if(details.changedPath.active){for(var rowNode of leafRowNodes){details.changedPath.addParentNode(rowNode.parent);}}}forEachParentGroup(details,group,callback){var pointer=group;while(pointer&&pointer!==details.rootNode){callback(pointer);pointer=pointer.parent;}}removeNodesFromParents(nodesToRemove,details,provided){var _this11=this;var batchRemoverIsLocal=provided==null;var batchRemoverToUse=provided?provided:new BatchRemover();var _loop6=function _loop6(nodeToRemove){_this11.removeFromParent(nodeToRemove,batchRemoverToUse);_this11.forEachParentGroup(details,nodeToRemove.parent,parentNode=>{batchRemoverToUse.removeFromAllLeafChildren(parentNode,nodeToRemove);});};for(var nodeToRemove of nodesToRemove){_loop6(nodeToRemove);}if(batchRemoverIsLocal){batchRemoverToUse.flush();}}removeEmptyGroups(possibleEmptyGroups,details){var _this12=this;var checkAgain=true;var groupShouldBeRemoved=rowNode=>{var _rowNode$parent,_rowNode$childrenAfte,_rowNode$childrenAfte2;var mapKey=this.getChildrenMappedKey(rowNode.key,rowNode.rowGroupColumn);var parentChildrenMapped=(_rowNode$parent=rowNode.parent)===null||_rowNode$parent===void 0?void 0:_rowNode$parent.childrenMapped;var groupAlreadyRemoved=parentChildrenMapped?!parentChildrenMapped[mapKey]:true;if(groupAlreadyRemoved){return false;}return!!rowNode.group&&((_rowNode$childrenAfte=(_rowNode$childrenAfte2=rowNode.childrenAfterGroup)===null||_rowNode$childrenAfte2===void 0?void 0:_rowNode$childrenAfte2.length)!==null&&_rowNode$childrenAfte!==void 0?_rowNode$childrenAfte:0)===0;};var _loop7=function _loop7(){checkAgain=false;var batchRemover=new BatchRemover();possibleEmptyGroups.forEach(possibleEmptyGroup=>{_this12.forEachParentGroup(details,possibleEmptyGroup,rowNode=>{if(groupShouldBeRemoved(rowNode)){var _this12$selectionSvc;checkAgain=true;_this12.removeFromParent(rowNode,batchRemover);(_this12$selectionSvc=_this12.selectionSvc)===null||_this12$selectionSvc===void 0||_this12$selectionSvc.setNodesSelected({nodes:[rowNode],newValue:false,source:\"rowGroupChanged\"});}});});batchRemover.flush();};while(checkAgain){_loop7();}}// removes the node from the parent by:\n// a) removing from childrenAfterGroup (using batchRemover if present, otherwise immediately)\n// b) removing from childrenMapped (immediately)\n// c) setRowTop(null) - as the rowRenderer uses this to know the RowNode is no longer needed\n// d) setRowIndex(null) - as the rowNode will no longer be displayed.\nremoveFromParent(child,batchRemover){var _child$parent;if(child.parent){if(batchRemover){batchRemover.removeFromChildrenAfterGroup(child.parent,child);}else{(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._removeFromArray)(child.parent.childrenAfterGroup,child);child.parent.updateHasChildren();}}var mapKey=this.getChildrenMappedKey(child.key,child.rowGroupColumn);var childParentChildrenMapped=(_child$parent=child.parent)===null||_child$parent===void 0?void 0:_child$parent.childrenMapped;if(childParentChildrenMapped){delete childParentChildrenMapped[mapKey];}child.setRowTop(null);child.setRowIndex(null);}/**\n   * This is idempotent, but relies on the `key` field being the same throughout a RowNode's lifetime\n   */addToParent(child,parent){var _parent$childrenMappe;var childrenMapped=(_parent$childrenMappe=parent.childrenMapped)!==null&&_parent$childrenMappe!==void 0?_parent$childrenMappe:parent.childrenMapped={};var mapKey=this.getChildrenMappedKey(child.key,child.rowGroupColumn);if(childrenMapped[mapKey]!==child){var _parent$childrenAfter;childrenMapped[mapKey]=child;((_parent$childrenAfter=parent.childrenAfterGroup)!==null&&_parent$childrenAfter!==void 0?_parent$childrenAfter:parent.childrenAfterGroup=[]).push(child);setRowNodeGroup(parent,this.beans,true);}}areGroupColsEqual(d1,d2){if(d1==null||d2==null||d1.pivotMode!==d2.pivotMode){return false;}return (0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._areEqual)(d1.groupedCols,d2.groupedCols)&&(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._areEqual)(d1.keyCreators,d2.keyCreators);}checkAllGroupDataAfterColsChanged(details){var recurse=rowNodes=>{if(!rowNodes){return;}rowNodes.forEach(rowNode=>{var _rowNode$allLeafChild;var isLeafNode=!rowNode.group;if(isLeafNode){return;}var groupInfo={field:rowNode.field,key:rowNode.key,rowGroupColumn:rowNode.rowGroupColumn,leafNode:(_rowNode$allLeafChild=rowNode.allLeafChildren)===null||_rowNode$allLeafChild===void 0?void 0:_rowNode$allLeafChild[0]};this.setGroupData(rowNode,groupInfo);recurse(rowNode.childrenAfterGroup);});};recurse(details.rootNode.childrenAfterGroup);}shotgunResetEverything(details,afterColumnsChanged){var _this$selectionSvc2,_this$selectionSvc2$f;if(this.noChangeInGroupingColumns(details,afterColumnsChanged)){return;}(_this$selectionSvc2=this.selectionSvc)===null||_this$selectionSvc2===void 0||(_this$selectionSvc2$f=_this$selectionSvc2.filterFromSelection)===null||_this$selectionSvc2$f===void 0||_this$selectionSvc2$f.call(_this$selectionSvc2,node=>!node.group);var{groupedCols}=details;var rootNode=details.rootNode;rootNode.leafGroup=groupedCols.length===0;rootNode.childrenAfterGroup=[];rootNode.childrenMapped={};rootNode.updateHasChildren();var sibling=rootNode.sibling;if(sibling){sibling.childrenAfterGroup=rootNode.childrenAfterGroup;sibling.childrenMapped=rootNode.childrenMapped;}this.insertNodes(rootNode.allLeafChildren,details);}noChangeInGroupingColumns(details,afterColumnsChanged){var noFurtherProcessingNeeded=false;var groupDisplayColumns=this.showRowGroupCols.getShowRowGroupCols();var newGroupDisplayColIds=groupDisplayColumns?groupDisplayColumns.map(c=>c.getId()).join(\"-\"):\"\";if(afterColumnsChanged){noFurtherProcessingNeeded=this.areGroupColsEqual(details,this.oldGroupingDetails);if(this.oldGroupDisplayColIds!==newGroupDisplayColIds){this.checkAllGroupDataAfterColsChanged(details);}}this.oldGroupingDetails=details;this.oldGroupDisplayColIds=newGroupDisplayColIds;return noFurtherProcessingNeeded;}insertNodes(newRowNodes,details){newRowNodes.forEach(rowNode=>{this.insertOneNode(rowNode,details);if(details.changedPath.active){details.changedPath.addParentNode(rowNode.parent);}});}insertOneNode(childNode,details,batchRemover){var path=this.getGroupInfo(childNode,details);var parentGroup=this.findParentForNode(childNode,path,details,batchRemover);if(!parentGroup.group){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(184,{parentGroupData:parentGroup.data,childNodeData:childNode.data});}childNode.parent=parentGroup;childNode.level=path.length;parentGroup.childrenAfterGroup.push(childNode);parentGroup.updateHasChildren();}findParentForNode(childNode,path,details,batchRemover){var nextNode=details.rootNode;path.forEach((groupInfo,level)=>{nextNode=this.getOrCreateNextNode(nextNode,groupInfo,level,details);if(!(batchRemover!==null&&batchRemover!==void 0&&batchRemover.isRemoveFromAllLeafChildren(nextNode,childNode))){nextNode.allLeafChildren.push(childNode);}else{batchRemover===null||batchRemover===void 0||batchRemover.preventRemoveFromAllLeafChildren(nextNode,childNode);}});return nextNode;}getOrCreateNextNode(parentGroup,groupInfo,level,details){var key=this.getChildrenMappedKey(groupInfo.key,groupInfo.rowGroupColumn);var parentChildrenMapped=parentGroup===null||parentGroup===void 0?void 0:parentGroup.childrenMapped;var nextNode=parentChildrenMapped===null||parentChildrenMapped===void 0?void 0:parentChildrenMapped[key];if(!nextNode){nextNode=this.createGroup(groupInfo,parentGroup,level,details);this.addToParent(nextNode,parentGroup);}return nextNode;}createGroup(groupInfo,parent,level,details){var groupNode=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RowNode(this.beans);groupNode.group=true;groupNode.field=groupInfo.field;groupNode.rowGroupColumn=groupInfo.rowGroupColumn;this.setGroupData(groupNode,groupInfo);groupNode.key=groupInfo.key;groupNode.id=this.createGroupId(groupNode,parent,level);groupNode.level=level;groupNode.leafGroup=level===details.groupedColCount-1;groupNode.allLeafChildren=[];groupNode.setAllChildrenCount(0);groupNode.rowGroupIndex=level;groupNode.childrenAfterGroup=[];groupNode.childrenMapped={};groupNode.updateHasChildren();groupNode.parent=parent;this.setExpandedInitialValue(details,groupNode);return groupNode;}createGroupId(node,parent,level){var createGroupId=(node2,parent2)=>{if(!node2.rowGroupColumn){return null;}var parentId=parent2?createGroupId(parent2,parent2.parent,0):null;return\"\".concat(parentId==null?\"\":parentId+\"-\").concat(node2.rowGroupColumn.getColId(),\"-\").concat(node2.key);};return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._ROW_ID_PREFIX_ROW_GROUP+createGroupId(node,parent,level);}setGroupData(groupNode,groupInfo){var rowGroupCol=groupInfo.rowGroupColumn;if(rowGroupCol&&groupInfo.leafNode){groupNode.groupValue=this.valueSvc.getValue(rowGroupCol,groupInfo.leafNode);}groupNode.groupData={};var groupDisplayCols=this.showRowGroupCols.getShowRowGroupCols();groupDisplayCols.forEach(col=>{var groupColumn=groupNode.rowGroupColumn;var isRowGroupDisplayed=groupColumn!==null&&col.isRowGroupDisplayed(groupColumn.getId());if(isRowGroupDisplayed){groupNode.groupData[col.getColId()]=this.valueSvc.getValue(groupColumn,groupInfo.leafNode);}});}getChildrenMappedKey(key,rowGroupColumn){return rowGroupColumn?rowGroupColumn.getId()+\"-\"+key:key;}setExpandedInitialValue(details,groupNode){if(details.pivotMode&&groupNode.leafGroup){groupNode.expanded=false;return;}var userCallback=details.isGroupOpenByDefault;if(userCallback){var params={rowNode:groupNode,field:groupNode.field,key:groupNode.key,level:groupNode.level,rowGroupColumn:groupNode.rowGroupColumn};groupNode.expanded=userCallback(params)==true;return;}if(details.expandByDefault===-1){groupNode.expanded=true;return;}groupNode.expanded=groupNode.level<details.expandByDefault;}getGroupInfo(rowNode,details){var res=[];details.groupedCols.forEach(groupCol=>{var key=this.valueSvc.getKeyForNode(groupCol,rowNode);var keyExists=key!==null&&key!==void 0&&key!==\"\";var createGroupForEmpty=details.pivotMode||!details.groupAllowUnbalanced;if(createGroupForEmpty&&!keyExists){key=\"\";keyExists=true;}if(keyExists){var item={key,field:groupCol.getColDef().field,rowGroupColumn:groupCol,leafNode:rowNode};res.push(item);}});return res;}};// packages/ag-grid-enterprise/src/rowGrouping/rowGroupingApi.ts\nfunction setRowGroupColumns(beans,colKeys){var _beans$rowGroupColsSv;(_beans$rowGroupColsSv=beans.rowGroupColsSvc)===null||_beans$rowGroupColsSv===void 0||_beans$rowGroupColsSv.setColumns(colKeys,\"api\");}function removeRowGroupColumns(beans,colKeys){var _beans$rowGroupColsSv2;(_beans$rowGroupColsSv2=beans.rowGroupColsSvc)===null||_beans$rowGroupColsSv2===void 0||_beans$rowGroupColsSv2.removeColumns(colKeys,\"api\");}function addRowGroupColumns(beans,colKeys){var _beans$rowGroupColsSv3;(_beans$rowGroupColsSv3=beans.rowGroupColsSvc)===null||_beans$rowGroupColsSv3===void 0||_beans$rowGroupColsSv3.addColumns(colKeys,\"api\");}function moveRowGroupColumn(beans,fromIndex,toIndex){var _beans$rowGroupColsSv4,_beans$rowGroupColsSv5;(_beans$rowGroupColsSv4=beans.rowGroupColsSvc)===null||_beans$rowGroupColsSv4===void 0||(_beans$rowGroupColsSv5=_beans$rowGroupColsSv4.moveColumn)===null||_beans$rowGroupColsSv5===void 0||_beans$rowGroupColsSv5.call(_beans$rowGroupColsSv4,fromIndex,toIndex,\"api\");}function getRowGroupColumns(beans){var _beans$rowGroupColsSv6,_beans$rowGroupColsSv7;return(_beans$rowGroupColsSv6=(_beans$rowGroupColsSv7=beans.rowGroupColsSvc)===null||_beans$rowGroupColsSv7===void 0?void 0:_beans$rowGroupColsSv7.columns)!==null&&_beans$rowGroupColsSv6!==void 0?_beans$rowGroupColsSv6:[];}// packages/ag-grid-enterprise/src/rowGrouping/rowGroupingModule.ts\nvar SharedRowGroupingModule={moduleName:\"SharedRowGrouping\",version:VERSION,apiFunctions:{setRowGroupColumns,removeRowGroupColumns,addRowGroupColumns,getRowGroupColumns,moveRowGroupColumn},dependsOn:[EnterpriseCoreModule,SharedAggregationModule,GroupColumnModule,StickyRowModule]};var RowGroupingModule={moduleName:\"RowGrouping\",version:VERSION,dynamicBeans:{groupStrategy:GroupStrategy},rowModels:[\"clientSide\"],dependsOn:[SharedRowGroupingModule,AggregationModule,ClientSideRowModelHierarchyModule]};var RowGroupingPanelModule={moduleName:\"RowGroupingPanel\",version:VERSION,selectors:[AgGridHeaderDropZonesSelector],icons:{// identifies the pivot drop zone\npivotPanel:\"pivot\",// \"Row groups\" drop zone in column tool panel\nrowGroupPanel:\"group\",// separator between column 'pills' when you add multiple columns to the header drop zone\npanelDelimiter:\"small-right\",// version of panelDelimiter used in RTL mode\npanelDelimiterRtl:\"small-left\"},dependsOn:[EnterpriseCoreModule,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._PopupModule]};var GroupFilterModule={moduleName:\"GroupFilter\",version:VERSION,userComponents:{agGroupColumnFilter:GroupFilter,agGroupColumnFloatingFilter:GroupFloatingFilterComp},beans:[GroupFilterService],dynamicBeans:{agGroupColumnFilterHandler:GroupFilterHandler},dependsOn:[EnterpriseCoreModule,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._ColumnFilterModule]};// packages/ag-grid-enterprise/src/viewportRowModel/viewportRowModel.ts\nvar ViewportRowModel=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BeanStub{constructor(){super(...arguments);this.beanName=\"rowModel\";// rowRenderer tells us these\nthis.firstRow=-1;this.lastRow=-1;// datasource tells us this\nthis.rowCount=-1;this.rowNodesByIndex={};/**\n     * Used to see if setRowData has been called inside of the viewportChanged event context,\n     * if so the new rows are already being calculated, and the model does not need updated\n     * otherwise, a new model event needs to fire as rows have changed externally.\n     */this.viewportChangedContext=false;}// we don't implement as lazy row heights is not supported in this row model\nensureRowHeightsValid(_startPixel,_endPixel,_startLimitIndex,_endLimitIndex){return false;}postConstruct(){var beans=this.beans;this.rowHeight=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getRowHeightAsNumber)(beans);this.addManagedEventListeners({viewportChanged:this.onViewportChanged.bind(this)});this.addManagedPropertyListener(\"viewportDatasource\",()=>this.updateDatasource());this.addManagedPropertyListener(\"rowHeight\",()=>{this.rowHeight=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getRowHeightAsNumber)(beans);this.updateRowHeights();});}start(){this.updateDatasource();}isLastRowIndexKnown(){return true;}destroy(){this.destroyDatasource();super.destroy();}destroyDatasource(){var _datasource$destroy;var datasource=this.datasource;if(!datasource){return;}(_datasource$destroy=datasource.destroy)===null||_datasource$destroy===void 0||_datasource$destroy.call(datasource);this.beans.rowRenderer.datasourceChanged();this.firstRow=-1;this.lastRow=-1;}updateDatasource(){var datasource=this.gos.get(\"viewportDatasource\");if(datasource){this.setViewportDatasource(datasource);}}getPageSize(){return this.gos.get(\"viewportRowModelPageSize\");}getBufferSize(){return this.gos.get(\"viewportRowModelBufferSize\");}calculateFirstRow(firstRenderedRow){var bufferSize=this.getBufferSize();var pageSize=this.getPageSize();var afterBuffer=firstRenderedRow-bufferSize;if(afterBuffer<0){return 0;}return Math.floor(afterBuffer/pageSize)*pageSize;}calculateLastRow(lastRenderedRow){if(lastRenderedRow===-1){return lastRenderedRow;}var bufferSize=this.getBufferSize();var pageSize=this.getPageSize();var afterBuffer=lastRenderedRow+bufferSize;var result=Math.ceil(afterBuffer/pageSize)*pageSize;var lastRowIndex=this.rowCount-1;return Math.min(result,lastRowIndex);}onViewportChanged(event){var newFirst=this.calculateFirstRow(event.firstRow);var newLast=this.calculateLastRow(event.lastRow);if(this.firstRow!==newFirst||this.lastRow!==newLast){var _this$datasource;this.firstRow=newFirst;this.lastRow=newLast;this.purgeRowsNotInViewport();this.viewportChangedContext=true;(_this$datasource=this.datasource)===null||_this$datasource===void 0||_this$datasource.setViewportRange(this.firstRow,this.lastRow);this.viewportChangedContext=false;}}purgeRowsNotInViewport(){var rowNodesByIndex=this.rowNodesByIndex;Object.keys(rowNodesByIndex).forEach(indexStr=>{var index=parseInt(indexStr,10);if(index<this.firstRow||index>this.lastRow){var _this$beans$editSvc;if(this.isRowFocused(index)||(_this$beans$editSvc=this.beans.editSvc)!==null&&_this$beans$editSvc!==void 0&&_this$beans$editSvc.isRowEditing(rowNodesByIndex[index])){return;}delete rowNodesByIndex[index];}});}isRowFocused(rowIndex){var focusedCell=this.beans.focusSvc.getFocusCellToUseAfterRefresh();if(!focusedCell){return false;}if(focusedCell.rowPinned!=null){return false;}var hasFocus=focusedCell.rowIndex===rowIndex;return hasFocus;}setViewportDatasource(viewportDatasource){this.destroyDatasource();this.datasource=viewportDatasource;this.rowCount=-1;if(!viewportDatasource.init){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(226);}else{viewportDatasource.init({setRowCount:this.setRowCount.bind(this),setRowData:this.setRowData.bind(this),getRow:this.getRow.bind(this)});}}getType(){return\"viewport\";}getRow(rowIndex){if(!this.rowNodesByIndex[rowIndex]){this.rowNodesByIndex[rowIndex]=this.createBlankRowNode(rowIndex);}return this.rowNodesByIndex[rowIndex];}getRowNode(id){var result;this.forEachNode(rowNode=>{if(rowNode.id===id){result=rowNode;}});return result;}getRowCount(){return this.rowCount===-1?0:this.rowCount;}getRowIndexAtPixel(pixel){if(this.rowHeight!==0){return Math.floor(pixel/this.rowHeight);}return 0;}getRowBounds(index){var rowHeight=this.rowHeight;return{rowHeight,rowTop:rowHeight*index};}updateRowHeights(){var rowHeight=this.rowHeight;this.forEachNode(node=>{node.setRowHeight(rowHeight);node.setRowTop(rowHeight*node.rowIndex);});this.eventSvc.dispatchEvent({type:\"modelUpdated\",newData:false,newPage:false,keepRenderedRows:true,animate:false});}getTopLevelRowCount(){return this.getRowCount();}getTopLevelRowDisplayedIndex(topLevelIndex){return topLevelIndex;}isEmpty(){return this.rowCount>0;}isRowsToRender(){return this.rowCount>0;}getNodesInRangeForSelection(firstInRange,lastInRange){var firstIndex=firstInRange.rowIndex;var lastIndex=lastInRange.rowIndex;var firstNodeOutOfRange=firstIndex<this.firstRow||firstIndex>this.lastRow;var lastNodeOutOfRange=lastIndex<this.firstRow||lastIndex>this.lastRow;if(firstNodeOutOfRange||lastNodeOutOfRange){return[];}var result=[];var startIndex=firstIndex<=lastIndex?firstIndex:lastIndex;var endIndex=firstIndex<=lastIndex?lastIndex:firstIndex;for(var i=startIndex;i<=endIndex;i++){result.push(this.rowNodesByIndex[i]);}return result;}forEachNode(callback){var callbackCount=0;Object.keys(this.rowNodesByIndex).forEach(indexStr=>{var index=parseInt(indexStr,10);var rowNode=this.rowNodesByIndex[index];callback(rowNode,callbackCount);callbackCount++;});}setRowData(rowData){var getRowIdFunc=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getRowIdCallback)(this.beans.gos);var existingNodesById=/* @__PURE__ */new Map();if(getRowIdFunc){for(var row of Object.values(this.rowNodesByIndex)){existingNodesById.set(row.id,row);}}for(var i=this.firstRow;i<=this.lastRow;i++){var data=rowData[i];if(!data){continue;}var rowId=void 0;var _row=void 0;if(getRowIdFunc){rowId=getRowIdFunc({data,rowPinned:void 0,level:0,parentKeys:void 0});_row=existingNodesById.get(rowId);}else{_row=this.rowNodesByIndex[i];}if(_row){_row.updateData(data);_row.setRowIndex(i);_row.setRowTop(this.rowHeight*i);}else{_row=this.createBlankRowNode(i);_row.setDataAndId(data,rowId!==null&&rowId!==void 0?rowId:i.toString());}this.rowNodesByIndex[i]=_row;}if(!this.viewportChangedContext){this.eventSvc.dispatchEvent({type:\"modelUpdated\",newData:false,newPage:false,keepRenderedRows:true,animate:false});}}createBlankRowNode(rowIndex){var rowNode=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RowNode(this.beans);var rowHeight=this.rowHeight;rowNode.setRowHeight(rowHeight);rowNode.setRowTop(rowHeight*rowIndex);rowNode.setRowIndex(rowIndex);return rowNode;}setRowCount(rowCount){var keepRenderedRows=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(rowCount===this.rowCount){return;}this.rowCount=rowCount;var eventSvc=this.eventSvc;eventSvc.dispatchEventOnce({type:\"rowCountReady\"});eventSvc.dispatchEvent({type:\"modelUpdated\",newData:false,newPage:false,keepRenderedRows,animate:false});}isRowPresent(rowNode){var foundRowNode=this.getRowNode(rowNode.id);return!!foundRowNode;}};// packages/ag-grid-enterprise/src/viewportRowModel/viewportRowModelModule.ts\nvar ViewportRowModelModule={moduleName:\"ViewportRowModel\",version:VERSION,rowModels:[\"viewport\"],beans:[ViewportRowModel],dependsOn:[EnterpriseCoreModule]};// packages/ag-grid-enterprise/src/clipboard/clipboardModule.ts\n// packages/ag-grid-enterprise/src/clipboard/clipboardApi.ts\nfunction copyToClipboard(beans,params){var _beans$clipboardSvc;(_beans$clipboardSvc=beans.clipboardSvc)===null||_beans$clipboardSvc===void 0||_beans$clipboardSvc.copyToClipboard(params);}function cutToClipboard(beans,params){var _beans$clipboardSvc2;(_beans$clipboardSvc2=beans.clipboardSvc)===null||_beans$clipboardSvc2===void 0||_beans$clipboardSvc2.cutToClipboard(params);}function copySelectedRowsToClipboard(beans,params){var _beans$clipboardSvc3;(_beans$clipboardSvc3=beans.clipboardSvc)===null||_beans$clipboardSvc3===void 0||_beans$clipboardSvc3.copySelectedRowsToClipboard(params);}function copySelectedRangeToClipboard(beans,params){var _beans$clipboardSvc4;(_beans$clipboardSvc4=beans.clipboardSvc)===null||_beans$clipboardSvc4===void 0||_beans$clipboardSvc4.copySelectedRangeToClipboard(params);}function copySelectedRangeDown(beans){var _beans$clipboardSvc5;(_beans$clipboardSvc5=beans.clipboardSvc)===null||_beans$clipboardSvc5===void 0||_beans$clipboardSvc5.copyRangeDown();}function pasteFromClipboard(beans){var _beans$clipboardSvc6;(_beans$clipboardSvc6=beans.clipboardSvc)===null||_beans$clipboardSvc6===void 0||_beans$clipboardSvc6.pasteFromClipboard();}// packages/ag-grid-enterprise/src/clipboard/clipboardService.ts\nvar SOURCE_PASTE=\"paste\";var EXPORT_TYPE_DRAG_COPY=\"dragCopy\";var EXPORT_TYPE_CLIPBOARD=\"clipboard\";function stringToArray(strData){var delimiter=arguments.length>1&&arguments[1]!==undefined?arguments[1]:\",\";var data=[];var isNewline=char=>char===\"\\r\"||char===\"\\n\";var insideQuotedField=false;if(strData===\"\"){return[[\"\"]];}var _loop8=function _loop8(_row2,_column2,_position){var previousChar=strData[_position-1];var currentChar=strData[_position];var nextChar=strData[_position+1];var ensureDataExists=()=>{if(!data[_row2]){data[_row2]=[];}if(!data[_row2][_column2]){data[_row2][_column2]=\"\";}};ensureDataExists();if(currentChar==='\"'){if(insideQuotedField){if(nextChar==='\"'){data[_row2][_column2]+='\"';_position++;}else{insideQuotedField=false;}}else if(previousChar===void 0||previousChar===delimiter||isNewline(previousChar)){insideQuotedField=true;}}if(!insideQuotedField&&currentChar!=='\"'){if(currentChar===delimiter){_column2++;ensureDataExists();row=_row2,column=_column2,position=_position;return 0;// continue\n}else if(isNewline(currentChar)){_column2=0;_row2++;ensureDataExists();if(currentChar===\"\\r\"&&nextChar===\"\\n\"){_position++;}row=_row2,column=_column2,position=_position;return 0;// continue\n}}data[_row2][_column2]+=currentChar;row=_row2,column=_column2,position=_position;},_ret3;for(var row=0,column=0,position=0;position<strData.length;position++){_ret3=_loop8(row,column,position);if(_ret3===0)continue;}return data;}var ClipboardService=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BeanStub{constructor(){super(...arguments);this.beanName=\"clipboardSvc\";this.clientSideRowModel=null;this.gridCtrl=null;this.lastPasteOperationTime=0;this.navigatorApiFailed=false;}postConstruct(){var{gos,rowModel,ctrlsSvc}=this.beans;if((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isClientSideRowModel)(gos,rowModel)){this.clientSideRowModel=rowModel;}ctrlsSvc.whenReady(this,p=>{this.gridCtrl=p.gridCtrl;});}destroy(){super.destroy();this.clientSideRowModel=null;this.gridCtrl=null;}pasteFromClipboard(){var allowNavigator=!this.gos.get(\"suppressClipboardApi\");if(allowNavigator&&!this.navigatorApiFailed&&navigator.clipboard&&navigator.clipboard.readText){navigator.clipboard.readText().then(this.processClipboardData.bind(this)).catch(e=>{(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(40,{e,method:\"readText\"});this.navigatorApiFailed=true;this.pasteFromClipboardLegacy();});}else{this.pasteFromClipboardLegacy();}}pasteFromClipboardLegacy(){var defaultPrevented=false;var handlePasteEvent=e=>{var currentPastOperationTime=Date.now();if(currentPastOperationTime-this.lastPasteOperationTime<50){defaultPrevented=true;e.preventDefault();}this.lastPasteOperationTime=currentPastOperationTime;};this.executeOnTempElement(textArea=>{textArea.addEventListener(\"paste\",handlePasteEvent);textArea.focus({preventScroll:true});},element=>{var data=element.value;if(!defaultPrevented){this.processClipboardData(data);}else{this.refocusLastFocusedCell();}element.removeEventListener(\"paste\",handlePasteEvent);});}refocusLastFocusedCell(){var{focusSvc}=this.beans;var focusedCell=focusSvc.getFocusedCell();if(focusedCell){focusSvc.setFocusedCell({rowIndex:focusedCell.rowIndex,column:focusedCell.column,rowPinned:focusedCell.rowPinned,forceBrowserFocus:true});}}getClipboardDelimiter(){var delimiter=this.gos.get(\"clipboardDelimiter\");return (0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._exists)(delimiter)?delimiter:\"\t\";}processClipboardData(data){if(data==null){return;}var parsedData=stringToArray(data,this.getClipboardDelimiter());var userFunc=this.gos.getCallback(\"processDataFromClipboard\");if(userFunc){parsedData=userFunc({data:parsedData});}if(parsedData==null){return;}if(this.gos.get(\"suppressLastEmptyLineOnPaste\")){this.removeLastLineIfBlank(parsedData);}var{rangeSvc}=this.beans;var pasteOperation=(cellsToFlash,updatedRowNodes,focusedCell,changedPath)=>{var _this$beans$editSvc2;var rangeActive=rangeSvc===null||rangeSvc===void 0?void 0:rangeSvc.isMoreThanOneCell();var pasteIntoRange=rangeActive&&!this.hasOnlyOneValueToPaste(parsedData);if(pasteIntoRange){this.pasteIntoActiveRange(rangeSvc,parsedData,cellsToFlash,updatedRowNodes,changedPath);}else{this.pasteStartingFromFocusedCell(parsedData,cellsToFlash,updatedRowNodes,focusedCell,changedPath);}(_this$beans$editSvc2=this.beans.editSvc)===null||_this$beans$editSvc2===void 0||_this$beans$editSvc2.stopEditing(void 0,{source:SOURCE_PASTE});};this.doPasteOperation(pasteOperation);}// common code to paste operations, e.g. paste to cell, paste to range, and copy range down\ndoPasteOperation(pasteOperationFunc){var source=\"clipboard\";var{eventSvc,focusSvc,rowRenderer,gos}=this.beans;eventSvc.dispatchEvent({type:\"pasteStart\",source});var{clientSideRowModel}=this;var rootNode=clientSideRowModel===null||clientSideRowModel===void 0?void 0:clientSideRowModel.rootNode;var changedPath=rootNode&&new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.ChangedPath(gos.get(\"aggregateOnlyChangedColumns\"),rootNode);var cellsToFlash={};var updatedRowNodes=[];var focusedCell=focusSvc.getFocusedCell();pasteOperationFunc(cellsToFlash,updatedRowNodes,focusedCell,changedPath);var nodesToRefresh=[...updatedRowNodes];if(changedPath){clientSideRowModel.doAggregate(changedPath);changedPath.forEachChangedNodeDepthFirst(rowNode=>{nodesToRefresh.push(rowNode);});}rowRenderer.refreshCells({rowNodes:nodesToRefresh});this.dispatchFlashCells(cellsToFlash);this.fireRowChanged(updatedRowNodes);this.refocusLastFocusedCell();eventSvc.dispatchEvent({type:\"pasteEnd\",source});}pasteIntoActiveRange(rangeSvc,clipboardData,cellsToFlash,updatedRowNodes,changedPath){var abortRepeatingPasteIntoRows=this.getRangeSize(rangeSvc)%clipboardData.length!=0;var indexOffset=0;var dataRowIndex=0;var rowCallback=(currentRow,rowNode,columns,index)=>{var atEndOfClipboardData=index-indexOffset>=clipboardData.length;if(atEndOfClipboardData){if(abortRepeatingPasteIntoRows){return;}indexOffset+=dataRowIndex;dataRowIndex=0;}var currentRowData=clipboardData[index-indexOffset];updatedRowNodes.push(rowNode);var processCellFromClipboardFunc=this.gos.getCallback(\"processCellFromClipboard\");columns.forEach((column,idx)=>{if(!column.isCellEditable(rowNode)||column.isSuppressPaste(rowNode)){return;}if(idx>=currentRowData.length){idx=idx%currentRowData.length;}var newValue=this.processCell(rowNode,column,currentRowData[idx],EXPORT_TYPE_DRAG_COPY,processCellFromClipboardFunc,true);rowNode.setDataValue(column,newValue,SOURCE_PASTE);if(changedPath){changedPath.addParentNode(rowNode.parent,[column]);}var{rowIndex,rowPinned}=currentRow;var cellId=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createCellId)({rowIndex,column,rowPinned});cellsToFlash[cellId]=true;});dataRowIndex++;};this.iterateActiveRanges(false,rowCallback);}getDisplayedColumnsStartingAt(column){var currentColumn=column;var columns=[];var visibleCols=this.beans.visibleCols;while(currentColumn!=null){columns.push(currentColumn);currentColumn=visibleCols.getColAfter(currentColumn);}return columns;}pasteStartingFromFocusedCell(parsedData,cellsToFlash,updatedRowNodes,focusedCell,changedPath){if(!focusedCell){return;}var currentRow={rowIndex:focusedCell.rowIndex,rowPinned:focusedCell.rowPinned};var columnsToPasteInto=this.getDisplayedColumnsStartingAt(focusedCell.column);if(this.isPasteSingleValueIntoRange(parsedData)){this.pasteSingleValueIntoRange(parsedData,updatedRowNodes,cellsToFlash,changedPath);}else{this.pasteMultipleValues(parsedData,currentRow,updatedRowNodes,columnsToPasteInto,cellsToFlash,EXPORT_TYPE_CLIPBOARD,changedPath);}}// if range is active, and only one cell, then we paste this cell into all cells in the active range.\nisPasteSingleValueIntoRange(parsedData){var rangeSvc=this.beans.rangeSvc;return this.hasOnlyOneValueToPaste(parsedData)&&!!rangeSvc&&!rangeSvc.isEmpty();}pasteSingleValueIntoRange(parsedData,updatedRowNodes,cellsToFlash,changedPath){var value=parsedData[0][0];var rowCallback=(currentRow,rowNode,columns)=>{updatedRowNodes.push(rowNode);columns.forEach(column=>this.updateCellValue(rowNode,column,value,cellsToFlash,EXPORT_TYPE_CLIPBOARD,changedPath));};this.iterateActiveRanges(false,rowCallback);}hasOnlyOneValueToPaste(parsedData){return parsedData.length===1&&parsedData[0].length===1;}copyRangeDown(){var{rangeSvc,gos,valueSvc}=this.beans;if(!rangeSvc||rangeSvc.isEmpty()){return;}var firstRowValues=[];var pasteOperation=(cellsToFlash,updatedRowNodes,focusedCell,changedPath)=>{var processCellForClipboardFunc=gos.getCallback(\"processCellForClipboard\");var processCellFromClipboardFunc=gos.getCallback(\"processCellFromClipboard\");var rowCallback=(currentRow,rowNode,columns)=>{if(!firstRowValues.length){columns.forEach(column=>{var value=this.processCell(rowNode,column,valueSvc.getValue(column,rowNode),EXPORT_TYPE_DRAG_COPY,processCellForClipboardFunc,false,true);firstRowValues.push(value);});}else{updatedRowNodes.push(rowNode);columns.forEach((column,index)=>{if(!column.isCellEditable(rowNode)||column.isSuppressPaste(rowNode)){return;}var firstRowValue=this.processCell(rowNode,column,firstRowValues[index],EXPORT_TYPE_DRAG_COPY,processCellFromClipboardFunc,true);rowNode.setDataValue(column,firstRowValue,SOURCE_PASTE);if(changedPath){changedPath.addParentNode(rowNode.parent,[column]);}var{rowIndex,rowPinned}=currentRow;var cellId=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createCellId)({rowIndex,column,rowPinned});cellsToFlash[cellId]=true;});}};this.iterateActiveRanges(true,rowCallback);};this.doPasteOperation(pasteOperation);}removeLastLineIfBlank(parsedData){var lastLine=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._last)(parsedData);var lastLineIsBlank=lastLine&&lastLine.length===1&&lastLine[0]===\"\";if(lastLineIsBlank){if(parsedData.length===1){return;}(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._removeFromArray)(parsedData,lastLine);}}fireRowChanged(rowNodes){if(this.gos.get(\"editType\")!==\"fullRow\"){return;}rowNodes.forEach(rowNode=>{this.eventSvc.dispatchEvent({type:\"rowValueChanged\",node:rowNode,data:rowNode.data,rowIndex:rowNode.rowIndex,rowPinned:rowNode.rowPinned});});}pasteMultipleValues(clipboardGridData,currentRow,updatedRowNodes,columnsToPasteInto,cellsToFlash,type,changedPath){var rowPointer=currentRow;var beans=this.beans;var{gos}=beans;var skipGroupRows=this.clientSideRowModel!=null&&!gos.get(\"enableGroupEdit\")&&!gos.get(\"treeData\");var getNextGoodRowNode=()=>{while(true){if(!rowPointer){return null;}var res=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getRowNode)(beans,rowPointer);rowPointer=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getRowBelow)(beans,{rowPinned:rowPointer.rowPinned,rowIndex:rowPointer.rowIndex});if(res==null){return null;}var skipRow=res.detail||res.footer||skipGroupRows&&res.group;if(!skipRow){return res;}}};clipboardGridData.forEach(clipboardRowData=>{var rowNode=getNextGoodRowNode();if(!rowNode){return;}clipboardRowData.forEach((value,index)=>this.updateCellValue(rowNode,columnsToPasteInto[index],value,cellsToFlash,type,changedPath));updatedRowNodes.push(rowNode);});}updateCellValue(rowNode,column,value,cellsToFlash,type,changedPath){if(!rowNode||!column||!column.isCellEditable(rowNode)||column.isSuppressPaste(rowNode)){return;}var processedValue=this.processCell(rowNode,column,value,type,this.gos.getCallback(\"processCellFromClipboard\"),true);rowNode.setDataValue(column,processedValue,SOURCE_PASTE);var{rowIndex,rowPinned}=rowNode;var cellId=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createCellId)({rowIndex,column,rowPinned});cellsToFlash[cellId]=true;if(changedPath){changedPath.addParentNode(rowNode.parent,[column]);}}copyToClipboard(){var params=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};this.copyOrCutToClipboard(params);}cutToClipboard(){var params=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var source=arguments.length>1&&arguments[1]!==undefined?arguments[1]:\"api\";if(this.gos.get(\"suppressCutToClipboard\")){return;}this.eventSvc.dispatchEvent({type:\"cutStart\",source});this.copyOrCutToClipboard(params,true);this.eventSvc.dispatchEvent({type:\"cutEnd\",source});}copyOrCutToClipboard(params,cut){var{includeHeaders,includeGroupHeaders}=params;var{gos,focusSvc}=this.beans;if(includeHeaders==null){includeHeaders=gos.get(\"copyHeadersToClipboard\");}if(includeGroupHeaders==null){includeGroupHeaders=gos.get(\"copyGroupHeadersToClipboard\");}var copyParams={includeHeaders,includeGroupHeaders};var rowSelection=gos.get(\"rowSelection\");var cellSelection=gos.get(\"cellSelection\");var cellClearType=null;if(this.shouldCopyCells(cellSelection,rowSelection)){this.copySelectedRangeToClipboard(copyParams);cellClearType=0/* CellRange */;}else if(this.shouldCopyRows(rowSelection)){this.copySelectedRowsToClipboard(copyParams);cellClearType=1/* SelectedRows */;}else if(focusSvc.isAnyCellFocused()){this.copyFocusedCellToClipboard(copyParams);cellClearType=2/* FocusedCell */;}if(cut&&cellClearType!==null){this.clearCellsAfterCopy(cellClearType);}}shouldCopyCells(cellSelection,rowSelection){var{rangeSvc,selectionSvc,gos}=this.beans;if(!rangeSvc||rangeSvc.isEmpty()){return false;}if(cellSelection){var shouldCopyRowsInstead=typeof rowSelection===\"object\"&&rowSelection.copySelectedRows&&!(selectionSvc!==null&&selectionSvc!==void 0&&selectionSvc.isEmpty());return!shouldCopyRowsInstead;}else{var suppressCopySingleCellRanges=gos.get(\"suppressCopySingleCellRanges\");var shouldSkip=!rangeSvc.isMoreThanOneCell()&&suppressCopySingleCellRanges;return!shouldSkip;}}shouldCopyRows(rowSelection){var _selectionSvc$isEmpty;var{selectionSvc,gos}=this.beans;if((_selectionSvc$isEmpty=selectionSvc===null||selectionSvc===void 0?void 0:selectionSvc.isEmpty())!==null&&_selectionSvc$isEmpty!==void 0?_selectionSvc$isEmpty:true){return false;}if(rowSelection&&typeof rowSelection!==\"string\"){var _rowSelection$copySel;return(_rowSelection$copySel=rowSelection.copySelectedRows)!==null&&_rowSelection$copySel!==void 0?_rowSelection$copySel:false;}else{return!gos.get(\"suppressCopyRowsToClipboard\");}}clearCellsAfterCopy(type){var beans=this.beans;var{rangeSvc,focusSvc,eventSvc}=beans;eventSvc.dispatchEvent({type:\"keyShortcutChangedCellStart\"});if(type===0/* CellRange */){rangeSvc.clearCellRangeCellValues({cellEventSource:\"clipboardSvc\"});}else if(type===1/* SelectedRows */){this.clearSelectedRows();}else{var focusedCell=focusSvc.getFocusedCell();if(focusedCell==null){return;}var rowNode=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getRowNode)(beans,focusedCell);if(rowNode){this.clearCellValue(rowNode,focusedCell.column);}}eventSvc.dispatchEvent({type:\"keyShortcutChangedCellEnd\"});}clearSelectedRows(){var _selectionSvc$getSele2;var{selectionSvc,visibleCols}=this.beans;var selected=(_selectionSvc$getSele2=selectionSvc===null||selectionSvc===void 0?void 0:selectionSvc.getSelectedNodes())!==null&&_selectionSvc$getSele2!==void 0?_selectionSvc$getSele2:[];var columns=visibleCols.allCols;for(var row of selected){for(var col of columns){this.clearCellValue(row,col);}}}clearCellValue(rowNode,column){if(!column.isCellEditable(rowNode)){return;}var emptyValue=this.beans.valueSvc.getDeleteValue(column,rowNode);rowNode.setDataValue(column,emptyValue,\"clipboardSvc\");}iterateActiveRanges(onlyFirst,rowCallback,columnCallback){var rangeSvc=this.beans.rangeSvc;if(!rangeSvc||rangeSvc.isEmpty()){return;}var cellRanges=rangeSvc.getCellRanges();if(onlyFirst){this.iterateActiveRange(cellRanges[0],rowCallback,columnCallback,true);}else{cellRanges.forEach((range,idx)=>this.iterateActiveRange(range,rowCallback,columnCallback,idx===cellRanges.length-1));}}iterateActiveRange(range,rowCallback,columnCallback,isLastRange){var{beans}=this;var{rangeSvc}=beans;if(!rangeSvc){return;}var currentRow=rangeSvc.getRangeStartRow(range);var lastRow=rangeSvc.getRangeEndRow(range);if(columnCallback&&range.columns){columnCallback(range.columns);}var rangeIndex=0;var isLastRow=false;while(!isLastRow&&currentRow!=null){var rowNode=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getRowNode)(beans,currentRow);isLastRow=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isSameRow)(currentRow,lastRow);rowCallback(currentRow,rowNode,range.columns,rangeIndex++,isLastRow&&isLastRange);currentRow=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getRowBelow)(beans,currentRow);}}copySelectedRangeToClipboard(){var params=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var rangeSvc=this.beans.rangeSvc;if(!rangeSvc||rangeSvc.isEmpty()){return;}var allRangesMerge=rangeSvc.areAllRangesAbleToMerge();var{data,cellsToFlash}=allRangesMerge?this.buildDataFromMergedRanges(rangeSvc,params):this.buildDataFromRanges(rangeSvc,params);this.copyDataToClipboard(data);this.dispatchFlashCells(cellsToFlash);}buildDataFromMergedRanges(rangeSvc,params){var columnsSet=/* @__PURE__ */new Set();var ranges=rangeSvc.getCellRanges();var rowPositionsMap=/* @__PURE__ */new Map();var allRowPositions=[];var allCellsToFlash={};ranges.forEach(range=>{range.columns.forEach(col=>columnsSet.add(col));var{rowPositions,cellsToFlash}=this.getRangeRowPositionsAndCellsToFlash(rangeSvc,range);rowPositions.forEach(rowPosition=>{var rowPositionAsString=\"\".concat(rowPosition.rowIndex,\"-\").concat(rowPosition.rowPinned||\"null\");if(!rowPositionsMap.get(rowPositionAsString)){rowPositionsMap.set(rowPositionAsString,true);allRowPositions.push(rowPosition);}});Object.assign(allCellsToFlash,cellsToFlash);});var allColumns=this.beans.visibleCols.allCols;var exportedColumns=Array.from(columnsSet);exportedColumns.sort((a,b)=>{var posA=allColumns.indexOf(a);var posB=allColumns.indexOf(b);return posA-posB;});var data=this.buildExportParams({columns:exportedColumns,rowPositions:allRowPositions,includeHeaders:params.includeHeaders,includeGroupHeaders:params.includeGroupHeaders});return{data,cellsToFlash:allCellsToFlash};}buildDataFromRanges(rangeSvc,params){var ranges=rangeSvc.getCellRanges();var data=[];var allCellsToFlash={};ranges.forEach(range=>{var{rowPositions,cellsToFlash}=this.getRangeRowPositionsAndCellsToFlash(rangeSvc,range);Object.assign(allCellsToFlash,cellsToFlash);data.push(this.buildExportParams({columns:range.columns,rowPositions,includeHeaders:params.includeHeaders,includeGroupHeaders:params.includeGroupHeaders}));});return{data:data.join(\"\\n\"),cellsToFlash:allCellsToFlash};}getRangeRowPositionsAndCellsToFlash(rangeSvc,range){var rowPositions=[];var cellsToFlash={};var startRow=rangeSvc.getRangeStartRow(range);var lastRow=rangeSvc.getRangeEndRow(range);var node=startRow;while(node){rowPositions.push(node);range.columns.forEach(column=>{var{rowIndex,rowPinned}=node;var cellId=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createCellId)({rowIndex,column,rowPinned});cellsToFlash[cellId]=true;});if((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isSameRow)(node,lastRow)){break;}node=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getRowBelow)(this.beans,node);}return{rowPositions,cellsToFlash};}getCellsToFlashFromRowNodes(rowNodes){var allDisplayedColumns=this.beans.visibleCols.allCols;var cellsToFlash={};for(var i=0;i<rowNodes.length;i++){var{level,rowIndex:index,rowPinned,sibling}=rowNodes[i];var rowIndex=level===-1?sibling.rowIndex:index;if(rowIndex==null){continue;}for(var j=0;j<allDisplayedColumns.length;j++){var column=allDisplayedColumns[j];var cellId=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createCellId)({rowIndex,column,rowPinned});cellsToFlash[cellId]=true;}}return cellsToFlash;}copyFocusedCellToClipboard(){var _this$beans$rowSpanSv,_this$beans$rowSpanSv2;var params=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var focusedCell=this.beans.focusSvc.getFocusedCell();if(focusedCell==null){return;}focusedCell=(_this$beans$rowSpanSv=(_this$beans$rowSpanSv2=this.beans.rowSpanSvc)===null||_this$beans$rowSpanSv2===void 0?void 0:_this$beans$rowSpanSv2.getCellStart(focusedCell))!==null&&_this$beans$rowSpanSv!==void 0?_this$beans$rowSpanSv:focusedCell;var cellId=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createCellId)(focusedCell);var currentRow={rowPinned:focusedCell.rowPinned,rowIndex:focusedCell.rowIndex};var column=focusedCell.column;var data=this.buildExportParams({columns:[column],rowPositions:[currentRow],includeHeaders:params.includeHeaders,includeGroupHeaders:params.includeGroupHeaders});this.copyDataToClipboard(data);this.dispatchFlashCells({[cellId]:true});}copySelectedRowsToClipboard(){var _this$beans$selection;var params=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var{columnKeys,includeHeaders,includeGroupHeaders}=params;var data=this.buildExportParams({columns:columnKeys,includeHeaders,includeGroupHeaders});this.copyDataToClipboard(data);var rowNodes=((_this$beans$selection=this.beans.selectionSvc)===null||_this$beans$selection===void 0?void 0:_this$beans$selection.getSelectedNodes())||[];this.dispatchFlashCells(this.getCellsToFlashFromRowNodes(rowNodes));}buildExportParams(params){var{columns,rowPositions,includeHeaders=false,includeGroupHeaders=false}=params;var{gos,csvCreator}=this.beans;var processRowGroupCallback=_ref69=>{var _ref70;var{node,column}=_ref69;var{value,valueFormatted}=this.beans.valueSvc.getValueForDisplay(column,node,true);var val=(_ref70=valueFormatted!==null&&valueFormatted!==void 0?valueFormatted:value)!==null&&_ref70!==void 0?_ref70:\"\";var cb=gos.getCallback(\"processCellForClipboard\");if(!cb){return val;}return cb({column,node,value:val,type:EXPORT_TYPE_CLIPBOARD,formatValue:valueToFormat=>{var _this$beans$valueSvc$;return(_this$beans$valueSvc$=this.beans.valueSvc.formatValue(column,node,valueToFormat))!==null&&_this$beans$valueSvc$!==void 0?_this$beans$valueSvc$:valueToFormat;},parseValue:valueToParse=>{var _this$beans$valueSvc$2;return(_this$beans$valueSvc$2=this.beans.valueSvc.parseValue(column,node,valueToParse,value))!==null&&_this$beans$valueSvc$2!==void 0?_this$beans$valueSvc$2:valueToParse;}});};var exportParams={columnKeys:columns,rowPositions,skipColumnHeaders:!includeHeaders,skipColumnGroupHeaders:!includeGroupHeaders,suppressQuotes:true,columnSeparator:this.getClipboardDelimiter(),onlySelected:!rowPositions,processCellCallback:gos.getCallback(\"processCellForClipboard\"),processRowGroupCallback,processHeaderCallback:gos.getCallback(\"processHeaderForClipboard\"),processGroupHeaderCallback:gos.getCallback(\"processGroupHeaderForClipboard\")};return csvCreator.getDataAsCsv(exportParams,true);}// eslint-disable-next-line @typescript-eslint/ban-types\ndispatchFlashCells(cellsToFlash){window.setTimeout(()=>{this.eventSvc.dispatchEvent({type:\"flashCells\",cells:cellsToFlash});},0);}processCell(rowNode,column,value,type,func,canParse,canFormat){var valueSvc=this.beans.valueSvc;if(func){var params={column,node:rowNode,value,type,formatValue:valueToFormat=>{var _valueSvc$formatValue;return(_valueSvc$formatValue=valueSvc.formatValue(column,rowNode!==null&&rowNode!==void 0?rowNode:null,valueToFormat))!==null&&_valueSvc$formatValue!==void 0?_valueSvc$formatValue:valueToFormat;},parseValue:valueToParse=>valueSvc.parseValue(column,rowNode!==null&&rowNode!==void 0?rowNode:null,valueToParse,valueSvc.getValue(column,rowNode))};return func(params);}if(canParse&&column.getColDef().useValueParserForImport!==false){return valueSvc.parseValue(column,rowNode!==null&&rowNode!==void 0?rowNode:null,value,valueSvc.getValue(column,rowNode));}if(canFormat&&column.getColDef().useValueFormatterForExport!==false){var _valueSvc$formatValue2;return(_valueSvc$formatValue2=valueSvc.formatValue(column,rowNode!==null&&rowNode!==void 0?rowNode:null,value))!==null&&_valueSvc$formatValue2!==void 0?_valueSvc$formatValue2:value;}return value;}copyDataToClipboard(data){var userProvidedFunc=this.gos.getCallback(\"sendToClipboard\");if(userProvidedFunc){userProvidedFunc({data});return;}var allowNavigator=!this.gos.get(\"suppressClipboardApi\");if(allowNavigator&&navigator.clipboard){navigator.clipboard.writeText(data).catch(e=>{(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(40,{e,method:\"writeText\"});this.copyDataToClipboardLegacy(data);});return;}this.copyDataToClipboardLegacy(data);}copyDataToClipboardLegacy(data){this.executeOnTempElement(element=>{var eDocument=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getDocument)(this.beans);var focusedElementBefore=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getActiveDomElement)(this.beans);element.value=data||\" \";element.select();element.focus({preventScroll:true});var result=eDocument.execCommand(\"copy\");if(!result){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(41);}if(focusedElementBefore!=null&&focusedElementBefore.focus!=null){focusedElementBefore.focus({preventScroll:true});}});}executeOnTempElement(callbackNow,callbackAfter){if(!this.gridCtrl){return;}var eDoc=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getDocument)(this.beans);var eTempInput=eDoc.createElement(\"textarea\");var style=eTempInput.style;style.width=\"1px\";style.height=\"1px\";var documentElement=eDoc.documentElement;style.top=documentElement.scrollTop+\"px\";style.left=documentElement.scrollLeft+\"px\";style.position=\"absolute\";style.opacity=\"0\";var guiRoot=this.gridCtrl.getGui();guiRoot.appendChild(eTempInput);try{callbackNow(eTempInput);}catch(err){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(42);}if(callbackAfter){window.setTimeout(()=>{callbackAfter(eTempInput);guiRoot.removeChild(eTempInput);},100);}else{guiRoot.removeChild(eTempInput);}}getRangeSize(rangeSvc){var ranges=rangeSvc.getCellRanges();var startRangeIndex=0;var endRangeIndex=0;if(ranges.length>0){startRangeIndex=rangeSvc.getRangeStartRow(ranges[0]).rowIndex;endRangeIndex=rangeSvc.getRangeEndRow(ranges[0]).rowIndex;}return startRangeIndex-endRangeIndex+1;}};// packages/ag-grid-enterprise/src/clipboard/clipboardModule.ts\nvar ClipboardModule={moduleName:\"Clipboard\",version:VERSION,beans:[ClipboardService],apiFunctions:{copyToClipboard,cutToClipboard,copySelectedRowsToClipboard,copySelectedRangeToClipboard,copySelectedRangeDown,pasteFromClipboard},dependsOn:[EnterpriseCoreModule,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.CsvExportModule,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._KeyboardNavigationModule,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.HighlightChangesModule]};// packages/ag-grid-enterprise/src/rowNumbers/rowNumbersModule.ts\n// packages/ag-grid-enterprise/src/rowNumbers/rowNumbers.css-GENERATED.ts\nvar rowNumbersCSS=/*css*/\".ag-row-number-cell{background-color:var(--ag-header-background-color);border:none;color:var(--ag-header-text-color);font-family:var(--ag-header-font-family);font-size:var(--ag-header-font-size);font-weight:var(--ag-header-font-weight);overflow:hidden;-webkit-user-select:none;-moz-user-select:none;user-select:none;white-space:nowrap;width:100%}:where(.ag-ltr) .ag-row-number-cell{text-align:right}:where(.ag-rtl) .ag-row-number-cell{text-align:left}.ag-row-numbers-resizer{bottom:-2px;cursor:ns-resize;height:4px;position:absolute;width:100%}:where(.ag-ltr) .ag-row-numbers-resizer{left:0}:where(.ag-rtl) .ag-row-numbers-resizer{right:0}:where(.ag-row-number-header.ag-row-number-selection-enabled){cursor:cell}.ag-row-number-range-highlight{background-color:var(--ag-range-header-highlight-color)}.ag-row-number-range-selected{background-color:var(--ag-row-numbers-selected-color)}:where(.ag-ltr){.ag-row-number-header,:where(.ag-cell.ag-row-number-cell):not(.ag-cell-last-left-pinned){border-right:var(--ag-pinned-column-border)}:where(.ag-cell.ag-row-number-cell.ag-row-number-selection-enabled){cursor:url(\\\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbDpzcGFjZT0icHJlc2VydmUiIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgc3R5bGU9ImZpbGwtcnVsZTpldmVub2RkO2NsaXAtcnVsZTpldmVub2RkO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDoxLjUiPjxwYXRoIGQ9Ik0zLjQ0NSA4LjkxMVY3LjQwOUg5Ljc1VjYuMDE0bDIuNTM1IDIuMTQ2LTIuNTM1IDIuMTQ2VjguOTExeiIgc3R5bGU9InN0cm9rZTojZmZmO3N0cm9rZS13aWR0aDouNDFweCIgdHJhbnNmb3JtPSJtYXRyaXgoMS41Nzg0IDAgMCAxLjg2NDI5IC00LjQxMyAtNy4yMTIpIi8+PC9zdmc+\\\"),auto}}:where(.ag-rtl){.ag-row-number-header,:where(.ag-cell.ag-row-number-cell):not(.ag-cell-first-right-pinned){border-left:var(--ag-pinned-column-border)}:where(.ag-cell.ag-row-number-cell.ag-row-number-selection-enabled){cursor:url(\\\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbDpzcGFjZT0icHJlc2VydmUiIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgc3R5bGU9ImZpbGwtcnVsZTpldmVub2RkO2NsaXAtcnVsZTpldmVub2RkO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDoxLjUiPjxwYXRoIGQ9Ik01Ljk3OSA4LjkxMXYxLjM5NUwzLjQ0NSA4LjE2bDIuNTM0LTIuMTQ2djEuMzk1aDYuMzA2djEuNTAyeiIgc3R5bGU9InN0cm9rZTojZmZmO3N0cm9rZS13aWR0aDouNDFweCIgdHJhbnNmb3JtPSJtYXRyaXgoMS41Nzg0IDAgMCAxLjg2NDI5IC00LjQxMyAtNy4yMTIpIi8+PC9zdmc+\\\"),auto}}\";// packages/ag-grid-enterprise/src/rowNumbers/rowNumbersRowResizer.ts\nvar RowNumbersRowResizerElement={tag:\"div\",cls:\"ag-row-numbers-resizer\"};var AgRowNumbersRowResizer=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(cellCtrl){super(RowNumbersRowResizerElement);this.cellCtrl=cellCtrl;this.initialYPosition=-1;this.dragging=false;}postConstruct(){var{beans,cellCtrl}=this;var{dragSvc,environment}=beans;this.defaultRowHeight=environment.getDefaultRowHeight();dragSvc.addDragSource({dragStartPixels:0,eElement:this.getGui(),onDragStart:this.onDragStart.bind(this),onDragging:this.onDragging.bind(this),onDragStop:this.onDragStop.bind(this),onDragCancel:this.onDragCancel.bind(this)});var rowPosition=cellCtrl.getRowPosition();this.node=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getRowNode)(this.beans,rowPosition);}onDragStart(mouseEvent){if(!this.node){return;}this.dragging=true;this.initialHeight=this.node.rowHeight;this.beans.eventSvc.dispatchEvent({type:\"rowResizeStarted\",node:this.node,event:mouseEvent,rowHeight:this.initialHeight});}onDragging(mouseEvent){var{clientY}=mouseEvent;if(this.initialYPosition===-1||!this.dragging){this.initialYPosition=clientY;return;}var{beans,initialHeight,initialYPosition,defaultRowHeight,node}=this;if(initialHeight==null){return;}var currentSize=node===null||node===void 0?void 0:node.rowHeight;var newSize=Math.max(initialHeight-(initialYPosition-clientY),defaultRowHeight);if(currentSize===newSize){return;}node===null||node===void 0||node.setRowHeight(newSize);var{rowRenderer,rowModel,pinnedRowModel}=beans;var pinned=!!(node!==null&&node!==void 0&&node.rowPinned);if(pinned){rowRenderer.redraw({afterScroll:true});}if(!pinned||pinnedRowModel!==null&&pinnedRowModel!==void 0&&pinnedRowModel.isManual()){rowModel.onRowHeightChanged({animate:false});}}onDragStop(mouseEvent){var _this$node;this.beans.eventSvc.dispatchEvent({type:\"rowResizeEnded\",node:this.node,event:mouseEvent,rowHeight:(_this$node=this.node)===null||_this$node===void 0?void 0:_this$node.rowHeight});this.clearDragDetails();}onDragCancel(){this.clearDragDetails();}clearDragDetails(){this.initialYPosition=-1;this.initialHeight=null;this.dragging=false;}destroy(){this.clearDragDetails();this.node=void 0;super.destroy();}};// packages/ag-grid-enterprise/src/rowNumbers/rowNumbersService.ts\n// packages/ag-grid-enterprise/src/rowNumbers/rowNumbersRowResizeFeature.ts\nfunction _isRowNumbersResizerEnabled(gos){var rowNumbers=gos.get(\"rowNumbers\");if(!rowNumbers||typeof rowNumbers!==\"object\"||!rowNumbers.enableRowResizer){return false;}return true;}var RowNumbersRowResizeFeature=class{constructor(beans,cellCtrl){this.beans=beans;this.cellCtrl=cellCtrl;}refreshRowResizer(){if(!_isRowNumbersResizerEnabled(this.beans.gos)||!this.isRowResizeSupported(this.cellCtrl.rowNode)){this.removeRowResizerFromCellComp();}else{this.addResizerToCellComp();}}isRowResizeSupported(node){var{pinnedRowModel,rowModel,visibleCols}=this.beans;var rowModelModelHasOnRowHeightChanged=!!rowModel.onRowHeightChanged;if(visibleCols.autoHeightCols.length){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(276);return false;}if(node.rowPinned!=null){return pinnedRowModel!==null&&pinnedRowModel!==void 0&&pinnedRowModel.isManual()?rowModelModelHasOnRowHeightChanged:true;}return rowModelModelHasOnRowHeightChanged;}addResizerToCellComp(){var{beans,cellCtrl}=this;var{eGui}=cellCtrl;var{rowResizer}=this;if(!rowResizer){rowResizer=beans.registry.createDynamicBean(\"rowNumberRowResizer\",false,cellCtrl);if(!rowResizer){return;}this.rowResizer=beans.context.createBean(rowResizer);}eGui.appendChild(rowResizer.getGui());}removeRowResizerFromCellComp(){if(!this.rowResizer){return;}var{eGui}=this.cellCtrl;eGui.removeChild(this.rowResizer.getGui());this.rowResizer=this.beans.context.destroyBean(this.rowResizer);}destroy(){this.removeRowResizerFromCellComp();}};// packages/ag-grid-enterprise/src/rowNumbers/rowNumbersService.ts\nvar RowNumbersService=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BeanStub{constructor(){super(...arguments);this.beanName=\"rowNumbersSvc\";this.isIntegratedWithSelection=false;}postConstruct(){var refreshCells_debounced=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._debounce)(this,this.refreshCells.bind(this,false,true),10);this.addManagedEventListeners({modelUpdated:refreshCells_debounced,rangeSelectionChanged:()=>this.refreshCells(true),pinnedRowsChanged:refreshCells_debounced});this.addManagedPropertyListeners([\"rowNumbers\",\"cellSelection\"],e=>{this.refreshSelectionIntegration();this.updateColumns(e);});this.refreshSelectionIntegration();}addColumns(cols){if(this.columns==null){return;}cols.list=this.columns.list.concat(cols.list);cols.tree=this.columns.tree.concat(cols.tree);(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._updateColsMap)(cols);}createColumns(cols,updateOrders){var _this$columns$treeDep,_this$columns7,_this$columns$list2,_this$columns8,_colGroupSvc$findDept2,_colGroupSvc$balanceT2;if(!this.gos.get(\"rowNumbers\")){return;}var destroyCollection=()=>{var _this$columns6;(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._destroyColumnTree)(this.beans,(_this$columns6=this.columns)===null||_this$columns6===void 0?void 0:_this$columns6.tree);this.columns=null;};var newTreeDepth=cols.treeDepth;var oldTreeDepth=(_this$columns$treeDep=(_this$columns7=this.columns)===null||_this$columns7===void 0?void 0:_this$columns7.treeDepth)!==null&&_this$columns$treeDep!==void 0?_this$columns$treeDep:-1;var treeDepthSame=oldTreeDepth==newTreeDepth;var list=this.generateRowNumberCols();var areSame=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._areColIdsEqual)(list,(_this$columns$list2=(_this$columns8=this.columns)===null||_this$columns8===void 0?void 0:_this$columns8.list)!==null&&_this$columns$list2!==void 0?_this$columns$list2:[]);if(areSame&&treeDepthSame){return;}destroyCollection();var{colGroupSvc}=this.beans;var treeDepth=(_colGroupSvc$findDept2=colGroupSvc===null||colGroupSvc===void 0?void 0:colGroupSvc.findDepth(cols.tree))!==null&&_colGroupSvc$findDept2!==void 0?_colGroupSvc$findDept2:0;var tree=(_colGroupSvc$balanceT2=colGroupSvc===null||colGroupSvc===void 0?void 0:colGroupSvc.balanceTreeForAutoCols(list,treeDepth))!==null&&_colGroupSvc$balanceT2!==void 0?_colGroupSvc$balanceT2:[];this.columns={list,tree,treeDepth,map:{}};var putRowNumbersColsFirstInList=cols2=>{if(!cols2){return null;}var colsFiltered=cols2.filter(col=>!(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.isRowNumberCol)(col));return[...list,...colsFiltered];};updateOrders(putRowNumbersColsFirstInList);}handleMouseDownOnCell(cellPosition,mouseEvent){if(!this.isIntegratedWithSelection||mouseEvent.target.classList.contains(\"ag-row-numbers-resizer\")){return false;}if(!mouseEvent.shiftKey&&!(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._interpretAsRightClick)(this.beans,mouseEvent)){setTimeout(()=>{this.focusFirstRenderedCellAtRowPosition(cellPosition);});}return true;}updateColumns(event){var _this$columns9;var source=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._convertColumnEventSourceType)(event.source);this.refreshSelectionIntegration();(_this$columns9=this.columns)===null||_this$columns9===void 0||_this$columns9.list.forEach(col=>{var newColDef=this.createRowNumbersColDef();col.setColDef(newColDef,null,source);(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._applyColumnState)(this.beans,{state:[_objectSpread({colId:col.getColId()},newColDef)]},source);});}getColumn(){var _this$columns$list$fi2,_this$columns0;return(_this$columns$list$fi2=(_this$columns0=this.columns)===null||_this$columns0===void 0?void 0:_this$columns0.list.find(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.isRowNumberCol))!==null&&_this$columns$list$fi2!==void 0?_this$columns$list$fi2:null;}getColumns(){var _this$columns$list3,_this$columns1;return(_this$columns$list3=(_this$columns1=this.columns)===null||_this$columns1===void 0?void 0:_this$columns1.list)!==null&&_this$columns$list3!==void 0?_this$columns$list3:null;}setupForHeader(comp){var{column,eGridHeader}=comp.params;if(!(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.isRowNumberCol)(column)){return;}(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setAriaLabel)(eGridHeader,\"Row Number\");this.addManagedElementListeners(eGridHeader,{click:this.onHeaderClick.bind(this),keydown:this.onHeaderKeyDown.bind(this),focus:this.onHeaderFocus.bind(this)});}createRowNumbersRowResizerFeature(beans,ctrl){if(!_isRowNumbersResizerEnabled(this.gos)){return void 0;}return new RowNumbersRowResizeFeature(beans,ctrl);}refreshSelectionIntegration(){var{beans}=this;var{gos,rangeSvc}=beans;var cellSelection=gos.get(\"cellSelection\");this.refreshRowNumberOverrides();this.isIntegratedWithSelection=!!rangeSvc&&!!cellSelection&&!this.isSuppressCellSelectionIntegration;}refreshRowNumberOverrides(){var rowNumbers=this.gos.get(\"rowNumbers\");this.rowNumberOverrides={};if(!rowNumbers||typeof rowNumbers!==\"object\"){return;}if(rowNumbers.suppressCellSelectionIntegration){this.isSuppressCellSelectionIntegration=true;}var colDefValidProps=[\"contextMenuItems\",\"context\",\"onCellClicked\",\"onCellContextMenu\",\"onCellDoubleClicked\",\"headerTooltip\",\"headerStyle\",\"headerComponent\",\"headerComponentParams\",\"suppressHeaderKeyboardEvent\",\"tooltipField\",\"tooltipValueGetter\",\"tooltipComponent\",\"tooltipComponentParams\",\"valueGetter\",\"valueFormatter\",\"width\",\"maxWidth\",\"minWidth\",\"resizable\"];for(var prop of colDefValidProps){if(rowNumbers[prop]!=null){this.rowNumberOverrides[prop]=rowNumbers[prop];}}}onHeaderFocus(){var _this$beans$ariaAnnou;(_this$beans$ariaAnnou=this.beans.ariaAnnounce)===null||_this$beans$ariaAnnou===void 0||_this$beans$ariaAnnou.announceValue(\"Press Space to select all cells\",\"ariaSelectAllCells\");}onHeaderKeyDown(e){if(!this.isIntegratedWithSelection||e.key!==ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.SPACE){return;}(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._selectAllCells)(this.beans);}onHeaderClick(){if(!this.isIntegratedWithSelection){return;}(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._selectAllCells)(this.beans);}refreshCells(force,runAutoSize){var column=this.getColumn();if(!column){return;}if(runAutoSize){var _this$beans$autoWidth;var width=(_this$beans$autoWidth=this.beans.autoWidthCalc)===null||_this$beans$autoWidth===void 0?void 0:_this$beans$autoWidth.getPreferredWidthForElements([this.createDummyElement(column)],2);if(width!=null){var _this$beans$colResize;(_this$beans$colResize=this.beans.colResize)===null||_this$beans$colResize===void 0||_this$beans$colResize.setColumnWidths([{key:column,newWidth:width}],false,true,\"rowNumbersService\");}}this.beans.rowRenderer.refreshCells({columns:[column],force});}createDummyElement(column){var div=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createElement)({tag:\"div\",cls:\"ag-cell-value ag-cell\"});var value=String(this.beans.rowModel.getRowCount()+1);if(typeof this.rowNumberOverrides.valueFormatter===\"function\"){var valueFormatterParams=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._addGridCommonParams)(this.beans.gos,{data:void 0,value,node:null,column,colDef:column.colDef});value=this.rowNumberOverrides.valueFormatter(valueFormatterParams);}div.textContent=value;return div;}createRowNumbersColDef(){var{gos,contextMenuSvc}=this.beans;var enableRTL=gos.get(\"enableRtl\");return _objectSpread(_objectSpread({// overridable properties\nminWidth:60,width:60,resizable:false,valueGetter:this.valueGetter,contextMenuItems:this.isIntegratedWithSelection||!contextMenuSvc?void 0:()=>[]},this.rowNumberOverrides),{},{// non-overridable properties\ncolId:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.ROW_NUMBERS_COLUMN_ID,chartDataType:\"excluded\",suppressHeaderMenuButton:true,sortable:false,suppressMovable:true,lockPinned:true,pinned:enableRTL?\"right\":\"left\",lockPosition:enableRTL?\"right\":\"left\",editable:false,suppressFillHandle:true,suppressAutoSize:true,suppressSizeToFit:true,suppressHeaderContextMenu:true,suppressNavigable:true,headerClass:this.getHeaderClass(),cellClass:this.getCellClass.bind(this),cellAriaRole:\"rowheader\"});}valueGetter(params){var node=params.node;if(node!==null&&node!==void 0&&node.rowPinned&&node.pinnedSibling){var{rowIndex}=node.pinnedSibling;return\"\".concat(rowIndex==null?\"-\":rowIndex+1);}return String(((node===null||node===void 0?void 0:node.rowIndex)||0)+1);}getHeaderClass(){var cssClass=[\"ag-row-number-header\"];if(this.isIntegratedWithSelection){cssClass.push(\"ag-row-number-selection-enabled\");}return cssClass;}getCellClass(params){var{beans}=this;var{rangeSvc,gos}=beans;var{node}=params;var cssClasses=[\"ag-row-number-cell\"];var cellSelection=gos.get(\"cellSelection\");if(!rangeSvc||!cellSelection){return cssClasses;}if(this.isIntegratedWithSelection){cssClasses.push(\"ag-row-number-selection-enabled\");}var ranges=rangeSvc.getCellRanges();if(!ranges.length){return cssClasses;}var allColsLen=this.beans.visibleCols.allCols.length-1;var shouldHighlight=typeof cellSelection===\"object\"&&cellSelection.enableHeaderHighlight;for(var range of ranges){if(rangeSvc.isRowInRange(node.rowIndex,node.rowPinned,range)){if(shouldHighlight){cssClasses.push(\"ag-row-number-range-highlight\");}if(range.columns.length===allColsLen){cssClasses.push(\"ag-row-number-range-selected\");}}}return cssClasses;}generateRowNumberCols(){var{gos}=this;if(!gos.get(\"rowNumbers\")){return[];}var colDef=this.createRowNumbersColDef();var colId=colDef.colId;gos.validateColDef(colDef,colId,true);var col=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgColumn(colDef,null,colId,false);this.createBean(col);return[col];}// focus is disabled on the Row Numbers cells, when a click happens on it,\n// it should focus the first cell of that row.\nfocusFirstRenderedCellAtRowPosition(rowPosition){var{beans,gos}=this;var{visibleCols,colViewport}=beans;var pinnedCols=gos.get(\"enableRtl\")?visibleCols.rightCols:visibleCols.leftCols;var columns;if(pinnedCols.length==1){var rowNode=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getRowNode)(beans,rowPosition);if(!rowNode){return;}columns=colViewport.getColsWithinViewport(rowNode);}else{columns=pinnedCols;}var column=columns.find(col=>!(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.isRowNumberCol)(col));if(!column){return;}var{rowPinned,rowIndex}=rowPosition;beans.focusSvc.setFocusedCell({rowIndex,rowPinned,column,forceBrowserFocus:true,preventScrollOnBrowserFocus:true});}destroy(){var _this$columns10;(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._destroyColumnTree)(this.beans,(_this$columns10=this.columns)===null||_this$columns10===void 0?void 0:_this$columns10.tree);this.rowNumberOverrides=null;super.destroy();}};// packages/ag-grid-enterprise/src/rowNumbers/rowNumbersModule.ts\nvar RowNumbersModule={moduleName:\"RowNumbers\",version:VERSION,beans:[RowNumbersService],dynamicBeans:{rowNumberRowResizer:AgRowNumbersRowResizer},dependsOn:[EnterpriseCoreModule,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.CellStyleModule,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._SharedDragAndDropModule],css:[rowNumbersCSS]};// packages/ag-grid-enterprise/src/filterToolPanel/filtersToolPanelModule.ts\n// packages/ag-grid-enterprise/src/filterToolPanel/filtersToolPanel.ts\n// packages/ag-grid-enterprise/src/filterToolPanel/agFiltersToolPanelHeader.ts\nvar AgFiltersToolPanelHeaderElement={tag:\"div\",cls:\"ag-filter-toolpanel-search\",role:\"presentation\",children:[{tag:\"div\",ref:\"eExpand\",cls:\"ag-filter-toolpanel-expand\"},{tag:\"ag-input-text-field\",ref:\"eFilterTextField\",cls:\"ag-filter-toolpanel-search-input\"}]};var AgFiltersToolPanelHeader=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(){super(...arguments);this.eExpand=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.eFilterTextField=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;}postConstruct(){this.setTemplate(AgFiltersToolPanelHeaderElement,[ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgInputTextFieldSelector]);var translate=this.getLocaleTextFunc();this.eFilterTextField.setAutoComplete(false).setInputAriaLabel(translate(\"ariaFilterColumnsInput\",\"Filter Columns Input\")).onValueChange(this.onSearchTextChanged.bind(this));this.createExpandIcons();this.setExpandState(0/* EXPANDED */);this.addManagedElementListeners(this.eExpand,{click:this.onExpandClicked.bind(this)});this.addManagedEventListeners({newColumnsLoaded:this.showOrHideOptions.bind(this)});}init(params){this.params=params;if(this.beans.colModel.ready){this.showOrHideOptions();}}createExpandIcons(){var{eExpand,beans}=this;eExpand.appendChild(this.eExpandChecked=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createIconNoSpan)(\"accordionOpen\",beans));eExpand.appendChild(this.eExpandUnchecked=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createIconNoSpan)(\"accordionClosed\",beans));eExpand.appendChild(this.eExpandIndeterminate=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createIconNoSpan)(\"accordionIndeterminate\",beans));}// we only show expand / collapse if we are showing filters\nshowOrHideOptions(){var{params,eFilterTextField}=this;var showFilterSearch=!params.suppressFilterSearch;var showExpand=!params.suppressExpandAll;var translate=this.getLocaleTextFunc();eFilterTextField.setInputPlaceholder(translate(\"searchOoo\",\"Search...\"));var isFilterGroupPresent=col=>col.getOriginalParent()&&col.isFilterAllowed();var filterGroupsPresent=this.beans.colModel.getCols().some(isFilterGroupPresent);(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setDisplayed)(eFilterTextField.getGui(),showFilterSearch);(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setDisplayed)(this.eExpand,showExpand&&filterGroupsPresent);}onSearchTextChanged(){if(!this.onSearchTextChangedDebounced){this.onSearchTextChangedDebounced=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._debounce)(this,()=>this.dispatchLocalEvent({type:\"searchChanged\",searchText:this.eFilterTextField.getValue()}),300);}this.onSearchTextChangedDebounced();}onExpandClicked(){var event=this.currentExpandState===0/* EXPANDED */?{type:\"collapseAll\"}:{type:\"expandAll\"};this.dispatchLocalEvent(event);}setExpandState(state){this.currentExpandState=state;(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setDisplayed)(this.eExpandChecked,state===0/* EXPANDED */);(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setDisplayed)(this.eExpandUnchecked,state===1/* COLLAPSED */);(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setDisplayed)(this.eExpandIndeterminate,state===2/* INDETERMINATE */);}};var AgFiltersToolPanelHeaderSelector={selector:\"AG-FILTERS-TOOL-PANEL-HEADER\",component:AgFiltersToolPanelHeader};// packages/ag-grid-enterprise/src/filterToolPanel/agFiltersToolPanelList.ts\n// packages/ag-grid-enterprise/src/filterToolPanel/toolPanelFilterComp.ts\nvar ToolPanelFilterElement={tag:\"div\",cls:\"ag-filter-toolpanel-instance\",children:[{tag:\"div\",ref:\"eFilterToolPanelHeader\",cls:\"ag-filter-toolpanel-header ag-filter-toolpanel-instance-header\",role:\"button\",attrs:{\"aria-expanded\":\"false\"},children:[{tag:\"div\",ref:\"eExpand\",cls:\"ag-filter-toolpanel-expand\"},{tag:\"span\",ref:\"eFilterName\",cls:\"ag-header-cell-text\"},{tag:\"span\",ref:\"eFilterIcon\",cls:\"ag-header-icon ag-filter-icon ag-filter-toolpanel-instance-header-icon\",attrs:{\"aria-hidden\":\"true\"}}]},{tag:\"div\",ref:\"agFilterToolPanelBody\",cls:\"ag-filter-toolpanel-instance-body ag-filter\"}]};var ToolPanelFilterComp=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(hideHeader,expandedCallback){super(ToolPanelFilterElement);this.hideHeader=hideHeader;this.expandedCallback=expandedCallback;this.eFilterToolPanelHeader=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.eFilterName=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.agFilterToolPanelBody=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.eFilterIcon=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.eExpand=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.expanded=false;}postConstruct(){var{beans,eExpand}=this;var eExpandChecked=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createIconNoSpan)(\"accordionOpen\",beans);this.eExpandChecked=eExpandChecked;var eExpandUnchecked=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createIconNoSpan)(\"accordionClosed\",beans);this.eExpandUnchecked=eExpandUnchecked;eExpand.appendChild(eExpandChecked);eExpand.appendChild(eExpandUnchecked);}setColumn(column){this.column=column;var{beans,eFilterToolPanelHeader,eFilterIcon,eExpandChecked,hideHeader}=this;this.eFilterName.innerText=beans.colNames.getDisplayNameForColumn(column,\"filterToolPanel\",false)||\"\";this.addManagedListeners(eFilterToolPanelHeader,{click:this.toggleExpanded.bind(this),keydown:this.onKeyDown.bind(this)});this.addManagedEventListeners({filterOpened:this.onFilterOpened.bind(this)});this.addInIcon(\"filterActive\",eFilterIcon,column);(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setDisplayed)(eFilterIcon,this.isFilterActive(),{skipAriaHidden:true});(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setDisplayed)(eExpandChecked,false);if(hideHeader){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setDisplayed)(eFilterToolPanelHeader,false);eFilterToolPanelHeader.removeAttribute(\"tabindex\");}else{eFilterToolPanelHeader.setAttribute(\"tabindex\",\"0\");}this.addManagedListeners(column,{filterChanged:this.onFilterChanged.bind(this)});}onKeyDown(e){var{key}=e;var{ENTER,SPACE,LEFT,RIGHT}=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode;if(key!==ENTER&&key!==SPACE&&key!==LEFT&&key!==RIGHT){return;}e.preventDefault();if(key===ENTER||key===SPACE){this.toggleExpanded();}else if(key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.LEFT){this.collapse();}else{this.expand();}}getColumn(){return this.column;}getColumnFilterName(){return this.beans.colNames.getDisplayNameForColumn(this.column,\"filterToolPanel\",false);}addCssClassToTitleBar(cssClass){this.eFilterToolPanelHeader.classList.add(cssClass);}addInIcon(iconName,eParent,column){if(eParent==null){return;}var eIcon=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createIconNoSpan)(iconName,this.beans,column);eParent.appendChild(eIcon);}isFilterActive(){var _this$beans$colFilter3;return!!((_this$beans$colFilter3=this.beans.colFilter)!==null&&_this$beans$colFilter3!==void 0&&_this$beans$colFilter3.isFilterActive(this.column));}onFilterChanged(){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setDisplayed)(this.eFilterIcon,this.isFilterActive(),{skipAriaHidden:true});this.dispatchLocalEvent({type:\"filterChanged\"});}toggleExpanded(){this.expanded?this.collapse():this.expand();}expand(){if(this.expanded){return;}this.expanded=true;(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setAriaExpanded)(this.eFilterToolPanelHeader,true);(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setDisplayed)(this.eExpandChecked,true);(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setDisplayed)(this.eExpandUnchecked,false);this.addFilterElement();this.expandedCallback();}addFilterElement(suppressFocus){var _comp$getFilter2;var filterPanelWrapper=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createElement)({tag:\"div\",cls:\"ag-filter-toolpanel-instance-filter\"});var comp=this.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FilterComp(this.column,\"TOOLBAR\"));this.filterComp=comp;if(!comp.hasFilter()){return;}(_comp$getFilter2=comp.getFilter())===null||_comp$getFilter2===void 0||_comp$getFilter2.then(filter=>{this.underlyingFilter=filter;if(!filter){return;}filterPanelWrapper.appendChild(comp.getGui());this.agFilterToolPanelBody.appendChild(filterPanelWrapper);comp.afterGuiAttached({container:\"toolPanel\",suppressFocus});});}collapse(){if(!this.expanded){return;}this.expanded=false;(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setAriaExpanded)(this.eFilterToolPanelHeader,false);this.removeFilterElement();(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setDisplayed)(this.eExpandChecked,false);(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setDisplayed)(this.eExpandUnchecked,true);var filterComp=this.filterComp;filterComp===null||filterComp===void 0||filterComp.afterGuiDetached();this.destroyBean(filterComp);this.expandedCallback();}removeFilterElement(){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._clearElement)(this.agFilterToolPanelBody);}isExpanded(){return this.expanded;}onPanelHidden(){var _filter$afterGuiDetac;if(!this.expanded){return;}var filter=this.underlyingFilter;if(!filter){return;}(_filter$afterGuiDetac=filter.afterGuiDetached)===null||_filter$afterGuiDetac===void 0||_filter$afterGuiDetac.call(filter);}onFilterOpened(event){if(event.source!==\"COLUMN_MENU\"){return;}if(event.column!==this.column){return;}if(!this.expanded){return;}this.collapse();}};// packages/ag-grid-enterprise/src/filterToolPanel/toolPanelFilterGroupComp.ts\nvar ToolPanelFilterGroupComp=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(columnGroup,childFilterComps,expandedCallback,depth,showingColumn){super();this.columnGroup=columnGroup;this.childFilterComps=childFilterComps;this.expandedCallback=expandedCallback;this.depth=depth;this.showingColumn=showingColumn;this.filterGroupComp=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;}postConstruct(){var groupParams={cssIdentifier:\"filter-toolpanel\",direction:\"vertical\"};this.setTemplate({tag:\"div\",cls:\"ag-filter-toolpanel-group-wrapper\",children:[{tag:\"ag-group-component\",ref:\"filterGroupComp\"}]},[AgGroupComponentSelector],{filterGroupComp:groupParams});this.setGroupTitle();var{filterGroupComp,depth,childFilterComps,gos}=this;filterGroupComp.setAlignItems(\"stretch\");filterGroupComp.addCss(\"ag-filter-toolpanel-group-level-\".concat(depth));filterGroupComp.getGui().style.setProperty(\"--ag-indentation-level\",String(depth));filterGroupComp.addCssClassToTitleBar(\"ag-filter-toolpanel-group-level-\".concat(depth,\"-header\"));childFilterComps.forEach(filterComp=>{filterGroupComp.addItem(filterComp);filterComp.addCssClassToTitleBar(\"ag-filter-toolpanel-group-level-\".concat(depth+1,\"-header\"));filterComp.getGui().style.setProperty(\"--ag-indentation-level\",String(depth+1));});var column=this.showingColumn?this.columnGroup:void 0;this.tooltipFeature=this.createOptionalManagedBean(this.beans.registry.createDynamicBean(\"tooltipFeature\",false,{getGui:()=>this.getGui(),getLocation:()=>\"filterToolPanelColumnGroup\",shouldDisplayTooltip:(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getShouldDisplayTooltip)(gos,()=>filterGroupComp.getGui().querySelector(\".ag-group-title\")),getColDef:column?()=>column.getColDef():void 0,getColumn:column?()=>column:void 0}));this.refreshFilterClass();this.addExpandCollapseListeners();this.addFilterChangedListeners();this.setupTooltip();this.addInIcon(\"filterActive\");}setupTooltip(){if(!this.showingColumn){return;}var refresh=()=>{var _this$tooltipFeature1;(_this$tooltipFeature1=this.tooltipFeature)===null||_this$tooltipFeature1===void 0||_this$tooltipFeature1.setTooltipAndRefresh(this.columnGroup.getColDef().headerTooltip);};refresh();this.addManagedEventListeners({newColumnsLoaded:refresh});}addCssClassToTitleBar(cssClass){this.filterGroupComp.addCssClassToTitleBar(cssClass);}onPanelHidden(){this.childFilterComps.forEach(filterComp=>filterComp.onPanelHidden());}isColumnGroup(){return (0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.isProvidedColumnGroup)(this.columnGroup);}isExpanded(){return this.filterGroupComp.isExpanded();}getChildren(){return this.childFilterComps;}getFilterGroupName(){var _this$filterGroupName;return(_this$filterGroupName=this.filterGroupName)!==null&&_this$filterGroupName!==void 0?_this$filterGroupName:\"\";}getFilterGroupId(){return this.columnGroup.getId();}hideGroupItem(hide,index){this.filterGroupComp.hideItem(hide,index);}hideGroup(hide){this.setDisplayed(!hide);}addInIcon(iconName){var eIcon=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createIconNoSpan)(iconName,this.beans);if(eIcon){eIcon.classList.add(\"ag-filter-toolpanel-group-instance-header-icon\");}this.filterGroupComp.addTitleBarWidget(eIcon);}forEachToolPanelFilterChild(action){this.childFilterComps.forEach(filterComp=>{if(filterComp instanceof ToolPanelFilterComp){action(filterComp);}});}addExpandCollapseListeners(){var expandListener=this.isColumnGroup()?()=>this.expandedCallback():()=>this.forEachToolPanelFilterChild(filterComp=>filterComp.expand());var collapseListener=this.isColumnGroup()?()=>this.expandedCallback():()=>this.forEachToolPanelFilterChild(filterComp=>filterComp.collapse());this.addManagedListeners(this.filterGroupComp,{expanded:expandListener,collapsed:collapseListener});}getColumns(){if((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.isProvidedColumnGroup)(this.columnGroup)){return this.columnGroup.getLeafColumns();}return[this.columnGroup];}addFilterChangedListeners(){this.getColumns().forEach(column=>{this.addManagedListeners(column,{filterChanged:()=>this.refreshFilterClass()});});if(!(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.isProvidedColumnGroup)(this.columnGroup)){this.addManagedEventListeners({filterOpened:this.onFilterOpened.bind(this)});}}refreshFilterClass(){var columns=this.getColumns();var anyChildFiltersActive=()=>columns.some(col=>col.isFilterActive());this.filterGroupComp.toggleCss(\"ag-has-filter\",anyChildFiltersActive());}onFilterOpened(event){if(event.source!==\"COLUMN_MENU\"){return;}if(event.column!==this.columnGroup){return;}if(!this.isExpanded()){return;}this.collapse();}expand(){this.filterGroupComp.toggleGroupExpand(true);}collapse(){this.filterGroupComp.toggleGroupExpand(false);}setGroupTitle(){var columnGroup=this.columnGroup;var filterGroupName=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.isProvidedColumnGroup)(columnGroup)?this.getColumnGroupName(columnGroup):this.getColumnName(columnGroup);this.filterGroupName=filterGroupName;this.filterGroupComp.setTitle(filterGroupName||\"\");}getColumnGroupName(columnGroup){return this.beans.colNames.getDisplayNameForProvidedColumnGroup(null,columnGroup,\"filterToolPanel\");}getColumnName(column){return this.beans.colNames.getDisplayNameForColumn(column,\"filterToolPanel\",false);}destroyFilters(){this.childFilterComps=this.destroyBeans(this.childFilterComps);(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._clearElement)(this.getGui());}destroy(){this.destroyFilters();super.destroy();}};// packages/ag-grid-enterprise/src/filterToolPanel/agFiltersToolPanelList.ts\nvar AgFiltersToolPanelList=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(){super({tag:\"div\",cls:\"ag-filter-list-panel\"});this.initialised=false;this.hasLoadedInitialState=false;this.isInitialState=false;this.filterGroupComps=[];// If a column drag is happening, we suppress handling the event until it has completed\nthis.suppressOnColumnsChanged=false;this.onColumnsChangedPending=false;}wireBeans(beans){this.colModel=beans.colModel;}init(params){this.initialised=true;var defaultParams=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._addGridCommonParams)(this.gos,{suppressExpandAll:false,suppressFilterSearch:false,suppressSyncLayoutWithGrid:false});(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._mergeDeep)(defaultParams,params);this.params=defaultParams;if(!defaultParams.suppressSyncLayoutWithGrid){this.addManagedEventListeners({columnMoved:()=>this.onColumnsChanged()});}this.addManagedEventListeners({newColumnsLoaded:()=>this.onColumnsChanged(),toolPanelVisibleChanged:event=>{if(event.key===\"filters\"&&!event.visible){this.onPanelHidden();}},dragStarted:()=>{this.suppressOnColumnsChanged=true;},dragStopped:()=>{this.suppressOnColumnsChanged=false;if(this.onColumnsChangedPending){this.onColumnsChangedPending=false;this.onColumnsChanged();}}});if(this.colModel.ready){this.onColumnsChanged();}}onColumnsChanged(){if(this.suppressOnColumnsChanged){this.onColumnsChangedPending=true;return;}var pivotModeActive=this.colModel.isPivotMode();var shouldSyncColumnLayoutWithGrid=!this.params.suppressSyncLayoutWithGrid&&!pivotModeActive;shouldSyncColumnLayoutWithGrid?this.syncFilterLayout():this.buildTreeFromProvidedColumnDefs();this.refreshAriaLabel();}syncFilterLayout(){syncLayoutWithGrid(this.colModel,this.setFiltersLayout.bind(this));this.refreshAriaLabel();}buildTreeFromProvidedColumnDefs(){var columnTree=this.colModel.getColDefColTree();this.recreateFilters(columnTree);}setFiltersLayout(colDefs){var columnTree=toolPanelCreateColumnTree(this.colModel,colDefs);this.recreateFilters(columnTree);}recreateFilters(columnTree){var activeElement=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getActiveDomElement)(this.beans);if(!this.hasLoadedInitialState){this.hasLoadedInitialState=true;this.isInitialState=!!this.params.initialState;}var expansionState=this.getExpansionState();this.destroyFilters();var filterGroupComps=this.recursivelyAddComps(columnTree,0,expansionState);this.filterGroupComps=filterGroupComps;var len=filterGroupComps.length;if(len){filterGroupComps.forEach(comp=>this.appendChild(comp));this.setFirstAndLastVisible(0,len-1);}var searchFilterText=this.searchFilterText;if((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._exists)(searchFilterText)){this.searchFilters(searchFilterText);}this.fireExpandedEvent();if(this.getGui().contains(activeElement)){activeElement.focus();}this.isInitialState=false;this.refreshAriaLabel();}recursivelyAddComps(tree,depth,expansionState){return tree.map(child=>{if((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.isProvidedColumnGroup)(child)){var _this$recursivelyAddF,_this$recursivelyAddF2;return(_this$recursivelyAddF=(_this$recursivelyAddF2=this.recursivelyAddFilterGroupComps(child,depth,expansionState))===null||_this$recursivelyAddF2===void 0?void 0:_this$recursivelyAddF2.flatMap(a=>a))!==null&&_this$recursivelyAddF!==void 0?_this$recursivelyAddF:[];}var column=child;if(!this.shouldDisplayFilter(column)){return[];}var hideFilterCompHeader=depth===0;var filterComp=new ToolPanelFilterComp(hideFilterCompHeader,()=>this.onFilterExpanded());this.createBean(filterComp);filterComp.setColumn(column);if(expansionState.get(column.getId())){filterComp.expand();}if(depth>0){return filterComp;}var filterGroupComp=this.createBean(new ToolPanelFilterGroupComp(column,[filterComp],this.onGroupExpanded.bind(this),depth,true));filterGroupComp.addCssClassToTitleBar(\"ag-filter-toolpanel-header\");if(!expansionState.get(filterGroupComp.getFilterGroupId())){filterGroupComp.collapse();}return filterGroupComp;}).flatMap(a=>a);}refreshAriaLabel(){var translate=this.getLocaleTextFunc();var filterListName=translate(\"ariaFilterPanelList\",\"Filter List\");var localeFilters=translate(\"filters\",\"Filters\");var eGui=this.getGui();var groupSelector=\".ag-filter-toolpanel-group-wrapper\";var itemSelector=\".ag-filter-toolpanel-group-item\";var hiddenSelector=\".ag-hidden\";var visibleItems=eGui.querySelectorAll(\"\".concat(itemSelector,\":not(\").concat(groupSelector,\", \").concat(hiddenSelector,\")\"));var totalVisibleItems=visibleItems.length;(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setAriaLabel)(this.getAriaElement(),\"\".concat(filterListName,\" \").concat(totalVisibleItems,\" \").concat(localeFilters));}recursivelyAddFilterGroupComps(columnGroup,depth,expansionState){if(!this.filtersExistInChildren(columnGroup.getChildren())){return;}var colGroupDef=columnGroup.getColGroupDef();if(colGroupDef&&colGroupDef.suppressFiltersToolPanel){return[];}var newDepth=columnGroup.isPadding()?depth:depth+1;var childFilterComps=this.recursivelyAddComps(columnGroup.getChildren(),newDepth,expansionState).flatMap(a=>a);if(columnGroup.isPadding()){return childFilterComps;}var filterGroupComp=new ToolPanelFilterGroupComp(columnGroup,childFilterComps,this.onGroupExpanded.bind(this),depth,false);this.createBean(filterGroupComp);filterGroupComp.addCssClassToTitleBar(\"ag-filter-toolpanel-header\");var expansionStateValue=expansionState.get(filterGroupComp.getFilterGroupId());if(this.isInitialState&&!expansionStateValue||expansionStateValue===false){filterGroupComp.collapse();}return[filterGroupComp];}filtersExistInChildren(tree){return tree.some(child=>{if((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.isProvidedColumnGroup)(child)){return this.filtersExistInChildren(child.getChildren());}return this.shouldDisplayFilter(child);});}shouldDisplayFilter(column){var suppressFiltersToolPanel=column.getColDef()&&column.getColDef().suppressFiltersToolPanel;return column.isFilterAllowed()&&!suppressFiltersToolPanel;}getExpansionState(){var expansionState=/* @__PURE__ */new Map();if(this.isInitialState){var{expandedColIds,expandedGroupIds}=this.params.initialState;expandedColIds.forEach(id=>expansionState.set(id,true));expandedGroupIds.forEach(id=>expansionState.set(id,true));return expansionState;}var recursiveGetExpansionState=filterGroupComp=>{expansionState.set(filterGroupComp.getFilterGroupId(),filterGroupComp.isExpanded());filterGroupComp.getChildren().forEach(child=>{if(child instanceof ToolPanelFilterGroupComp){recursiveGetExpansionState(child);}else{expansionState.set(child.getColumn().getId(),child.isExpanded());}});};this.filterGroupComps.forEach(recursiveGetExpansionState);return expansionState;}// we don't support refreshing, but must implement because it's on the tool panel interface\nrefresh(){}// lazy initialise the panel\nsetVisible(visible){super.setDisplayed(visible);if(visible&&!this.initialised){this.init(this.params);}}expandFilterGroups(expand,groupIds){var updatedGroupIds=[];var updateGroupExpandState=filterGroup=>{var groupId=filterGroup.getFilterGroupId();var shouldExpandOrCollapse=!groupIds||groupIds.includes(groupId);if(shouldExpandOrCollapse){if(expand&&filterGroup.isColumnGroup()){filterGroup.expand();}else{filterGroup.collapse();}updatedGroupIds.push(groupId);}filterGroup.getChildren().forEach(child=>{if(child instanceof ToolPanelFilterGroupComp){updateGroupExpandState(child);}});};this.filterGroupComps.forEach(updateGroupExpandState);this.onGroupExpanded();if(groupIds){var unrecognisedGroupIds=groupIds.filter(groupId=>updatedGroupIds.indexOf(groupId)<0);if(unrecognisedGroupIds.length>0){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(166,{unrecognisedGroupIds});}}}expandFilters(expand,colIds){var updatedColIds=[];var updateGroupExpandState=filterComp=>{if(filterComp instanceof ToolPanelFilterGroupComp){var anyChildrenChanged=false;filterComp.getChildren().forEach(child=>{var childUpdated=updateGroupExpandState(child);if(childUpdated){if(expand){filterComp.expand();anyChildrenChanged=true;}else if(!filterComp.isColumnGroup()){filterComp.collapse();}}});return anyChildrenChanged;}var colId=filterComp.getColumn().getColId();var updateFilterExpandState=!colIds||colIds.includes(colId);if(updateFilterExpandState){expand?filterComp.expand():filterComp.collapse();updatedColIds.push(colId);}return updateFilterExpandState;};this.filterGroupComps.forEach(updateGroupExpandState);this.onGroupExpanded();if(colIds){var unrecognisedColIds=colIds.filter(colId=>updatedColIds.indexOf(colId)<0);if(unrecognisedColIds.length>0){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(167,{unrecognisedColIds});}}}onGroupExpanded(){this.fireExpandedEvent();}onFilterExpanded(){this.dispatchLocalEvent({type:\"filterExpanded\"});}fireExpandedEvent(){var expandedCount=0;var notExpandedCount=0;var updateExpandCounts=filterGroup=>{if(!filterGroup.isColumnGroup()){return;}filterGroup.isExpanded()?expandedCount++:notExpandedCount++;filterGroup.getChildren().forEach(child=>{if(child instanceof ToolPanelFilterGroupComp){updateExpandCounts(child);}});};this.filterGroupComps.forEach(updateExpandCounts);var state;if(expandedCount>0&&notExpandedCount>0){state=2/* INDETERMINATE */;}else if(notExpandedCount>0){state=1/* COLLAPSED */;}else{state=0/* EXPANDED */;}this.dispatchLocalEvent({type:\"groupExpanded\",state});}performFilterSearch(searchText){this.searchFilterText=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._exists)(searchText)?searchText.toLowerCase():null;this.searchFilters(this.searchFilterText);}searchFilters(searchFilter){var passesFilter=groupName=>{return!(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._exists)(searchFilter)||groupName.toLowerCase().indexOf(searchFilter)!==-1;};var recursivelySearch=(filterItem,parentPasses)=>{if(!(filterItem instanceof ToolPanelFilterGroupComp)){return passesFilter(filterItem.getColumnFilterName()||\"\");}var children=filterItem.getChildren();var groupNamePasses=passesFilter(filterItem.getFilterGroupName());var alreadyPassed=parentPasses||groupNamePasses;if(alreadyPassed){filterItem.hideGroup(false);for(var i=0;i<children.length;i++){recursivelySearch(children[i],alreadyPassed);filterItem.hideGroupItem(false,i);}return true;}var anyChildPasses=false;children.forEach((child,index)=>{var childPasses=recursivelySearch(child,parentPasses);filterItem.hideGroupItem(!childPasses,index);if(childPasses){anyChildPasses=true;}});filterItem.hideGroup(!anyChildPasses);return anyChildPasses;};var firstVisible;var lastVisible;this.filterGroupComps.forEach((filterGroup,idx)=>{var _filterGroup$getGui;recursivelySearch(filterGroup,false);var isHidden=(_filterGroup$getGui=filterGroup.getGui())===null||_filterGroup$getGui===void 0?void 0:_filterGroup$getGui.classList.contains(\"ag-hidden\");if(firstVisible===void 0){if(!isHidden){firstVisible=idx;lastVisible=idx;}}else if(!isHidden&&lastVisible!==idx){lastVisible=idx;}});this.setFirstAndLastVisible(firstVisible,lastVisible);this.refreshAriaLabel();}setFirstAndLastVisible(firstIdx,lastIdx){this.filterGroupComps.forEach((filterGroup,idx)=>{filterGroup.removeCss(\"ag-first-group-visible\");filterGroup.removeCss(\"ag-last-group-visible\");if(idx===firstIdx){filterGroup.addCss(\"ag-first-group-visible\");}if(idx===lastIdx){filterGroup.addCss(\"ag-last-group-visible\");}});}onPanelHidden(){this.filterGroupComps.forEach(filterGroupComp=>filterGroupComp.onPanelHidden());}getExpandedFiltersAndGroups(){var expandedGroupIds=[];var expandedColIds=/* @__PURE__ */new Set();var getExpandedFiltersAndGroups=filterComp=>{if(filterComp instanceof ToolPanelFilterGroupComp){filterComp.getChildren().forEach(child=>getExpandedFiltersAndGroups(child));var groupId=filterComp.getFilterGroupId();if(filterComp.isExpanded()&&!expandedColIds.has(groupId)){expandedGroupIds.push(groupId);}}else{if(filterComp.isExpanded()){expandedColIds.add(filterComp.getColumn().getColId());}}};this.filterGroupComps.forEach(getExpandedFiltersAndGroups);return{expandedGroupIds,expandedColIds:Array.from(expandedColIds)};}destroyFilters(){this.filterGroupComps=this.destroyBeans(this.filterGroupComps);(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._clearElement)(this.getGui());}destroy(){this.destroyFilters();super.destroy();}};var AgFiltersToolPanelListSelector={selector:\"AG-FILTERS-TOOL-PANEL-LIST\",component:AgFiltersToolPanelList};// packages/ag-grid-enterprise/src/filterToolPanel/filtersToolPanel.css-GENERATED.ts\nvar filtersToolPanelCSS=/*css*/\".ag-filter-toolpanel{flex:1 1 0px;min-width:0}.ag-filter-toolpanel-header,.ag-filter-toolpanel-search{align-items:center;color:var(--ag-header-text-color);display:flex;font-weight:var(--ag-header-font-weight);padding:0 var(--ag-spacing);>*{align-items:center;display:flex}}.ag-filter-toolpanel-header{padding-bottom:var(--ag-spacing);padding-top:var(--ag-spacing);position:relative;&:focus-visible{border-radius:var(--ag-border-radius);box-shadow:inset var(--ag-focus-shadow)}}:where(.ag-ltr) .ag-filter-toolpanel-group-instance-header-icon,:where(.ag-ltr) .ag-filter-toolpanel-instance-header-icon{margin-left:var(--ag-spacing)}:where(.ag-rtl) .ag-filter-toolpanel-group-instance-header-icon,:where(.ag-rtl) .ag-filter-toolpanel-instance-header-icon{margin-right:var(--ag-spacing)}.ag-filter-toolpanel-search{min-height:var(--ag-header-height);padding-bottom:var(--ag-spacing);padding-top:var(--ag-widget-container-vertical-padding)}:where(.ag-filter-toolpanel-group:not(.ag-has-filter)>.ag-group-title-bar) .ag-filter-toolpanel-group-instance-header-icon{display:none}.ag-filter-toolpanel-search-input{flex-grow:1;height:calc(var(--ag-spacing)*4)}:where(.ag-ltr) .ag-filter-toolpanel-group-title-bar-icon{margin-right:var(--ag-spacing)}:where(.ag-rtl) .ag-filter-toolpanel-group-title-bar-icon{margin-left:var(--ag-spacing)}.ag-filter-toolpanel-expand{cursor:pointer}:where(.ag-ltr) .ag-filter-toolpanel-expand{margin-right:var(--ag-spacing)}:where(.ag-rtl) .ag-filter-toolpanel-expand{margin-left:var(--ag-spacing)}:where(.ag-ltr) .ag-filter-toolpanel-group-title-bar,:where(.ag-ltr) .ag-filter-toolpanel-instance-header{padding-left:calc(var(--ag-spacing) + var(--ag-filter-tool-panel-group-indent)*var(--ag-indentation-level))}:where(.ag-rtl) .ag-filter-toolpanel-group-title-bar,:where(.ag-rtl) .ag-filter-toolpanel-instance-header{padding-right:calc(var(--ag-spacing) + var(--ag-filter-tool-panel-group-indent)*var(--ag-indentation-level))}:where(.ag-ltr) .ag-filter-toolpanel-instance-body{margin-left:var(--ag-filter-tool-panel-group-indent)}:where(.ag-rtl) .ag-filter-toolpanel-instance-body{margin-right:var(--ag-filter-tool-panel-group-indent)}.ag-filter-toolpanel-instance-filter{background-color:var(--ag-chrome-background-color)}.ag-filter-toolpanel-group-level-0{border-top:none}\";// packages/ag-grid-enterprise/src/filterToolPanel/filtersToolPanel.ts\nvar FiltersToolPanelElement={tag:\"div\",cls:\"ag-filter-toolpanel\",children:[{tag:\"ag-filters-tool-panel-header\",ref:\"filtersToolPanelHeaderPanel\"},{tag:\"ag-filters-tool-panel-list\",ref:\"filtersToolPanelListPanel\"}]};var FiltersToolPanel=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(){super(FiltersToolPanelElement,[AgFiltersToolPanelHeaderSelector,AgFiltersToolPanelListSelector]);this.filtersToolPanelHeaderPanel=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.filtersToolPanelListPanel=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.initialised=false;this.listenerDestroyFuncs=[];this.registerCSS(filtersToolPanelCSS);}init(params){if(this.initialised){this.listenerDestroyFuncs.forEach(func=>func());this.listenerDestroyFuncs=[];}this.initialised=true;var defaultParams={suppressExpandAll:false,suppressFilterSearch:false,suppressSyncLayoutWithGrid:false};var newParams=_objectSpread(_objectSpread({},defaultParams),params);this.params=newParams;var{filtersToolPanelHeaderPanel,filtersToolPanelListPanel}=this;filtersToolPanelHeaderPanel.init(newParams);filtersToolPanelListPanel.init(newParams);var{suppressExpandAll:hideExpand,suppressFilterSearch:hideSearch}=newParams;if(hideExpand&&hideSearch){filtersToolPanelHeaderPanel.setDisplayed(false);}this.listenerDestroyFuncs.push(...this.addManagedListeners(filtersToolPanelHeaderPanel,{expandAll:()=>filtersToolPanelListPanel.expandFilterGroups(true),collapseAll:()=>filtersToolPanelListPanel.expandFilterGroups(false),searchChanged:event=>filtersToolPanelListPanel.performFilterSearch(event.searchText)}),...this.addManagedListeners(filtersToolPanelListPanel,{filterExpanded:newParams.onStateUpdated,groupExpanded:event=>{filtersToolPanelHeaderPanel.setExpandState(event.state);newParams.onStateUpdated();}}));}// lazy initialise the panel\nsetVisible(visible){super.setDisplayed(visible);if(visible&&!this.initialised){this.init(this.params);}}setFilterLayout(colDefs){this.filtersToolPanelListPanel.setFiltersLayout(colDefs);}expandFilterGroups(groupIds){this.filtersToolPanelListPanel.expandFilterGroups(true,groupIds);}collapseFilterGroups(groupIds){this.filtersToolPanelListPanel.expandFilterGroups(false,groupIds);}expandFilters(colIds){this.filtersToolPanelListPanel.expandFilters(true,colIds);}collapseFilters(colIds){this.filtersToolPanelListPanel.expandFilters(false,colIds);}syncLayoutWithGrid(){this.filtersToolPanelListPanel.syncFilterLayout();}refresh(params){this.init(params);return true;}getState(){return this.filtersToolPanelListPanel.getExpandedFiltersAndGroups();}};// packages/ag-grid-enterprise/src/filterToolPanel/newFilterToolPanel/filterPanelService.ts\nvar FilterPanelService=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BeanStub{constructor(){super(...arguments);this.beanName=\"filterPanelSvc\";this.states=/* @__PURE__ */new Map();this.orderedStates=[];this.initialStateApplied=false;this.isActive=false;}postConstruct(){if(!this.gos.get(\"enableFilterHandlers\")){return;}var updateFilterStates=this.updateFilterStates.bind(this);var updateApplyButton=()=>this.dispatchStatesUpdates(void 0,true);this.addManagedEventListeners({newColumnsLoaded:()=>{this.applyInitialState();updateFilterStates();},filterChanged:updateFilterStates,filterDestroyed:this.onFilterDestroyed.bind(this),filterOpened:updateApplyButton,filterClosed:updateApplyButton});this.addManagedListeners(this.beans.colFilter,{filterStateChanged:_ref71=>{var _this$states$get,_this$states$get$refr;var{column}=_ref71;(_this$states$get=this.states.get(column.getColId()))===null||_this$states$get===void 0||(_this$states$get$refr=_this$states$get.refresh)===null||_this$states$get$refr===void 0||_this$states$get$refr.call(_this$states$get);updateApplyButton();}});}getIds(){return Array.from(this.states.keys());}getAvailable(){var beans=this.beans;var availableFilters=[];for(var column of beans.colModel.getCols()){var id=column.getColId();if(column.isFilterAllowed()&&!column.colDef.suppressFiltersToolPanel&&!this.states.get(id)){availableFilters.push({id,name:getDisplayName(beans,column)});}}return availableFilters;}add(id){this.createFilter(id,true);this.dispatchStatesUpdates(id);}remove(id){var _state$destroy;var{states,orderedStates,beans:{colFilter,selectableFilter}}=this;var state=states.get(id);if(!state){return;}(_state$destroy=state.destroy)===null||_state$destroy===void 0||_state$destroy.call(state);var column=state.state.column;states.delete(id);selectableFilter===null||selectableFilter===void 0||selectableFilter.clearActive(id);colFilter===null||colFilter===void 0||colFilter.destroyFilter(column);this.eventSvc.dispatchEvent({type:\"filterSwitched\",column});var index=orderedStates.indexOf(id);orderedStates.splice(index,1);var newActiveId=orderedStates[index];this.dispatchStatesUpdates(newActiveId);}getState(id){var _this$states$get2;return(_this$states$get2=this.states.get(id))===null||_this$states$get2===void 0?void 0:_this$states$get2.state;}updateFilterState(id,key,value,suppressEvents){var filterState=this.getState(id);if(!filterState){return;}filterState[key]=value;if(!suppressEvents){this.dispatchLocalEvent({type:\"filterPanelStateChanged\",id,state:filterState});}}expand(id,expanded){var _existingFilterState$;var existingFilterState=this.states.get(id);if(!existingFilterState){return;}(_existingFilterState$=existingFilterState.destroy)===null||_existingFilterState$===void 0||_existingFilterState$.call(existingFilterState);var{handler,state:{column}}=existingFilterState;var newFilterState=this.createFilterState(column,handler,expanded);this.states.set(id,newFilterState);this.dispatchLocalEvent({type:\"filterPanelStateChanged\",id,state:newFilterState.state});}updateType(id,filterDef){var stateWrapper=this.states.get(id);if(!stateWrapper){return;}var state=stateWrapper.state;if(state.expanded===false){return;}var filterDefs=state.filterDefs;if(!filterDefs){return;}var{colFilter,selectableFilter}=this.beans;selectableFilter===null||selectableFilter===void 0||selectableFilter.setActive(id,filterDefs,filterDef);colFilter.filterParamsChanged(id,\"columnFilter\");var column=state.column;this.eventSvc.dispatchEvent({type:\"filterSwitched\",column});var newStateWrapper=this.states.get(id);if(!newStateWrapper){return;}var newState=newStateWrapper.state;this.dispatchLocalEvent({type:\"filterPanelStateChanged\",id,state:newState});}getActions(){var _this$params6,_this$beans$colFilter4;var actions=(_this$params6=this.params)===null||_this$params6===void 0?void 0:_this$params6.buttons;if(!(actions!==null&&actions!==void 0&&actions.length)){return void 0;}var canApply=!!((_this$beans$colFilter4=this.beans.colFilter)!==null&&_this$beans$colFilter4!==void 0&&_this$beans$colFilter4.canApplyAll());return{actions,canApply};}doAction(action){var _this$beans$colFilter5;(_this$beans$colFilter5=this.beans.colFilter)===null||_this$beans$colFilter5===void 0||_this$beans$colFilter5.updateAllModels(action);}updateParams(params,initialState){var _this$beans$colFilter6,_params$buttons;this.params=params;if(initialState){this.initialState=initialState;}this.dispatchStatesUpdates();(_this$beans$colFilter6=this.beans.colFilter)===null||_this$beans$colFilter6===void 0||_this$beans$colFilter6.setGlobalButtons(!!((_params$buttons=params.buttons)!==null&&_params$buttons!==void 0&&_params$buttons.length));}getGridState(){var filters=[];this.states.forEach((stateWrapper,colId)=>{filters.push({colId,expanded:stateWrapper.state.expanded});});return{filters};}createFilter(id,expanded){var stateWrapper=this.createFilterStateWrapper(id,expanded);if(stateWrapper){this.states.set(id,stateWrapper);this.orderedStates.push(id);}}createFilterStateWrapper(id,expanded){var{colModel,colFilter}=this.beans;var column=colModel.getColById(id);if(column&&!column.colDef.suppressFiltersToolPanel){var handler=colFilter.getHandler(column,true);if(handler){return this.createFilterState(column,handler,expanded);}}return void 0;}updateFilterStates(){var filterModel=this.beans.colFilter.getModel();var processedIds=/* @__PURE__ */new Set();for(var id of Object.keys(filterModel)){var existingState=this.states.get(id);if(!existingState){this.createFilter(id);}else{var _existingState$refres;(_existingState$refres=existingState.refresh)===null||_existingState$refres===void 0||_existingState$refres.call(existingState);}processedIds.add(id);}this.states.forEach((state,id)=>{if(!processedIds.has(id)){var _state$refresh;(_state$refresh=state.refresh)===null||_state$refresh===void 0||_state$refresh.call(state);}});this.dispatchStatesUpdates();}createFilterState(column,handler,expanded){var beans=this.beans;var{colFilter,selectableFilter}=beans;var name=getDisplayName(beans,column);var colId=column.getColId();var getIsEditing=()=>{var _this$params7;return!!((_this$params7=this.params)!==null&&_this$params7!==void 0&&_this$params7.buttons)&&colFilter.hasUnappliedModel(colId);};var isEditing=getIsEditing();if(expanded){var _selectableFilter$get;var colDef=column.colDef;var{filterDefs,activeFilterDef}=(_selectableFilter$get=selectableFilter===null||selectableFilter===void 0?void 0:selectableFilter.getDefs(column,colDef))!==null&&_selectableFilter$get!==void 0?_selectableFilter$get:{};var filterComp=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FilterComp(column,\"TOOLBAR\",true));return{state:{column,name,isEditing,expanded,detail:filterComp.getGui(),activeFilterDef,filterDefs,afterGuiAttached:filterComp.afterGuiAttached.bind(filterComp),afterGuiDetached:filterComp.afterGuiDetached.bind(filterComp)},handler,refresh:()=>{this.updateFilterState(colId,\"isEditing\",getIsEditing());},destroy:()=>this.destroyBean(filterComp)};}else{var colId2=column.getColId();var getSummary=()=>{var _handler$getModelAsSt,_handler$getModelAsSt2;return(_handler$getModelAsSt=(_handler$getModelAsSt2=handler.getModelAsString)===null||_handler$getModelAsSt2===void 0?void 0:_handler$getModelAsSt2.call(handler,colFilter.getStateForColumn(colId2).model,\"filterToolPanel\"))!==null&&_handler$getModelAsSt!==void 0?_handler$getModelAsSt:\"\";};return{state:{column,name,isEditing,expanded:false,summary:getSummary()},handler,refresh:()=>{this.updateFilterState(colId2,\"isEditing\",getIsEditing(),true);this.updateFilterState(colId2,\"summary\",getSummary());}};}}onFilterDestroyed(_ref72){var _this$beans$colFilter7;var{column,source}=_ref72;if(!((_this$beans$colFilter7=this.beans.colFilter)!==null&&_this$beans$colFilter7!==void 0&&_this$beans$colFilter7.isAlive())){return;}var states=this.states;var id=column.getColId();var existingState=states.get(id);if(existingState){var stateWrapper=this.createFilterStateWrapper(id,existingState.state.expanded);if(stateWrapper){var _existingState$destro;(_existingState$destro=existingState.destroy)===null||_existingState$destro===void 0||_existingState$destro.call(existingState);states.set(id,stateWrapper);}else{this.remove(id);}if(source===\"api\"){this.dispatchStatesUpdates();}}}dispatchStatesUpdates(activeId,action){this.dispatchLocalEvent({type:\"filterPanelStatesChanged\",activeId,action});}applyInitialState(){var _this$initialState;if(this.initialStateApplied){return;}this.initialStateApplied=true;(_this$initialState=this.initialState)===null||_this$initialState===void 0||(_this$initialState=_this$initialState.filters)===null||_this$initialState===void 0||_this$initialState.forEach(_ref73=>{var{colId,expanded}=_ref73;return this.createFilter(colId,expanded);});this.initialState=void 0;}destroy(){var{states,orderedStates}=this;states.forEach(state=>{var _state$destroy2;return(_state$destroy2=state.destroy)===null||_state$destroy2===void 0?void 0:_state$destroy2.call(state);});states.clear();orderedStates.length=0;this.params=void 0;this.initialState=void 0;super.destroy();}};function getDisplayName(beans,column){var _beans$colNames$getDi;return(_beans$colNames$getDi=beans.colNames.getDisplayNameForColumn(column,\"filterToolPanel\"))!==null&&_beans$colNames$getDi!==void 0?_beans$colNames$getDi:column.getColId();}// packages/ag-grid-enterprise/src/filterToolPanel/newFilterToolPanel/selectableFilterService.ts\n// packages/ag-grid-enterprise/src/filterToolPanel/newFilterToolPanel/filterPanelUtils.ts\nvar DEFAULT_LOCALE_TEXT2={addFilterCard:\"Add Filter\",ariaLabelAddFilterField:\"Add Filter Field\",ariaLabelFilterCardDelete:\"Delete Filter\",ariaLabelFilterCardHasEdits:\"Has Edits\",agTextColumnFilterDisplayName:\"Simple Filter\",agNumberColumnFilterDisplayName:\"Simple Filter\",agDateColumnFilterDisplayName:\"Simple Filter\",agSetColumnFilterDisplayName:\"Selection Filter\",agMultiColumnFilterDisplayName:\"Combo Filter\",addFilterPlaceholder:\"Search columns...\"};function translateForFilterPanel(bean,key){return (0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._translate)(bean,DEFAULT_LOCALE_TEXT2,key);}function compareAndUpdateListsInDom(eContainer,eNewItems,ePrevItems){var newIndex=0;for(var prevIndex=0;prevIndex<ePrevItems.length;prevIndex++){var ePrevItem=ePrevItems[prevIndex];if(ePrevItem===eNewItems[newIndex]){newIndex++;}else{(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._removeFromParent)(ePrevItem);}}while(newIndex<eNewItems.length){eContainer.appendChild(eNewItems[newIndex++]);}}// packages/ag-grid-enterprise/src/filterToolPanel/newFilterToolPanel/selectableFilterService.ts\nvar SelectableFilterService=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BeanStub{constructor(){super(...arguments);this.beanName=\"selectableFilter\";this.selectedFilters=/* @__PURE__ */new Map();this.valueGetters=/* @__PURE__ */new Map();}getFilterValueGetter(colId){return this.valueGetters.get(colId);}isSelectable(filterDef){return filterDef.filter===\"agSelectableColumnFilter\";}getFilterDef(column,filterDef){return this.getDefs(column,filterDef).activeFilterDef;}getDefs(column,filterDef){var _ref74,_this$selectedFilters;if(!this.isSelectable(filterDef)){return void 0;}var beans=this.beans;var{gos,dataTypeSvc,colFilter}=beans;var filterParams=filterDef.filterParams;var colDef=column.colDef;if(typeof filterParams===\"function\"){filterParams=filterParams((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._addGridCommonParams)(gos,{column,colDef}));}var cellDataType=dataTypeSvc===null||dataTypeSvc===void 0?void 0:dataTypeSvc.getBaseDataType(column);var dataTypeDefinition=dataTypeSvc===null||dataTypeSvc===void 0?void 0:dataTypeSvc.getDataTypeDefinition(column);var formatValue=dataTypeSvc===null||dataTypeSvc===void 0?void 0:dataTypeSvc.getFormatValue(cellDataType);var{filters,defaultFilterParams,defaultFilterIndex}=filterParams!==null&&filterParams!==void 0?filterParams:{};var updateDef=def=>{var{filter,filterParams:defFilterParams,name,filterValueGetter=colDef.filterValueGetter}=def;var userParams=defaultFilterParams?_objectSpread(_objectSpread({},defaultFilterParams),defFilterParams):defFilterParams;var updatedParams;if(dataTypeDefinition&&formatValue){if(filter===\"agMultiColumnFilter\"){var _beans$multiFilter;updatedParams=(_beans$multiFilter=beans.multiFilter)===null||_beans$multiFilter===void 0?void 0:_beans$multiFilter.getParamsForDataType(userParams,filterValueGetter,dataTypeDefinition,formatValue);}else{updatedParams=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getFilterParamsForDataType)(filter,userParams,filterValueGetter,dataTypeDefinition,formatValue,beans,this.getLocaleTextFunc());}}var updatedName;if(!name){var filterString=filter;if(typeof filter===\"boolean\"){filterString=colFilter===null||colFilter===void 0?void 0:colFilter.getDefaultFilterFromDataType(()=>cellDataType);}if(typeof filterString===\"string\"){updatedName=translateForFilterPanel(this,\"\".concat(filterString,\"DisplayName\"));}else{(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(280,{colId:column.getColId()});updatedName=\"\";}}if(defaultFilterParams||updatedParams||updatedName){return _objectSpread(_objectSpread({},def),{},{filterParams:userParams,name:updatedName!==null&&updatedName!==void 0?updatedName:name},updatedParams);}return def;};var filterDefs=(filters!==null&&filters!==void 0?filters:this.getDefaultFilters(column)).map(updateDef);var index=(_ref74=(_this$selectedFilters=this.selectedFilters.get(column.getColId()))!==null&&_this$selectedFilters!==void 0?_this$selectedFilters:// UI selected value\ndefaultFilterIndex)!==null&&_ref74!==void 0?_ref74:// col def value\n!filters&&(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isSetFilterByDefault)(gos)?1:0;if(index>=filterDefs.length){index=0;}var activeFilterDef=filterDefs[index];return{filterDefs,activeFilterDef};}setActive(colId,filterDefs,activeFilterDef){var index=filterDefs.indexOf(activeFilterDef);if(index<0){return;}var{selectedFilters,valueGetters}=this;selectedFilters.set(colId,index);var filterValueGetter=activeFilterDef.filterValueGetter;if(filterValueGetter){valueGetters.set(colId,filterValueGetter);}else{valueGetters.delete(colId);}}clearActive(colId){var{selectedFilters,valueGetters}=this;selectedFilters.delete(colId);valueGetters.delete(colId);}destroy(){var{selectedFilters,valueGetters}=this;selectedFilters.clear();valueGetters.clear();super.destroy();}getDefaultFilters(column){var beans=this.beans;var{gos,dataTypeSvc}=beans;var isMultiFilterEnabled=gos.isModuleRegistered(\"MultiFilter\");var cellDataType=dataTypeSvc===null||dataTypeSvc===void 0?void 0:dataTypeSvc.getBaseDataType(column);var simpleFilter=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getDefaultSimpleFilter)(cellDataType,false);return[{filter:simpleFilter},{filter:\"agSetColumnFilter\"},...(isMultiFilterEnabled?[{filter:\"agMultiColumnFilter\"}]:[])];}};// packages/ag-grid-enterprise/src/filterToolPanel/newFilterToolPanel/wrapperToolPanel.ts\n// packages/ag-grid-enterprise/src/filterToolPanel/newFilterToolPanel/filterPanel.ts\n// packages/ag-grid-enterprise/src/filterToolPanel/newFilterToolPanel/addFilterComp.ts\nvar AddFilterElement={tag:\"div\",cls:\"ag-filter-card ag-filter-card-add\"};var AddFilterComp=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(options){super(AddFilterElement);this.options=/* @__PURE__ */new Map();this.setOptions(options);}postConstruct(){this.showButton();}refresh(newOptions){this.setOptions(newOptions);var{eSelect,options}=this;if(eSelect){eSelect.setValueList({valueList:Array.from(options.keys()),refresh:true});}}showButton(){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._clearElement)(this.getGui());this.destroySelect();var eButton=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createElement)({tag:\"button\",cls:\"ag-button ag-standard-button ag-filter-add-button\",children:[{tag:\"span\",children:[()=>(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createIconNoSpan)(\"filterAdd\",this.beans)]},{tag:\"span\",cls:\"ag-filter-add-button-label\",children:translateForFilterPanel(this,\"addFilterCard\")}]});this.activateTabIndex([eButton]);var clickListener=this.showSelect.bind(this);eButton.addEventListener(\"click\",clickListener);this.removeButton=()=>{eButton.removeEventListener(\"click\",clickListener);};this.appendChild(eButton);eButton.focus();}showSelect(){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._clearElement)(this.getGui());this.destroyButton();var pickerAriaLabelKey=\"ariaLabelAddFilterField\";var selectParams={className:\"ag-filter-add-select\",pickerType:\"virtual-list\",pickerAriaLabelKey,pickerAriaLabelValue:translateForFilterPanel(this,pickerAriaLabelKey),placeholder:translateForFilterPanel(this,\"addFilterPlaceholder\"),value:\"\",valueList:Array.from(this.options.keys()),searchType:\"matchAny\",allowTyping:true,filterList:true,highlightMatch:true,valueFormatter:value=>this.options.get(value)};var eSelect=this.createManagedBean(new AgRichSelect(selectParams));this.eSelect=eSelect;this.appendChild(eSelect.getGui());eSelect.showPicker();eSelect.getFocusableElement().focus();eSelect.addManagedListeners(eSelect,{fieldPickerValueSelected:_ref75=>{var{value:id}=_ref75;return this.dispatchLocalEvent({type:\"filterSelected\",id});},pickerHidden:()=>{this.showButton();}});}setOptions(newOptions){var options=this.options;options.clear();for(var{id,name}of newOptions){options.set(id,name);}}destroySelect(){this.eSelect=this.destroyBean(this.eSelect);}destroyButton(){var _this$removeButton;this.removeButton=(_this$removeButton=this.removeButton)===null||_this$removeButton===void 0?void 0:_this$removeButton.call(this);}destroy(){this.destroySelect();this.destroyButton();super.destroy();}};// packages/ag-grid-enterprise/src/filterToolPanel/newFilterToolPanel/filterCardComp.ts\n// packages/ag-grid-enterprise/src/filterToolPanel/newFilterToolPanel/filterDetailComp.ts\nvar FilterDetailElement={tag:\"div\",cls:\"ag-filter-card-body\",children:[{tag:\"ag-select\",cls:\"ag-filter-type-select\",ref:\"eFilterType\"}]};var FilterDetailComp=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(){super(...arguments);this.eFilterType=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;}postConstruct(){var eFilterTypeParams={onValueChange:filterDef=>this.dispatchLocalEvent({type:\"filterTypeChanged\",filterDef})};this.setTemplate(FilterDetailElement,[ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgSelectSelector],{eFilterType:eFilterTypeParams});this.eFilterType.setDisplayed(false);}refresh(newState){var oldState=this.state;this.state=newState;var{activeFilterDef:newActiveFilterDef,filterDefs:newFilterDefs,detail:newDetail,afterGuiAttached,afterGuiDetached}=newState;var{activeFilterDef:oldActiveFilterDef,filterDefs:oldFilterDefs,detail:oldDetail}=oldState!==null&&oldState!==void 0?oldState:{};var eFilterType=this.eFilterType;if(newFilterDefs!==oldFilterDefs){eFilterType.clearOptions();var options=newFilterDefs===null||newFilterDefs===void 0?void 0:newFilterDefs.map(filterDef=>({value:filterDef,text:filterDef.name}));if(options){eFilterType.clearOptions().addOptions(options).setValue(newActiveFilterDef,true);}eFilterType.setDisplayed(!!options);}else if(newActiveFilterDef!==oldActiveFilterDef){eFilterType.setValue(newActiveFilterDef,true);}if(newDetail!==oldDetail){if(oldDetail){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._removeFromParent)(oldDetail);afterGuiDetached();}this.appendChild(newDetail);afterGuiAttached({container:\"newFiltersToolPanel\",suppressFocus:true});}}};// packages/ag-grid-enterprise/src/filterToolPanel/newFilterToolPanel/filterSummaryComp.ts\nvar FilterSummaryElement={tag:\"div\",cls:\"ag-filter-card-summary\",attrs:{\"aria-hidden\":\"true\"}};var FilterSummaryComp=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(){super(FilterSummaryElement);}refresh(state){this.getGui().textContent=state.summary;}};// packages/ag-grid-enterprise/src/filterToolPanel/newFilterToolPanel/filterCardComp.ts\nvar FilterCardElement={tag:\"div\",cls:\"ag-filter-card\",children:[{tag:\"div\",cls:\"ag-filter-card-header\",role:\"presentation\",children:[{tag:\"div\",cls:\"ag-filter-card-heading\",role:\"heading\",attrs:{\"aria-level\":\"2\"},children:[{tag:\"button\",ref:\"eExpand\",cls:\"ag-button ag-filter-card-expand\",children:[{tag:\"span\",ref:\"eTitle\",cls:\"ag-filter-card-title\"},{tag:\"span\",ref:\"eEditing\",cls:\"ag-filter-card-editing-icon\"},{tag:\"span\",ref:\"eExpandIcon\",cls:\"ag-filter-card-expand-icon\"}]}]},{tag:\"button\",ref:\"eDelete\",cls:\"ag-button ag-filter-card-delete\",children:[{tag:\"span\",ref:\"eDeleteIcon\",cls:\"ag-filter-card-delete-icon\"}]}]}]};var FilterCardComp=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(id){super(FilterCardElement);this.id=id;this.eTitle=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.eExpand=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.eDelete=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.eExpandIcon=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.eDeleteIcon=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.eEditing=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;}postConstruct(){var{beans,eDelete,eExpand,eDeleteIcon,eEditing,id}=this;var filterPanelService=beans.filterPanelSvc;(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setAriaLabel)(eDelete,translateForFilterPanel(this,\"ariaLabelFilterCardDelete\"));eDeleteIcon.appendChild((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createIcon)(\"close\",beans,null));this.activateTabIndex([eExpand,eDelete]);this.addManagedElementListeners(eExpand,{click:()=>{var _this$state;return filterPanelService.expand(id,!((_this$state=this.state)!==null&&_this$state!==void 0&&_this$state.expanded));}});this.addManagedElementListeners(eDelete,{click:()=>filterPanelService.remove(id)});this.addManagedEventListeners({filterOpened:this.onFilterOpened.bind(this)});eEditing.appendChild((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createIcon)(\"filterCardEditing\",beans,null));}refresh(newState){var{eExpand,eEditing,state:oldState,beans}=this;this.state=newState;var{name,expanded,isEditing}=newState;this.eTitle.textContent=name;(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setDisplayed)(eEditing,isEditing);if(!oldState||expanded!==oldState.expanded){this.toggleExpand(newState);}var ariaLabel=expanded?null:\"\".concat(name,\" \").concat(newState.summary);if(isEditing){ariaLabel=\"\".concat(ariaLabel!==null&&ariaLabel!==void 0?ariaLabel:name,\". \").concat(translateForFilterPanel(this,\"ariaLabelFilterCardHasEdits\"));}(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setAriaLabel)(eExpand,ariaLabel);var removeComp=comp=>{if(!comp){return;}(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._removeFromParent)(comp.getGui());return this.destroyBean(comp);};var createOrRefreshComp=(comp,FilterComp5,postCreateFunc)=>{if(!comp){comp=this.createBean(new FilterComp5());postCreateFunc===null||postCreateFunc===void 0||postCreateFunc(comp);this.appendChild(comp.getGui());}comp.refresh(newState);return comp;};if(newState.expanded){this.summaryComp=removeComp(this.summaryComp);var detailComp=createOrRefreshComp(this.detailComp,FilterDetailComp,comp=>comp.addManagedListeners(comp,{filterTypeChanged:_ref76=>{var{filterDef}=_ref76;return beans.filterPanelSvc.updateType(this.id,filterDef);}}));this.detailComp=detailComp;var detailId=\"ag-\".concat(this.getCompId(),\"-filter\");detailComp.getGui().id=detailId;(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setAriaControls)(eExpand,detailId);}else{this.detailComp=removeComp(this.detailComp);this.summaryComp=createOrRefreshComp(this.summaryComp,FilterSummaryComp);(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setAriaControls)(eExpand,null);}}toggleExpand(state){var expanded=!!state.expanded;var{eExpandIcon,eExpand,beans}=this;(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._clearElement)(eExpandIcon);eExpandIcon.appendChild((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createIcon)(expanded?\"filterCardCollapse\":\"filterCardExpand\",beans,null));(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setAriaExpanded)(eExpand,expanded);}onFilterOpened(event){var{state,beans,id}=this;if(event.source===\"COLUMN_MENU\"&&event.column===(state===null||state===void 0?void 0:state.column)&&state!==null&&state!==void 0&&state.expanded){beans.filterPanelSvc.expand(id,false);}}destroy(){this.detailComp=this.destroyBean(this.detailComp);this.summaryComp=this.destroyBean(this.summaryComp);this.state=void 0;super.destroy();}};// packages/ag-grid-enterprise/src/filterToolPanel/newFilterToolPanel/filterPanel.ts\nfunction isSingleRefresh(params){return!!(params!==null&&params!==void 0&&params.id);}function isActionRefresh(params){return!!(params!==null&&params!==void 0&&params.action);}var FilterPanelElement={tag:\"div\",cls:\"ag-filter-panel\",children:[{tag:\"div\",cls:\"ag-filter-panel-container\",ref:\"eContainer\"}]};var FilterPanel=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(){super(FilterPanelElement);this.eContainer=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.filters=/* @__PURE__ */new Map();}refresh(params){var _newFilters$get;if(isActionRefresh(params)){this.refreshActions();return;}if(isSingleRefresh(params)){var _this$filters$get;(_this$filters$get=this.filters.get(params.id))===null||_this$filters$get===void 0||_this$filters$get.refresh(params.state);return;}var{eContainer,filters:existingFilters,beans}=this;var filterPanelSvc=beans.filterPanelSvc;var filterIds=filterPanelSvc.getIds();var newFilters=/* @__PURE__ */new Map();var somethingIsFocused=!(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isNothingFocused)(beans);var activeElement=somethingIsFocused?(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getActiveDomElement)(beans):void 0;var containerHasFocus=somethingIsFocused&&eContainer.contains(activeElement);var ePrevItems=[];var eNewItems=[];for(var id of filterIds){var _existingFilters$get;var newFilter=(_existingFilters$get=existingFilters.get(id))!==null&&_existingFilters$get!==void 0?_existingFilters$get:this.createBean(new FilterCardComp(id));newFilter.refresh(filterPanelSvc.getState(id));newFilters.set(id,newFilter);eNewItems.push(newFilter.getGui());}this.filters=newFilters;var compsToDestroy=[];existingFilters.forEach((existingFilter,id)=>{ePrevItems.push(existingFilter.getGui());if(!newFilters.has(id)){compsToDestroy.push(existingFilter);}});var addFilterComp=this.addFilterComp;if(addFilterComp){ePrevItems.push(addFilterComp.getGui());}var addFilterOptions=filterPanelSvc.getAvailable();if(addFilterOptions.length){if(!addFilterComp){addFilterComp=this.createBean(new AddFilterComp(addFilterOptions));addFilterComp.addManagedListeners(addFilterComp,{filterSelected:_ref77=>{var{id}=_ref77;return filterPanelSvc.add(id);}});}addFilterComp.refresh(addFilterOptions);eNewItems.push(addFilterComp.getGui());}else{addFilterComp=this.destroyBean(addFilterComp);}this.addFilterComp=addFilterComp;compareAndUpdateListsInDom(eContainer,eNewItems,ePrevItems);compsToDestroy.forEach(comp=>this.destroyBean(comp));var activeId=params===null||params===void 0?void 0:params.activeId;var activeItemToFocus=activeId&&((_newFilters$get=newFilters.get(activeId))===null||_newFilters$get===void 0?void 0:_newFilters$get.getGui());if(activeItemToFocus){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._focusInto)(activeItemToFocus);}else if(containerHasFocus&&(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isNothingFocused)(beans)){var _eNewItems;(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._focusInto)((_eNewItems=eNewItems[eNewItems.length-1])!==null&&_eNewItems!==void 0?_eNewItems:eContainer);}this.refreshActions();}refreshActions(){var _filterPanelSvc$getAc;var filterPanelSvc=this.beans.filterPanelSvc;var{actions,canApply}=(_filterPanelSvc$getAc=filterPanelSvc.getActions())!==null&&_filterPanelSvc$getAc!==void 0?_filterPanelSvc$getAc:{};var buttonComp=this.buttonComp;if(actions!==null&&actions!==void 0&&actions.length){if(!buttonComp){buttonComp=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FilterButtonComp({className:\"ag-filter-panel-buttons\"}));this.getGui().appendChild(buttonComp.getGui());var listeners={};[\"apply\",\"clear\",\"reset\",\"cancel\"].forEach(action=>{listeners[action]=()=>filterPanelSvc.doAction(action);});buttonComp.addManagedListeners(buttonComp,listeners);}buttonComp.updateButtons(actions);buttonComp.updateValidity(canApply);}else{if(buttonComp){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._removeFromParent)(buttonComp.getGui());buttonComp=this.destroyBean(buttonComp);}}this.buttonComp=buttonComp;}destroy(){this.addFilterComp=this.destroyBean(this.addFilterComp);this.buttonComp=this.destroyBean(this.buttonComp);var filters=this.filters;filters.forEach(filter=>this.destroyBean(filter));filters.clear();super.destroy();}};// packages/ag-grid-enterprise/src/filterToolPanel/newFilterToolPanel/newFiltersToolPanel.css-GENERATED.ts\nvar newFiltersToolPanelCSS=/*css*/\".ag-filter-panel{display:flex;flex-direction:column;width:100%;:where(.ag-standard-button){transition:background-color .25s ease-in-out,color .25s ease-in-out}}.ag-filter-panel .ag-simple-filter-body-wrapper{padding:var(--ag-widget-vertical-spacing) var(--ag-widget-container-horizontal-padding) 0}.ag-filter-panel .ag-mini-filter{margin-left:var(--ag-widget-container-horizontal-padding);margin-right:var(--ag-widget-container-horizontal-padding);margin-top:var(--ag-widget-vertical-spacing)}.ag-filter-panel-container{flex:1;overflow:auto;padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding) 0}.ag-filter-panel-container>:where(:not(:last-child)){margin-bottom:var(--ag-widget-container-vertical-padding)}.ag-filter-card{background-color:var(--ag-background-color);border:solid var(--ag-border-width) var(--ag-border-color);border-radius:var(--ag-border-radius)}.ag-filter-card-header{align-items:center;display:flex;flex-direction:row;padding-top:var(--ag-widget-vertical-spacing)}:where(.ag-ltr) .ag-filter-card-header{&>:where(:not(:last-child)){padding-right:var(--ag-spacing)}}:where(.ag-rtl) .ag-filter-card-header{&>:where(:not(:last-child)){padding-left:var(--ag-spacing)}}.ag-filter-card-heading{flex:1;overflow:hidden;padding-bottom:calc(var(--ag-widget-container-vertical-padding) - var(--ag-widget-vertical-spacing));padding-top:calc(var(--ag-widget-container-vertical-padding) - var(--ag-widget-vertical-spacing))}:where(.ag-ltr) .ag-filter-card-heading{padding-left:var(--ag-widget-horizontal-spacing)}:where(.ag-rtl) .ag-filter-card-heading{padding-right:var(--ag-widget-horizontal-spacing)}.ag-filter-card-expand{align-items:center;display:flex;flex-direction:row;width:100%}.ag-filter-card-title{font-weight:var(--ag-header-font-weight);overflow:hidden;text-overflow:ellipsis}.ag-filter-card-expand-icon{display:flex;flex:1;justify-content:end}.ag-filter-card-editing-icon{margin:0 var(--ag-spacing)}.ag-filter-card-delete-icon,.ag-filter-card-editing-icon,.ag-filter-card-expand-icon,.ag-filter-card-summary{color:var(--ag-filter-panel-card-subtle-color)}.ag-filter-card-delete-icon,.ag-filter-card-expand-icon{transition:color .25s ease-in-out}.ag-filter-card-delete-icon:hover,.ag-filter-card-expand-icon:hover,.ag-filter-card-heading:hover .ag-filter-card-expand-icon{color:var(--ag-filter-panel-card-subtle-hover-color)}.ag-filter-add-button,.ag-filter-card-delete,.ag-filter-card-expand{border-radius:var(--ag-button-border-radius)}.ag-filter-card-summary,.ag-filter-type-select{margin-left:var(--ag-widget-container-horizontal-padding);margin-right:var(--ag-widget-container-horizontal-padding)}:where(.ag-ltr) .ag-filter-card-delete{margin-right:var(--ag-widget-horizontal-spacing)}:where(.ag-rtl) .ag-filter-card-delete{margin-left:var(--ag-widget-horizontal-spacing)}.ag-filter-card-summary{margin-bottom:var(--ag-widget-container-vertical-padding)}.ag-filter-type-select{padding-top:var(--ag-widget-vertical-spacing)}.ag-filter-card-add{border:0;padding:0}.ag-filter-add-button{align-items:center;display:flex;flex-direction:row;line-height:1.5;width:100%}:where(.ag-ltr) .ag-filter-add-button-label{margin-left:var(--ag-spacing)}:where(.ag-rtl) .ag-filter-add-button-label{margin-right:var(--ag-spacing)}.ag-filter-add-select{border:0;.ag-rich-select-value{border:0;padding:calc(((1.5*var(--ag-font-size) + 2*var(--ag-button-vertical-padding)) - var(--ag-input-height))/2) var(--ag-spacing)}}:where(.ag-ltr) .ag-filter-add-select{.ag-text-field-input{padding-left:calc(var(--ag-spacing)*1.5 + 12px)!important}}:where(.ag-rtl) .ag-filter-add-select{.ag-text-field-input{padding-right:calc(var(--ag-spacing)*1.5 + 12px)!important}}.ag-filter-panel-buttons{display:flex;flex-wrap:wrap;gap:var(--ag-widget-vertical-spacing) var(--ag-widget-horizontal-spacing);justify-content:flex-end;overflow:hidden;padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding) 0}.ag-filter-panel-buttons-button{line-height:1.5}.ag-filter-panel .ag-filter-panel-buttons-apply-button{background-color:var(--ag-filter-panel-apply-button-background-color);color:var(--ag-filter-panel-apply-button-color)}.ag-filter-panel>:where(:last-child){padding-bottom:var(--ag-widget-container-vertical-padding)}.ag-filter-panel .ag-set-filter-body-wrapper,.ag-filter-panel .ag-simple-filter-body-wrapper>:last-child{margin-bottom:var(--ag-widget-container-vertical-padding)}\";// packages/ag-grid-enterprise/src/filterToolPanel/newFilterToolPanel/wrapperToolPanel.ts\nvar WrapperToolPanel=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(){super();this.registerCSS(newFiltersToolPanelCSS);}init(params){if(!this.gos.get(\"enableFilterHandlers\")){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(282);return;}var filterPanelSvc=this.beans.filterPanelSvc;filterPanelSvc.isActive=true;this.addDestroyFunc(()=>{filterPanelSvc.isActive=false;});this.updateParams(params,params.initialState);var filterPanel=this.createManagedBean(new FilterPanel());this.filterPanel=filterPanel;var refresh=event=>{filterPanel.refresh(event);params.onStateUpdated();};refresh();this.addManagedListeners(filterPanelSvc,{filterPanelStatesChanged:refresh,filterPanelStateChanged:refresh});}getGui(){var _this$filterPanel;return(_this$filterPanel=this.filterPanel)===null||_this$filterPanel===void 0?void 0:_this$filterPanel.getGui();}refresh(params){this.updateParams(params);return true;}updateParams(params,initialState){var _this$beans$filterPan;(_this$beans$filterPan=this.beans.filterPanelSvc)===null||_this$beans$filterPan===void 0||_this$beans$filterPan.updateParams(params,initialState);}getState(){var _this$beans$filterPan2,_this$beans$filterPan3;return(_this$beans$filterPan2=(_this$beans$filterPan3=this.beans.filterPanelSvc)===null||_this$beans$filterPan3===void 0?void 0:_this$beans$filterPan3.getGridState())!==null&&_this$beans$filterPan2!==void 0?_this$beans$filterPan2:{};}};// packages/ag-grid-enterprise/src/filterToolPanel/filtersToolPanelModule.ts\nvar FiltersToolPanelModule={moduleName:\"FiltersToolPanel\",version:VERSION,userComponents:{agFiltersToolPanel:FiltersToolPanel},icons:{// filter tool panel tab\nfiltersToolPanel:\"filter\"},dependsOn:[SideBarModule,EnterpriseCoreModule,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._ColumnFilterModule]};var NewFiltersToolPanelModule={moduleName:\"NewFiltersToolPanel\",version:VERSION,userComponents:{agNewFiltersToolPanel:WrapperToolPanel},beans:[FilterPanelService,SelectableFilterService],icons:{// filter add button in new filter tool panel\nfilterAdd:\"filter-add\",// filter tool panel tab\nfiltersToolPanel:\"filter\",// open icon for rich select\nrichSelectOpen:\"small-down\",// remove for rich select editor pills\nrichSelectRemove:\"cancel\",// button to expand filter card in new filter tool panel\nfilterCardExpand:\"chevron-down\",// button to collapse filter card in new filter tool panel\nfilterCardCollapse:\"chevron-up\",// indicates filter card in new filter tool panel has edits\nfilterCardEditing:\"edit\"},dependsOn:[SideBarModule,EnterpriseCoreModule,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._ColumnFilterModule]};// packages/ag-grid-enterprise/src/masterDetail/masterDetailModule.ts\n// packages/ag-grid-enterprise/src/masterDetail/detailCellRenderer.ts\n// packages/ag-grid-enterprise/src/masterDetail/detailCellRendererCtrl.ts\nvar DetailCellRendererCtrl=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BeanStub{constructor(){super(...arguments);this.loadRowDataVersion=0;}wireBeans(beans){this.environment=beans.environment;}init(comp,params){this.params=params;this.comp=comp;var doNothingBecauseInsidePinnedSection=params.pinned!=null;if(doNothingBecauseInsidePinnedSection){return;}this.setAutoHeightClasses();this.setupRefreshStrategy();this.createDetailGrid();this.loadRowData();this.addManagedEventListeners({fullWidthRowFocused:this.onFullWidthRowFocused.bind(this)});}onFullWidthRowFocused(e){var params=this.params;var row={rowIndex:params.node.rowIndex,rowPinned:params.node.rowPinned};var eventRow={rowIndex:e.rowIndex,rowPinned:e.rowPinned};var isSameRow=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isSameRow)(row,eventRow);if(!isSameRow){return;}(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._focusInto)(this.comp.getGui(),e.fromBelow);}setAutoHeightClasses(){var autoHeight=this.gos.get(\"detailRowAutoHeight\");var parentClass=autoHeight?\"ag-details-row-auto-height\":\"ag-details-row-fixed-height\";var detailClass=autoHeight?\"ag-details-grid-auto-height\":\"ag-details-grid-fixed-height\";var comp=this.comp;comp.toggleCss(parentClass,true);comp.toggleDetailGridCss(detailClass,true);}setupRefreshStrategy(){var providedStrategy=this.params.refreshStrategy;var validSelection=providedStrategy==\"everything\"||providedStrategy==\"nothing\"||providedStrategy==\"rows\";if(validSelection){this.refreshStrategy=providedStrategy;return;}if(providedStrategy!=null){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(170,{providedStrategy});}this.refreshStrategy=\"rows\";}createDetailGrid(){var{params,gos}=this;if((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._missing)(params.detailGridOptions)){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(171);return;}var masterTheme=gos.get(\"theme\");var detailTheme=params.detailGridOptions.theme;if(detailTheme&&detailTheme!==masterTheme){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(267);}var gridOptions=_objectSpread(_objectSpread({themeStyleContainer:this.environment.eStyleContainer},params.detailGridOptions),{},{theme:masterTheme});var autoHeight=gos.get(\"detailRowAutoHeight\");if(autoHeight){gridOptions.domLayout=\"autoHeight\";}this.comp.setDetailGrid(gridOptions);}registerDetailWithMaster(api){var{params,beans:{selectionSvc,findSvc}}=this;var rowId=params.node.id;var masterGridApi=params.api;var gridInfo={id:rowId,api};var rowNode=params.node;if(masterGridApi.isDestroyed()){return;}masterGridApi.addDetailGridInfo(rowId,gridInfo);rowNode.detailGridInfo=gridInfo;var masterNode=rowNode.parent;findSvc===null||findSvc===void 0||findSvc.registerDetailGrid(rowNode,api);function onDetailSelectionChanged(){if(masterNode){selectionSvc===null||selectionSvc===void 0||selectionSvc.refreshMasterNodeState(masterNode);}}function onMasterRowSelected(_ref78){var{node,source}=_ref78;if(node!==masterNode||source===\"masterDetail\"||api.isDestroyed()){return;}selectionSvc===null||selectionSvc===void 0||selectionSvc.setDetailSelectionState(masterNode,params.detailGridOptions,api);}api.addEventListener(\"firstDataRendered\",()=>{if(api.isDestroyed()||masterGridApi.isDestroyed())return;selectionSvc===null||selectionSvc===void 0||selectionSvc.setDetailSelectionState(masterNode,params.detailGridOptions,api);api.addEventListener(\"selectionChanged\",onDetailSelectionChanged);masterGridApi.addEventListener(\"rowSelected\",onMasterRowSelected);});this.addDestroyFunc(()=>{if(rowNode.detailGridInfo!==gridInfo){return;}if(!masterGridApi.isDestroyed()){masterGridApi.removeDetailGridInfo(rowId);}rowNode.detailGridInfo=null;});}loadRowData(){var _params$detailGridOpt;this.loadRowDataVersion++;var versionThisCall=this.loadRowDataVersion;var params=this.params;if(((_params$detailGridOpt=params.detailGridOptions)===null||_params$detailGridOpt===void 0?void 0:_params$detailGridOpt.rowModelType)===\"serverSide\"){var _node$detailGridInfo;var node=params.node;(_node$detailGridInfo=node.detailGridInfo)===null||_node$detailGridInfo===void 0||(_node$detailGridInfo=_node$detailGridInfo.api)===null||_node$detailGridInfo===void 0||_node$detailGridInfo.refreshServerSide({purge:true});return;}var userFunc=params.getDetailRowData;if(!userFunc){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(172);return;}var successCallback=rowData=>{var mostRecentCall=this.loadRowDataVersion===versionThisCall;if(mostRecentCall){this.comp.setRowData(rowData);}};var funcParams={node:params.node,// we take data from node, rather than params.data\n// as the data could have been updated with new instance\ndata:params.node.data,successCallback,context:(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._addGridCommonParams)(this.gos,{}).context};userFunc(funcParams);}refresh(){var GET_GRID_TO_REFRESH=false;var GET_GRID_TO_DO_NOTHING=true;switch(this.refreshStrategy){case\"nothing\":return GET_GRID_TO_DO_NOTHING;case\"everything\":return GET_GRID_TO_REFRESH;}this.loadRowData();return GET_GRID_TO_DO_NOTHING;}};// packages/ag-grid-enterprise/src/masterDetail/detailFrameworkComponentWrapper.ts\nvar DetailFrameworkComponentWrapper=class{constructor(parentWrapper){this.parentWrapper=parentWrapper;}wrap(frameworkComponent,mandatoryMethods,optionalMethods,componentType){return this.parentWrapper.wrap(frameworkComponent,mandatoryMethods,optionalMethods,componentType);}};// packages/ag-grid-enterprise/src/masterDetail/detailCellRenderer.ts\nvar PinnedDetailCellRendererElement={tag:\"div\",cls:\"ag-details-row\"};var DetailCellRendererElement={tag:\"div\",cls:\"ag-details-row\",role:\"gridcell\",children:[{tag:\"div\",ref:\"eDetailGrid\",cls:\"ag-details-grid\",role:\"presentation\"}]};var DetailCellRenderer=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(){super(...arguments);this.eDetailGrid=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;}wireBeans(beans){this.context=beans.context;}init(params){this.params=params;this.selectAndSetTemplate();var compProxy={toggleCss:(cssClassName,on)=>this.toggleCss(cssClassName,on),toggleDetailGridCss:(cssClassName,on)=>this.eDetailGrid.classList.toggle(cssClassName,on),setDetailGrid:gridOptions=>this.setDetailGrid(gridOptions),setRowData:rowData=>this.setRowData(rowData),getGui:()=>this.eDetailGrid};this.ctrl=this.createManagedBean(new DetailCellRendererCtrl());this.ctrl.init(compProxy,params);}refresh(){var _this$ctrl$refresh,_this$ctrl;return(_this$ctrl$refresh=(_this$ctrl=this.ctrl)===null||_this$ctrl===void 0?void 0:_this$ctrl.refresh())!==null&&_this$ctrl$refresh!==void 0?_this$ctrl$refresh:false;}selectAndSetTemplate(){var params=this.params;if(params.pinned){this.setTemplate(PinnedDetailCellRendererElement);return;}var setDefaultTemplate=()=>{this.setTemplate(DetailCellRendererElement);};if((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._missing)(params.template)){setDefaultTemplate();}else{if(typeof params.template===\"string\"){this.setTemplate(params.template,[]);}else if(typeof params.template===\"function\"){var templateFunc=params.template;var template=templateFunc(params);this.setTemplate(template,[]);}else{(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(168);setDefaultTemplate();}}if(this.eDetailGrid==null){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(169);}}setDetailGrid(gridOptions){var _gridOptions$rowModel,_this$ctrl2;if(!this.eDetailGrid){return;}var parentFrameworkComponentWrapper=this.context.getBean(\"frameworkCompWrapper\");var frameworkCompWrapper=new DetailFrameworkComponentWrapper(parentFrameworkComponentWrapper);var{frameworkOverrides}=this.beans;var api=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.createGrid)(this.eDetailGrid,gridOptions,{frameworkOverrides,providedBeanInstances:{frameworkCompWrapper},modules:(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getGridRegisteredModules)(this.params.api.getGridId(),(_gridOptions$rowModel=gridOptions.rowModelType)!==null&&_gridOptions$rowModel!==void 0?_gridOptions$rowModel:\"clientSide\")});this.detailApi=api;(_this$ctrl2=this.ctrl)===null||_this$ctrl2===void 0||_this$ctrl2.registerDetailWithMaster(api);this.addDestroyFunc(()=>{api.destroy();});}setRowData(rowData){var _this$detailApi;(_this$detailApi=this.detailApi)===null||_this$detailApi===void 0||_this$detailApi.setGridOption(\"rowData\",rowData);}};// packages/ag-grid-enterprise/src/masterDetail/masterDetailApi.ts\nfunction operateOnStore(beans,callback){var _beans$masterDetailSv;var store=(_beans$masterDetailSv=beans.masterDetailSvc)===null||_beans$masterDetailSv===void 0?void 0:_beans$masterDetailSv.store;return store?callback(store):void 0;}function addDetailGridInfo(beans,id,gridInfo){operateOnStore(beans,store=>{store[id]=gridInfo;});}function removeDetailGridInfo(beans,id){operateOnStore(beans,store=>{delete store[id];});}function getDetailGridInfo(beans,id){return operateOnStore(beans,store=>store[id]);}function forEachDetailGridInfo(beans,callback){operateOnStore(beans,store=>{var index=0;Object.values(store).forEach(gridInfo=>{if(gridInfo){callback(gridInfo,index++);}});});}// packages/ag-grid-enterprise/src/masterDetail/masterDetailModule.css-GENERATED.ts\nvar masterDetailModuleCSS=/*css*/\".ag-details-row{width:100%}.ag-details-row-fixed-height{height:100%}.ag-details-grid{width:100%}.ag-details-grid-fixed-height{height:100%}\";// packages/ag-grid-enterprise/src/masterDetail/masterDetailService.ts\nvar MasterDetailService=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BeanStub{constructor(){super(...arguments);this.beanName=\"masterDetailSvc\";this.store={};}isEnabled(){var gos=this.gos;return gos.get(\"masterDetail\")&&// TODO: AG-1752: [Tree Data] Allow tree data leaf rows to serve as master rows for detail grids (Tree Data hosting Master/Detail)\"\n!gos.get(\"treeData\");}postConstruct(){if((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isClientSideRowModel)(this.gos)){this.enabled=this.isEnabled();this.addManagedEventListeners({beforeRefreshModel:this.beforeRefreshModel.bind(this)});}}beforeRefreshModel(_ref79){var{params}=_ref79;if(params.changedProps){var enabled=this.isEnabled();if(this.enabled!==enabled){this.setMasters(null);return;}}if(params.rowDataUpdated){this.setMasters(params.changedRowNodes);}}setMasters(changedRowNodes){var enabled=this.isEnabled();this.enabled=enabled;var gos=this.gos;var isRowMaster=gos.get(\"isRowMaster\");var groupDefaultExpanded=gos.get(\"groupDefaultExpanded\");var setMaster=(row,created,updated)=>{var oldMaster=row.master;var newMaster=enabled;if(enabled){if(created||updated){if(isRowMaster){var data=row.data;newMaster=!!data&&!!isRowMaster(data);}}else{newMaster=oldMaster;}}if(newMaster&&created){if(groupDefaultExpanded===-1){row.expanded=true;}else{var _this$beans$rowGroupC9,_this$beans$rowGroupC0;var masterRowLevel=(_this$beans$rowGroupC9=(_this$beans$rowGroupC0=this.beans.rowGroupColsSvc)===null||_this$beans$rowGroupC0===void 0?void 0:_this$beans$rowGroupC0.columns.length)!==null&&_this$beans$rowGroupC9!==void 0?_this$beans$rowGroupC9:0;row.expanded=masterRowLevel<groupDefaultExpanded;}}else if(!newMaster&&oldMaster){row.expanded=false;}if(newMaster!==oldMaster){row.master=newMaster;row.dispatchRowEvent(\"masterChanged\");}};if(changedRowNodes){for(var node of changedRowNodes.updates){setMaster(node,false,true);}for(var _node of changedRowNodes.adds){setMaster(_node,true,false);}}else{var _getClientSideRowMode;var allLeafChildren=(_getClientSideRowMode=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getClientSideRowModel)(this.beans))===null||_getClientSideRowMode===void 0||(_getClientSideRowMode=_getClientSideRowMode.rootNode)===null||_getClientSideRowMode===void 0?void 0:_getClientSideRowMode.allLeafChildren;if(allLeafChildren){for(var i=0,len=allLeafChildren.length;i<len;++i){setMaster(allLeafChildren[i],true,false);}}}}/** Used by flatten stage to get or create a detail node from a master node */getDetail(masterNode){if(!masterNode.master||!masterNode.expanded){return null;}var detailNode=masterNode.detailNode;if(detailNode){return detailNode;}detailNode=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RowNode(this.beans);detailNode.detail=true;detailNode.selectable=false;detailNode.parent=masterNode;if((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._exists)(masterNode.id)){detailNode.id=\"detail_\"+masterNode.id;}detailNode.data=masterNode.data;detailNode.level=masterNode.level+1;masterNode.detailNode=detailNode;return detailNode;}setupDetailRowAutoHeight(rowCtrl,eDetailGui){var{gos,beans}=this;if(!gos.get(\"detailRowAutoHeight\")){return;}var checkRowSizeFunc=()=>{var clientHeight=eDetailGui.clientHeight;if(clientHeight!=null&&clientHeight>0){var updateRowHeightFunc=()=>{var{rowModel}=this.beans;var{rowNode}=rowCtrl;rowNode.setRowHeight(clientHeight);if((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isClientSideRowModel)(gos,rowModel)||(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isServerSideRowModel)(gos,rowModel)){rowModel.onRowHeightChanged();}};window.setTimeout(updateRowHeightFunc,0);}};var resizeObserverDestroyFunc=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._observeResize)(beans,eDetailGui,checkRowSizeFunc);rowCtrl.addDestroyFunc(resizeObserverDestroyFunc);checkRowSizeFunc();}destroy(){this.store={};super.destroy();}};// packages/ag-grid-enterprise/src/masterDetail/masterDetailModule.ts\nvar SharedMasterDetailModule={moduleName:\"SharedMasterDetail\",version:VERSION,beans:[MasterDetailService],userComponents:{agDetailCellRenderer:DetailCellRenderer},dynamicBeans:{detailCellRendererCtrl:DetailCellRendererCtrl},apiFunctions:{addDetailGridInfo,removeDetailGridInfo,getDetailGridInfo,forEachDetailGridInfo},dependsOn:[EnterpriseCoreModule,GroupCellRendererModule,StickyRowModule],css:[masterDetailModuleCSS]};var MasterDetailModule={moduleName:\"MasterDetail\",version:VERSION,dependsOn:[SharedMasterDetailModule,ClientSideRowModelHierarchyModule,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EventApiModule]};// packages/ag-grid-enterprise/src/rangeSelection/rangeSelectionModule.ts\n// packages/ag-grid-enterprise/src/rangeSelection/agFillHandle.ts\n// packages/ag-grid-enterprise/src/rangeSelection/abstractSelectionHandle.ts\nvar AbstractSelectionHandle=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(){super(...arguments);this.changedCalculatedValues=false;this.dragging=false;this.shouldDestroyOnEndDragging=false;}postConstruct(){var{dragSvc,rangeSvc}=this.beans;dragSvc.addDragSource({dragStartPixels:0,eElement:this.getGui(),onDragStart:this.onDragStart.bind(this),onDragging:e=>{this.dragging=true;rangeSvc.autoScrollService.check(e);if(this.changedCalculatedValues){this.onDrag(e);this.changedCalculatedValues=false;}},onDragStop:e=>{this.dragging=false;this.onDragEnd(e);this.clearDragProperties();if(this.shouldDestroyOnEndDragging){this.destroy();}},onDragCancel:()=>{this.dragging=false;this.onDragCancel();this.clearDragProperties();}});this.addManagedElementListeners(this.getGui(),{mousedown:this.preventRangeExtension.bind(this)});}getLastCellHovered(){return this.lastCellHovered;}preventRangeExtension(e){e.stopPropagation();}onDragStart(_){[this.cellHoverListener]=this.addManagedElementListeners(this.beans.ctrlsSvc.get(\"gridCtrl\").getGui(),{mousemove:this.updateValuesOnMove.bind(this)});document.body.classList.add(this.getDraggingCssClass());}getDraggingCssClass(){return\"ag-dragging-\".concat(this.type===0/* FILL */?\"fill\":\"range\",\"-handle\");}updateValuesOnMove(e){var cell=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getCellPositionForEvent)(this.gos,e);if(!cell||this.shouldSkipCell(cell)||this.lastCellHovered&&(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._areCellsEqual)(cell,this.lastCellHovered)){return;}this.lastCellHovered=cell;this.changedCalculatedValues=true;}clearDragProperties(){this.clearValues();this.beans.rangeSvc.autoScrollService.ensureCleared();document.body.classList.remove(this.getDraggingCssClass());}getType(){return this.type;}refresh(cellCtrl){var oldCellComp=this.cellCtrl;var eGui=this.getGui();var cellRange=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._last)(this.beans.rangeSvc.getCellRanges());var start=cellRange.startRow;var end=cellRange.endRow;if(start&&end){var isBefore=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isRowBefore)(end,start);if(isBefore){this.rangeStartRow=end;this.rangeEndRow=start;}else{this.rangeStartRow=start;this.rangeEndRow=end;}}if(oldCellComp!==cellCtrl||!(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isVisible)(eGui)){this.cellCtrl=cellCtrl;var eParentOfValue=cellCtrl.comp.getParentOfValue();if(eParentOfValue){eParentOfValue.appendChild(eGui);}}this.cellRange=cellRange;}clearValues(){this.lastCellHovered=void 0;this.removeListeners();}removeListeners(){var cellHoverListener=this.cellHoverListener;if(cellHoverListener){cellHoverListener();this.cellHoverListener=void 0;}}destroy(){var _eGui$parentElement;if(!this.shouldDestroyOnEndDragging&&this.dragging){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setDisplayed)(this.getGui(),false);this.shouldDestroyOnEndDragging=true;return;}this.shouldDestroyOnEndDragging=false;super.destroy();this.removeListeners();var eGui=this.getGui();(_eGui$parentElement=eGui.parentElement)===null||_eGui$parentElement===void 0||_eGui$parentElement.removeChild(eGui);}};// packages/ag-grid-enterprise/src/rangeSelection/utils.ts\nfunction findLineByLeastSquares(values){var len=values.length;var maxDecimals=0;if(len<=1){return values;}for(var i=0;i<values.length;i++){var value=values[i];var splitExponent=value.toString().split(\"e-\");if(splitExponent.length>1){maxDecimals=Math.max(maxDecimals,parseInt(splitExponent[1],10));continue;}if(Math.floor(value)===value){continue;}maxDecimals=Math.max(maxDecimals,value.toString().split(\".\")[1].length);}var sum_x=0;var sum_y=0;var sum_xy=0;var sum_xx=0;var y=0;for(var x=0;x<len;x++){y=values[x];sum_x+=x;sum_y+=y;sum_xx+=x*x;sum_xy+=x*y;}var m=(len*sum_xy-sum_x*sum_y)/(len*sum_xx-sum_x*sum_x);var b=sum_y/len-m*sum_x/len;var result=[];for(var _x5=0;_x5<=len;_x5++){result.push(parseFloat((_x5*m+b).toFixed(maxDecimals)));}return result;}// packages/ag-grid-enterprise/src/rangeSelection/agFillHandle.ts\nvar FillHandleElement={tag:\"div\",cls:\"ag-fill-handle\"};var AgFillHandle=class extends AbstractSelectionHandle{constructor(){super(FillHandleElement);this.markedCells=[];this.cellValues=[];this.isUp=false;this.isLeft=false;this.isReduce=false;this.type=0/* FILL */;}updateValuesOnMove(e){super.updateValuesOnMove(e);if(!this.initialXY){this.initialXY=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getNormalisedMousePosition)(this.beans,e);}var{x,y}=this.initialXY;var{x:newX,y:newY}=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getNormalisedMousePosition)(this.beans,e);var diffX=Math.abs(x-newX);var diffY=Math.abs(y-newY);var allowedDirection=this.getFillHandleDirection();var direction;if(allowedDirection===\"xy\"){direction=diffX>diffY?\"x\":\"y\";}else{direction=allowedDirection;}if(direction!==this.dragAxis){this.dragAxis=direction;this.changedCalculatedValues=true;}}shouldSkipCell(cell){return (0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.isRowNumberCol)(cell.column);}onDrag(_){if(!this.initialPosition){var cellCtrl=this.cellCtrl;if(!cellCtrl){return;}this.initialPosition=cellCtrl.cellPosition;}var lastCellHovered=this.getLastCellHovered();if(lastCellHovered){this.markPathFrom(this.initialPosition,lastCellHovered);}}onDragEnd(e){this.initialXY=null;if(!this.markedCells.length){return;}var isX=this.dragAxis===\"x\";var{cellRange:initialRange,rangeStartRow,rangeEndRow,beans}=this;var colLen=initialRange.columns.length;var finalRange;var{rangeSvc,eventSvc}=beans;if(!this.isUp&&!this.isLeft){finalRange=rangeSvc.createCellRangeFromCellRangeParams({rowStartIndex:rangeStartRow.rowIndex,rowStartPinned:rangeStartRow.rowPinned,columnStart:initialRange.columns[0],rowEndIndex:isX?rangeEndRow.rowIndex:this.lastCellMarked.rowIndex,rowEndPinned:isX?rangeEndRow.rowPinned:this.lastCellMarked.rowPinned,columnEnd:isX?this.lastCellMarked.column:initialRange.columns[colLen-1]});}else{var startRow=isX?rangeStartRow:this.lastCellMarked;finalRange=rangeSvc.createCellRangeFromCellRangeParams({rowStartIndex:startRow.rowIndex,rowStartPinned:startRow.rowPinned,columnStart:isX?this.lastCellMarked.column:initialRange.columns[0],rowEndIndex:rangeEndRow.rowIndex,rowEndPinned:rangeEndRow.rowPinned,columnEnd:initialRange.columns[colLen-1]});}if(finalRange){eventSvc.dispatchEvent({type:\"fillStart\"});this.handleValueChanged(initialRange,finalRange,e);rangeSvc.setCellRanges([finalRange]);eventSvc.dispatchEvent({type:\"fillEnd\",initialRange,finalRange});}}onDragCancel(){this.initialXY=null;if(!this.markedCells.length){return;}this.clearMarkedPath();}getFillHandleDirection(){var _getFillHandle2;var direction=(_getFillHandle2=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getFillHandle)(this.gos))===null||_getFillHandle2===void 0?void 0:_getFillHandle2.direction;if(!direction){return\"xy\";}if(direction!==\"x\"&&direction!==\"y\"&&direction!==\"xy\"){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(177);return\"xy\";}return direction;}handleValueChanged(initialRange,finalRange,e){var _getFillHandle3,_this13=this,_this$beans$editSvc3;var{beans}=this;var{rangeSvc,gos,valueSvc}=beans;var initialRangeEndRow=rangeSvc.getRangeEndRow(initialRange);var initialRangeStartRow=rangeSvc.getRangeStartRow(initialRange);var finalRangeEndRow=rangeSvc.getRangeEndRow(finalRange);var finalRangeStartRow=rangeSvc.getRangeStartRow(finalRange);var isVertical=this.dragAxis===\"y\";if(this.isReduce&&!((_getFillHandle3=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getFillHandle)(gos))!==null&&_getFillHandle3!==void 0&&_getFillHandle3.suppressClearOnFillReduction)){var columns=isVertical?initialRange.columns:initialRange.columns.filter(col=>finalRange.columns.indexOf(col)<0);var startRow=isVertical?(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getRowBelow)(beans,finalRangeEndRow):finalRangeStartRow;if(startRow){this.clearCellsInRange(startRow,initialRangeEndRow,columns);}return;}var values=[];var initialValues=[];var initialNonAggregatedValues=[];var initialFormattedValues=[];var withinInitialRange=true;var idx=0;var resetValues=()=>{values.length=0;initialValues.length=0;initialNonAggregatedValues.length=0;initialFormattedValues.length=0;idx=0;};var iterateAcrossCells=(column,columns)=>{var currentRow=this.isUp?initialRangeEndRow:initialRangeStartRow;var finished=false;if(isVertical){withinInitialRange=true;resetValues();}var _loop9=function _loop9(){var rowNode=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getRowNode)(beans,currentRow);if(!rowNode){return 1;// break\n}if(isVertical&&column){fillValues(values,column,rowNode,()=>!(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isSameRow)(currentRow,_this13.isUp?initialRangeStartRow:initialRangeEndRow));}else if(columns){withinInitialRange=true;resetValues();columns.forEach(col=>fillValues(values,col,rowNode,()=>col!==(_this13.isLeft?initialRange.columns[0]:(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._last)(initialRange.columns))));}finished=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isSameRow)(currentRow,_this13.isUp?finalRangeStartRow:finalRangeEndRow);currentRow=_this13.isUp?(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getRowAbove)(_this13.beans,currentRow):(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getRowBelow)(beans,currentRow);};while(!finished&&currentRow){if(_loop9())break;}};var fillValues=(currentValues,col,rowNode,updateInitialSet)=>{var currentValue;var skipValue=false;if(withinInitialRange){currentValue=valueSvc.getValue(col,rowNode);initialValues.push(currentValue);initialNonAggregatedValues.push(valueSvc.getValue(col,rowNode,true));initialFormattedValues.push(valueSvc.formatValue(col,rowNode,currentValue));withinInitialRange=updateInitialSet();}else{var{value,fromUserFunction,sourceCol,sourceRowNode}=this.processValues({event:e,values:currentValues,initialValues,initialNonAggregatedValues,initialFormattedValues,col,rowNode,idx:idx++});currentValue=value;if(col.isCellEditable(rowNode)){var cellValue=valueSvc.getValue(col,rowNode);if(!fromUserFunction){if(sourceCol){var sourceColDef=sourceCol.getColDef();if(sourceColDef.useValueFormatterForExport!==false&&sourceColDef.valueFormatter){var formattedValue=valueSvc.formatValue(sourceCol,sourceRowNode,currentValue);if(formattedValue!=null){currentValue=formattedValue;}}}if(col.getColDef().useValueParserForImport!==false){currentValue=valueSvc.parseValue(col,rowNode,// if no sourceCol, then currentValue is a number\nsourceCol?currentValue:(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._toStringOrNull)(currentValue),cellValue);}}if(!fromUserFunction||cellValue!==currentValue){rowNode.setDataValue(col,currentValue,\"rangeSvc\");}else{skipValue=true;}}}if(!skipValue){currentValues.push({value:currentValue,column:col,rowNode});}};if(isVertical){initialRange.columns.forEach(col=>{iterateAcrossCells(col);});}else{var _columns=this.isLeft?[...finalRange.columns].reverse():finalRange.columns;iterateAcrossCells(void 0,_columns);}(_this$beans$editSvc3=this.beans.editSvc)===null||_this$beans$editSvc3===void 0||_this$beans$editSvc3.stopEditing(void 0,{source:\"fillHandle\"});}clearCellsInRange(startRow,endRow,columns){var cellRange={startRow,endRow,columns,startColumn:columns[0]};this.beans.rangeSvc.clearCellRangeCellValues({cellRanges:[cellRange]});}processValues(params){var _getFillHandle4;var{event,values,initialValues,initialNonAggregatedValues,initialFormattedValues,col,rowNode,idx}=params;var userFillOperation=(_getFillHandle4=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getFillHandle)(this.gos))===null||_getFillHandle4===void 0?void 0:_getFillHandle4.setFillValue;var isVertical=this.dragAxis===\"y\";var direction;if(isVertical){direction=this.isUp?\"up\":\"down\";}else{direction=this.isLeft?\"left\":\"right\";}if(userFillOperation){var params2=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._addGridCommonParams)(this.gos,{event,values:values.map(_ref80=>{var{value}=_ref80;return value;}),initialValues,initialNonAggregatedValues,initialFormattedValues,currentIndex:idx,currentCellValue:this.beans.valueSvc.getValue(col,rowNode),direction,column:col,rowNode});var userResult=userFillOperation(params2);if(userResult!==false){return{value:userResult,fromUserFunction:true};}}var allNumbers=!values.some(_ref81=>{var{value}=_ref81;var asFloat=parseFloat(value);return isNaN(asFloat)||asFloat.toString()!==value.toString();});if(event.altKey||!allNumbers){if(allNumbers&&initialValues.length===1){var multiplier=this.isUp||this.isLeft?-1:1;return{value:parseFloat((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._last)(values).value)+1*multiplier,fromUserFunction:false};}var{value,column:sourceCol,rowNode:sourceRowNode}=values[idx%values.length];return{value,fromUserFunction:false,sourceCol,sourceRowNode};}return{value:(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._last)(findLineByLeastSquares(values.map(_ref82=>{var{value}=_ref82;return Number(value);}))),fromUserFunction:false};}clearValues(){this.clearMarkedPath();this.clearCellValues();this.lastCellMarked=void 0;super.clearValues();}clearMarkedPath(){this.markedCells.forEach(cell=>{if(!cell.isAlive()){return;}var{comp}=cell;comp.toggleCss(\"ag-selection-fill-top\",false);comp.toggleCss(\"ag-selection-fill-right\",false);comp.toggleCss(\"ag-selection-fill-bottom\",false);comp.toggleCss(\"ag-selection-fill-left\",false);});this.markedCells.length=0;this.isUp=false;this.isLeft=false;this.isReduce=false;}clearCellValues(){this.cellValues.length=0;}markPathFrom(initialPosition,currentPosition){this.clearMarkedPath();this.clearCellValues();if(this.dragAxis===\"y\"){if((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isSameRow)(currentPosition,initialPosition)){return;}var isBefore=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isRowBefore)(currentPosition,initialPosition);var{rangeStartRow,rangeEndRow}=this;if(isBefore&&(currentPosition.rowPinned==rangeStartRow.rowPinned&&currentPosition.rowIndex>=rangeStartRow.rowIndex||rangeStartRow.rowPinned!=rangeEndRow.rowPinned&&currentPosition.rowPinned==rangeEndRow.rowPinned&&currentPosition.rowIndex<=rangeEndRow.rowIndex)){this.reduceVertical(initialPosition,currentPosition);this.isReduce=true;}else{this.extendVertical(initialPosition,currentPosition,isBefore);this.isReduce=false;}}else{var initialColumn=initialPosition.column;var currentColumn=currentPosition.column;if(initialColumn===currentColumn){return;}var displayedColumns=this.beans.visibleCols.allCols;var initialIndex=displayedColumns.indexOf(initialColumn);var currentIndex=displayedColumns.indexOf(currentColumn);if(currentIndex<=initialIndex&&currentIndex>=displayedColumns.indexOf(this.cellRange.columns[0])){this.reduceHorizontal(initialPosition,currentPosition);this.isReduce=true;}else{this.extendHorizontal(initialPosition,currentPosition,currentIndex<initialIndex);this.isReduce=false;}}this.lastCellMarked=currentPosition;}extendVertical(initialPosition,endPosition,isMovingUp){var beans=this.beans;var{rangeSvc}=beans;var row=initialPosition;do{var cellRange=this.cellRange;var colLen=cellRange.columns.length;for(var i=0;i<colLen;i++){var column=cellRange.columns[i];var rowPos={rowIndex:row.rowIndex,rowPinned:row.rowPinned};var cellPos=_objectSpread(_objectSpread({},rowPos),{},{column});var cellInRange=rangeSvc.isCellInSpecificRange(cellPos,cellRange);var isInitialRow=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isSameRow)(row,initialPosition);if(isMovingUp){this.isUp=true;}if(!isInitialRow){var cell=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getCellByPosition)(beans,cellPos);if(cell){this.markedCells.push(cell);var cellComp=cell.comp;if(!cellInRange){cellComp.toggleCss(\"ag-selection-fill-left\",i===0);cellComp.toggleCss(\"ag-selection-fill-right\",i===colLen-1);}cellComp.toggleCss(isMovingUp?\"ag-selection-fill-top\":\"ag-selection-fill-bottom\",(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isSameRow)(row,endPosition));}}}if((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isSameRow)(row,endPosition)){break;}}while(// tslint:disable-next-line\nrow=isMovingUp?(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getRowAbove)(this.beans,row):(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getRowBelow)(beans,row));}reduceVertical(initialPosition,endPosition){var row=initialPosition;var beans=this.beans;do{var cellRange=this.cellRange;var colLen=cellRange.columns.length;var isLastRow=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isSameRow)(row,endPosition);for(var i=0;i<colLen;i++){var rowPos={rowIndex:row.rowIndex,rowPinned:row.rowPinned};var celPos=_objectSpread(_objectSpread({},rowPos),{},{column:cellRange.columns[i]});var cell=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getCellByPosition)(beans,celPos);if(cell){this.markedCells.push(cell);cell.comp.toggleCss(\"ag-selection-fill-bottom\",(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isSameRow)(row,endPosition));}}if(isLastRow){break;}}while(row=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getRowAbove)(beans,row));}extendHorizontal(initialPosition,endPosition,isMovingLeft){var beans=this.beans;var{visibleCols}=beans;var allCols=visibleCols.allCols;var startCol=allCols.indexOf(isMovingLeft?endPosition.column:initialPosition.column);var endCol=allCols.indexOf(isMovingLeft?this.cellRange.columns[0]:endPosition.column);var offset=isMovingLeft?0:1;var colsToMark=allCols.slice(startCol+offset,endCol+offset);var{rangeStartRow,rangeEndRow}=this;colsToMark.forEach(column=>{var row=rangeStartRow;var isLastRow=false;do{isLastRow=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isSameRow)(row,rangeEndRow);var cell=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getCellByPosition)(beans,{rowIndex:row.rowIndex,rowPinned:row.rowPinned,column});if(cell){this.markedCells.push(cell);var cellComp=cell.comp;cellComp.toggleCss(\"ag-selection-fill-top\",(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isSameRow)(row,rangeStartRow));cellComp.toggleCss(\"ag-selection-fill-bottom\",(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isSameRow)(row,rangeEndRow));if(isMovingLeft){this.isLeft=true;cellComp.toggleCss(\"ag-selection-fill-left\",column===colsToMark[0]);}else{cellComp.toggleCss(\"ag-selection-fill-right\",column===(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._last)(colsToMark));}}row=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getRowBelow)(beans,row);}while(!isLastRow);});}reduceHorizontal(initialPosition,endPosition){var beans=this.beans;var{visibleCols}=beans;var allCols=visibleCols.allCols;var startCol=allCols.indexOf(endPosition.column);var endCol=allCols.indexOf(initialPosition.column);var colsToMark=allCols.slice(startCol,endCol);var{rangeStartRow,rangeEndRow}=this;colsToMark.forEach(column=>{var row=rangeStartRow;var isLastRow=false;do{isLastRow=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isSameRow)(row,rangeEndRow);var cell=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getCellByPosition)(this.beans,{rowIndex:row.rowIndex,rowPinned:row.rowPinned,column});if(cell){this.markedCells.push(cell);cell.comp.toggleCss(\"ag-selection-fill-right\",column===colsToMark[0]);}row=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getRowBelow)(beans,row);}while(!isLastRow);});}refresh(cellCtrl){var cellRange=this.beans.rangeSvc.getCellRanges()[0];var isColumnRange=!cellRange.startRow||!cellRange.endRow;if(isColumnRange){this.destroy();return;}super.refresh(cellCtrl);}};// packages/ag-grid-enterprise/src/rangeSelection/agRangeHandle.ts\nvar AgRangeHandle=class extends AbstractSelectionHandle{constructor(){super({tag:\"div\",cls:\"ag-range-handle\"});this.type=1/* RANGE */;this.rangeFixed=false;}onDrag(_){var lastCellHovered=this.getLastCellHovered();if(!lastCellHovered){return;}var rangeSvc=this.beans.rangeSvc;var cellRanges=rangeSvc.getCellRanges();var lastRange=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._last)(cellRanges);if(!this.rangeFixed){this.fixRangeStartEnd(lastRange);this.rangeFixed=true;}this.endPosition={rowIndex:lastCellHovered.rowIndex,rowPinned:lastCellHovered.rowPinned,column:lastCellHovered.column};if(cellRanges.length===2&&cellRanges[0].type===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.CellRangeType.DIMENSION&&lastRange.type===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.CellRangeType.VALUE){var rowChanged=!(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isSameRow)(this.endPosition,rangeSvc.getRangeEndRow(lastRange));if(rowChanged){rangeSvc.updateRangeEnd(cellRanges[0],_objectSpread(_objectSpread({},this.endPosition),{},{column:cellRanges[0].columns[0]}),true);}}rangeSvc.extendLatestRangeToCell(this.endPosition);}shouldSkipCell(_){return false;}onDragEnd(_){var cellRange=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._last)(this.beans.rangeSvc.getCellRanges());this.fixRangeStartEnd(cellRange);this.rangeFixed=false;}onDragCancel(){this.rangeFixed=false;}fixRangeStartEnd(cellRange){var rangeSvc=this.beans.rangeSvc;var startRow=rangeSvc.getRangeStartRow(cellRange);var endRow=rangeSvc.getRangeEndRow(cellRange);var column=cellRange.columns[0];cellRange.startRow=startRow;cellRange.endRow=endRow;cellRange.startColumn=column;}};// packages/ag-grid-enterprise/src/rangeSelection/rangeSelection.css-GENERATED.ts\nvar rangeSelectionCSS=/*css*/\".ag-body-viewport:not(.ag-has-focus) .ag-cell-range-single-cell:not(.ag-cell-inline-editing),.ag-cell-range-selected.ag-cell-range-chart,.ag-cell-range-selected:not(.ag-cell-focus){background-color:var(--ag-range-selection-background-color);&.ag-cell-range-chart{background-color:var(--ag-range-selection-chart-background-color)!important;&.ag-cell-range-chart-category{background-color:var(--ag-range-selection-chart-category-background-color)!important}}}.ag-cell-range-selected-1.ag-cell-range-chart,.ag-cell-range-selected-1:not(.ag-cell-focus),.ag-root:not(.ag-context-menu-open) .ag-body-viewport:not(.ag-has-focus) .ag-cell-range-selected-1:not(.ag-cell-inline-editing){background-color:var(--ag-range-selection-background-color)}.ag-cell-range-selected-2.ag-cell-range-chart,.ag-cell-range-selected-2:not(.ag-cell-focus){background-image:linear-gradient(var(--ag-range-selection-background-color),var(--ag-range-selection-background-color))}.ag-cell-range-selected-3.ag-cell-range-chart,.ag-cell-range-selected-3:not(.ag-cell-focus){background-image:linear-gradient(var(--ag-range-selection-background-color),var(--ag-range-selection-background-color)),linear-gradient(var(--ag-range-selection-background-color),var(--ag-range-selection-background-color))}.ag-cell-range-selected-4.ag-cell-range-chart,.ag-cell-range-selected-4:not(.ag-cell-focus){background-image:linear-gradient(var(--ag-range-selection-background-color),var(--ag-range-selection-background-color)),linear-gradient(var(--ag-range-selection-background-color),var(--ag-range-selection-background-color)),linear-gradient(var(--ag-range-selection-background-color),var(--ag-range-selection-background-color))}.ag-cell.ag-cell-range-selected:not(.ag-cell-range-single-cell){&.ag-cell-range-top{border-top-color:var(--ag-range-selection-border-color);border-top-style:var(--ag-range-selection-border-style)}&.ag-cell-range-right{border-right-color:var(--ag-range-selection-border-color);border-right-style:var(--ag-range-selection-border-style)}&.ag-cell-range-bottom{border-bottom-color:var(--ag-range-selection-border-color);border-bottom-style:var(--ag-range-selection-border-style)}&.ag-cell-range-left{border-left-color:var(--ag-range-selection-border-color);border-left-style:var(--ag-range-selection-border-style)}}.ag-cell.ag-selection-fill-top,.ag-cell.ag-selection-fill-top.ag-cell-range-selected{border-top:1px dashed;border-top-color:var(--ag-range-selection-border-color)}:where(.ag-ltr) .ag-cell.ag-selection-fill-right,:where(.ag-ltr) .ag-cell.ag-selection-fill-right.ag-cell-range-selected{border-right:1px dashed var(--ag-range-selection-border-color)!important}:where(.ag-rtl) .ag-cell.ag-selection-fill-right,:where(.ag-rtl) .ag-cell.ag-selection-fill-right.ag-cell-range-selected{border-left:1px dashed var(--ag-range-selection-border-color)!important}.ag-cell.ag-selection-fill-bottom,.ag-cell.ag-selection-fill-bottom.ag-cell-range-selected{border-bottom:1px dashed;border-bottom-color:var(--ag-range-selection-border-color)}:where(.ag-ltr) .ag-cell.ag-selection-fill-left,:where(.ag-ltr) .ag-cell.ag-selection-fill-left.ag-cell-range-selected{border-left:1px dashed var(--ag-range-selection-border-color)!important}:where(.ag-rtl) .ag-cell.ag-selection-fill-left,:where(.ag-rtl) .ag-cell.ag-selection-fill-left.ag-cell-range-selected{border-right:1px dashed var(--ag-range-selection-border-color)!important}.ag-fill-handle,.ag-range-handle{background-color:var(--ag-range-selection-border-color);bottom:-1px;height:6px;position:absolute;width:6px}:where(.ag-ltr) .ag-fill-handle,:where(.ag-ltr) .ag-range-handle{right:-1px}:where(.ag-rtl) .ag-fill-handle,:where(.ag-rtl) .ag-range-handle{left:-1px}.ag-fill-handle{cursor:cell}:where(.ag-ltr) .ag-range-handle{cursor:nwse-resize}:where(.ag-rtl) .ag-range-handle{cursor:nesw-resize}\";// packages/ag-grid-enterprise/src/rangeSelection/rangeSelectionApi.ts\nfunction getCellRanges(beans){var _beans$rangeSvc$getCe,_beans$rangeSvc;return(_beans$rangeSvc$getCe=(_beans$rangeSvc=beans.rangeSvc)===null||_beans$rangeSvc===void 0?void 0:_beans$rangeSvc.getCellRanges())!==null&&_beans$rangeSvc$getCe!==void 0?_beans$rangeSvc$getCe:null;}function addCellRange(beans,params){var _beans$rangeSvc2;(_beans$rangeSvc2=beans.rangeSvc)===null||_beans$rangeSvc2===void 0||_beans$rangeSvc2.addCellRange(params);}function clearRangeSelection(beans){var _beans$rangeSvc3;(_beans$rangeSvc3=beans.rangeSvc)===null||_beans$rangeSvc3===void 0||_beans$rangeSvc3.removeAllCellRanges();}// packages/ag-grid-enterprise/src/rangeSelection/rangeService.ts\n// packages/ag-grid-enterprise/src/rangeSelection/cellRangeFeature.ts\nvar CSS_CELL_RANGE_SELECTED=\"ag-cell-range-selected\";var CSS_CELL_RANGE_CHART=\"ag-cell-range-chart\";var CSS_CELL_RANGE_SINGLE_CELL=\"ag-cell-range-single-cell\";var CSS_CELL_RANGE_CHART_CATEGORY=\"ag-cell-range-chart-category\";var CSS_CELL_RANGE_HANDLE=\"ag-cell-range-handle\";var CSS_CELL_RANGE_TOP=\"ag-cell-range-top\";var CSS_CELL_RANGE_RIGHT=\"ag-cell-range-right\";var CSS_CELL_RANGE_BOTTOM=\"ag-cell-range-bottom\";var CSS_CELL_RANGE_LEFT=\"ag-cell-range-left\";function _isRangeHandleEnabled(gos){var _selection$handle;var selection=gos.get(\"cellSelection\");var useNewAPI=selection!==void 0;if(!useNewAPI){return gos.get(\"enableRangeHandle\");}return typeof selection!==\"boolean\"?((_selection$handle=selection.handle)===null||_selection$handle===void 0?void 0:_selection$handle.mode)===\"range\":false;}function _isFillHandleEnabled(gos){var _selection$handle2;var selection=gos.get(\"cellSelection\");var useNewAPI=selection!==void 0;if(!useNewAPI){return gos.get(\"enableFillHandle\");}return typeof selection!==\"boolean\"?((_selection$handle2=selection.handle)===null||_selection$handle2===void 0?void 0:_selection$handle2.mode)===\"fill\":false;}var CellRangeFeature=class{constructor(beans,cellCtrl){this.beans=beans;this.cellCtrl=cellCtrl;this.rangeSvc=beans.rangeSvc;}setComp(cellComp){this.cellComp=cellComp;this.eGui=this.cellCtrl.eGui;this.onCellSelectionChanged();}onCellSelectionChanged(){var cellComp=this.cellComp;if(!cellComp){return;}var{rangeSvc,cellCtrl,eGui}=this;var rangeCount=rangeSvc.getCellRangeCount(cellCtrl.cellPosition);this.rangeCount=rangeCount;var hasChartRange=this.getHasChartRange();this.hasChartRange=hasChartRange;cellComp.toggleCss(CSS_CELL_RANGE_SELECTED,rangeCount!==0);cellComp.toggleCss(\"\".concat(CSS_CELL_RANGE_SELECTED,\"-1\"),rangeCount===1);cellComp.toggleCss(\"\".concat(CSS_CELL_RANGE_SELECTED,\"-2\"),rangeCount===2);cellComp.toggleCss(\"\".concat(CSS_CELL_RANGE_SELECTED,\"-3\"),rangeCount===3);cellComp.toggleCss(\"\".concat(CSS_CELL_RANGE_SELECTED,\"-4\"),rangeCount>=4);cellComp.toggleCss(CSS_CELL_RANGE_CHART,hasChartRange);(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setAriaSelected)(eGui,rangeCount>0?true:void 0);cellComp.toggleCss(CSS_CELL_RANGE_SINGLE_CELL,this.isSingleCell());this.updateRangeBorders();this.refreshHandle();}updateRangeBorders(){var rangeBorders=this.getRangeBorders();var isSingleCell=this.isSingleCell();var isTop=!isSingleCell&&rangeBorders.top;var isRight=!isSingleCell&&rangeBorders.right;var isBottom=!isSingleCell&&rangeBorders.bottom;var isLeft=!isSingleCell&&rangeBorders.left;var cellComp=this.cellComp;cellComp.toggleCss(CSS_CELL_RANGE_TOP,isTop);cellComp.toggleCss(CSS_CELL_RANGE_RIGHT,isRight);cellComp.toggleCss(CSS_CELL_RANGE_BOTTOM,isBottom);cellComp.toggleCss(CSS_CELL_RANGE_LEFT,isLeft);}isSingleCell(){var{rangeSvc}=this;return this.rangeCount===1&&!!rangeSvc&&!rangeSvc.isMoreThanOneCell();}getHasChartRange(){var{rangeSvc}=this;if(!this.rangeCount||!rangeSvc){return false;}var cellRanges=rangeSvc.getCellRanges();return cellRanges.length>0&&cellRanges.every(range=>[ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.CellRangeType.DIMENSION,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.CellRangeType.VALUE].includes(range.type));}updateRangeBordersIfRangeCount(){if(this.rangeCount>0){this.updateRangeBorders();this.refreshHandle();}}getRangeBorders(){var isRtl=this.beans.gos.get(\"enableRtl\");var top=false;var right=false;var bottom=false;var left=false;var{rangeSvc,beans:{visibleCols},cellCtrl:{cellPosition}}=this;var thisCol=cellPosition.column;var ranges=rangeSvc.getCellRanges().filter(range=>rangeSvc.isCellInSpecificRange(cellPosition,range));if(!ranges.length){return{top,right,bottom,left};}var leftCol;var rightCol;if(isRtl){leftCol=visibleCols.getColAfter(thisCol);rightCol=visibleCols.getColBefore(thisCol);}else{leftCol=visibleCols.getColBefore(thisCol);rightCol=visibleCols.getColAfter(thisCol);}if(!leftCol){left=true;}if(!rightCol){right=true;}for(var i=0;i<ranges.length;i++){if(top&&right&&bottom&&left){break;}var range=ranges[i];var startRow=rangeSvc.getRangeStartRow(range);var endRow=rangeSvc.getRangeEndRow(range);if(!top&&(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isSameRow)(startRow,cellPosition)){top=true;}if(!bottom&&(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isSameRow)(endRow,cellPosition)){bottom=true;}if(!left&&leftCol&&range.columns.indexOf(leftCol)<0){left=true;}if(!right&&rightCol&&range.columns.indexOf(rightCol)<0){right=true;}}return{top,right,bottom,left};}refreshHandle(){if(this.beans.context.isDestroyed()){return;}var shouldHaveSelectionHandle=this.shouldHaveSelectionHandle();if(this.selectionHandle&&!shouldHaveSelectionHandle){this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle);}if(shouldHaveSelectionHandle){this.addSelectionHandle();}this.cellComp.toggleCss(CSS_CELL_RANGE_HANDLE,!!this.selectionHandle);}shouldHaveSelectionHandle(){var{gos,editSvc}=this.beans;var rangeSvc=this.rangeSvc;var cellRanges=rangeSvc.getCellRanges();var rangesLen=cellRanges.length;if(this.rangeCount<1||rangesLen<1){return false;}var cellRange=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._last)(cellRanges);var{cellPosition,column}=this.cellCtrl;var isFillHandleAvailable=_isFillHandleEnabled(gos)&&!column.isSuppressFillHandle();var isRangeHandleAvailable=_isRangeHandleEnabled(gos);var isCellEditing=editSvc===null||editSvc===void 0?void 0:editSvc.isEditing(this.cellCtrl,{withOpenEditor:true});var handleIsAvailable=rangesLen===1&&!isCellEditing&&(isFillHandleAvailable||isRangeHandleAvailable);if(this.hasChartRange){var hasCategoryRange=cellRanges[0].type===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.CellRangeType.DIMENSION;var isCategoryCell=hasCategoryRange&&rangeSvc.isCellInSpecificRange(cellPosition,cellRanges[0]);this.cellComp.toggleCss(CSS_CELL_RANGE_CHART_CATEGORY,isCategoryCell);handleIsAvailable=cellRange.type===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.CellRangeType.VALUE;}return handleIsAvailable&&cellRange.endRow!=null&&rangeSvc.isContiguousRange(cellRange)&&rangeSvc.isBottomRightCell(cellRange,cellPosition);}addSelectionHandle(){var _this$selectionHandle;var{beans,rangeSvc}=this;var cellRangeType=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._last)(rangeSvc.getCellRanges()).type;var selectionHandleFill=_isFillHandleEnabled(beans.gos)&&(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._missing)(cellRangeType);var type=selectionHandleFill?0/* FILL */:1/* RANGE */;if(this.selectionHandle&&this.selectionHandle.getType()!==type){this.selectionHandle=beans.context.destroyBean(this.selectionHandle);}if(!this.selectionHandle){var selectionHandle=beans.registry.createDynamicBean(type===0/* FILL */?\"fillHandle\":\"rangeHandle\",false);if(selectionHandle){this.selectionHandle=beans.context.createBean(selectionHandle);}}(_this$selectionHandle=this.selectionHandle)===null||_this$selectionHandle===void 0||_this$selectionHandle.refresh(this.cellCtrl);}destroy(){this.beans.context.destroyBean(this.selectionHandle);}};// packages/ag-grid-enterprise/src/rangeSelection/dragListenerFeature.ts\nvar DragListenerFeature=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BeanStub{constructor(eContainer){super();this.eContainer=eContainer;}postConstruct(){var{beans,gos,eContainer}=this;var rangeSvc=beans.rangeSvc;var params={eElement:eContainer,onDragStart:rangeSvc.onDragStart.bind(rangeSvc),onDragStop:rangeSvc.onDragStop.bind(rangeSvc),onDragging:rangeSvc.onDragging.bind(rangeSvc)};var dragSvc=beans.dragSvc;var enableFeature=dragSvc.addDragSource.bind(dragSvc,params);var disableFeature=dragSvc.removeDragSource.bind(dragSvc,params);this.addManagedPropertyListeners([\"enableRangeSelection\",\"cellSelection\"],()=>{if((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isCellSelectionEnabled)(gos)){enableFeature();}else{disableFeature();}});this.addDestroyFunc(disableFeature);if((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isCellSelectionEnabled)(gos)){enableFeature();}}};// packages/ag-grid-enterprise/src/rangeSelection/rangeHeaderHighlightFeature.ts\nvar RangeHeaderHighlightFeature=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BeanStub{constructor(column,comp){super();this.column=column;this.comp=comp;this.columnMap=/* @__PURE__ */new Map();this.isActive=false;this.resetColumnMap();}postConstruct(){this.addManagedPropertyListener(\"cellSelection\",()=>{this.refreshActive();});this.refreshActive();this.setupRangeHeaderHighlight();}resetColumnMap(){this.columnMap.clear();var columns;if(this.column.isColumn){columns=[this.column];}else{columns=this.column.getDisplayedLeafColumns();}for(var column of columns){this.columnMap.set(column,false);}}refreshActive(){var{gos,rangeSvc}=this.beans;var selection=gos.get(\"cellSelection\");this.isActive=!!(selection&&rangeSvc&&typeof selection===\"object\"&&selection.enableHeaderHighlight);}setupRangeHeaderHighlight(){var listener=this.onRangeSelectionChanged.bind(this);this.addManagedEventListeners({rangeSelectionChanged:listener,columnPinned:listener,columnMoved:listener,columnGroupOpened:listener});listener();}onRangeSelectionChanged(){if(!this.isActive){return;}this.resetColumnMap();var ranges=this.beans.rangeSvc.getCellRanges();var hasRange=false;var isAllColumnRange=true;for(var range of ranges){if(hasRange){break;}for(var column of range.columns){if(this.columnMap.has(column)){this.columnMap.set(column,true);hasRange||(hasRange=true);}}}for(var value of Array.from(this.columnMap.values())){if(value===false){isAllColumnRange=false;break;}}this.comp.toggleCss(\"ag-header-range-highlight\",hasRange&&isAllColumnRange);}destroy(){super.destroy();this.comp=null;this.column=null;}};// packages/ag-grid-enterprise/src/rangeSelection/rangeService.ts\nvar RangeService=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BeanStub{constructor(){super(...arguments);this.beanName=\"rangeSvc\";this.cellRanges=[];this.bodyScrollListener=this.onBodyScroll.bind(this);this.dragging=false;this.intersectionRange=false;}wireBeans(beans){this.rowModel=beans.rowModel;this.dragSvc=beans.dragSvc;this.colModel=beans.colModel;this.visibleCols=beans.visibleCols;this.cellNavigation=beans.cellNavigation;this.ctrlsSvc=beans.ctrlsSvc;this.valueSvc=beans.valueSvc;}postConstruct(){var onColumnsChanged=this.onColumnsChanged.bind(this);var removeAllCellRanges=()=>this.removeAllCellRanges();var refreshLastRangeStart=this.refreshLastRangeStart.bind(this);this.addManagedEventListeners({newColumnsLoaded:onColumnsChanged,columnVisible:onColumnsChanged,columnValueChanged:onColumnsChanged,columnPivotModeChanged:removeAllCellRanges,columnRowGroupChanged:removeAllCellRanges,columnPivotChanged:removeAllCellRanges,columnGroupOpened:refreshLastRangeStart,columnMoved:refreshLastRangeStart,columnPinned:refreshLastRangeStart});this.ctrlsSvc.whenReady(this,p=>{var gridBodyCtrl=p.gridBodyCtrl;this.autoScrollService=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AutoScrollService({scrollContainer:gridBodyCtrl.eBodyViewport,scrollAxis:\"xy\",getVerticalPosition:()=>gridBodyCtrl.scrollFeature.getVScrollPosition().top,setVerticalPosition:position=>gridBodyCtrl.scrollFeature.setVerticalScrollPosition(position),getHorizontalPosition:()=>gridBodyCtrl.scrollFeature.getHScrollPosition().left,setHorizontalPosition:position=>gridBodyCtrl.scrollFeature.setHorizontalScrollPosition(position),shouldSkipVerticalScroll:()=>!(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isDomLayout)(this.gos,\"normal\"),shouldSkipHorizontalScroll:()=>!gridBodyCtrl.scrollFeature.isHorizontalScrollShowing()});});}// Drag And Drop Target Methods\nonDragStart(mouseEvent){var _this$cellRanges;if(!(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isCellSelectionEnabled)(this.gos)){return;}var{ctrlKey,metaKey,shiftKey}=mouseEvent;var isMultiKey=ctrlKey||metaKey;var allowMulti=!(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getSuppressMultiRanges)(this.gos);var isMultiSelect=allowMulti?isMultiKey:false;var extendRange=shiftKey&&!!((_this$cellRanges=this.cellRanges)!==null&&_this$cellRanges!==void 0&&_this$cellRanges.length);if(!isMultiSelect&&(!extendRange||(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._exists)((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._last)(this.cellRanges).type))){this.removeAllCellRanges(true);}var startTarget=this.dragSvc.startTarget;if(startTarget){this.updateValuesOnMove(startTarget);}if(!this.lastCellHovered){return;}this.dragging=true;this.lastMouseEvent=mouseEvent;this.intersectionRange=isMultiSelect&&this.getCellRangeCount(this.lastCellHovered)>1;if(!extendRange){this.setNewestRangeStartCell(this.lastCellHovered);}if(this.cellRanges.length>0){this.draggingRange=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._last)(this.cellRanges);}else{var mouseRowPosition={rowIndex:this.lastCellHovered.rowIndex,rowPinned:this.lastCellHovered.rowPinned};var columns=this.getColumnsFromModel([this.lastCellHovered.column]);if(!columns||!columns.length){return;}this.draggingRange={startRow:mouseRowPosition,endRow:mouseRowPosition,columns,startColumn:this.newestRangeStartCell.column};this.cellRanges.push(this.draggingRange);}this.ctrlsSvc.getGridBodyCtrl().eBodyViewport.addEventListener(\"scroll\",this.bodyScrollListener,{passive:true});this.dispatchChangedEvent(true,false,this.draggingRange.id);}onDragging(mouseEvent){var{dragging,lastCellHovered,newestRangeStartCell,autoScrollService,cellHasChanged}=this;if(!dragging||!mouseEvent){return;}this.updateValuesOnMove(mouseEvent.target);this.lastMouseEvent=mouseEvent;var isMouseAndStartInPinned=position=>lastCellHovered&&lastCellHovered.rowPinned===position&&newestRangeStartCell.rowPinned===position;var skipVerticalScroll=isMouseAndStartInPinned(\"top\")||isMouseAndStartInPinned(\"bottom\");autoScrollService.check(mouseEvent,skipVerticalScroll);if(!cellHasChanged||!lastCellHovered){return;}var startColumn=newestRangeStartCell===null||newestRangeStartCell===void 0?void 0:newestRangeStartCell.column;var currentColumn=lastCellHovered===null||lastCellHovered===void 0?void 0:lastCellHovered.column;var columns=this.calculateColumnsBetween(startColumn,currentColumn);if(!columns){return;}var{rowIndex,rowPinned}=lastCellHovered;this.draggingRange.endRow={rowIndex,rowPinned};this.draggingRange.columns=columns;this.dispatchChangedEvent(false,false,this.draggingRange.id);}onDragStop(){if(!this.dragging){return;}var{id}=this.draggingRange;this.autoScrollService.ensureCleared();this.ctrlsSvc.getGridBodyCtrl().eBodyViewport.removeEventListener(\"scroll\",this.bodyScrollListener);this.lastMouseEvent=null;this.dragging=false;this.draggingRange=void 0;this.lastCellHovered=void 0;if(this.intersectionRange){this.intersectionRange=false;this.intersectLastRange();}this.dispatchChangedEvent(false,true,id);}// Called for both columns loaded & column visibility events\nonColumnsChanged(){this.refreshLastRangeStart();var allColumns=this.visibleCols.allCols;this.cellRanges.forEach(cellRange=>{var beforeCols=cellRange.columns;cellRange.columns=cellRange.columns.filter(col=>col.isVisible()&&allColumns.indexOf(col)!==-1);var colsInRangeChanged=!(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._areEqual)(beforeCols,cellRange.columns);if(colsInRangeChanged){this.dispatchChangedEvent(false,true,cellRange.id);}});var countBefore=this.cellRanges.length;this.cellRanges=this.cellRanges.filter(range=>range.columns.length>0);if(countBefore>this.cellRanges.length){this.dispatchChangedEvent(false,true);}}refreshLastRangeStart(){var lastRange=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._last)(this.cellRanges);if(!lastRange){return;}this.refreshRangeStart(lastRange);}isContiguousRange(cellRange){var rangeColumns=cellRange.columns;if(!rangeColumns.length){return false;}var allColumns=this.visibleCols.allCols;var allPositions=rangeColumns.map(c=>allColumns.indexOf(c)).sort((a,b)=>a-b);return (0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._last)(allPositions)-allPositions[0]+1===rangeColumns.length;}getRangeStartRow(cellRange){var _this$beans$pinnedRow2,_this$beans$pinnedRow3;if(cellRange.startRow&&cellRange.endRow){return (0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isRowBefore)(cellRange.startRow,cellRange.endRow)?cellRange.startRow:cellRange.endRow;}var pinnedTopRowCount=(_this$beans$pinnedRow2=(_this$beans$pinnedRow3=this.beans.pinnedRowModel)===null||_this$beans$pinnedRow3===void 0?void 0:_this$beans$pinnedRow3.getPinnedTopRowCount())!==null&&_this$beans$pinnedRow2!==void 0?_this$beans$pinnedRow2:0;var rowPinned=pinnedTopRowCount>0?\"top\":null;return{rowIndex:0,rowPinned};}getRangeEndRow(cellRange){var _this$beans$pinnedRow4,_this$beans$pinnedRow5;if(cellRange.startRow&&cellRange.endRow){return (0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isRowBefore)(cellRange.startRow,cellRange.endRow)?cellRange.endRow:cellRange.startRow;}var pinnedBottomRowCount=(_this$beans$pinnedRow4=(_this$beans$pinnedRow5=this.beans.pinnedRowModel)===null||_this$beans$pinnedRow5===void 0?void 0:_this$beans$pinnedRow5.getPinnedBottomRowCount())!==null&&_this$beans$pinnedRow4!==void 0?_this$beans$pinnedRow4:0;var pinnedBottom=pinnedBottomRowCount>0;if(pinnedBottom){return{rowIndex:pinnedBottomRowCount-1,rowPinned:\"bottom\"};}return{rowIndex:this.rowModel.getRowCount()-1,rowPinned:null};}setRangeToCell(cell){var appendRange=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var{gos}=this;if(!(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isCellSelectionEnabled)(gos)){return;}var isRowNumbersEnabled=gos.get(\"rowNumbers\");var allColumnsRange=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.isRowNumberCol)(cell.column);if(isRowNumbersEnabled){this.setSelectionMode(allColumnsRange);}var columns=this.calculateColumnsBetween(cell.column,cell.column);if(!columns){return;}var suppressMultiRangeSelections=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getSuppressMultiRanges)(this.gos);if(suppressMultiRangeSelections||!appendRange||(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._missing)(this.cellRanges)){this.removeAllCellRanges(true);}var rowForCell={rowIndex:cell.rowIndex,rowPinned:cell.rowPinned};var cellRange={startRow:rowForCell,endRow:rowForCell,columns,startColumn:cell.column};this.cellRanges.push(cellRange);this.setNewestRangeStartCell(cell);this.onDragStop();this.dispatchChangedEvent(true,true);}extendLatestRangeToCell(cellPosition){if(this.isEmpty()||!this.newestRangeStartCell){return;}var cellRange=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._last)(this.cellRanges);this.setSelectionMode((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.isRowNumberCol)(cellPosition.column));this.updateRangeEnd(cellRange,cellPosition);}updateRangeEnd(cellRange,cellPosition){var silent=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var endColumn=cellPosition.column;var colsToAdd=this.calculateColumnsBetween(cellRange.startColumn,endColumn);if(!colsToAdd||this.isLastCellOfRange(cellRange,cellPosition)){return;}cellRange.columns=colsToAdd;cellRange.endRow={rowIndex:cellPosition.rowIndex,rowPinned:cellPosition.rowPinned};if(!silent){this.dispatchChangedEvent(true,true,cellRange.id);}}getRangeEdgeColumns(cellRange){var allColumns=this.visibleCols.allCols;var allIndices=cellRange.columns.map(c=>allColumns.indexOf(c)).filter(i=>i>-1).sort((a,b)=>a-b);return{left:allColumns[allIndices[0]],right:allColumns[(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._last)(allIndices)]};}// returns true if successful, false if not successful\nextendLatestRangeInDirection(event){if(this.isEmpty()||!this.newestRangeStartCell){return;}var key=event.key;var ctrlKey=event.ctrlKey||event.metaKey;var lastRange=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._last)(this.cellRanges);var startCell=this.newestRangeStartCell;var firstCol=lastRange.columns[0];var lastCol=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._last)(lastRange.columns);var endCellIndex=lastRange.endRow.rowIndex;var endCellFloating=lastRange.endRow.rowPinned;var endCellColumn=startCell.column===firstCol?lastCol:firstCol;var endCell={column:endCellColumn,rowIndex:endCellIndex,rowPinned:endCellFloating};var newEndCell=this.cellNavigation.getNextCellToFocus(key,endCell,ctrlKey);if(!newEndCell){return;}this.setCellRange({rowStartIndex:startCell.rowIndex,rowStartPinned:startCell.rowPinned,rowEndIndex:newEndCell.rowIndex,rowEndPinned:newEndCell.rowPinned,columnStart:startCell.column,columnEnd:newEndCell.column});return newEndCell;}setCellRange(params){if(!(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isCellSelectionEnabled)(this.gos)){return;}this.removeAllCellRanges(true);this.addCellRange(params);}setCellRanges(cellRanges){if((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._areEqual)(this.cellRanges,cellRanges)){return;}if(!this.verifyCellRanges(this.gos)){return;}this.removeAllCellRanges(true);for(var cellRange of cellRanges){if(cellRange.columns&&cellRange.startRow){var columns=this.getColumnsFromModel(cellRange.columns);if(!columns||columns.length===0){continue;}cellRange.columns=columns;var{startRow}=cellRange;this.setNewestRangeStartCell({rowIndex:startRow.rowIndex,rowPinned:startRow.rowPinned,column:cellRange.columns[0]});}this.cellRanges.push(cellRange);}this.dispatchChangedEvent(false,true);}clearCellRangeCellValues(params){var{beans,valueSvc,eventSvc}=this;var{cellEventSource=\"rangeSvc\",dispatchWrapperEvents,wrapperEventSource=\"deleteKey\"}=params;var{cellRanges}=params;if(dispatchWrapperEvents){eventSvc.dispatchEvent({type:\"cellSelectionDeleteStart\",source:wrapperEventSource});eventSvc.dispatchEvent({type:\"rangeDeleteStart\",source:wrapperEventSource});}if(!cellRanges){cellRanges=this.cellRanges;}cellRanges.forEach(cellRange=>{this.forEachRowInRange(cellRange,rowPosition=>{var rowNode=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getRowNode)(beans,rowPosition);if(!rowNode){return;}for(var i=0;i<cellRange.columns.length;i++){var column=this.getColumnFromModel(cellRange.columns[i]);if(!column||!column.isCellEditable(rowNode)){continue;}var emptyValue=valueSvc.getDeleteValue(column,rowNode);rowNode.setDataValue(column,emptyValue,cellEventSource);}});});if(dispatchWrapperEvents){eventSvc.dispatchEvent({type:\"cellSelectionDeleteEnd\",source:wrapperEventSource});eventSvc.dispatchEvent({type:\"rangeDeleteEnd\",source:wrapperEventSource});}}createCellRangeFromCellRangeParams(params){return this.createPartialCellRangeFromRangeParams(params,false);}// Range service can't normally support a range without columns, but charts can\ncreatePartialCellRangeFromRangeParams(params,allowEmptyColumns){var _this$getColumnFromMo;var{columns:paramColumns,columnStart,columnEnd,rowStartIndex,rowStartPinned,rowEndIndex,rowEndPinned}=params;var columnInfo=this.getColumnsFromParams(paramColumns,columnStart,columnEnd);if(!columnInfo||!allowEmptyColumns&&columnInfo.columns.length===0){return;}var{columns,startsOnTheRight}=columnInfo;var startRow=this.createRowPosition(rowStartIndex,rowStartPinned);var endRow=this.createRowPosition(rowEndIndex,rowEndPinned);return{startRow,endRow,columns,startColumn:(_this$getColumnFromMo=this.getColumnFromModel(columnStart))!==null&&_this$getColumnFromMo!==void 0?_this$getColumnFromMo:startsOnTheRight?(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._last)(columns):columns[0]};}addCellRange(params){var gos=this.gos;if(!(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isCellSelectionEnabled)(gos)||!this.verifyCellRanges(gos)){return;}this.setSelectionMode(false);var newRange=this.createCellRangeFromCellRangeParams(params);if(newRange){if(newRange.startRow){this.setNewestRangeStartCell({rowIndex:newRange.startRow.rowIndex,rowPinned:newRange.startRow.rowPinned,column:newRange.startColumn});}this.cellRanges.push(newRange);this.dispatchChangedEvent(false,true,newRange.id);}}getCellRanges(){return this.cellRanges;}isEmpty(){return this.cellRanges.length===0;}isMoreThanOneCell(){var len=this.cellRanges.length;if(len===0){return false;}if(len>1){return true;}var range=this.cellRanges[0];var startRow=this.getRangeStartRow(range);var endRow=this.getRangeEndRow(range);return startRow.rowPinned!==endRow.rowPinned||startRow.rowIndex!==endRow.rowIndex||range.columns.length!==1;}areAllRangesAbleToMerge(){var rowToColumnMap=/* @__PURE__ */new Map();var len=this.cellRanges.length;if(len<=1)return true;this.cellRanges.forEach(range=>{this.forEachRowInRange(range,row=>{var rowName=\"\".concat(row.rowPinned||\"normal\",\"_\").concat(row.rowIndex);var columns=rowToColumnMap.get(rowName);var currentRangeColIds=range.columns.map(col=>col.getId());if(columns){var filteredColumns=currentRangeColIds.filter(col=>columns.indexOf(col)===-1);columns.push(...filteredColumns);}else{rowToColumnMap.set(rowName,currentRangeColIds);}});});var columnsString;for(var val of rowToColumnMap.values()){var currentValString=val.sort().join();if(columnsString===void 0){columnsString=currentValString;continue;}if(columnsString!==currentValString){return false;}}return true;}removeAllCellRanges(silent){if(this.isEmpty()){return;}this.onDragStop();this.cellRanges.length=0;if(!silent){this.dispatchChangedEvent(false,true);}}isCellInAnyRange(cell){return this.getCellRangeCount(cell)>0;}isCellInSpecificRange(cell,range){var columnInRange=range.columns!==null&&range.columns.includes(cell.column);var rowInRange=this.isRowInRange(cell.rowIndex,cell.rowPinned,range);return columnInRange&&rowInRange;}isBottomRightCell(cellRange,cell){var allColumns=this.visibleCols.allCols;var allPositions=cellRange.columns.map(c=>allColumns.indexOf(c)).sort((a,b)=>a-b);var{startRow,endRow}=cellRange;var lastRow=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isRowBefore)(startRow,endRow)?endRow:startRow;var isRightColumn=allColumns.indexOf(cell.column)===(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._last)(allPositions);var isLastRow=cell.rowIndex===lastRow.rowIndex&&(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._makeNull)(cell.rowPinned)===(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._makeNull)(lastRow.rowPinned);return isRightColumn&&isLastRow;}// returns the number of ranges this cell is in\ngetCellRangeCount(cell){if(this.isEmpty()){return 0;}return this.cellRanges.filter(cellRange=>this.isCellInSpecificRange(cell,cellRange)).length;}isRowInRange(rowIndex,rowPinned,cellRange){var firstRow=this.getRangeStartRow(cellRange);var lastRow=this.getRangeEndRow(cellRange);var thisRow={rowIndex,rowPinned:rowPinned||null};var equalsFirstRow=thisRow.rowIndex===firstRow.rowIndex&&thisRow.rowPinned==firstRow.rowPinned;var equalsLastRow=thisRow.rowIndex===lastRow.rowIndex&&thisRow.rowPinned==lastRow.rowPinned;if(equalsFirstRow||equalsLastRow){return true;}var afterFirstRow=!(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isRowBefore)(thisRow,firstRow);var beforeLastRow=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isRowBefore)(thisRow,lastRow);return afterFirstRow&&beforeLastRow;}intersectLastRange(fromMouseClick){if(fromMouseClick&&this.dragging){return;}if((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getSuppressMultiRanges)(this.gos)){return;}if(this.isEmpty()){return;}var lastRange=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._last)(this.cellRanges);var intersectionStartRow=this.getRangeStartRow(lastRange);var intersectionEndRow=this.getRangeEndRow(lastRange);var newRanges=[];this.cellRanges.slice(0,-1).forEach(range=>{var startRow=this.getRangeStartRow(range);var endRow=this.getRangeEndRow(range);var cols=range.columns;var intersectCols=cols.filter(col=>lastRange.columns.indexOf(col)===-1);if(intersectCols.length===cols.length){newRanges.push(range);return;}if((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isRowBefore)(intersectionEndRow,startRow)||(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isRowBefore)(endRow,intersectionStartRow)){newRanges.push(range);return;}var rangeCountBefore=newRanges.length;if((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isRowBefore)(startRow,intersectionStartRow)){var top={columns:[...cols],startColumn:lastRange.startColumn,startRow:_objectSpread({},startRow),endRow:(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getRowAbove)(this.beans,intersectionStartRow)};newRanges.push(top);}if(intersectCols.length>0){var middle={columns:intersectCols,startColumn:intersectCols.includes(lastRange.startColumn)?lastRange.startColumn:intersectCols[0],startRow:this.rowMax([_objectSpread({},intersectionStartRow),_objectSpread({},startRow)]),endRow:this.rowMin([_objectSpread({},intersectionEndRow),_objectSpread({},endRow)])};newRanges.push(middle);}if((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isRowBefore)(intersectionEndRow,endRow)){newRanges.push({columns:[...cols],startColumn:lastRange.startColumn,startRow:(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getRowBelow)(this.beans,intersectionEndRow),endRow:_objectSpread({},endRow)});}if(newRanges.length-rangeCountBefore===1){newRanges[newRanges.length-1].id=range.id;}});this.cellRanges=newRanges;if(fromMouseClick){this.dispatchChangedEvent(false,true);}}createRangeHighlightFeature(compBean,column,headerComp){compBean.createManagedBean(new RangeHeaderHighlightFeature(column,headerComp));}setSelectionMode(allColumns){this.selectionMode=allColumns?1/* ALL_COLUMNS */:0/* NORMAL */;}refreshRangeStart(cellRange){var{startColumn,columns}=cellRange;var moveColInCellRange=(colToMove,moveToFront)=>{var otherCols=cellRange.columns.filter(col=>col!==colToMove);if(colToMove){cellRange.startColumn=colToMove;cellRange.columns=moveToFront?[colToMove,...otherCols]:[...otherCols,colToMove];}else{cellRange.columns=otherCols;}};var{left,right}=this.getRangeEdgeColumns(cellRange);var shouldMoveLeftCol=startColumn===columns[0]&&startColumn!==left;if(shouldMoveLeftCol){moveColInCellRange(left,true);return;}var shouldMoveRightCol=startColumn===(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._last)(columns)&&startColumn===right;if(shouldMoveRightCol){moveColInCellRange(right,false);return;}}setNewestRangeStartCell(position){this.newestRangeStartCell=position;}getColumnsFromParams(columns,columnA,columnB){var noColsInfo=!columns&&!columnA&&!columnB;var processedColumns;var startsOnTheRight=false;if(noColsInfo||columns){processedColumns=this.getColumnsFromModel(noColsInfo?void 0:columns);}else if(columnA&&columnB){processedColumns=this.calculateColumnsBetween(columnA,columnB);if(processedColumns&&processedColumns.length){startsOnTheRight=processedColumns[0]!==this.getColumnFromModel(columnA);}}return processedColumns?{columns:processedColumns,startsOnTheRight}:void 0;}createRowPosition(rowIndex,rowPinned){return rowIndex!=null?{rowIndex,rowPinned}:void 0;}verifyCellRanges(gos){var invalid=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isUsingNewCellSelectionAPI)(gos)&&(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getSuppressMultiRanges)(gos)&&this.cellRanges.length>1;if(invalid){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(93);}return!invalid;}forEachRowInRange(cellRange,callback){var topRow=this.getRangeStartRow(cellRange);var bottomRow=this.getRangeEndRow(cellRange);var currentRow=topRow;while(currentRow){callback(currentRow);if((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isSameRow)(currentRow,bottomRow)){break;}currentRow=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getRowBelow)(this.beans,currentRow);}}// as the user is dragging outside of the panel, the div starts to scroll, which in turn\n// means we are selection more (or less) cells, but the mouse isn't moving, so we recalculate\n// the selection my mimicking a new mouse event\nonBodyScroll(){if(this.dragging&&this.lastMouseEvent){this.onDragging(this.lastMouseEvent);}}isLastCellOfRange(cellRange,cell){var{startRow,endRow}=cellRange;var lastRow=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isRowBefore)(startRow,endRow)?endRow:startRow;var isLastRow=cell.rowIndex===lastRow.rowIndex&&cell.rowPinned===lastRow.rowPinned;var rangeFirstIndexColumn=cellRange.columns[0];var rangeLastIndexColumn=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._last)(cellRange.columns);var lastRangeColumn=cellRange.startColumn===rangeFirstIndexColumn?rangeLastIndexColumn:rangeFirstIndexColumn;var isLastColumn=cell.column===lastRangeColumn;return isLastColumn&&isLastRow;}rowMax(rows){var max;rows.forEach(row=>{if(max===void 0||(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isRowBefore)(max,row)){max=row;}});return max;}rowMin(rows){var min;rows.forEach(row=>{if(min===void 0||(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isRowBefore)(row,min)){min=row;}});return min;}updateValuesOnMove(eventTarget){var _this$beans$editSvc4;var cellCtrl=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getCellCtrlForEventTarget)(this.gos,eventTarget);var cell=cellCtrl===null||cellCtrl===void 0?void 0:cellCtrl.cellPosition;this.cellHasChanged=false;if(!cell||this.lastCellHovered&&(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._areCellsEqual)(cell,this.lastCellHovered)){return;}var editing=(_this$beans$editSvc4=this.beans.editSvc)===null||_this$beans$editSvc4===void 0?void 0:_this$beans$editSvc4.isEditing(cellCtrl,{withOpenEditor:true});if(editing){this.dragSvc.cancelDrag(eventTarget);return;}if(this.lastCellHovered){this.cellHasChanged=true;}this.lastCellHovered=cell;}shouldSkipCurrentColumn(currentColumn){return (0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.isRowNumberCol)(currentColumn);}dispatchChangedEvent(started,finished,id){this.eventSvc.dispatchEvent({type:\"cellSelectionChanged\",started,finished,id});this.eventSvc.dispatchEvent({type:\"rangeSelectionChanged\",started,finished,id});}getColumnFromModel(col){return typeof col===\"string\"?this.colModel.getCol(col):col;}getColumnsFromModel(cols){var{gos,visibleCols}=this;var isRowHeaderActive=gos.get(\"rowNumbers\");if(!cols||this.selectionMode===1/* ALL_COLUMNS */){cols=visibleCols.allCols;}var columns=[];for(var col of cols){var column=this.getColumnFromModel(col);if(!column||isRowHeaderActive&&this.shouldSkipCurrentColumn(column)){continue;}columns.push(column);}return columns.length?columns:void 0;}calculateColumnsBetween(columnA,columnB){var allColumns=this.visibleCols.allCols;var fromColumn=this.getColumnFromModel(columnA);var toColumn=this.getColumnFromModel(columnB);var isSameColumn=fromColumn===toColumn;var fromIndex=allColumns.indexOf(fromColumn);if(fromIndex<0){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(178,{colId:fromColumn.getId()});return;}var toIndex=isSameColumn?fromIndex:allColumns.indexOf(toColumn);if(toIndex<0){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(178,{colId:toColumn.getId()});return;}if(isSameColumn||this.selectionMode===1/* ALL_COLUMNS */){return this.getColumnsFromModel([fromColumn]);}var firstIndex=Math.min(fromIndex,toIndex);var lastIndex=firstIndex===fromIndex?toIndex:fromIndex;var columns=[];for(var i=firstIndex;i<=lastIndex;i++){columns.push(allColumns[i]);}return this.getColumnsFromModel(columns);}createDragListenerFeature(eContainer){return new DragListenerFeature(eContainer);}createCellRangeFeature(beans,ctrl){return new CellRangeFeature(beans,ctrl);}};// packages/ag-grid-enterprise/src/rangeSelection/rangeSelectionModule.ts\nvar CellSelectionModule={moduleName:\"CellSelection\",version:VERSION,beans:[RangeService],dynamicBeans:{fillHandle:AgFillHandle,rangeHandle:AgRangeHandle},apiFunctions:{getCellRanges,addCellRange,clearRangeSelection,clearCellSelection:clearRangeSelection},dependsOn:[EnterpriseCoreModule,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._KeyboardNavigationModule,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._DragModule],css:[rangeSelectionCSS]};var RangeSelectionModule={moduleName:\"RangeSelection\",version:VERSION,dependsOn:[CellSelectionModule]};// packages/ag-grid-enterprise/src/serverSideRowModel/serverSideRowModelModule.ts\n// packages/ag-grid-enterprise/src/cellRenderers/loadingCellRenderer.ts\nvar LoadingCellRendererElement={tag:\"div\",cls:\"ag-loading\",children:[{tag:\"span\",ref:\"eLoadingIcon\",cls:\"ag-loading-icon\"},{tag:\"span\",ref:\"eLoadingText\",cls:\"ag-loading-text\"}]};var LoadingCellRenderer=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(){super(LoadingCellRendererElement);this.eLoadingIcon=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.eLoadingText=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;}init(params){params.node.failedLoad?this.setupFailed():this.setupLoading();}setupFailed(){this.eLoadingText.textContent=this.getLocaleTextFunc()(\"loadingError\",\"ERR\");}setupLoading(){var eLoadingIcon=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createIconNoSpan)(\"groupLoading\",this.beans,null);if(eLoadingIcon){this.eLoadingIcon.appendChild(eLoadingIcon);}this.eLoadingText.textContent=this.getLocaleTextFunc()(\"loadingOoo\",\"Loading\");}refresh(_params){return false;}};// packages/ag-grid-enterprise/src/cellRenderers/enterpriseCellRendererModule.ts\nvar LoadingCellRendererModule={moduleName:\"LoadingCellRenderer\",version:VERSION,userComponents:{agLoadingCellRenderer:LoadingCellRenderer},icons:{// rotating spinner shown by the loading cell renderer\ngroupLoading:\"loading\"},dependsOn:[EnterpriseCoreModule]};// packages/ag-grid-enterprise/src/pivot/pivotModule.ts\n// packages/ag-grid-enterprise/src/pivot/pivotApi.ts\nfunction isPivotMode(beans){return beans.colModel.isPivotMode();}function getPivotResultColumn(beans,pivotKeys,valueColKey){var _beans$pivotResultCol,_beans$pivotResultCol2;return(_beans$pivotResultCol=(_beans$pivotResultCol2=beans.pivotResultCols)===null||_beans$pivotResultCol2===void 0?void 0:_beans$pivotResultCol2.lookupPivotResultCol(pivotKeys,valueColKey))!==null&&_beans$pivotResultCol!==void 0?_beans$pivotResultCol:null;}function setValueColumns(beans,colKeys){var _beans$valueColsSvc2;(_beans$valueColsSvc2=beans.valueColsSvc)===null||_beans$valueColsSvc2===void 0||_beans$valueColsSvc2.setColumns(colKeys,\"api\");}function getValueColumns(beans){var _beans$valueColsSvc$c,_beans$valueColsSvc3;return(_beans$valueColsSvc$c=(_beans$valueColsSvc3=beans.valueColsSvc)===null||_beans$valueColsSvc3===void 0?void 0:_beans$valueColsSvc3.columns)!==null&&_beans$valueColsSvc$c!==void 0?_beans$valueColsSvc$c:[];}function removeValueColumns(beans,colKeys){var _beans$valueColsSvc4;(_beans$valueColsSvc4=beans.valueColsSvc)===null||_beans$valueColsSvc4===void 0||_beans$valueColsSvc4.removeColumns(colKeys,\"api\");}function addValueColumns(beans,colKeys){var _beans$valueColsSvc5;(_beans$valueColsSvc5=beans.valueColsSvc)===null||_beans$valueColsSvc5===void 0||_beans$valueColsSvc5.addColumns(colKeys,\"api\");}function setPivotColumns(beans,colKeys){var _beans$pivotColsSvc;(_beans$pivotColsSvc=beans.pivotColsSvc)===null||_beans$pivotColsSvc===void 0||_beans$pivotColsSvc.setColumns(colKeys,\"api\");}function removePivotColumns(beans,colKeys){var _beans$pivotColsSvc2;(_beans$pivotColsSvc2=beans.pivotColsSvc)===null||_beans$pivotColsSvc2===void 0||_beans$pivotColsSvc2.removeColumns(colKeys,\"api\");}function addPivotColumns(beans,colKeys){var _beans$pivotColsSvc3;(_beans$pivotColsSvc3=beans.pivotColsSvc)===null||_beans$pivotColsSvc3===void 0||_beans$pivotColsSvc3.addColumns(colKeys,\"api\");}function getPivotColumns(beans){var _beans$pivotColsSvc$c,_beans$pivotColsSvc4;return(_beans$pivotColsSvc$c=(_beans$pivotColsSvc4=beans.pivotColsSvc)===null||_beans$pivotColsSvc4===void 0?void 0:_beans$pivotColsSvc4.columns)!==null&&_beans$pivotColsSvc$c!==void 0?_beans$pivotColsSvc$c:[];}function setPivotResultColumns(beans,colDefs){var _beans$pivotResultCol3;(_beans$pivotResultCol3=beans.pivotResultCols)===null||_beans$pivotResultCol3===void 0||_beans$pivotResultCol3.setPivotResultCols(colDefs,\"api\");}function getPivotResultColumns(beans){var _beans$pivotResultCol4;var pivotResultCols=(_beans$pivotResultCol4=beans.pivotResultCols)===null||_beans$pivotResultCol4===void 0?void 0:_beans$pivotResultCol4.getPivotResultCols();return pivotResultCols?pivotResultCols.list:null;}// packages/ag-grid-enterprise/src/pivot/pivotColDefService.ts\nvar PIVOT_ROW_TOTAL_PREFIX=\"PivotRowTotal_\";var headerNameComparator=(_ref83,_ref84)=>{var{headerName:a}=_ref83;var{headerName:b}=_ref84;if(a&&!b){return 1;}else if(!a&&b){return-1;}else if(!a&&!b){return 0;}if(a<b){return-1;}else if(a>b){return 1;}else{return 0;}};var convertToHeaderNameComparator=comparator=>(a,b)=>comparator(a.headerName,b.headerName);var PivotColDefService=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BeanStub{constructor(){super(...arguments);this.beanName=\"pivotColDefSvc\";}wireBeans(beans){this.colModel=beans.colModel;this.pivotColsSvc=beans.pivotColsSvc;this.valueColsSvc=beans.valueColsSvc;this.colNames=beans.colNames;}postConstruct(){var getFieldSeparator=()=>{var _this$gos$get8;return(_this$gos$get8=this.gos.get(\"serverSidePivotResultFieldSeparator\"))!==null&&_this$gos$get8!==void 0?_this$gos$get8:\"_\";};this.fieldSeparator=getFieldSeparator();this.addManagedPropertyListener(\"serverSidePivotResultFieldSeparator\",()=>{this.fieldSeparator=getFieldSeparator();});var getPivotDefaultExpanded=()=>this.gos.get(\"pivotDefaultExpanded\");this.pivotDefaultExpanded=getPivotDefaultExpanded();this.addManagedPropertyListener(\"pivotDefaultExpanded\",()=>{this.pivotDefaultExpanded=getPivotDefaultExpanded();});}createPivotColumnDefs(uniqueValues){var pivotColumnGroupDefs=this.createPivotColumnsFromUniqueValues(uniqueValues);function extractColDefs(input){var arr=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];input.forEach(def=>{if(def.children!==void 0){extractColDefs(def.children,arr);}else{arr.push(def);}});return arr;}var pivotColumnDefs=extractColDefs(pivotColumnGroupDefs);this.addRowGroupTotals(pivotColumnGroupDefs,pivotColumnDefs);this.addExpandablePivotGroups(pivotColumnGroupDefs,pivotColumnDefs);this.addPivotTotalsToGroups(pivotColumnGroupDefs,pivotColumnDefs);var pivotColumnDefsClone=pivotColumnDefs.map(colDef=>_objectSpread({},colDef));return{pivotColumnGroupDefs,pivotColumnDefs:pivotColumnDefsClone};}createPivotColumnsFromUniqueValues(uniqueValues){var _this$pivotColsSvc$co,_this$pivotColsSvc;var pivotColumns=(_this$pivotColsSvc$co=(_this$pivotColsSvc=this.pivotColsSvc)===null||_this$pivotColsSvc===void 0?void 0:_this$pivotColsSvc.columns)!==null&&_this$pivotColsSvc$co!==void 0?_this$pivotColsSvc$co:[];var maxDepth=pivotColumns.length;var pivotColumnGroupDefs=this.recursivelyBuildGroup(0,uniqueValues,[],maxDepth,pivotColumns);return pivotColumnGroupDefs;}recursivelyBuildGroup(index,uniqueValue,pivotKeys,maxDepth,primaryPivotColumns){var _this$valueColsSvc3;if(index>=maxDepth){return this.buildMeasureCols(pivotKeys);}var{pivotComparator}=primaryPivotColumns[index].getColDef();var comparator=pivotComparator?convertToHeaderNameComparator(pivotComparator):headerNameComparator;var measureColumns=(_this$valueColsSvc3=this.valueColsSvc)===null||_this$valueColsSvc3===void 0?void 0:_this$valueColsSvc3.columns;if((measureColumns===null||measureColumns===void 0?void 0:measureColumns.length)===1&&this.gos.get(\"removePivotHeaderRowWhenSingleValueColumn\")&&index===maxDepth-1){var leafCols=[];for(var key of uniqueValue.keys()){var newPivotKeys=[...pivotKeys,key];var colDef=this.createColDef(measureColumns[0],key,newPivotKeys);colDef.columnGroupShow=\"open\";leafCols.push(colDef);}leafCols.sort(comparator);return leafCols;}var groups=[];for(var _key3 of uniqueValue.keys()){var openByDefault=this.pivotDefaultExpanded===-1||index<this.pivotDefaultExpanded;var _newPivotKeys=[...pivotKeys,_key3];groups.push({children:this.recursivelyBuildGroup(index+1,uniqueValue.get(_key3),_newPivotKeys,maxDepth,primaryPivotColumns),headerName:_key3,pivotKeys:_newPivotKeys,columnGroupShow:\"open\",openByDefault,groupId:this.generateColumnGroupId(_newPivotKeys)});}groups.sort(comparator);return groups;}buildMeasureCols(pivotKeys){var _this$valueColsSvc$co,_this$valueColsSvc4;var measureColumns=(_this$valueColsSvc$co=(_this$valueColsSvc4=this.valueColsSvc)===null||_this$valueColsSvc4===void 0?void 0:_this$valueColsSvc4.columns)!==null&&_this$valueColsSvc$co!==void 0?_this$valueColsSvc$co:[];if(measureColumns.length===0){return[this.createColDef(null,\"-\",pivotKeys)];}return measureColumns.map(measureCol=>{var columnName=this.colNames.getDisplayNameForColumn(measureCol,\"header\");return _objectSpread(_objectSpread({},this.createColDef(measureCol,columnName,pivotKeys)),{},{columnGroupShow:\"open\"});});}addExpandablePivotGroups(pivotColumnGroupDefs,pivotColumnDefs){var isSuppressExpand=this.gos.get(\"suppressExpandablePivotGroups\");if(isSuppressExpand||this.gos.get(\"pivotColumnGroupTotals\")){return;}var recursivelyAddSubTotals=(def,currentPivotColumnDefs,acc)=>{if(\"children\"in def){var{valueColsSvc}=this;var{columns:valueCols=[]}=valueColsSvc!==null&&valueColsSvc!==void 0?valueColsSvc:{};var childAcc=/* @__PURE__ */new Map();def.children.forEach(grp=>{recursivelyAddSubTotals(grp,currentPivotColumnDefs,childAcc);});var leafGroup=!def.children.some(child=>child.children);var hasCollapsedLeafGroup=leafGroup&&valueCols.length===1&&this.gos.get(\"removePivotHeaderRowWhenSingleValueColumn\");valueCols.forEach(valueColumn=>{var columnName=this.colNames.getDisplayNameForColumn(valueColumn,\"header\");var totalColDef=this.createColDef(valueColumn,columnName,def.pivotKeys);totalColDef.pivotTotalColumnIds=childAcc.get(valueColumn.getColId());totalColDef.columnGroupShow=!isSuppressExpand?\"closed\":\"open\";totalColDef.aggFunc=valueColumn.getAggFunc();if(!leafGroup||hasCollapsedLeafGroup){var children=def.children;children.push(totalColDef);currentPivotColumnDefs.push(totalColDef);}});this.merge(acc,childAcc);return;}if(!def.pivotValueColumn){return;}var pivotValueColId=def.pivotValueColumn.getColId();var exists=acc.has(pivotValueColId);if(exists){var arr=acc.get(pivotValueColId);arr.push(def.colId);}else{acc.set(pivotValueColId,[def.colId]);}};pivotColumnGroupDefs.forEach(groupDef=>{recursivelyAddSubTotals(groupDef,pivotColumnDefs,/* @__PURE__ */new Map());});}addPivotTotalsToGroups(pivotColumnGroupDefs,pivotColumnDefs){var _this$valueColsSvc5;if(!this.gos.get(\"pivotColumnGroupTotals\")){return;}var insertAfter=this.gos.get(\"pivotColumnGroupTotals\")===\"after\";var valueCols=(_this$valueColsSvc5=this.valueColsSvc)===null||_this$valueColsSvc5===void 0?void 0:_this$valueColsSvc5.columns;var aggFuncs=valueCols===null||valueCols===void 0?void 0:valueCols.map(valueCol=>valueCol.getAggFunc());if(!aggFuncs||aggFuncs.length<1||!this.sameAggFuncs(aggFuncs)){return;}if(valueCols){var valueColumn=valueCols[0];pivotColumnGroupDefs.forEach(groupDef=>{this.recursivelyAddPivotTotal(groupDef,pivotColumnDefs,valueColumn,insertAfter);});}}recursivelyAddPivotTotal(groupDef,pivotColumnDefs,valueColumn,insertAfter){var group=groupDef;if(!group.children){var def=groupDef;return def.colId?[def.colId]:null;}var colIds=[];group.children.forEach(grp=>{var childColIds=this.recursivelyAddPivotTotal(grp,pivotColumnDefs,valueColumn,insertAfter);if(childColIds){colIds=colIds.concat(childColIds);}});if(group.children.length>1){var localeTextFunc=this.getLocaleTextFunc();var headerName=localeTextFunc(\"pivotColumnGroupTotals\",\"Total\");var totalColDef=this.createColDef(valueColumn,headerName,groupDef.pivotKeys,true);totalColDef.pivotTotalColumnIds=colIds;totalColDef.aggFunc=valueColumn.getAggFunc();totalColDef.columnGroupShow=this.gos.get(\"suppressExpandablePivotGroups\")?\"open\":void 0;var children=groupDef.children;insertAfter?children.push(totalColDef):children.unshift(totalColDef);pivotColumnDefs.push(totalColDef);}return colIds;}addRowGroupTotals(pivotColumnGroupDefs,pivotColumnDefs){var _this$valueColsSvc$co2,_this$valueColsSvc6;if(!this.gos.get(\"pivotRowTotals\")){return;}var insertAtEnd=this.gos.get(\"pivotRowTotals\")===\"after\";var valueColumns=(_this$valueColsSvc$co2=(_this$valueColsSvc6=this.valueColsSvc)===null||_this$valueColsSvc6===void 0?void 0:_this$valueColsSvc6.columns)!==null&&_this$valueColsSvc$co2!==void 0?_this$valueColsSvc$co2:[];var valueCols=valueColumns.slice();if(!insertAtEnd){valueCols.reverse();}var isCreateTotalGroups=valueCols.length>1||!this.gos.get(\"removePivotHeaderRowWhenSingleValueColumn\");for(var i=0;i<valueCols.length;i++){var valueCol=valueCols[i];var columnName=this.colNames.getDisplayNameForColumn(valueCol,\"header\");var colDef=this.createColDef(valueCol,columnName,[]);var colIds=[];for(var i2=0;i2<pivotColumnDefs.length;i2++){var colDef2=pivotColumnDefs[i2];if(colDef2.pivotValueColumn===valueCol){colIds.push(colDef2.colId);}}colDef.pivotTotalColumnIds=colIds;colDef.colId=PIVOT_ROW_TOTAL_PREFIX+colDef.colId;var valueGroup=isCreateTotalGroups?{children:[colDef],pivotKeys:[],groupId:\"\".concat(PIVOT_ROW_TOTAL_PREFIX,\"_pivotGroup_\").concat(valueCol.getColId())}:colDef;pivotColumnDefs.push(colDef);insertAtEnd?pivotColumnGroupDefs.push(valueGroup):pivotColumnGroupDefs.unshift(valueGroup);}}createColDef(valueColumn,headerName,pivotKeys){var totalColumn=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var colDef={};if(valueColumn){var colDefToCopy=valueColumn.getColDef();Object.assign(colDef,colDefToCopy);colDef.hide=false;}colDef.headerName=headerName;colDef.colId=this.generateColumnId(pivotKeys||[],valueColumn&&!totalColumn?valueColumn.getColId():\"\");colDef.field=colDef.colId;colDef.valueGetter=params=>{var _params$data;return(_params$data=params.data)===null||_params$data===void 0?void 0:_params$data[params.colDef.field];};colDef.pivotKeys=pivotKeys;colDef.pivotValueColumn=valueColumn;if(colDef.filter===true){colDef.filter=\"agNumberColumnFilter\";}return colDef;}sameAggFuncs(aggFuncs){if(aggFuncs.length==1){return true;}for(var i=1;i<aggFuncs.length;i++){if(aggFuncs[i]!==aggFuncs[0]){return false;}}return true;}merge(m1,m2){m2.forEach((value,key)=>{var existingList=m1.has(key)?m1.get(key):[];var updatedList=[...existingList,...value];m1.set(key,updatedList);});}generateColumnGroupId(pivotKeys){var _this$pivotColsSvc$co2,_this$pivotColsSvc2;var pivotCols=((_this$pivotColsSvc$co2=(_this$pivotColsSvc2=this.pivotColsSvc)===null||_this$pivotColsSvc2===void 0?void 0:_this$pivotColsSvc2.columns)!==null&&_this$pivotColsSvc$co2!==void 0?_this$pivotColsSvc$co2:[]).map(col=>col.getColId());return\"pivotGroup_\".concat(pivotCols.join(\"-\"),\"_\").concat(pivotKeys.join(\"-\"));}generateColumnId(pivotKeys,measureColumnId){var _this$pivotColsSvc$co3,_this$pivotColsSvc3;var pivotCols=((_this$pivotColsSvc$co3=(_this$pivotColsSvc3=this.pivotColsSvc)===null||_this$pivotColsSvc3===void 0?void 0:_this$pivotColsSvc3.columns)!==null&&_this$pivotColsSvc$co3!==void 0?_this$pivotColsSvc$co3:[]).map(col=>col.getColId());return\"pivot_\".concat(pivotCols.join(\"-\"),\"_\").concat(pivotKeys.join(\"-\"),\"_\").concat(measureColumnId);}/**\n   * Used by the SSRM to create secondary columns from provided fields\n   * @param fields\n   */createColDefsFromFields(fields){var uniqueValues=/* @__PURE__ */new Map();for(var i=0;i<fields.length;i++){var field=fields[i];var parts=field.split(this.fieldSeparator);var level=uniqueValues;for(var p=0;p<parts.length;p++){var part=parts[p];var map=level.get(part);if(!map){map=/* @__PURE__ */new Map();level.set(part,map);}level=map;}}var uniqueValuesToGroups=(id,key,uniqueValues2,depth)=>{var children=[];for(var[key2,item]of uniqueValues2){var child=uniqueValuesToGroups(\"\".concat(id).concat(this.fieldSeparator).concat(key2),key2,item,depth+1);children.push(child);}if(children.length===0){var potentialAggCol=this.colModel.getColDefCol(key);if(potentialAggCol){var _this$colNames$getDis;var headerName=(_this$colNames$getDis=this.colNames.getDisplayNameForColumn(potentialAggCol,\"header\"))!==null&&_this$colNames$getDis!==void 0?_this$colNames$getDis:key;var colDef=this.createColDef(potentialAggCol,headerName,void 0,false);colDef.colId=id;colDef.aggFunc=potentialAggCol.getAggFunc();colDef.valueGetter=params=>{var _params$data2;return(_params$data2=params.data)===null||_params$data2===void 0?void 0:_params$data2[id];};return colDef;}var col={colId:id,headerName:key,// this is to support using pinned rows, normally the data will be extracted from the aggData object using the colId\n// however pinned rows still access the data object by field, this prevents values with dots from being treated as complex objects\nvalueGetter:params=>{var _params$data3;return(_params$data3=params.data)===null||_params$data3===void 0?void 0:_params$data3[id];}};return col;}var collapseSingleChildren=this.gos.get(\"removePivotHeaderRowWhenSingleValueColumn\");if(collapseSingleChildren&&children.length===1&&\"colId\"in children[0]){children[0].headerName=key;return children[0];}var group={openByDefault:this.pivotDefaultExpanded===-1||depth<this.pivotDefaultExpanded,groupId:id,headerName:key,children};return group;};var res=[];for(var[key,item]of uniqueValues){var col=uniqueValuesToGroups(key,key,item,0);res.push(col);}return res;}};// packages/ag-grid-enterprise/src/pivot/pivotResultColsService.ts\nvar PivotResultColsService=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BeanStub{constructor(){super(...arguments);this.beanName=\"pivotResultCols\";}wireBeans(beans){this.colModel=beans.colModel;this.visibleCols=beans.visibleCols;}destroy(){var _this$pivotResultCols3;(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._destroyColumnTree)(this.beans,(_this$pivotResultCols3=this.pivotResultCols)===null||_this$pivotResultCols3===void 0?void 0:_this$pivotResultCols3.tree);super.destroy();}isPivotResultColsPresent(){return this.pivotResultCols!=null;}lookupPivotResultCol(pivotKeys,valueColKey){if(this.pivotResultCols==null){return null;}var valueColumnToFind=this.colModel.getColDefCol(valueColKey);var foundColumn=null;this.pivotResultCols.list.forEach(column=>{var thisPivotKeys=column.getColDef().pivotKeys;var pivotValueColumn=column.getColDef().pivotValueColumn;var pivotKeyMatches=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._areEqual)(thisPivotKeys,pivotKeys);var pivotValueMatches=pivotValueColumn===valueColumnToFind;if(pivotKeyMatches&&pivotValueMatches){foundColumn=column;}});return foundColumn;}getPivotResultCols(){return this.pivotResultCols;}getPivotResultCol(key){if(!this.pivotResultCols){return null;}return this.colModel.getColFromCollection(key,this.pivotResultCols);}setPivotResultCols(colDefs,source){if(!this.colModel.ready){return;}if(colDefs==null&&this.pivotResultCols==null){return;}if(colDefs){var _this$pivotResultCols4,_this$pivotResultCols5;this.processPivotResultColDef(colDefs);var createColTreeFunc=source===\"api\"?ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createColumnTree:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createColumnTreeWithIds;var balancedTreeResult=createColTreeFunc(this.beans,colDefs,false,((_this$pivotResultCols4=this.pivotResultCols)===null||_this$pivotResultCols4===void 0?void 0:_this$pivotResultCols4.tree)||this.previousPivotResultCols||void 0,source);(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._destroyColumnTree)(this.beans,(_this$pivotResultCols5=this.pivotResultCols)===null||_this$pivotResultCols5===void 0?void 0:_this$pivotResultCols5.tree,balancedTreeResult.columnTree);var tree=balancedTreeResult.columnTree;var treeDepth=balancedTreeResult.treeDepth;var list=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getColumnsFromTree)(tree);var map={};this.pivotResultCols={tree,treeDepth,list,map};this.pivotResultCols.list.forEach(col=>this.pivotResultCols.map[col.getId()]=col);var hasPreviousCols=!!this.previousPivotResultCols;this.previousPivotResultCols=null;this.colModel.refreshCols(!hasPreviousCols);}else{this.previousPivotResultCols=this.pivotResultCols?this.pivotResultCols.tree:null;this.pivotResultCols=null;this.colModel.refreshCols(false);}this.visibleCols.refresh(source);}processPivotResultColDef(colDefs){var columnCallback=this.gos.get(\"processPivotResultColDef\");var groupCallback=this.gos.get(\"processPivotResultColGroupDef\");if(!columnCallback&&!groupCallback){return void 0;}var searchForColDefs=colDefs2=>{colDefs2.forEach(abstractColDef=>{var isGroup=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._exists)(abstractColDef.children);if(isGroup){var colGroupDef=abstractColDef;if(groupCallback){groupCallback(colGroupDef);}searchForColDefs(colGroupDef.children);}else{var colDef=abstractColDef;if(columnCallback){columnCallback(colDef);}}});};if(colDefs){searchForColDefs(colDefs);}}};// packages/ag-grid-enterprise/src/pivot/pivotStage.ts\nvar EXCEEDED_MAX_UNIQUE_VALUES=\"Exceeded maximum allowed pivot column count.\";var mapToObject=map=>{var obj={};map.forEach((value,key)=>obj[key]=value instanceof Map?mapToObject(value):value);return obj;};var PivotStage=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BeanStub{constructor(){super(...arguments);this.beanName=\"pivotStage\";this.refreshProps=/* @__PURE__ */new Set([\"removePivotHeaderRowWhenSingleValueColumn\",\"pivotRowTotals\",\"pivotColumnGroupTotals\",\"suppressExpandablePivotGroups\"]);this.step=\"pivot\";this.uniqueValues=/* @__PURE__ */new Map();this.lastTimeFailed=false;this.maxUniqueValues=-1;this.currentUniqueCount=0;}wireBeans(beans){this.valueSvc=beans.valueSvc;this.colModel=beans.colModel;this.pivotResultCols=beans.pivotResultCols;this.rowGroupColsSvc=beans.rowGroupColsSvc;this.valueColsSvc=beans.valueColsSvc;this.pivotColsSvc=beans.pivotColsSvc;this.pivotColDefSvc=beans.pivotColDefSvc;}execute(params){var changedPath=params.changedPath;if(this.colModel.isPivotActive()){this.executePivotOn(changedPath);}else{this.executePivotOff(changedPath);}}executePivotOff(changedPath){this.aggregationColumnsHashLastTime=null;this.uniqueValues=/* @__PURE__ */new Map();if(this.pivotResultCols.isPivotResultColsPresent()){this.pivotResultCols.setPivotResultCols(null,\"rowModelUpdated\");if(changedPath){changedPath.active=false;}}}executePivotOn(changedPath){var _this$valueColsSvc$co3,_this$valueColsSvc7,_this$valueColsSvc$co4,_this$valueColsSvc8,_this$rowGroupColsSvc2,_this$rowGroupColsSvc3;var numberOfAggregationColumns=(_this$valueColsSvc$co3=(_this$valueColsSvc7=this.valueColsSvc)===null||_this$valueColsSvc7===void 0?void 0:_this$valueColsSvc7.columns.length)!==null&&_this$valueColsSvc$co3!==void 0?_this$valueColsSvc$co3:1;var configuredMaxCols=this.gos.get(\"pivotMaxGeneratedColumns\");this.maxUniqueValues=configuredMaxCols===-1?-1:configuredMaxCols/numberOfAggregationColumns;var uniqueValues;try{uniqueValues=this.bucketUpRowNodes(changedPath);}catch(e){if(e.message===EXCEEDED_MAX_UNIQUE_VALUES){this.pivotResultCols.setPivotResultCols([],\"rowModelUpdated\");this.eventSvc.dispatchEvent({type:\"pivotMaxColumnsExceeded\",message:e.message});this.lastTimeFailed=true;return;}throw e;}var uniqueValuesChanged=this.setUniqueValues(uniqueValues);var aggregationColumns=(_this$valueColsSvc$co4=(_this$valueColsSvc8=this.valueColsSvc)===null||_this$valueColsSvc8===void 0?void 0:_this$valueColsSvc8.columns)!==null&&_this$valueColsSvc$co4!==void 0?_this$valueColsSvc$co4:[];var aggregationColumnsHash=aggregationColumns.map(column=>\"\".concat(column.getId(),\"-\").concat(column.getColDef().headerName)).join(\"#\");var aggregationFuncsHash=aggregationColumns.map(column=>column.getAggFunc().toString()).join(\"#\");var aggregationColumnsChanged=this.aggregationColumnsHashLastTime!==aggregationColumnsHash;var aggregationFuncsChanged=this.aggregationFuncsHashLastTime!==aggregationFuncsHash;this.aggregationColumnsHashLastTime=aggregationColumnsHash;this.aggregationFuncsHashLastTime=aggregationFuncsHash;var groupColumnsHash=((_this$rowGroupColsSvc2=(_this$rowGroupColsSvc3=this.rowGroupColsSvc)===null||_this$rowGroupColsSvc3===void 0?void 0:_this$rowGroupColsSvc3.columns)!==null&&_this$rowGroupColsSvc2!==void 0?_this$rowGroupColsSvc2:[]).map(column=>column.getId()).join(\"#\");var groupColumnsChanged=groupColumnsHash!==this.groupColumnsHashLastTime;this.groupColumnsHashLastTime=groupColumnsHash;var pivotRowTotals=this.gos.get(\"pivotRowTotals\");var pivotColumnGroupTotals=this.gos.get(\"pivotColumnGroupTotals\");var suppressExpandablePivotGroups=this.gos.get(\"suppressExpandablePivotGroups\");var removePivotHeaderRowWhenSingleValueColumn=this.gos.get(\"removePivotHeaderRowWhenSingleValueColumn\");var anyGridOptionsChanged=pivotRowTotals!==this.pivotRowTotalsLastTime||pivotColumnGroupTotals!==this.pivotColumnGroupTotalsLastTime||suppressExpandablePivotGroups!==this.suppressExpandablePivotGroupsLastTime||removePivotHeaderRowWhenSingleValueColumn!==this.removePivotHeaderRowWhenSingleValueColumnLastTime;this.pivotRowTotalsLastTime=pivotRowTotals;this.pivotColumnGroupTotalsLastTime=pivotColumnGroupTotals;this.suppressExpandablePivotGroupsLastTime=suppressExpandablePivotGroups;this.removePivotHeaderRowWhenSingleValueColumnLastTime=removePivotHeaderRowWhenSingleValueColumn;if(this.lastTimeFailed||uniqueValuesChanged||aggregationColumnsChanged||groupColumnsChanged||aggregationFuncsChanged||anyGridOptionsChanged){var{pivotColumnGroupDefs,pivotColumnDefs}=this.pivotColDefSvc.createPivotColumnDefs(this.uniqueValues);this.pivotColumnDefs=pivotColumnDefs;this.pivotResultCols.setPivotResultCols(pivotColumnGroupDefs,\"rowModelUpdated\");if(changedPath){changedPath.active=false;}}this.lastTimeFailed=false;}setUniqueValues(newValues){var json1=JSON.stringify(mapToObject(this.uniqueValues));var json2=JSON.stringify(mapToObject(newValues));var uniqueValuesChanged=json1!==json2;if(uniqueValuesChanged){this.uniqueValues=newValues;return true;}else{return false;}}bucketUpRowNodes(changedPath){this.currentUniqueCount=0;var uniqueValues=/* @__PURE__ */new Map();changedPath.forEachChangedNodeDepthFirst(node=>{if(node.leafGroup){node.childrenMapped=null;}});var recursivelyBucketFilteredChildren=node=>{if(node.leafGroup){this.bucketRowNode(node,uniqueValues);}else{var _node$childrenAfterFi2;(_node$childrenAfterFi2=node.childrenAfterFilter)===null||_node$childrenAfterFi2===void 0||_node$childrenAfterFi2.forEach(recursivelyBucketFilteredChildren);}};changedPath.executeFromRootNode(recursivelyBucketFilteredChildren);return uniqueValues;}bucketRowNode(rowNode,uniqueValues){var _this$pivotColsSvc4;var pivotColumns=(_this$pivotColsSvc4=this.pivotColsSvc)===null||_this$pivotColsSvc4===void 0?void 0:_this$pivotColsSvc4.columns;if((pivotColumns===null||pivotColumns===void 0?void 0:pivotColumns.length)===0){rowNode.childrenMapped=null;}else{rowNode.childrenMapped=mapToObject(this.bucketChildren(rowNode.childrenAfterFilter,pivotColumns,0,uniqueValues));}if(rowNode.sibling){rowNode.sibling.childrenMapped=rowNode.childrenMapped;}}bucketChildren(children){var pivotColumns=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];var pivotIndex=arguments.length>2?arguments[2]:undefined;var uniqueValues=arguments.length>3?arguments[3]:undefined;var mappedChildren=/* @__PURE__ */new Map();var pivotColumn=pivotColumns[pivotIndex];children.forEach(child=>{var key=this.valueSvc.getKeyForNode(pivotColumn,child);if((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._missing)(key)){key=\"\";}if(!uniqueValues.get(key)){this.currentUniqueCount+=1;uniqueValues.set(key,/* @__PURE__ */new Map());var doesGeneratedColMaxExist=this.maxUniqueValues!==-1;var hasExceededColMax=this.currentUniqueCount>this.maxUniqueValues;if(doesGeneratedColMaxExist&&hasExceededColMax){throw Error(EXCEEDED_MAX_UNIQUE_VALUES);}}if(!mappedChildren.has(key)){mappedChildren.set(key,[]);}mappedChildren.get(key).push(child);});if(pivotIndex===pivotColumns.length-1){return mappedChildren;}var result=/* @__PURE__ */new Map();for(var key of mappedChildren.keys()){result.set(key,this.bucketChildren(mappedChildren.get(key),pivotColumns,pivotIndex+1,uniqueValues.get(key)));}return result;}getPivotColumnDefs(){return this.pivotColumnDefs;}};// packages/ag-grid-enterprise/src/pivot/pivotModule.ts\nvar SharedPivotModule={moduleName:\"SharedPivot\",version:VERSION,beans:[PivotResultColsService,PivotColDefService,PivotColsSvc],apiFunctions:{isPivotMode,getPivotResultColumn,setValueColumns,getValueColumns,removeValueColumns,addValueColumns,setPivotColumns,removePivotColumns,addPivotColumns,getPivotColumns,setPivotResultColumns,getPivotResultColumns},dependsOn:[SharedRowGroupingModule,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._ColumnGroupModule]};var PivotModule={moduleName:\"Pivot\",version:VERSION,rowModels:[\"clientSide\"],beans:[PivotStage],dependsOn:[SharedPivotModule,RowGroupingModule,ClientSideRowModelHierarchyModule]};// packages/ag-grid-enterprise/src/treeData/clientSideChildrenTreeNodeManager.ts\n// packages/ag-grid-enterprise/src/treeData/fieldAccess.ts\nvar parseFieldPath=fieldPath=>{if(typeof fieldPath!==\"string\"||!fieldPath.length){return[];}var segments=fieldPath.split(\".\");if(segments.includes(\"__proto__\")){return[];}return segments;};var makeFieldPathGetter=fieldPath=>{var splitPath=parseFieldPath(fieldPath);var result=null;var last=splitPath.length-1;if(last===0){result=data=>data===null||data===void 0?void 0:data[fieldPath];}else if(last>0){result=data=>{var value=data;for(var i=0;i<=last&&value!==null&&value!==void 0;++i){value=value[splitPath[i]];if(i<last&&typeof value!==\"object\"&&value!==void 0){return null;}}return value;};}else{result=()=>void 0;}result.path=fieldPath;return result;};// packages/ag-grid-enterprise/src/treeData/clientSideChildrenTreeNodeManager.ts\nvar ClientSideChildrenTreeNodeManager=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AbstractClientSideNodeManager{constructor(){super(...arguments);this.beanName=\"csrmChildrenTreeNodeSvc\";this.childrenGetter=null;}destroy(){super.destroy();this.childrenGetter=null;}extractRowData(){var _this$rootNode;return(_this$rootNode=this.rootNode)===null||_this$rootNode===void 0||(_this$rootNode=_this$rootNode.childrenAfterGroup)===null||_this$rootNode===void 0?void 0:_this$rootNode.map(_ref85=>{var{data}=_ref85;return data;});}activate(rootNode){var _this$gos$get9;var oldChildrenGetter=this.childrenGetter;var childrenField=(_this$gos$get9=this.gos.get(\"treeDataChildrenField\"))!==null&&_this$gos$get9!==void 0?_this$gos$get9:null;if(!oldChildrenGetter||oldChildrenGetter.path!==childrenField){this.childrenGetter=makeFieldPathGetter(childrenField);}super.activate(rootNode);}deactivate(){this.childrenGetter=null;super.deactivate();}updateRowData(_rowDataTran,changedRowNodes){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(268);return{changedRowNodes,rowNodeTransaction:{add:[],remove:[],update:[]},rowsInserted:false};}loadNewRowData(rowData){var rootNode=this.rootNode;var childrenGetter=this.childrenGetter;var processedData=/* @__PURE__ */new Map();var allLeafChildren=[];rootNode.allLeafChildren=allLeafChildren;var processChild=(parent,data)=>{var row=processedData.get(data);if(row!==void 0){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._error)(2,{nodeId:row.id});return;}row=this.createRowNode(data,allLeafChildren.length);row.treeParent=parent;processedData.set(data,row);allLeafChildren.push(row);var children=childrenGetter===null||childrenGetter===void 0?void 0:childrenGetter(data);if(children){for(var i=0,len=children.length;i<len;++i){processChild(row,children[i]);}}};for(var i=0,len=rowData.length;i<len;++i){processChild(rootNode,rowData[i]);}}setImmutableRowData(params,rowData){this.dispatchRowDataUpdateStartedEvent(rowData);var gos=this.gos;var rootNode=this.rootNode;var childrenGetter=this.childrenGetter;var getRowIdFunc=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getRowIdCallback)(gos);var canReorder=!gos.get(\"suppressMaintainUnsortedOrder\");var processedData=/* @__PURE__ */new Map();var changedPath=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.ChangedPath(false,rootNode);params.changedPath=changedPath;var changedRowNodes=params.changedRowNodes;var oldAllLeafChildren=rootNode.allLeafChildren;var allLeafChildren=[];var nodesToUnselect=[];var orderChanged=false;var rowsChanged=false;var processChildren=(parent,children,childrenLevel)=>{var childrenLen=children===null||children===void 0?void 0:children.length;var inOrder=true;var prevIndex=-1;for(var i=0;i<childrenLen;++i){var oldSourceRowIndex=processChild(parent,children[i],childrenLevel);if(canReorder&&oldSourceRowIndex>=0){if(oldSourceRowIndex<prevIndex){inOrder=false;}prevIndex=oldSourceRowIndex;}}if(!inOrder){orderChanged=true;}};var processChild=(parent,data,level)=>{var row=processedData.get(data);if(row!==void 0){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(2,{nodeId:row.id});return-1;}var id=getRowIdFunc({data,level});row=this.getRowNode(id);if(row){var rowChanged=false;if(row.data!==data){rowChanged=true;row.updateData(data);if(!row.selectable&&row.isSelected()){nodesToUnselect.push(row);}}if(row.treeParent!==parent){row.treeParent=parent;rowChanged=true;}if(rowChanged){rowsChanged=true;changedRowNodes.update(row);}}else{row=this.createRowNode(data,-1);row.treeParent=parent;rowsChanged=true;changedRowNodes.add(row);}processedData.set(data,row);var oldSourceRowIndex;if(canReorder){oldSourceRowIndex=row.sourceRowIndex;row.sourceRowIndex=allLeafChildren.push(row)-1;}else{oldSourceRowIndex=-1;}var children=childrenGetter===null||childrenGetter===void 0?void 0:childrenGetter(data);if(children){processChildren(row,children,level+1);}return oldSourceRowIndex;};processChildren(rootNode,rowData,0);if(oldAllLeafChildren){var pinnedRowModel=this.beans.pinnedRowModel;for(var i=0,len=oldAllLeafChildren.length;i<len;++i){var row=oldAllLeafChildren[i];if(!processedData.has(row.data)){row.treeParent=null;row.treeNodeFlags=0;var pinnedSibling=row.pinnedSibling;if(pinnedSibling){pinnedRowModel===null||pinnedRowModel===void 0||pinnedRowModel.pinRow(pinnedSibling,null);}row.clearRowTopAndRowIndex();this.rowNodeDeleted(row);if(row.isSelected()){nodesToUnselect.push(row);}changedRowNodes.remove(row);}}}if(!canReorder){if(oldAllLeafChildren){var removals=changedRowNodes.removals;for(var _i5=0,_len2=oldAllLeafChildren.length;_i5<_len2;++_i5){var _row3=oldAllLeafChildren[_i5];if(!removals.has(_row3)){_row3.sourceRowIndex=allLeafChildren.push(_row3)-1;}}}for(var _row4 of changedRowNodes.adds){_row4.sourceRowIndex=allLeafChildren.push(_row4)-1;}}rootNode.allLeafChildren=allLeafChildren;if(nodesToUnselect.length){this.deselectNodes(nodesToUnselect);}var sibling=rootNode.sibling;if(sibling){sibling.allLeafChildren=allLeafChildren;}if(rowsChanged||orderChanged){params.rowDataUpdated=true;params.rowNodesOrderChanged||(params.rowNodesOrderChanged=orderChanged);}}};// packages/ag-grid-enterprise/src/treeData/treeGroupStrategy.ts\nvar FLAG_CHILDREN_CHANGED=2147483648;var FLAG_CHANGED=1073741824;var FLAG_MARKED_FILLER=536870912;var FLAG_EXPANDED_INITIALIZED=268435456;var MASK_CHILDREN_LEN=268435455;var PATH_KEY_SEPARATOR=String.fromCharCode(31,4096+Math.random()*61440,4096+Math.random()*61440,8291);var TreeGroupStrategy=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BeanStub{constructor(){super(...arguments);this.groupColsIds=\"\";this.groupColsChanged=true;this.parentIdGetter=null;this.fillerNodesById=null;this.nodesToUnselect=null;}destroy(){super.destroy();this.groupColsIds=\"\";this.parentIdGetter=null;this.fillerNodesById=null;this.nodesToUnselect=null;}reset(){this.destroyFillerRows();this.deselectHiddenNodes(false);this.groupColsIds=\"\";this.groupColsChanged=true;this.parentIdGetter=null;}getNode(id){var _this$fillerNodesById;return(_this$fillerNodesById=this.fillerNodesById)===null||_this$fillerNodesById===void 0?void 0:_this$fillerNodesById.get(id);}execute(params,approach){var{changedRowNodes,changedPath,afterColumnsChanged}=params;this.checkGroupColsUpdated(afterColumnsChanged);var rootNode=params.rowNode;var activeChangedPath=changedPath!==null&&changedPath!==void 0&&changedPath.active?changedPath:void 0;var fullReload=!changedRowNodes&&!activeChangedPath;var hasUpdates=!!changedRowNodes&&this.flagUpdatedNodes(changedRowNodes);if(fullReload||hasUpdates){if(approach===\"treeNested\"){this.loadNested(params,fullReload);}else if(approach===\"treeSelfRef\"){this.loadSelfRef(params,fullReload);}else{this.loadDataPath(params,fullReload);}}var parentsChanged=this.initRowsParents(rootNode);this.destroyFillerRows();this.initRowsChildrenSize(rootNode);var preprocessedCount=this.preprocessRows(rootNode);var treeChanged=parentsChanged||(preprocessedCount&FLAG_CHILDREN_CHANGED)!==0;preprocessedCount&=~FLAG_CHILDREN_CHANGED;var traverseCount=this.traverseRoot(rootNode,activeChangedPath);if(preprocessedCount>0&&preprocessedCount!==traverseCount){this.handleCycles(rootNode);this.traverseRoot(rootNode,activeChangedPath);}rootNode.treeNodeFlags=0;this.deselectHiddenNodes(parentsChanged||fullReload);return treeChanged;}flagUpdatedNodes(changedRowNodes){var{adds,updates,removals}=changedRowNodes;var hasUpdates=removals.size>0;if(adds.size>0){hasUpdates=true;for(var node of adds){node.treeNodeFlags|=FLAG_CHANGED;}}if(updates.size>0){hasUpdates=true;for(var _node2 of updates){_node2.treeNodeFlags|=FLAG_CHANGED;}}return hasUpdates;}initRowsParents(rootNode){var rootAllLeafChildren=rootNode.allLeafChildren;var allLeafChildrenLen=rootAllLeafChildren.length;var treeChanged=false;for(var i=0;i<allLeafChildrenLen;++i){var current=rootAllLeafChildren[i];while(true){var oldParent=current.parent;var parent=current.treeParent;if(parent===null){if(oldParent){treeChanged=true;this.hideRow(current);}break;}var parentFlags=parent.treeNodeFlags+1;if(oldParent!==parent){treeChanged=true;parentFlags|=FLAG_CHANGED;current.parent=parent;if(oldParent){var oldParentFlags=oldParent.treeNodeFlags;if((oldParentFlags&FLAG_EXPANDED_INITIALIZED)!==0&&(parentFlags&FLAG_EXPANDED_INITIALIZED)===0&&parent.treeParent!==null&&!parent.data){parent.expanded=oldParent.expanded;parentFlags|=FLAG_EXPANDED_INITIALIZED;}oldParent.treeNodeFlags=oldParentFlags|FLAG_CHANGED;}}if(parent.data||(parent.treeNodeFlags&FLAG_MARKED_FILLER)!==0||parent.treeParent===null){parent.treeNodeFlags=parentFlags;break;}parent.treeNodeFlags=parentFlags|FLAG_MARKED_FILLER|current.treeNodeFlags&FLAG_CHANGED;current=parent;}}return treeChanged;}destroyFillerRows(){var fillerNodesById=this.fillerNodesById;if(fillerNodesById){for(var node of fillerNodesById.values()){if(node.treeParent===null||(node.treeNodeFlags&MASK_CHILDREN_LEN)===0){fillerNodesById.delete(node.id);this.hideRow(node);}}if(fillerNodesById.size===0){this.fillerNodesById=null;}}}initRowsChildrenSize(rootNode){this.initRowChildrenSize(rootNode);var rootAllLeafChildren=rootNode.allLeafChildren;var allLeafChildrenLen=rootAllLeafChildren.length;for(var i=0;i<allLeafChildrenLen;++i){this.initRowChildrenSize(rootAllLeafChildren[i]);}var fillerNodesById=this.fillerNodesById;if(fillerNodesById!==null){for(var filler of fillerNodesById.values()){this.initRowChildrenSize(filler);}}}initRowChildrenSize(row){var _childrenAfterGroup;var{childrenAfterGroup,allLeafChildren,treeNodeFlags}=row;var oldLen=(_childrenAfterGroup=childrenAfterGroup)===null||_childrenAfterGroup===void 0?void 0:_childrenAfterGroup.length;var len=treeNodeFlags&MASK_CHILDREN_LEN;row.treeNodeFlags=treeNodeFlags&~MASK_CHILDREN_LEN|((oldLen||0)!==len?FLAG_CHILDREN_CHANGED:0);if(len===0&&row.level>=0){if(childrenAfterGroup!==ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._EmptyArray){row.childrenAfterGroup=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._EmptyArray;var sibling=row.sibling;if(sibling)sibling.childrenAfterGroup=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._EmptyArray;}}else if(oldLen!==len||childrenAfterGroup===allLeafChildren){if(!childrenAfterGroup||childrenAfterGroup===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._EmptyArray||childrenAfterGroup===allLeafChildren){row.childrenAfterGroup=childrenAfterGroup=new Array(len);var _sibling=row.sibling;if(_sibling)_sibling.childrenAfterGroup=childrenAfterGroup;}else{childrenAfterGroup.length=len;}}}preprocessRows(rootNode){var rootAllLeafChildren=rootNode.allLeafChildren;var allLeafChildrenLen=rootAllLeafChildren.length;var groupColsChanged=this.groupColsChanged;var preprocessedCount=0;var treeChanged=false;for(var i=0;i<allLeafChildrenLen;++i){var current=rootAllLeafChildren[i];while(true){var parent=current.treeParent;if(parent===null){break;}++preprocessedCount;var parentFlags=parent.treeNodeFlags;var parentChildren=parent.childrenAfterGroup;var indexInParent=parentFlags&MASK_CHILDREN_LEN;parentFlags=parentFlags&~MASK_CHILDREN_LEN|indexInParent+1;if(parentFlags&FLAG_CHILDREN_CHANGED||parentChildren[indexInParent]!==current){parentFlags|=FLAG_CHILDREN_CHANGED;parentChildren[indexInParent]=current;treeChanged=true;}parent.treeNodeFlags=parentFlags;if(!current.groupData||groupColsChanged){current.treeNodeFlags|=FLAG_CHANGED;this.setGroupData(current,current.key);}if(parent.data||(parent.treeNodeFlags&FLAG_MARKED_FILLER)===0||parent.treeParent===null){break;}parent.treeNodeFlags=parentFlags&~FLAG_MARKED_FILLER|current.treeNodeFlags&FLAG_CHANGED;current=parent;}}return preprocessedCount|(treeChanged?FLAG_CHILDREN_CHANGED:0);}traverseRoot(rootNode,activeChangedPath){var traverseCount=0;var rootChildrenAfterGroup=rootNode.childrenAfterGroup;for(var i=0,len=rootChildrenAfterGroup.length;i<len;++i){traverseCount+=this.traverse(rootChildrenAfterGroup[i],0,false,activeChangedPath);}return traverseCount&~FLAG_CHILDREN_CHANGED;}/**\n   * After all the rows are initialized and treeParent is set and childrenAfterGroup is filled,\n   * we traverse the tree to finalize it\n   * @returns the number of leaf nodes processed, which is used to detect cycles in the tree, and a flag set if leaf children were changed.\n   */traverse(row,level,collapsed,activeChangedPath){var children=row.childrenAfterGroup;var len=children.length;var flags=row.treeNodeFlags;row.treeNodeFlags=flags&FLAG_EXPANDED_INITIALIZED;row.level=level;if(row.group!==!!len){setRowNodeGroup(row,this.beans,!!len);if(!len&&!row.expanded){row.treeNodeFlags&=~FLAG_EXPANDED_INITIALIZED;}flags|=FLAG_CHANGED;}else if(row.hasChildren()!==!!len){row.updateHasChildren();flags|=FLAG_CHANGED;}if((flags&(FLAG_CHANGED|FLAG_CHILDREN_CHANGED))!==0){activeChangedPath===null||activeChangedPath===void 0||activeChangedPath.addParentNode(row);}if(len&&(flags&FLAG_EXPANDED_INITIALIZED)===0){row.treeNodeFlags|=FLAG_EXPANDED_INITIALIZED;row.expanded=this.getRowDefaultExpanded(row,level);}if(collapsed&&row.rowIndex!==null){row.clearRowTopAndRowIndex();}collapsed||(collapsed=row.expanded===false);++level;flags&=FLAG_CHILDREN_CHANGED;var leafsLen=0;for(var i=0;i<len;++i){var _child$allLeafChildre;var child=children[i];var childFlags=this.traverse(child,level,collapsed,activeChangedPath);flags=flags+(childFlags&~FLAG_CHILDREN_CHANGED)|childFlags&FLAG_CHILDREN_CHANGED;leafsLen+=(((_child$allLeafChildre=child.allLeafChildren)===null||_child$allLeafChildre===void 0?void 0:_child$allLeafChildre.length)||0)+(child.data?1:0);}if(this.updateAllLeafChildren(row,leafsLen,(flags&FLAG_CHILDREN_CHANGED)!==0)){return(flags|FLAG_CHILDREN_CHANGED)+1;}return(flags&~FLAG_CHILDREN_CHANGED)+1;}updateAllLeafChildren(row,len,maybeChanged){var _leafs;var leafs=row.allLeafChildren;var trulyChanged=(((_leafs=leafs)===null||_leafs===void 0?void 0:_leafs.length)||0)!==len;if(len===0){if(leafs!==null){row.allLeafChildren=null;var sibling=row.sibling;if(sibling)sibling.allLeafChildren=null;}}else if(trulyChanged||maybeChanged){if(!leafs){row.allLeafChildren=leafs=new Array(len);var _sibling2=row.sibling;if(_sibling2)_sibling2.allLeafChildren=leafs;}else if(trulyChanged){leafs.length=len;}var rows=row.childrenAfterGroup;for(var i=0,writeIdx=0,childrenLen=rows.length;i<childrenLen;++i){var child=rows[i];if(child.data){if(trulyChanged||(trulyChanged=leafs[writeIdx]!==child))leafs[writeIdx]=child;++writeIdx;}var childLeafs=child.allLeafChildren;if(childLeafs){for(var j=0,len2=childLeafs.length;j<len2;++j,++writeIdx){var leaf=childLeafs[j];if(trulyChanged||(trulyChanged=leafs[writeIdx]!==leaf))leafs[writeIdx]=leaf;}}}}return trulyChanged;}getRowDefaultExpanded(rowNode,level){var gos=this.gos;var isGroupOpenByDefault=gos.getCallback(\"isGroupOpenByDefault\");if(!isGroupOpenByDefault){var groupDefaultExpanded=gos.get(\"groupDefaultExpanded\");return groupDefaultExpanded===-1||level<groupDefaultExpanded;}var{field,key,rowGroupColumn}=rowNode;var params=gos.addGridCommonParams({rowNode,field,key,level,rowGroupColumn});return isGroupOpenByDefault(params)==true;}/** Handle cycles in a tree. Is not optimal for performance but this is an edge case that shouldn't happen as is a warning. */handleCycles(rootNode){var marked=/* @__PURE__ */new Set();var mark=row=>{if(marked.has(row))return false;marked.add(row);row.childrenAfterGroup.forEach(mark);return true;};mark(rootNode);var rootChildrenAfterGroup=rootNode.childrenAfterGroup;rootChildrenAfterGroup.length=0;for(var row of rootNode.allLeafChildren){var parent=row.treeParent;if(parent&&mark(row)){var _parent$id;parent.treeNodeFlags|=FLAG_CHILDREN_CHANGED|FLAG_CHANGED;row.parent=rootNode;(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._removeFromArray)(parent.childrenAfterGroup,row);rootChildrenAfterGroup.push(row);(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(270,{id:row.id,parentId:(_parent$id=parent===null||parent===void 0?void 0:parent.id)!==null&&_parent$id!==void 0?_parent$id:\"\"});}else if(parent===rootNode){rootChildrenAfterGroup.push(row);}}}setGroupData(row,key){var _this$beans$showRowGr5;var groupData={};var groupDisplayCols=(_this$beans$showRowGr5=this.beans.showRowGroupCols)===null||_this$beans$showRowGr5===void 0?void 0:_this$beans$showRowGr5.getShowRowGroupCols();row.groupData=groupData;if(groupDisplayCols){for(var col of groupDisplayCols){groupData[col.getColId()]=key;}}}/** Load the tree structure for nested groups, aka children property */loadNested(_ref86,fullReload){var{rowNode:rootNode,changedRowNodes}=_ref86;if(!fullReload&&changedRowNodes){for(var row of changedRowNodes.adds){row.key=row.id;}return;}var rootAllLeafChildren=rootNode.allLeafChildren;for(var i=0,len=rootAllLeafChildren.length;i<len;++i){var _row5=rootAllLeafChildren[i];var id=_row5.id;if(_row5.key!==id){_row5.key=id;_row5.groupData=null;}}}/** Load the tree structure for self-referencing data, aka parentId field */loadSelfRef(_ref87,fullReload){var _parentIdGetter;var{rowNode:rootNode,changedRowNodes}=_ref87;var rootAllLeafChildren=rootNode.allLeafChildren;var gos=this.gos;if(!gos.get(\"getRowId\")){for(var i=0,len=rootAllLeafChildren.length;i<len;++i){rootAllLeafChildren[i].treeParent=null;}return;}var rowModel=this.beans.rowModel;var removals=changedRowNodes===null||changedRowNodes===void 0?void 0:changedRowNodes.removals;var parentIdGetter=this.parentIdGetter;var parentIdField=gos.get(\"treeDataParentIdField\")||null;if(((_parentIdGetter=parentIdGetter)===null||_parentIdGetter===void 0?void 0:_parentIdGetter.path)!==parentIdField){this.parentIdGetter=parentIdGetter=makeFieldPathGetter(parentIdField);fullReload=true;}for(var _i6=0,_len3=rootAllLeafChildren.length;_i6<_len3;++_i6){var row=rootAllLeafChildren[_i6];if(fullReload||row.treeNodeFlags&FLAG_CHANGED||removals!==null&&removals!==void 0&&removals.has(row.treeParent)){var newParent=void 0;var parentId=parentIdGetter(row.data);if(parentId!==null&&parentId!==void 0){newParent=rowModel.getRowNode(parentId);if(!newParent){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(271,{id:row.id,parentId});}}row.treeParent=newParent!==null&&newParent!==void 0?newParent:rootNode;var id=row.id;if(row.key!==id){row.key=id;row.groupData=null;}}else{var _row$treeParent;(_row$treeParent=row.treeParent)!==null&&_row$treeParent!==void 0?_row$treeParent:row.treeParent=rootNode;}}}loadFlattened(rootNode){var allLeafChildren=rootNode.allLeafChildren;for(var i=0,len=allLeafChildren.length;i<len;++i){var row=allLeafChildren[i];row.treeParent=rootNode;var id=row.id;if(row.key!==id){row.key=id;row.groupData=null;}}}/** Load the tree structure for data paths, aka getDataPath callback */loadDataPath(_ref88,fullReload){var{rowNode:rootNode}=_ref88;var getDataPath=this.gos.get(\"getDataPath\");if(!getDataPath){this.loadFlattened(rootNode);return;}var nodesByPath=/* @__PURE__ */new Map();var paths=/* @__PURE__ */new Map();var dupPaths;if(!fullReload){dupPaths=this.loadExistingDataPath(rootNode,nodesByPath,paths);}var allLeafChildren=rootNode.allLeafChildren;for(var i=0,len=allLeafChildren.length;i<len;++i){var node=allLeafChildren[i];if(!fullReload&&node.treeParent!==null&&(node.treeNodeFlags&FLAG_CHANGED)===0){continue;}var path=getDataPath(node.data);var pathLen=path===null||path===void 0?void 0:path.length;if(!pathLen){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(185,{data:node.data});continue;}var key=path[pathLen-1];if(node.key!==key){node.key=key;node.groupData=null;}var pathKey=path.join(PATH_KEY_SEPARATOR);paths.set(node,pathKey);var existing=nodesByPath.get(pathKey);if(existing===void 0){nodesByPath.set(pathKey,node);}else if(existing!==node){dupPaths=this.duplicatedPath(nodesByPath,dupPaths,existing,node,pathKey);}}if(dupPaths){this.processDuplicatePaths(dupPaths,paths);}this.buildFromPaths(rootNode,nodesByPath,paths);}loadExistingDataPath(rootNode,nodesByPath,paths){var dupPaths;var allLeafChildren=rootNode.allLeafChildren;for(var i=0,len=allLeafChildren.length;i<len;++i){var node=allLeafChildren[i];var treeParent=node.treeParent;if(treeParent===null||(node.treeNodeFlags&FLAG_CHANGED)!==0){continue;}var pathKey=node.key;var current=treeParent;while(current&&current!==rootNode&&current!==node){pathKey=PATH_KEY_SEPARATOR+pathKey;var existingPathKey=paths.get(current);if(existingPathKey!==void 0){pathKey=existingPathKey+pathKey;break;}pathKey=current.key+pathKey;current=current.treeParent;}if(current!==node){paths.set(node,pathKey);var existing=nodesByPath.get(pathKey);if(existing===void 0){nodesByPath.set(pathKey,node);}else if(existing!==node){dupPaths=this.duplicatedPath(nodesByPath,dupPaths,existing,node,pathKey);}}}return dupPaths;}duplicatedPath(nodesByPath,dupPaths,existing,node,pathKey){if(node.sourceRowIndex<existing.sourceRowIndex){nodesByPath.set(pathKey,node);}var duplicates=(dupPaths!==null&&dupPaths!==void 0?dupPaths:dupPaths=/* @__PURE__ */new Map()).get(pathKey);if(duplicates===void 0){dupPaths.set(pathKey,[existing,node]);}else{duplicates.push(node);}return dupPaths;}buildFromPaths(rootNode,nodesByPath,paths){var SEP=PATH_KEY_SEPARATOR;var SEP_LEN=PATH_KEY_SEPARATOR.length;var segments=new Array(32);var allLeafChildren=rootNode.allLeafChildren;for(var i=0,len=allLeafChildren.length;i<len;++i){var node=allLeafChildren[i];var pathKey=paths.get(node);if(pathKey===void 0){continue;}var segmentsLen=0;var scanPos=0;while(scanPos<pathKey.length){var sepPos=pathKey.indexOf(SEP,scanPos);if(sepPos===-1)break;segments[segmentsLen++]=sepPos;scanPos=sepPos+SEP_LEN;}var startLevel=0;var treeParent=rootNode;for(var level=segmentsLen-1;level>=0;--level){var existing=nodesByPath.get(pathKey.slice(0,segments[level]));if(existing){treeParent=existing;startLevel=level+1;break;}}for(var _level=startLevel;_level<segmentsLen;++_level){var end=segments[_level];var start=_level===0?0:segments[_level-1]+SEP_LEN;var subPath=pathKey.slice(0,end);var current=nodesByPath.get(subPath);if(current===void 0){current=this.getOrCreateFiller(treeParent,pathKey.slice(start,end),_level);nodesByPath.set(subPath,current);}else{current.treeParent=treeParent;}treeParent=current;}node.treeParent=treeParent;}}processDuplicatePaths(duplicatePaths,paths){for(var duplicates of duplicatePaths.values()){duplicates.sort(compareSourceRowIndex);var len=duplicates.length;var duplicateRowsData=new Array(len-1);for(var i=1;i<len;++i){var node=duplicates[i];paths.delete(node);node.treeParent=null;duplicateRowsData[i-1]=node.data;}var first=duplicates[0];(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(186,{rowId:first.id,rowData:first.data,duplicateRowsData});}}getOrCreateFiller(treeParent,key,level){var _this$fillerNodesById2;var id=level+\"-\"+key;var current=treeParent;while(--level>=0){id=level+\"-\"+current.key+\"-\"+id;current=current.treeParent;}id=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._ROW_ID_PREFIX_ROW_GROUP+id;var fillerNodesById=(_this$fillerNodesById2=this.fillerNodesById)!==null&&_this$fillerNodesById2!==void 0?_this$fillerNodesById2:this.fillerNodesById=/* @__PURE__ */new Map();var node=fillerNodesById.get(id);if(node===void 0){node=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RowNode(this.beans);node.id=id;node.key=key;node.group=true;node.leafGroup=false;node.rowGroupIndex=null;node.treeParent=treeParent;fillerNodesById.set(id,node);}return node;}deselectHiddenNodes(updated){var selectionSvc=this.beans.selectionSvc;var nodes=this.nodesToUnselect;var source=\"rowDataChanged\";if(nodes){this.nodesToUnselect=null;selectionSvc===null||selectionSvc===void 0||selectionSvc.setNodesSelected({newValue:false,nodes,suppressFinishActions:true,source});}if(nodes||updated){var _selectionSvc$updateG;selectionSvc===null||selectionSvc===void 0||(_selectionSvc$updateG=selectionSvc.updateGroupsFromChildrenSelections)===null||_selectionSvc$updateG===void 0||_selectionSvc$updateG.call(selectionSvc,source);}if(nodes){var _selectionSvc$getSele3;var selectedNodes=(_selectionSvc$getSele3=selectionSvc===null||selectionSvc===void 0?void 0:selectionSvc.getSelectedNodes())!==null&&_selectionSvc$getSele3!==void 0?_selectionSvc$getSele3:null;this.eventSvc.dispatchEvent({type:\"selectionChanged\",source,selectedNodes,serverSideState:null});}}hideRow(row){if(row.isSelected()){var _this$nodesToUnselect;((_this$nodesToUnselect=this.nodesToUnselect)!==null&&_this$nodesToUnselect!==void 0?_this$nodesToUnselect:this.nodesToUnselect=[]).push(row);}row.parent=null;row.group=false;row.groupData=null;row.treeParent=null;row.treeNodeFlags=0;row.allLeafChildren=null;row.childrenAfterGroup=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._EmptyArray;var sibling=row.sibling;if(sibling){sibling.allLeafChildren=null;sibling.childrenAfterGroup=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._EmptyArray;}row.updateHasChildren();if(row.rowIndex!==null){row.clearRowTopAndRowIndex();}}checkGroupColsUpdated(afterColumnsChanged){this.groupColsChanged=false;if(afterColumnsChanged||!this.groupColsIds){var _this$beans$showRowGr6,_this$beans$showRowGr7;var cols=(_this$beans$showRowGr6=(_this$beans$showRowGr7=this.beans.showRowGroupCols)===null||_this$beans$showRowGr7===void 0?void 0:_this$beans$showRowGr7.getShowRowGroupCols())!==null&&_this$beans$showRowGr6!==void 0?_this$beans$showRowGr6:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._EmptyArray;var groupColsIds=\"\";for(var i=0,len=cols.length;i<len;++i){groupColsIds+=cols[i].getId()+PATH_KEY_SEPARATOR;}if(this.groupColsIds!==groupColsIds){this.groupColsIds=groupColsIds;this.groupColsChanged=true;}}}};var compareSourceRowIndex=(a,b)=>a.sourceRowIndex-b.sourceRowIndex;// packages/ag-grid-enterprise/src/treeData/treeDataModule.ts\nvar SharedTreeDataModule={moduleName:\"SharedTreeData\",version:VERSION,dependsOn:[EnterpriseCoreModule,SharedAggregationModule,GroupColumnModule,StickyRowModule]};var TreeDataModule={moduleName:\"TreeData\",version:VERSION,beans:[ClientSideChildrenTreeNodeManager],dynamicBeans:{treeGroupStrategy:TreeGroupStrategy},rowModels:[\"clientSide\"],dependsOn:[SharedTreeDataModule,AggregationModule,ClientSideRowModelHierarchyModule]};// packages/ag-grid-enterprise/src/serverSideRowModel/blocks/blockUtils.ts\nvar GROUP_MISSING_KEY_ID=\"ag-Grid-MissingKey\";var BlockUtils=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BeanStub{constructor(){super(...arguments);this.beanName=\"ssrmBlockUtils\";}wireBeans(beans){this.valueSvc=beans.valueSvc;this.showRowGroupCols=beans.showRowGroupCols;this.nodeManager=beans.ssrmNodeManager;this.expansionSvc=beans.expansionSvc;this.serverSideRowModel=beans.rowModel;this.storeFactory=beans.ssrmStoreFactory;}createRowNode(params){var rowNode=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RowNode(this.beans);var rowHeight=params.rowHeight!=null?params.rowHeight:(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getRowHeightAsNumber)(this.beans);rowNode.setRowHeight(rowHeight);rowNode.group=params.group;rowNode.leafGroup=params.leafGroup;rowNode.level=params.level;rowNode.uiLevel=params.level;rowNode.parent=params.parent;rowNode.stub=true;rowNode.__needsRefreshWhenVisible=false;if(rowNode.group){rowNode.expanded=false;rowNode.field=params.field;rowNode.rowGroupColumn=params.rowGroupColumn;rowNode.rowGroupIndex=params.level;}return rowNode;}destroyRowNode(rowNode){var preserveStore=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(rowNode.childStore&&!preserveStore){this.destroyBean(rowNode.childStore);rowNode.childStore=null;}if(rowNode.sibling&&!rowNode.footer){this.destroyRowNode(rowNode.sibling,false);}rowNode.clearRowTopAndRowIndex();if(rowNode.id!=null){this.nodeManager.removeNode(rowNode);}}setTreeGroupInfo(rowNode){rowNode.updateHasChildren();var getKeyFunc=this.gos.get(\"getServerSideGroupKey\");var hasChildren=rowNode.hasChildren();if(hasChildren&&getKeyFunc!=null){rowNode.key=getKeyFunc(rowNode.data);}if(!hasChildren&&rowNode.childStore!=null){this.destroyBean(rowNode.childStore);rowNode.childStore=null;rowNode.expanded=false;}}setRowGroupInfo(rowNode){rowNode.key=this.valueSvc.getValue(rowNode.rowGroupColumn,rowNode);if(rowNode.key===null||rowNode.key===void 0){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._doOnce)(()=>{var _rowNode$rowGroupColu;(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(190,{rowGroupId:(_rowNode$rowGroupColu=rowNode.rowGroupColumn)===null||_rowNode$rowGroupColu===void 0?void 0:_rowNode$rowGroupColu.getId(),data:rowNode.data});},\"SSBlock-BadKey\");}var isUnbalancedGroup=this.gos.get(\"groupAllowUnbalanced\")&&rowNode.key===\"\";if(isUnbalancedGroup){var storeParams=this.serverSideRowModel.getParams();rowNode.childStore=this.createBean(this.storeFactory.createStore(storeParams,rowNode));}var getGroupIncludeFooter=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getGroupTotalRowCallback)(this.beans.gos);var doesRowShowFooter=getGroupIncludeFooter({node:rowNode});if(doesRowShowFooter){_createRowNodeFooter(rowNode,this.beans);if(rowNode.sibling){rowNode.sibling.uiLevel=rowNode.uiLevel+1;}}}setMasterDetailInfo(rowNode){var isMasterFunc=this.gos.get(\"isRowMaster\");if(isMasterFunc!=null){rowNode.master=isMasterFunc(rowNode.data);}else{rowNode.master=true;}}updateDataIntoRowNode(rowNode,data){rowNode.updateData(data);if(this.gos.get(\"treeData\")){this.setTreeGroupInfo(rowNode);this.setChildCountIntoRowNode(rowNode);this.updateRowFooter(rowNode);}else if(rowNode.group){this.setChildCountIntoRowNode(rowNode);this.updateRowFooter(rowNode);}else if(this.gos.get(\"masterDetail\")){}}updateRowFooter(rowNode){if(rowNode.footer){return;}if(rowNode.group){var getGroupIncludeFooter=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getGroupTotalRowCallback)(this.beans.gos);var shouldRowShowFooter=getGroupIncludeFooter({node:rowNode});if(shouldRowShowFooter&&!rowNode.sibling){_createRowNodeFooter(rowNode,this.beans);return;}}if(rowNode.sibling){_destroyRowNodeFooter(rowNode);}}setDataIntoRowNode(rowNode,data,defaultId,cachedRowHeight){rowNode.stub=false;var treeData=this.gos.get(\"treeData\");rowNode.setDataAndId(data,defaultId);if(treeData){this.setTreeGroupInfo(rowNode);}else if(rowNode.group){this.setRowGroupInfo(rowNode);}else if(this.gos.get(\"masterDetail\")){this.setMasterDetailInfo(rowNode);}if(treeData||rowNode.group){this.setGroupDataIntoRowNode(rowNode);this.setChildCountIntoRowNode(rowNode);}if((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._exists)(data)){var _rowNode$sibling;rowNode.setRowHeight((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getRowHeightForNode)(this.beans,rowNode,false,cachedRowHeight).height);(_rowNode$sibling=rowNode.sibling)===null||_rowNode$sibling===void 0||_rowNode$sibling.setRowHeight((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getRowHeightForNode)(this.beans,rowNode.sibling,false,cachedRowHeight).height);}}setChildCountIntoRowNode(rowNode){var getChildCount=this.gos.get(\"getChildCount\");if(getChildCount){rowNode.setAllChildrenCount(getChildCount(rowNode.data));}}setGroupDataIntoRowNode(rowNode){var _this$showRowGroupCol,_this$showRowGroupCol2;rowNode.groupValue=rowNode.key;var groupDisplayCols=(_this$showRowGroupCol=(_this$showRowGroupCol2=this.showRowGroupCols)===null||_this$showRowGroupCol2===void 0?void 0:_this$showRowGroupCol2.getShowRowGroupCols())!==null&&_this$showRowGroupCol!==void 0?_this$showRowGroupCol:[];var usingTreeData=this.gos.get(\"treeData\");groupDisplayCols.forEach(col=>{if(rowNode.groupData==null){rowNode.groupData={};}if(usingTreeData){rowNode.groupData[col.getColId()]=rowNode.key;}else if(col.isRowGroupDisplayed(rowNode.rowGroupColumn.getId())){var groupValue=this.valueSvc.getValue(rowNode.rowGroupColumn,rowNode);rowNode.groupData[col.getColId()]=groupValue;}});}clearDisplayIndex(rowNode){rowNode.clearRowTopAndRowIndex();var hasChildStore=rowNode.hasChildren()&&!!rowNode.childStore;if(hasChildStore){var _rowNode$childStore;(_rowNode$childStore=rowNode.childStore)===null||_rowNode$childStore===void 0||_rowNode$childStore.clearDisplayIndexes();}var hasDetailNode=rowNode.master&&rowNode.detailNode;if(hasDetailNode){var _rowNode$detailNode;(_rowNode$detailNode=rowNode.detailNode)===null||_rowNode$detailNode===void 0||_rowNode$detailNode.clearRowTopAndRowIndex();}}setDisplayIndex(rowNode,displayIndexSeq,nextRowTop,uiLevel){var isUnbalancedGroup=this.gos.get(\"groupAllowUnbalanced\")&&rowNode.group&&rowNode.key===\"\";var isHiddenOpenGroup=this.gos.get(\"groupHideOpenParents\")&&rowNode.group&&rowNode.expanded;if(isHiddenOpenGroup||isUnbalancedGroup){rowNode.setRowIndex(null);rowNode.setRowTop(null);}else{rowNode.setRowIndex(displayIndexSeq.value++);rowNode.setRowTop(nextRowTop.value);nextRowTop.value+=rowNode.rowHeight;}rowNode.setUiLevel(uiLevel);if(rowNode.footer){return;}var hasDetailRow=rowNode.master;if(hasDetailRow){if(rowNode.expanded&&rowNode.detailNode){rowNode.detailNode.setRowIndex(displayIndexSeq.value++);rowNode.detailNode.setRowTop(nextRowTop.value);nextRowTop.value+=rowNode.detailNode.rowHeight;}else if(rowNode.detailNode){rowNode.detailNode.clearRowTopAndRowIndex();}}var hasChildStore=rowNode.hasChildren()&&!!rowNode.childStore;if(hasChildStore){var childStore=rowNode.childStore;if(rowNode.expanded||isUnbalancedGroup){childStore.setDisplayIndexes(displayIndexSeq,nextRowTop,isUnbalancedGroup?uiLevel:uiLevel+1);}else{childStore.clearDisplayIndexes();}}}extractRowBounds(rowNode,index){var extractRowBounds=currentRowNode=>({rowHeight:currentRowNode.rowHeight,rowTop:currentRowNode.rowTop});if(rowNode.rowIndex===index){return extractRowBounds(rowNode);}if(rowNode.hasChildren()&&rowNode.expanded&&!!rowNode.childStore){var childStore=rowNode.childStore;if(childStore.isDisplayIndexInStore(index)){return childStore.getRowBounds(index);}}else if(rowNode.master&&rowNode.expanded&&rowNode.detailNode){if(rowNode.detailNode.rowIndex===index){return extractRowBounds(rowNode.detailNode);}}}isPixelInNodeRange(node,pixel){if(!(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._exists)(node.rowTop)||!(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._exists)(node.rowHeight)){return false;}return pixel>=node.rowTop&&pixel<node.rowTop+node.rowHeight;}getIndexAtPixel(rowNode,pixel){if(this.isPixelInNodeRange(rowNode,pixel)){return rowNode.rowIndex;}var expandedMasterRow=rowNode.master&&rowNode.expanded;var detailNode=rowNode.detailNode;if(expandedMasterRow&&detailNode&&this.isPixelInNodeRange(detailNode,pixel)){return detailNode.rowIndex;}if(rowNode.hasChildren()&&rowNode.expanded&&!!rowNode.childStore){var childStore=rowNode.childStore;if(childStore.isPixelInRange(pixel)){return childStore.getRowIndexAtPixel(pixel);}}return null;}createNodeIdPrefix(parentRowNode){var parts=[];var rowNode=parentRowNode;while(rowNode&&rowNode.level>=0){if(rowNode.key===\"\"){parts.push(GROUP_MISSING_KEY_ID);}else{parts.push(rowNode.key);}rowNode=rowNode.parent;}if(parts.length>0){return parts.reverse().join(\"-\");}return void 0;}checkOpenByDefault(rowNode){var _this$expansionSvc;return(_this$expansionSvc=this.expansionSvc)===null||_this$expansionSvc===void 0?void 0:_this$expansionSvc.checkOpenByDefault(rowNode);}};// packages/ag-grid-enterprise/src/serverSideRowModel/listeners/expandListener.ts\nvar ExpandListener=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BeanStub{constructor(){super(...arguments);this.beanName=\"ssrmExpandListener\";}wireBeans(beans){this.serverSideRowModel=beans.rowModel;this.storeFactory=beans.ssrmStoreFactory;}postConstruct(){if(!(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isServerSideRowModel)(this.gos)){return;}this.addManagedEventListeners({rowGroupOpened:this.onRowGroupOpened.bind(this)});}onRowGroupOpened(event){var rowNode=event.node;if(rowNode.expanded){if(rowNode.master){this.createDetailNode(rowNode);}else if((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._missing)(rowNode.childStore)){var storeParams=this.serverSideRowModel.getParams();rowNode.childStore=this.createBean(this.storeFactory.createStore(storeParams,rowNode));}}else if(this.gos.get(\"purgeClosedRowNodes\")&&(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._exists)(rowNode.childStore)){rowNode.childStore=this.destroyBean(rowNode.childStore);}this.eventSvc.dispatchEvent({type:\"storeUpdated\"});}createDetailNode(masterNode){if((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._exists)(masterNode.detailNode)){return masterNode.detailNode;}var detailNode=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RowNode(this.beans);detailNode.detail=true;detailNode.selectable=false;detailNode.parent=masterNode;if((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._exists)(masterNode.id)){detailNode.id=\"detail_\"+masterNode.id;}detailNode.data=masterNode.data;detailNode.level=masterNode.level+1;var defaultDetailRowHeight=200;var rowHeight=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getRowHeightForNode)(this.beans,detailNode).height;detailNode.rowHeight=rowHeight?rowHeight:defaultDetailRowHeight;masterNode.detailNode=detailNode;return detailNode;}};// packages/ag-grid-enterprise/src/serverSideRowModel/listeners/filterListener.ts\nvar FilterListener=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BeanStub{constructor(){super(...arguments);this.beanName=\"ssrmFilterListener\";}wireBeans(beans){this.serverSideRowModel=beans.rowModel;this.filterManager=beans.filterManager;this.listenerUtils=beans.ssrmListenerUtils;}postConstruct(){if(!(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isServerSideRowModel)(this.gos)){return;}this.addManagedEventListeners({advancedFilterEnabledChanged:()=>this.onFilterChanged(true),filterChanged:()=>this.onFilterChanged()});}onFilterChanged(advancedFilterEnabledChanged){var _this$filterManager5;var storeParams=this.serverSideRowModel.getParams();if(!storeParams){return;}var oldModel=storeParams.filterModel;var newModel;var changedColumns;if((_this$filterManager5=this.filterManager)!==null&&_this$filterManager5!==void 0&&_this$filterManager5.isAdvFilterEnabled()){newModel=this.filterManager.getAdvFilterModel();var oldColumns=advancedFilterEnabledChanged?Object.keys(oldModel!==null&&oldModel!==void 0?oldModel:{}):this.getAdvancedFilterColumns(oldModel);var newColumns=this.getAdvancedFilterColumns(newModel);oldColumns.forEach(column=>newColumns.add(column));changedColumns=Array.from(newColumns);}else{var _this$filterManager$g,_this$filterManager6;newModel=(_this$filterManager$g=(_this$filterManager6=this.filterManager)===null||_this$filterManager6===void 0?void 0:_this$filterManager6.getFilterModel())!==null&&_this$filterManager$g!==void 0?_this$filterManager$g:{};if(advancedFilterEnabledChanged){var _oldColumns=this.getAdvancedFilterColumns(oldModel);Object.keys(newModel).forEach(column=>_oldColumns.add(column));changedColumns=Array.from(_oldColumns);}else{changedColumns=this.findChangedColumns(oldModel,newModel);}}var valueColChanged=this.listenerUtils.isSortingWithValueColumn(changedColumns);var secondaryColChanged=this.listenerUtils.isSortingWithSecondaryColumn(changedColumns);var params={valueColChanged,secondaryColChanged,changedColumns};this.serverSideRowModel.refreshAfterFilter(newModel,params);}findChangedColumns(oldModel,newModel){var allColKeysMap={};Object.keys(oldModel).forEach(key=>allColKeysMap[key]=true);Object.keys(newModel).forEach(key=>allColKeysMap[key]=true);var res=[];Object.keys(allColKeysMap).forEach(key=>{var oldJson=JSON.stringify(oldModel[key]);var newJson=JSON.stringify(newModel[key]);var filterChanged=oldJson!=newJson;if(filterChanged){res.push(key);}});return res;}getAdvancedFilterColumns(model){var columns=/* @__PURE__ */new Set();if(!model){return columns;}var processAdvancedFilterModel=filterModel=>{if(filterModel.filterType===\"join\"){filterModel.conditions.forEach(condition=>processAdvancedFilterModel(condition));}else{columns.add(filterModel.colId);}};processAdvancedFilterModel(model);return columns;}};// packages/ag-grid-enterprise/src/serverSideRowModel/listeners/listenerUtils.ts\nvar ListenerUtils=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BeanStub{constructor(){super(...arguments);this.beanName=\"ssrmListenerUtils\";}wireBeans(beans){this.pivotResultCols=beans.pivotResultCols;this.valueColsSvc=beans.valueColsSvc;}isSortingWithValueColumn(changedColumnsInSort){var _this$valueColsSvc$co5,_this$valueColsSvc9;var valueColIds=((_this$valueColsSvc$co5=(_this$valueColsSvc9=this.valueColsSvc)===null||_this$valueColsSvc9===void 0?void 0:_this$valueColsSvc9.columns)!==null&&_this$valueColsSvc$co5!==void 0?_this$valueColsSvc$co5:[]).map(col=>col.getColId());for(var i=0;i<changedColumnsInSort.length;i++){if(valueColIds.indexOf(changedColumnsInSort[i])>-1){return true;}}return false;}isSortingWithSecondaryColumn(changedColumnsInSort){var _this$pivotResultCols6;var pivotResultCols=(_this$pivotResultCols6=this.pivotResultCols)===null||_this$pivotResultCols6===void 0?void 0:_this$pivotResultCols6.getPivotResultCols();if(!pivotResultCols){return false;}var secondaryColIds=pivotResultCols.list.map(col=>col.getColId());for(var i=0;i<changedColumnsInSort.length;i++){if(secondaryColIds.indexOf(changedColumnsInSort[i])>-1){return true;}}return false;}};// packages/ag-grid-enterprise/src/serverSideRowModel/listeners/sortListener.ts\nvar SortListener=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BeanStub{constructor(){super(...arguments);this.beanName=\"ssrmSortSvc\";}wireBeans(beans){this.sortSvc=beans.sortSvc;this.serverSideRowModel=beans.rowModel;this.listenerUtils=beans.ssrmListenerUtils;}postConstruct(){if(!(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isServerSideRowModel)(this.gos)){return;}this.addManagedEventListeners({sortChanged:this.onSortChanged.bind(this)});}onSortChanged(){var storeParams=this.serverSideRowModel.getParams();if(!storeParams){return;}var newSortModel=this.sortSvc.getSortModel();var oldSortModel=storeParams.sortModel;var changedColumns=this.findChangedColumnsInSort(newSortModel,oldSortModel);var valueColChanged=this.listenerUtils.isSortingWithValueColumn(changedColumns);var secondaryColChanged=this.listenerUtils.isSortingWithSecondaryColumn(changedColumns);var params={valueColChanged,secondaryColChanged,changedColumns};this.serverSideRowModel.refreshAfterSort(newSortModel,params);}// returns back all the cols that were effected by the sorting. eg if we were sorting by col A,\n// and now we are sorting by col B, the list of impacted cols should be A and B. so if a cache\n// is impacted by sorting on A or B then it needs to be refreshed. this includes where the cache\n// was previously sorted by A and then the A sort now needs to be cleared.\nfindChangedColumnsInSort(newSortModel,oldSortModel){var allColsInBothSorts=[];[newSortModel,oldSortModel].forEach(sortModel=>{if(sortModel){var ids=sortModel.map(sm=>sm.colId);allColsInBothSorts=allColsInBothSorts.concat(ids);}});var differentSorts=(oldSortItem,newSortItem)=>{var oldSort=oldSortItem?oldSortItem.sort:null;var newSort=newSortItem?newSortItem.sort:null;return oldSort!==newSort;};var differentIndexes=(oldSortItem,newSortItem)=>{var oldIndex=oldSortItem?oldSortModel.indexOf(oldSortItem):-1;var newIndex=newSortItem?newSortModel.indexOf(newSortItem):-1;return oldIndex!==newIndex;};return allColsInBothSorts.filter(colId=>{var oldSortItem=oldSortModel.find(sm=>sm.colId===colId);var newSortItem=newSortModel.find(sm=>sm.colId===colId);return differentSorts(oldSortItem,newSortItem)||differentIndexes(oldSortItem,newSortItem);});}};// packages/ag-grid-enterprise/src/serverSideRowModel/nodeManager.ts\nvar NodeManager=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BeanStub{constructor(){super(...arguments);this.beanName=\"ssrmNodeManager\";this.rowNodes=/* @__PURE__ */new Map();}addRowNode(rowNode){var id=rowNode.id;if(this.rowNodes.has(id)){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(187,{rowId:id,firstData:this.rowNodes.get(id).data,secondData:rowNode.data});}this.rowNodes.set(id,rowNode);}removeNode(rowNode){var id=rowNode.id;this.rowNodes.delete(id);}destroy(){this.clear();super.destroy();}clear(){this.rowNodes.clear();super.destroy();}};// packages/ag-grid-enterprise/src/serverSideRowModel/serverSideRowModel.ts\nvar ServerSideRowModel=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BeanStub{constructor(){super(...arguments);this.beanName=\"rowModel\";this.pauseStoreUpdateListening=false;this.started=false;this.managingPivotResultColumns=false;this.onRowHeightChanged_debounced=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._debounce)(this,this.onRowHeightChanged.bind(this),100);}wireBeans(beans){this.colModel=beans.colModel;this.colNames=beans.colNames;this.pivotResultCols=beans.pivotResultCols;this.rowGroupColsSvc=beans.rowGroupColsSvc;this.pivotColsSvc=beans.pivotColsSvc;this.valueColsSvc=beans.valueColsSvc;this.filterManager=beans.filterManager;this.sortSvc=beans.sortSvc;this.rowRenderer=beans.rowRenderer;this.nodeManager=beans.ssrmNodeManager;this.storeFactory=beans.ssrmStoreFactory;this.pivotColDefSvc=beans.pivotColDefSvc;}// we don't implement as lazy row heights is not supported in this row model\nensureRowHeightsValid(){return false;}start(){this.started=true;this.updateDatasource();}destroyDatasource(){if(!this.datasource){return;}if(this.datasource.destroy){this.datasource.destroy();}this.rowRenderer.datasourceChanged();this.datasource=void 0;}postConstruct(){var resetListener=this.resetRootStore.bind(this);this.addManagedEventListeners({newColumnsLoaded:this.onColumnEverything.bind(this),storeUpdated:this.onStoreUpdated.bind(this),columnValueChanged:resetListener,columnPivotChanged:resetListener,columnRowGroupChanged:resetListener,columnPivotModeChanged:resetListener});this.addManagedPropertyListeners([/**\n         * Following properties omitted as they are likely to come with undesired  side effects.\n         * 'getRowId', 'isRowMaster', 'getRowHeight', 'isServerSideGroup', 'getServerSideGroupKey',\n         * */\"masterDetail\",\"treeData\",\"removePivotHeaderRowWhenSingleValueColumn\",\"cacheBlockSize\"],resetListener);this.addManagedPropertyListeners([\"groupAllowUnbalanced\",\"groupTotalRow\"],()=>this.onStoreUpdated());this.addManagedPropertyListener(\"rowHeight\",()=>this.resetRowHeights());this.verifyProps();this.addManagedPropertyListener(\"serverSideDatasource\",()=>this.updateDatasource());}updateDatasource(){var datasource=this.gos.get(\"serverSideDatasource\");if(datasource){this.setDatasource(datasource);}}verifyProps(){if((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isRowSelection)(this.gos)&&!this.gos.exists(\"getRowId\")){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(188);}}setDatasource(datasource){if(!this.started){return;}this.destroyDatasource();this.datasource=datasource;this.resetRootStore();}applyRowData(rowDataParams,startRow,route){var rootStore=this.getRootStore();if(!rootStore){return;}var storeToExecuteOn=rootStore.getChildStore(route);if(!storeToExecuteOn){return;}storeToExecuteOn.applyRowData(rowDataParams,startRow,rowDataParams.rowData.length);}isLastRowIndexKnown(){var cache=this.getRootStore();if(!cache){return false;}return cache.isLastRowIndexKnown();}onColumnEverything(){var _this$rowGroupColsSvc4,_this$valueColsSvc0,_this$pivotColsSvc5,_this$sortSvc$getSort,_this$sortSvc;if(!this.storeParams){this.resetRootStore();return;}var rowGroupColumnVos=this.columnsToValueObjects((_this$rowGroupColsSvc4=this.rowGroupColsSvc)===null||_this$rowGroupColsSvc4===void 0?void 0:_this$rowGroupColsSvc4.columns);var valueColumnVos=this.columnsToValueObjects((_this$valueColsSvc0=this.valueColsSvc)===null||_this$valueColsSvc0===void 0?void 0:_this$valueColsSvc0.columns);var pivotColumnVos=this.columnsToValueObjects((_this$pivotColsSvc5=this.pivotColsSvc)===null||_this$pivotColsSvc5===void 0?void 0:_this$pivotColsSvc5.columns);var areColsSame=params=>{var oldColsMap={};params.oldCols.forEach(col=>oldColsMap[col.id]=col);var allColsUnchanged=params.newCols.every(col=>{var equivalentCol=oldColsMap[col.id];if(equivalentCol){delete oldColsMap[col.id];}return equivalentCol&&equivalentCol.field===col.field&&equivalentCol.aggFunc===col.aggFunc;});var missingCols=!params.allowRemovedColumns&&!!Object.values(oldColsMap).length;return allColsUnchanged&&!missingCols;};var sortModelDifferent=!(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._jsonEquals)(this.storeParams.sortModel,(_this$sortSvc$getSort=(_this$sortSvc=this.sortSvc)===null||_this$sortSvc===void 0?void 0:_this$sortSvc.getSortModel())!==null&&_this$sortSvc$getSort!==void 0?_this$sortSvc$getSort:[]);var rowGroupDifferent=!areColsSame({oldCols:this.storeParams.rowGroupCols,newCols:rowGroupColumnVos});var pivotDifferent=!areColsSame({oldCols:this.storeParams.pivotCols,newCols:pivotColumnVos});var valuesDifferent=!!(rowGroupColumnVos!==null&&rowGroupColumnVos!==void 0&&rowGroupColumnVos.length)&&!areColsSame({oldCols:this.storeParams.valueCols,newCols:valueColumnVos,allowRemovedColumns:true});var resetRequired=sortModelDifferent||rowGroupDifferent||pivotDifferent||valuesDifferent;if(resetRequired){this.resetRootStore();}else{var newParams=this.createStoreParams();this.storeParams.rowGroupCols=newParams.rowGroupCols;this.storeParams.pivotCols=newParams.pivotCols;this.storeParams.valueCols=newParams.valueCols;}}destroyRootStore(){if(!this.rootNode||!this.rootNode.childStore){return;}this.rootNode.childStore=this.destroyBean(this.rootNode.childStore);this.nodeManager.clear();}refreshAfterSort(newSortModel,params){if(this.storeParams){this.storeParams.sortModel=newSortModel;}var rootStore=this.getRootStore();if(!rootStore){return;}rootStore.refreshAfterSort(params);this.onStoreUpdated();}generateSecondaryColumns(pivotFields){var _this$pivotResultCols7;if(!this.pivotColDefSvc){this.gos.assertModuleRegistered(\"SharedPivot\",2);return;}var pivotColumnGroupDefs=this.pivotColDefSvc.createColDefsFromFields(pivotFields);this.managingPivotResultColumns=true;(_this$pivotResultCols7=this.pivotResultCols)===null||_this$pivotResultCols7===void 0||_this$pivotResultCols7.setPivotResultCols(pivotColumnGroupDefs,\"rowModelUpdated\");}resetRowHeights(){var atLeastOne=this.resetRowHeightsForAllRowNodes();var rootNodeHeight=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getRowHeightForNode)(this.beans,this.rootNode);this.rootNode.setRowHeight(rootNodeHeight.height,rootNodeHeight.estimated);if(this.rootNode.sibling){var rootNodeSibling=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getRowHeightForNode)(this.beans,this.rootNode.sibling);this.rootNode.sibling.setRowHeight(rootNodeSibling.height,rootNodeSibling.estimated);}if(atLeastOne){this.onRowHeightChanged();}}resetRowHeightsForAllRowNodes(){var atLeastOne=false;this.forEachNode(rowNode=>{var rowHeightForNode=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getRowHeightForNode)(this.beans,rowNode);rowNode.setRowHeight(rowHeightForNode.height,rowHeightForNode.estimated);var detailNode=rowNode.detailNode;if(detailNode){var detailRowHeight=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getRowHeightForNode)(this.beans,detailNode);detailNode.setRowHeight(detailRowHeight.height,detailRowHeight.estimated);}if(rowNode.sibling){var siblingRowHeight=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getRowHeightForNode)(this.beans,rowNode.sibling);detailNode===null||detailNode===void 0||detailNode.setRowHeight(siblingRowHeight.height,siblingRowHeight.estimated);}atLeastOne=true;});return atLeastOne;}resetRootStore(){this.destroyRootStore();this.rootNode=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RowNode(this.beans);this.rootNode.group=true;this.rootNode.level=-1;if(this.datasource){this.storeParams=this.createStoreParams();this.rootNode.childStore=this.createBean(this.storeFactory.createStore(this.storeParams,this.rootNode));this.updateRowIndexesAndBounds();}if(this.managingPivotResultColumns){var _this$pivotResultCols8;(_this$pivotResultCols8=this.pivotResultCols)===null||_this$pivotResultCols8===void 0||_this$pivotResultCols8.setPivotResultCols(null,\"api\");this.managingPivotResultColumns=false;}this.dispatchModelUpdated(true);}columnsToValueObjects(){var columns=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];return columns.map(col=>({id:col.getId(),aggFunc:col.getAggFunc(),displayName:this.colNames.getDisplayNameForColumn(col,\"model\"),field:col.getColDef().field}));}createStoreParams(){var _this$rowGroupColsSvc5,_this$valueColsSvc1,_this$pivotColsSvc6,_this$filterManager7,_this$filterManager8,_this$filterManager$g2,_this$filterManager9,_this$sortSvc$getSort2,_this$sortSvc2;var rowGroupColumnVos=this.columnsToValueObjects((_this$rowGroupColsSvc5=this.rowGroupColsSvc)===null||_this$rowGroupColsSvc5===void 0?void 0:_this$rowGroupColsSvc5.columns);var valueColumnVos=this.columnsToValueObjects((_this$valueColsSvc1=this.valueColsSvc)===null||_this$valueColsSvc1===void 0?void 0:_this$valueColsSvc1.columns);var pivotColumnVos=this.columnsToValueObjects((_this$pivotColsSvc6=this.pivotColsSvc)===null||_this$pivotColsSvc6===void 0?void 0:_this$pivotColsSvc6.columns);var dynamicRowHeight=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isGetRowHeightFunction)(this.gos);var params={// the columns the user has grouped and aggregated by\nvalueCols:valueColumnVos,rowGroupCols:rowGroupColumnVos,pivotCols:pivotColumnVos,pivotMode:this.colModel.isPivotMode(),// sort and filter model\nfilterModel:(_this$filterManager7=this.filterManager)!==null&&_this$filterManager7!==void 0&&_this$filterManager7.isAdvFilterEnabled()?(_this$filterManager8=this.filterManager)===null||_this$filterManager8===void 0?void 0:_this$filterManager8.getAdvFilterModel():(_this$filterManager$g2=(_this$filterManager9=this.filterManager)===null||_this$filterManager9===void 0?void 0:_this$filterManager9.getFilterModel())!==null&&_this$filterManager$g2!==void 0?_this$filterManager$g2:{},sortModel:(_this$sortSvc$getSort2=(_this$sortSvc2=this.sortSvc)===null||_this$sortSvc2===void 0?void 0:_this$sortSvc2.getSortModel())!==null&&_this$sortSvc$getSort2!==void 0?_this$sortSvc$getSort2:[],datasource:this.datasource,lastAccessedSequence:{value:0},// blockSize: blockSize == null ? 100 : blockSize,\ndynamicRowHeight};return params;}getParams(){return this.storeParams;}dispatchModelUpdated(){var reset=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;this.eventSvc.dispatchEvent({type:\"modelUpdated\",animate:!reset,keepRenderedRows:!reset,newPage:false,newData:false});}onStoreUpdated(){if(this.pauseStoreUpdateListening){return;}this.updateRowIndexesAndBounds();this.dispatchModelUpdated();}onRowHeightChanged(){this.updateRowIndexesAndBounds();this.dispatchModelUpdated();}updateRowIndexesAndBounds(){var rootStore=this.getRootStore();if(!rootStore){return;}rootStore.setDisplayIndexes({value:0},{value:0},0);}retryLoads(){var rootStore=this.getRootStore();if(!rootStore){return;}rootStore.retryLoads();this.onStoreUpdated();}getRow(index){var rootStore=this.getRootStore();if(!rootStore){return void 0;}return rootStore.getRowUsingDisplayIndex(index);}/**\n   * Pauses the store, to prevent it updating the UI. This is used when doing batch updates to the store.\n   */setPaused(paused){this.pauseStoreUpdateListening=paused;}expandAll(value){this.pauseStoreUpdateListening=true;this.forEachNode(node=>{if(node.stub){return;}if(node.hasChildren()){node.setExpanded(value);}});this.pauseStoreUpdateListening=false;this.onStoreUpdated();}refreshAfterFilter(newFilterModel,params){if(this.storeParams){this.storeParams.filterModel=newFilterModel;}var rootStore=this.getRootStore();if(!rootStore){return;}rootStore.refreshAfterFilter(params);this.onStoreUpdated();}getRootStore(){var _this$rootNode2;return(_this$rootNode2=this.rootNode)===null||_this$rootNode2===void 0?void 0:_this$rootNode2.childStore;}getRowCount(){var rootStore=this.getRootStore();if(!rootStore){return 0;}return rootStore.getDisplayIndexEnd();}getTopLevelRowCount(){var rootStore=this.getRootStore();if(!rootStore){return 1;}return rootStore.getRowCount();}getTopLevelRowDisplayedIndex(topLevelIndex){var rootStore=this.getRootStore();if(!rootStore){return topLevelIndex;}return rootStore.getTopLevelRowDisplayedIndex(topLevelIndex);}getRowBounds(index){var rootStore=this.getRootStore();if(!rootStore){var rowHeight=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getRowHeightAsNumber)(this.beans);return{rowTop:0,rowHeight};}return rootStore.getRowBounds(index);}getBlockStates(){var root=this.getRootStore();if(!root){return void 0;}var states={};root.forEachStoreDeep(store=>{var blockStates=store.getBlockStates();for(var block of Object.keys(blockStates)){states[block]=blockStates[block];}});return states;}getRowIndexAtPixel(pixel){var rootStore=this.getRootStore();if(pixel<=0||!rootStore){return 0;}return rootStore.getRowIndexAtPixel(pixel);}isEmpty(){return false;}isRowsToRender(){return this.getRootStore()!=null&&this.getRowCount()>0;}getType(){return\"serverSide\";}forEachNode(callback){var rootStore=this.getRootStore();if(!rootStore){return;}rootStore.forEachNodeDeep(callback);}forEachDisplayedNode(callback){var wrappedCallback=(node,index)=>{if(node.stub||!node.displayed){return;}callback(node,index);};this.forEachNode(wrappedCallback);}forEachNodeAfterFilterAndSort(callback){var includeFooterNodes=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var rootStore=this.getRootStore();if(!rootStore){return;}rootStore.forEachNodeDeepAfterFilterAndSort(callback,void 0,includeFooterNodes);}/** @returns false if store hasn't started */executeOnStore(route,callback){if(!this.started){return false;}var rootStore=this.getRootStore();if(!rootStore){return true;}var storeToExecuteOn=rootStore.getChildStore(route);if(storeToExecuteOn){callback(storeToExecuteOn);}return true;}refreshStore(){var params=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var route=params.route?params.route:[];this.executeOnStore(route,store=>store.refreshStore(params.purge==true));}getStoreState(){var res=[];var rootStore=this.getRootStore();if(rootStore){rootStore.addStoreStates(res);}return res;}getNodesInRangeForSelection(firstInRange,lastInRange){var startIndex=firstInRange.rowIndex;var endIndex=lastInRange.rowIndex;if(startIndex===null&&endIndex===null){return[];}if(endIndex===null){return firstInRange?[firstInRange]:[];}if(startIndex===null){return[lastInRange];}var nodeRange=[];var[firstIndex,lastIndex]=[startIndex,endIndex].sort((a,b)=>a-b);this.forEachNode(node=>{var thisRowIndex=node.rowIndex;if(thisRowIndex==null||node.stub){return;}if(thisRowIndex>=firstIndex&&thisRowIndex<=lastIndex){nodeRange.push(node);}});if(nodeRange.length!==lastIndex-firstIndex+1){return null;}return nodeRange;}getRowNode(id){var result;this.forEachNode(rowNode=>{if(rowNode.id===id){result=rowNode;}if(rowNode.detailNode&&rowNode.detailNode.id===id){result=rowNode.detailNode;}});return result;}isRowPresent(rowNode){var foundRowNode=this.getRowNode(rowNode.id);return!!foundRowNode;}setRowCount(rowCount,lastRowIndexKnown){var rootStore=this.getRootStore();if(!rootStore){return;}rootStore.setRowCount(rowCount,lastRowIndexKnown);}destroy(){this.destroyDatasource();this.destroyRootStore();super.destroy();}/**\n   * @deprecated v33.1\n   */onRowHeightChangedDebounced(){this.onRowHeightChanged_debounced();}};// packages/ag-grid-enterprise/src/serverSideRowModel/serverSideRowModelApi.ts\nfunction getServerSideSelectionState(beans){var _beans$selectionSvc$g,_beans$selectionSvc2;return(_beans$selectionSvc$g=(_beans$selectionSvc2=beans.selectionSvc)===null||_beans$selectionSvc2===void 0?void 0:_beans$selectionSvc2.getSelectionState())!==null&&_beans$selectionSvc$g!==void 0?_beans$selectionSvc$g:null;}function setServerSideSelectionState(beans,state){var _beans$selectionSvc3;(_beans$selectionSvc3=beans.selectionSvc)===null||_beans$selectionSvc3===void 0||_beans$selectionSvc3.setSelectionState(state,\"api\");}function applyServerSideTransaction(beans,transaction){var _beans$ssrmTxnManager;return(_beans$ssrmTxnManager=beans.ssrmTxnManager)===null||_beans$ssrmTxnManager===void 0?void 0:_beans$ssrmTxnManager.applyTransaction(transaction);}function applyServerSideRowData(beans,params){var _params$startRow,_params$route,_getServerSideRowMode;var startRow=(_params$startRow=params.startRow)!==null&&_params$startRow!==void 0?_params$startRow:0;var route=(_params$route=params.route)!==null&&_params$route!==void 0?_params$route:[];if(startRow<0){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(189,{startRow});return;}(_getServerSideRowMode=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getServerSideRowModel)(beans))===null||_getServerSideRowMode===void 0||_getServerSideRowMode.applyRowData(params.successParams,startRow,route);}function applyServerSideTransactionAsync(beans,transaction,callback){var _beans$ssrmTxnManager2;return(_beans$ssrmTxnManager2=beans.ssrmTxnManager)===null||_beans$ssrmTxnManager2===void 0?void 0:_beans$ssrmTxnManager2.applyTransactionAsync(transaction,callback);}function retryServerSideLoads(beans){var _getServerSideRowMode2;(_getServerSideRowMode2=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getServerSideRowModel)(beans))===null||_getServerSideRowMode2===void 0||_getServerSideRowMode2.retryLoads();}function flushServerSideAsyncTransactions(beans){var _beans$ssrmTxnManager3;return(_beans$ssrmTxnManager3=beans.ssrmTxnManager)===null||_beans$ssrmTxnManager3===void 0?void 0:_beans$ssrmTxnManager3.flushAsyncTransactions();}function refreshServerSide(beans,params){var _getServerSideRowMode3;(_getServerSideRowMode3=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getServerSideRowModel)(beans))===null||_getServerSideRowMode3===void 0||_getServerSideRowMode3.refreshStore(params);}function getServerSideGroupLevelState(beans){var _getServerSideRowMode4,_getServerSideRowMode5;return(_getServerSideRowMode4=(_getServerSideRowMode5=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getServerSideRowModel)(beans))===null||_getServerSideRowMode5===void 0?void 0:_getServerSideRowMode5.getStoreState())!==null&&_getServerSideRowMode4!==void 0?_getServerSideRowMode4:[];}// packages/ag-grid-enterprise/src/serverSideRowModel/services/serverSideExpansionService.ts\nvar ServerSideExpansionService=class extends BaseExpansionService{constructor(){super(...arguments);this.beanName=\"expansionSvc\";this.queuedRowIds=/* @__PURE__ */new Set();}wireBeans(beans){this.serverSideRowModel=beans.rowModel;}postConstruct(){this.addManagedEventListeners({columnRowGroupChanged:()=>{this.queuedRowIds.clear();}});}checkOpenByDefault(rowNode){if(!rowNode.isExpandable()){return;}if(this.queuedRowIds.has(rowNode.id)){this.queuedRowIds.delete(rowNode.id);rowNode.setExpanded(true);return;}var userFunc=this.gos.getCallback(\"isServerSideGroupOpenByDefault\");if(!userFunc){return;}var params={data:rowNode.data,rowNode};var userFuncRes=userFunc(params);if(userFuncRes){rowNode.setExpanded(true);}}expandRows(rowIdsToExpand,rowIdsToCollapse){var{serverSideRowModel,queuedRowIds}=this;var processNodes=(rowIds,expanded)=>{for(var rowId of rowIds){var rowNode=serverSideRowModel.getRowNode(rowId);if(rowNode){rowNode.setExpanded(expanded);}else{if(expanded){queuedRowIds.add(rowId);}else{queuedRowIds.delete(rowId);}}}};processNodes(rowIdsToExpand,true);if(!rowIdsToCollapse){return;}processNodes(rowIdsToCollapse,false);}expandAll(value){this.serverSideRowModel.expandAll(value);}onGroupExpandedOrCollapsed(){}dispatchExpandedEvent(event){this.eventSvc.dispatchEvent(event);this.beans.rowRenderer.refreshCells({rowNodes:[event.node]});}};// packages/ag-grid-enterprise/src/serverSideRowModel/services/serverSideSelectionService.ts\n// packages/ag-grid-enterprise/src/serverSideRowModel/services/selection/strategies/defaultStrategy.ts\nvar DefaultStrategy=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BeanStub{constructor(selectionCtx){super();this.selectionCtx=selectionCtx;this.selectedState={selectAll:false,toggledNodes:/* @__PURE__ */new Set()};/**\n     * Whether select-all functionality has ever been used. Used only to print warnings in `getSelectedNodes` for users.\n     * We print a warning even if not currently selecting all because we want users to be aware of the potential\n     * for unexpected behaviour when these two features are used together.\n     */this.selectAllUsed=false;/** This is to prevent regressions, default selectionSvc retains reference of selected nodes. */this.selectedNodes={};}getSelectedState(){return{selectAll:this.selectedState.selectAll,toggledNodes:[...this.selectedState.toggledNodes]};}setSelectedState(state){if(typeof state!==\"object\"){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._error)(116);return;}if(!(\"selectAll\"in state)){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._error)(116);return;}if(typeof state.selectAll!==\"boolean\"){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._error)(117);return;}if(!(\"toggledNodes\"in state)||!Array.isArray(state.toggledNodes)){return (0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(197);}var newState={selectAll:state.selectAll,toggledNodes:/* @__PURE__ */new Set()};state.toggledNodes.forEach(key=>{if(typeof key===\"string\"){newState.toggledNodes.add(key);}else{(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(196,{key});}});var isSelectingMultipleRows=newState.selectAll||newState.toggledNodes.size>1;if((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isUsingNewRowSelectionAPI)(this.gos)&&!(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isMultiRowSelection)(this.gos)&&isSelectingMultipleRows){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(130);return;}this.selectedState=newState;}deleteSelectionStateFromParent(parentPath,removedNodeIds){if(this.selectedState.toggledNodes.size===0){return false;}var anyNodesToggled=false;removedNodeIds.forEach(id=>{if(this.selectedState.toggledNodes.delete(id)){anyNodesToggled=true;}});return anyNodesToggled;}setNodesSelected(params){var _this14=this;var{nodes,clearSelection,newValue,source}=params;if(nodes.length===0)return 0;var onlyThisNode=clearSelection&&newValue;if(!(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isMultiRowSelection)(this.gos)||onlyThisNode){if(nodes.length>1){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._error)(130);return 0;}var rowNode=nodes[0];var node=rowNode.footer?rowNode.sibling:rowNode;if(newValue&&node.selectable){this.selectedNodes={[node.id]:node};this.selectedState={selectAll:false,toggledNodes:/* @__PURE__ */new Set([node.id])};}else{this.selectedNodes={};this.selectedState={selectAll:false,toggledNodes:/* @__PURE__ */new Set()};}return 1;}var updateNodeState=function updateNodeState(rowNode){var value=arguments.length>1&&arguments[1]!==undefined?arguments[1]:newValue;var node=rowNode.footer?rowNode.sibling:rowNode;if(value&&node.selectable){_this14.selectedNodes[node.id]=node;}else{delete _this14.selectedNodes[node.id];}var doesNodeConform=value===_this14.selectedState.selectAll;if(doesNodeConform||!node.selectable){_this14.selectedState.toggledNodes.delete(node.id);}else{_this14.selectedState.toggledNodes.add(node.id);}};nodes.forEach(node=>updateNodeState(node));if(nodes.length===1&&source===\"api\"){this.selectionCtx.setRoot(nodes[0].footer?nodes[0].sibling:nodes[0]);}return 1;}processNewRow(node){if(this.selectedNodes[node.id]){this.selectedNodes[node.id]=node;}}isNodeSelected(node){var isToggled=this.selectedState.toggledNodes.has(node.id);return this.selectedState.selectAll?!isToggled:isToggled;}getSelectedNodes(){var nullWhenSelectAll=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var warnWhenSelectAll=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;var{selectedState:{selectAll},selectedNodes,selectAllUsed}=this;if(warnWhenSelectAll&&selectAllUsed){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(199);}return nullWhenSelectAll&&selectAll?null:Object.values(selectedNodes);}getSelectedRows(){var _this$getSelectedNode;return((_this$getSelectedNode=this.getSelectedNodes())!==null&&_this$getSelectedNode!==void 0?_this$getSelectedNode:[]).map(node=>node.data);}getSelectionCount(){if(this.selectedState.selectAll){return-1;}return this.selectedState.toggledNodes.size;}isEmpty(){var _this$selectedState$t;return!this.selectedState.selectAll&&!((_this$selectedState$t=this.selectedState.toggledNodes)!==null&&_this$selectedState$t!==void 0&&_this$selectedState$t.size);}selectAllRowNodes(){this.reset(true);}deselectAllRowNodes(){this.reset(false);}reset(selectAll){this.selectedState={selectAll,toggledNodes:/* @__PURE__ */new Set()};this.selectedNodes={};this.selectAllUsed||(this.selectAllUsed=selectAll);}getSelectAllState(){if(this.selectedState.selectAll){if(this.selectedState.toggledNodes.size>0){return null;}return true;}if(this.selectedState.toggledNodes.size>0){return null;}return false;}};// packages/ag-grid-enterprise/src/serverSideRowModel/services/selection/strategies/groupSelectsChildrenStrategy.ts\nvar GroupSelectsChildrenStrategy=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BeanStub{constructor(selectionCtx){super();this.selectionCtx=selectionCtx;this.selectedState={selectAllChildren:false,toggledNodes:/* @__PURE__ */new Map()};}wireBeans(beans){this.rowModel=beans.rowModel;this.rowGroupColsSvc=beans.rowGroupColsSvc;this.filterManager=beans.filterManager;this.selectionSvc=beans.selectionSvc;}postConstruct(){this.addManagedEventListeners({// if model has updated, a store may now be fully loaded to clean up indeterminate states\nmodelUpdated:()=>this.removeRedundantState(),// when the grouping changes, the state no longer makes sense, so reset the state.\ncolumnRowGroupChanged:()=>this.selectionSvc.reset(\"rowGroupChanged\")});}getSelectedState(){var{gos,rowGroupColsSvc,selectedState}=this;var treeData=gos.get(\"treeData\");var recursivelySerializeState=(state,level,nodeId)=>{var normalisedState={nodeId};if(treeData||rowGroupColsSvc&&level<=rowGroupColsSvc.columns.length){normalisedState.selectAllChildren=state.selectAllChildren;}if(state.toggledNodes.size){var toggledNodes=[];state.toggledNodes.forEach((value,key)=>{var newState=recursivelySerializeState(value,level+1,key);toggledNodes.push(newState);});normalisedState.toggledNodes=toggledNodes;}return normalisedState;};return recursivelySerializeState(selectedState,0);}setSelectedState(state){if(\"selectAll\"in state){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._error)(111);return;}var recursivelyDeserializeState=(normalisedState,parentSelected)=>{var _normalisedState$sele,_normalisedState$togg;if(typeof normalisedState!==\"object\"){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._error)(243);throw new Error();}if(\"selectAllChildren\"in normalisedState&&typeof normalisedState.selectAllChildren!==\"boolean\"){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._error)(244);throw new Error();}if(\"toggledNodes\"in normalisedState){if(!Array.isArray(normalisedState.toggledNodes)){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._error)(245);throw new Error();}var allHaveIds=normalisedState.toggledNodes.every(innerState=>typeof innerState===\"object\"&&\"nodeId\"in innerState&&typeof innerState.nodeId===\"string\");if(!allHaveIds){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._error)(246);throw new Error();}}var isThisNodeSelected=(_normalisedState$sele=normalisedState.selectAllChildren)!==null&&_normalisedState$sele!==void 0?_normalisedState$sele:!parentSelected;var convertedChildren=(_normalisedState$togg=normalisedState.toggledNodes)===null||_normalisedState$togg===void 0?void 0:_normalisedState$togg.map(innerState=>[innerState.nodeId,recursivelyDeserializeState(innerState,isThisNodeSelected)]);var doesRedundantStateExist=convertedChildren===null||convertedChildren===void 0?void 0:convertedChildren.some(_ref89=>{var[,innerState]=_ref89;return isThisNodeSelected===innerState.selectAllChildren&&innerState.toggledNodes.size===0;});if(doesRedundantStateExist){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._error)(247);throw new Error();}return{selectAllChildren:isThisNodeSelected,toggledNodes:new Map(convertedChildren)};};try{this.selectedState=recursivelyDeserializeState(state,!!state.selectAllChildren);}catch(e){}}deleteSelectionStateFromParent(parentRoute,removedNodeIds){var parentState=this.selectedState;var remainingRoute=[...parentRoute];while(parentState&&remainingRoute.length){parentState=parentState.toggledNodes.get(remainingRoute.pop());}if(!parentState){return false;}var anyStateChanged=false;removedNodeIds.forEach(id=>{var _parentState;if((_parentState=parentState)!==null&&_parentState!==void 0&&_parentState.toggledNodes.delete(id)){anyStateChanged=true;}});if(anyStateChanged){this.removeRedundantState();}return anyStateChanged;}setNodesSelected(_ref90){var{nodes,newValue,clearSelection,source}=_ref90;if(nodes.length===0)return 0;var onlyThisNode=clearSelection&&newValue;if(!(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isMultiRowSelection)(this.gos)||onlyThisNode){if(nodes.length>1){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._error)(130);return 0;}this.deselectAllRowNodes();}nodes.forEach(rowNode=>{var node=rowNode.footer?rowNode.sibling:rowNode;var idPathToNode=this.getRouteToNode(node);this.recursivelySelectNode(idPathToNode,this.selectedState,newValue);});this.removeRedundantState();if(nodes.length===1&&source===\"api\"){this.selectionCtx.setRoot(nodes[0].footer?nodes[0].sibling:nodes[0]);}return 1;}isNodeSelected(node){var path=this.getRouteToNode(node);return this.isNodePathSelected(path,this.selectedState);}isNodePathSelected(_ref91,state){var[nextNode,...nodes]=_ref91;if(nodes.length===0){var isToggled=state.toggledNodes.has(nextNode.id);if(nextNode.hasChildren()){var groupState=state.toggledNodes.get(nextNode.id);if(groupState&&groupState.toggledNodes.size){return void 0;}}return state.selectAllChildren?!isToggled:isToggled;}if(state.toggledNodes.has(nextNode.id)){var nextState=state.toggledNodes.get(nextNode.id);if(nextState){return this.isNodePathSelected(nodes,nextState);}}return state.selectAllChildren;}getRouteToNode(node){var pathToNode=[];var tempNode=node;while(tempNode.parent){pathToNode.push(tempNode);tempNode=tempNode.parent;}return pathToNode.reverse();}removeRedundantState(){var _this$filterManager0,_this15=this;if((_this$filterManager0=this.filterManager)!==null&&_this$filterManager0!==void 0&&_this$filterManager0.isAnyFilterPresent()){return;}var _forEachNodeStateDepthFirst=function forEachNodeStateDepthFirst(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:_this15.selectedState;var thisKey=arguments.length>1?arguments[1]:undefined;var parentState=arguments.length>2?arguments[2]:undefined;state.toggledNodes.forEach((value,key)=>{_forEachNodeStateDepthFirst(value,key,state);});if(thisKey){var thisRow=_this15.rowModel.getRowNode(thisKey);var thisRowStore=thisRow===null||thisRow===void 0?void 0:thisRow.childStore;var isStoreSizeKnown=thisRowStore===null||thisRowStore===void 0?void 0:thisRowStore.isLastRowIndexKnown();if(isStoreSizeKnown){var possibleAllNodesToggled=state.toggledNodes.size>=thisRowStore.getRowCount();if(possibleAllNodesToggled){for(var childState of state.toggledNodes.entries()){var[key,value]=childState;if(value.toggledNodes.size>0){return;}var rowDoesNotExist=!_this15.rowModel.getRowNode(key);if(rowDoesNotExist){return;}}state.selectAllChildren=!state.selectAllChildren;state.toggledNodes.clear();}}}var hasNoToggledRows=state.toggledNodes.size===0;var isIdenticalToParent=(parentState===null||parentState===void 0?void 0:parentState.selectAllChildren)===state.selectAllChildren;if(hasNoToggledRows&&isIdenticalToParent){parentState===null||parentState===void 0||parentState.toggledNodes.delete(thisKey);}};_forEachNodeStateDepthFirst();}recursivelySelectNode(_ref92,selectedState,newValue){var _selectedState$toggle;var[nextNode,...nodes]=_ref92;if(!nextNode){return;}var isLastNode=!nodes.length;if(isLastNode){var isNodeSelectable=nextNode.selectable;var doesNodeConform=selectedState.selectAllChildren===newValue;if(doesNodeConform||!isNodeSelectable){selectedState.toggledNodes.delete(nextNode.id);return;}var newState={selectAllChildren:newValue,toggledNodes:/* @__PURE__ */new Map()};selectedState.toggledNodes.set(nextNode.id,newState);return;}var doesStateAlreadyExist=selectedState.toggledNodes.has(nextNode.id);var childState=(_selectedState$toggle=selectedState.toggledNodes.get(nextNode.id))!==null&&_selectedState$toggle!==void 0?_selectedState$toggle:{selectAllChildren:selectedState.selectAllChildren,toggledNodes:/* @__PURE__ */new Map()};if(!doesStateAlreadyExist){selectedState.toggledNodes.set(nextNode.id,childState);}this.recursivelySelectNode(nodes,childState,newValue);if(selectedState.selectAllChildren===childState.selectAllChildren&&childState.toggledNodes.size===0){selectedState.toggledNodes.delete(nextNode.id);}}getSelectedNodes(){var nullWhenSelectAll=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(202);if(this.selectedState.selectAllChildren&&nullWhenSelectAll){return null;}var selectedNodes=[];this.rowModel.forEachNode(node=>{if(node.isSelected()){selectedNodes.push(node);}});return selectedNodes;}processNewRow(){}getSelectedRows(){var _this$getSelectedNode2,_this$getSelectedNode3;return(_this$getSelectedNode2=(_this$getSelectedNode3=this.getSelectedNodes())===null||_this$getSelectedNode3===void 0?void 0:_this$getSelectedNode3.map(node=>node.data))!==null&&_this$getSelectedNode2!==void 0?_this$getSelectedNode2:[];}getSelectionCount(){return-1;}isEmpty(){var _this$selectedState$t2;return!this.selectedState.selectAllChildren&&!((_this$selectedState$t2=this.selectedState.toggledNodes)!==null&&_this$selectedState$t2!==void 0&&_this$selectedState$t2.size);}selectAllRowNodes(){this.reset(true);}deselectAllRowNodes(){this.reset(false);}reset(selectAllChildren2){this.selectedState={selectAllChildren:selectAllChildren2,toggledNodes:/* @__PURE__ */new Map()};}getSelectAllState(){if(this.selectedState.selectAllChildren){if(this.selectedState.toggledNodes.size>0){return null;}return true;}if(this.selectedState.toggledNodes.size>0){return null;}return false;}};// packages/ag-grid-enterprise/src/serverSideRowModel/services/serverSideSelectionService.ts\nvar ServerSideSelectionService=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BaseSelectionService{constructor(){super(...arguments);this.beanName=\"selectionSvc\";}postConstruct(){super.postConstruct();this.addManagedPropertyListeners([\"groupSelectsChildren\",\"rowSelection\"],()=>{var groupSelectsChildren2=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getGroupSelectsDescendants)(this.gos);var Strategy2=groupSelectsChildren2&&this.selectionStrategy instanceof DefaultStrategy?GroupSelectsChildrenStrategy:!groupSelectsChildren2&&this.selectionStrategy instanceof GroupSelectsChildrenStrategy?DefaultStrategy:void 0;if(Strategy2){this.destroyBean(this.selectionStrategy);this.selectionStrategy=this.createManagedBean(new Strategy2(this.selectionCtx));this.shotgunResetNodeSelectionState();this.dispatchSelectionChanged(\"api\");}});this.addManagedPropertyListeners([\"rowSelection\"],()=>{var rowSelection=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getRowSelectionMode)(this.gos);if(rowSelection!==this.selectionMode){this.selectionMode=rowSelection;this.deselectAllRowNodes({source:\"api\"});}});this.selectionMode=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getRowSelectionMode)(this.gos);var groupSelectsChildren=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getGroupSelectsDescendants)(this.gos);var Strategy=!groupSelectsChildren?DefaultStrategy:GroupSelectsChildrenStrategy;this.selectionStrategy=this.createManagedBean(new Strategy(this.selectionCtx));}handleSelectionEvent(event,rowNode,source){if(this.isRowSelectionBlocked(rowNode))return 0;var updatedRows=0;var selection=this.inferNodeSelections(rowNode,event.shiftKey,event.metaKey||event.ctrlKey,source);if(selection==null){return 0;}this.selectionCtx.selectAll=false;if(\"select\"in selection){if(selection.reset){this.selectionStrategy.deselectAllRowNodes({source:\"api\"});}else{this.selectionStrategy.setNodesSelected({nodes:selection.deselect,newValue:false,source});}updatedRows=this.selectionStrategy.setNodesSelected({nodes:selection.select,newValue:true,source});}else{updatedRows=this.selectionStrategy.setNodesSelected({nodes:[selection.node],newValue:selection.newValue,clearSelection:selection.clearSelection,event,source});}this.shotgunResetNodeSelectionState(source);this.dispatchSelectionChanged(source);return updatedRows;}getSelectionState(){return this.selectionStrategy.getSelectedState();}setSelectionState(state,source){if(!(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isRowSelection)(this.gos)){if(state){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(132);}return;}if(Array.isArray(state)){return;}if(state){this.selectionStrategy.setSelectedState(state);this.shotgunResetNodeSelectionState();this.dispatchSelectionChanged(source);}else{this.deselectAllRowNodes({source});}}setNodesSelected(params){if(!(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isRowSelection)(this.gos)&&params.newValue){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(132);return 0;}var{nodes}=params,otherParams=_objectWithoutProperties(params,_excluded);if(nodes.length>1&&this.selectionMode!==\"multiRow\"){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(130);return 0;}var adjustedParams=_objectSpread({nodes:nodes.filter(node=>node.selectable)},otherParams);if(!adjustedParams.nodes.length){return 0;}var changedNodes=this.selectionStrategy.setNodesSelected(adjustedParams);this.shotgunResetNodeSelectionState(adjustedParams.source);this.dispatchSelectionChanged(adjustedParams.source);return changedNodes;}/**\n   * Deletes the selection state for a set of nodes, for use after deleting nodes via\n   * transaction. As this is designed for transactions, all nodes should belong to the same group.\n   */deleteSelectionStateFromParent(storeRoute,removedNodeIds){var stateChanged=this.selectionStrategy.deleteSelectionStateFromParent(storeRoute,removedNodeIds);if(!stateChanged){return;}this.shotgunResetNodeSelectionState();this.dispatchSelectionChanged(\"api\");}shotgunResetNodeSelectionState(source){this.beans.rowModel.forEachNode(node=>{if(node.stub){return;}var isNodeSelected=this.selectionStrategy.isNodeSelected(node);if(isNodeSelected!==node.isSelected()){this.selectRowNode(node,isNodeSelected,void 0,source);}});}getSelectedNodes(){var _this$selectionStrate;return(_this$selectionStrate=this.selectionStrategy.getSelectedNodes())!==null&&_this$selectionStrate!==void 0?_this$selectionStrate:[];}getSelectedRows(){return this.selectionStrategy.getSelectedRows();}getSelectionCount(){return this.selectionStrategy.getSelectionCount();}syncInRowNode(rowNode){this.selectionStrategy.processNewRow(rowNode);var isNodeSelected=this.selectionStrategy.isNodeSelected(rowNode);if(isNodeSelected!=false&&!rowNode.selectable){this.selectionStrategy.setNodesSelected({nodes:[rowNode],newValue:false,source:\"api\"});this.shotgunResetNodeSelectionState();this.dispatchSelectionChanged(\"api\");return;}rowNode.__selected=isNodeSelected;}reset(){this.selectionStrategy.deselectAllRowNodes({source:\"api\"});this.selectionCtx.reset();}isEmpty(){return this.selectionStrategy.isEmpty();}hasNodesToSelect(){return true;}selectAllRowNodes(params){if(!(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isRowSelection)(this.gos)){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(132);return;}validateSelectionParameters(params);if((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isUsingNewRowSelectionAPI)(this.gos)&&!(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isMultiRowSelection)(this.gos)){return (0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(130);}this.selectionStrategy.selectAllRowNodes(params);this.selectionCtx.selectAll=true;this.beans.rowModel.forEachNode(node=>{if(node.stub){return;}this.selectRowNode(node,true,void 0,params.source);});this.dispatchSelectionChanged(params.source);}deselectAllRowNodes(params){validateSelectionParameters(params);this.selectionStrategy.deselectAllRowNodes(params);this.selectionCtx.selectAll=false;this.beans.rowModel.forEachNode(node=>{if(node.stub){return;}this.selectRowNode(node,false,void 0,params.source);});this.dispatchSelectionChanged(params.source);}getSelectAllState(selectAll){return this.selectionStrategy.getSelectAllState(selectAll);}// used by CSRM\ngetBestCostNodeSelection(){return (0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(194,{method:\"getBestCostNodeSelection\"});}/**\n   * Updates the selectable state for a node by invoking isRowSelectable callback.\n   * If the node is not selectable, it will be deselected.\n   *\n   * Callers:\n   *  - property isRowSelectable changed\n   *  - after grouping / treeData\n   */updateSelectable(){if(!(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isRowSelection)(this.gos)){return;}var nodesToDeselect=[];this.beans.rowModel.forEachNode(node=>{var rowSelectable=this.updateRowSelectable(node,true);if(!rowSelectable&&node.isSelected()){nodesToDeselect.push(node);}});if(nodesToDeselect.length){this.setNodesSelected({nodes:nodesToDeselect,newValue:false,source:\"selectableChanged\"});}}dispatchSelectionChanged(source){this.eventSvc.dispatchEvent({type:\"selectionChanged\",source,selectedNodes:this.selectionStrategy instanceof GroupSelectsChildrenStrategy?null:this.selectionStrategy.getSelectedNodes(true,false),serverSideState:this.getSelectionState()});}updateSelectableAfterGrouping(){return (0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._error)(194,{method:\"updateSelectableAfterGrouping\"});}refreshMasterNodeState(){}setDetailSelectionState(){return;}};function validateSelectionParameters(_ref93){var{selectAll}=_ref93;if(selectAll===\"filtered\"||selectAll===\"currentPage\"){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(195,{justCurrentPage:selectAll===\"currentPage\"});}}// packages/ag-grid-enterprise/src/serverSideRowModel/services/ssrmRowChildrenService.ts\nvar SsrmRowChildrenService=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BeanStub{constructor(){super(...arguments);this.beanName=\"rowChildrenSvc\";}getHasChildrenValue(rowNode){var isTreeData=this.gos.get(\"treeData\");var isGroupFunc=this.gos.get(\"isServerSideGroup\");return!rowNode.stub&&!rowNode.footer&&(isTreeData?!!isGroupFunc&&isGroupFunc(rowNode.data):!!rowNode.group);}};// packages/ag-grid-enterprise/src/serverSideRowModel/stores/lazy/lazyBlockLoadingService.ts\nvar LazyBlockLoadingService=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BeanStub{constructor(){super(...arguments);this.beanName=\"lazyBlockLoadingSvc\";this.outboundRequests=0;// a map of caches to loading nodes\nthis.cacheLoadingNodesMap=/* @__PURE__ */new Map();// if a check is queued to happen this cycle\nthis.isCheckQueued=false;// this is cached for blockLoadDebounce\nthis.nextBlockToLoad=void 0;}wireBeans(beans){this.rowRenderer=beans.rowRenderer;this.rowModel=beans.rowModel;}postConstruct(){this.maxOutboundRequests=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getMaxConcurrentDatasourceRequests)(this.gos);}subscribe(cache){this.cacheLoadingNodesMap.set(cache,/* @__PURE__ */new Set());}unsubscribe(cache){this.cacheLoadingNodesMap.delete(cache);}/**\n   * Queues a microtask to check if any blocks need to be loaded.\n   */queueLoadCheck(){if(this.isCheckQueued){return;}this.isCheckQueued=true;setTimeout(()=>{this.queueLoadAction();this.isCheckQueued=false;});}onLoadComplete(){this.outboundRequests-=1;this.queueLoadCheck();}hasAvailableLoadBandwidth(){if(this.maxOutboundRequests===void 0){return true;}return this.outboundRequests<this.maxOutboundRequests;}queueLoadAction(){var nextBlockToLoad=this.getBlockToLoad();if(!nextBlockToLoad){return;}var isSameBlock=this.nextBlockToLoad&&this.nextBlockToLoad.cache===nextBlockToLoad.cache&&this.nextBlockToLoad.index===nextBlockToLoad.index;if(isSameBlock){return;}if(!this.nextBlockToLoad||!isSameBlock){this.nextBlockToLoad=nextBlockToLoad;window.clearTimeout(this.loaderTimeout);var startRow=Number(this.nextBlockToLoad.index);var cache=this.nextBlockToLoad.cache;var endRow=nextBlockToLoad.index+nextBlockToLoad.cache.getBlockSize();this.loaderTimeout=window.setTimeout(()=>{if(!cache.isAlive()){return;}this.loaderTimeout=void 0;this.attemptLoad(cache,startRow,endRow);this.nextBlockToLoad=void 0;},this.gos.get(\"blockLoadDebounceMillis\"));}}attemptLoad(cache,start,end){var hasBandwidth=this.hasAvailableLoadBandwidth();if(!hasBandwidth){return;}this.executeLoad(cache,start,end);this.queueLoadCheck();}executeLoad(cache,startRow,endRow){var _cache$store$getParen,_cache$getSsrmParams$;var ssrmParams=cache.getSsrmParams();var request={startRow,endRow,rowGroupCols:ssrmParams.rowGroupCols,valueCols:ssrmParams.valueCols,pivotCols:ssrmParams.pivotCols,pivotMode:ssrmParams.pivotMode,groupKeys:(_cache$store$getParen=cache.store.getParentNode().getRoute())!==null&&_cache$store$getParen!==void 0?_cache$store$getParen:[],filterModel:ssrmParams.filterModel,sortModel:ssrmParams.sortModel};var loadingNodes=this.cacheLoadingNodesMap.get(cache);var removeNodesFromLoadingMap=()=>{for(var i=0;i<endRow-startRow;i++){loadingNodes.delete(startRow+i);}};var addNodesToLoadingMap=()=>{for(var i=0;i<endRow-startRow;i++){loadingNodes.add(startRow+i);}};var success=params2=>{this.onLoadComplete();cache.onLoadSuccess(startRow,endRow-startRow,params2);removeNodesFromLoadingMap();};var fail=()=>{this.onLoadComplete();cache.onLoadFailed(startRow,endRow-startRow);removeNodesFromLoadingMap();};var params=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._addGridCommonParams)(this.gos,{request,success,fail,parentNode:cache.store.getParentNode()});addNodesToLoadingMap();this.outboundRequests+=1;(_cache$getSsrmParams$=cache.getSsrmParams().datasource)===null||_cache$getSsrmParams$===void 0||_cache$getSsrmParams$.getRows(params);}getBlockToLoad(){var _this16=this,_lazyCache$getNodes$g;var firstRowInViewport=this.rowRenderer.firstRenderedRow;var lastRowInViewport=this.rowRenderer.lastRenderedRow;for(var i=firstRowInViewport;i<=lastRowInViewport;i++){var _row$parent;var row=this.rowModel.getRow(i);if(!row){continue;}var store=(_row$parent=row.parent)===null||_row$parent===void 0?void 0:_row$parent.childStore;if(!store){continue;}var cache=store.getCache();var lazyNode=cache.getNodes().getBy(\"node\",row);if(!lazyNode){continue;}var loadingNodes=this.cacheLoadingNodesMap.get(cache);if(loadingNodes!==null&&loadingNodes!==void 0&&loadingNodes.has(lazyNode.index)){continue;}if(row.__needsRefreshWhenVisible||row.stub&&!row.failedLoad){return{cache,index:cache.getBlockStartIndex(lazyNode.index)};}}var cacheToRefresh=null;var nodeToRefresh=null;var nodeToRefreshDist=Number.MAX_SAFE_INTEGER;var _loop0=function _loop0(_cache){var nodesToRefresh=_cache.getNodesToRefresh();nodesToRefresh.forEach(node=>{if(node.rowIndex==null){nodeToRefresh=node;cacheToRefresh=_cache;return;}var lazyNode=_cache.getNodes().getBy(\"node\",node);if(!lazyNode){return;}var loadingNodes=_this16.cacheLoadingNodesMap.get(_cache);if(loadingNodes!==null&&loadingNodes!==void 0&&loadingNodes.has(lazyNode.index)){return;}var distToViewportTop=Math.abs(firstRowInViewport-node.rowIndex);var distToViewportBottom=Math.abs(node.rowIndex-lastRowInViewport);if(distToViewportTop<nodeToRefreshDist){nodeToRefresh=node;nodeToRefreshDist=distToViewportTop;cacheToRefresh=_cache;}if(distToViewportBottom<nodeToRefreshDist){nodeToRefresh=node;nodeToRefreshDist=distToViewportBottom;cacheToRefresh=_cache;}});};for(var _cache of this.cacheLoadingNodesMap.keys()){_loop0(_cache);}if(!cacheToRefresh){return void 0;}var lazyCache=cacheToRefresh;var lazyIndex=(_lazyCache$getNodes$g=lazyCache.getNodes().getBy(\"node\",nodeToRefresh))===null||_lazyCache$getNodes$g===void 0?void 0:_lazyCache$getNodes$g.index;return lazyIndex==null?void 0:{cache:lazyCache,index:lazyCache.getBlockStartIndex(lazyIndex)};}isRowLoading(cache,index){var _this$cacheLoadingNod,_this$cacheLoadingNod2;return(_this$cacheLoadingNod=(_this$cacheLoadingNod2=this.cacheLoadingNodesMap.get(cache))===null||_this$cacheLoadingNod2===void 0?void 0:_this$cacheLoadingNod2.has(index))!==null&&_this$cacheLoadingNod!==void 0?_this$cacheLoadingNod:false;}};// packages/ag-grid-enterprise/src/serverSideRowModel/stores/storeFactory.ts\n// packages/ag-grid-enterprise/src/serverSideRowModel/stores/lazy/lazyStore.ts\n// packages/ag-grid-enterprise/src/serverSideRowModel/stores/lazy/lazyCache.ts\n// packages/ag-grid-enterprise/src/serverSideRowModel/stores/lazy/multiIndexMap.ts\nvar MultiIndexMap=class{constructor(){for(var _len4=arguments.length,indexes=new Array(_len4),_key4=0;_key4<_len4;_key4++){indexes[_key4]=arguments[_key4];}this.indexes=indexes;this.maps=new Map(this.indexes.map(index=>[index,/* @__PURE__ */new Map()]));}getSize(){return this.maps.get(this.indexes[0]).size;}getBy(index,key){var map=this.maps.get(index);return map.get(key);}set(item){this.indexes.forEach(index=>{var map=this.maps.get(index);map.set(item[index],item);});}delete(item){this.indexes.forEach(index=>{var map=this.maps.get(index);map.delete(item[index]);});}clear(){this.maps.forEach(map=>map.clear());}getIterator(index){var map=this.maps.get(index);return map.values();}forEach(callback){var iterator=this.getIterator(this.indexes[0]);var pointer;while(pointer=iterator.next()){if(pointer.done)break;callback(pointer.value);}}find(callback){var iterator=this.getIterator(this.indexes[0]);var pointer;while(pointer=iterator.next()){if(pointer.done)break;if(callback(pointer.value)){return pointer.value;}}}filter(predicate){var iterator=this.getIterator(this.indexes[0]);var pointer;var result=[];while(pointer=iterator.next()){if(pointer.done)break;if(predicate(pointer.value)){result.push(pointer.value);}}return result;}};// packages/ag-grid-enterprise/src/serverSideRowModel/stores/lazy/lazyCache.ts\nvar DEFAULT_BLOCK_SIZE=100;var LazyCache=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BeanStub{constructor(store,numberOfRows,isLastRowKnown,storeParams){super();/**\n     * Indicates whether this is still the live dataset for this store (used for ignoring old requests after purge)\n     */this.live=true;/**\n     * A cache of removed group nodes, this is retained for preserving group\n     * state when the node moves in and out of the cache. Generally caused by\n     * rows moving blocks.\n     */this.removedNodeCache=/* @__PURE__ */new Map();this.store=store;this.numberOfRows=numberOfRows;this.isLastRowKnown=isLastRowKnown;this.storeParams=storeParams;}wireBeans(beans){this.rowRenderer=beans.rowRenderer;this.blockUtils=beans.ssrmBlockUtils;this.focusSvc=beans.focusSvc;this.nodeManager=beans.ssrmNodeManager;this.serverSideRowModel=beans.rowModel;this.rowNodeSorter=beans.rowNodeSorter;this.sortSvc=beans.sortSvc;this.lazyBlockLoadingSvc=beans.lazyBlockLoadingSvc;this.colModel=beans.colModel;}postConstruct(){this.lazyBlockLoadingSvc.subscribe(this);this.nodeMap=new MultiIndexMap(\"index\",\"id\",\"node\");this.nodeDisplayIndexMap=/* @__PURE__ */new Map();this.nodesToRefresh=/* @__PURE__ */new Set();this.defaultNodeIdPrefix=this.blockUtils.createNodeIdPrefix(this.store.getParentNode());this.getRowIdFunc=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getRowIdCallback)(this.gos);this.isMasterDetail=this.gos.get(\"masterDetail\");}destroy(){this.lazyBlockLoadingSvc.unsubscribe(this);this.numberOfRows=0;this.nodeMap.forEach(node=>this.blockUtils.destroyRowNode(node.node));this.nodeMap.clear();this.nodeDisplayIndexMap.clear();this.nodesToRefresh.clear();this.live=false;super.destroy();}/**\n   * Get the row node for a specific display index from this store\n   * @param displayIndex the display index of the node to find\n   * @returns undefined if the node is not in the store bounds, otherwise will always return a node\n   */getRowByDisplayIndex(displayIndex){var _previousNode$node$ch;if(!this.store.isDisplayIndexInStore(displayIndex)){return void 0;}var node=this.nodeDisplayIndexMap.get(displayIndex);if(node){if(node.stub||node.__needsRefreshWhenVisible){this.lazyBlockLoadingSvc.queueLoadCheck();}return node;}var hideOpenGroups=this.gos.get(\"groupHideOpenParents\")||this.gos.get(\"groupAllowUnbalanced\");if(hideOpenGroups){var nextParent=this.nodeMap.find(lazyNode=>{var _lazyNode$node$childS;return!!((_lazyNode$node$childS=lazyNode.node.childStore)!==null&&_lazyNode$node$childS!==void 0&&_lazyNode$node$childS.isDisplayIndexInStore(displayIndex));});if(nextParent){var _nextParent$node$chil;return(_nextParent$node$chil=nextParent.node.childStore)===null||_nextParent$node$chil===void 0?void 0:_nextParent$node$chil.getRowUsingDisplayIndex(displayIndex);}}if(displayIndex===this.store.getDisplayIndexStart()){return this.createStubNode(0,displayIndex);}var contiguouslyPreviousNode=this.nodeDisplayIndexMap.get(displayIndex-1);if(contiguouslyPreviousNode){var _contiguouslyPrevious;if(this.isMasterDetail&&contiguouslyPreviousNode.master&&contiguouslyPreviousNode.expanded){return contiguouslyPreviousNode.detailNode;}if(contiguouslyPreviousNode.expanded&&(_contiguouslyPrevious=contiguouslyPreviousNode.childStore)!==null&&_contiguouslyPrevious!==void 0&&_contiguouslyPrevious.isDisplayIndexInStore(displayIndex)){var _contiguouslyPrevious2;return(_contiguouslyPrevious2=contiguouslyPreviousNode.childStore)===null||_contiguouslyPrevious2===void 0?void 0:_contiguouslyPrevious2.getRowUsingDisplayIndex(displayIndex);}var lazyCacheNode=this.nodeMap.getBy(\"node\",contiguouslyPreviousNode);return this.createStubNode(lazyCacheNode.index+1,displayIndex);}var adjacentNodes=this.getSurroundingNodesByDisplayIndex(displayIndex);if(adjacentNodes==null){var storeIndexFromEndIndex2=this.store.getRowCount()-(this.store.getDisplayIndexEnd()-displayIndex);return this.createStubNode(storeIndexFromEndIndex2,displayIndex);}var{previousNode,nextNode}=adjacentNodes;if(previousNode&&previousNode.node.expanded&&(_previousNode$node$ch=previousNode.node.childStore)!==null&&_previousNode$node$ch!==void 0&&_previousNode$node$ch.isDisplayIndexInStore(displayIndex)){var _previousNode$node$ch2;return(_previousNode$node$ch2=previousNode.node.childStore)===null||_previousNode$node$ch2===void 0?void 0:_previousNode$node$ch2.getRowUsingDisplayIndex(displayIndex);}if(nextNode){var displayIndexDiff=nextNode.node.rowIndex-displayIndex;var newStoreIndex=nextNode.index-displayIndexDiff;return this.createStubNode(newStoreIndex,displayIndex);}var storeIndexFromEndIndex=this.store.getRowCount()-(this.store.getDisplayIndexEnd()-displayIndex);return this.createStubNode(storeIndexFromEndIndex,displayIndex);}/**\n   * Used for creating and positioning a stub node without firing a store updated event\n   */createStubNode(storeIndex,displayIndex){var rowBounds=this.store.getRowBounds(displayIndex);var newNode=this.createRowAtIndex(storeIndex,null,node=>{node.setRowIndex(displayIndex);node.setRowTop(rowBounds.rowTop);this.nodeDisplayIndexMap.set(displayIndex,node);});if(storeIndex===0&&this.gos.get(\"groupHideOpenParents\")){var parentGroupData=this.store.getParentNode().groupData;if(parentGroupData){for(var key of Object.keys(parentGroupData)){setRowNodeGroupValue(newNode,this.colModel,key,parentGroupData[key]);}}}this.lazyBlockLoadingSvc.queueLoadCheck();return newNode;}/**\n   * @param index The row index relative to this store\n   * @returns A rowNode at the given store index\n   */getRowByStoreIndex(index){var _this$nodeMap$getBy;return(_this$nodeMap$getBy=this.nodeMap.getBy(\"index\",index))===null||_this$nodeMap$getBy===void 0?void 0:_this$nodeMap$getBy.node;}/**\n   * Given a number of rows, skips through the given sequence & row top reference (using default row height)\n   * @param numberOfRowsToSkip number of rows to skip over in the given sequence\n   * @param displayIndexSeq the sequence in which to skip\n   * @param nextRowTop the row top reference in which to skip\n   */skipDisplayIndexes(numberOfRowsToSkip,displayIndexSeq,nextRowTop){if(numberOfRowsToSkip===0){return;}var defaultRowHeight=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getRowHeightAsNumber)(this.beans);displayIndexSeq.value+=numberOfRowsToSkip;nextRowTop.value+=numberOfRowsToSkip*defaultRowHeight;}/**\n   * @param displayIndexSeq the number sequence for generating the display index of each row\n   * @param nextRowTop an object containing the next row top value intended to be modified by ref per row\n   */setDisplayIndexes(displayIndexSeq,nextRowTop,uiLevel){this.nodeDisplayIndexMap.clear();var orderedMap={};this.nodeMap.forEach(lazyNode=>{orderedMap[lazyNode.index]=lazyNode.node;});var lastIndex=-1;for(var stringIndex of Object.keys(orderedMap)){var node=orderedMap[stringIndex];var numericIndex=Number(stringIndex);var numberOfRowsToSkip2=numericIndex-1-lastIndex;this.skipDisplayIndexes(numberOfRowsToSkip2,displayIndexSeq,nextRowTop);var isFirstChild=numericIndex===0;node.setFirstChild(isFirstChild);if(isFirstChild&&this.gos.get(\"groupHideOpenParents\")){var parentGroupData=this.store.getParentNode().groupData;if(parentGroupData){for(var key of Object.keys(parentGroupData)){setRowNodeGroupValue(node,this.colModel,key,isFirstChild?parentGroupData[key]:void 0);}}}this.blockUtils.setDisplayIndex(node,displayIndexSeq,nextRowTop,uiLevel);if(node.rowIndex!=null){this.nodeDisplayIndexMap.set(node.rowIndex,node);}lastIndex=numericIndex;}var numberOfRowsToSkip=this.numberOfRows-1-lastIndex;this.skipDisplayIndexes(numberOfRowsToSkip,displayIndexSeq,nextRowTop);this.purgeExcessRows();}getRowCount(){return this.numberOfRows;}setRowCount(rowCount,isLastRowIndexKnown){this.numberOfRows=rowCount;if(isLastRowIndexKnown!=null){this.isLastRowKnown=isLastRowIndexKnown;if(isLastRowIndexKnown===false){this.numberOfRows+=1;}}this.fireStoreUpdatedEvent();}getNodes(){return this.nodeMap;}getNodeCachedByDisplayIndex(displayIndex){var _this$nodeDisplayInde;return(_this$nodeDisplayInde=this.nodeDisplayIndexMap.get(displayIndex))!==null&&_this$nodeDisplayInde!==void 0?_this$nodeDisplayInde:null;}getNodesToRefresh(){return this.nodesToRefresh;}/**\n   * @returns the previous and next loaded row nodes surrounding the given display index\n   */getSurroundingNodesByDisplayIndex(displayIndex){var nextNode;var previousNode;this.nodeMap.forEach(lazyNode=>{if(displayIndex>lazyNode.node.rowIndex){if(previousNode==null||previousNode.node.rowIndex<lazyNode.node.rowIndex){previousNode=lazyNode;}return;}if(nextNode==null||nextNode.node.rowIndex>lazyNode.node.rowIndex){nextNode=lazyNode;return;}});if(!previousNode&&!nextNode)return null;return{previousNode,nextNode};}/**\n   * Get or calculate the display index for a given store index\n   * @param storeIndex the rows index within this store\n   * @returns the rows visible display index relative to the grid\n   */getDisplayIndexFromStoreIndex(storeIndex){var _previousNode$node$ch3,_previousNode$node$ch4;var nodeAtIndex=this.nodeMap.getBy(\"index\",storeIndex);if(nodeAtIndex){return nodeAtIndex.node.rowIndex;}var nextNode;var previousNode;this.nodeMap.forEach(lazyNode=>{if(storeIndex>lazyNode.index){if(previousNode==null||previousNode.index<lazyNode.index){previousNode=lazyNode;}return;}if(nextNode==null||nextNode.index>lazyNode.index){nextNode=lazyNode;return;}});if(!nextNode){return this.store.getDisplayIndexEnd()-(this.numberOfRows-storeIndex);}if(!previousNode){return this.store.getDisplayIndexStart()+storeIndex;}var storeIndexDiff=storeIndex-previousNode.index;var previousDisplayIndex=(_previousNode$node$ch3=(_previousNode$node$ch4=previousNode.node.childStore)===null||_previousNode$node$ch4===void 0?void 0:_previousNode$node$ch4.getDisplayIndexEnd())!==null&&_previousNode$node$ch3!==void 0?_previousNode$node$ch3:previousNode.node.rowIndex;return previousDisplayIndex+storeIndexDiff;}/**\n   * Creates a new row and inserts it at the given index\n   * @param atStoreIndex the node index relative to this store\n   * @param data the data object to populate the node with\n   * @returns the new row node\n   */createRowAtIndex(atStoreIndex,data,createNodeCallback){var lazyNode=this.nodeMap.getBy(\"index\",atStoreIndex);if(lazyNode){var{node}=lazyNode;node.__needsRefreshWhenVisible=false;if(this.doesNodeMatch(data,node)){this.blockUtils.updateDataIntoRowNode(node,data);this.nodesToRefresh.delete(node);return node;}if(this.getRowIdFunc==null&&node.hasChildren()&&node.expanded){this.nodesToRefresh.delete(node);return node;}this.destroyRowAtIndex(atStoreIndex);}if(data&&this.getRowIdFunc!=null){var _this$removedNodeCach;var id=this.getRowId(data);var deletedNode=id&&((_this$removedNodeCach=this.removedNodeCache)===null||_this$removedNodeCach===void 0?void 0:_this$removedNodeCach.get(id));if(deletedNode){var _this$removedNodeCach2;(_this$removedNodeCach2=this.removedNodeCache)===null||_this$removedNodeCach2===void 0||_this$removedNodeCach2.delete(id);this.blockUtils.updateDataIntoRowNode(deletedNode,data);this.nodeMap.set({id:deletedNode.id,node:deletedNode,index:atStoreIndex});this.nodesToRefresh.delete(deletedNode);deletedNode.__needsRefreshWhenVisible=false;return deletedNode;}var lazyNode2=this.nodeMap.getBy(\"id\",id);if(lazyNode2){this.nodeMap.delete(lazyNode2);var{node:_node3,index}=lazyNode2;this.blockUtils.updateDataIntoRowNode(_node3,data);this.nodeMap.set({id:_node3.id,node:_node3,index:atStoreIndex});this.nodesToRefresh.delete(_node3);_node3.__needsRefreshWhenVisible=false;if(this.getBlockStartIndex(index)===this.getBlockStartIndex(atStoreIndex)){return _node3;}this.markBlockForVerify(index);return _node3;}}var newNode=this.blockUtils.createRowNode(this.store.getRowDetails());if(data!=null){var defaultId=this.getPrefixedId(this.store.getIdSequence().value++);this.blockUtils.setDataIntoRowNode(newNode,data,defaultId,void 0);this.serverSideRowModel.setPaused(true);this.blockUtils.checkOpenByDefault(newNode);this.serverSideRowModel.setPaused(false);this.nodeManager.addRowNode(newNode);}this.nodeMap.set({id:newNode.id,node:newNode,index:atStoreIndex});if(createNodeCallback){createNodeCallback(newNode);}return newNode;}getBlockStates(){var blockCounts={};var blockStates={};this.nodeMap.forEach(_ref94=>{var{node,index}=_ref94;var blockStart=this.getBlockStartIndex(index);if(!node.stub&&!node.failedLoad){var _blockCounts$blockSta;blockCounts[blockStart]=((_blockCounts$blockSta=blockCounts[blockStart])!==null&&_blockCounts$blockSta!==void 0?_blockCounts$blockSta:0)+1;}var rowState=\"loaded\";if(node.failedLoad){rowState=\"failed\";}else if(this.lazyBlockLoadingSvc.isRowLoading(this,blockStart)){rowState=\"loading\";}else if(this.nodesToRefresh.has(node)||node.stub){rowState=\"needsLoading\";}if(!blockStates[blockStart]){blockStates[blockStart]=/* @__PURE__ */new Set();}blockStates[blockStart].add(rowState);});var statePriorityMap={loading:4,failed:3,needsLoading:2,loaded:1};var blockPrefix=this.blockUtils.createNodeIdPrefix(this.store.getParentNode());var results={};for(var blockStart of Object.keys(blockStates)){var _blockCounts$blockSta2;var sortedStates=[...blockStates[blockStart]].sort((a,b)=>{var _statePriorityMap$a,_statePriorityMap$b;return((_statePriorityMap$a=statePriorityMap[a])!==null&&_statePriorityMap$a!==void 0?_statePriorityMap$a:0)-((_statePriorityMap$b=statePriorityMap[b])!==null&&_statePriorityMap$b!==void 0?_statePriorityMap$b:0);});var priorityState=sortedStates[0];var blockNumber=Number(blockStart)/this.getBlockSize();var blockId=blockPrefix?\"\".concat(blockPrefix,\"-\").concat(blockNumber):String(blockNumber);results[blockId]={blockNumber,startRow:Number(blockStart),endRow:Number(blockStart)+this.getBlockSize(),pageStatus:priorityState,loadedRowCount:(_blockCounts$blockSta2=blockCounts[blockStart])!==null&&_blockCounts$blockSta2!==void 0?_blockCounts$blockSta2:0};}return results;}destroyRowAtIndex(atStoreIndex){var lazyNode=this.nodeMap.getBy(\"index\",atStoreIndex);if(!lazyNode){return;}this.nodeMap.delete(lazyNode);this.nodeDisplayIndexMap.delete(lazyNode.node.rowIndex);if(this.nodesToRefresh.size>0){this.removedNodeCache.set(lazyNode.node.id,lazyNode.node);}else{this.blockUtils.destroyRowNode(lazyNode.node);}this.nodesToRefresh.delete(lazyNode.node);}getSsrmParams(){return this.store.getSsrmParams();}/**\n   * @param id the base id to be prefixed\n   * @returns a node id with prefix if required\n   */getPrefixedId(id){if(this.defaultNodeIdPrefix){return this.defaultNodeIdPrefix+\"-\"+id;}else{return id.toString();}}markBlockForVerify(rowIndex){var[start,end]=this.getBlockBounds(rowIndex);var lazyNodesInRange=this.nodeMap.filter(lazyNode=>lazyNode.index>=start&&lazyNode.index<end);lazyNodesInRange.forEach(_ref95=>{var{node}=_ref95;node.__needsRefreshWhenVisible=true;});}doesNodeMatch(data,node){if(node.stub){return false;}var id=this.getRowId(data);return id===null?node.data===data:node.id===id;}/**\n   * Deletes any stub nodes not within the given range\n   */purgeStubsOutsideOfViewport(){var{firstRenderedRow,lastRenderedRow}=this.rowRenderer;var firstRowBlockStart=this.getBlockStartIndex(firstRenderedRow);var[,lastRowBlockEnd]=this.getBlockBounds(lastRenderedRow);this.nodeMap.forEach(lazyNode=>{if(this.lazyBlockLoadingSvc.isRowLoading(this,lazyNode.index)||lazyNode.node.failedLoad){return;}if(lazyNode.node.stub&&(lazyNode.index<firstRowBlockStart||lazyNode.index>lastRowBlockEnd)){this.destroyRowAtIndex(lazyNode.index);}});}getBlocksDistanceFromRow(nodes,otherDisplayIndex){var blockDistanceToMiddle={};nodes.forEach(_ref96=>{var{node,index}=_ref96;var[blockStart,blockEnd]=this.getBlockBounds(index);if(blockStart in blockDistanceToMiddle){return;}var distStart=Math.abs(node.rowIndex-otherDisplayIndex);var distEnd;var lastLazyNode=this.nodeMap.getBy(\"index\",[blockEnd-1]);if(lastLazyNode)distEnd=Math.abs(lastLazyNode.node.rowIndex-otherDisplayIndex);var farthest=distEnd==null||distStart<distEnd?distStart:distEnd;blockDistanceToMiddle[blockStart]=farthest;});return Object.entries(blockDistanceToMiddle);}purgeExcessRows(){var _this$storeParams$max;this.purgeStubsOutsideOfViewport();if(this.store.getDisplayIndexEnd()==null||this.storeParams.maxBlocksInCache==null){return;}var{firstRenderedRow,lastRenderedRow}=this.rowRenderer;var allLoadedBlocks=/* @__PURE__ */new Set();var blocksInViewport=/* @__PURE__ */new Set();this.nodeMap.forEach(_ref97=>{var{index,node}=_ref97;var blockStart=this.getBlockStartIndex(index);allLoadedBlocks.add(blockStart);var isInViewport=node.rowIndex>=firstRenderedRow&&node.rowIndex<=lastRenderedRow;if(isInViewport){blocksInViewport.add(blockStart);}});var numberOfBlocksToRetain=Math.max(blocksInViewport.size,(_this$storeParams$max=this.storeParams.maxBlocksInCache)!==null&&_this$storeParams$max!==void 0?_this$storeParams$max:0);var loadedBlockCount=allLoadedBlocks.size;var blocksToRemove=loadedBlockCount-numberOfBlocksToRetain;if(blocksToRemove<=0){return;}var firstRowBlockStart=Number.MAX_SAFE_INTEGER;var lastRowBlockStart=Number.MIN_SAFE_INTEGER;blocksInViewport.forEach(blockStart=>{if(firstRowBlockStart>blockStart){firstRowBlockStart=blockStart;}if(lastRowBlockStart<blockStart){lastRowBlockStart=blockStart;}});var disposableNodes=this.nodeMap.filter(_ref98=>{var{node,index}=_ref98;var rowBlockStart=this.getBlockStartIndex(index);var rowBlockInViewport=rowBlockStart>=firstRowBlockStart&&rowBlockStart<=lastRowBlockStart;return!rowBlockInViewport&&!this.isNodeCached(node);});if(disposableNodes.length===0){return;}var midViewportRow=firstRenderedRow+(lastRenderedRow-firstRenderedRow)/2;var blockDistanceArray=this.getBlocksDistanceFromRow(disposableNodes,midViewportRow);var blockSize=this.getBlockSize();blockDistanceArray.sort((a,b)=>Math.sign(b[1]-a[1]));for(var i=0;i<Math.min(blocksToRemove,blockDistanceArray.length);i++){var blockStart=Number(blockDistanceArray[i][0]);for(var x=blockStart;x<blockStart+blockSize;x++){var lazyNode=this.nodeMap.getBy(\"index\",x);if(!lazyNode||this.isNodeCached(lazyNode.node)){continue;}this.destroyRowAtIndex(x);}}}isNodeFocused(node){var focusedCell=this.focusSvc.getFocusCellToUseAfterRefresh();if(!focusedCell){return false;}if(focusedCell.rowPinned!=null){return false;}var hasFocus=focusedCell.rowIndex===node.rowIndex;return hasFocus;}isNodeCached(node){var isUnbalancedNode=this.gos.get(\"groupAllowUnbalanced\")&&node.key===\"\";return node.isExpandable()&&node.expanded||this.isNodeFocused(node)||isUnbalancedNode;}extractDuplicateIds(rows){if(this.getRowIdFunc==null){return[];}var newIds=/* @__PURE__ */new Set();var duplicates=/* @__PURE__ */new Set();rows.forEach(data=>{var id=this.getRowId(data);if(newIds.has(id)){duplicates.add(id);return;}newIds.add(id);});return[...duplicates];}onLoadSuccess(firstRowIndex,numberOfRowsExpected,response){if(!this.live)return;var info=response.groupLevelInfo;this.store.setStoreInfo(info);if(this.getRowIdFunc!=null){var duplicates=this.extractDuplicateIds(response.rowData);if(duplicates.length>0){var duplicateIdText=duplicates.join(\", \");(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(205,{duplicateIdText});this.onLoadFailed(firstRowIndex,numberOfRowsExpected);return;}}if(response.pivotResultFields){this.serverSideRowModel.generateSecondaryColumns(response.pivotResultFields);}var wasRefreshing=this.nodesToRefresh.size>0;response.rowData.forEach((data,responseRowIndex)=>{var _nodeFromCache$node;var rowIndex=firstRowIndex+responseRowIndex;var nodeFromCache=this.nodeMap.getBy(\"index\",rowIndex);if(nodeFromCache!==null&&nodeFromCache!==void 0&&(_nodeFromCache$node=nodeFromCache.node)!==null&&_nodeFromCache$node!==void 0&&_nodeFromCache$node.stub){this.createRowAtIndex(rowIndex,data);return;}if(nodeFromCache&&this.doesNodeMatch(data,nodeFromCache.node)){this.blockUtils.updateDataIntoRowNode(nodeFromCache.node,data);this.nodesToRefresh.delete(nodeFromCache.node);nodeFromCache.node.__needsRefreshWhenVisible=false;return;}this.createRowAtIndex(rowIndex,data);});if(response.rowCount!=void 0&&response.rowCount!==-1){this.numberOfRows=response.rowCount;this.isLastRowKnown=true;}else if(numberOfRowsExpected>response.rowData.length){this.numberOfRows=firstRowIndex+response.rowData.length;this.isLastRowKnown=true;}else if(!this.isLastRowKnown){var lastInferredRow=firstRowIndex+response.rowData.length+1;if(lastInferredRow>this.numberOfRows){this.numberOfRows=lastInferredRow;}}if(this.isLastRowKnown){var lazyNodesAfterStoreEnd=this.nodeMap.filter(lazyNode=>lazyNode.index>=this.numberOfRows);lazyNodesAfterStoreEnd.forEach(lazyNode=>this.destroyRowAtIndex(lazyNode.index));}this.fireStoreUpdatedEvent();var finishedRefreshing=this.nodesToRefresh.size===0;if(wasRefreshing&&finishedRefreshing){this.fireRefreshFinishedEvent();}}fireRefreshFinishedEvent(){var finishedRefreshing=this.nodesToRefresh.size===0;if(!finishedRefreshing){return;}this.removedNodeCache.forEach(node=>{this.blockUtils.destroyRowNode(node);});this.removedNodeCache=/* @__PURE__ */new Map();this.store.fireRefreshFinishedEvent();}/**\n   * @returns true if all rows are loaded\n   */isStoreFullyLoaded(){var knowsSize=this.isLastRowKnown;var hasCorrectRowCount=this.nodeMap.getSize()===this.numberOfRows;if(!knowsSize||!hasCorrectRowCount){return;}if(this.nodesToRefresh.size>0){return;}var index=-1;var firstOutOfPlaceNode=this.nodeMap.find(lazyNode=>{index+=1;if(lazyNode.index!==index){return true;}if(lazyNode.node.__needsRefreshWhenVisible){return true;}if(lazyNode.node.stub){return true;}return false;});return firstOutOfPlaceNode==null;}isLastRowIndexKnown(){return this.isLastRowKnown;}onLoadFailed(firstRowIndex,numberOfRowsExpected){if(!this.live)return;var wasRefreshing=this.nodesToRefresh.size>0;for(var i=firstRowIndex;i<firstRowIndex+numberOfRowsExpected&&i<this.getRowCount();i++){var _this$nodeMap$getBy2;var{node}=(_this$nodeMap$getBy2=this.nodeMap.getBy(\"index\",i))!==null&&_this$nodeMap$getBy2!==void 0?_this$nodeMap$getBy2:{};if(node){this.nodesToRefresh.delete(node);}if(!node||!node.stub){if(node&&!node.stub){this.destroyRowAtIndex(i);}node=this.createRowAtIndex(i);}node.__needsRefreshWhenVisible=false;node.failedLoad=true;}var finishedRefreshing=this.nodesToRefresh.size===0;if(wasRefreshing&&finishedRefreshing){this.fireRefreshFinishedEvent();}this.fireStoreUpdatedEvent();}markNodesForRefresh(){this.nodeMap.forEach(lazyNode=>{if(lazyNode.node.stub&&!lazyNode.node.failedLoad){return;}this.nodesToRefresh.add(lazyNode.node);});this.lazyBlockLoadingSvc.queueLoadCheck();if(this.isLastRowKnown&&this.numberOfRows===0){this.numberOfRows=1;this.isLastRowKnown=false;this.fireStoreUpdatedEvent();}}isNodeInCache(id){return!!this.nodeMap.getBy(\"id\",id);}// gets called 1) row count changed 2) cache purged 3) items inserted\nfireStoreUpdatedEvent(){if(!this.live){return;}this.store.fireStoreUpdatedEvent();}getRowId(data){var _this$store$getParent;if(this.getRowIdFunc==null){return null;}var{level}=this.store.getRowDetails();var parentKeys=(_this$store$getParent=this.store.getParentNode().getRoute())!==null&&_this$store$getParent!==void 0?_this$store$getParent:[];return this.getRowIdFunc({data,parentKeys:parentKeys.length>0?parentKeys:void 0,level});}getOrderedNodeMap(){var obj={};this.nodeMap.forEach(node=>obj[node.index]=node);return obj;}clearDisplayIndexes(){this.nodeDisplayIndexMap.clear();}/**\n   * Client side sorting\n   */clientSideSortRows(){var _this$sortSvc$getSort3,_this$sortSvc3;var sortOptions=(_this$sortSvc$getSort3=(_this$sortSvc3=this.sortSvc)===null||_this$sortSvc3===void 0?void 0:_this$sortSvc3.getSortOptions())!==null&&_this$sortSvc$getSort3!==void 0?_this$sortSvc$getSort3:[];var isAnySort=sortOptions.some(opt=>opt.sort!=null);if(!isAnySort||!this.rowNodeSorter){return;}var allNodes=new Array(this.nodeMap.getSize());this.nodeMap.forEach(lazyNode=>allNodes[lazyNode.index]=lazyNode.node);this.nodeMap.clear();var sortedNodes=this.rowNodeSorter.doFullSort(allNodes,sortOptions);sortedNodes.forEach((node,index)=>{this.nodeMap.set({id:node.id,node,index});});}/**\n   * Transaction Support here\n   */updateRowNodes(updates){var updatedNodes=[];updates.forEach(data=>{var id=this.getRowId(data);var lazyNode=this.nodeMap.getBy(\"id\",id);if(lazyNode){this.blockUtils.updateDataIntoRowNode(lazyNode.node,data);updatedNodes.push(lazyNode.node);}});return updatedNodes;}insertRowNodes(inserts,indexToAdd){var realRowCount=this.store.getRowCount()-(this.store.getParentNode().sibling?1:0);var addIndex=indexToAdd==null&&this.isLastRowKnown?realRowCount:indexToAdd;if(addIndex==null||realRowCount<addIndex){return[];}var uniqueInsertsMap={};inserts.forEach(data=>{var dataId=this.getRowId(data);if(dataId&&this.isNodeInCache(dataId)){return;}uniqueInsertsMap[dataId]=data;});var uniqueInserts=Object.values(uniqueInsertsMap);var numberOfInserts=uniqueInserts.length;if(numberOfInserts===0){return[];}var nodesToMove=this.nodeMap.filter(node=>node.index>=addIndex);nodesToMove.forEach(lazyNode=>this.nodeMap.delete(lazyNode));nodesToMove.forEach(lazyNode=>{this.nodeMap.set({node:lazyNode.node,index:lazyNode.index+numberOfInserts,id:lazyNode.id});});this.numberOfRows+=numberOfInserts;return uniqueInserts.map((data,uniqueInsertOffset)=>this.createRowAtIndex(addIndex+uniqueInsertOffset,data));}removeRowNodes(idsToRemove){var _this17=this;var removedNodes=[];var nodesToVerify=[];var deletedNodeCount=0;var remainingIdsToRemove=[...idsToRemove];var allNodes=this.getOrderedNodeMap();var contiguousIndex=-1;var _loop1=function _loop1(){contiguousIndex+=1;var node=allNodes[stringIndex];var matchIndex=remainingIdsToRemove.findIndex(idToRemove=>idToRemove===node.id);if(matchIndex!==-1){remainingIdsToRemove.splice(matchIndex,1);_this17.destroyRowAtIndex(Number(stringIndex));removedNodes.push(node.node);deletedNodeCount+=1;return 0;// continue\n}if(deletedNodeCount===0){return 0;// continue\n}var numericStoreIndex=Number(stringIndex);if(contiguousIndex!==numericStoreIndex){nodesToVerify.push(node.node);}_this17.nodeMap.delete(node);_this17.nodeMap.set({id:node.id,node:node.node,index:numericStoreIndex-deletedNodeCount});},_ret4;for(var stringIndex of Object.keys(allNodes)){_ret4=_loop1();if(_ret4===0)continue;}this.numberOfRows-=this.isLastRowIndexKnown()?idsToRemove.length:deletedNodeCount;if(remainingIdsToRemove.length>0&&nodesToVerify.length>0){nodesToVerify.forEach(node=>node.__needsRefreshWhenVisible=true);this.lazyBlockLoadingSvc.queueLoadCheck();}return removedNodes;}/**\n   * Return the block size configured for this cache\n   */getBlockSize(){return this.storeParams.cacheBlockSize||DEFAULT_BLOCK_SIZE;}/**\n   * Get the start index of the loading block for a given index\n   */getBlockStartIndex(storeIndex){var blockSize=this.getBlockSize();return storeIndex-storeIndex%blockSize;}/**\n   * Get the start and end index of a block, given a row store index\n   */getBlockBounds(storeIndex){var startOfBlock=this.getBlockStartIndex(storeIndex);var blockSize=this.getBlockSize();return[startOfBlock,startOfBlock+blockSize];}};// packages/ag-grid-enterprise/src/serverSideRowModel/stores/lazy/lazyStore.ts\nvar LazyStore=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BeanStub{constructor(ssrmParams,storeParams,parentRowNode){super();this.idSequence={value:0};this.ssrmParams=ssrmParams;this.parentRowNode=parentRowNode;this.storeParams=storeParams;this.level=parentRowNode.level+1;this.group=ssrmParams.rowGroupCols?this.level<ssrmParams.rowGroupCols.length:false;this.leafGroup=ssrmParams.rowGroupCols?this.level===ssrmParams.rowGroupCols.length-1:false;this.info={};}wireBeans(beans){this.blockUtils=beans.ssrmBlockUtils;this.storeUtils=beans.ssrmStoreUtils;this.selectionSvc=beans.selectionSvc;this.rowGroupColsSvc=beans.rowGroupColsSvc;}postConstruct(){var numberOfRows=1;if(this.level===0){var _this$storeUtils$getS;numberOfRows=(_this$storeUtils$getS=this.storeUtils.getServerSideInitialRowCount())!==null&&_this$storeUtils$getS!==void 0?_this$storeUtils$getS:1;this.eventSvc.dispatchEventOnce({type:\"rowCountReady\"});}this.cache=this.createManagedBean(new LazyCache(this,numberOfRows,false,this.storeParams));var usingTreeData=this.gos.get(\"treeData\");if(!usingTreeData&&this.group&&this.rowGroupColsSvc){var groupColVo=this.ssrmParams.rowGroupCols[this.level];this.groupField=groupColVo.field;this.rowGroupColumn=this.rowGroupColsSvc.columns[this.level];}}destroy(){this.displayIndexStart=void 0;this.displayIndexEnd=void 0;this.destroyBean(this.cache);super.destroy();}/**\n   * Given a server response, ingest the rows outside of the data source lifecycle.\n   *\n   * @param rowDataParams the server response containing the rows to ingest\n   * @param startRow the index to start ingesting rows\n   * @param expectedRows the expected number of rows in the response (used to determine if the last row index is known)\n   */applyRowData(rowDataParams,startRow,expectedRows){this.cache.onLoadSuccess(startRow,expectedRows,rowDataParams);}/**\n   * Applies a given transaction to the data set within this store\n   *\n   * @param transaction an object containing delta instructions determining the changes to apply to this store\n   * @returns an object determining the status of this transaction and effected nodes\n   */applyTransaction(transaction){var _transaction$update,_transaction$add,_transaction$remove,_updatedNodes,_insertedNodes;var idFunc=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getRowIdCallback)(this.gos);if(!idFunc){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(206);return{status:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.ServerSideTransactionResultStatus.Cancelled};}var applyCallback=this.gos.getCallback(\"isApplyServerSideTransaction\");if(applyCallback){var params={transaction,parentNode:this.parentRowNode,groupLevelInfo:this.info};var apply=applyCallback(params);if(!apply){return{status:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.ServerSideTransactionResultStatus.Cancelled};}}var allRowsLoaded=this.cache.isStoreFullyLoaded();var updatedNodes=void 0;if((_transaction$update=transaction.update)!==null&&_transaction$update!==void 0&&_transaction$update.length){updatedNodes=this.cache.updateRowNodes(transaction.update);}var insertedNodes=void 0;if((_transaction$add=transaction.add)!==null&&_transaction$add!==void 0&&_transaction$add.length){var addIndex=transaction.addIndex;if(addIndex!=null&&addIndex<0){addIndex=void 0;}insertedNodes=this.cache.insertRowNodes(transaction.add,addIndex);}var removedNodes=void 0;if((_transaction$remove=transaction.remove)!==null&&_transaction$remove!==void 0&&_transaction$remove.length){var allIdsToRemove=transaction.remove.map(data=>{var _this$parentRowNode$g;return idFunc({level:this.level,parentKeys:(_this$parentRowNode$g=this.parentRowNode.getRoute())!==null&&_this$parentRowNode$g!==void 0?_this$parentRowNode$g:[],data});});var allUniqueIdsToRemove=[...new Set(allIdsToRemove)];removedNodes=this.cache.removeRowNodes(allUniqueIdsToRemove);}var isClientSideSortingEnabled=this.gos.get(\"serverSideEnableClientSideSort\");var isUpdateOrAdd=((_updatedNodes=updatedNodes)===null||_updatedNodes===void 0?void 0:_updatedNodes.length)||((_insertedNodes=insertedNodes)===null||_insertedNodes===void 0?void 0:_insertedNodes.length);var isClientSideSort=allRowsLoaded&&isClientSideSortingEnabled;if(isClientSideSort&&isUpdateOrAdd){this.cache.clientSideSortRows();}this.updateSelectionAfterTransaction(updatedNodes,removedNodes);return{status:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.ServerSideTransactionResultStatus.Applied,update:updatedNodes,add:insertedNodes,remove:removedNodes};}updateSelectionAfterTransaction(updatedNodes,removedNodes){if(!this.selectionSvc){return;}var nodesToDeselect=[];updatedNodes===null||updatedNodes===void 0||updatedNodes.forEach(node=>{if(node.isSelected()&&!node.selectable){nodesToDeselect.push(node);}});removedNodes===null||removedNodes===void 0||removedNodes.forEach(node=>{if(node.isSelected()){nodesToDeselect.push(node);}});if(nodesToDeselect.length){this.selectionSvc.setNodesSelected({newValue:false,clearSelection:false,nodes:nodesToDeselect,source:\"rowDataChanged\"});}}/**\n   * Clear the display indexes, used for fading rows out when stores are not being destroyed\n   */clearDisplayIndexes(){this.displayIndexStart=void 0;this.displayIndexEnd=void 0;this.cache.getNodes().forEach(lazyNode=>this.blockUtils.clearDisplayIndex(lazyNode.node));if(this.parentRowNode.sibling){this.blockUtils.clearDisplayIndex(this.parentRowNode.sibling);}this.cache.clearDisplayIndexes();}/**\n   * @returns an index representing the last sequentially displayed row in the grid for this store\n   */getDisplayIndexStart(){return this.displayIndexStart;}/**\n   * @returns the index representing one after the last sequentially displayed row in the grid for this store\n   */getDisplayIndexEnd(){return this.displayIndexEnd;}/**\n   * @returns the virtual size of this store\n   */getRowCount(){if(this.parentRowNode.sibling){return this.cache.getRowCount()+1;}return this.cache.getRowCount();}/**\n   * Sets the current row count of the store, and whether the last row index is known\n   */setRowCount(rowCount,isLastRowIndexKnown){this.cache.setRowCount(rowCount,isLastRowIndexKnown);}/**\n   * Given a display index, returns whether that row is within this store or a child store of this store\n   *\n   * @param displayIndex the visible index of a row\n   * @returns whether or not the row exists within this store\n   */isDisplayIndexInStore(displayIndex){if(this.cache.getRowCount()===0)return false;return this.displayIndexStart<=displayIndex&&displayIndex<this.getDisplayIndexEnd();}/**\n   * Recursively sets up the display indexes and top position of every node belonging to this store.\n   *\n   * Called after a row height changes, or a store updated event.\n   *\n   * @param displayIndexSeq the number sequence for generating the display index of each row\n   * @param nextRowTop an object containing the next row top value intended to be modified by ref per row\n   */setDisplayIndexes(displayIndexSeq,nextRowTop,uiLevel){this.displayIndexStart=displayIndexSeq.value;this.topPx=nextRowTop.value;var footerNode=this.parentRowNode.level>-1&&(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getGroupTotalRowCallback)(this.gos)({node:this.parentRowNode});if(!footerNode){_destroyRowNodeFooter(this.parentRowNode);}if(footerNode===\"top\"){_createRowNodeFooter(this.parentRowNode,this.beans);this.blockUtils.setDisplayIndex(this.parentRowNode.sibling,displayIndexSeq,nextRowTop,uiLevel);}this.cache.setDisplayIndexes(displayIndexSeq,nextRowTop,uiLevel);if(footerNode===\"bottom\"){_createRowNodeFooter(this.parentRowNode,this.beans);this.blockUtils.setDisplayIndex(this.parentRowNode.sibling,displayIndexSeq,nextRowTop,uiLevel);}this.displayIndexEnd=displayIndexSeq.value;this.heightPx=nextRowTop.value-this.topPx;}/**\n   * Recursively applies a provided function to every node\n   *\n   * For the purpose of exclusively server side filtered stores, this is the same as getNodes().forEachDeepAfterFilterAndSort\n   */forEachStoreDeep(callback){var sequence=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{value:0};callback(this,sequence.value++);this.cache.getNodes().forEach(lazyNode=>{var childCache=lazyNode.node.childStore;if(childCache){childCache.forEachStoreDeep(callback,sequence);}});}/**\n   * Recursively applies a provided function to every node\n   *\n   * For the purpose of exclusively server side filtered stores, this is the same as getNodes().forEachDeepAfterFilterAndSort\n   */forEachNodeDeep(callback){var sequence=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{value:0};this.cache.getNodes().forEach(lazyNode=>{callback(lazyNode.node,sequence.value++);var childCache=lazyNode.node.childStore;if(childCache){childCache.forEachNodeDeep(callback,sequence);}});}/**\n   * Recursively applies a provided function to every node\n   *\n   * For the purpose of exclusively server side filtered stores, this is the same as getNodes().forEachDeep\n   */forEachNodeDeepAfterFilterAndSort(callback){var sequence=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{value:0};var includeFooterNodes=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var footerNode=this.parentRowNode.level>-1&&(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getGroupTotalRowCallback)(this.gos)({node:this.parentRowNode});if(footerNode===\"top\"){callback(this.parentRowNode.sibling,sequence.value++);}var orderedNodes=this.cache.getOrderedNodeMap();for(var lazyNode of Object.values(orderedNodes)){callback(lazyNode.node,sequence.value++);var childCache=lazyNode.node.childStore;if(childCache){childCache.forEachNodeDeepAfterFilterAndSort(callback,sequence,includeFooterNodes);}}if(footerNode===\"bottom\"){callback(this.parentRowNode.sibling,sequence.value++);}}/**\n   * Removes the failed status from all nodes, and marks them as stub to encourage reloading\n   */retryLoads(){this.cache.getNodes().forEach(_ref99=>{var{node}=_ref99;if(node.failedLoad){node.failedLoad=false;node.__needsRefreshWhenVisible=true;node.stub=true;}});this.forEachChildStoreShallow(store=>store.retryLoads());this.fireStoreUpdatedEvent();}/**\n   * Given a display index, returns the row at that location.\n   *\n   * @param displayRowIndex the displayed index within the grid to search for\n   * @returns the row node if the display index falls within the store, if it didn't exist this will create a new stub to return\n   */getRowUsingDisplayIndex(displayRowIndex){if(this.parentRowNode.sibling&&displayRowIndex===this.parentRowNode.sibling.rowIndex){return this.parentRowNode.sibling;}return this.cache.getRowByDisplayIndex(displayRowIndex);}/**\n   * Given a display index, returns the row top and height for the row at that index.\n   *\n   * @param displayIndex the display index of the node\n   * @returns an object containing the rowTop and rowHeight of the node at the given displayIndex\n   */getRowBounds(displayIndex){var _this$cache$getSurrou;if(!this.isDisplayIndexInStore(displayIndex)){return null;}var thisNode=this.cache.getNodeCachedByDisplayIndex(displayIndex);if(thisNode){var boundsFromRow=this.blockUtils.extractRowBounds(thisNode,displayIndex);if(boundsFromRow){return boundsFromRow;}}var{previousNode,nextNode}=(_this$cache$getSurrou=this.cache.getSurroundingNodesByDisplayIndex(displayIndex))!==null&&_this$cache$getSurrou!==void 0?_this$cache$getSurrou:{};if(previousNode){var _boundsFromRow=this.blockUtils.extractRowBounds(previousNode.node,displayIndex);if(_boundsFromRow!=null){return _boundsFromRow;}}var defaultRowHeight=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getRowHeightAsNumber)(this.beans);if(nextNode){var numberOfRowDiff2=(nextNode.node.rowIndex-displayIndex)*defaultRowHeight;return{rowTop:nextNode.node.rowTop-numberOfRowDiff2,rowHeight:defaultRowHeight};}var lastTop=this.topPx+this.heightPx;var numberOfRowDiff=(this.getDisplayIndexEnd()-displayIndex)*defaultRowHeight;return{rowTop:lastTop-numberOfRowDiff,rowHeight:defaultRowHeight};}/**\n   * Given a vertical pixel, determines whether this store contains a row at that pixel\n   *\n   * @param pixel a vertical pixel position from the grid\n   * @returns whether that pixel points to a virtual space belonging to this store\n   */isPixelInRange(pixel){return pixel>=this.topPx&&pixel<this.topPx+this.heightPx;}/**\n   * Given a vertical pixel, returns the row existing at that pixel location\n   *\n   * @param pixel a vertical pixel position from the grid\n   * @returns the display index at the given pixel location\n   */getRowIndexAtPixel(pixel){if(pixel<this.topPx){return this.getDisplayIndexStart();}if(pixel>=this.topPx+this.heightPx){return this.getDisplayIndexEnd()-1;}if(this.parentRowNode.sibling&&pixel>this.parentRowNode.sibling.rowTop&&pixel<this.parentRowNode.sibling.rowTop+this.parentRowNode.sibling.rowHeight){return this.parentRowNode.sibling.rowIndex;}var distToPreviousNodeTop=Number.MAX_SAFE_INTEGER;var previousNode=null;var distToNextNodeTop=Number.MAX_SAFE_INTEGER;var nextNode=null;this.cache.getNodes().forEach(_ref100=>{var{node}=_ref100;var distBetween=Math.abs(pixel-node.rowTop);if(node.rowTop<pixel){if(distBetween<distToPreviousNodeTop){distToPreviousNodeTop=distBetween;previousNode=node;}return;}if(distBetween<distToNextNodeTop){distToNextNodeTop=distBetween;nextNode=node;}});previousNode=previousNode;nextNode=nextNode;if(previousNode){var indexOfRow=this.blockUtils.getIndexAtPixel(previousNode,pixel);if(indexOfRow!=null){return indexOfRow;}}var defaultRowHeight=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getRowHeightAsNumber)(this.beans);if(nextNode){var nextTop2=nextNode.rowTop;var numberOfRowDiff2=Math.ceil((nextTop2-pixel)/defaultRowHeight);return nextNode.rowIndex-numberOfRowDiff2;}var nextTop=this.topPx+this.heightPx;var numberOfRowDiff=Math.floor((nextTop-pixel)/defaultRowHeight);return this.getDisplayIndexEnd()-numberOfRowDiff;}/**\n   * Given a path of group keys, returns the child store for that group.\n   *\n   * @param keys the grouping path to the desired store\n   * @returns the child store for the given keys, or null if not found\n   */getChildStore(keys){return this.storeUtils.getChildStore(keys,this,key=>{var lazyNode=this.cache.getNodes().find(lazyNode2=>lazyNode2.node.key==key);if(!lazyNode){return null;}return lazyNode.node;});}/**\n   * Executes a provided callback on each child store belonging to this store\n   *\n   * @param cb the callback to execute\n   */forEachChildStoreShallow(cb){this.cache.getNodes().forEach(_ref101=>{var{node}=_ref101;if(node.childStore){cb(node.childStore);}});}/**\n   * Executes after a change to sorting, determines recursively whether this store or a child requires refreshed.\n   *\n   * If a purge refresh occurs, the row count is preserved.\n   *\n   * @param params a set of properties pertaining to the sort changes\n   */refreshAfterSort(params){var serverSortsAllLevels=this.storeUtils.isServerSideSortAllLevels();if(serverSortsAllLevels||this.storeUtils.isServerRefreshNeeded(this.parentRowNode,this.ssrmParams.rowGroupCols,params)){var allRowsLoaded=this.cache.isStoreFullyLoaded();var isClientSideSortingEnabled=this.gos.get(\"serverSideEnableClientSideSort\");var isClientSideSort=allRowsLoaded&&isClientSideSortingEnabled;if(!isClientSideSort){var oldCount=this.cache.getRowCount();var lastKnown=this.cache.isLastRowIndexKnown();this.destroyBean(this.cache);this.cache=this.createManagedBean(new LazyCache(this,oldCount,lastKnown,this.storeParams));return;}this.cache.clientSideSortRows();}this.forEachChildStoreShallow(store=>store.refreshAfterSort(params));}/**\n   * Executes after a change to filtering, determines recursively whether this store or a child requires refreshed.\n   *\n   * If a refresh occurs, the row count is reset.\n   *\n   * @param params a set of properties pertaining to the filter changes\n   */refreshAfterFilter(params){var serverFiltersAllLevels=!this.storeUtils.isServerSideOnlyRefreshFilteredGroups();if(serverFiltersAllLevels||this.storeUtils.isServerRefreshNeeded(this.parentRowNode,this.ssrmParams.rowGroupCols,params)){this.refreshStore(true);return;}this.forEachChildStoreShallow(store=>store.refreshAfterFilter(params));}/**\n   * Marks all existing nodes as requiring reloaded, and triggers a load check\n   *\n   * @param purge whether to remove all nodes and data in favour of stub nodes\n   */refreshStore(purge){if(purge){this.destroyBean(this.cache);this.cache=this.createManagedBean(new LazyCache(this,1,false,this.storeParams));this.fireStoreUpdatedEvent();return;}this.cache.markNodesForRefresh();}/**\n   * Used for pagination, given a local/store index, returns the display index of that row\n   *\n   * @param topLevelIndex the store index of a row\n   * @returns the display index for the given store index\n   */getTopLevelRowDisplayedIndex(topLevelIndex){var displayIndex=this.cache.getDisplayIndexFromStoreIndex(topLevelIndex);return displayIndex!==null&&displayIndex!==void 0?displayIndex:topLevelIndex;}/**\n   * Used for pagination to determine if the last page is known, and for aria to determine if the last grid row is known\n   *\n   * @returns whether the last index of this store is known, or if lazy loading still required\n   */isLastRowIndexKnown(){return this.cache.isLastRowIndexKnown();}/**\n   * Used by the selection service to select a range of nodes\n   *\n   * @param firstInRange the first node in the range to find\n   * @param lastInRange the last node in the range to find\n   * @returns a range of nodes between firstInRange and lastInRange inclusive\n   */getRowNodesInRange(firstInRange,lastInRange){return this.cache.getNodes().filter(_ref102=>{var{node}=_ref102;return node.rowIndex>=firstInRange.rowIndex&&node.rowIndex<=lastInRange.rowIndex;}).map(_ref103=>{var{node}=_ref103;return node;});}/**\n   * Mutates a given array to add this stores state, and recursively add all the children store states.\n   *\n   * @param result a mutable results array\n   */addStoreStates(result){var _this$parentRowNode$g2;result.push({route:(_this$parentRowNode$g2=this.parentRowNode.getRoute())!==null&&_this$parentRowNode$g2!==void 0?_this$parentRowNode$g2:[],rowCount:this.getRowCount(),lastRowIndexKnown:this.isLastRowIndexKnown(),info:this.info,maxBlocksInCache:this.storeParams.maxBlocksInCache,cacheBlockSize:this.storeParams.cacheBlockSize});this.forEachChildStoreShallow(childStore=>childStore.addStoreStates(result));}getIdSequence(){return this.idSequence;}getParentNode(){return this.parentRowNode;}getRowDetails(){return{field:this.groupField,group:this.group,leafGroup:this.leafGroup,level:this.level,parent:this.parentRowNode,rowGroupColumn:this.rowGroupColumn};}getSsrmParams(){return this.ssrmParams;}setStoreInfo(info){if(info){Object.assign(this.info,info);}}// gets called 1) row count changed 2) cache purged\nfireStoreUpdatedEvent(){this.eventSvc.dispatchEvent({type:\"storeUpdated\"});}// gets called when row data updated, and no more refreshing needed\nfireRefreshFinishedEvent(){this.eventSvc.dispatchEvent({type:\"storeRefreshed\",route:this.parentRowNode.getRoute()});}getBlockStates(){return this.cache.getBlockStates();}getStoreBounds(){return{topPx:this.topPx,heightPx:this.heightPx};}getCache(){return this.cache;}getFirstNode(){var _firstNode$node;var firstNode=this.cache.getNodes().getBy(\"index\",0);return(_firstNode$node=firstNode===null||firstNode===void 0?void 0:firstNode.node)!==null&&_firstNode$node!==void 0?_firstNode$node:null;}};// packages/ag-grid-enterprise/src/serverSideRowModel/stores/storeFactory.ts\nvar StoreFactory=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BeanStub{constructor(){super(...arguments);this.beanName=\"ssrmStoreFactory\";}wireBeans(beans){this.colModel=beans.colModel;this.rowGroupColsSvc=beans.rowGroupColsSvc;this.pivotColsSvc=beans.pivotColsSvc;this.rowAutoHeight=beans.rowAutoHeight;}createStore(ssrmParams,parentNode){var storeParams=this.getStoreParams(ssrmParams,parentNode);return new LazyStore(ssrmParams,storeParams,parentNode);}getStoreParams(ssrmParams,parentNode){var userStoreParams=this.getLevelSpecificParams(parentNode);var cacheBlockSize=this.getBlockSize(userStoreParams);var maxBlocksInCache=this.getMaxBlocksInCache(ssrmParams,userStoreParams);var storeParams={cacheBlockSize,maxBlocksInCache};return storeParams;}getMaxBlocksInCache(ssrmParams,userStoreParams){var _this$rowAutoHeight;var maxBlocksInCache=userStoreParams&&userStoreParams.maxBlocksInCache!=null?userStoreParams.maxBlocksInCache:this.gos.get(\"maxBlocksInCache\");var maxBlocksActive=maxBlocksInCache!=null&&maxBlocksInCache>=0;if(!maxBlocksActive){return;}if(ssrmParams.dynamicRowHeight){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(203);return;}if((_this$rowAutoHeight=this.rowAutoHeight)!==null&&_this$rowAutoHeight!==void 0&&_this$rowAutoHeight.active){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(204);return void 0;}return maxBlocksInCache;}getBlockSize(userStoreParams){var blockSize=userStoreParams&&userStoreParams.cacheBlockSize!=null?userStoreParams.cacheBlockSize:this.gos.get(\"cacheBlockSize\");if(blockSize!=null&&blockSize>0){return blockSize;}else{return 100;}}getLevelSpecificParams(parentNode){var _this$rowGroupColsSvc6,_this$rowGroupColsSvc7,_this$pivotColsSvc$co4,_this$pivotColsSvc7;var callback=this.gos.getCallback(\"getServerSideGroupLevelParams\");if(!callback){return void 0;}var params={level:parentNode.level+1,parentRowNode:parentNode.level>=0?parentNode:void 0,rowGroupColumns:(_this$rowGroupColsSvc6=(_this$rowGroupColsSvc7=this.rowGroupColsSvc)===null||_this$rowGroupColsSvc7===void 0?void 0:_this$rowGroupColsSvc7.columns)!==null&&_this$rowGroupColsSvc6!==void 0?_this$rowGroupColsSvc6:[],pivotColumns:(_this$pivotColsSvc$co4=(_this$pivotColsSvc7=this.pivotColsSvc)===null||_this$pivotColsSvc7===void 0?void 0:_this$pivotColsSvc7.columns)!==null&&_this$pivotColsSvc$co4!==void 0?_this$pivotColsSvc$co4:[],pivotMode:this.colModel.isPivotMode()};var res=callback(params);return res;}};// packages/ag-grid-enterprise/src/serverSideRowModel/stores/storeUtils.ts\nvar StoreUtils=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BeanStub{constructor(){super(...arguments);this.beanName=\"ssrmStoreUtils\";}wireBeans(beans){this.colModel=beans.colModel;this.serverSideRowModel=beans.rowModel;this.storeFactory=beans.ssrmStoreFactory;}getChildStore(keys,currentCache,findNodeFunc){if(!(keys!==null&&keys!==void 0&&keys.length)){return currentCache;}var nextKey=keys[0];var nextNode=findNodeFunc(nextKey);if(nextNode){if(keys.length===1&&!nextNode.childStore){var storeParams=this.serverSideRowModel.getParams();nextNode.childStore=this.createBean(this.storeFactory.createStore(storeParams,nextNode));}var keyListForNextLevel=keys.slice(1,keys.length);var nextStore=nextNode.childStore;return nextStore?nextStore.getChildStore(keyListForNextLevel):null;}return null;}isServerRefreshNeeded(parentRowNode,rowGroupCols,params){if(params.valueColChanged||params.secondaryColChanged){return true;}var level=parentRowNode.level+1;var grouping=level<rowGroupCols.length;var leafNodes=!grouping;if(leafNodes){return true;}var colIdThisGroup=rowGroupCols[level].id;var actionOnThisGroup=params.changedColumns.indexOf(colIdThisGroup)>-1;if(actionOnThisGroup){return true;}var allCols=this.colModel.getCols();var affectedGroupCols=allCols.filter(col=>col.getColDef().showRowGroup&&params.changedColumns.includes(col.getId())).map(col=>col.getColDef().showRowGroup).some(group=>group===true||group===colIdThisGroup);return affectedGroupCols;}getServerSideInitialRowCount(){return this.gos.get(\"serverSideInitialRowCount\");}isServerSideSortAllLevels(){return this.gos.get(\"serverSideSortAllLevels\")&&(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isServerSideRowModel)(this.gos);}isServerSideOnlyRefreshFilteredGroups(){return this.gos.get(\"serverSideOnlyRefreshFilteredGroups\")&&(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isServerSideRowModel)(this.gos);}};// packages/ag-grid-enterprise/src/serverSideRowModel/transactionManager.ts\nvar TransactionManager=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BeanStub{constructor(){super(...arguments);this.beanName=\"ssrmTxnManager\";this.asyncTransactions=[];}wireBeans(beans){this.valueCache=beans.valueCache;this.serverSideRowModel=beans.rowModel;this.selectionSvc=beans.selectionSvc;}postConstruct(){if(!(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isServerSideRowModel)(this.gos)){return;}}applyTransactionAsync(transaction,callback){if(this.asyncTransactionsTimeout==null){this.scheduleExecuteAsync();}this.asyncTransactions.push({transaction,callback});}scheduleExecuteAsync(){var waitMillis=this.gos.get(\"asyncTransactionWaitMillis\");this.asyncTransactionsTimeout=window.setTimeout(()=>{this.executeAsyncTransactions();},waitMillis);}executeAsyncTransactions(){if(!this.asyncTransactions){return;}var resultFuncs=[];var resultsForEvent=[];var transactionsToRetry=[];var atLeastOneTransactionApplied=false;this.asyncTransactions.forEach(txWrapper=>{var result;var hasStarted=this.serverSideRowModel.executeOnStore(txWrapper.transaction.route,cache=>{result=cache.applyTransaction(txWrapper.transaction);});if(!hasStarted){result={status:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.ServerSideTransactionResultStatus.StoreNotStarted};}else if(result==void 0){result={status:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.ServerSideTransactionResultStatus.StoreNotFound};}resultsForEvent.push(result);var retryTransaction=result.status==ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.ServerSideTransactionResultStatus.StoreLoading;if(retryTransaction){transactionsToRetry.push(txWrapper);return;}if(txWrapper.callback){resultFuncs.push(()=>txWrapper.callback(result));}if(result.status===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.ServerSideTransactionResultStatus.Applied){atLeastOneTransactionApplied=true;}});if(resultFuncs.length>0){window.setTimeout(()=>{resultFuncs.forEach(func=>func());},0);}this.asyncTransactionsTimeout=void 0;this.asyncTransactions=transactionsToRetry;if(atLeastOneTransactionApplied){var _this$valueCache;(_this$valueCache=this.valueCache)===null||_this$valueCache===void 0||_this$valueCache.onDataChanged();this.eventSvc.dispatchEvent({type:\"storeUpdated\"});}if(resultsForEvent.length>0){this.eventSvc.dispatchEvent({type:\"asyncTransactionsFlushed\",results:resultsForEvent});}}flushAsyncTransactions(){if(this.asyncTransactionsTimeout!=null){clearTimeout(this.asyncTransactionsTimeout);}this.executeAsyncTransactions();}applyTransaction(transaction){var res;var hasStarted=this.serverSideRowModel.executeOnStore(transaction.route,store=>{res=store.applyTransaction(transaction);});if(!hasStarted){return{status:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.ServerSideTransactionResultStatus.StoreNotStarted};}else if(res){var _this$valueCache2;(_this$valueCache2=this.valueCache)===null||_this$valueCache2===void 0||_this$valueCache2.onDataChanged();if(res.remove&&this.selectionSvc){var removedRowIds=res.remove.map(row=>row.id);this.selectionSvc.deleteSelectionStateFromParent(transaction.route||[],removedRowIds);}this.eventSvc.dispatchEvent({type:\"storeUpdated\"});return res;}else{return{status:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.ServerSideTransactionResultStatus.StoreNotFound};}}};// packages/ag-grid-enterprise/src/serverSideRowModel/serverSideRowModelModule.ts\nvar ServerSideRowModelModule={moduleName:\"ServerSideRowModel\",version:VERSION,rowModels:[\"serverSide\"],beans:[ServerSideRowModel,ExpandListener,StoreUtils,BlockUtils,NodeManager,TransactionManager,FilterListener,StoreFactory,ListenerUtils,ServerSideSelectionService,LazyBlockLoadingService,SsrmRowChildrenService,ServerSideExpansionService,SortListener],dependsOn:[EnterpriseCoreModule,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._SortModule,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._SharedRowSelectionModule,SharedPivotModule,SharedTreeDataModule,LoadingCellRendererModule]};var ServerSideRowModelApiModule={moduleName:\"ServerSideRowModelApi\",version:VERSION,apiFunctions:{getServerSideSelectionState,setServerSideSelectionState,applyServerSideTransaction,applyServerSideTransactionAsync,applyServerSideRowData,retryServerSideLoads,flushServerSideAsyncTransactions,refreshServerSide,getServerSideGroupLevelState},dependsOn:[EnterpriseCoreModule,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._CsrmSsrmSharedApiModule,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._SsrmInfiniteSharedApiModule]};// packages/ag-grid-enterprise/src/sparkline/sparklinesModule.ts\n// packages/ag-grid-enterprise/src/sparkline/sparkline.css-GENERATED.ts\nvar sparklineCSS=/*css*/\".ag-sparkline-wrapper{height:100%;line-height:normal;position:absolute;top:0;width:100%}\";// packages/ag-grid-enterprise/src/sparkline/sparklineCellRenderer.ts\n// packages/ag-grid-enterprise/src/sparkline/sparklinesUtils.ts\nvar WrappedFunctionMarker=Symbol(\"WrappedFunctionMarker\");var wrapFn=(fn,wrapperFn)=>{if(fn[WrappedFunctionMarker]){return fn;}var wrapped=function wrapped(){for(var _len5=arguments.length,args=new Array(_len5),_key5=0;_key5<_len5;_key5++){args[_key5]=arguments[_key5];}return wrapperFn(fn,...args);};wrapped[WrappedFunctionMarker]=WrappedFunctionMarker;return wrapped;};// packages/ag-grid-enterprise/src/sparkline/sparklineCellRenderer.ts\nfunction tooltipRendererWithXValue(params){return{content:\"\".concat(params.xValue,\" \").concat(params.yValue)};}function tooltipRenderer(params){return{content:\"\".concat(params.yValue)};}var SparklineCellRenderer=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(){super({tag:\"div\",cls:\"ag-sparkline-wrapper\",children:[{tag:\"span\",ref:\"eSparkline\"}]});this.eSparkline=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.cachedWidth=0;this.cachedHeight=0;this.dataRef=[];this.processedData=[];}postConstruct(){this.env=this.beans.environment;this.addManagedPropertyListeners([\"chartThemeOverrides\",\"chartThemes\",\"styleNonce\"],()=>this.refresh(this.params));}createListener(){var batch=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;return()=>{var _this$params$column$g,_this$params8,_this$params$node$row,_this$params9;return this.updateSize((_this$params$column$g=(_this$params8=this.params)===null||_this$params8===void 0||(_this$params8=_this$params8.column)===null||_this$params8===void 0?void 0:_this$params8.getActualWidth())!==null&&_this$params$column$g!==void 0?_this$params$column$g:0,((_this$params$node$row=(_this$params9=this.params)===null||_this$params9===void 0?void 0:_this$params9.node.rowHeight)!==null&&_this$params$node$row!==void 0?_this$params$node$row:0)-2,batch);};}initGridObserver(){var _this$params0,_this$params1;var batchListener=this.createListener();var listener=this.createListener(false);var column=(_this$params0=this.params)===null||_this$params0===void 0?void 0:_this$params0.column;var rowNode=(_this$params1=this.params)===null||_this$params1===void 0?void 0:_this$params1.node;column.__addEventListener(\"columnStateUpdated\",batchListener);rowNode.__addEventListener(\"heightChanged\",batchListener);this.addDestroyFunc(()=>{column.__removeEventListener(\"columnStateUpdated\",batchListener);rowNode.__removeEventListener(\"heightChanged\",batchListener);});listener();}updateSize(newWidth,newHeight){var batch=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;newWidth-=this.env.getCellPadding();if(newWidth!==this.cachedWidth||newHeight!==this.cachedHeight){this.cachedWidth=newWidth;this.cachedHeight=newHeight;var refresh=this.refresh.bind(this);if(batch){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._batchCall)(()=>this.isAlive()&&refresh());}else{refresh();}}}init(params){this.params=params;this.initGridObserver();}refresh(){var params=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.params;var _a;this.params=params;var width=this.cachedWidth;var height=this.cachedHeight;var styleNonce=this.gos.get(\"styleNonce\");if(!this.sparklineInstance&&params&&width>0&&height>0){var _a$type,_this$sparklineOption,_this$sparklineOption2,_theme$overrides;this.sparklineOptions=_objectSpread(_objectSpread(_objectSpread({container:this.eSparkline,width,height},params.sparklineOptions),styleNonce?{styleNonce}:{}),{},{data:this.processData(params.value)});(_a$type=(_a=this.sparklineOptions).type)!==null&&_a$type!==void 0?_a$type:_a.type=\"line\";if((_this$sparklineOption=this.sparklineOptions.tooltip)!==null&&_this$sparklineOption!==void 0&&_this$sparklineOption.renderer){this.wrapTooltipRenderer();}else{var renderer=this.getDefaultTooltipRenderer();this.sparklineOptions.tooltip=_objectSpread(_objectSpread({},this.sparklineOptions.tooltip),{},{renderer});}var theme=(_this$sparklineOption2=this.sparklineOptions)===null||_this$sparklineOption2===void 0?void 0:_this$sparklineOption2.theme;if(this.sparklineOptions.type===\"bar\"&&this.sparklineOptions.itemStyler){this.wrapItemStyler(this.sparklineOptions);}else if(theme!==null&&theme!==void 0&&(_theme$overrides=theme.overrides)!==null&&_theme$overrides!==void 0&&(_theme$overrides=_theme$overrides.bar)!==null&&_theme$overrides!==void 0&&(_theme$overrides=_theme$overrides.series)!==null&&_theme$overrides!==void 0&&_theme$overrides.itemStyler){this.wrapItemStyler(theme.overrides.bar.series);}this.sparklineInstance=params.createSparkline(this.sparklineOptions);return true;}else if(this.sparklineInstance){this.sparklineInstance.update(_objectSpread(_objectSpread({},this.sparklineOptions),{},{data:this.processData(params===null||params===void 0?void 0:params.value),width,height},styleNonce?{styleNonce}:{}));return true;}return false;}processData(){var data=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];if(data.length===0){return data;}if(this.dataRef!==data){this.dataRef=data;this.processedData=Array.isArray(data[0])?data.filter(item=>item!=null):data;}return this.processedData;}createContext(){var _this$params10,_this$params11;return{data:(_this$params10=this.params)===null||_this$params10===void 0?void 0:_this$params10.data,cellData:(_this$params11=this.params)===null||_this$params11===void 0?void 0:_this$params11.value};}getDefaultTooltipRenderer(userRendererResult){var _this$sparklineOption3;var userTitle=userRendererResult===null||userRendererResult===void 0?void 0:userRendererResult.title;var xKeyProvided=this.sparklineOptions.xKey;var tupleData=Array.isArray((_this$sparklineOption3=this.sparklineOptions.data)===null||_this$sparklineOption3===void 0?void 0:_this$sparklineOption3[0]);var showXValue=!userTitle&&(xKeyProvided||tupleData);return showXValue?tooltipRendererWithXValue:tooltipRenderer;}wrapItemStyler(container){container.itemStyler=wrapFn(container.itemStyler,(fn,stylerParams)=>{return fn(_objectSpread(_objectSpread({},stylerParams),{},{context:this.createContext()}));});}wrapTooltipRenderer(){this.sparklineOptions.tooltip=_objectSpread(_objectSpread({},this.sparklineOptions.tooltip),{},{renderer:wrapFn(this.sparklineOptions.tooltip.renderer,(fn,tooltipParams)=>{var userRendererResult=fn(_objectSpread(_objectSpread({},tooltipParams),{},{context:this.createContext()}));if(typeof userRendererResult===\"string\"){return userRendererResult;}return _objectSpread(_objectSpread({},this.getDefaultTooltipRenderer(userRendererResult)(tooltipParams)),userRendererResult);})});}destroy(){var _this$sparklineInstan;super.destroy();(_this$sparklineInstan=this.sparklineInstance)===null||_this$sparklineInstan===void 0||_this$sparklineInstan.destroy();}};// packages/ag-grid-enterprise/src/sparkline/sparklinesModule.ts\nvar moduleName=\"Sparklines\";var SparklinesModule={moduleName,version:VERSION,dependsOn:[EnterpriseCoreModule],validate:()=>{return{isValid:false,message:(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._preInitErrMsg)(258)};},with:params=>{params.setup();return{moduleName,version:VERSION,dependsOn:[EnterpriseCoreModule],css:[sparklineCSS],userComponents:{agSparklineCellRenderer:{classImp:SparklineCellRenderer,/** Default params for provided components */params:{createSparkline:params.createSparkline}}},validate:()=>{return{isValid:true};}};}};// packages/ag-grid-enterprise/src/find/find.css-GENERATED.ts\nvar findCSS=/*css*/\".ag-find-cell{display:block;overflow:hidden;text-overflow:ellipsis}.ag-find-match{background-color:var(--ag-find-match-background-color);color:var(--ag-find-match-color)}.ag-find-active-match{background-color:var(--ag-find-active-match-background-color);color:var(--ag-find-active-match-color)}\";// packages/ag-grid-enterprise/src/find/findApi.ts\nfunction findNext(beans){var _beans$findSvc;(_beans$findSvc=beans.findSvc)===null||_beans$findSvc===void 0||_beans$findSvc.next();}function findPrevious(beans){var _beans$findSvc2;(_beans$findSvc2=beans.findSvc)===null||_beans$findSvc2===void 0||_beans$findSvc2.previous();}function findGetTotalMatches(beans){var _beans$findSvc$totalM,_beans$findSvc3;return(_beans$findSvc$totalM=(_beans$findSvc3=beans.findSvc)===null||_beans$findSvc3===void 0?void 0:_beans$findSvc3.totalMatches)!==null&&_beans$findSvc$totalM!==void 0?_beans$findSvc$totalM:0;}function findGoTo(beans,match,force){var _beans$findSvc4;(_beans$findSvc4=beans.findSvc)===null||_beans$findSvc4===void 0||_beans$findSvc4.goTo(match,force);}function findClearActive(beans){var _beans$findSvc5;(_beans$findSvc5=beans.findSvc)===null||_beans$findSvc5===void 0||_beans$findSvc5.clearActive();}function findGetActiveMatch(beans){var _beans$findSvc6;return(_beans$findSvc6=beans.findSvc)===null||_beans$findSvc6===void 0?void 0:_beans$findSvc6.activeMatch;}function findGetNumMatches(beans,params){var _beans$findSvc$getNum,_beans$findSvc7;var{node,column}=params;return(_beans$findSvc$getNum=(_beans$findSvc7=beans.findSvc)===null||_beans$findSvc7===void 0?void 0:_beans$findSvc7.getNumMatches(node,column))!==null&&_beans$findSvc$getNum!==void 0?_beans$findSvc$getNum:0;}function findGetParts(beans,params){var _beans$findSvc$getPar,_beans$findSvc8;return(_beans$findSvc$getPar=(_beans$findSvc8=beans.findSvc)===null||_beans$findSvc8===void 0?void 0:_beans$findSvc8.getParts(params))!==null&&_beans$findSvc$getPar!==void 0?_beans$findSvc$getPar:[];}function findRefresh(beans){var _beans$findSvc9;return(_beans$findSvc9=beans.findSvc)===null||_beans$findSvc9===void 0?void 0:_beans$findSvc9.refresh(true);}// packages/ag-grid-enterprise/src/find/findCellRenderer.ts\nvar FindCellRendererElement={tag:\"span\",cls:\"ag-find-cell\"};var FindCellRenderer=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(){super(FindCellRendererElement);}init(params){this.refresh(params);}refresh(params){var _ref104;var{node,column}=params;var{findSvc,valueSvc}=this.beans;var{value,valueFormatted}=valueSvc.getValueForDisplay(column,node,true);var displayValue=(_ref104=valueFormatted!==null&&valueFormatted!==void 0?valueFormatted:value)!==null&&_ref104!==void 0?_ref104:\"\";var eGui=this.getGui();(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._clearElement)(eGui);var parts=findSvc===null||findSvc===void 0?void 0:findSvc.getParts({value:displayValue,node,column:column!==null&&column!==void 0?column:null});if(!parts){var _toString4;eGui.textContent=(_toString4=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._toString)(displayValue))!==null&&_toString4!==void 0?_toString4:\"\";eGui.classList.remove(\"ag-find-cell-active-match\");return true;}var hasActiveMatch=false;for(var{value:value2,match,activeMatch}of parts){var _toString5;var content=(_toString5=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._toString)(value2))!==null&&_toString5!==void 0?_toString5:\"\";if(match){var element=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createElement)({tag:\"mark\",cls:\"ag-find-match\"});element.textContent=content;if(activeMatch){element.classList.add(\"ag-find-active-match\");hasActiveMatch=true;}eGui.appendChild(element);}else{eGui.appendChild(document.createTextNode(content));}}eGui.classList.toggle(\"ag-find-cell-active-match\",hasActiveMatch);return true;}};// packages/ag-grid-enterprise/src/find/findService.ts\nfunction defaultCaseFormat(value){return value===null||value===void 0?void 0:value.toLocaleLowerCase();}function _getMatchesForValue(findSearchValue,caseFormat,valueToFind){var finalValue=caseFormat((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._toString)(valueToFind));var numMatches=0;if(finalValue!==null&&finalValue!==void 0&&finalValue.length){var index=-1;while(true){index=finalValue.indexOf(findSearchValue,index+1);if(index!=-1){numMatches++;}else{break;}}}return numMatches;}var FindService=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BeanStub{constructor(){super(...arguments);this.beanName=\"findSvc\";/**\n     * Is find currently active (e.g. non-empty search value).\n     * Used for performance when checking matches (part of cell rendering)\n     */this.active=false;/** pinned top matches */this.topMatches=/* @__PURE__ */new Map();/** same nodes as keys in `topMatches`, but kept separate for performance when moving backwards and forwards through the matches */this.topNodes=[];/** total number of matches in pinned top */this.topNumMatches=0;this.centerMatches=/* @__PURE__ */new Map();this.centerNodes=[];this.centerNumMatches=0;this.bottomMatches=/* @__PURE__ */new Map();this.bottomNodes=[];/** switches based on grid options */this.caseFormat=defaultCaseFormat;/** whether to scroll to active match after a refresh */this.scrollOnRefresh=false;this.totalMatches=0;}postConstruct(){if(!(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isClientSideRowModel)(this.gos)){return;}var refreshAndWipeActive=this.refresh.bind(this,false);var refreshAndKeepActive=this.refresh.bind(this,true);var refreshAndKeepActiveDebounced=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._debounce)(this,()=>{if(this.isAlive()){refreshAndKeepActive();}},0);this.refreshDebounced=refreshAndKeepActiveDebounced;this.addManagedPropertyListener(\"findSearchValue\",refreshAndWipeActive);this.addManagedPropertyListener(\"findOptions\",_ref105=>{var{currentValue,previousValue}=_ref105;if(!(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._jsonEquals)(currentValue,previousValue)){refreshAndWipeActive();}});this.addManagedPropertyListeners([\"groupSuppressBlankHeader\",\"showOpenedGroup\"],refreshAndKeepActive);this.addManagedEventListeners({modelUpdated:refreshAndKeepActive,displayedColumnsChanged:refreshAndKeepActive,pinnedRowDataChanged:refreshAndKeepActive,cellValueChanged:refreshAndKeepActiveDebounced,rowNodeDataChanged:refreshAndKeepActiveDebounced});var rowSpanSvc=this.beans.rowSpanSvc;if(rowSpanSvc){this.addManagedListeners(rowSpanSvc,{spannedCellsUpdated:refreshAndKeepActiveDebounced});}refreshAndWipeActive();}next(){this.findAcrossContainers(false,[\"top\",null,\"bottom\"],1,1);}previous(){this.findAcrossContainers(true,[\"bottom\",null,\"top\"],this.totalMatches,-1);}goTo(match,force){var _this$activeMatch;if(!force&&match===((_this$activeMatch=this.activeMatch)===null||_this$activeMatch===void 0?void 0:_this$activeMatch.numOverall)){return;}var{topMatches,topNumMatches,centerMatches,centerNumMatches,bottomMatches}=this;if(match<=topNumMatches){this.goToInContainer(topMatches,match,0);return;}if(match<=centerNumMatches){this.goToInContainer(centerMatches,match,topNumMatches);return;}this.goToInContainer(bottomMatches,match,topNumMatches+centerNumMatches);}clearActive(){if(this.activeMatch){this.setActive(void 0);}}// called by cell ctrl, so needs to be performant\nisMatch(node,column){var _this$getMatches$get;return this.active&&!!((_this$getMatches$get=this.getMatches(node.rowPinned).get(node))!==null&&_this$getMatches$get!==void 0&&_this$getMatches$get.some(_ref106=>{var[colToCheck]=_ref106;return colToCheck===column;}));}getNumMatches(node,column){var _this$getMatches$get$,_this$getMatches$get2;return(_this$getMatches$get$=(_this$getMatches$get2=this.getMatches(node.rowPinned).get(node))===null||_this$getMatches$get2===void 0||(_this$getMatches$get2=_this$getMatches$get2.find(_ref107=>{var[colToCheck]=_ref107;return colToCheck===column;}))===null||_this$getMatches$get2===void 0?void 0:_this$getMatches$get2[1])!==null&&_this$getMatches$get$!==void 0?_this$getMatches$get$:0;}/**\n   * Get detail for cell renderer. Splits up the cell value into strings depending on\n   * whether they don't match, match, or are the active match\n   */getParts(params){var _toString6,_this$caseFormat;var{value,node,column,precedingNumMatches}=params;var findSearchValue=this.findSearchValue;var stringValue=(_toString6=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._toString)(value))!==null&&_toString6!==void 0?_toString6:\"\";if((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._missing)(findSearchValue)){return[{value:stringValue}];}var valueToFind=(_this$caseFormat=this.caseFormat(stringValue))!==null&&_this$caseFormat!==void 0?_this$caseFormat:\"\";var activeMatchNum=this.getActiveMatchNum(node,column)-(precedingNumMatches!==null&&precedingNumMatches!==void 0?precedingNumMatches:0);var lastIndex=0;var currentMatchNum=0;var findTextLength=findSearchValue.length;var parts=[];while(true){var index=valueToFind.indexOf(findSearchValue,lastIndex);if(index!=-1){currentMatchNum++;if(index>lastIndex){parts.push({value:stringValue.slice(lastIndex,index)});}var endIndex=index+findTextLength;parts.push({value:stringValue.slice(index,endIndex),match:true,activeMatch:currentMatchNum===activeMatchNum});lastIndex=endIndex;}else{if(lastIndex<stringValue.length){parts.push({value:stringValue.slice(lastIndex)});}return parts;}}}// when a detail grid is created, we need to sync the matches\nregisterDetailGrid(node,api){var gos=this.gos;if(!(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isClientSideRowModel)(gos)){return;}var isSearchDetail=()=>{var _gos$get2;return(_gos$get2=gos.get(\"findOptions\"))===null||_gos$get2===void 0?void 0:_gos$get2.searchDetail;};var compareMatchesAndRefresh=newNumMatches=>{var _this$centerMatches$g,_nodeMatch$;var nodeMatch=(_this$centerMatches$g=this.centerMatches.get(node))===null||_this$centerMatches$g===void 0?void 0:_this$centerMatches$g[0];var oldNumMatches=(_nodeMatch$=nodeMatch===null||nodeMatch===void 0?void 0:nodeMatch[1])!==null&&_nodeMatch$!==void 0?_nodeMatch$:0;if(newNumMatches!==oldNumMatches){this.refreshDebounced();}};api.addEventListener(\"findChanged\",event=>{if(api.isDestroyed()||!this.isAlive()||!this.active||!isSearchDetail()){return;}compareMatchesAndRefresh(event.totalMatches);});api.addEventListener(\"gridPreDestroyed\",()=>{var _gos$get$getFindMatch,_gos$get3,_gos$get3$getFindMatc;if(!this.isAlive()||!this.active||!isSearchDetail()){return;}var masterNode=node.parent;var findSearchValue=this.findSearchValue;if(!masterNode||!findSearchValue){return;}var numMatches=(_gos$get$getFindMatch=(_gos$get3=gos.get(\"detailCellRendererParams\"))===null||_gos$get3===void 0||(_gos$get3$getFindMatc=_gos$get3.getFindMatches)===null||_gos$get3$getFindMatc===void 0?void 0:_gos$get3$getFindMatc.call(_gos$get3,{node:masterNode,data:masterNode.data,findSearchValue:gos.get(\"findSearchValue\"),updateMatches:this.refreshDebounced,getMatchesForValue:value=>_getMatchesForValue(findSearchValue,this.caseFormat,value)}))!==null&&_gos$get$getFindMatch!==void 0?_gos$get$getFindMatch:0;compareMatchesAndRefresh(numMatches);});if(isSearchDetail()){api.setGridOption(\"findSearchValue\",gos.get(\"findSearchValue\"));}}// updates all the matches\nrefresh(maintainActive){var rowNodesToRefresh=/* @__PURE__ */new Set([...this.topNodes,...this.centerNodes,...this.bottomNodes]);this.topNodes=[];this.centerNodes=[];this.bottomNodes=[];var{topNodes,topMatches,centerMatches,centerNodes,bottomNodes,bottomMatches,beans:{gos,visibleCols,rowModel,valueSvc,pinnedRowModel,pagination,rowSpanSvc,masterDetailSvc,colModel},findSearchValue:oldFindSearchValue}=this;var findOptions=gos.get(\"findOptions\");var caseFormat=findOptions!==null&&findOptions!==void 0&&findOptions.caseSensitive?value=>value!==null&&value!==void 0?value:void 0:defaultCaseFormat;this.caseFormat=caseFormat;var providedFindSearchValue=gos.get(\"findSearchValue\");var findSearchValue=caseFormat(providedFindSearchValue===null||providedFindSearchValue===void 0?void 0:providedFindSearchValue.trim());this.findSearchValue=findSearchValue;topMatches.clear();centerMatches.clear();bottomMatches.clear();var oldActiveMatch=maintainActive?this.activeMatch:void 0;this.activeMatch=void 0;var checkMasterDetail=gos.get(\"masterDetail\")&&(findOptions===null||findOptions===void 0?void 0:findOptions.searchDetail)&&masterDetailSvc;if((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._missing)(findSearchValue)){this.active=false;this.topNumMatches=0;this.centerNumMatches=0;this.totalMatches=0;this.refreshRows(rowNodesToRefresh);if(checkMasterDetail){var store=masterDetailSvc.store;for(var detailId of Object.keys(store)){var _store$detailId;(_store$detailId=store[detailId])===null||_store$detailId===void 0||(_store$detailId=_store$detailId.api)===null||_store$detailId===void 0||_store$detailId.findClearActive();}}if(!(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._missing)(oldFindSearchValue)){this.dispatchFindChanged();}return;}var allCols=visibleCols.allCols;var isFullWidthCellFunc=gos.getCallback(\"isFullWidthRow\");var detailCellRendererParams=gos.get(\"detailCellRendererParams\");var fullWidthCellRendererParams=gos.get(\"fullWidthCellRendererParams\");var groupRowRendererParams=gos.get(\"groupRowRendererParams\");var flattenDetails=_getFlattenDetails(gos);var pivotMode=colModel.isPivotMode();var containerNumMatches=0;var matches;var rowNodes;var checkCurrentPage=false;var addMatches=(node,column,numMatches,skipRefresh)=>{if(!numMatches){return;}var rowMatches=matches.get(node);if(!rowMatches){rowMatches=[];matches.set(node,rowMatches);rowNodes.push(node);if(!skipRefresh){rowNodesToRefresh.add(node);}}rowMatches.push([column,numMatches]);containerNumMatches+=numMatches;};var findMatchesForRow=node=>{var _node$parent2,_node$parent3;if(checkCurrentPage){var rowIndex=node.rowIndex;var nodeToCheck=node.parent;while(rowIndex==null&&nodeToCheck){rowIndex=nodeToCheck.rowIndex;nodeToCheck=nodeToCheck.parent;}if(rowIndex==null||!pagination.isRowInPage(rowIndex)){return;}}var isParent=node.hasChildren();if(!_shouldRowBeRendered(flattenDetails,node,isParent,pivotMode,_isRemovedSingleChildrenGroup(flattenDetails,node,isParent),_isRemovedLowestSingleChildrenGroup(flattenDetails,node,isParent))){return;}var data=node.data;if(isFullWidthCellFunc!==null&&isFullWidthCellFunc!==void 0&&isFullWidthCellFunc({rowNode:node})){if(fullWidthCellRendererParams){var _fullWidthCellRendere,_fullWidthCellRendere2;var numMatches=(_fullWidthCellRendere=(_fullWidthCellRendere2=fullWidthCellRendererParams.getFindMatches)===null||_fullWidthCellRendere2===void 0?void 0:_fullWidthCellRendere2.call(fullWidthCellRendererParams,{node,data,findSearchValue:providedFindSearchValue,updateMatches:this.refreshDebounced,getMatchesForValue:value=>_getMatchesForValue(findSearchValue,caseFormat,value)}))!==null&&_fullWidthCellRendere!==void 0?_fullWidthCellRendere:0;addMatches(node,null,numMatches);}return;}if((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isFullWidthGroupRow)(gos,node,pivotMode)){var valueToFind;var getFindText=groupRowRendererParams===null||groupRowRendererParams===void 0?void 0:groupRowRendererParams.getFindText;if(getFindText){var value=valueSvc.getValueForDisplay(void 0,node).value;valueToFind=getFindText((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._addGridCommonParams)(gos,{value,node,data,column:null,colDef:null,getValueFormatted:()=>{var{valueFormatted}=valueSvc.getValueForDisplay(void 0,node,true);return valueFormatted;}}));}else{var{value:_value2,valueFormatted}=valueSvc.getValueForDisplay(void 0,node,true);valueToFind=valueFormatted!==null&&valueFormatted!==void 0?valueFormatted:_value2;}var _numMatches=_getMatchesForValue(findSearchValue,caseFormat,valueToFind);addMatches(node,null,_numMatches);return;}var nodeWillBeHiddenByOpenParent=node.level>0&&gos.get(\"groupHideOpenParents\")&&((_node$parent2=node.parent)===null||_node$parent2===void 0?void 0:_node$parent2.getFirstChild())===node&&!((_node$parent3=node.parent)!==null&&_node$parent3!==void 0&&_node$parent3.expanded);var _loop10=function _loop10(column){if((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.isRowNumberCol)(column)||(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.isColumnSelectionCol)(column)){return 0;// continue\n}var cellSpan=rowSpanSvc===null||rowSpanSvc===void 0?void 0:rowSpanSvc.getCellSpan(column,node);if(cellSpan&&cellSpan.firstNode!==node){return 0;// continue\n}if(column.colDef.showRowGroup&&nodeWillBeHiddenByOpenParent){return 0;// continue\n}var valueToFind;var colDef=column.colDef;var getFindText=colDef.getFindText;if(getFindText){var _value3=valueSvc.getValueForDisplay(column,node).value;valueToFind=getFindText((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._addGridCommonParams)(gos,{value:_value3,node,data,column,colDef,getValueFormatted:()=>{var{valueFormatted}=valueSvc.getValueForDisplay(column,node,true);return valueFormatted;}}));}else{var{value:_value4,valueFormatted:_valueFormatted}=valueSvc.getValueForDisplay(column,node,true);valueToFind=_valueFormatted!==null&&_valueFormatted!==void 0?_valueFormatted:_value4;}var numMatches=_getMatchesForValue(findSearchValue,caseFormat,valueToFind);addMatches(node,column,numMatches);},_ret5;for(var column of allCols){_ret5=_loop10(column);if(_ret5===0)continue;}if(node.master&&checkMasterDetail){var detailNode=node.detailNode;if(detailNode){var _detailNode$detailGri;var detailApi=(_detailNode$detailGri=detailNode.detailGridInfo)===null||_detailNode$detailGri===void 0?void 0:_detailNode$detailGri.api;if(detailApi){detailApi.setGridOption(\"findSearchValue\",providedFindSearchValue);var _numMatches2=detailApi.findGetTotalMatches();addMatches(detailNode,null,_numMatches2);return;}}if(detailCellRendererParams){var _detailCellRendererPa,_detailCellRendererPa2;var _numMatches3=(_detailCellRendererPa=(_detailCellRendererPa2=detailCellRendererParams.getFindMatches)===null||_detailCellRendererPa2===void 0?void 0:_detailCellRendererPa2.call(detailCellRendererParams,{node,data,findSearchValue:providedFindSearchValue,updateMatches:this.refreshDebounced,getMatchesForValue:value=>_getMatchesForValue(findSearchValue,caseFormat,value)}))!==null&&_detailCellRendererPa!==void 0?_detailCellRendererPa:0;addMatches(detailNode!==null&&detailNode!==void 0?detailNode:{parent:node,dummy:true},null,_numMatches3,!detailNode// if dummy detail node, don't refresh\n);}}};matches=topMatches;rowNodes=topNodes;pinnedRowModel===null||pinnedRowModel===void 0||pinnedRowModel.forEachPinnedRow(\"top\",findMatchesForRow);this.topNumMatches=containerNumMatches;var totalMatches=containerNumMatches;matches=centerMatches;rowNodes=centerNodes;containerNumMatches=0;checkCurrentPage=!!pagination&&!!(findOptions!==null&&findOptions!==void 0&&findOptions.currentPageOnly);rowModel.forEachNodeAfterFilterAndSort(findMatchesForRow,true);this.centerNumMatches=containerNumMatches;totalMatches+=containerNumMatches;matches=bottomMatches;rowNodes=bottomNodes;containerNumMatches=0;checkCurrentPage=false;pinnedRowModel===null||pinnedRowModel===void 0||pinnedRowModel.forEachPinnedRow(\"bottom\",findMatchesForRow);totalMatches+=containerNumMatches;this.totalMatches=totalMatches;this.active=true;this.refreshRows(rowNodesToRefresh);if(oldActiveMatch){this.resetActiveMatch(oldActiveMatch);}this.dispatchFindChanged();}// update the active match back to what it was previously if possible. e.g. row index might have changed\nresetActiveMatch(oldActiveMatch){var _node$rowPinned2,_this$getMatches;var{column,numInMatch}=oldActiveMatch;var node=oldActiveMatch.node;if(node.dummy){var _node$parent4;var detailNode=(_node$parent4=node.parent)===null||_node$parent4===void 0?void 0:_node$parent4.detailNode;if(!detailNode){return;}node=detailNode;}var rowPinned=(_node$rowPinned2=node.rowPinned)!==null&&_node$rowPinned2!==void 0?_node$rowPinned2:null;var stillValid=(_this$getMatches=this.getMatches(rowPinned))===null||_this$getMatches===void 0||(_this$getMatches=_this$getMatches.get(node))===null||_this$getMatches===void 0?void 0:_this$getMatches.some(_ref108=>{var[columnToCheck,numMatches]=_ref108;return columnToCheck===column&&numMatches>=numInMatch;});if(!stillValid){return;}var numOverall=0;if(rowPinned==null){numOverall=this.topNumMatches;}else if(rowPinned===\"bottom\"){numOverall=this.topNumMatches+this.centerNumMatches;}var updateNumInMatches=()=>{var matches=this.getMatches(rowPinned);for(var nodeToCheck of matches.keys()){var matchingNode=nodeToCheck===node;var cols=matches.get(nodeToCheck);for(var[columnToCheck,numMatches]of cols){if(matchingNode&&columnToCheck===column){numOverall+=numInMatch;return;}numOverall+=numMatches;}}};updateNumInMatches();var activeMatch=_objectSpread(_objectSpread({},oldActiveMatch),{},{node,numOverall});this.activeMatch=activeMatch;this.refreshRows(/* @__PURE__ */new Set([node]),column==null?void 0:/* @__PURE__ */new Set([column]));if(this.scrollOnRefresh){this.scrollOnRefresh=false;this.scrollToActive(activeMatch);}this.setDetailActive(activeMatch);}refreshRows(rowNodes,columns){if(!rowNodes.size){return;}this.beans.rowRenderer.refreshCells({rowNodes:[...rowNodes],columns:columns?[...columns]:void 0,force:true,suppressFlash:true});}// go to the next/previous match across all containers\nfindAcrossContainers(backwards,containers,startNum,increment){if(!this.totalMatches){this.setActive();return;}var activeMatch=this.activeMatch;var containersToFind=containers;if(activeMatch){var _node$rowPinned3;var{column,node,numInMatch,numOverall}=activeMatch;var rowPinned=(_node$rowPinned3=node.rowPinned)!==null&&_node$rowPinned3!==void 0?_node$rowPinned3:null;var nextOverallNum=numOverall+increment;var matchInContainer=this.findInContainer(rowPinned,backwards,nextOverallNum,node,column,numInMatch);if(matchInContainer){return;}var activeContainerIndex=containers.indexOf(rowPinned);var containerLength=containers.length;var containersAfter=containers.slice(activeContainerIndex+1,containerLength);if(containersAfter.some(containerRowPinned=>this.findInContainer(containerRowPinned,backwards,nextOverallNum))){return;}containersToFind=containers.slice(0,activeContainerIndex+1);}containersToFind.some(containerRowPinned=>this.findInContainer(containerRowPinned,backwards,startNum));}// go to the next/previous match within a container\nfindInContainer(rowPinned,backwards,nextOverallNum,currentNode,currentColumn,currentNumInMatch){var matches=this.getMatches(rowPinned);var rowNodes=this.getRowNodes(rowPinned);var direction=backwards?-1:1;if(currentNode!=null){var currentIndexRowMatches=matches.get(currentNode);var colArrayIndex=currentIndexRowMatches===null||currentIndexRowMatches===void 0?void 0:currentIndexRowMatches.findIndex(_ref109=>{var[column]=_ref109;return column===currentColumn;});if(colArrayIndex!=null&&colArrayIndex!=-1){var[column,numMatches]=currentIndexRowMatches[colArrayIndex];if(backwards?currentNumInMatch>1:currentNumInMatch<numMatches){this.setActive({column,node:currentNode,numInMatch:currentNumInMatch+direction,numOverall:nextOverallNum});return true;}}var nextMatch2=colArrayIndex!=null&&colArrayIndex!=-1?currentIndexRowMatches===null||currentIndexRowMatches===void 0?void 0:currentIndexRowMatches[colArrayIndex+direction]:void 0;if(nextMatch2){var[_column3,_numMatches4]=nextMatch2;this.setActive({column:_column3,node:currentNode,numInMatch:backwards?_numMatches4:1,numOverall:nextOverallNum});return true;}}var nextNode;if(currentNode==null){nextNode=rowNodes[backwards?rowNodes.length-1:0];}else{var rowArrayIndex=rowNodes.findIndex(node=>node===currentNode);nextNode=rowNodes[rowArrayIndex+direction];}if(nextNode==null){return false;}var nextIndexRowMatches=matches.get(nextNode);var nextMatch=nextIndexRowMatches===null||nextIndexRowMatches===void 0?void 0:nextIndexRowMatches[backwards?nextIndexRowMatches.length-1:0];if(nextMatch){var[_column4,_numMatches5]=nextMatch;this.setActive({column:_column4,node:nextNode,numInMatch:backwards?_numMatches5:1,numOverall:nextOverallNum});return true;}return false;}dispatchFindChanged(){var{eventSvc,activeMatch,totalMatches,findSearchValue}=this;eventSvc.dispatchEvent({type:\"findChanged\",activeMatch,totalMatches,findSearchValue});}setActive(activeMatch){if(activeMatch&&activeMatch.node.rowIndex==null){var _this$beans$expansion;var node=activeMatch.node;var parent=node.footer?node.sibling:node.parent;while(parent&&parent.level!==-1){parent.expanded=true;parent=parent.parent;}this.activeMatch=activeMatch;this.scrollOnRefresh=true;(_this$beans$expansion=this.beans.expansionSvc)===null||_this$beans$expansion===void 0||_this$beans$expansion.onGroupExpandedOrCollapsed();return;}var oldActiveMatch=this.activeMatch;this.activeMatch=activeMatch;this.refreshAndScrollToActive(activeMatch,oldActiveMatch);if(activeMatch){this.setDetailActive(activeMatch);}this.dispatchFindChanged();}setDetailActive(_ref110){var{node,numInMatch}=_ref110;if(node.detail){var _node$detailGridInfo2;(_node$detailGridInfo2=node.detailGridInfo)===null||_node$detailGridInfo2===void 0||(_node$detailGridInfo2=_node$detailGridInfo2.api)===null||_node$detailGridInfo2===void 0||_node$detailGridInfo2.findGoTo(numInMatch);}}refreshAndScrollToActive(activeMatch,oldActiveMatch){if(activeMatch||oldActiveMatch){var nodes=/* @__PURE__ */new Set();var columns=/* @__PURE__ */new Set();var skipColumns=false;var addMatch=match=>{if(!match){return;}var{node,column}=match;nodes.add(node);if(column==null){skipColumns=true;}else{columns.add(column);}};addMatch(activeMatch);addMatch(oldActiveMatch);this.refreshRows(nodes,skipColumns?void 0:columns);}if(activeMatch){this.scrollToActive(activeMatch);}}scrollToActive(_ref111){var{node:{rowPinned,rowIndex},column}=_ref111;var{ctrlsSvc,pagination,gos}=this.beans;var scrollFeature=ctrlsSvc.getScrollFeature();if(rowPinned==null&&rowIndex!=null){var _gos$get4;if(pagination&&!((_gos$get4=gos.get(\"findOptions\"))!==null&&_gos$get4!==void 0&&_gos$get4.currentPageOnly)&&!pagination.isRowInPage(rowIndex)){pagination.goToPageWithIndex(rowIndex);}scrollFeature.ensureIndexVisible(rowIndex);}scrollFeature.ensureColumnVisible(column);}// search for the specified overall `match` number with the provided container, and set it to be active\ngoToInContainer(matches,match,startNum){var currentMatch=startNum;for(var node of matches.keys()){var cols=matches.get(node);for(var[column,numMatches]of cols){if(match<=currentMatch+numMatches){this.setActive({column,node,numInMatch:match-currentMatch,numOverall:match});return;}currentMatch+=numMatches;}}}getMatches(rowPinned){if(rowPinned===\"top\"){return this.topMatches;}else if(rowPinned===\"bottom\"){return this.bottomMatches;}else{return this.centerMatches;}}getRowNodes(rowPinned){if(rowPinned===\"top\"){return this.topNodes;}else if(rowPinned===\"bottom\"){return this.bottomNodes;}else{return this.centerNodes;}}getActiveMatchNum(node,column){var activeMatch=this.activeMatch;return activeMatch!=null&&activeMatch.node===node&&activeMatch.column===column?activeMatch.numInMatch:0;}destroy(){this.topMatches.clear();this.topNodes.length=0;this.centerMatches.clear();this.centerNodes.length=0;this.bottomMatches.clear();this.bottomNodes.length=0;this.activeMatch=void 0;super.destroy();}};// packages/ag-grid-enterprise/src/find/findModule.ts\nvar FindCoreModule={moduleName:\"FindCore\",version:VERSION,rowModels:[\"clientSide\"],beans:[FindService],userComponents:{agFindCellRenderer:FindCellRenderer},css:[findCSS]};var FindModule={moduleName:\"Find\",version:VERSION,apiFunctions:{findGetTotalMatches,findGoTo,findNext,findPrevious,findGetActiveMatch,findGetNumMatches,findGetParts,findClearActive,findRefresh},dependsOn:[FindCoreModule]};// packages/ag-grid-enterprise/src/batch-edit/batchEditModule.ts\n// packages/ag-grid-enterprise/src/batch-edit/batchEditApi.ts\nfunction startBatchEdit(_ref112){var{editSvc,gos,rowModel}=_ref112;if(!(editSvc!==null&&editSvc!==void 0&&editSvc.isBatchEditing())){if(!(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isClientSideRowModel)(gos,rowModel)){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(289,{rowModelType:gos.get(\"rowModelType\")});return;}editSvc===null||editSvc===void 0||editSvc.setBatchEditing(true);}}function cancelBatchEdit(_ref113){var{editSvc}=_ref113;if(!(editSvc!==null&&editSvc!==void 0&&editSvc.isBatchEditing())){return;}editSvc===null||editSvc===void 0||editSvc.stopEditing(void 0,{cancel:true,source:\"api\"});editSvc===null||editSvc===void 0||editSvc.setBatchEditing(false);}function commitBatchEdit(_ref114){var{editSvc}=_ref114;if(!(editSvc!==null&&editSvc!==void 0&&editSvc.isBatchEditing())){return;}editSvc===null||editSvc===void 0||editSvc.stopEditing(void 0,{source:\"api\"});editSvc===null||editSvc===void 0||editSvc.setBatchEditing(false);}function isBatchEditing(beans){var _beans$editSvc$isBatc,_beans$editSvc;return(_beans$editSvc$isBatc=(_beans$editSvc=beans.editSvc)===null||_beans$editSvc===void 0?void 0:_beans$editSvc.isBatchEditing())!==null&&_beans$editSvc$isBatc!==void 0?_beans$editSvc$isBatc:false;}// packages/ag-grid-enterprise/src/batch-edit/batchEditModule.ts\nvar BatchEditModule={moduleName:\"BatchEdit\",version:VERSION,beans:[],apiFunctions:{isBatchEditing,startBatchEdit,cancelBatchEdit,commitBatchEdit},dependsOn:[ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._EditCoreModule,EnterpriseCoreModule],css:[]};// packages/ag-grid-enterprise/src/charts/integratedChartsModule.ts\n// packages/ag-grid-enterprise/src/charts/agChartsExports.ts\nvar AgChartsExports=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BeanStub{constructor(params){super();this.beanName=\"agChartsExports\";this.isEnterprise=false;this.create=params.create;this._Theme=params._Theme;this._Scene=params._Scene;this.isEnterprise=params.isEnterprise;this._Util=params._Util;}};// packages/ag-grid-enterprise/src/charts/chartComp/chartProxies/enterpriseChartProxyFactory.ts\n// packages/ag-grid-enterprise/src/charts/chartComp/utils/integration.ts\nfunction deproxy(chartOrProxy){if(chartOrProxy.chart!=null){return chartOrProxy.chart;}return chartOrProxy;}// packages/ag-grid-enterprise/src/charts/chartComp/utils/object.ts\nfunction get(source,expression,defaultValue){if(source==null){return defaultValue;}var keys=expression.split(\".\");var objectToRead=source;while(keys.length>1){objectToRead=objectToRead[keys.shift()];if(objectToRead==null){return defaultValue;}}var value=objectToRead[keys[0]];return value!=null?value:defaultValue;}function set(target,expression,value){if(target==null){return;}var keys=expression.split(\".\");var objectToUpdate=target;keys.forEach((key,i)=>{if(!objectToUpdate[key]){objectToUpdate[key]={};}if(i<keys.length-1){objectToUpdate=objectToUpdate[key];}});objectToUpdate[keys[keys.length-1]]=value;}// packages/ag-grid-enterprise/src/charts/chartComp/utils/seriesTypeMapper.ts\nvar CHART_TYPE_TO_SERIES_TYPE={column:\"bar\",groupedColumn:\"bar\",stackedColumn:\"bar\",normalizedColumn:\"bar\",bar:\"bar\",groupedBar:\"bar\",stackedBar:\"bar\",normalizedBar:\"bar\",line:\"line\",stackedLine:\"line\",normalizedLine:\"line\",scatter:\"scatter\",bubble:\"bubble\",pie:\"pie\",donut:\"donut\",doughnut:\"donut\",area:\"area\",stackedArea:\"area\",normalizedArea:\"area\",histogram:\"histogram\",radarLine:\"radar-line\",radarArea:\"radar-area\",nightingale:\"nightingale\",radialColumn:\"radial-column\",radialBar:\"radial-bar\",sunburst:\"sunburst\",rangeBar:\"range-bar\",rangeArea:\"range-area\",boxPlot:\"box-plot\",treemap:\"treemap\",heatmap:\"heatmap\",waterfall:\"waterfall\",funnel:\"funnel\",coneFunnel:\"cone-funnel\",pyramid:\"pyramid\"};var COMBO_CHART_TYPES=/* @__PURE__ */new Set([\"columnLineCombo\",\"areaColumnCombo\",\"customCombo\"]);var SERIES_GROUP_TYPES=[\"grouped\",\"stacked\",\"normalized\"];var SERIES_TYPES={area:{isCartesian:true,canInvert:true},bar:{isCartesian:true,canInvert:true},histogram:{isCartesian:true},line:{isCartesian:true,canInvert:true},pie:{isPie:true},donut:{isPie:true,canInvert:true},scatter:{isCartesian:true},bubble:{isCartesian:true},\"radial-column\":{isPolar:true,isEnterprise:true,isRadial:true,canInvert:true},\"radial-bar\":{isPolar:true,isEnterprise:true,isRadial:true,canInvert:true},\"radar-line\":{isPolar:true,isEnterprise:true,canInvert:true},\"radar-area\":{isPolar:true,isEnterprise:true,canInvert:true},nightingale:{isPolar:true,isEnterprise:true,canInvert:true},\"range-bar\":{isCartesian:true,isEnterprise:true,canSwitchDirection:true},\"range-area\":{isCartesian:true,isEnterprise:true},\"box-plot\":{isCartesian:true,isEnterprise:true,canSwitchDirection:true},treemap:{isEnterprise:true,isHierarchical:true},sunburst:{isEnterprise:true,isHierarchical:true},heatmap:{isCartesian:true,isEnterprise:true},waterfall:{isCartesian:true,isEnterprise:true,canSwitchDirection:true},funnel:{isCartesian:true,isEnterprise:true,canSwitchDirection:true},\"cone-funnel\":{isCartesian:true,isEnterprise:true,canSwitchDirection:true},pyramid:{isCartesian:true,isEnterprise:true,canSwitchDirection:true}};function isSeriesType(seriesType){return!!SERIES_TYPES[seriesType];}function isComboChart(chartType){return COMBO_CHART_TYPES.has(chartType);}function doesSeriesHaveProperty(seriesType,prop){var _SERIES_TYPES$seriesT;return!!((_SERIES_TYPES$seriesT=SERIES_TYPES[seriesType])!==null&&_SERIES_TYPES$seriesT!==void 0&&_SERIES_TYPES$seriesT[prop]);}function isEnterpriseChartType(chartType){return doesSeriesHaveProperty(getSeriesType(chartType),\"isEnterprise\");}var stackedChartTypes=/* @__PURE__ */new Set([\"stackedColumn\",\"normalizedColumn\",\"stackedBar\",\"normalizedBar\"]);function isStacked(chartType){return stackedChartTypes.has(chartType);}function isCartesian(seriesType){return doesSeriesHaveProperty(seriesType,\"isCartesian\");}function isFunnel(seriesType){return seriesType===\"funnel\"||seriesType===\"cone-funnel\"||seriesType===\"pyramid\";}function isPolar(seriesType){return doesSeriesHaveProperty(seriesType,\"isPolar\");}function isRadial(seriesType){return doesSeriesHaveProperty(seriesType,\"isRadial\");}function isHierarchical(seriesType){return doesSeriesHaveProperty(seriesType,\"isHierarchical\");}function getCanonicalChartType(chartType){return chartType===\"doughnut\"?\"donut\":chartType;}function getSeriesTypeIfExists(chartType){return CHART_TYPE_TO_SERIES_TYPE[chartType];}function getSeriesType(chartType){var _getSeriesTypeIfExist;return(_getSeriesTypeIfExist=getSeriesTypeIfExists(chartType))!==null&&_getSeriesTypeIfExist!==void 0?_getSeriesTypeIfExist:\"line\";}function isPieChartSeries(seriesType){return doesSeriesHaveProperty(seriesType,\"isPie\");}function canOnlyHaveSingleSeries(chartType){return chartType===\"pie\"||chartType===\"waterfall\"||chartType===\"histogram\"||chartType===\"funnel\"||chartType===\"coneFunnel\"||chartType===\"pyramid\";}function getMaxNumCategories(chartType){return isHierarchical(getSeriesType(chartType))?void 0:1;}function getMaxNumSeries(chartType){if(isHierarchical(getSeriesType(chartType))){return 2;}else if(canOnlyHaveSingleSeries(chartType)){return 1;}else{return void 0;}}function supportsInvertedCategorySeries(chartType){return!isComboChart(chartType)&&doesSeriesHaveProperty(getSeriesType(chartType),\"canInvert\");}function canSwitchDirection(chartType){return doesSeriesHaveProperty(getSeriesType(chartType),\"canSwitchDirection\");}function getFullChartNameTranslationKey(chartType){switch(chartType){case\"groupedColumn\":case\"stackedColumn\":case\"normalizedColumn\":case\"groupedBar\":case\"stackedBar\":case\"normalizedBar\":case\"stackedLine\":case\"normalizedLine\":case\"stackedArea\":case\"normalizedArea\":return\"\".concat(chartType,\"Full\");case\"doughnut\":return\"donut\";case\"areaColumnCombo\":return\"AreaColumnCombo\";default:return chartType;}}// packages/ag-grid-enterprise/src/charts/chartComp/chartProxies/chartTheme.ts\n// packages/ag-grid-enterprise/src/charts/chartComp/utils/axisTypeMapper.ts\nvar ALL_AXIS_TYPES=[\"number\",\"category\",\"grouped-category\",\"log\",\"time\"];function getLegacyAxisType(chartType){switch(chartType){case\"bar\":case\"stackedBar\":case\"normalizedBar\":return[\"number\",\"category\"];case\"groupedBar\":return[\"number\",\"grouped-category\"];case\"column\":case\"stackedColumn\":case\"normalizedColumn\":case\"line\":case\"stackedLine\":case\"normalizedLine\":case\"area\":case\"stackedArea\":case\"normalizedArea\":case\"histogram\":return[\"category\",\"number\"];case\"groupedColumn\":return[\"grouped-category\",\"number\"];case\"scatter\":case\"bubble\":return[\"number\",\"number\"];default:return void 0;}}// packages/ag-grid-enterprise/src/charts/chartComp/chartProxies/chartTheme.ts\nfunction createAgChartTheme(chartProxyParams,proxy,isEnterprise,chartThemeDefaults,updatedOverrides){var _lookupCustomChartThe;var{chartOptionsToRestore,chartPaletteToRestore,chartThemeToRestore,agChartsExports}=chartProxyParams;var themeName=getSelectedTheme(chartProxyParams);var stockTheme=isStockTheme(themeName,agChartsExports._Theme);var rootTheme=stockTheme?{baseTheme:themeName}:(_lookupCustomChartThe=lookupCustomChartTheme(chartProxyParams,themeName))!==null&&_lookupCustomChartThe!==void 0?_lookupCustomChartThe:{};var gridOptionsThemeOverrides=chartProxyParams.getGridOptionsChartThemeOverrides();var apiThemeOverrides=chartProxyParams.apiChartThemeOverrides;var standaloneChartType=getSeriesType(chartProxyParams.chartType);var crossFilteringOverrides=chartProxyParams.crossFiltering?createCrossFilterThemeOverrides(proxy,chartProxyParams,standaloneChartType):void 0;var isTitleEnabled=()=>{var isTitleEnabled2=obj=>{if(!obj){return false;}return Object.keys(obj).some(key=>get(obj[key],\"title.enabled\",false));};return isTitleEnabled2(gridOptionsThemeOverrides)||isTitleEnabled2(apiThemeOverrides);};var overrides=[stockTheme?inbuiltStockThemeOverrides(chartProxyParams,isEnterprise,isTitleEnabled()):void 0,pieAndDonutOverrides(),chartThemeDefaults,crossFilteringOverrides,gridOptionsThemeOverrides,apiThemeOverrides,_objectSpread({},chartOptionsToRestore!==null&&chartOptionsToRestore!==void 0?chartOptionsToRestore:{}),updatedOverrides];var theme=overrides.filter(v=>!!v).reduce((r,n)=>({baseTheme:r,overrides:n}),rootTheme);if(chartPaletteToRestore&&themeName===chartThemeToRestore){var rootThemePalette=chartProxyParams.agChartsExports._Theme.getChartTheme(rootTheme).palette;if(!isIdenticalPalette(chartPaletteToRestore,rootThemePalette)){theme.palette=chartPaletteToRestore;}}return theme;}function isIdenticalPalette(paletteA,paletteB){var arrayCompare=(arrA,arrB)=>{var _arrA$every;if(arrA===arrB)return true;if((arrA===null||arrA===void 0?void 0:arrA.length)!==(arrB===null||arrB===void 0?void 0:arrB.length))return false;return(_arrA$every=arrA===null||arrA===void 0?void 0:arrA.every((v,i)=>v===(arrB===null||arrB===void 0?void 0:arrB[i])))!==null&&_arrA$every!==void 0?_arrA$every:false;};return arrayCompare(paletteA.fills,paletteB.fills)&&arrayCompare(paletteA.strokes,paletteB.strokes);}function isStockTheme(themeName,theme){return Object.keys(theme.themes).includes(themeName);}function createCrossFilterThemeOverrides(proxy,chartProxyParams,seriesType){var legend={listeners:{legendItemClick:e=>{var chart=proxy.getChart();var eligibleSeriesIds=[e.seriesId,\"\".concat(e.seriesId,\"-filtered-out\")];chart.series.filter(s=>eligibleSeriesIds.includes(s.id)).forEach(s=>s.toggleSeriesItem(void 0,\"category\",e.itemId,void 0));}}};var common={tooltip:{delay:500},legend,listeners:{click:e=>chartProxyParams.crossFilterCallback(e,true)}};if(seriesType===\"pie\"||seriesType===\"donut\"){return{[seriesType]:_objectSpread({series:{fills:{$if:[{$eq:[{$value:\"$index\"},0]},{$map:[{$mix:[{$value:\"$1\"},{$ref:\"backgroundColor\"},0.7]},{$palette:\"fills\"}]},{$palette:\"fills\"}]},strokes:{$if:[{$eq:[{$value:\"$index\"},0]},{$map:[{$mix:[{$value:\"$1\"},{$ref:\"backgroundColor\"},0.7]},{$palette:\"strokes\"}]},{$palette:\"strokes\"}]}}},common)};}var fill={};if(seriesType!==\"line\"){fill.fill={$if:[{$isEven:[{$value:\"$index\"}]},{$palette:\"fill\"},{$mix:[{$path:[\"../$prevIndex/fill\",{$palette:\"fill\"}]},{$ref:\"backgroundColor\"},0.7]}]};}return{[seriesType]:_objectSpread({series:_objectSpread({stroke:{$if:[{$isEven:[{$value:\"$index\"}]},{$palette:\"stroke\"},{$mix:[{$path:[\"../$prevIndex/fill\",{$palette:\"stroke\"}]},{$ref:\"backgroundColor\"},0.7]}]}},fill)},common)};}var STATIC_INBUILT_STOCK_THEME_AXES_OVERRIDES=ALL_AXIS_TYPES.reduce((r,n)=>_objectSpread(_objectSpread({},r),{},{[n]:{title:{_enabledFromTheme:true}}}),{});function inbuiltStockThemeOverrides(params,isEnterprise,titleEnabled){var extraPadding=params.getExtraPaddingDirections();return{common:_objectSpread(_objectSpread({},isEnterprise?{animation:{duration:500}}:void 0),{},{axes:STATIC_INBUILT_STOCK_THEME_AXES_OVERRIDES,padding:{// don't add extra padding when a title is present!\ntop:!titleEnabled&&extraPadding.includes(\"top\")?40:20,right:extraPadding.includes(\"right\")?30:20,bottom:extraPadding.includes(\"bottom\")?40:20,left:extraPadding.includes(\"left\")?30:20}})};}function pieAndDonutOverrides(){return{pie:{series:{title:{_enabledFromTheme:true},calloutLabel:{_enabledFromTheme:true},sectorLabel:{enabled:false,_enabledFromTheme:true}}},donut:{series:{title:{_enabledFromTheme:true},calloutLabel:{_enabledFromTheme:true},sectorLabel:{enabled:false,_enabledFromTheme:true}}}};}function getSelectedTheme(chartProxyParams){var chartThemeName=chartProxyParams.getChartThemeName();var availableThemes=chartProxyParams.getChartThemes();if(!availableThemes.includes(chartThemeName)){chartThemeName=availableThemes[0];}return chartThemeName;}function lookupCustomChartTheme(chartProxyParams,name){var{customChartThemes}=chartProxyParams;var customChartTheme=customChartThemes&&customChartThemes[name];if(!customChartTheme){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(140,{name});}return customChartTheme;}// packages/ag-grid-enterprise/src/charts/chartComp/chartProxies/chartProxy.ts\nvar ChartProxy=class{constructor(chartProxyParams){this.chartProxyParams=chartProxyParams;this.clearThemeOverrides=false;this.agChartsExports=chartProxyParams.agChartsExports;this.chart=chartProxyParams.chartInstance;this.chartType=chartProxyParams.chartType;this.crossFiltering=chartProxyParams.crossFiltering;this.crossFilterCallback=chartProxyParams.crossFilterCallback;this.standaloneChartType=getSeriesType(this.chartType);if(this.chart==null){this.chart=chartProxyParams.agChartsExports.create(this.getCommonChartOptions());}else{this.clearThemeOverrides=true;}}crossFilteringReset(){}update(params){this.getChartRef().update(this.getUpdateOptions(params,this.getCommonChartOptions(params.updatedOverrides)));}updateThemeOverrides(themeOverrides){this.getChartRef().updateDelta({theme:{overrides:themeOverrides}});}getChart(){return deproxy(this.chart);}getChartRef(){return this.chart;}downloadChart(dimensions,fileName,fileFormat){var{chart}=this;var rawChart=deproxy(chart);var imageFileName=fileName||(rawChart.title?rawChart.title.text:\"chart\");var{width,height}=dimensions||{};chart.download({width,height,fileName:imageFileName,fileFormat});}getChartImageDataURL(type){return this.getChart().getCanvasDataURL(type);}getChartOptions(){return this.chart.getOptions();}getChartThemeOverrides(){var _chartOptionsTheme$ov;var chartOptionsTheme=this.getChartOptions().theme;return(_chartOptionsTheme$ov=chartOptionsTheme.overrides)!==null&&_chartOptionsTheme$ov!==void 0?_chartOptionsTheme$ov:{};}getChartPalette(){return this.agChartsExports._Theme.getChartTheme(this.getChartOptions().theme).palette;}setPaired(paired){var seriesType=getSeriesType(this.chartProxyParams.chartType);this.chart.updateDelta({theme:{overrides:{[seriesType]:{paired}}}});}isPaired(){var seriesType=getSeriesType(this.chartProxyParams.chartType);return get(this.getChartThemeOverrides(),\"\".concat(seriesType,\".paired\"),true);}lookupCustomChartTheme(themeName){return lookupCustomChartTheme(this.chartProxyParams,themeName);}getSeriesGroupType(){return void 0;}transformCategoryData(data,categoryKey){return data.map((d,index)=>{var value=d[categoryKey];var valueString=value&&value.toString?value.toString():\"\";var datum=_objectSpread({},d);datum[categoryKey]={id:index,value,toString:()=>valueString};return datum;});}getCommonChartOptions(updatedOverrides){var _this$chart$getOption,_this$chart;var existingOptions=this.clearThemeOverrides?{}:(_this$chart$getOption=(_this$chart=this.chart)===null||_this$chart===void 0?void 0:_this$chart.getOptions())!==null&&_this$chart$getOption!==void 0?_this$chart$getOption:{};var formattingPanelOverrides=this.chart!=null?this.getActiveFormattingPanelOverrides():void 0;this.clearThemeOverrides=false;var styleNonce=this.chartProxyParams.styleNonce;var theme=createAgChartTheme(this.chartProxyParams,this,this.agChartsExports.isEnterprise,this.getChartThemeDefaults(),updatedOverrides!==null&&updatedOverrides!==void 0?updatedOverrides:formattingPanelOverrides);var newOptions=_objectSpread(_objectSpread({},existingOptions),{},{mode:\"integrated\"},styleNonce?{styleNonce}:{});if(this.chartProxyParams.suppressFieldDotNotation!==void 0){newOptions.suppressFieldDotNotation=this.chartProxyParams.suppressFieldDotNotation;}newOptions.theme=theme;newOptions.container=this.chartProxyParams.parentElement;return newOptions;}getChartThemeDefaults(){var seriesOverrides=this.getSeriesChartThemeDefaults();var seriesChartOptions=seriesOverrides?{[this.standaloneChartType]:seriesOverrides}:{};var crosshair={enabled:true,snap:true,label:{enabled:false}};var common=this.agChartsExports.isEnterprise?{zoom:{enabled:true},animation:{enabled:true,duration:500},axes:{number:{crosshair},category:{crosshair},log:{crosshair},time:{crosshair}}}:{};common.minHeight=0;common.minWidth=0;common.navigator={enabled:false,height:18};return _objectSpread({common},seriesChartOptions);}getSeriesChartThemeDefaults(){return void 0;}getActiveFormattingPanelOverrides(){var _this$chart2,_inUseTheme$overrides;if(this.clearThemeOverrides){return{};}var inUseTheme=(_this$chart2=this.chart)===null||_this$chart2===void 0?void 0:_this$chart2.getOptions().theme;return(_inUseTheme$overrides=inUseTheme===null||inUseTheme===void 0?void 0:inUseTheme.overrides)!==null&&_inUseTheme$overrides!==void 0?_inUseTheme$overrides:{};}destroy(){var{keepChartInstance=false}=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};if(keepChartInstance){this.chart.resetAnimations();return this.chart;}this.destroyChart();}destroyChart(){if(this.chart){this.chart.destroy();this.chart=void 0;}}};// packages/ag-grid-enterprise/src/charts/chartComp/chartProxies/cartesian/cartesianChartProxy.ts\nvar CartesianChartProxy=class extends ChartProxy{constructor(){super(...arguments);this.crossFilteringAllPoints=/* @__PURE__ */new Set();this.crossFilteringSelectedPoints=[];}getUpdateOptions(params,commonChartOptions){var axes=this.getAxes(params,commonChartOptions);return _objectSpread(_objectSpread({},commonChartOptions),{},{data:this.getData(params,axes),axes,series:this.getSeries(params)});}getData(params,axes){var supportsCrossFiltering=[\"area\",\"line\"].includes(this.standaloneChartType);return this.crossFiltering&&supportsCrossFiltering?this.getCrossFilterData(params):this.getDataTransformedData(params,axes);}getDataTransformedData(params,axes){var xAxisType=axes[0].type;var{categories,data}=params;var[category]=categories;switch(xAxisType){case\"category\":return this.transformCategoryData(data,category.id);case\"time\":return this.transformTimeData(data,category.id);default:return data;}}getXAxisType(params){if(params.grouping){return\"grouped-category\";}else if(this.isXAxisOfType(params,\"time\",value=>value instanceof Date)){return\"time\";}else if(this.isXAxisOfType(params,\"number\")){return\"number\";}return\"category\";}isXAxisOfType(params,type,isInstance){var[category]=params.categories;if(category!==null&&category!==void 0&&category.chartDataType){return category.chartDataType===type;}if(!isInstance){return false;}var testDatum=params.data[0];if(!testDatum){return false;}return isInstance(testDatum[category.id]);}transformTimeData(data,categoryKey){var _data$;var firstValue=(_data$=data[0])===null||_data$===void 0?void 0:_data$[categoryKey];if(firstValue instanceof Date){return data;}return data.map(datum=>{var value=datum[categoryKey];return typeof value===\"string\"?_objectSpread(_objectSpread({},datum),{},{[categoryKey]:new Date(value)}):datum;});}crossFilteringReset(){this.crossFilteringSelectedPoints=[];this.crossFilteringAllPoints.clear();}crossFilteringPointSelected(point){return this.crossFilteringSelectedPoints.length==0||this.crossFilteringSelectedPoints.includes(point);}crossFilteringDeselectedPoints(){return this.crossFilteringSelectedPoints.length>0&&this.crossFilteringAllPoints.size!==this.crossFilteringSelectedPoints.length;}extractLineAreaCrossFilterSeries(series,params){var[category]=params.categories;var getYKey=yKey=>{if(this.standaloneChartType===\"area\"){var lastSelectedChartId=params.getCrossFilteringContext().lastSelectedChartId;return lastSelectedChartId===params.chartId?yKey+\"-total\":yKey;}return yKey+\"-total\";};return series.map(s=>{s.yKey=getYKey(s.yKey);s.listeners={seriesNodeClick:e=>{var value=e.datum[s.xKey];var multiSelection=e.event.metaKey||e.event.ctrlKey;this.crossFilteringAddSelectedPoint(multiSelection,value);this.crossFilterCallback(e);}};s.marker={itemStyler:p=>{var value=p.datum[category.id];return{fill:p.highlighted?\"yellow\":p.fill,size:p.highlighted?14:this.crossFilteringPointSelected(value)?8:0};}};if(this.standaloneChartType===\"area\"){s.fillOpacity=this.crossFilteringDeselectedPoints()?0.3:1;}if(this.standaloneChartType===\"line\"){s.strokeOpacity=this.crossFilteringDeselectedPoints()?0.3:1;}return s;});}getCrossFilterData(params){this.crossFilteringAllPoints.clear();var[category]=params.categories;var colId=params.fields[0].colId;var filteredOutColId=\"\".concat(colId,\"-filtered-out\");var lastSelectedChartId=params.getCrossFilteringContext().lastSelectedChartId;return params.data.map(d=>{var value=d[category.id];this.crossFilteringAllPoints.add(value);var pointSelected=this.crossFilteringPointSelected(value);if(this.standaloneChartType===\"area\"&&lastSelectedChartId===params.chartId){d[\"\".concat(colId,\"-total\")]=pointSelected?d[colId]:d[colId]+d[filteredOutColId];}if(this.standaloneChartType===\"line\"){d[\"\".concat(colId,\"-total\")]=pointSelected?d[colId]:d[colId]+d[filteredOutColId];}return d;});}crossFilteringAddSelectedPoint(multiSelection,value){multiSelection?this.crossFilteringSelectedPoints.push(value):this.crossFilteringSelectedPoints=[value];}isHorizontal(commonChartOptions){var seriesType=this.standaloneChartType;if(seriesType!==\"waterfall\"&&seriesType!==\"box-plot\"&&seriesType!==\"range-bar\"){return false;}var theme=commonChartOptions.theme;var isHorizontal=theme2=>{var _theme2$overrides;var direction=theme2===null||theme2===void 0||(_theme2$overrides=theme2.overrides)===null||_theme2$overrides===void 0||(_theme2$overrides=_theme2$overrides[seriesType])===null||_theme2$overrides===void 0||(_theme2$overrides=_theme2$overrides.series)===null||_theme2$overrides===void 0?void 0:_theme2$overrides.direction;if(direction!=null){return direction===\"horizontal\";}if(typeof(theme2===null||theme2===void 0?void 0:theme2.baseTheme)===\"object\"){return isHorizontal(theme2.baseTheme);}return false;};return isHorizontal(theme);}};// packages/ag-grid-enterprise/src/charts/chartComp/chartProxies/cartesian/histogramChartProxy.ts\nvar HistogramChartProxy=class extends CartesianChartProxy{getSeries(params){var firstField=params.fields[0];return[{type:this.standaloneChartType,xKey:firstField.colId,xName:firstField.displayName,yName:this.chartProxyParams.translate(\"histogramFrequency\"),areaPlot:false// only constant width is supported via integrated charts\n}];}getAxes(_params){return[{type:\"number\",position:\"bottom\"},{type:\"number\",position:\"left\"}];}};// packages/ag-grid-enterprise/src/charts/chartComp/chartProxies/cartesian/waterfallChartProxy.ts\nvar WaterfallChartProxy=class extends CartesianChartProxy{getAxes(params,commonChartOptions){return[{type:this.getXAxisType(params),position:this.isHorizontal(commonChartOptions)?\"left\":\"bottom\"},{type:\"number\",position:this.isHorizontal(commonChartOptions)?\"bottom\":\"left\"}];}getSeries(params){var _firstField$displayNa;var[category]=params.categories;var[firstField]=params.fields;var firstSeries={type:this.standaloneChartType,xKey:category.id,xName:category.name,yKey:firstField.colId,yName:(_firstField$displayNa=firstField.displayName)!==null&&_firstField$displayNa!==void 0?_firstField$displayNa:void 0};return[firstSeries];}};// packages/ag-grid-enterprise/src/charts/chartComp/chartProxies/funnel/funnelChartProxy.ts\nvar FunnelChartProxy=class extends ChartProxy{getUpdateOptions(params,commonChartOptions){return _objectSpread(_objectSpread({},commonChartOptions),{},{data:this.transformFunnelCategories(params),series:this.getSeries(params)});}transformFunnelCategories(params){var{data}=params;var[{id}]=params.categories;return data.map((d,index)=>_objectSpread(_objectSpread({},d),{},{[id]:{name:d[id],id:index,toString:()=>d[id]}}));}getSeriesChartThemeDefaults(){var config={crosshair:{enabled:false}};return _objectSpread({zoom:{enabled:false}},this.chartType!==\"pyramid\"&&{axes:{category:config,number:config}});}getSeries(params){var[{id}]=params.categories;var[{colId}]=params.fields;var series={type:this.standaloneChartType,stageKey:id,valueKey:colId};return[series];}};// packages/ag-grid-enterprise/src/charts/chartComp/chartProxies/hierarchical/hierarchicalChartProxy.ts\n// packages/ag-grid-enterprise/src/charts/chartComp/chartProxies/hierarchical/hierarchicalChartUtils.ts\nvar CATEGORY_LABEL_KEY=\"AG-GRID-DEFAULT-LABEL-KEY\";function createCategoryHierarchy(data,categoryKeys){var hierarchy=buildNestedHierarchy(data,getItemDepth,getItemCategoryLabel);return formatCategoryHierarchy(hierarchy);function getItemDepth(_item){return categoryKeys.length;}function getItemCategoryLabel(item,categoryIndex){var categoryKey=categoryKeys[categoryIndex];var categoryValue=item[categoryKey];return getCategoryLabel(categoryValue);}function getCategoryLabel(value){if(value==null)return null;return String(value);}}function createAutoGroupHierarchy(data,getItemLabels){var hierarchy=buildNestedHierarchy(data,getItemDepth,getItemGroupLabel);return formatCategoryHierarchy(hierarchy);function getItemDepth(item){var _getItemLabels$length,_getItemLabels;return(_getItemLabels$length=(_getItemLabels=getItemLabels(item))===null||_getItemLabels===void 0?void 0:_getItemLabels.length)!==null&&_getItemLabels$length!==void 0?_getItemLabels$length:0;}function getItemGroupLabel(item,groupIndex){var labels2=getItemLabels(item);if(!labels2)return null;var labelIndex=labels2.length-1-groupIndex;return labels2[labelIndex];}}function formatCategoryHierarchy(hierarchy){var key=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var isChild=arguments.length>2?arguments[2]:undefined;var{depth,rootValues,value,children:inputChildren}=hierarchy;if(rootValues){return rootValues.map(item=>_objectSpread({[CATEGORY_LABEL_KEY]:key},item));}else if(depth===0){return[_objectSpread({[CATEGORY_LABEL_KEY]:key},value)];}var children=[];for(var[childKey,childHierarchy]of inputChildren.entries()){children.push(...formatCategoryHierarchy(childHierarchy,childKey,true));}return isChild?[_objectSpread({[CATEGORY_LABEL_KEY]:key,children},value!==null&&value!==void 0?value:{})]:children;}function buildNestedHierarchy(data,getItemDepth,getItemGroupKey){var hierarchy={depth:0,children:/* @__PURE__ */new Map()};data.forEach(item=>{var itemDepth=getItemDepth(item);createNestedItemHierarchy(item,itemDepth,getItemGroupKey,0,hierarchy);});return hierarchy;function createNestedItemHierarchy(item,itemDepth,getItemGroupKey2,currentDepth,hierarchy2){if(currentDepth===itemDepth){if(currentDepth===0){if(!hierarchy2.rootValues){hierarchy2.rootValues=[];}hierarchy2.rootValues.push(item);}else{hierarchy2.value=item;}return hierarchy2;}else{var key=getItemGroupKey2(item,currentDepth);var existingChildHierarchy=hierarchy2.children.get(key);var childHierarchy=createNestedItemHierarchy(item,itemDepth,getItemGroupKey2,currentDepth+1,existingChildHierarchy||{depth:0,children:/* @__PURE__ */new Map()});hierarchy2.children.set(key,childHierarchy);hierarchy2.depth=Math.max(1+childHierarchy.depth,hierarchy2.depth);return hierarchy2;}}}// packages/ag-grid-enterprise/src/charts/chartComp/chartProxies/hierarchical/hierarchicalChartProxy.ts\nvar HierarchicalChartProxy=class extends ChartProxy{getUpdateOptions(params,commonChartOptions){var{fields}=params;var[sizeField,colorField]=fields;return _objectSpread(_objectSpread({},commonChartOptions),{},{series:this.getSeries(sizeField,colorField),data:this.getData(params,sizeField,colorField)});}getSeriesChartThemeDefaults(){return{gradientLegend:{gradient:{preferredLength:200},position:\"right\"}};}getSeries(sizeField,colorField){var _sizeField$displayNam,_colorField$displayNa;return[{type:this.standaloneChartType,labelKey:CATEGORY_LABEL_KEY,// Size and color fields are inferred from the range data\nsizeKey:sizeField===null||sizeField===void 0?void 0:sizeField.colId,sizeName:(_sizeField$displayNam=sizeField===null||sizeField===void 0?void 0:sizeField.displayName)!==null&&_sizeField$displayNam!==void 0?_sizeField$displayNam:void 0,colorKey:colorField===null||colorField===void 0?void 0:colorField.colId,colorName:(_colorField$displayNa=colorField===null||colorField===void 0?void 0:colorField.displayName)!==null&&_colorField$displayNa!==void 0?_colorField$displayNa:void 0}];}getData(params,sizeField,colorField){var{categories,data,groupData,grouping:isGrouped}=params;if(isGrouped){var _groupData$map;var processedData=colorField?data.concat((_groupData$map=groupData===null||groupData===void 0?void 0:groupData.map(groupDatum=>{var newDatum=_objectSpread({},groupDatum);delete newDatum[sizeField.colId];return newDatum;}))!==null&&_groupData$map!==void 0?_groupData$map:[]):data;return createAutoGroupHierarchy(processedData,item=>{var _item$GROUP_AUTO_COLU,_item$GROUP_AUTO_COLU2;return(_item$GROUP_AUTO_COLU=(_item$GROUP_AUTO_COLU2=item[ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GROUP_AUTO_COLUMN_ID])===null||_item$GROUP_AUTO_COLU2===void 0?void 0:_item$GROUP_AUTO_COLU2.labels)!==null&&_item$GROUP_AUTO_COLU!==void 0?_item$GROUP_AUTO_COLU:null;});}else{var categoryKeys=categories.map(_ref115=>{var{id}=_ref115;return id;});return createCategoryHierarchy(data,categoryKeys);}}};// packages/ag-grid-enterprise/src/charts/chartComp/chartProxies/polar/polarChartProxy.ts\nvar PolarChartProxy=class extends ChartProxy{getAxes(_){var radialBar=this.standaloneChartType===\"radial-bar\";return[{type:radialBar?\"angle-number\":\"angle-category\"},{type:radialBar?\"radius-category\":\"radius-number\"}];}getSeries(params){var{fields,categories,seriesGroupType}=params;var[category]=categories;var radialBar=this.standaloneChartType===\"radial-bar\";var seriesGroupTypeOptions=this.getSeriesGroupTypeOptions(seriesGroupType);return fields.map(f=>{var _f$displayName,_f$displayName2;return _objectSpread({type:this.standaloneChartType,angleKey:radialBar?f.colId:category.id,angleName:radialBar?(_f$displayName=f.displayName)!==null&&_f$displayName!==void 0?_f$displayName:void 0:category.name,radiusKey:radialBar?category.id:f.colId,radiusName:radialBar?category.name:(_f$displayName2=f.displayName)!==null&&_f$displayName2!==void 0?_f$displayName2:void 0},seriesGroupTypeOptions);});}getSeriesGroupType(){var _this$getChart$series;var standaloneChartType=this.standaloneChartType;if(![\"nightingale\",\"radial-bar\",\"radial-column\"].includes(standaloneChartType)){return void 0;}var firstSeriesProperties=(_this$getChart$series=this.getChart().series)===null||_this$getChart$series===void 0||(_this$getChart$series=_this$getChart$series[0])===null||_this$getChart$series===void 0?void 0:_this$getChart$series.properties.toJson();var getStackedValue=()=>firstSeriesProperties.normalizedTo?\"normalized\":\"stacked\";if(standaloneChartType===\"nightingale\"){return firstSeriesProperties.grouped?\"grouped\":getStackedValue();}else{return firstSeriesProperties.stacked?getStackedValue():\"grouped\";}}getUpdateOptions(params,commonChartOptions){var axes=this.getAxes(params);return _objectSpread(_objectSpread({},commonChartOptions),{},{data:this.getData(params,axes),axes,series:this.getSeries(params)});}getData(params,axes){var isCategoryAxis=axes.some(axis=>axis.type===\"angle-category\"||axis.type===\"radius-category\");if(isCategoryAxis){var[category]=params.categories;return this.transformCategoryData(params.data,category.id);}else{return params.data;}}getSeriesGroupTypeOptions(seriesGroupType){if(!seriesGroupType){return{};}return{grouped:seriesGroupType===\"grouped\"||void 0,stacked:seriesGroupType!==\"grouped\"||void 0,normalizedTo:seriesGroupType===\"normalized\"?100:void 0};}};// packages/ag-grid-enterprise/src/charts/chartComp/utils/array.ts\nfunction flatMap(items,iteratee){return items.reduce((acc,item,index,array)=>acc.concat(iteratee(item,index,array)),new Array());}// packages/ag-grid-enterprise/src/charts/chartComp/chartProxies/specialized/heatmapChartProxy.ts\nvar HEATMAP_CATEGORY_KEY=\"AG-GRID-DEFAULT-HEATMAP-CATEGORY-KEY\";var HEATMAP_SERIES_KEY=\"AG-GRID-DEFAULT-HEATMAP-SERIES-KEY\";var HEATMAP_VALUE_KEY=\"AG-GRID-DEFAULT-HEATMAP-VALUE-KEY\";var HeatmapChartProxy=class extends ChartProxy{getUpdateOptions(params,commonChartOptions){var xSeriesKey=HEATMAP_SERIES_KEY;var xValueKey=HEATMAP_VALUE_KEY;var yKey=HEATMAP_CATEGORY_KEY;return _objectSpread(_objectSpread({},commonChartOptions),{},{series:this.getSeries(params,xSeriesKey,xValueKey,yKey),data:this.getData(params,xSeriesKey,xValueKey,yKey)});}getSeries(params,xSeriesKey,xValueKey,yKey){var[category]=params.categories;return[{type:this.standaloneChartType,// The axis keys reference synthetic fields based on the category values and series column names\nyKey,xKey:xSeriesKey,// The color key references a synthetic field based on the series column value for a specific cell\ncolorKey:xValueKey,yName:category.name,// We don't know how to label the 'x' series, as it is a synthetic series created from the set of all input columns\n// In future releases we may want to consider inferring the series label from column groupings etc\nxName:void 0,colorName:void 0}];}getData(params,xSeriesKey,xValueKey,yKey){var[category]=params.categories;return flatMap(params.data,(datum,index)=>{var value=datum[category.id];var valueString=value==null?\"\":String(value);var yValue={id:index,value,toString:()=>valueString};return params.fields.map(_ref116=>{var{colId,displayName}=_ref116;return _objectSpread(_objectSpread({},datum),{},{[xSeriesKey]:displayName,[xValueKey]:datum[colId],[yKey]:yValue});});});}getSeriesChartThemeDefaults(){return{gradientLegend:{gradient:{preferredLength:200},position:\"right\"},series:{tooltip:{renderer:renderHeatmapTooltip}}};}};function renderHeatmapTooltip(params){var{xKey,yKey,colorKey,yName,datum}=params;var table=[{label:yName,value:datum[yKey]},{label:datum[xKey],value:colorKey&&datum[colorKey]}];return{title:\"\",data:table.map(_ref117=>{var{label,value}=_ref117;return{label:String(label),value:String(value)};})};}// packages/ag-grid-enterprise/src/charts/chartComp/model/chartDataModel.ts\n// packages/ag-grid-enterprise/src/charts/chartComp/datasource/chartDatasource.ts\nvar ChartDatasource=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BeanStub{wireBeans(beans){this.sortSvc=beans.sortSvc;this.gridRowModel=beans.rowModel;this.colModel=beans.colModel;this.valueSvc=beans.valueSvc;this.pivotResultCols=beans.pivotResultCols;this.rowNodeSorter=beans.rowNodeSorter;}getData(params){if(params.crossFiltering){if(params.grouping){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(141);return{chartData:[],colNames:{}};}if(!(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isClientSideRowModel)(this.gos)){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(142);return{chartData:[],colNames:{}};}}var isServerSide=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isServerSideRowModel)(this.gos);if(isServerSide&&params.pivoting){this.updatePivotKeysForSSRM();}var result=this.extractRowsFromGridRowModel(params);result.chartData=this.aggregateRowsByDimension(params,result.chartData);return result;}extractRowsFromGridRowModel(params){var _this18=this;var{crossFiltering,startRow,endRow,valueCols,dimensionCols,grouping}=params;var extractedRowData=[];var colNames={};var groupNodeIndexes={};var groupsToRemove={};var filteredNodes={};var allRowNodes=[];var numRows;if(crossFiltering){filteredNodes=this.getFilteredRowNodes();allRowNodes=this.getAllRowNodes();numRows=allRowNodes.length;}else{var modelLastRow=this.gridRowModel.getRowCount()-1;var hasNoRange=startRow===endRow&&startRow===0&&dimensionCols.length===0&&valueCols.length===0;if(hasNoRange){numRows=0;}else{var rangeLastRow=endRow>=0?Math.min(endRow,modelLastRow):modelLastRow;numRows=rangeLastRow-startRow+1;}}if(numRows>0){valueCols.forEach(col=>{var colNamesArr=[];var pivotKeys=col.getColDef().pivotKeys;if(pivotKeys){colNamesArr=pivotKeys.slice();}var headerName=col.getColDef().headerName;if(headerName){colNamesArr.push(headerName);}if(colNamesArr.length>0){colNames[col.getId()]=colNamesArr;}});}var numRemovedNodes=0;var id=0;var groupingCache={};var _loop11=function _loop11(i){var rowNode=crossFiltering?allRowNodes[i]:_this18.gridRowModel.getRow(i+startRow);if(rowNode.footer||rowNode.detail){numRemovedNodes++;return 1;// continue\n}var data={};dimensionCols.forEach(col=>{var colId=col.colId;var column=_this18.colModel.getCol(colId);if(column){var valueObject=_this18.valueSvc.getValue(column,rowNode);if(grouping){var valueString=valueObject!==null&&valueObject!==void 0&&valueObject.toString?String(valueObject.toString()):\" \";var labels2=_this18.getGroupLabels(rowNode,valueString);var value=labels2.slice().reverse();var groupingValue={value,// this is needed so that standalone can handle animations properly when data updates\nid:id++,toString:()=>value.filter(Boolean).join(\" - \")};var groupingKey=groupingValue.toString();var cachedGroupingValue=groupingCache[groupingKey];data[colId]=cachedGroupingValue?cachedGroupingValue:groupingCache[groupingKey]=groupingValue;if(rowNode.group){groupNodeIndexes[labels2.toString()]=i-numRemovedNodes;}var groupKey=labels2.slice(1,labels2.length).toString();if(groupKey){groupsToRemove[groupKey]=groupNodeIndexes[groupKey];}}else{data[colId]=valueObject;}}else{data[DEFAULT_CHART_CATEGORY]=i+1;}});valueCols.forEach(col=>{var colId=col.getColId();if(crossFiltering){var filteredOutColId=colId+\"-filtered-out\";var value=_this18.valueSvc.getValue(col,rowNode);var actualValue=value;if(value!=null){if(typeof value.toNumber===\"function\"){actualValue=value.toNumber();}else if(typeof value.value===\"number\"){actualValue=value.value;}}if(filteredNodes[rowNode.id]){data[colId]=actualValue;data[filteredOutColId]=params.aggFunc||params.isScatter?void 0:0;}else{data[colId]=params.aggFunc||params.isScatter?void 0:0;data[filteredOutColId]=actualValue;}}else{var _value5=_this18.valueSvc.getValue(col,rowNode);if(_value5&&typeof _value5.value===\"number\"){_value5=_value5.value;}if(_value5&&Object.prototype.hasOwnProperty.call(_value5,\"toString\")){_value5=parseFloat(_value5.toString());}data[colId]=_value5!=null&&typeof _value5.toNumber===\"function\"?_value5.toNumber():_value5;}});extractedRowData.push(data);};for(var i=0;i<numRows;i++){if(_loop11(i))continue;}var groupChartData;if(grouping){var groupIndexesToRemove=Object.values(groupsToRemove);var allData=extractedRowData;extractedRowData=[];groupChartData=[];for(var _i7=0;_i7<allData.length;_i7++){(groupIndexesToRemove.includes(_i7)?groupChartData:extractedRowData).push(allData[_i7]);}}return{chartData:extractedRowData,colNames,groupChartData};}aggregateRowsByDimension(params,dataFromGrid){var dimensionCols=params.dimensionCols;if(!params.aggFunc||dimensionCols.length===0){return dataFromGrid;}var lastCol=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._last)(dimensionCols);var lastColId=lastCol&&lastCol.colId;var map={};var dataAggregated=[];dataFromGrid.forEach(data=>{var currentMap=map;dimensionCols.forEach(col=>{var colId=col.colId;var key=data[colId];if(colId===lastColId){var groupItem=currentMap[key];if(!groupItem){groupItem={__children:[]};dimensionCols.forEach(dimCol=>{var dimColId=dimCol.colId;groupItem[dimColId]=data[dimColId];});currentMap[key]=groupItem;dataAggregated.push(groupItem);}groupItem.__children.push(data);}else{if(!currentMap[key]){currentMap[key]={};}currentMap=currentMap[key];}});});if(this.gos.assertModuleRegistered(\"SharedAggregation\",1)){dataAggregated.forEach(groupItem=>params.valueCols.forEach(col=>{var colId=col.getColId();if(params.crossFiltering){var dataToAgg=groupItem.__children.filter(child=>typeof child[colId]!==\"undefined\").map(child=>child[colId]);var aggResult=_aggregateValues(this.beans,dataToAgg,params.aggFunc,col);groupItem[colId]=aggResult&&typeof aggResult.value!==\"undefined\"?aggResult.value:aggResult;var filteredOutColId=\"\".concat(colId,\"-filtered-out\");var dataToAggFiltered=groupItem.__children.filter(child=>typeof child[filteredOutColId]!==\"undefined\").map(child=>child[filteredOutColId]);var aggResultFiltered=_aggregateValues(this.beans,dataToAggFiltered,params.aggFunc,col);groupItem[filteredOutColId]=aggResultFiltered&&typeof aggResultFiltered.value!==\"undefined\"?aggResultFiltered.value:aggResultFiltered;}else{var _dataToAgg=groupItem.__children.map(child=>child[colId]);var _aggResult=_aggregateValues(this.beans,_dataToAgg,params.aggFunc,col);groupItem[colId]=_aggResult&&typeof _aggResult.value!==\"undefined\"?_aggResult.value:_aggResult;}}));}return dataAggregated;}updatePivotKeysForSSRM(){var _this$pivotResultCols9;var secondaryColumns=(_this$pivotResultCols9=this.pivotResultCols)===null||_this$pivotResultCols9===void 0||(_this$pivotResultCols9=_this$pivotResultCols9.getPivotResultCols())===null||_this$pivotResultCols9===void 0?void 0:_this$pivotResultCols9.list;if(!secondaryColumns){return;}var pivotKeySeparator=this.extractPivotKeySeparator(secondaryColumns);secondaryColumns.forEach(col=>{if(pivotKeySeparator===\"\"){col.getColDef().pivotKeys=[];}else{var keys=col.getColId().split(pivotKeySeparator);col.getColDef().pivotKeys=keys.slice(0,keys.length-1);}});}extractPivotKeySeparator(secondaryColumns){if(secondaryColumns.length===0){return\"\";}var extractSeparator=(columnGroup,childId)=>{var groupId=columnGroup.getGroupId();if(!columnGroup.getParent()){return childId.split(groupId)[1][0];}return extractSeparator(columnGroup.getParent(),groupId);};var firstSecondaryCol=secondaryColumns[0];if(firstSecondaryCol.getParent()==null){return\"\";}return extractSeparator(firstSecondaryCol.getParent(),firstSecondaryCol.getColId());}getGroupLabels(rowNode,initialLabel){var labels2=[initialLabel];while(rowNode&&rowNode.level!==0){rowNode=rowNode.parent;if(rowNode){if(rowNode.group){var groupColumn=this.colModel.getCol(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GROUP_AUTO_COLUMN_ID);if(groupColumn){var valueObject=this.valueSvc.getValue(groupColumn,rowNode);var valueString=valueObject!==null&&valueObject!==void 0&&valueObject.toString?String(valueObject.toString()):\" \";labels2.push(valueString);}}else{labels2.push(rowNode.key);}}}return labels2;}getFilteredRowNodes(){var filteredNodes={};this.gridRowModel.forEachNodeAfterFilterAndSort(rowNode=>{filteredNodes[rowNode.id]=rowNode;});return filteredNodes;}getAllRowNodes(){var allRowNodes=[];this.gridRowModel.forEachNode(rowNode=>{allRowNodes.push(rowNode);});return this.sortRowNodes(allRowNodes);}sortRowNodes(rowNodes){var _this$sortSvc4;var sortOptions=(_this$sortSvc4=this.sortSvc)===null||_this$sortSvc4===void 0?void 0:_this$sortSvc4.getSortOptions();if(!sortOptions||sortOptions.length==0||!this.rowNodeSorter){return rowNodes;}return this.rowNodeSorter.doFullSort(rowNodes,sortOptions);}};// packages/ag-grid-enterprise/src/charts/chartComp/services/chartColumnService.ts\nvar ChartColumnService=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BeanStub{constructor(){super(...arguments);this.beanName=\"chartColSvc\";this.valueColsWithoutSeriesType=/* @__PURE__ */new Set();}wireBeans(beans){this.colModel=beans.colModel;this.colNames=beans.colNames;this.valueSvc=beans.valueSvc;}postConstruct(){var clearValueCols=()=>this.valueColsWithoutSeriesType.clear();this.addManagedEventListeners({newColumnsLoaded:clearValueCols,rowDataUpdated:clearValueCols});}getColumn(colId){return this.colModel.getColDefCol(colId);}getAllDisplayedColumns(){return this.beans.visibleCols.allCols;}getColDisplayName(col,includePath){var headerLocation=\"chart\";var columnDisplayName=this.colNames.getDisplayNameForColumn(col,headerLocation);if(includePath){var displayNames=[columnDisplayName];var getDisplayName2=colGroup=>{if(!colGroup){return;}var colGroupName=this.colNames.getDisplayNameForColumnGroup(colGroup,headerLocation);if(colGroupName!==null&&colGroupName!==void 0&&colGroupName.length){displayNames.unshift(colGroupName);getDisplayName2(colGroup.getParent());}};getDisplayName2(col.getParent());return displayNames.join(\" - \");}return columnDisplayName;}getRowGroupColumns(){var _this$beans$rowGroupC1,_this$beans$rowGroupC10;return(_this$beans$rowGroupC1=(_this$beans$rowGroupC10=this.beans.rowGroupColsSvc)===null||_this$beans$rowGroupC10===void 0?void 0:_this$beans$rowGroupC10.columns)!==null&&_this$beans$rowGroupC1!==void 0?_this$beans$rowGroupC1:[];}getGroupDisplayColumns(){var _this$beans$showRowGr8,_this$beans$showRowGr9;return(_this$beans$showRowGr8=(_this$beans$showRowGr9=this.beans.showRowGroupCols)===null||_this$beans$showRowGr9===void 0?void 0:_this$beans$showRowGr9.getShowRowGroupCols())!==null&&_this$beans$showRowGr8!==void 0?_this$beans$showRowGr8:[];}isPivotMode(){return this.colModel.isPivotMode();}isPivotActive(){return this.colModel.isPivotActive();}getChartColumns(){var gridCols=this.colModel.getCols();var dimensionCols=/* @__PURE__ */new Set();var valueCols=/* @__PURE__ */new Set();gridCols.forEach(col=>{var colDef=col.getColDef();var chartDataType=colDef.chartDataType;if(chartDataType){switch(chartDataType){case\"category\":case\"time\":dimensionCols.add(col);return;case\"series\":valueCols.add(col);return;case\"excluded\":return;default:(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(153,{chartDataType});break;}}if(colDef.colId===\"ag-Grid-AutoColumn\"){dimensionCols.add(col);return;}if(!col.isPrimary()){valueCols.add(col);return;}(this.isInferredValueCol(col)?valueCols:dimensionCols).add(col);});return{dimensionCols,valueCols};}isInferredValueCol(col){var colId=col.getColId();if(colId===\"ag-Grid-AutoColumn\"){return false;}var row=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getRowNode)(this.beans,{rowIndex:0,rowPinned:null});if(!row){return this.valueColsWithoutSeriesType.has(colId);}var cellValue=this.valueSvc.getValue(col,row);if(cellValue==null){cellValue=this.extractLeafData(row,col);}if(cellValue!=null){if(typeof cellValue.toNumber===\"function\"){cellValue=cellValue.toNumber();}else if(typeof cellValue.value===\"number\"){cellValue=cellValue.value;}}var isNumber=typeof cellValue===\"number\"||col.colDef.cellDataType===\"number\"||[\"series\",\"time\"].includes(col.colDef.chartDataType);if(isNumber){this.valueColsWithoutSeriesType.add(colId);}else if(cellValue==null&&col.colDef.cellDataType!==\"number\"){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(265,{colId});}return isNumber;}extractLeafData(row,col){if(!row.allLeafChildren){return null;}for(var i=0;i<row.allLeafChildren.length;i++){var childRow=row.allLeafChildren[i];var value=this.valueSvc.getValue(col,childRow);if(value!=null){return value;}}return null;}destroy(){this.valueColsWithoutSeriesType.clear();super.destroy();}};// packages/ag-grid-enterprise/src/charts/chartComp/model/comboChartModel.ts\nvar SUPPORTED_COMBO_CHART_TYPES=/* @__PURE__ */new Set([\"line\",\"groupedColumn\",\"stackedColumn\",\"area\",\"stackedArea\"]);var ComboChartModel=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BeanStub{constructor(chartDataModel){var _chartDataModel$param;super();// this control flag is used to only log warning for the initial user config\nthis.suppressComboChartWarnings=false;this.chartDataModel=chartDataModel;this.seriesChartTypes=(_chartDataModel$param=chartDataModel.params.seriesChartTypes)!==null&&_chartDataModel$param!==void 0?_chartDataModel$param:[];}postConstruct(){this.initComboCharts();}update(seriesChartTypes){this.seriesChartTypes=seriesChartTypes!==null&&seriesChartTypes!==void 0?seriesChartTypes:this.seriesChartTypes;this.initComboCharts();this.updateSeriesChartTypes();}initComboCharts(){var seriesChartTypesExist=this.seriesChartTypes&&this.seriesChartTypes.length>0;var customCombo=this.chartDataModel.chartType===\"customCombo\"||seriesChartTypesExist;if(customCombo){this.chartDataModel.chartType=\"customCombo\";this.savedCustomSeriesChartTypes=this.seriesChartTypes||[];}}updateSeriesChartTypes(){if(!this.chartDataModel.isComboChart()){return;}this.seriesChartTypes=this.seriesChartTypes.map(seriesChartType=>{var primaryOnly=[\"groupedColumn\",\"stackedColumn\",\"stackedArea\"].includes(seriesChartType.chartType);seriesChartType.secondaryAxis=primaryOnly?false:seriesChartType.secondaryAxis;return seriesChartType;});if(this.chartDataModel.chartType===\"customCombo\"){this.updateSeriesChartTypesForCustomCombo();return;}this.updateChartSeriesTypesForBuiltInCombos();}updateSeriesChartTypesForCustomCombo(){var seriesChartTypesSupplied=this.seriesChartTypes&&this.seriesChartTypes.length>0;if(!seriesChartTypesSupplied&&!this.suppressComboChartWarnings){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(150);}this.seriesChartTypes=this.seriesChartTypes.map(s=>{if(!SUPPORTED_COMBO_CHART_TYPES.has(s.chartType)){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(151,{chartType:s.chartType});s.chartType=\"line\";}return s;});var getSeriesChartType=valueCol=>{if(!this.savedCustomSeriesChartTypes||this.savedCustomSeriesChartTypes.length===0){this.savedCustomSeriesChartTypes=this.seriesChartTypes;}var providedSeriesChartType=this.savedCustomSeriesChartTypes.find(s=>s.colId===valueCol.colId);if(!providedSeriesChartType){if(valueCol.selected&&!this.suppressComboChartWarnings){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(152,{colId:valueCol.colId});}return{colId:valueCol.colId,chartType:\"line\",secondaryAxis:false};}return providedSeriesChartType;};var updatedSeriesChartTypes=this.chartDataModel.valueColState.map(getSeriesChartType);this.seriesChartTypes=updatedSeriesChartTypes;this.savedCustomSeriesChartTypes=updatedSeriesChartTypes;this.suppressComboChartWarnings=true;}updateChartSeriesTypesForBuiltInCombos(){var{chartType,valueColState}=this.chartDataModel;var primaryChartType=chartType===\"columnLineCombo\"?\"groupedColumn\":\"stackedArea\";var secondaryChartType=chartType===\"columnLineCombo\"?\"line\":\"groupedColumn\";var selectedCols=valueColState.filter(cs=>cs.selected);var lineIndex=Math.ceil(selectedCols.length/2);this.seriesChartTypes=selectedCols.map((valueCol,i)=>{var seriesType=i>=lineIndex?secondaryChartType:primaryChartType;return{colId:valueCol.colId,chartType:seriesType,secondaryAxis:false};});}};// packages/ag-grid-enterprise/src/charts/chartComp/model/chartDataModel.ts\nvar DEFAULT_CHART_CATEGORY=\"AG-GRID-DEFAULT-CATEGORY\";var ChartDataModel=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BeanStub{constructor(params){super();this.unlinked=false;this.chartData=[];this.valueColState=[];this.dimensionColState=[];this.colNames={};this.crossFiltering=false;this.grouping=false;this.params=params;this.chartId=params.chartId;this.setParams(params);}wireBeans(beans){this.rangeSvc=beans.rangeSvc;this.chartTranslation=beans.chartTranslation;}setParams(params){var{chartType,pivotChart,chartThemeName,switchCategorySeries,aggFunc,cellRange,suppressChartRanges,unlinkChart,crossFiltering,seriesGroupType}=params;this.chartType=chartType;this.pivotChart=pivotChart!==null&&pivotChart!==void 0?pivotChart:false;this.chartThemeName=chartThemeName;this.switchCategorySeries=!!switchCategorySeries;this.aggFunc=aggFunc;this.referenceCellRange=cellRange;this.suppliedCellRange=cellRange;this.suppressChartRanges=suppressChartRanges!==null&&suppressChartRanges!==void 0?suppressChartRanges:false;this.unlinked=!!unlinkChart;this.crossFiltering=!!crossFiltering;this.seriesGroupType=seriesGroupType;}postConstruct(){this.datasource=this.createManagedBean(new ChartDatasource());this.chartColSvc=this.createManagedBean(new ChartColumnService());this.comboChartModel=this.createManagedBean(new ComboChartModel(this));this.updateCellRanges({setColsFromRange:true});this.updateData();}updateModel(params){var{cellRange,seriesChartTypes}=params;if(cellRange!==this.suppliedCellRange){this.dimensionCellRange=void 0;this.valueCellRange=void 0;}this.setParams(params);this.updateSelectedDimensions(cellRange===null||cellRange===void 0?void 0:cellRange.columns);this.updateCellRanges({setColsFromRange:true});var shouldUpdateComboModel=this.isComboChart()||seriesChartTypes;if(shouldUpdateComboModel){this.comboChartModel.update(seriesChartTypes);}if(!this.unlinked){this.updateData();}}updateCellRanges(params){var{updatedColState,resetOrder,maintainColState,setColsFromRange}=params!==null&&params!==void 0?params:{};if(this.valueCellRange){this.referenceCellRange=this.valueCellRange;}var{dimensionCols,valueCols}=this.chartColSvc.getChartColumns();var allColsFromRanges=this.getAllColumnsFromRanges();if(updatedColState){this.updateColumnState(updatedColState,resetOrder);}this.setDimensionCellRange(dimensionCols,allColsFromRanges,updatedColState);this.setValueCellRange(valueCols,allColsFromRanges,setColsFromRange);if(!updatedColState&&!maintainColState){this.resetColumnState();this.syncDimensionCellRange();}this.comboChartModel.updateSeriesChartTypes();}updateData(){var{startRow,endRow}=this.getRowIndexes();if(this.pivotChart){this.resetColumnState();}this.grouping=this.isGrouping();var params={aggFunc:this.aggFunc,dimensionCols:this.getSelectedDimensions(),grouping:this.grouping,pivoting:this.isPivotActive(),crossFiltering:this.crossFiltering,valueCols:this.getSelectedValueCols(),startRow,endRow,isScatter:[\"scatter\",\"bubble\"].includes(this.chartType)};var{chartData,colNames,groupChartData}=this.datasource.getData(params);this.chartData=chartData;this.groupChartData=groupChartData;this.colNames=colNames;this.categoryAxisType=void 0;}isGrouping(){var usingTreeData=this.gos.get(\"treeData\");var groupedCols=usingTreeData?null:this.chartColSvc.getRowGroupColumns();var isGroupActive=usingTreeData||groupedCols&&groupedCols.length>0;var colIds=this.getSelectedDimensions().map(_ref118=>{var{colId}=_ref118;return colId;});var displayedGroupCols=this.chartColSvc.getGroupDisplayColumns();var groupDimensionSelected=displayedGroupCols.map(col=>col.getColId()).some(id=>colIds.includes(id));return!!isGroupActive&&groupDimensionSelected;}getSelectedValueCols(){return this.valueColState.filter(cs=>cs.selected).map(cs=>cs.column);}getSelectedDimensions(){return this.dimensionColState.filter(cs=>cs.selected);}getColDisplayName(col,includePath){return this.chartColSvc.getColDisplayName(col,includePath);}isPivotMode(){return this.chartColSvc.isPivotMode();}getChartDataType(colId){var column=this.chartColSvc.getColumn(colId);return column?column.getColDef().chartDataType:void 0;}isPivotActive(){return this.chartColSvc.isPivotActive();}createCellRange(type){for(var _len6=arguments.length,columns=new Array(_len6>1?_len6-1:0),_key6=1;_key6<_len6;_key6++){columns[_key6-1]=arguments[_key6];}return{id:this.chartId,// set range ID to match chart ID so we can identify changes to the ranges for this chart\nstartRow:this.referenceCellRange.startRow,endRow:this.referenceCellRange.endRow,columns,startColumn:type===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.CellRangeType.DIMENSION||this.referenceCellRange.startColumn==null?columns[0]:this.referenceCellRange.startColumn,type};}getAllColumnsFromRanges(){if(this.pivotChart){return new Set(this.chartColSvc.getAllDisplayedColumns());}var columns=this.dimensionCellRange||this.valueCellRange?[]:this.referenceCellRange.columns;if(this.dimensionCellRange){columns.push(...this.dimensionCellRange.columns);}if(this.valueCellRange){columns.push(...this.valueCellRange.columns);}return new Set(columns);}getRowIndexes(){var startRow=0,endRow=0;var{rangeSvc,valueCellRange,dimensionCellRange}=this;var cellRange=valueCellRange||dimensionCellRange;if(rangeSvc&&cellRange){startRow=rangeSvc.getRangeStartRow(cellRange).rowIndex;var endRowPosition=rangeSvc.getRangeEndRow(cellRange);endRow=endRowPosition.rowPinned===\"bottom\"?-1:endRowPosition.rowIndex;}return{startRow,endRow};}resetColumnState(){var{dimensionCols,valueCols}=this.chartColSvc.getChartColumns();var allCols=this.getAllColumnsFromRanges();var isInitialising=this.valueColState.length<1;this.dimensionColState=[];this.valueColState=[];var supportsMultipleDimensions=isHierarchical(getSeriesType(this.chartType));var hasSelectedDimension=false;var order=1;var aggFuncDimension=this.suppliedCellRange.columns[0];dimensionCols.forEach(column=>{var isAutoGroupCol=column.getColId()===\"ag-Grid-AutoColumn\";var selected=false;if(this.crossFiltering&&this.aggFunc){if(aggFuncDimension.getColId()===column.getColId()){selected=true;}}else{selected=isAutoGroupCol?true:(!hasSelectedDimension||supportsMultipleDimensions)&&allCols.has(column);}this.dimensionColState.push({column,colId:column.getColId(),displayName:this.getColDisplayName(column),selected,order:order++});if(selected){hasSelectedDimension=true;}});var defaultCategory={colId:DEFAULT_CHART_CATEGORY,displayName:this.chartTranslation.translate(\"defaultCategory\"),selected:!hasSelectedDimension,// if no dimensions in range select the default\norder:0};this.dimensionColState.unshift(defaultCategory);var valueColumnsFromReferenceRange=this.referenceCellRange.columns.filter(c=>valueCols.has(c));valueCols.forEach(column=>{if(isInitialising&&this.referenceCellRange.columns.includes(column)){column=valueColumnsFromReferenceRange.shift();}this.valueColState.push({column,colId:column.getColId(),displayName:this.getColDisplayName(column),selected:allCols.has(column),order:order++});});}updateColumnState(updatedCol,resetOrder){var idsMatch=cs=>cs.colId===updatedCol.colId;var{dimensionColState,valueColState}=this;var matchedDimensionColState=dimensionColState.find(idsMatch);var matchedValueColState=valueColState.find(idsMatch);if(matchedDimensionColState){var supportsMultipleDimensions=isHierarchical(getSeriesType(this.chartType));if(!supportsMultipleDimensions){var selectedColumnState=updatedCol.selected?matchedDimensionColState:dimensionColState.filter(cs=>cs!==matchedDimensionColState).find(_ref119=>{var{selected}=_ref119;return selected;});dimensionColState.forEach(cs=>cs.selected=cs===selectedColumnState);}else{matchedDimensionColState.selected=updatedCol.selected;}}else if(matchedValueColState){matchedValueColState.selected=updatedCol.selected;}var allColumns=[...dimensionColState,...valueColState];var orderedColIds=[];if(!resetOrder){allColumns.forEach((col,i)=>{if(i===updatedCol.order){orderedColIds.push(updatedCol.colId);}if(col.colId!==updatedCol.colId){orderedColIds.push(col.colId);}});allColumns.forEach(col=>{var order=orderedColIds.indexOf(col.colId);col.order=order>=0?orderedColIds.indexOf(col.colId):allColumns.length-1;});}this.reorderColState();}reorderColState(){var ascColStateOrder=(a,b)=>a.order-b.order;this.dimensionColState.sort(ascColStateOrder);this.valueColState.sort(ascColStateOrder);}setDimensionCellRange(dimensionCols,colsInRange,updatedColState){this.dimensionCellRange=void 0;var supportsMultipleDimensions=isHierarchical(getSeriesType(this.chartType));if(!updatedColState&&!this.dimensionColState.length){var selectedCols=new Array();dimensionCols.forEach(col=>{if(selectedCols.length>0&&!supportsMultipleDimensions||!colsInRange.has(col)){return;}selectedCols.push(col);});if(selectedCols.length>0){this.dimensionCellRange=this.createCellRange(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.CellRangeType.DIMENSION,...selectedCols);}return;}var selectedDimensionColStates=updatedColState?[updatedColState]:[];if(this.crossFiltering&&this.aggFunc){var aggFuncDimension=this.suppliedCellRange.columns[0];selectedDimensionColStates=this.dimensionColState.filter(cs=>cs.colId===aggFuncDimension.getColId());}else if(supportsMultipleDimensions||selectedDimensionColStates.length===0||selectedDimensionColStates.some(_ref120=>{var{column}=_ref120;return!column||!dimensionCols.has(column);})){selectedDimensionColStates=this.dimensionColState.filter(cs=>cs.selected);}var isDefaultCategory=selectedDimensionColStates.length===1?selectedDimensionColStates[0].colId===DEFAULT_CHART_CATEGORY:false;var selectedColumns=selectedDimensionColStates.map(_ref121=>{var{column}=_ref121;return column;}).filter(value=>value!=null);if(selectedColumns.length>0&&!isDefaultCategory){this.dimensionCellRange=this.createCellRange(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.CellRangeType.DIMENSION,...selectedColumns);}}setValueCellRange(valueCols,colsInRange,setColsFromRange){this.valueCellRange=void 0;var selectedValueCols=[];var maxSelection=getMaxNumSeries(this.chartType);var numSelected=0;valueCols.forEach(col=>{if(setColsFromRange){if((maxSelection==null||numSelected<maxSelection)&&colsInRange.has(col)){selectedValueCols.push(col);numSelected++;}}else{if(this.valueColState.some(colState=>colState.selected&&colState.colId===col.getColId())){selectedValueCols.push(col);}}});if(selectedValueCols.length>0){var orderedColIds=[];if(this.valueColState.length>0){orderedColIds=this.valueColState.map(c=>c.colId);}else{colsInRange.forEach(c=>orderedColIds.push(c.getColId()));}selectedValueCols.sort((a,b)=>orderedColIds.indexOf(a.getColId())-orderedColIds.indexOf(b.getColId()));this.valueCellRange=this.createCellRange(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.CellRangeType.VALUE,...selectedValueCols);}}resetCellRanges(dimension,value){if(!dimension&&!value){return;}var{dimensionCols,valueCols}=this.chartColSvc.getChartColumns();var allColsFromRanges=this.getAllColumnsFromRanges();if(dimension){this.setDimensionCellRange(dimensionCols,allColsFromRanges);}if(value){this.setValueCellRange(valueCols,allColsFromRanges);}}updateSelectedDimensions(columns){var colIdSet=new Set(columns.map(column=>column.getColId()));var supportsMultipleDimensions=isHierarchical(getSeriesType(this.chartType));if(!supportsMultipleDimensions){var foundColState=this.dimensionColState.find(colState=>colIdSet.has(colState.colId))||this.dimensionColState[0];var selectedColumnId=foundColState.colId;this.dimensionColState=this.dimensionColState.map(colState=>_objectSpread(_objectSpread({},colState),{},{selected:colState.colId===selectedColumnId}));}else{var foundColStates=this.dimensionColState.filter(colState=>colIdSet.has(colState.colId));var selectedColumnIds=new Set(foundColStates.map(colState=>colState.colId));this.dimensionColState=this.dimensionColState.map(colState=>_objectSpread(_objectSpread({},colState),{},{selected:selectedColumnIds.has(colState.colId)}));}}syncDimensionCellRange(){var selectedDimensions=this.getSelectedDimensions();if(selectedDimensions.length===0)return;var selectedCols=selectedDimensions.map(_ref122=>{var{column}=_ref122;return column;}).filter(value=>value!=null);if(selectedCols.length>0){this.dimensionCellRange=this.createCellRange(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.CellRangeType.DIMENSION,...selectedCols);}}isComboChart(chartType){return isComboChart(chartType!==null&&chartType!==void 0?chartType:this.chartType);}};// packages/ag-grid-enterprise/src/charts/chartComp/chartProxies/statistical/statisticalChartProxy.ts\nvar StatisticalChartProxy=class extends CartesianChartProxy{getAxes(params,commonChartOptions){return[{type:this.getXAxisType(params),position:this.isHorizontal(commonChartOptions)?\"left\":\"bottom\"},{type:\"number\",position:this.isHorizontal(commonChartOptions)?\"bottom\":\"left\"}];}computeSeriesStatistics(params,computeStatsFn){var{data,fields}=params;var[category]=params.categories;var categoryKey=category.id||DEFAULT_CHART_CATEGORY;var groupedData=this.groupDataByCategory(categoryKey,data);return Array.from(groupedData).map(_ref123=>{var[categoryValue,categoryData]=_ref123;var categoryResult={[category.id]:categoryValue};fields.forEach((field,seriesIndex)=>{var seriesValues=categoryData.map(datum=>datum[field.colId]).filter(value=>typeof value===\"number\"&&!isNaN(value));var computed=computeStatsFn(seriesValues);for(var statKey of Object.keys(computed)){var propertyKey=\"\".concat(statKey,\":\").concat(seriesIndex);categoryResult[propertyKey]=seriesValues.length>0?computed[statKey]:null;}});return categoryResult;});}groupDataByCategory(categoryKey,data){var getCategory=datum=>{if(categoryKey===DEFAULT_CHART_CATEGORY){return 1;}var categoryValue=datum[categoryKey];if(categoryValue===null||categoryValue===void 0){return\"\";}return categoryValue instanceof Date?categoryValue.getTime():categoryValue;};return data.reduce((acc,datum)=>{var category=getCategory(datum);var existingCategoryData=acc.get(category);if(existingCategoryData){existingCategoryData.push(datum);}else{acc.set(category,[datum]);}return acc;},/* @__PURE__ */new Map());}};// packages/ag-grid-enterprise/src/charts/chartComp/chartProxies/statistical/boxPlotChartProxy.ts\nvar BoxPlotChartProxy=class extends StatisticalChartProxy{getSeries(params){var[category]=params.categories;return params.fields.map((field,seriesIndex)=>{var _field$displayName;return{type:this.standaloneChartType,// xKey/xName refer to category buckets\nxKey:category.id,xName:category.name,// yName is used to label the series\nyName:(_field$displayName=field.displayName)!==null&&_field$displayName!==void 0?_field$displayName:void 0,// custom field labels shown in the tooltip\nminName:\"Min\",q1Name:\"Q1\",medianName:\"Median\",q3Name:\"Q3\",maxName:\"Max\",// generated 'synthetic fields' from getData()\nminKey:\"min:\".concat(seriesIndex),q1Key:\"q1:\".concat(seriesIndex),medianKey:\"median:\".concat(seriesIndex),q3Key:\"q3:\".concat(seriesIndex),maxKey:\"max:\".concat(seriesIndex)};});}getData(params){return this.computeSeriesStatistics(params,seriesValues=>{var sortedValues=seriesValues.sort((a,b)=>a-b);return{min:sortedValues[0],q1:this.quantile(sortedValues,0.25),median:this.quantile(sortedValues,0.5),q3:this.quantile(sortedValues,0.75),max:sortedValues[sortedValues.length-1]};});}quantile(sortedValues,q){var position=(sortedValues.length-1)*q;var indexBelow=Math.floor(position);var aboveValue=position-indexBelow;if(sortedValues[indexBelow+1]!==void 0){return sortedValues[indexBelow]+aboveValue*(sortedValues[indexBelow+1]-sortedValues[indexBelow]);}return sortedValues[indexBelow];}};// packages/ag-grid-enterprise/src/charts/chartComp/chartProxies/statistical/rangeChartProxy.ts\nvar RangeChartProxy=class extends StatisticalChartProxy{getSeries(params){var[category]=params.categories;return params.fields.map((field,seriesIndex)=>{var _field$displayName2;return{type:this.standaloneChartType,// xKey/xName refer to category buckets\nxKey:category.id,xName:category.name,// yName is used to label the series\nyName:(_field$displayName2=field.displayName)!==null&&_field$displayName2!==void 0?_field$displayName2:void 0,// custom field labels shown in the tooltip\nyLowName:\"Min\",yHighName:\"Max\",// generated 'synthetic fields' from getData()\nyLowKey:\"min:\".concat(seriesIndex),yHighKey:\"max:\".concat(seriesIndex)};});}getData(params){return this.computeSeriesStatistics(params,seriesValues=>{return{min:Math.min(...seriesValues),max:Math.max(...seriesValues)};});}};// packages/ag-grid-enterprise/src/charts/chartComp/chartProxies/enterpriseChartProxyFactory.ts\nvar EnterpriseChartProxyFactory=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BeanStub{constructor(){super(...arguments);this.beanName=\"enterpriseChartProxyFactory\";}createChartProxy(chartProxyParams){switch(chartProxyParams.chartType){case\"histogram\":return new HistogramChartProxy(chartProxyParams);case\"radarLine\":case\"radarArea\":case\"nightingale\":case\"radialColumn\":case\"radialBar\":return new PolarChartProxy(chartProxyParams);case\"rangeBar\":case\"rangeArea\":return new RangeChartProxy(chartProxyParams);case\"boxPlot\":return new BoxPlotChartProxy(chartProxyParams);case\"treemap\":case\"sunburst\":return new HierarchicalChartProxy(chartProxyParams);case\"heatmap\":return new HeatmapChartProxy(chartProxyParams);case\"waterfall\":return new WaterfallChartProxy(chartProxyParams);case\"funnel\":case\"coneFunnel\":case\"pyramid\":return new FunnelChartProxy(chartProxyParams);}return void 0;}};// packages/ag-grid-enterprise/src/charts/chartComp/menu/advancedSettings/advancedSettingsMenuFactory.ts\n// packages/ag-grid-enterprise/src/charts/chartComp/menu/advancedSettings/advancedSettingsPanel.ts\n// packages/ag-grid-enterprise/src/charts/chartComp/menu/chartPanelFeature.ts\nvar ChartPanelFeature=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BeanStub{constructor(chartController,eGui,cssClass,createPanels){super();this.chartController=chartController;this.eGui=eGui;this.cssClass=cssClass;this.createPanels=createPanels;this.panels=[];}postConstruct(){this.addManagedListeners(this.chartController,{chartUpdated:()=>this.refreshPanels(true),chartApiUpdate:()=>this.refreshPanels(false)});}addComponent(component){this.createBean(component);this.panels.push(component);component.addCss(this.cssClass);this.eGui.appendChild(component.getGui());}refreshPanels(reuse){var chartType=this.chartController.getChartType();var isGrouping=this.chartController.isGrouping();var seriesType=getSeriesType(chartType);if(reuse&&chartType===this.chartType&&isGrouping===this.isGrouping){return;}this.destroyPanels();this.createPanels(chartType,seriesType);this.chartType=chartType;this.isGrouping=isGrouping;}destroyPanels(){this.panels.forEach(panel=>{(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._removeFromParent)(panel.getGui());this.destroyBean(panel);});this.panels=[];}destroy(){this.destroyPanels();super.destroy();}};// packages/ag-grid-enterprise/src/charts/chartComp/menu/advancedSettings/interactivity/animationPanel.ts\nvar AnimationPanel=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(chartMenuParamsFactory){super();this.chartMenuParamsFactory=chartMenuParamsFactory;}wireBeans(beans){this.chartTranslation=beans.chartTranslation;}postConstruct(){var animationGroupParams=this.chartMenuParamsFactory.addEnableParams(\"animation.enabled\",{cssIdentifier:\"charts-advanced-settings-top-level\",direction:\"vertical\",suppressOpenCloseIcons:true,title:this.chartTranslation.translate(\"animation\"),suppressEnabledCheckbox:true,useToggle:true});var animationHeightInputParams=this.chartMenuParamsFactory.getDefaultNumberInputParams(\"animation.duration\",\"durationMillis\",{min:0});this.setTemplate(/* html */\"<div>\\n            <ag-group-component data-ref=\\\"animationGroup\\\">\\n                <ag-input-number-field data-ref=\\\"animationHeightInput\\\"></ag-input>\\n            </ag-group-component>\\n        </div>\",[AgGroupComponentSelector,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgInputNumberFieldSelector],{animationGroup:animationGroupParams,animationHeightInput:animationHeightInputParams});}};// packages/ag-grid-enterprise/src/charts/chartComp/menu/advancedSettings/interactivity/crosshairPanel.ts\n// packages/ag-grid-enterprise/src/charts/widgets/agColorPicker.ts\n// packages/ag-grid-enterprise/src/charts/widgets/agColorPanel.ts\n// packages/ag-grid-enterprise/src/charts/widgets/agColorInput.ts\nvar AgColorInputElement={tag:\"div\",cls:\"ag-color-input\",role:\"presentation\",children:[{tag:\"div\",ref:\"eLabel\",cls:\"ag-input-field-label\"},{tag:\"div\",ref:\"eWrapper\",cls:\"ag-wrapper ag-input-wrapper\",role:\"presentation\",children:[{tag:\"input\",ref:\"eInput\",cls:\"ag-input-field-input\"},{tag:\"div\",ref:\"eColor\",cls:\"ag-color-input-color\"}]}]};var AgColorInput=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgInputTextField{constructor(){super({template:AgColorInputElement});this.eColor=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;}wireBeans(beans){this.chartTranslation=beans.chartTranslation;this.color=beans.agChartsExports._Util.Color;}setColor(color){var rgbaColor=color.toRgbaString();this.setValue(this.color.fromString(rgbaColor).toHexString().toUpperCase(),true);this.eColor.style.backgroundColor=rgbaColor;}setValue(value,silent){var isValid=this.color.validColorString(value!==null&&value!==void 0?value:\"\");this.eInput.setCustomValidity(isValid?\"\":this.chartTranslation.translate(\"invalidColor\"));super.setValue(value,silent);if(isValid&&!silent){this.dispatchLocalEvent({type:\"colorChanged\"});}return this;}onColorChanged(callback){this.addManagedListeners(this,{colorChanged:()=>callback(this.color.fromString(this.value))});}};var AgColorInputSelector={selector:\"AG-COLOR-INPUT\",component:AgColorInput};// packages/ag-grid-enterprise/src/charts/widgets/agColorPanel.ts\nvar maxRecentColors=8;var sharedRecentColors=[];var AgColorPanel=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(config){super(/* html */\"<div class=\\\"ag-color-panel\\\" tabindex=\\\"-1\\\">\\n            <div data-ref=\\\"spectrumColor\\\" class=\\\"ag-spectrum-color\\\">\\n                <div class=\\\"ag-spectrum-sat ag-spectrum-fill\\\">\\n                    <div data-ref=\\\"spectrumVal\\\" class=\\\"ag-spectrum-val ag-spectrum-fill\\\">\\n                        <div data-ref=\\\"spectrumDragger\\\" class=\\\"ag-spectrum-dragger\\\"></div>\\n                    </div>\\n                </div>\\n            </div>\\n            <div class=\\\"ag-spectrum-tools\\\">\\n                <div data-ref=\\\"spectrumHue\\\" class=\\\"ag-spectrum-hue ag-spectrum-tool\\\">\\n                    <div class=\\\"ag-spectrum-hue-background\\\"></div>\\n                    <div data-ref=\\\"spectrumHueSlider\\\" class=\\\"ag-spectrum-slider\\\"></div>\\n                </div>\\n                <div data-ref=\\\"spectrumAlpha\\\" class=\\\"ag-spectrum-alpha ag-spectrum-tool\\\">\\n                    <div class=\\\"ag-spectrum-alpha-background\\\"></div>\\n                    <div data-ref=\\\"spectrumAlphaSlider\\\" class=\\\"ag-spectrum-slider\\\"></div>\\n                </div>\\n                <ag-color-input data-ref=\\\"colorInput\\\"></ag-color-input>\\n                <div data-ref=\\\"recentColors\\\" class=\\\"ag-recent-colors\\\"></div>\\n            </div>\\n        </div>\",[AgColorInputSelector]);this.H=1;// in the [0, 1] range\nthis.S=1;// in the [0, 1] range\nthis.B=1;// in the [0, 1] range\nthis.A=1;this.isSpectrumDragging=false;this.isSpectrumHueDragging=false;this.isSpectrumAlphaDragging=false;this.colorChanged=false;this.spectrumColor=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.spectrumVal=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.spectrumDragger=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.spectrumHue=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.spectrumHueSlider=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.spectrumAlpha=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.spectrumAlphaSlider=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.colorInput=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.recentColors=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.picker=config.picker;}wireBeans(beans){this._Color=beans.agChartsExports._Util.Color;}postConstruct(){this.initTabIndex();this.initRecentColors();this.addGuiEventListener(\"focus\",()=>this.spectrumColor.focus());this.addGuiEventListener(\"keydown\",e=>{if(e.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.ENTER&&!e.defaultPrevented){this.destroy();}});this.addManagedListeners(this.spectrumColor,{keydown:e=>this.moveDragger(e)});this.addManagedListeners(this.spectrumAlphaSlider,{keydown:e=>this.moveAlphaSlider(e)});this.addManagedListeners(this.spectrumHueSlider,{keydown:e=>this.moveHueSlider(e)});this.addManagedListeners(this.spectrumVal,{mousedown:this.onSpectrumDraggerDown.bind(this)});this.addManagedListeners(this.spectrumHue,{mousedown:this.onSpectrumHueDown.bind(this)});this.addManagedListeners(this.spectrumAlpha,{mousedown:this.onSpectrumAlphaDown.bind(this)});this.addGuiEventListener(\"mousemove\",e=>{this.onSpectrumDraggerMove(e);this.onSpectrumHueMove(e);this.onSpectrumAlphaMove(e);});this.addManagedListeners(document,{mouseup:this.onMouseUp.bind(this)});this.colorInput.onColorChanged(this.setColor.bind(this));this.addManagedListeners(this.recentColors,{click:this.onRecentColorClick.bind(this),keydown:e=>{if(e.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.ENTER||e.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.SPACE){e.preventDefault();this.onRecentColorClick(e);}}});}initTabIndex(){var tabIndex=this.tabIndex=this.gos.get(\"tabIndex\").toString();this.spectrumColor.setAttribute(\"tabindex\",tabIndex);this.spectrumHueSlider.setAttribute(\"tabindex\",tabIndex);this.spectrumAlphaSlider.setAttribute(\"tabindex\",tabIndex);}refreshSpectrumRect(){return this.spectrumValRect=this.spectrumVal.getBoundingClientRect();}refreshHueRect(){return this.spectrumHueRect=this.spectrumHue.getBoundingClientRect();}refreshAlphaRect(){return this.spectrumAlphaRect=this.spectrumAlpha.getBoundingClientRect();}onSpectrumDraggerDown(e){e.preventDefault();this.refreshSpectrumRect();this.isSpectrumDragging=true;this.moveDragger(e);}onSpectrumDraggerMove(e){if(this.isSpectrumDragging){this.moveDragger(e);}}onSpectrumHueDown(e){this.refreshHueRect();this.isSpectrumHueDragging=true;this.moveHueSlider(e);}onSpectrumHueMove(e){if(this.isSpectrumHueDragging){this.moveHueSlider(e);}}onSpectrumAlphaDown(e){this.refreshAlphaRect();this.isSpectrumAlphaDragging=true;this.moveAlphaSlider(e);}onSpectrumAlphaMove(e){if(this.isSpectrumAlphaDragging){this.moveAlphaSlider(e);}}onMouseUp(){this.isSpectrumDragging=false;this.isSpectrumHueDragging=false;this.isSpectrumAlphaDragging=false;}moveDragger(e){var valRect=this.spectrumValRect;if(!valRect){return;}var x;var y;if(e instanceof MouseEvent){x=e.clientX-valRect.left;y=e.clientY-valRect.top;}else{var isLeft=e.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.LEFT;var isRight=e.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.RIGHT;var isUp=e.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.UP;var isDown=e.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.DOWN;var isVertical=isUp||isDown;var isHorizontal=isLeft||isRight;if(!isVertical&&!isHorizontal){return;}e.preventDefault();var{x:currentX,y:currentY}=this.getSpectrumValue();x=currentX+(isHorizontal?isLeft?-5:5:0);y=currentY+(isVertical?isUp?-5:5:0);}x=Math.max(x,0);x=Math.min(x,valRect.width);y=Math.max(y,0);y=Math.min(y,valRect.height);this.setSpectrumValue(x/valRect.width,1-y/valRect.height);}moveHueSlider(e){var rect=this.spectrumHueRect;if(!rect){return;}var x=this.moveSlider(this.spectrumHueSlider,e);if(x==null){return;}this.H=1-x/rect.width;this.update();}moveAlphaSlider(e){var rect=this.spectrumAlphaRect;if(!rect){return;}var x=this.moveSlider(this.spectrumAlphaSlider,e);if(x==null){return;}this.A=x/rect.width;this.update();}moveSlider(slider,e){var _slider$parentElement;var sliderRect=slider.getBoundingClientRect();var parentRect=(_slider$parentElement=slider.parentElement)===null||_slider$parentElement===void 0?void 0:_slider$parentElement.getBoundingClientRect();if(!slider||!parentRect){return null;}var offset=sliderRect.width/2;var x;if(e instanceof MouseEvent){x=Math.floor(e.clientX-parentRect.left);}else{var isLeft=e.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.LEFT;var isRight=e.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.RIGHT;if(!isLeft&&!isRight){return null;}e.preventDefault();var diff=isLeft?-5:5;x=parseFloat(slider.style.left)+offset+diff;}x=Math.max(x,0);x=Math.min(x,parentRect.width);slider.style.left=x-offset+\"px\";return x;}update(suppressColorInputUpdate){var{A,S,B,H,_Color}=this;var hue=H*360;var color=_Color.fromHSB(hue,S,B,A);var rgbaColor=color.toRgbaString();var colorWithoutAlpha=_Color.fromHSB(hue,S,B);var rgbaColorWithoutAlpha=colorWithoutAlpha.toRgbaString();var spectrumColor=_Color.fromHSB(hue,1,1);var spectrumRgbaColor=spectrumColor.toRgbaString();var colorPicker=this.picker;var existingColor=_Color.fromString(colorPicker.getValue());if(existingColor.toRgbaString()!==rgbaColor){this.colorChanged=true;}colorPicker.setValue(rgbaColor);this.spectrumColor.style.backgroundColor=spectrumRgbaColor;this.spectrumDragger.style.backgroundColor=rgbaColorWithoutAlpha;this.spectrumHueSlider.style.backgroundColor=spectrumRgbaColor;this.spectrumAlpha.style.setProperty(\"--ag-internal-spectrum-alpha-color-from\",_Color.fromHSB(hue,S,B,0).toRgbaString());this.spectrumAlpha.style.setProperty(\"--ag-internal-spectrum-alpha-color-to\",rgbaColorWithoutAlpha);this.spectrumAlpha.style.setProperty(\"--ag-internal-spectrum-alpha-color\",rgbaColor);if(!suppressColorInputUpdate){this.colorInput.setColor(color);}}/**\n   * @param saturation In the [0, 1] interval.\n   * @param brightness In the [0, 1] interval.\n   */setSpectrumValue(saturation,brightness,suppressColorInputUpdate){var valRect=this.spectrumValRect||this.refreshSpectrumRect();if(valRect==null){return;}var dragger=this.spectrumDragger;var draggerRect=dragger.getBoundingClientRect();saturation=Math.max(0,saturation);saturation=Math.min(1,saturation);brightness=Math.max(0,brightness);brightness=Math.min(1,brightness);this.S=saturation;this.B=brightness;dragger.style.left=saturation*valRect.width-draggerRect.width/2+\"px\";dragger.style.top=(1-brightness)*valRect.height-draggerRect.height/2+\"px\";this.update(suppressColorInputUpdate);}getSpectrumValue(){var dragger=this.spectrumDragger;var draggerRect=dragger.getBoundingClientRect();var x=parseFloat(dragger.style.left)+draggerRect.width/2;var y=parseFloat(dragger.style.top)+draggerRect.height/2;return{x,y};}initRecentColors(){var recentColors=sharedRecentColors;var colorsHtmlStr=recentColors.map((color,index)=>{return/* html */\"<div class=\\\"ag-recent-color\\\" id=\".concat(index,\" style=\\\"background-color: \").concat(color,\"; width: 15px; height: 15px;\\\" recent-color=\\\"\").concat(color,\"\\\" tabIndex=\\\"\").concat(this.tabIndex,\"\\\"></div>\");});this.recentColors.innerHTML=colorsHtmlStr.join(\"\");(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setDisplayed)(this.recentColors,!!recentColors.length);}setValue(val){var color=this._Color.fromString(val);this.setColor(color,true);}setColor(color,updateColorInput){var[h,s,b]=color.toHSB();this.H=(isNaN(h)?0:h)/360;this.A=color.a;var spectrumHueRect=this.spectrumHueRect||this.refreshHueRect();var spectrumAlphaRect=this.spectrumAlphaRect||this.refreshAlphaRect();this.spectrumHueSlider.style.left=\"\".concat((this.H-1)*-spectrumHueRect.width-this.spectrumHueSlider.getBoundingClientRect().width/2,\"px\");this.spectrumAlphaSlider.style.left=\"\".concat(this.A*spectrumAlphaRect.width-this.spectrumAlphaSlider.getBoundingClientRect().width/2,\"px\");this.setSpectrumValue(s,b,!updateColorInput);}onRecentColorClick(e){var target=e.target;if(!(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._exists)(target.id)){return;}var id=parseInt(target.id,10);this.setValue(sharedRecentColors[id]);this.destroy();}addRecentColor(){var color=this._Color.fromHSB(this.H*360,this.S,this.B,this.A);var rgbaColor=color.toRgbaString();var recentColors=sharedRecentColors;if(!this.colorChanged||recentColors[0]===rgbaColor){return;}recentColors=recentColors.filter(currentColor=>currentColor!=rgbaColor);recentColors=[rgbaColor].concat(recentColors);if(recentColors.length>maxRecentColors){recentColors=recentColors.slice(0,maxRecentColors);}sharedRecentColors=recentColors;}destroy(){this.addRecentColor();super.destroy();}};// packages/ag-grid-enterprise/src/charts/widgets/agColorPicker.ts\nvar AgColorPicker=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgPickerField{constructor(config){super(_objectSpread({pickerAriaLabelKey:\"ariaLabelColorPicker\",pickerAriaLabelValue:\"Color Picker\",pickerType:\"ag-list\",className:\"ag-color-picker\",pickerIcon:\"chartsColorPicker\"},config));}postConstruct(){this.eDisplayFieldColor=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createElement)({tag:\"span\",cls:\"ag-color-picker-color\"});this.eDisplayFieldText=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createElement)({tag:\"span\",cls:\"ag-color-picker-value\"});this.eDisplayField.append(this.eDisplayFieldColor,this.eDisplayFieldText);super.postConstruct();if(this.value){this.setValue(this.value);}}createPickerComponent(){var _this$config$pickerGa;var eGuiRect=this.eWrapper.getBoundingClientRect();var parentRect=this.beans.popupSvc.getParentRect();var colorDialog=this.createBean(new AgDialog({closable:false,modal:true,hideTitleBar:true,minWidth:190,width:190,height:250,x:eGuiRect.right-parentRect.left-190,y:eGuiRect.top-parentRect.top-250-((_this$config$pickerGa=this.config.pickerGap)!==null&&_this$config$pickerGa!==void 0?_this$config$pickerGa:0),postProcessPopupParams:{type:\"colorPicker\",eventSource:this.eWrapper}}));return colorDialog;}renderAndPositionPicker(){var pickerComponent=this.pickerComponent;var colorPanel=this.createBean(new AgColorPanel({picker:this}));pickerComponent.addCss(\"ag-color-dialog\");colorPanel.addDestroyFunc(()=>{if(pickerComponent.isAlive()){this.destroyBean(pickerComponent);}});pickerComponent.setParentComponent(this);pickerComponent.setBodyComponent(colorPanel);colorPanel.setValue(this.getValue());colorPanel.getGui().focus();pickerComponent.addDestroyFunc(()=>{if(!this.isDestroyingPicker){this.beforeHidePicker();this.isDestroyingPicker=true;if(colorPanel.isAlive()){this.destroyBean(colorPanel);}if(this.isAlive()){this.getFocusableElement().focus();}}else{this.isDestroyingPicker=false;}});return()=>{var _this$pickerComponent;return(_this$pickerComponent=this.pickerComponent)===null||_this$pickerComponent===void 0?void 0:_this$pickerComponent.close();};}setValue(color){if(this.value===color){return this;}this.eDisplayFieldColor.style.backgroundColor=color;this.eDisplayFieldText.textContent=this.beans.agChartsExports._Util.Color.fromString(color).toHexString().toUpperCase();return super.setValue(color);}getValue(){return this.value;}};var AgColorPickerSelector={selector:\"AG-COLOR-PICKER\",component:AgColorPicker};// packages/ag-grid-enterprise/src/charts/chartComp/menu/advancedSettings/interactivity/crosshairPanel.ts\nvar CrosshairPanel=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(chartMenuParamsFactory){super();this.chartMenuParamsFactory=chartMenuParamsFactory;}wireBeans(beans){this.chartTranslation=beans.chartTranslation;}postConstruct(){var crosshairGroupParams=this.chartMenuParamsFactory.addEnableParams(\"crosshair.enabled\",{cssIdentifier:\"charts-advanced-settings-top-level\",direction:\"vertical\",suppressOpenCloseIcons:true,title:this.chartTranslation.translate(\"crosshair\"),suppressEnabledCheckbox:true,useToggle:true});var crosshairLabelCheckboxParams=this.chartMenuParamsFactory.getDefaultCheckboxParams(\"crosshair.label.enabled\",\"crosshairLabel\");var crosshairSnapCheckboxParams=this.chartMenuParamsFactory.getDefaultCheckboxParams(\"crosshair.snap\",\"crosshairSnap\");var crosshairStrokeColorPickerParams=this.chartMenuParamsFactory.getDefaultColorPickerParams(\"crosshair.stroke\",\"color\");this.setTemplate(/* html */\"<div>\\n            <ag-group-component data-ref=\\\"crosshairGroup\\\">\\n                <ag-checkbox data-ref=\\\"crosshairLabelCheckbox\\\"></ag-checkbox>\\n                <ag-checkbox data-ref=\\\"crosshairSnapCheckbox\\\"></ag-checkbox>\\n                <ag-color-picker data-ref=\\\"crosshairStrokeColorPicker\\\"></ag-color-picker>\\n            </ag-group-component>\\n        </div>\",[AgGroupComponentSelector,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgCheckboxSelector,AgColorPickerSelector],{crosshairGroup:crosshairGroupParams,crosshairLabelCheckbox:crosshairLabelCheckboxParams,crosshairSnapCheckbox:crosshairSnapCheckboxParams,crosshairStrokeColorPicker:crosshairStrokeColorPickerParams});}};// packages/ag-grid-enterprise/src/charts/chartComp/menu/advancedSettings/interactivity/navigatorPanel.ts\n// packages/ag-grid-enterprise/src/charts/widgets/agSlider.ts\n// packages/ag-grid-enterprise/src/charts/widgets/agInputRange.ts\nvar AgInputRange=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgAbstractInputField{constructor(config){super(config,\"ag-range-field\",\"range\");}postConstruct(){super.postConstruct();var{min,max,step}=this.config;if(min!=null){this.setMinValue(min);}if(max!=null){this.setMaxValue(max);}this.setStep(step||1);}addInputListeners(){this.addManagedElementListeners(this.eInput,{input:e=>{var value=e.target.value;this.setValue(value);}});}setMinValue(value){this.min=value;this.eInput.setAttribute(\"min\",value.toString());return this;}setMaxValue(value){this.max=value;this.eInput.setAttribute(\"max\",value.toString());return this;}setStep(value){this.eInput.setAttribute(\"step\",value.toString());return this;}setValue(value,silent){if(this.min!=null){value=Math.max(parseFloat(value),this.min).toString();}if(this.max!=null){value=Math.min(parseFloat(value),this.max).toString();}var ret=super.setValue(value,silent);this.eInput.value=value;return ret;}};var AgInputRangeSelector={selector:\"AG-INPUT-RANGE\",component:AgInputRange};// packages/ag-grid-enterprise/src/charts/widgets/agSlider.ts\nvar AgSlider=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgAbstractLabel{constructor(config){super(config,/* html */\"<div class=\\\"ag-slider\\\">\\n            <label data-ref=\\\"eLabel\\\"></label>\\n            <div class=\\\"ag-wrapper ag-slider-wrapper\\\">\\n                <ag-input-range data-ref=\\\"eSlider\\\"></ag-input-range>\\n                <ag-input-number-field data-ref=\\\"eText\\\"></ag-input-number-field>\\n            </div>\\n        </div>\",[AgInputRangeSelector,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgInputNumberFieldSelector]);this.eLabel=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.eSlider=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.eText=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.labelAlignment=\"top\";}postConstruct(){super.postConstruct();this.eSlider.addCss(\"ag-slider-field\");var{minValue,maxValue,textFieldWidth,step,value,onValueChange}=this.config;if(minValue!=null){this.setMinValue(minValue);}if(maxValue!=null){this.setMaxValue(maxValue);}if(textFieldWidth!=null){this.setTextFieldWidth(textFieldWidth);}if(step!=null){this.setStep(step);}if(value!=null){this.setValue(value);}if(onValueChange!=null){this.onValueChange(onValueChange);}}onValueChange(callbackFn){this.addManagedListeners(this.eText,{fieldValueChanged:()=>{var textValue=parseFloat(this.eText.getValue());this.eSlider.setValue(textValue.toString(),true);callbackFn(textValue||0);}});this.addManagedListeners(this.eSlider,{fieldValueChanged:()=>{var sliderValue=this.eSlider.getValue();this.eText.setValue(sliderValue,true);callbackFn(parseFloat(sliderValue));}});return this;}setSliderWidth(width){this.eSlider.setWidth(width);return this;}setTextFieldWidth(width){this.eText.setWidth(width);return this;}setMinValue(minValue){this.eSlider.setMinValue(minValue);this.eText.setMin(minValue);return this;}setMaxValue(maxValue){this.eSlider.setMaxValue(maxValue);this.eText.setMax(maxValue);return this;}getValue(){return this.eText.getValue();}setValue(value,silent){if(this.getValue()===value){return this;}this.eText.setValue(value,true);this.eSlider.setValue(value,true);if(!silent){this.dispatchLocalEvent({type:\"fieldValueChanged\"});}return this;}setStep(step){this.eSlider.setStep(step);this.eText.setStep(step);return this;}};var AgSliderSelector={selector:\"AG-SLIDER\",component:AgSlider};// packages/ag-grid-enterprise/src/charts/chartComp/menu/advancedSettings/interactivity/navigatorPanel.ts\nvar NavigatorPanel=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(chartMenuParamsFactory){super();this.chartMenuParamsFactory=chartMenuParamsFactory;}wireBeans(beans){this.chartTranslation=beans.chartTranslation;}postConstruct(){var navigatorGroupParams=this.chartMenuParamsFactory.addEnableParams(\"navigator.enabled\",{cssIdentifier:\"charts-advanced-settings-top-level\",direction:\"vertical\",suppressOpenCloseIcons:true,title:this.chartTranslation.translate(\"navigator\"),suppressEnabledCheckbox:true,useToggle:true});var navigatorHeightSliderParams=this.chartMenuParamsFactory.getDefaultSliderParams(\"navigator.height\",\"height\",60);navigatorHeightSliderParams.minValue=10;var navigatorMiniChartCheckboxParams=this.chartMenuParamsFactory.getDefaultCheckboxParams(\"navigator.miniChart.enabled\",\"miniChart\");this.setTemplate(/* html */\"<div>\\n            <ag-group-component data-ref=\\\"navigatorGroup\\\">\\n                <ag-slider data-ref=\\\"navigatorHeightSlider\\\"></ag-slider>\\n                <ag-checkbox data-ref=\\\"navigatorMiniChartCheckbox\\\"></ag-checkbox>\\n            </ag-group-component>\\n        </div>\",[AgGroupComponentSelector,AgSliderSelector,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgCheckboxSelector],{navigatorGroup:navigatorGroupParams,navigatorHeightSlider:navigatorHeightSliderParams,navigatorMiniChartCheckbox:navigatorMiniChartCheckboxParams});}};// packages/ag-grid-enterprise/src/charts/chartComp/menu/advancedSettings/interactivity/zoomPanel.ts\nvar ZoomPanel=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(chartMenuParamsFactory){super();this.chartMenuParamsFactory=chartMenuParamsFactory;this.zoomScrollingStepInput=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;}wireBeans(beans){this.chartTranslation=beans.chartTranslation;}postConstruct(){var zoomGroupParams=this.chartMenuParamsFactory.addEnableParams(\"zoom.enabled\",{cssIdentifier:\"charts-advanced-settings-top-level\",direction:\"vertical\",suppressOpenCloseIcons:true,title:this.chartTranslation.translate(\"zoom\"),suppressEnabledCheckbox:true,useToggle:true});var zoomScrollingCheckboxParams=this.chartMenuParamsFactory.getDefaultCheckboxParams(\"zoom.enableScrolling\",\"scrollingZoom\");var zoomScrollingStepSliderParams=this.chartMenuParamsFactory.getDefaultSliderParams(\"zoom.scrollingStep\",\"scrollingStep\",1);zoomScrollingStepSliderParams.step=0.01;zoomScrollingStepSliderParams.minValue=zoomScrollingStepSliderParams.step;var zoomSelectingCheckboxParams=this.chartMenuParamsFactory.getDefaultCheckboxParams(\"zoom.enableSelecting\",\"selectingZoom\");zoomScrollingCheckboxParams.onValueChange=/* @__PURE__ */(onValueChange=>value=>{if(!onValueChange)return;onValueChange(value);this.zoomScrollingStepInput.setDisabled(!value);})(zoomScrollingCheckboxParams.onValueChange);this.setTemplate(/* html */\"<div>\\n            <ag-group-component data-ref=\\\"zoomGroup\\\">\\n                <ag-checkbox data-ref=\\\"zoomSelectingCheckbox\\\"></ag-checkbox>\\n                <ag-checkbox data-ref=\\\"zoomScrollingCheckbox\\\"></ag-checkbox>\\n                <ag-slider data-ref=\\\"zoomScrollingStepInput\\\"></ag-slider>\\n            </ag-group-component>\\n        </div>\",[AgGroupComponentSelector,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgCheckboxSelector,AgSliderSelector],{zoomGroup:zoomGroupParams,zoomScrollingCheckbox:zoomScrollingCheckboxParams,zoomScrollingStepInput:zoomScrollingStepSliderParams,zoomSelectingCheckbox:zoomSelectingCheckboxParams});this.zoomScrollingStepInput.setDisabled(!zoomScrollingCheckboxParams.value);}};// packages/ag-grid-enterprise/src/charts/chartComp/menu/advancedSettings/advancedSettingsPanel.ts\nvar INTERACTIVITY_GROUPS=[\"navigator\",\"zoom\",\"animation\",\"crosshair\"];var AdvancedSettingsPanel=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(chartMenuContext){super(/* html */\"<div class=\\\"ag-chart-advanced-settings-wrapper\\\"></div>\");this.chartMenuContext=chartMenuContext;}postConstruct(){this.chartPanelFeature=this.createManagedBean(new ChartPanelFeature(this.chartMenuContext.chartController,this.getGui(),\"ag-chart-advanced-settings-section\",(chartType,seriesType)=>this.createPanels(chartType,seriesType)));this.chartPanelFeature.refreshPanels();}createPanels(chartType,seriesType){INTERACTIVITY_GROUPS.forEach(group=>{if(!this.isGroupPanelShownForSeries(group,seriesType)){return;}var comp=this.createPanel(group);this.chartPanelFeature.addComponent(comp);});}isGroupPanelShownForSeries(group,seriesType){return group===\"animation\"||isCartesian(seriesType)&&!isFunnel(seriesType);}createPanel(group){var{chartMenuParamsFactory,chartAxisMenuParamsFactory}=this.chartMenuContext;switch(group){case\"navigator\":return new NavigatorPanel(chartMenuParamsFactory);case\"zoom\":return new ZoomPanel(chartMenuParamsFactory);case\"animation\":return new AnimationPanel(chartMenuParamsFactory);case\"crosshair\":return new CrosshairPanel(chartAxisMenuParamsFactory);}}};// packages/ag-grid-enterprise/src/charts/chartComp/menu/advancedSettings/advancedSettingsMenuFactory.ts\nvar AdvancedSettingsMenuFactory=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BeanStub{constructor(){super(...arguments);this.beanName=\"advSettingsMenuFactory\";}showMenu(chartMenuContext,eventSource){this.hideMenu();var menu=this.createBean(new AdvancedSettingsMenu(chartMenuContext));this.activeDialog=this.createBean(new AgDialog({title:this.beans.chartTranslation.translate(\"advancedSettings\"),component:menu,width:300,height:400,resizable:true,movable:true,centered:true,closable:true,afterGuiAttached:()=>{var _findFocusableElement2;(_findFocusableElement2=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._findFocusableElements)(menu.getGui())[0])===null||_findFocusableElement2===void 0||_findFocusableElement2.focus();},closedCallback:()=>{this.activeMenu=this.destroyBean(this.activeMenu);this.activeDialog=void 0;eventSource===null||eventSource===void 0||eventSource.focus({preventScroll:true});}}));this.activeMenu=menu;}hideMenu(){if(this.activeDialog){this.destroyBean(this.activeDialog);}}destroy(){this.activeMenu=this.destroyBean(this.activeMenu);this.activeDialog=this.destroyBean(this.activeDialog);super.destroy();}};var AdvancedSettingsMenu=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.TabGuardComp{constructor(chartMenuContext){super(/* html */\"<div class=\\\"ag-chart-advanced-settings\\\"></div>\");this.chartMenuContext=chartMenuContext;}postConstruct(){this.advancedSettingsPanel=this.createManagedBean(new AdvancedSettingsPanel(this.chartMenuContext));this.getGui().appendChild(this.advancedSettingsPanel.getGui());this.initialiseTabGuard({onTabKeyDown:this.onTabKeyDown.bind(this),focusTrapActive:true});}onTabKeyDown(e){if(e.defaultPrevented){return;}e.preventDefault();var backwards=e.shiftKey;var panelGui=this.advancedSettingsPanel.getGui();var nextEl=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._findNextFocusableElement)(this.beans,panelGui,false,backwards);if(nextEl){nextEl.focus();}else{var focusableElements=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._findFocusableElements)(panelGui);if(focusableElements.length){focusableElements[backwards?focusableElements.length-1:0].focus();}}}};// packages/ag-grid-enterprise/src/charts/chartComp/menu/chartMenuList.ts\nvar ChartMenuListFactory=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BeanStub{constructor(){super(...arguments);this.beanName=\"chartMenuListFactory\";}wireBeans(beans){this.popupSvc=beans.popupSvc;this.chartMenuSvc=beans.chartMenuSvc;this.chartTranslation=beans.chartTranslation;}showMenuList(params){var{eventSource,showMenu,chartMenuContext}=params;var areChartToolPanelsEnabled=this.chartMenuSvc.doChartToolPanelsExist(chartMenuContext.chartController);var menuItems=this.mapWithStockItems(this.getMenuItems(chartMenuContext.chartController,areChartToolPanelsEnabled),chartMenuContext,showMenu,eventSource,areChartToolPanelsEnabled);if(!menuItems.length){return;}var chartMenuList=this.createBean(new ChartMenuList(menuItems));this.activeChartMenuList=chartMenuList;var multiplier=-1;var alignSide=\"left\";if(this.gos.get(\"enableRtl\")){multiplier=1;alignSide=\"right\";}var eGui=chartMenuList.getGui();this.popupSvc.addPopup({modal:true,eChild:eGui,closeOnEsc:true,closedCallback:()=>{this.destroyBean(chartMenuList);this.activeChartMenuList=void 0;if((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isNothingFocused)(this.beans)){eventSource.focus({preventScroll:true});}},afterGuiAttached:params2=>chartMenuList.afterGuiAttached(params2),positionCallback:()=>{{this.popupSvc.positionPopupByComponent({type:\"chartMenu\",eventSource,ePopup:eGui,alignSide,nudgeX:4*multiplier,nudgeY:4,position:\"under\",keepWithinBounds:true});}},ariaLabel:\"Chart Menu\"});}getMenuItems(chartController,areChartToolPanelsEnabled){var defaultItems=[...(areChartToolPanelsEnabled?[\"chartEdit\"]:[]),...(chartController.isEnterprise()?[\"chartAdvancedSettings\"]:[]),chartController.isChartLinked()?\"chartUnlink\":\"chartLink\",\"chartDownload\"];var chartMenuItems=this.gos.get(\"chartMenuItems\");if(!chartMenuItems){return defaultItems;}else if(Array.isArray(chartMenuItems)){return chartMenuItems;}else{return chartMenuItems((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._addGridCommonParams)(this.gos,{defaultItems}));}}mapWithStockItems(originalList,chartMenuContext,showMenu,eventSource,areChartToolPanelsEnabled){if(!originalList){return[];}var resultList=[];originalList.forEach(menuItemOrString=>{var result;if(typeof menuItemOrString===\"string\"){result=this.getStockMenuItem(menuItemOrString,chartMenuContext,showMenu,eventSource,areChartToolPanelsEnabled);}else{result=_objectSpread({},menuItemOrString);}if(!result){return;}var{subMenu}=result;if(Array.isArray(subMenu)){result.subMenu=this.mapWithStockItems(subMenu,chartMenuContext,showMenu,eventSource,areChartToolPanelsEnabled);}resultList.push(result);});return resultList;}getStockMenuItem(key,chartMenuContext,showMenu,eventSource,areChartToolPanelsEnabled){switch(key){case\"chartEdit\":return areChartToolPanelsEnabled?this.createMenuItem(this.chartTranslation.translate(\"chartEdit\"),\"chartsMenuEdit\",showMenu):null;case\"chartAdvancedSettings\":return this.createMenuItem(this.chartTranslation.translate(\"chartAdvancedSettings\"),\"chartsMenuAdvancedSettings\",()=>this.chartMenuSvc.openAdvancedSettings(chartMenuContext,eventSource));case\"chartUnlink\":return chartMenuContext.chartController.isChartLinked()?this.createMenuItem(this.chartTranslation.translate(\"chartUnlink\"),\"unlinked\",()=>this.chartMenuSvc.toggleLinked(chartMenuContext)):null;case\"chartLink\":return!chartMenuContext.chartController.isChartLinked()?this.createMenuItem(this.chartTranslation.translate(\"chartLink\"),\"linked\",()=>this.chartMenuSvc.toggleLinked(chartMenuContext)):null;case\"chartDownload\":return this.createMenuItem(this.chartTranslation.translate(\"chartDownload\"),\"chartsDownload\",()=>this.chartMenuSvc.downloadChart(chartMenuContext));}return null;}createMenuItem(name,iconName,action){return{name,icon:(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createIconNoSpan)(iconName,this.beans,null),action};}destroy(){this.destroyBean(this.activeChartMenuList);super.destroy();}};var ChartMenuList=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(menuItems){super(/* html */\"\\n            <div data-ref=\\\"eChartsMenu\\\" role=\\\"presentation\\\" class=\\\"ag-menu ag-chart-menu-popup\\\"></div>\\n        \");this.menuItems=menuItems;this.eChartsMenu=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;}postConstruct(){this.mainMenuList=this.createManagedBean(new AgMenuList(0));this.mainMenuList.addMenuItems(this.menuItems);this.mainMenuList.addEventListener(\"closeMenu\",this.onHidePopup.bind(this));this.eChartsMenu.appendChild(this.mainMenuList.getGui());}onHidePopup(){var _this$hidePopupFunc;(_this$hidePopupFunc=this.hidePopupFunc)===null||_this$hidePopupFunc===void 0||_this$hidePopupFunc.call(this);}afterGuiAttached(_ref124){var{hidePopup}=_ref124;if(hidePopup){this.hidePopupFunc=hidePopup;this.addDestroyFunc(hidePopup);}(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._focusInto)(this.mainMenuList.getGui());}};// packages/ag-grid-enterprise/src/charts/chartComp/services/chartCrossFilterService.ts\nvar ChartCrossFilterService=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BeanStub{constructor(){super(...arguments);this.beanName=\"chartCrossFilterSvc\";}wireBeans(beans){this.colModel=beans.colModel;this.valueSvc=beans.valueSvc;this.filterManager=beans.filterManager;if((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._isClientSideRowModel)(this.gos,beans.rowModel)){this.clientSideRowModel=beans.rowModel;}}filter(event){var _this$filterManager$g3,_this$filterManager1;var reset=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var filterModel=(_this$filterManager$g3=(_this$filterManager1=this.filterManager)===null||_this$filterManager1===void 0?void 0:_this$filterManager1.getFilterModel())!==null&&_this$filterManager$g3!==void 0?_this$filterManager$g3:{};if(reset){this.resetFilters(filterModel);return;}var colId=this.extractFilterColId(event);if(this.isValidColumnFilter(colId)){this.updateFilters(filterModel,event,colId);}else{(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(154,{colId});}}resetFilters(filterModel){var filtersExist=Object.keys(filterModel).length>0;if(filtersExist){var _this$filterManager10,_this$filterManager11;(_this$filterManager10=this.filterManager)===null||_this$filterManager10===void 0||_this$filterManager10.setFilterModel(null);(_this$filterManager11=this.filterManager)===null||_this$filterManager11===void 0||_this$filterManager11.onFilterChanged({source:\"api\"});}}updateFilters(filterModel,event,colId){var _this$filterManager12;var dataKey=this.extractFilterColId(event);var rawValue=event.datum[dataKey];if(rawValue===void 0){return;}var selectedValue=rawValue.toString();if(event.event.metaKey||event.event.ctrlKey){var existingGridValues=this.getCurrentGridValuesForCategory(colId);var valueAlreadyExists=existingGridValues.includes(selectedValue);var updatedValues;if(valueAlreadyExists){updatedValues=existingGridValues.filter(v=>v!==selectedValue);}else{updatedValues=existingGridValues;updatedValues.push(selectedValue);}filterModel[colId]=this.getUpdatedFilterModel(colId,updatedValues);}else{var _updatedValues=[selectedValue];filterModel={[colId]:this.getUpdatedFilterModel(colId,_updatedValues)};}(_this$filterManager12=this.filterManager)===null||_this$filterManager12===void 0||_this$filterManager12.setFilterModel(filterModel);}getUpdatedFilterModel(colId,updatedValues){var columnFilterType=this.getColumnFilterType(colId);if(columnFilterType===\"agMultiColumnFilter\"){return{filterType:\"multi\",filterModels:[null,{filterType:\"set\",values:updatedValues}]};}return{filterType:\"set\",values:updatedValues};}getCurrentGridValuesForCategory(colId){var _this$clientSideRowMo;var filteredValues=[];var column=this.getColumnById(colId);(_this$clientSideRowMo=this.clientSideRowModel)===null||_this$clientSideRowMo===void 0||_this$clientSideRowMo.forEachNodeAfterFilter(rowNode=>{if(column&&!rowNode.group){var value=this.valueSvc.getValue(column,rowNode)+\"\";if(!filteredValues.includes(value)){filteredValues.push(value);}}});return filteredValues;}extractFilterColId(event){return event.xKey||event.calloutLabelKey;}isValidColumnFilter(colId){if(colId.indexOf(\"-filtered-out\")){colId=colId.replace(\"-filtered-out\",\"\");}var filterType=this.getColumnFilterType(colId);if(typeof filterType===\"boolean\"){return filterType;}return[\"agSetColumnFilter\",\"agMultiColumnFilter\"].includes(filterType);}getColumnFilterType(colId){var gridColumn=this.getColumnById(colId);if(gridColumn){var colDef=gridColumn.getColDef();return colDef.filter;}}getColumnById(colId){return this.colModel.getCol(colId);}};// packages/ag-grid-enterprise/src/charts/chartComp/services/chartMenuService.ts\nvar CHART_TOOLBAR_ALLOW_LIST=[\"chartUnlink\",\"chartLink\",\"chartDownload\",\"chartMenu\"];var CHART_TOOL_PANEL_MENU_OPTIONS={settings:\"chartSettings\",data:\"chartData\",format:\"chartFormat\"};var ChartMenuService=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BeanStub{constructor(){super(...arguments);this.beanName=\"chartMenuSvc\";}wireBeans(beans){this.advSettingsMenuFactory=beans.advSettingsMenuFactory;}downloadChart(chartMenuContext,dimensions,fileName,fileFormat){chartMenuContext.chartController.getChartProxy().downloadChart(dimensions,fileName,fileFormat);}toggleLinked(chartMenuContext){chartMenuContext.chartController.detachChartRange();}openAdvancedSettings(chartMenuContext,eventSource){var _this$advSettingsMenu;(_this$advSettingsMenu=this.advSettingsMenuFactory)===null||_this$advSettingsMenu===void 0||_this$advSettingsMenu.showMenu(chartMenuContext,eventSource);}hideAdvancedSettings(){var _this$advSettingsMenu2;(_this$advSettingsMenu2=this.advSettingsMenuFactory)===null||_this$advSettingsMenu2===void 0||_this$advSettingsMenu2.hideMenu();}getChartToolbarOptions(){var defaultChartToolbarOptions=[\"chartMenu\"];var toolbarItemsFunc=this.gos.getCallback(\"getChartToolbarItems\");var params={defaultItems:defaultChartToolbarOptions};return toolbarItemsFunc?toolbarItemsFunc(params).filter(option=>{if(!CHART_TOOLBAR_ALLOW_LIST.includes(option)){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(155,{option});return false;}return true;}):defaultChartToolbarOptions;}getChartToolPanels(chartController){var _chartToolPanelsDef$p;var chartToolPanelsDef=this.gos.get(\"chartToolPanelsDef\");var panelsOverride=chartToolPanelsDef===null||chartToolPanelsDef===void 0||(_chartToolPanelsDef$p=chartToolPanelsDef.panels)===null||_chartToolPanelsDef$p===void 0?void 0:_chartToolPanelsDef$p.map(panel=>{var menuOption=CHART_TOOL_PANEL_MENU_OPTIONS[panel];if(!menuOption){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(156,{panel});}return menuOption;}).filter(panel=>Boolean(panel));var panels=panelsOverride!==null&&panelsOverride!==void 0?panelsOverride:Object.values(CHART_TOOL_PANEL_MENU_OPTIONS);if(chartController.isPivotChart()){panels=panels.filter(panel=>panel!==\"chartData\");}var defaultToolPanel=chartToolPanelsDef===null||chartToolPanelsDef===void 0?void 0:chartToolPanelsDef.defaultToolPanel;var defaultPanel=defaultToolPanel&&CHART_TOOL_PANEL_MENU_OPTIONS[defaultToolPanel]||panels[0];return{panels,defaultPanel};}doesChartToolbarExist(){var chartToolbarOptions=this.getChartToolbarOptions();return chartToolbarOptions.length>0;}doChartToolPanelsExist(chartController){var{panels}=this.getChartToolPanels(chartController);return panels.length>0;}};// packages/ag-grid-enterprise/src/charts/chartComp/services/chartTranslationService.ts\nvar DEFAULT_CHART_TRANSLATIONS={pivotChartTitle:\"Pivot Chart\",rangeChartTitle:\"Range Chart\",settings:\"Chart\",data:\"Set Up\",format:\"Customize\",categories:\"Categories\",defaultCategory:\"(None)\",series:\"Series\",switchCategorySeries:\"Switch Category / Series\",categoryValues:\"Category Values\",seriesLabels:\"Series Labels\",aggregate:\"Aggregate\",xyValues:\"X Y Values\",paired:\"Paired Mode\",axis:\"Axis\",xAxis:\"Horizontal Axis\",yAxis:\"Vertical Axis\",polarAxis:\"Polar Axis\",radiusAxis:\"Radius Axis\",navigator:\"Navigator\",zoom:\"Zoom\",animation:\"Animation\",crosshair:\"Crosshair\",color:\"Color\",thickness:\"Thickness\",preferredLength:\"Preferred Length\",xType:\"X Type\",axisType:\"Axis Type\",automatic:\"Automatic\",category:\"Category\",number:\"Number\",time:\"Time\",timeFormat:\"Time Format\",autoRotate:\"Auto Rotate\",labelRotation:\"Rotation\",circle:\"Circle\",polygon:\"Polygon\",square:\"Square\",cross:\"Cross\",diamond:\"Diamond\",plus:\"Plus\",triangle:\"Triangle\",heart:\"Heart\",orientation:\"Orientation\",fixed:\"Fixed\",parallel:\"Parallel\",perpendicular:\"Perpendicular\",radiusAxisPosition:\"Position\",ticks:\"Ticks\",gridLines:\"Grid Lines\",width:\"Width\",height:\"Height\",length:\"Length\",padding:\"Padding\",spacing:\"Spacing\",chartStyle:\"Chart Style\",title:\"Title\",chartTitles:\"Titles\",chartTitle:\"Chart Title\",chartSubtitle:\"Subtitle\",horizontalAxisTitle:\"Horizontal Axis Title\",verticalAxisTitle:\"Vertical Axis Title\",polarAxisTitle:\"Polar Axis Title\",titlePlaceholder:\"Chart Title\",background:\"Background\",font:\"Font\",weight:\"Weight\",top:\"Top\",right:\"Right\",bottom:\"Bottom\",left:\"Left\",labels:\"Labels\",calloutLabels:\"Callout Labels\",sectorLabels:\"Sector Labels\",positionRatio:\"Position Ratio\",size:\"Size\",shape:\"Shape\",minSize:\"Minimum Size\",maxSize:\"Maximum Size\",legend:\"Legend\",position:\"Position\",markerSize:\"Marker Size\",markerStroke:\"Marker Stroke\",markerPadding:\"Marker Padding\",itemSpacing:\"Item Spacing\",itemPaddingX:\"Item Padding X\",itemPaddingY:\"Item Padding Y\",layoutHorizontalSpacing:\"Horizontal Spacing\",layoutVerticalSpacing:\"Vertical Spacing\",strokeWidth:\"Stroke Width\",offset:\"Offset\",offsets:\"Offsets\",tooltips:\"Tooltips\",callout:\"Callout\",markers:\"Markers\",shadow:\"Shadow\",blur:\"Blur\",xOffset:\"X Offset\",yOffset:\"Y Offset\",lineWidth:\"Line Width\",lineDash:\"Line Dash\",lineDashOffset:\"Dash Offset\",scrollingZoom:\"Scrolling\",scrollingStep:\"Scrolling Step\",selectingZoom:\"Selecting\",durationMillis:\"Duration (ms)\",crosshairLabel:\"Label\",crosshairSnap:\"Snap to Node\",normal:\"Normal\",bold:\"Bold\",italic:\"Italic\",boldItalic:\"Bold Italic\",predefined:\"Predefined\",fillOpacity:\"Fill Opacity\",strokeColor:\"Line Color\",strokeOpacity:\"Line Opacity\",miniChart:\"Mini-Chart\",histogramBinCount:\"Bin count\",connectorLine:\"Connector Line\",seriesItems:\"Series Items\",seriesItemType:\"Item Type\",seriesItemPositive:\"Positive\",seriesItemNegative:\"Negative\",seriesItemLabels:\"Item Labels\",columnGroup:\"Column\",barGroup:\"Bar\",pieGroup:\"Pie\",lineGroup:\"Line\",scatterGroup:\"X Y (Scatter)\",areaGroup:\"Area\",polarGroup:\"Polar\",statisticalGroup:\"Statistical\",hierarchicalGroup:\"Hierarchical\",specializedGroup:\"Specialized\",combinationGroup:\"Combination\",groupedColumnTooltip:\"Grouped\",stackedColumnTooltip:\"Stacked\",normalizedColumnTooltip:\"100% Stacked\",groupedBarTooltip:\"Grouped\",stackedBarTooltip:\"Stacked\",normalizedBarTooltip:\"100% Stacked\",pieTooltip:\"Pie\",donutTooltip:\"Donut\",lineTooltip:\"Line\",stackedLineTooltip:\"Stacked\",normalizedLineTooltip:\"100% Stacked\",groupedAreaTooltip:\"Area\",stackedAreaTooltip:\"Stacked\",normalizedAreaTooltip:\"100% Stacked\",scatterTooltip:\"Scatter\",bubbleTooltip:\"Bubble\",histogramTooltip:\"Histogram\",radialColumnTooltip:\"Radial Column\",radialBarTooltip:\"Radial Bar\",radarLineTooltip:\"Radar Line\",radarAreaTooltip:\"Radar Area\",nightingaleTooltip:\"Nightingale\",rangeBarTooltip:\"Range Bar\",rangeAreaTooltip:\"Range Area\",boxPlotTooltip:\"Box Plot\",treemapTooltip:\"Treemap\",sunburstTooltip:\"Sunburst\",waterfallTooltip:\"Waterfall\",heatmapTooltip:\"Heatmap\",columnLineComboTooltip:\"Column & Line\",areaColumnComboTooltip:\"Area & Column\",customComboTooltip:\"Custom Combination\",innerRadius:\"Inner Radius\",startAngle:\"Start Angle\",endAngle:\"End Angle\",reverseDirection:\"Reverse Direction\",groupPadding:\"Group Padding\",seriesPadding:\"Series Padding\",tile:\"Tile\",whisker:\"Whisker\",cap:\"Cap\",capLengthRatio:\"Length Ratio\",labelPlacement:\"Placement\",inside:\"Inside\",outside:\"Outside\",noDataToChart:\"No data available to be charted.\",pivotChartRequiresPivotMode:\"Pivot Chart requires Pivot Mode enabled.\",chartSettingsToolbarTooltip:\"Menu\",chartLinkToolbarTooltip:\"Linked to Grid\",chartUnlinkToolbarTooltip:\"Unlinked from Grid\",chartDownloadToolbarTooltip:\"Download Chart\",chartMenuToolbarTooltip:\"Menu\",chartEdit:\"Edit Chart\",chartAdvancedSettings:\"Advanced Settings\",chartLink:\"Link to Grid\",chartUnlink:\"Unlink from Grid\",chartDownload:\"Download Chart\",histogramFrequency:\"Frequency\",seriesChartType:\"Series Chart Type\",seriesType:\"Series Type\",secondaryAxis:\"Secondary Axis\",seriesAdd:\"Add a series\",categoryAdd:\"Add a category\",bar:\"Bar\",column:\"Column\",histogram:\"Histogram\",advancedSettings:\"Advanced Settings\",direction:\"Direction\",horizontal:\"Horizontal\",vertical:\"Vertical\",seriesGroupType:\"Group Type\",groupedSeriesGroupType:\"Grouped\",stackedSeriesGroupType:\"Stacked\",normalizedSeriesGroupType:\"100% Stacked\",legendEnabled:\"Enabled\",invalidColor:\"Color value is invalid\",groupedColumnFull:\"Grouped Column\",stackedColumnFull:\"Stacked Column\",normalizedColumnFull:\"100% Stacked Column\",groupedBarFull:\"Grouped Bar\",stackedBarFull:\"Stacked Bar\",normalizedBarFull:\"100% Stacked Bar\",stackedAreaFull:\"Stacked Area\",normalizedAreaFull:\"100% Stacked Area\",stackedLineFull:\"Stacked Line\",normalizedLineFull:\"100% Stacked Line\",customCombo:\"Custom Combination\",funnel:\"Funnel\",coneFunnel:\"Cone Funnel\",pyramid:\"Pyramid\",funnelGroup:\"Funnel\",funnelTooltip:\"Funnel\",coneFunnelTooltip:\"Cone Funnel\",pyramidTooltip:\"Pyramid\",dropOff:\"Drop-Off\",stageLabels:\"Stage Labels\",reverse:\"Reverse\",// menu items\ngroupedColumn:\"Grouped\",stackedColumn:\"Stacked\",pie:\"Pie\",donut:\"Donut\",line:\"Line\",scatter:\"Scatter\",bubble:\"Bubble\",area:\"Area\",stackedArea:\"Stacked\",radarLine:\"Radar Line\",radarArea:\"Radar Area\",nightingale:\"Nightingale\",radialColumn:\"Radial Column\",radialBar:\"Radial Bar\",boxPlot:\"Box Plot\",rangeBar:\"Range Bar\",rangeArea:\"Range Area\",treemap:\"Treemap\",sunburst:\"Sunburst\",waterfall:\"Waterfall\",heatmap:\"Heatmap\",columnLineCombo:\"Column & Line\",AreaColumnCombo:\"Area & Column\",// aria\nariaChartMenuClose:\"Close Chart Edit Menu\",ariaChartSelected:\"Selected\",// group\ngroup:\"Group\",// time formats\ntimeFormatSlashesDDMMYYYY:\"DD/MM/YYYY\",timeFormatSlashesMMDDYYYY:\"MM/DD/YYYY\",timeFormatSlashesDDMMYY:\"DD/MM/YY\",timeFormatSlashesMMDDYY:\"MM/DD/YY\",timeFormatDotsDDMYY:\"DD.M.YY\",timeFormatDotsMDDYY:\"M.DD.YY\",timeFormatDashesYYYYMMDD:\"YYYY-MM-DD\",timeFormatSpacesDDMMMMYYYY:\"DD MMMM YYYY\",timeFormatHHMMSS:\"HH:MM:SS\",timeFormatHHMMSSAmPm:\"HH:MM:SS AM/PM\",// agg funcs\nsum:\"Sum\",first:\"First\",last:\"Last\",min:\"Min\",max:\"Max\",count:\"Count\",avg:\"Average\"};var ChartTranslationService=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BeanStub{constructor(){super(...arguments);this.beanName=\"chartTranslation\";}translate(toTranslate){var translate=this.getLocaleTextFunc();var defaultTranslation=DEFAULT_CHART_TRANSLATIONS[toTranslate];return translate(toTranslate,defaultTranslation);}};// packages/ag-grid-enterprise/src/charts/chartService.ts\n// packages/ag-grid-enterprise/src/charts/chartComp/gridChartComp.ts\n// packages/ag-grid-enterprise/src/charts/chartComp/chartController.ts\n// packages/ag-grid-enterprise/src/charts/chartComp/utils/chartParamsValidator.ts\nvar validateIfDefined=validationFn=>{return value=>{if(value==void 0)return true;return validationFn(value);};};var isString=value=>typeof value===\"string\";var isBoolean=value=>typeof value===\"boolean\";var isValidSeriesChartType=value=>typeof value===\"object\";var createWarnMessage=(property,expectedType)=>value=>\"AG Grid - unable to update chart as invalid params supplied:  `\".concat(property,\": \").concat(value,\"`, expected \").concat(expectedType,\".\");var createEnterpriseMessage=feature=>{var url=\"https://www.ag-grid.com/javascript-data-grid/integrated-charts-installation/\";return\"\".concat(feature,\" is not supported in AG Charts Community ('ag-charts-enterprise' hasn't been loaded). See \").concat(url,\" for more details.\");};var legacyChartTypes=[\"doughnut\"];var baseUpdateChartParams=[\"type\",\"chartId\",\"chartType\",\"chartThemeName\",\"chartThemeOverrides\",\"unlinkChart\"];function isValidChartType(value){return!!getSeriesTypeIfExists(value)||isComboChart(value);}function isLegacyChartType(value){return legacyChartTypes.includes(value);}var validateChartType=validateIfDefined(chartType=>{if(isValidChartType(chartType))return true;if(isLegacyChartType(chartType)){var renamedChartType=getCanonicalChartType(chartType);(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warnOnce)(\"The chart type '\".concat(chartType,\"' has been deprecated. Please use '\").concat(renamedChartType,\"' instead.\"));return renamedChartType;}return false;});var validateAgChartThemeOverrides=validateIfDefined(themeOverrides=>{return typeof themeOverrides===\"object\";});var validateChartParamsCellRange=validateIfDefined(cellRange=>{return typeof cellRange===\"object\";});var validateAggFunc=validateIfDefined(aggFunc=>{return typeof aggFunc===\"string\"||typeof aggFunc===\"function\";});var enterpriseChartTypeValidation=isEnterprise=>({property:\"chartType\",validationFn:validateIfDefined(chartType=>isEnterprise||!chartType||!isEnterpriseChartType(chartType)),warnMessage:chartType=>createEnterpriseMessage(\"The '\".concat(chartType,\"' chart type\"))});var switchCategorySeriesValidation=isEnterprise=>({property:\"switchCategorySeries\",validationFn:validateIfDefined(switchCategorySeries=>{if(!switchCategorySeries||isEnterprise){return true;}return void 0;}),warnMessage:()=>createEnterpriseMessage(\"'switchCategorySeries' has been ignored as it\"),warnIfFixed:true});var commonUpdateValidations=()=>[{property:\"chartId\",validationFn:isString,warnMessage:createWarnMessage(\"chartId\",\"string\")},{property:\"chartType\",validationFn:validateChartType,warnMessage:createWarnMessage(\"chartType\",\"ChartType\")},{property:\"chartThemeName\",validationFn:isString,warnMessage:createWarnMessage(\"chartThemeName\",\"string\")},{property:\"chartThemeOverrides\",validationFn:validateAgChartThemeOverrides,warnMessage:createWarnMessage(\"chartThemeOverrides\",\"AgChartThemeOverrides\")},{property:\"unlinkChart\",validationFn:isBoolean,warnMessage:createWarnMessage(\"unlinkChart\",\"boolean\")}];var cellRangeValidations=isEnterprise=>[{property:\"cellRange\",validationFn:validateChartParamsCellRange,warnMessage:createWarnMessage(\"cellRange\",\"ChartParamsCellRange\")},{property:\"suppressChartRanges\",validationFn:isBoolean,warnMessage:createWarnMessage(\"suppressChartRanges\",\"boolean\")},{property:\"aggFunc\",validationFn:validateAggFunc,warnMessage:createWarnMessage(\"aggFunc\",\"string or IAggFunc\")},switchCategorySeriesValidation(isEnterprise)];function validateUpdateParams(params,isEnterprise){var paramsToValidate=params;switch(paramsToValidate.type){case\"rangeChartUpdate\":return validateUpdateRangeChartParams(params,isEnterprise);case\"pivotChartUpdate\":return validateUpdatePivotChartParams(params);case\"crossFilterChartUpdate\":return validateUpdateCrossFilterChartParams(params,isEnterprise);default:(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warnOnce)(\"Invalid value supplied for 'type': \".concat(params.type,\". It must be either 'rangeChartUpdate', 'pivotChartUpdate', or 'crossFilterChartUpdate'.\"));return false;}}function validateCreateParams(params,isEnterprise){return validateProperties(params,[enterpriseChartTypeValidation(isEnterprise),switchCategorySeriesValidation(isEnterprise)]);}function validateUpdateRangeChartParams(params,isEnterprise){var validations=[...commonUpdateValidations(),enterpriseChartTypeValidation(isEnterprise),...cellRangeValidations(isEnterprise),{property:\"seriesChartTypes\",validationFn:value=>value===void 0||Array.isArray(value)&&value.every(isValidSeriesChartType),warnMessage:createWarnMessage(\"seriesChartTypes\",\"Array of SeriesChartType\")}];return validateProperties(params,validations,[...baseUpdateChartParams,\"cellRange\",\"suppressChartRanges\",\"switchCategorySeries\",\"aggFunc\",\"seriesChartTypes\",\"seriesGroupType\"],\"UpdateRangeChartParams\");}function validateUpdatePivotChartParams(params){var validations=[...commonUpdateValidations()];return validateProperties(params,validations,[...baseUpdateChartParams],\"UpdatePivotChartParams\");}function validateUpdateCrossFilterChartParams(params,isEnterprise){var validations=[...commonUpdateValidations(),...cellRangeValidations(isEnterprise)];return validateProperties(params,validations,[...baseUpdateChartParams,\"cellRange\",\"suppressChartRanges\",\"aggFunc\"],\"UpdateCrossFilterChartParams\");}function validateProperties(params,validations,validPropertyNames,paramsType){var validatedProperties=void 0;for(var validation of validations){var{property,validationFn,warnMessage,warnIfFixed}=validation;if(property in params){var value=params[property];var validationResult=validationFn(value);if(validationResult===true)continue;if(validationResult===false){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warnOnce)(warnMessage(value));return false;}validatedProperties=validatedProperties||_objectSpread({},params);validatedProperties[property]=validationResult;if(warnIfFixed){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warnOnce)(warnMessage(value));}}}if(validPropertyNames){for(var _property of Object.keys(params)){if(!validPropertyNames.includes(_property)){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warnOnce)(\"Unexpected property supplied. \".concat(paramsType,\" does not contain: `\").concat(_property,\"`.\"));return false;}}}if(validatedProperties)return validatedProperties;return true;}// packages/ag-grid-enterprise/src/charts/chartComp/chartController.ts\nvar DEFAULT_THEMES=[\"ag-default\",\"ag-material\",\"ag-sheets\",\"ag-polychroma\",\"ag-vivid\"];var ChartController=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BeanStub{constructor(model){super();this.model=model;this.isEnterprise=()=>this.agChartsExports.isEnterprise;}wireBeans(beans){this.rangeSvc=beans.rangeSvc;this.agChartsExports=beans.agChartsExports;}postConstruct(){this.setChartRange();if(this.model.unlinked){if(this.rangeSvc){this.rangeSvc.setCellRanges([]);}}var listener=this.updateForGridChange.bind(this,{});this.addManagedEventListeners({cellSelectionChanged:event=>{if(event.id&&event.id===this.model.chartId){this.updateForRangeChange();}},columnMoved:listener,columnPinned:listener,columnVisible:listener,columnRowGroupChanged:listener,modelUpdated:listener,cellValueChanged:this.updateForDataChange.bind(this),cellEditValuesChanged:this.updateForDataChange.bind(this)});}update(params){if(!this.validUpdateType(params))return false;var validationResult=validateUpdateParams(params,this.agChartsExports.isEnterprise);if(!validationResult)return false;var validParams=validationResult===true?params:validationResult;this.applyValidatedChartParams(validParams);return true;}applyValidatedChartParams(params){var _this$createCellRange,_params$switchCategor,_params$aggFunc,_params$suppressChart,_params$seriesGroupTy,_this$createCellRange2,_params$aggFunc2,_params$suppressChart2,_this$rangeSvc;var{chartId,chartType,chartThemeName,unlinkChart}=params;var common={chartId,pivotChart:this.model.pivotChart,chartType:chartType!==null&&chartType!==void 0?chartType:this.model.chartType,chartThemeName:chartThemeName!==null&&chartThemeName!==void 0?chartThemeName:this.model.chartThemeName,unlinkChart:unlinkChart!==null&&unlinkChart!==void 0?unlinkChart:this.model.unlinked,cellRange:this.model.suppliedCellRange,switchCategorySeries:this.model.switchCategorySeries,aggFunc:this.model.aggFunc,seriesChartTypes:void 0,suppressChartRanges:false,crossFiltering:false};var chartModelParams=_objectSpread({},common);switch(params.type){case\"rangeChartUpdate\":chartModelParams.cellRange=(_this$createCellRange=this.createCellRange(params))!==null&&_this$createCellRange!==void 0?_this$createCellRange:this.model.suppliedCellRange;chartModelParams.switchCategorySeries=(_params$switchCategor=params.switchCategorySeries)!==null&&_params$switchCategor!==void 0?_params$switchCategor:this.model.switchCategorySeries;chartModelParams.aggFunc=(_params$aggFunc=params.aggFunc)!==null&&_params$aggFunc!==void 0?_params$aggFunc:this.model.aggFunc;chartModelParams.seriesChartTypes=params.seriesChartTypes;chartModelParams.suppressChartRanges=(_params$suppressChart=params.suppressChartRanges)!==null&&_params$suppressChart!==void 0?_params$suppressChart:this.model.suppressChartRanges;chartModelParams.seriesGroupType=(_params$seriesGroupTy=params.seriesGroupType)!==null&&_params$seriesGroupTy!==void 0?_params$seriesGroupTy:this.model.seriesGroupType;break;case\"crossFilterChartUpdate\":chartModelParams.cellRange=(_this$createCellRange2=this.createCellRange(params))!==null&&_this$createCellRange2!==void 0?_this$createCellRange2:this.model.suppliedCellRange;chartModelParams.switchCategorySeries=false;chartModelParams.aggFunc=(_params$aggFunc2=params.aggFunc)!==null&&_params$aggFunc2!==void 0?_params$aggFunc2:this.model.aggFunc;chartModelParams.crossFiltering=true;chartModelParams.suppressChartRanges=(_params$suppressChart2=params.suppressChartRanges)!==null&&_params$suppressChart2!==void 0?_params$suppressChart2:this.model.suppressChartRanges;break;case\"pivotChartUpdate\":chartModelParams.switchCategorySeries=false;break;}this.model.updateModel(chartModelParams);var removeChartCellRanges=chartModelParams.unlinkChart||chartModelParams.suppressChartRanges;removeChartCellRanges?(_this$rangeSvc=this.rangeSvc)===null||_this$rangeSvc===void 0?void 0:_this$rangeSvc.setCellRanges([]):this.setChartRange();}updateForGridChange(params){if(this.model.unlinked){return;}var{maintainColState,setColsFromRange}=params!==null&&params!==void 0?params:{};this.model.updateCellRanges({maintainColState,setColsFromRange});this.model.updateData();this.setChartRange();}updateForDataChange(){if(this.model.unlinked){return;}this.model.updateData();this.raiseChartModelUpdateEvent();}updateForRangeChange(){this.updateForGridChange({setColsFromRange:true});this.raiseChartRangeSelectionChangedEvent();}updateForPanelChange(params){this.model.updateCellRanges(params);this.model.updateData();if(params.skipAnimation){this.getChartProxy().getChartRef().skipAnimations();}this.setChartRange();this.raiseChartRangeSelectionChangedEvent();}updateThemeOverrides(updatedOverrides){this.chartProxy.updateThemeOverrides(updatedOverrides);}getChartUpdateParams(updatedOverrides){var selectedCols=this.getSelectedValueColState();var fields=selectedCols.map(c=>({colId:c.colId,displayName:c.displayName}));var data=this.getChartData();var selectedDimensions=this.getSelectedDimensions();var params={data,groupData:this.model.groupChartData,grouping:this.isGrouping(),categories:selectedDimensions.map(selectedDimension=>{var _this$model$categoryA;return{id:selectedDimension.colId,name:selectedDimension.displayName,chartDataType:(_this$model$categoryA=this.model.categoryAxisType)!==null&&_this$model$categoryA!==void 0?_this$model$categoryA:this.model.getChartDataType(selectedDimension.colId)};}),fields,chartId:this.getChartId(),getCrossFilteringContext:()=>({lastSelectedChartId:\"xxx\"}),//this.params.crossFilteringContext, //TODO\nseriesChartTypes:this.getSeriesChartTypes(),updatedOverrides,seriesGroupType:this.model.seriesGroupType};return this.isCategorySeriesSwitched()?this.invertCategorySeriesParams(params):params;}invertCategorySeriesParams(params){var[category]=params.categories;var categories=[{id:DEFAULT_CHART_CATEGORY,name:\"\"}];var fields=params.data.map((value,index)=>{var categoryKey=\"\".concat(category.id,\":\").concat(index);var categoryValue=value[category.id];var seriesLabel=categoryValue==null?\"\":String(categoryValue);return{colId:categoryKey,displayName:seriesLabel};});var data=params.fields.map(field=>{var row={[DEFAULT_CHART_CATEGORY]:field.displayName};for(var[index,value]of params.data.entries()){var categoryKey=\"\".concat(category.id,\":\").concat(index);var seriesLabelValue=value[field.colId];row[categoryKey]=seriesLabelValue;}return row;});return _objectSpread(_objectSpread({},params),{},{categories,fields,data});}getChartModel(){var _this$chartProxy,_this$chartProxy2;var modelType=this.model.pivotChart?\"pivot\":\"range\";var seriesChartTypes=this.isComboChart()?this.model.comboChartModel.seriesChartTypes:void 0;return{modelType,chartId:this.model.chartId,chartType:this.model.chartType,chartThemeName:this.getChartThemeName(),chartOptions:(_this$chartProxy=this.chartProxy)===null||_this$chartProxy===void 0?void 0:_this$chartProxy.getChartThemeOverrides(),chartPalette:(_this$chartProxy2=this.chartProxy)===null||_this$chartProxy2===void 0?void 0:_this$chartProxy2.getChartPalette(),cellRange:this.getCellRangeParams(),switchCategorySeries:this.model.switchCategorySeries,suppressChartRanges:this.model.suppressChartRanges,aggFunc:this.model.aggFunc,unlinkChart:this.model.unlinked,seriesChartTypes,seriesGroupType:this.model.seriesGroupType};}getChartId(){return this.model.chartId;}getChartData(){return this.model.chartData;}getChartType(){return this.model.chartType;}setChartType(chartType){this.updateMultiSeriesAndCategory(this.model.chartType,chartType);this.model.chartType=chartType;this.model.comboChartModel.updateSeriesChartTypes();this.model.switchCategorySeries=false;this.model.categoryAxisType=void 0;this.model.seriesGroupType=void 0;this.raiseChartModelUpdateEvent();}isCategorySeriesSwitched(){return this.model.switchCategorySeries&&!this.model.isGrouping();}switchCategorySeries(inverted){if(!supportsInvertedCategorySeries(this.getChartType()))return;this.model.switchCategorySeries=inverted;this.raiseChartModelUpdateEvent();}getAggFunc(){return this.model.aggFunc;}setAggFunc(value,silent){if(this.model.aggFunc===value)return;this.model.aggFunc=value;if(silent)return;this.model.updateData();this.raiseChartModelUpdateEvent();}updateMultiSeriesAndCategory(previousChartType,chartType){var _getMaxNumCategories,_getMaxNumSeries;var updateForMax=(columns,maxNum)=>{var numSelected=0;for(var colState of columns){if(!colState.selected)continue;if(numSelected>=maxNum){colState.selected=false;}else{numSelected++;}}if(numSelected===0){columns[0].selected=true;}};var maxNumDimensions=getMaxNumCategories(chartType);var maxNumSeries=getMaxNumSeries(chartType);var updateDimensionColState=maxNumDimensions!=null&&((_getMaxNumCategories=getMaxNumCategories(previousChartType))!==null&&_getMaxNumCategories!==void 0?_getMaxNumCategories:100)>(maxNumDimensions!==null&&maxNumDimensions!==void 0?maxNumDimensions:100);var updateValueColState=maxNumSeries!=null&&((_getMaxNumSeries=getMaxNumSeries(previousChartType))!==null&&_getMaxNumSeries!==void 0?_getMaxNumSeries:100)>(maxNumSeries!==null&&maxNumSeries!==void 0?maxNumSeries:100);if(updateDimensionColState){updateForMax(this.model.dimensionColState,maxNumDimensions);}if(updateValueColState){updateForMax(this.model.valueColState,maxNumSeries);}if(updateDimensionColState||updateValueColState){this.model.resetCellRanges(updateDimensionColState,updateValueColState);this.setChartRange(true);}}setChartThemeName(chartThemeName,silent){this.model.chartThemeName=chartThemeName;if(!silent){this.raiseChartModelUpdateEvent();}}getChartThemeName(){return this.model.chartThemeName;}isPivotChart(){return this.model.pivotChart;}isPivotMode(){return this.model.isPivotMode();}isGrouping(){return this.model.isGrouping();}isCrossFilterChart(){return this.model.crossFiltering;}getThemeNames(){return this.gos.get(\"chartThemes\")||DEFAULT_THEMES;}getThemes(){var themeNames=this.getThemeNames();return themeNames.map(themeName=>{var stockTheme=isStockTheme(themeName,this.agChartsExports._Theme);var theme=stockTheme?themeName:this.chartProxy.lookupCustomChartTheme(themeName);return this.agChartsExports._Theme.getChartTheme(theme);});}getPalettes(){var themes=this.getThemes();return themes.map(theme=>{return theme.palette;});}getValueColState(){return this.model.valueColState.map(this.displayNameMapper.bind(this));}getSelectedValueColState(){return this.getValueColState().filter(cs=>cs.selected);}getSelectedDimensions(){return this.model.getSelectedDimensions();}displayNameMapper(col){var{column}=col;if(column){col.displayName=this.model.getColDisplayName(column,this.model.isPivotMode());}else{var colNames=this.model.colNames[col.colId];col.displayName=colNames?colNames.join(\" - \"):this.model.getColDisplayName(column);}return col;}getColStateForMenu(){return{dimensionCols:this.model.dimensionColState,valueCols:this.getValueColState()};}setChartRange(){var silent=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;if(this.rangeSvc&&!this.model.suppressChartRanges&&!this.model.unlinked){this.rangeSvc.setCellRanges(this.getCellRanges());}if(!silent){this.raiseChartModelUpdateEvent();}}detachChartRange(){this.model.unlinked=!this.model.unlinked;if(this.model.unlinked){if(this.rangeSvc){this.rangeSvc.setCellRanges([]);}}else{this.updateForGridChange();}this.dispatchLocalEvent({type:\"chartLinkedChanged\"});}setChartProxy(chartProxy){this.chartProxy=chartProxy;}getChartProxy(){return this.chartProxy;}isActiveXYChart(){return[\"scatter\",\"bubble\"].includes(this.getChartType());}isChartLinked(){return!this.model.unlinked;}customComboExists(){var savedCustomSeriesChartTypes=this.model.comboChartModel.savedCustomSeriesChartTypes;return savedCustomSeriesChartTypes&&savedCustomSeriesChartTypes.length>0;}getSeriesChartTypes(){return this.model.comboChartModel.seriesChartTypes;}isComboChart(chartType){return this.model.isComboChart(chartType);}updateSeriesChartType(colId,chartType,secondaryAxis){var seriesChartType=this.model.comboChartModel.seriesChartTypes.find(s=>s.colId===colId);if(seriesChartType){var updateChartType=this.model.chartType!==\"customCombo\";if(updateChartType){this.model.chartType=\"customCombo\";}var prevSeriesChartType=seriesChartType.chartType;if(chartType!=null){seriesChartType.chartType=chartType;}if(secondaryAxis!=null){seriesChartType.secondaryAxis=secondaryAxis;}this.model.comboChartModel.savedCustomSeriesChartTypes=this.model.comboChartModel.seriesChartTypes;this.model.comboChartModel.updateSeriesChartTypes();this.updateForDataChange();if(updateChartType){this.dispatchLocalEvent({type:\"chartTypeChanged\"});}if(prevSeriesChartType!==chartType){this.dispatchLocalEvent({type:\"chartSeriesChartTypeChanged\"});}this.raiseChartOptionsChangedEvent();}}getActiveSeriesChartTypes(){var selectedColIds=this.getSelectedValueColState().map(c=>c.colId);return this.getSeriesChartTypes().filter(s=>selectedColIds.includes(s.colId));}getChartSeriesTypes(chartType){var targetChartType=chartType!==null&&chartType!==void 0?chartType:this.getChartType();return this.isComboChart(targetChartType)?[\"line\",\"bar\",\"area\"]:[getSeriesType(targetChartType)];}getChartSeriesType(){var seriesChartTypes=this.getSeriesChartTypes();if(seriesChartTypes.length===0){return\"bar\";}var ct=seriesChartTypes[0].chartType;if(ct===\"columnLineCombo\"){return\"bar\";}if(ct===\"areaColumnCombo\"){return\"area\";}return getSeriesType(ct);}getCellRanges(){return[this.model.dimensionCellRange,this.model.valueCellRange].filter(r=>r);}createCellRange(params){var _this$rangeSvc2;return params.cellRange&&((_this$rangeSvc2=this.rangeSvc)===null||_this$rangeSvc2===void 0?void 0:_this$rangeSvc2.createPartialCellRangeFromRangeParams(params.cellRange,true));}validUpdateType(params){var _Object$keys$find;if(!params.type){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(136);return false;}var chartTypeMap={\"Range Chart\":()=>!this.isPivotChart()&&!this.isCrossFilterChart(),\"Pivot Chart\":()=>this.isPivotChart(),\"Cross Filter Chart\":()=>this.isCrossFilterChart()};var currentChartType=(_Object$keys$find=Object.keys(chartTypeMap).find(type=>chartTypeMap[type]()))!==null&&_Object$keys$find!==void 0?_Object$keys$find:\"Range Chart\";var valid=params.type===\"\".concat(currentChartType[0].toLowerCase()).concat(currentChartType.slice(1).replace(/ /g,\"\"),\"Update\");if(!valid){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(137,{currentChartType,type:params.type});}return valid;}getCellRangeParams(){var cellRanges=this.getCellRanges();var firstCellRange=cellRanges[0];var startRow=firstCellRange&&firstCellRange.startRow||null;var endRow=firstCellRange&&firstCellRange.endRow||null;return{rowStartIndex:startRow&&startRow.rowIndex,rowStartPinned:startRow&&startRow.rowPinned,rowEndIndex:endRow&&endRow.rowIndex,rowEndPinned:endRow&&endRow.rowPinned,columns:cellRanges.reduce((columns,value)=>columns.concat(value.columns.map(c=>c.getId())),[])};}setCategoryAxisType(categoryAxisType){this.model.categoryAxisType=categoryAxisType;this.raiseChartModelUpdateEvent();}getSeriesGroupType(){var _this$model$seriesGro;return(_this$model$seriesGro=this.model.seriesGroupType)!==null&&_this$model$seriesGro!==void 0?_this$model$seriesGro:this.chartProxy.getSeriesGroupType();}setSeriesGroupType(seriesGroupType){this.model.seriesGroupType=seriesGroupType;this.raiseChartModelUpdateEvent();}raiseChartModelUpdateEvent(){this.dispatchLocalEvent({type:\"chartModelUpdate\"});this.raiseChartOptionsChangedEvent();}raiseChartUpdatedEvent(){this.dispatchLocalEvent({type:\"chartUpdated\"});}raiseChartApiUpdateEvent(){this.dispatchLocalEvent({type:\"chartApiUpdate\"});}raiseChartOptionsChangedEvent(){var _this$chartProxy3;var{chartId,chartType}=this.getChartModel();this.eventSvc.dispatchEvent({type:\"chartOptionsChanged\",chartId,chartType,chartThemeName:this.getChartThemeName(),chartOptions:(_this$chartProxy3=this.chartProxy)===null||_this$chartProxy3===void 0?void 0:_this$chartProxy3.getChartThemeOverrides()});}raiseChartRangeSelectionChangedEvent(){this.eventSvc.dispatchEvent({type:\"chartRangeSelectionChanged\",id:this.model.chartId,chartId:this.model.chartId,cellRange:this.getCellRangeParams()});}destroy(){super.destroy();if(this.rangeSvc){this.rangeSvc.setCellRanges([]);}}};// packages/ag-grid-enterprise/src/charts/chartComp/chartProxies/cartesian/areaChartProxy.ts\nvar AreaChartProxy=class extends CartesianChartProxy{getAxes(params){var axes=[{type:this.getXAxisType(params),position:\"bottom\"},{type:\"number\",position:\"left\"}];if(this.isNormalised()){var numberAxis=axes[1];numberAxis.label=_objectSpread(_objectSpread({},numberAxis.label),{},{formatter:params2=>Math.round(params2.value)+\"%\"});}return axes;}getSeries(params){var[category]=params.categories;var series=params.fields.map(f=>({type:this.standaloneChartType,xKey:category.id,xName:category.name,yKey:f.colId,yName:f.displayName,normalizedTo:this.chartType===\"normalizedArea\"?100:void 0,stacked:[\"normalizedArea\",\"stackedArea\"].includes(this.chartType)}));return this.crossFiltering?this.extractLineAreaCrossFilterSeries(series,params):series;}isNormalised(){return!this.crossFiltering&&this.chartType===\"normalizedArea\";}};// packages/ag-grid-enterprise/src/charts/chartComp/chartProxies/cartesian/barChartProxy.ts\nvar HORIZONTAL_CHART_TYPES=/* @__PURE__ */new Set([\"bar\",\"groupedBar\",\"stackedBar\",\"normalizedBar\"]);var BarChartProxy=class extends CartesianChartProxy{getAxes(params){var axes=[{type:this.getXAxisType(params),position:this.isHorizontal()?\"left\":\"bottom\"},{type:\"number\",position:this.isHorizontal()?\"bottom\":\"left\"}];if(this.isNormalised()){var numberAxis=axes[1];numberAxis.label=_objectSpread(_objectSpread({},numberAxis.label),{},{formatter:params2=>Math.round(params2.value)+\"%\"});}return axes;}getSeries(params){var[category]=params.categories;var series=params.fields.map(f=>({type:this.standaloneChartType,direction:this.isHorizontal()?\"horizontal\":\"vertical\",stacked:this.crossFiltering||isStacked(this.chartType),normalizedTo:this.isNormalised()?100:void 0,xKey:category.id,xName:category.name,yKey:f.colId,yName:f.displayName}));return this.crossFiltering?this.extractCrossFilterSeries(series):series;}extractCrossFilterSeries(series){var allSeries=[];for(var i=0;i<series.length;i++){var commonSeries=series[i];var primarySeries=_objectSpread(_objectSpread({},commonSeries),{},{listeners:{seriesNodeClick:this.crossFilterCallback}});var filteredOutSeries=_objectSpread(_objectSpread({},primarySeries),{},{yKey:\"\".concat(primarySeries.yKey,\"-filtered-out\"),showInLegend:false});allSeries.push(primarySeries);allSeries.push(filteredOutSeries);}return allSeries;}isNormalised(){var normalisedCharts=[\"normalizedColumn\",\"normalizedBar\"];return!this.crossFiltering&&normalisedCharts.includes(this.chartType);}isHorizontal(){return HORIZONTAL_CHART_TYPES.has(this.chartType);}};// packages/ag-grid-enterprise/src/charts/chartComp/chartProxies/cartesian/lineChartProxy.ts\nvar LineChartProxy=class extends CartesianChartProxy{getAxes(params){var axes=[{type:this.getXAxisType(params),position:\"bottom\"},{type:\"number\",position:\"left\"}];if(this.isNormalised()){var numberAxis=axes[1];numberAxis.label=_objectSpread(_objectSpread({},numberAxis.label),{},{formatter:params2=>Math.round(params2.value)+\"%\"});}return axes;}getSeries(params){var[category]=params.categories;var stacked=[\"normalizedLine\",\"stackedLine\"].includes(this.chartType);var series=params.fields.map(f=>({type:this.standaloneChartType,xKey:category.id,xName:category.name,yKey:f.colId,yName:f.displayName,normalizedTo:stacked&&this.isNormalised()?100:void 0,stacked}));return this.crossFiltering?this.extractLineAreaCrossFilterSeries(series,params):series;}isNormalised(){var normalisedCharts=[\"normalizedLine\"];return!this.crossFiltering&&normalisedCharts.includes(this.chartType);}};// packages/ag-grid-enterprise/src/charts/chartComp/chartProxies/cartesian/scatterChartProxy.ts\nvar ScatterChartProxy=class extends CartesianChartProxy{getAxes(_params){return[{type:\"number\",position:\"bottom\"},{type:\"number\",position:\"left\"}];}getSeries(params){var[category]=params.categories;var paired=this.isPaired();var seriesDefinitions=this.getSeriesDefinitions(params.fields,paired);var labelFieldDefinition=category.id===DEFAULT_CHART_CATEGORY?void 0:category;var series=seriesDefinitions.map(seriesDefinition=>{var _seriesDefinition$xFi2,_seriesDefinition$yFi2;if(seriesDefinition!==null&&seriesDefinition!==void 0&&seriesDefinition.sizeField){var _seriesDefinition$xFi,_seriesDefinition$yFi,_seriesDefinition$siz;var opts2={type:\"bubble\",xKey:seriesDefinition.xField.colId,xName:(_seriesDefinition$xFi=seriesDefinition.xField.displayName)!==null&&_seriesDefinition$xFi!==void 0?_seriesDefinition$xFi:void 0,yKey:seriesDefinition.yField.colId,yName:(_seriesDefinition$yFi=seriesDefinition.yField.displayName)!==null&&_seriesDefinition$yFi!==void 0?_seriesDefinition$yFi:void 0,title:\"\".concat(seriesDefinition.yField.displayName,\" vs \").concat(seriesDefinition.xField.displayName),sizeKey:seriesDefinition.sizeField.colId,sizeName:(_seriesDefinition$siz=seriesDefinition.sizeField.displayName)!==null&&_seriesDefinition$siz!==void 0?_seriesDefinition$siz:\"\",labelKey:labelFieldDefinition?labelFieldDefinition.id:seriesDefinition.yField.colId,labelName:labelFieldDefinition?labelFieldDefinition.name:void 0};return opts2;}var opts={type:\"scatter\",xKey:seriesDefinition.xField.colId,xName:(_seriesDefinition$xFi2=seriesDefinition.xField.displayName)!==null&&_seriesDefinition$xFi2!==void 0?_seriesDefinition$xFi2:void 0,yKey:seriesDefinition.yField.colId,yName:(_seriesDefinition$yFi2=seriesDefinition.yField.displayName)!==null&&_seriesDefinition$yFi2!==void 0?_seriesDefinition$yFi2:void 0,title:\"\".concat(seriesDefinition.yField.displayName,\" vs \").concat(seriesDefinition.xField.displayName),labelKey:labelFieldDefinition?labelFieldDefinition.id:seriesDefinition.yField.colId,labelName:labelFieldDefinition?labelFieldDefinition.name:void 0};return opts;});return this.crossFiltering?this.extractCrossFilterSeries(series,params):series;}extractCrossFilterSeries(series,params){var{data}=params;var filteredOutKey=key=>\"\".concat(key,\"-filtered-out\");var calcMarkerDomain=(data2,sizeKey)=>{var markerDomain=[Infinity,-Infinity];if(sizeKey!=null){for(var datum of data2){var _datum$sizeKey;var value=(_datum$sizeKey=datum[sizeKey])!==null&&_datum$sizeKey!==void 0?_datum$sizeKey:datum[filteredOutKey(sizeKey)];if(value<markerDomain[0]){markerDomain[0]=value;}if(value>markerDomain[1]){markerDomain[1]=value;}}}if(markerDomain[0]<=markerDomain[1]){return markerDomain;}return void 0;};var updatePrimarySeries=series2=>{var markerDomain=void 0;if(series2.type===\"bubble\"){var{sizeKey}=series2;markerDomain=calcMarkerDomain(data,sizeKey);}return _objectSpread(_objectSpread({},series2),{},{domain:markerDomain,highlight:{highlightedItem:{fill:\"yellow\"}},listeners:_objectSpread(_objectSpread({},series2.listeners),{},{seriesNodeClick:this.crossFilterCallback})});};var updateFilteredOutSeries=series2=>{var{yKey,xKey}=series2;var alteredSizeKey={};if(series2.type===\"bubble\"){alteredSizeKey={sizeKey:filteredOutKey(series2.sizeKey)};}return _objectSpread(_objectSpread(_objectSpread({},series2),alteredSizeKey),{},{yKey:filteredOutKey(yKey),xKey:filteredOutKey(xKey),showInLegend:false,listeners:_objectSpread(_objectSpread({},series2.listeners),{},{seriesNodeClick:e=>{var value=e.datum[filteredOutKey(xKey)];var filterableEvent=_objectSpread(_objectSpread({},e),{},{xKey,datum:_objectSpread(_objectSpread({},e.datum),{},{[xKey]:value})});this.crossFilterCallback(filterableEvent);}})});};var updatedSeries=series.map(updatePrimarySeries);return[...updatedSeries,...updatedSeries.map(updateFilteredOutSeries)];}getSeriesDefinitions(fields,paired){if(fields.length<2){return[];}var isBubbleChart=this.chartType===\"bubble\";if(paired){if(isBubbleChart){return fields.map((currentXField,i)=>i%3===0?{xField:currentXField,yField:fields[i+1],sizeField:fields[i+2]}:null).filter(x=>x&&x.yField&&x.sizeField);}return fields.map((currentXField,i)=>i%2===0?{xField:currentXField,yField:fields[i+1]}:null).filter(x=>x&&x.yField);}var xField=fields[0];if(isBubbleChart){return fields.map((yField,i)=>i%2===1?{xField,yField,sizeField:fields[i+1]}:null).filter(x=>x&&x.sizeField);}return fields.filter((value,i)=>i>0).map(yField=>({xField,yField}));}};// packages/ag-grid-enterprise/src/charts/chartComp/chartProxies/combo/comboChartProxy.ts\nvar ComboChartProxy=class extends CartesianChartProxy{getAxes(params){var fields=params?params.fields:[];var fieldsMap=new Map(fields.map(f=>[f.colId,f]));var{primaryYKeys,secondaryYKeys}=this.getYKeys(fields,params.seriesChartTypes);var axes=[{type:this.getXAxisType(params),position:\"bottom\"}];if(primaryYKeys.length>0){axes.push({type:\"number\",keys:primaryYKeys,position:\"left\"});}if(secondaryYKeys.length>0){secondaryYKeys.forEach(secondaryYKey=>{var field=fieldsMap.get(secondaryYKey);var secondaryAxisIsVisible=field&&field.colId===secondaryYKey;if(!secondaryAxisIsVisible){return;}var secondaryAxisOptions={type:\"number\",keys:[secondaryYKey],position:\"right\"};axes.push(secondaryAxisOptions);});}return axes;}getSeries(params){var{fields,seriesChartTypes}=params;var[category]=params.categories;return fields.map(field=>{var seriesChartType=seriesChartTypes.find(s=>s.colId===field.colId);if(seriesChartType){var chartType=seriesChartType.chartType;var grouped=[\"groupedColumn\",\"groupedBar\"].includes(chartType);var groupedOpts=grouped?{grouped:true}:{};return _objectSpread({type:getSeriesType(chartType),xKey:category.id,yKey:field.colId,yName:field.displayName,stacked:[\"stackedArea\",\"stackedColumn\"].includes(chartType)},groupedOpts);}});}getYKeys(fields,seriesChartTypes){var primaryYKeys=[];var secondaryYKeys=[];fields.forEach(field=>{var colId=field.colId;var seriesChartType=seriesChartTypes.find(s=>s.colId===colId);if(seriesChartType){seriesChartType.secondaryAxis?secondaryYKeys.push(colId):primaryYKeys.push(colId);}});return{primaryYKeys,secondaryYKeys};}};// packages/ag-grid-enterprise/src/charts/chartComp/chartProxies/pie/pieChartProxy.ts\nfunction calculateOffsets(offset){var outerRadiusOffset=offset.currentOffset;offset.currentOffset-=offset.offsetAmount;var innerRadiusOffset=offset.currentOffset;offset.currentOffset-=offset.offsetAmount;return{outerRadiusOffset,innerRadiusOffset};}var PieChartProxy=class extends ChartProxy{getUpdateOptions(params,commonChartOptions){return _objectSpread(_objectSpread({},commonChartOptions),{},{data:this.crossFiltering?this.getCrossFilterData(params):params.data,series:this.getSeries(params)});}getSeries(params){var[category]=params.categories;var numFields=params.fields.length;var offset={currentOffset:0,offsetAmount:numFields>1?20:40};var series=this.getFields(params).map(f=>{var options={type:this.standaloneChartType,angleKey:f.colId,angleName:f.displayName,sectorLabelKey:f.colId,calloutLabelName:category.name,calloutLabelKey:category.id};if(this.chartType===\"donut\"||this.chartType===\"doughnut\"){var{outerRadiusOffset,innerRadiusOffset}=calculateOffsets(offset);var title=f.displayName?{title:{text:f.displayName,showInLegend:numFields>1}}:void 0;return _objectSpread(_objectSpread({},options),{},{type:\"donut\",outerRadiusOffset,innerRadiusOffset},title);}return options;});return this.crossFiltering?this.extractCrossFilterSeries(series):series;}getCrossFilterData(params){var colId=params.fields[0].colId;var filteredOutColId=\"\".concat(colId,\"-filtered-out\");return params.data.map(d=>{var total=d[colId]+d[filteredOutColId];d[\"\".concat(colId,\"-total\")]=total;d[filteredOutColId]=1;d[colId]=d[colId]/total;return d;});}extractCrossFilterSeries(series){var primarySeries=series[0];var angleKey=primarySeries.angleKey;var commonOptions=_objectSpread(_objectSpread({},primarySeries),{},{radiusMin:0,radiusMax:1,listeners:{seriesNodeClick:this.crossFilterCallback},legendItemKey:primarySeries.calloutLabelKey,angleKey:\"\".concat(angleKey,\"-total\")});var primaryOptions=_objectSpread(_objectSpread({},commonOptions),{},{radiusKey:angleKey,sectorLabelKey:\"\".concat(angleKey,\"-total\")});var filteredOutOptions=_objectSpread(_objectSpread({},commonOptions),{},{radiusKey:\"\".concat(angleKey,\"-filtered-out\"),showInLegend:false});return[filteredOutOptions,primaryOptions];}getFields(params){return this.chartType===\"pie\"?params.fields.slice(0,1):params.fields;}};// packages/ag-grid-enterprise/src/charts/chartComp/menu/chartMenu.ts\n// packages/ag-grid-enterprise/src/charts/chartComp/menu/chartToolbar.ts\nvar ChartToolbar=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(){super(/* html */\"<div class=\\\"ag-chart-menu\\\" data-ref=\\\"eMenu\\\"></div>\");this.eMenu=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.buttonListenersDestroyFuncs=[];}wireBeans(beans){this.chartTranslation=beans.chartTranslation;}updateParams(params){var{buttons}=params;this.createButtons(buttons);}createButtons(buttons){this.buttonListenersDestroyFuncs.forEach(func=>func===null||func===void 0?void 0:func());this.buttonListenersDestroyFuncs=[];var menuEl=this.eMenu;(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._clearElement)(menuEl);buttons.forEach(buttonConfig=>{var{buttonName,iconName,callback}=buttonConfig;var buttonEl=this.createButton(iconName);var tooltipTitle=this.chartTranslation.translate(buttonName+\"ToolbarTooltip\");if(tooltipTitle&&buttonEl instanceof HTMLElement){buttonEl.title=tooltipTitle;}this.buttonListenersDestroyFuncs.push(...this.addManagedElementListeners(buttonEl,{click:event=>callback(event.currentTarget)}));menuEl.appendChild(buttonEl);});}createButton(iconName){var buttonEl=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createIconNoSpan)(iconName,this.beans);buttonEl.classList.add(\"ag-chart-menu-icon\");var wrapperEl=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createElement)({tag:\"button\",attrs:{type:\"button\"},cls:\"ag-chart-menu-toolbar-button\"});wrapperEl.appendChild(buttonEl);return wrapperEl;}destroy(){this.buttonListenersDestroyFuncs=[];super.destroy();}};// packages/ag-grid-enterprise/src/charts/chartComp/menu/tabbedChartMenu.ts\n// packages/ag-grid-enterprise/src/charts/chartComp/menu/data/chartDataPanel.ts\n// packages/ag-grid-enterprise/src/charts/chartComp/menu/data/categoriesDataPanel.ts\n// packages/ag-grid-enterprise/src/charts/chartComp/menu/data/dragDataPanel.ts\n// packages/ag-grid-enterprise/src/charts/widgets/agPillSelect.ts\n// packages/ag-grid-enterprise/src/charts/widgets/agPillSelect.css-GENERATED.ts\nvar agPillSelectCSS=/*css*/\".ag-pill-select{display:flex;flex-direction:column}:where(.ag-pill-select){.ag-column-drop-list{padding:0}.ag-select{padding-top:var(--ag-spacing)}.ag-picker-field-wrapper{background-color:transparent;border:0}.ag-picker-field-display{cursor:pointer;font-weight:500}.ag-picker-field-display,.ag-picker-field-icon{color:var(--ag-chart-menu-label-color)}}\";// packages/ag-grid-enterprise/src/charts/widgets/agPillSelect.ts\nvar AgPillSelect=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(config){super(/* html */\"<div class=\\\"ag-pill-select\\\" role=\\\"presentation\\\"></div>\");this.config=config!==null&&config!==void 0?config:{};var{selectedValueList,valueFormatter,valueList}=this.config;this.selectedValues=selectedValueList!==null&&selectedValueList!==void 0?selectedValueList:[];this.valueList=valueList!==null&&valueList!==void 0?valueList:[];this.valueFormatter=valueFormatter!==null&&valueFormatter!==void 0?valueFormatter:value=>(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._escapeString)(value);this.registerCSS(agPillSelectCSS);}postConstruct(){var{ariaLabel,onValuesChange,dragSourceId}=this.config;this.dropZonePanel=this.createManagedBean(new PillSelectDropZonePanel({getValues:()=>this.selectedValues,setValues:values=>this.updateValues(values),isDraggable:()=>this.selectedValues.length>1},value=>this.valueFormatter(value),ariaLabel,dragSourceId));var eGui=this.getGui();eGui.appendChild(this.dropZonePanel.getGui());this.initSelect();if(onValuesChange!=null){this.onValuesChange=onValuesChange;}}setValues(valueList,selectedValues){var{added,removed,updated}=this.getChanges(this.valueList,valueList);var refreshSelect=false;if(added.length||removed.length||updated.length){refreshSelect=true;}this.valueList=valueList;this.updateValues(selectedValues,refreshSelect,true);return this;}setValueFormatter(valueFormatter){this.valueFormatter=valueFormatter;return this;}initSelect(){var options=this.createSelectOptions();if(!options.length){return false;}var{selectPlaceholder:placeholder}=this.config;this.eSelect=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgSelect({options,placeholder,onValueChange:value=>this.addValue(value),pickerIcon:\"chartsMenuAdd\"}));this.getGui().appendChild(this.eSelect.getGui());return true;}createSelectOptions(){var options=[];var{maxSelection}=this.config;if(maxSelection&&this.selectedValues.length>=maxSelection){return options;}this.valueList.forEach(value=>{if(!this.selectedValues.includes(value)){options.push({value,text:this.valueFormatter(value)});}});return options;}addValue(value){this.dropZonePanel.addItem(value);}updateValues(values,forceRefreshSelect,silent){var _this$eSelect,_this$dropZonePanel;var previousSelectedValues=this.selectedValues;this.selectedValues=values;var changes=this.getChanges(previousSelectedValues,values);var refreshSelect=forceRefreshSelect||changes.added.length||changes.removed.length;var activeElement=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getActiveDomElement)(this.beans);var selectHasFocus=(_this$eSelect=this.eSelect)===null||_this$eSelect===void 0?void 0:_this$eSelect.getGui().contains(activeElement);var dropZoneHasFocus=(_this$dropZonePanel=this.dropZonePanel)===null||_this$dropZonePanel===void 0?void 0:_this$dropZonePanel.getGui().contains(activeElement);if(!silent){var _this$onValuesChange;(_this$onValuesChange=this.onValuesChange)===null||_this$onValuesChange===void 0||_this$onValuesChange.call(this,changes);}var emptyRefreshedSelect=refreshSelect?!this.refreshSelect():false;this.dropZonePanel.refreshGui();if(refreshSelect&&selectHasFocus){if(emptyRefreshedSelect){this.dropZonePanel.focusList(true);}else{var _this$eSelect2;(_this$eSelect2=this.eSelect)===null||_this$eSelect2===void 0||_this$eSelect2.getFocusableElement().focus();}}if(dropZoneHasFocus&&!values.length){var _this$eSelect3;(_this$eSelect3=this.eSelect)===null||_this$eSelect3===void 0||_this$eSelect3.getFocusableElement().focus();}}getChanges(previousSelectedValues,newSelectedValues){var added=newSelectedValues.filter(value=>!previousSelectedValues.includes(value));var removed=previousSelectedValues.filter(value=>!newSelectedValues.includes(value));var updated=newSelectedValues.filter((value,index)=>previousSelectedValues[index]!==value);return{added,removed,updated,selected:newSelectedValues};}refreshSelect(){if(!this.eSelect){return this.initSelect();}var options=this.createSelectOptions();if(!options.length){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._removeFromParent)(this.eSelect.getGui());this.eSelect=this.destroyBean(this.eSelect);return false;}this.eSelect.clearOptions().addOptions(options).setValue(void 0,true);return true;}destroy(){this.destroyBean(this.eSelect);super.destroy();}};var PillSelectDragComp=class extends PillDragComp{constructor(value,dragSourceDropTarget,ghost,valueFormatter,draggable,sourceId){super(dragSourceDropTarget,ghost,false);this.value=value;this.valueFormatter=valueFormatter;this.draggable=draggable;this.sourceId=sourceId;}getItem(){return this.value;}getDisplayName(){return this.valueFormatter(this.value);}getAriaDisplayName(){return this.getDisplayName();}getTooltip(){return void 0;}createGetDragItem(){return()=>({value:this.value});}getDragSourceType(){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.DragSourceType.ChartPanel;}getDragSourceId(){return this.sourceId;}isMovable(){return this.isDraggable();}isDraggable(){return this.draggable;}};var PillSelectDropZonePanel=class extends PillDropZonePanel{constructor(model,valueFormatter,ariaLabel,sourceId){super(false);this.model=model;this.valueFormatter=valueFormatter;this.ariaLabel=ariaLabel;this.sourceId=sourceId;}postConstruct(){super.init();}isItemDroppable(item,draggingEvent){return this.isSourceEventFromTarget(draggingEvent)||this.sourceId!=null&&this.sourceId===draggingEvent.dragSource.sourceId;}updateItems(items){this.model.setValues(items);}getExistingItems(){return this.model.getValues();}getIconName(){return this.isPotentialDndItems()?\"move\":\"notAllowed\";}getAriaLabel(){return this.ariaLabel;}createPillComponent(item,dropTarget,ghost){return new PillSelectDragComp(item,dropTarget,ghost,this.valueFormatter,this.model.isDraggable(),this.sourceId);}getItems(dragItem){return[dragItem.value];}isInterestedIn(type){return type===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.DragSourceType.ChartPanel;}};// packages/ag-grid-enterprise/src/charts/chartComp/menu/data/dragDataPanel.ts\nvar DragDataPanel=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(chartController,allowMultipleSelection,maxSelection,template){super(template);this.chartController=chartController;this.allowMultipleSelection=allowMultipleSelection;this.maxSelection=maxSelection;}wireBeans(beans){this.chartTranslation=beans.chartTranslation;}addItem(eItem){this.groupComp.addItem(eItem);}createGroup(columns,valueFormatter,selectLabelKey,dragSourceId,skipAnimation){if(this.allowMultipleSelection){var selectedValueList=columns.filter(col=>col.selected);this.valuePillSelect=this.groupComp.createManagedBean(new AgPillSelect({valueList:columns,selectedValueList,valueFormatter,selectPlaceholder:this.chartTranslation.translate(selectLabelKey),dragSourceId,onValuesChange:params=>this.onValueChange(params),maxSelection:this.maxSelection}));this.groupComp.addItem(this.valuePillSelect);}else{var params=this.createValueSelectParams(columns);params.onValueChange=updatedColState=>{columns.forEach(col=>{col.selected=false;});updatedColState.selected=true;if(updatedColState.colId===DEFAULT_CHART_CATEGORY){this.chartController.setAggFunc(void 0,true);}this.chartController.updateForPanelChange({updatedColState,skipAnimation:skipAnimation===null||skipAnimation===void 0?void 0:skipAnimation()});};this.valueSelect=this.groupComp.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgSelect(params));this.groupComp.addItem(this.valueSelect);}}refreshValueSelect(columns){if(!this.valueSelect){return;}var{options,value}=this.createValueSelectParams(columns);this.valueSelect.clearOptions().addOptions(options).setValue(value,true);}createValueSelectParams(columns){var selectedValue;var options=columns.map(value=>{var _value$displayName;var text=(_value$displayName=value.displayName)!==null&&_value$displayName!==void 0?_value$displayName:\"\";if(value.selected){selectedValue=value;}return{value,text};});return{options,value:selectedValue};}onValueChange(_ref125){var{added,updated,removed,selected}=_ref125;var updatedColState;var resetOrder;var updateOrder=()=>{selected.forEach((col,index)=>{col.order=index;});resetOrder=true;};if(added.length){updatedColState=added[0];updatedColState.selected=true;updateOrder();}else if(removed.length){updatedColState=removed[0];updatedColState.selected=false;}else if(updated.length){updateOrder();updatedColState=updated[0];}if(updatedColState){this.chartController.updateForPanelChange({updatedColState,resetOrder});}}destroy(){this.valuePillSelect=void 0;this.valueSelect=void 0;super.destroy();}};// packages/ag-grid-enterprise/src/charts/chartComp/menu/data/categoriesDataPanel.ts\nvar DEFAULT_AGG_FUNC=\"sum\";var CategoriesDataPanel=class extends DragDataPanel{constructor(chartController,title,allowMultipleSelection,dimensionCols,isOpen){var maxSelection=void 0;super(chartController,allowMultipleSelection,maxSelection,/* html */\"<div id=\\\"categoriesGroup\\\"></div>\");this.title=title;this.dimensionCols=dimensionCols;this.isOpen=isOpen;}postConstruct(){this.groupComp=this.createBean(new AgGroupComponent({title:this.title,enabled:true,suppressEnabledCheckbox:true,suppressOpenCloseIcons:false,cssIdentifier:\"charts-data\",expanded:this.isOpen}));this.createGroup(this.dimensionCols,col=>{var _col$displayName;return(_col$displayName=col.displayName)!==null&&_col$displayName!==void 0?_col$displayName:\"\";},\"categoryAdd\",\"categorySelect\",()=>!this.chartController.getAggFunc());this.createAggFuncControls(this.dimensionCols);this.getGui().appendChild(this.groupComp.getGui());}refresh(dimensionCols){var _this$valuePillSelect;(_this$valuePillSelect=this.valuePillSelect)===null||_this$valuePillSelect===void 0||_this$valuePillSelect.setValues(dimensionCols,dimensionCols.filter(col=>col.selected));this.refreshValueSelect(dimensionCols);this.refreshAggFuncControls(dimensionCols,this.chartController.getAggFunc());}createAggFuncControls(dimensionCols){var aggFunc=this.chartController.getAggFunc();this.groupComp.addItem(this.aggFuncToggle=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgToggleButton({label:this.chartTranslation.translate(\"aggregate\"),labelAlignment:\"left\",labelWidth:\"flex\",inputWidth:\"flex\",value:aggFunc!=void 0,onValueChange:value=>{var _this$aggFuncSelect,_this$aggFuncSelect2;var aggFunc2=value?DEFAULT_AGG_FUNC:void 0;this.chartController.setAggFunc(aggFunc2);(_this$aggFuncSelect=this.aggFuncSelect)===null||_this$aggFuncSelect===void 0||_this$aggFuncSelect.setValue(aggFunc2,true);(_this$aggFuncSelect2=this.aggFuncSelect)===null||_this$aggFuncSelect2===void 0||_this$aggFuncSelect2.setDisplayed(aggFunc2!=void 0);}})));this.groupComp.addItem(this.aggFuncSelect=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgSelect({options:[{value:\"sum\",text:this.chartTranslation.translate(\"sum\")},{value:\"first\",text:this.chartTranslation.translate(\"first\")},{value:\"last\",text:this.chartTranslation.translate(\"last\")},{value:\"min\",text:this.chartTranslation.translate(\"min\")},{value:\"max\",text:this.chartTranslation.translate(\"max\")},{value:\"count\",text:this.chartTranslation.translate(\"count\")},{value:\"avg\",text:this.chartTranslation.translate(\"avg\")}],value:typeof aggFunc===\"string\"?aggFunc:void 0,onValueChange:value=>{this.chartController.setAggFunc(value);}})));this.refreshAggFuncControls(dimensionCols,aggFunc);}refreshAggFuncControls(dimensionCols,aggFunc){var _this$aggFuncToggle,_this$aggFuncSelect3,_this$aggFuncToggle2,_this$aggFuncSelect4;var selectedDimensions=dimensionCols.filter(col=>col.selected);var supportsAggregation=selectedDimensions.some(col=>col.colId!==DEFAULT_CHART_CATEGORY);(_this$aggFuncToggle=this.aggFuncToggle)===null||_this$aggFuncToggle===void 0||_this$aggFuncToggle.setValue(aggFunc!=void 0);(_this$aggFuncSelect3=this.aggFuncSelect)===null||_this$aggFuncSelect3===void 0||_this$aggFuncSelect3.setValue(typeof aggFunc===\"string\"?aggFunc:void 0,true);(_this$aggFuncToggle2=this.aggFuncToggle)===null||_this$aggFuncToggle2===void 0||_this$aggFuncToggle2.setDisplayed(supportsAggregation);(_this$aggFuncSelect4=this.aggFuncSelect)===null||_this$aggFuncSelect4===void 0||_this$aggFuncSelect4.setDisplayed(supportsAggregation&&aggFunc!=void 0);}clearAggFuncControls(){this.aggFuncToggle=this.destroyBean(this.aggFuncToggle);this.aggFuncSelect=this.destroyBean(this.aggFuncSelect);}destroy(){this.clearAggFuncControls();this.groupComp=this.destroyBean(this.groupComp);super.destroy();}};// packages/ag-grid-enterprise/src/charts/chartComp/menu/data/chartSpecificDataPanel.ts\n// packages/ag-grid-enterprise/src/charts/chartComp/menu/chartMenuParamsFactory.ts\nvar ChartMenuParamsFactory=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BeanStub{constructor(chartOptionsProxy){super();this.chartOptionsProxy=chartOptionsProxy;}wireBeans(beans){this.chartTranslation=beans.chartTranslation;}getDefaultColorPickerParams(expression,labelKey,options){return this.addValueParams(expression,{label:this.chartTranslation.translate(labelKey!==null&&labelKey!==void 0?labelKey:\"color\"),labelWidth:\"flex\",inputWidth:\"flex\",labelAlignment:\"top\",pickerGap:6},options);}getDefaultNumberInputParams(expression,labelKey,options){return this.addValueParams(expression,{label:this.chartTranslation.translate(labelKey),labelAlignment:\"top\",labelWidth:\"flex\",inputWidth:\"flex\",precision:options===null||options===void 0?void 0:options.precision,step:options===null||options===void 0?void 0:options.step,min:options===null||options===void 0?void 0:options.min,max:options===null||options===void 0?void 0:options.max},{parseInputValue:value=>{var numberValue=Number(value);return isNaN(numberValue)?void 0:numberValue;},formatInputValue:value=>{return value==null?\"\":\"\".concat(value);}});}getDefaultSliderParams(expression,labelKey,defaultMaxValue,isArray){var _this$chartOptionsPro;var value=(_this$chartOptionsPro=this.chartOptionsProxy.getValue(expression))!==null&&_this$chartOptionsPro!==void 0?_this$chartOptionsPro:0;if(isArray&&Array.isArray(value)){value=value[0];}var params=this.getDefaultSliderParamsWithoutValueParams(value,labelKey,defaultMaxValue);params.onValueChange=value2=>this.chartOptionsProxy.setValue(expression,isArray?[value2]:value2);return params;}getDefaultSliderParamsWithoutValueParams(value,labelKey,defaultMaxValue){return{label:this.chartTranslation.translate(labelKey),minValue:0,maxValue:Math.max(value,defaultMaxValue),textFieldWidth:45,value:\"\".concat(value)};}getDefaultCheckboxParams(expression,labelKey,options){var value=this.chartOptionsProxy.getValue(expression);var params={label:this.chartTranslation.translate(labelKey),value,readOnly:options===null||options===void 0?void 0:options.readOnly,passive:options===null||options===void 0?void 0:options.passive};params.onValueChange=value2=>{this.chartOptionsProxy.setValue(expression,typeof value2===\"boolean\"?value2:void 0);};return params;}getDefaultToggleParams(expression,labelKey,options){var value=this.chartOptionsProxy.getValue(expression);var params={label:this.chartTranslation.translate(labelKey),labelAlignment:\"left\",labelWidth:\"flex\",inputWidth:\"flex\",value,readOnly:options===null||options===void 0?void 0:options.readOnly,passive:options===null||options===void 0?void 0:options.passive};params.onValueChange=value2=>{this.chartOptionsProxy.setValue(expression,typeof value2===\"boolean\"?value2:void 0);};return params;}getDefaultSelectParams(expression,labelKey,dropdownOptions){return this.getDefaultSelectParamsWithoutValueParams(labelKey,dropdownOptions,this.chartOptionsProxy.getValue(expression),value=>{this.chartOptionsProxy.setValue(expression,value);});}getDefaultSelectParamsWithoutValueParams(labelKey,options,value,onValueChange){return{label:this.chartTranslation.translate(labelKey),labelAlignment:\"top\",options,pickerGap:6,value,onValueChange};}getDefaultFontPanelParams(expression,labelKey){var keyMapper=key=>\"\".concat(expression,\".\").concat(key);return this.addEnableParams(keyMapper(\"enabled\"),{name:this.chartTranslation.translate(labelKey),suppressEnabledCheckbox:false,chartMenuParamsFactory:this,keyMapper});}addValueParams(expression,params,options){var optionsValue=this.chartOptionsProxy.getValue(expression);params.value=options!==null&&options!==void 0&&options.formatInputValue?options.formatInputValue(optionsValue):optionsValue;params.onValueChange=value=>{var optionsValue2=options!==null&&options!==void 0&&options.parseInputValue?options.parseInputValue(value):value;this.chartOptionsProxy.setValue(expression,optionsValue2);};return params;}addEnableParams(expression,params){var _this$chartOptionsPro2;params.enabled=(_this$chartOptionsPro2=this.chartOptionsProxy.getValue(expression))!==null&&_this$chartOptionsPro2!==void 0?_this$chartOptionsPro2:false;params.onEnableChange=value=>this.chartOptionsProxy.setValue(expression,value);return params;}getChartOptions(){return this.chartOptionsProxy;}};// packages/ag-grid-enterprise/src/charts/chartComp/menu/data/chartSpecificDataPanel.ts\nvar ChartSpecificDataPanel=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(chartMenuContext,isOpen){super();this.chartMenuContext=chartMenuContext;this.isOpen=isOpen;this.chartSpecificGroup=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.hasContent=false;}wireBeans(beans){this.chartTranslation=beans.chartTranslation;this.chartSvc=beans.chartSvc;}postConstruct(){var title=this.getTitle();var chartSpecificGroupParams={title,enabled:true,suppressEnabledCheckbox:true,suppressOpenCloseIcons:false,cssIdentifier:\"charts-data\",expanded:this.isOpen,items:[...this.createDirectionSelect(),this.createReverseSelect(),this.createGroupTypeSelect()]};this.setTemplate(/* html */\"\\n            <div id=\\\"chartSpecificGroup\\\">\\n                <ag-group-component data-ref=\\\"chartSpecificGroup\\\"></ag-group-component>\\n            </div>\",[AgGroupComponentSelector],{chartSpecificGroup:chartSpecificGroupParams});this.setDisplayed(this.hasContent);}refresh(){this.hasContent=false;this.chartSpecificGroup.setTitle(this.getTitle());this.updateDirectionSelect();this.updateReverseSelect();this.updateGroupTypeSelect();this.setDisplayed(this.hasContent);}getTitle(){var chartType=this.chartMenuContext.chartController.getChartType();return this.chartTranslation.translate(getFullChartNameTranslationKey(chartType));}createDirectionSelect(){if(!this.chartSvc.isEnterprise()){return[];}var{chartOptionsService,chartController}=this.chartMenuContext;var chartOptionsSeriesProxy=chartOptionsService.getSeriesOptionsProxy(()=>getSeriesType(chartController.getChartType()));var chartSeriesMenuParamsFactory=this.createManagedBean(new ChartMenuParamsFactory(chartOptionsSeriesProxy));var options=[\"horizontal\",\"vertical\"].map(value=>({value,text:this.chartTranslation.translate(value)}));var params=chartSeriesMenuParamsFactory.getDefaultSelectParams(\"direction\",\"direction\",options);var onValueChange=params.onValueChange;params.onValueChange=value=>{onValueChange(value);chartController.raiseChartModelUpdateEvent();};this.directionSelect=this.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgSelect(params));this.updateDirectionSelect();return[this.directionSelect];}createReverseSelect(){var{chartMenuParamsFactory}=this.chartMenuContext;var params=chartMenuParamsFactory.getDefaultToggleParams(\"series.reverse\",\"reverse\");this.reverseToggle=this.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgToggleButton(params));this.updateReverseSelect();return this.reverseToggle;}updateReverseSelect(){var isDisplayed=this.chartMenuContext.chartController.getChartType()===\"pyramid\";this.updateDisplayed(this.reverseToggle,isDisplayed);}updateDirectionSelect(){var isDisplayed=canSwitchDirection(this.chartMenuContext.chartController.getChartType());this.updateDisplayed(this.directionSelect,isDisplayed);}createGroupTypeSelect(){var{chartController,chartMenuParamsFactory}=this.chartMenuContext;this.groupTypeSelect=this.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgSelect(chartMenuParamsFactory.getDefaultSelectParamsWithoutValueParams(\"seriesGroupType\",SERIES_GROUP_TYPES.map(value=>({value,text:this.chartTranslation.translate(\"\".concat(value,\"SeriesGroupType\"))})),chartController.getSeriesGroupType(),value=>chartController.setSeriesGroupType(value))));this.updateGroupTypeSelect();return this.groupTypeSelect;}updateGroupTypeSelect(){var isDisplayed=[\"radialColumn\",\"radialBar\",\"nightingale\"].includes(this.chartMenuContext.chartController.getChartType());this.updateDisplayed(this.groupTypeSelect,isDisplayed);}updateDisplayed(select,isDisplayed){select===null||select===void 0||select.setDisplayed(isDisplayed);if(select){this.hasContent=this.hasContent||isDisplayed;}}};// packages/ag-grid-enterprise/src/charts/chartComp/menu/data/seriesChartTypePanel.ts\nvar SeriesChartTypePanel=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(chartController,columns,isOpen){super(/* html */\"<div id=\\\"seriesChartTypeGroup\\\"></div>\");this.chartController=chartController;this.columns=columns;this.isOpen=isOpen;this.selectedColIds=[];this.chartTypeComps=/* @__PURE__ */new Map();this.secondaryAxisComps=/* @__PURE__ */new Map();}wireBeans(beans){this.chartTranslation=beans.chartTranslation;}postConstruct(){this.createSeriesChartTypeGroup(this.columns);}refresh(columns){if(!(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._areEqual)(this.getValidColIds(columns),this.selectedColIds)){this.recreate(columns);}else{this.refreshComps();}}recreate(columns){this.isOpen=this.seriesChartTypeGroupComp.isExpanded();(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._clearElement)(this.getGui());this.destroyBean(this.seriesChartTypeGroupComp);this.columns=columns;this.selectedColIds=[];this.clearComps();this.postConstruct();}getValidColIds(columns){var seriesChartTypes=this.chartController.getSeriesChartTypes();return columns.filter(col=>col.selected&&!!seriesChartTypes.filter(s=>s.colId===col.colId)[0]).map(_ref126=>{var{colId}=_ref126;return colId;});}createSeriesChartTypeGroup(columns){this.seriesChartTypeGroupComp=this.createBean(new AgGroupComponent({title:this.chartTranslation.translate(\"seriesChartType\"),enabled:true,suppressEnabledCheckbox:true,suppressOpenCloseIcons:false,cssIdentifier:\"charts-data\",expanded:this.isOpen}));var seriesChartTypes=this.chartController.getSeriesChartTypes();columns.forEach(col=>{if(!col.selected){return;}var seriesChartType=seriesChartTypes.filter(s=>s.colId===col.colId)[0];if(!seriesChartType){return;}this.selectedColIds.push(col.colId);var seriesItemGroup=this.seriesChartTypeGroupComp.createManagedBean(new AgGroupComponent({title:col.displayName,enabled:true,suppressEnabledCheckbox:true,suppressOpenCloseIcons:true,cssIdentifier:\"charts-format-sub-level\"}));var isSecondaryAxisDisabled=chartType=>[\"groupedColumn\",\"stackedColumn\",\"stackedArea\"].includes(chartType);var secondaryAxisComp=this.seriesChartTypeGroupComp.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgCheckbox({label:this.chartTranslation.translate(\"secondaryAxis\"),labelWidth:\"flex\",disabled:isSecondaryAxisDisabled(seriesChartType.chartType),value:!!seriesChartType.secondaryAxis,onValueChange:enabled=>this.chartController.updateSeriesChartType(col.colId,void 0,enabled)}));seriesItemGroup.addItem(secondaryAxisComp);var options=[\"line\",\"area\",\"stackedArea\",\"groupedColumn\",\"stackedColumn\"].map(value=>({value,text:this.chartTranslation.translate(getFullChartNameTranslationKey(value))}));var chartTypeComp=seriesItemGroup.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgSelect({options,value:seriesChartType.chartType,onValueChange:chartType=>this.chartController.updateSeriesChartType(col.colId,chartType)}));seriesItemGroup.addItem(chartTypeComp);this.seriesChartTypeGroupComp.addItem(seriesItemGroup);this.chartTypeComps.set(col.colId,chartTypeComp);this.secondaryAxisComps.set(col.colId,secondaryAxisComp);});this.getGui().appendChild(this.seriesChartTypeGroupComp.getGui());}refreshComps(){var seriesChartTypes=this.chartController.getSeriesChartTypes();this.selectedColIds.forEach(colId=>{var seriesChartType=seriesChartTypes.find(chartType=>chartType.colId===colId);if(!seriesChartType){return;}var chartTypeComp=this.chartTypeComps.get(colId);var secondaryAxisComp=this.secondaryAxisComps.get(colId);chartTypeComp===null||chartTypeComp===void 0||chartTypeComp.setValue(seriesChartType.chartType);secondaryAxisComp===null||secondaryAxisComp===void 0||secondaryAxisComp.setValue(!!seriesChartType.secondaryAxis);secondaryAxisComp===null||secondaryAxisComp===void 0||secondaryAxisComp.setDisabled(this.isSecondaryAxisDisabled(seriesChartType.chartType));});}clearComps(){this.chartTypeComps.clear();this.secondaryAxisComps.clear();}isSecondaryAxisDisabled(chartType){return[\"groupedColumn\",\"stackedColumn\",\"stackedArea\"].includes(chartType);}destroy(){this.clearComps();this.seriesChartTypeGroupComp=this.destroyBean(this.seriesChartTypeGroupComp);super.destroy();}};// packages/ag-grid-enterprise/src/charts/chartComp/menu/data/seriesDataPanel.ts\nvar SeriesDataPanel=class extends DragDataPanel{constructor(chartController,chartOptionsService,title,allowMultipleSelect,maxSelection,valueCols,isOpen){super(chartController,allowMultipleSelect,maxSelection,/* html */\"<div id=\\\"seriesGroup\\\"></div>\");this.chartOptionsService=chartOptionsService;this.title=title;this.valueCols=valueCols;this.isOpen=isOpen;}postConstruct(){this.groupComp=this.createBean(new AgGroupComponent({title:this.title,enabled:true,suppressEnabledCheckbox:true,suppressOpenCloseIcons:false,cssIdentifier:\"charts-data\",expanded:this.isOpen}));if(this.chartController.isActiveXYChart()){var pairedModeToggle=this.groupComp.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgToggleButton({label:this.chartTranslation.translate(\"paired\"),labelAlignment:\"left\",labelWidth:\"flex\",inputWidth:\"flex\",value:this.chartOptionsService.getPairedMode(),onValueChange:newValue=>{this.chartOptionsService.setPairedMode(!!newValue);this.chartController.updateForGridChange({maintainColState:true});}}));this.groupComp.addItem(pairedModeToggle);}this.createGroup(this.valueCols,this.generateGetSeriesLabel(this.valueCols),\"seriesAdd\",\"seriesSelect\");this.getGui().appendChild(this.groupComp.getGui());}refresh(valueCols){var _this$valuePillSelect2,_this$valuePillSelect3;(_this$valuePillSelect2=this.valuePillSelect)===null||_this$valuePillSelect2===void 0||_this$valuePillSelect2.setValueFormatter(this.generateGetSeriesLabel(valueCols));(_this$valuePillSelect3=this.valuePillSelect)===null||_this$valuePillSelect3===void 0||_this$valuePillSelect3.setValues(valueCols,valueCols.filter(col=>col.selected));this.refreshValueSelect(valueCols);}generateGetSeriesLabel(valueCols){if(!this.chartController.isActiveXYChart()){return col=>{var _col$displayName2;return(_col$displayName2=col.displayName)!==null&&_col$displayName2!==void 0?_col$displayName2:\"\";};}var selectedCols=valueCols.filter(col=>col.selected);var isBubble=this.chartController.getChartType()===\"bubble\";var isInPairedMode=this.chartOptionsService.getPairedMode();var indexToAxisLabel=/* @__PURE__ */new Map();indexToAxisLabel.set(0,\"X\");indexToAxisLabel.set(1,\"Y\");indexToAxisLabel.set(2,\"size\");return col=>{var _col$displayName3;var escapedLabel=(_col$displayName3=col.displayName)!==null&&_col$displayName3!==void 0?_col$displayName3:\"\";if(!col.selected){return escapedLabel;}var index=selectedCols.indexOf(col);if(index===-1){return escapedLabel;}var axisLabel;if(isInPairedMode){axisLabel=indexToAxisLabel.get(index%(isBubble?3:2));}else{if(index===0){axisLabel=\"X\";}else{axisLabel=isBubble&&index%2===0?\"size\":\"Y\";}}return\"\".concat(escapedLabel,\" (\").concat(axisLabel,\")\");};}destroy(){this.groupComp=this.destroyBean(this.groupComp);super.destroy();}};// packages/ag-grid-enterprise/src/charts/chartComp/menu/data/chartDataPanel.ts\nvar DefaultDataPanelDef={groups:[{type:\"categories\",isOpen:true},{type:\"series\",isOpen:true},{type:\"seriesChartType\",isOpen:true},{type:\"chartSpecific\",isOpen:true}]};var ChartDataPanel=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(chartMenuContext){super(/* html */\"<div class=\\\"ag-chart-data-wrapper ag-scrollable-container\\\"></div>\");this.chartMenuContext=chartMenuContext;this.isSwitchCategorySeriesToggled=false;this.restoreSwitchCategorySeriesToggleFocus=false;this.panels=[];this.chartController=chartMenuContext.chartController;}wireBeans(beans){this.chartTranslation=beans.chartTranslation;this.chartSvc=beans.chartSvc;}postConstruct(){this.createSwitchCategorySeriesToggle();this.isSwitchCategorySeriesToggled=this.chartController.isCategorySeriesSwitched();this.updatePanels();var listener=this.updatePanels.bind(this);this.addManagedListeners(this.chartController,{chartModelUpdate:listener,chartApiUpdate:listener});}destroy(){this.clearPanelComponents();super.destroy();}updatePanels(){var currentChartType=this.chartType;var isSwitchCategorySeriesToggledCurrent=this.isSwitchCategorySeriesToggled;var{dimensionCols,valueCols}=this.chartController.getColStateForMenu();this.chartType=this.chartController.getChartType();this.isSwitchCategorySeriesToggled=this.chartController.isCategorySeriesSwitched();var hasChangedSwitchCategorySeries=this.isSwitchCategorySeriesToggled!==isSwitchCategorySeriesToggledCurrent;if(this.canRefresh(currentChartType,this.chartType)&&!hasChangedSwitchCategorySeries){var _this$categoriesDataP,_this$seriesDataPanel,_this$seriesChartType,_this$chartSpecificPa;(_this$categoriesDataP=this.categoriesDataPanel)===null||_this$categoriesDataP===void 0||_this$categoriesDataP.refresh(dimensionCols);(_this$seriesDataPanel=this.seriesDataPanel)===null||_this$seriesDataPanel===void 0||_this$seriesDataPanel.refresh(valueCols);(_this$seriesChartType=this.seriesChartTypePanel)===null||_this$seriesChartType===void 0||_this$seriesChartType.refresh(valueCols);(_this$chartSpecificPa=this.chartSpecificPanel)===null||_this$chartSpecificPa===void 0||_this$chartSpecificPa.refresh();}else{this.recreatePanels(dimensionCols,valueCols);}var isSwitchCategorySeriesDisplayed=supportsInvertedCategorySeries(this.chartType)&&this.chartSvc.isEnterprise()&&!this.chartController.isGrouping();(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setDisplayed)(this.switchCategorySeriesToggle.getGui(),isSwitchCategorySeriesDisplayed);if(hasChangedSwitchCategorySeries){var _this$switchCategoryS;(_this$switchCategoryS=this.switchCategorySeriesToggle)===null||_this$switchCategoryS===void 0||_this$switchCategoryS.setValue(this.chartController.isCategorySeriesSwitched());}if(this.restoreSwitchCategorySeriesToggleFocus){this.restoreSwitchCategorySeriesToggleFocus=false;if(isSwitchCategorySeriesDisplayed){this.switchCategorySeriesToggle.getFocusableElement().focus();}}}canRefresh(oldChartType,newChartType){if(oldChartType===void 0)return false;if(oldChartType===newChartType){return true;}var isCombo=chartType=>[\"columnLineCombo\",\"areaColumnCombo\",\"customCombo\"].includes(chartType);if(isCombo(oldChartType)&&isCombo(newChartType)){return true;}return false;}recreatePanels(dimensionCols,valueCols){var _this$getDataPanelDef,_ref128;this.clearPanelComponents();var{chartType}=this;if(!chartType)return;var isCategorySeriesSwitched=this.chartController.isCategorySeriesSwitched();(_this$getDataPanelDef=this.getDataPanelDef().groups)===null||_this$getDataPanelDef===void 0||_this$getDataPanelDef.forEach(_ref127=>{var{type,isOpen}=_ref127;if(type===(isCategorySeriesSwitched?\"series\":\"categories\")){this.categoriesDataPanel=this.createBean(new CategoriesDataPanel(this.chartController,this.getCategoryGroupTitle(isCategorySeriesSwitched),this.getCategoryGroupMultipleSelect(chartType,isCategorySeriesSwitched),dimensionCols,isOpen));this.panels.push(this.categoriesDataPanel);}else if(type===(isCategorySeriesSwitched?\"categories\":\"series\")){this.seriesDataPanel=this.createBean(new SeriesDataPanel(this.chartController,this.chartMenuContext.chartOptionsService,this.getSeriesGroupTitle(isCategorySeriesSwitched),this.getSeriesGroupMultipleSelect(chartType,isCategorySeriesSwitched),this.getSeriesGroupMaxSelection(chartType,isCategorySeriesSwitched),valueCols,isOpen));this.panels.push(this.seriesDataPanel);}else if(type===\"seriesChartType\"){if(this.chartController.isComboChart()){this.seriesChartTypePanel=this.createBean(new SeriesChartTypePanel(this.chartController,valueCols,isOpen));this.panels.push(this.seriesChartTypePanel);}}else if(type===\"chartSpecific\"){this.chartSpecificPanel=this.createBean(new ChartSpecificDataPanel(this.chartMenuContext,isOpen));this.panels.push(this.chartSpecificPanel);}else{(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(144,{type});}});(_ref128=isCategorySeriesSwitched?this.categoriesDataPanel:this.seriesDataPanel)===null||_ref128===void 0||_ref128.addItem(this.switchCategorySeriesToggle.getGui());this.addPanelComponents();}addPanelComponents(){if(!this.panels.length){return;}var eDocument=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getDocument)(this.beans);var fragment=eDocument.createDocumentFragment();for(var panel of this.panels){panel.addCss(\"ag-chart-data-section\");fragment.appendChild(panel.getGui());}this.getGui().appendChild(fragment);}clearPanelComponents(){var eGui=this.getGui();this.panels.forEach(panel=>{eGui.removeChild(panel.getGui());this.destroyBean(panel);});this.panels=[];}getDataPanelDef(){var _this$gos$get$dataPan,_this$gos$get0;return(_this$gos$get$dataPan=(_this$gos$get0=this.gos.get(\"chartToolPanelsDef\"))===null||_this$gos$get0===void 0?void 0:_this$gos$get0.dataPanel)!==null&&_this$gos$get$dataPan!==void 0?_this$gos$get$dataPan:DefaultDataPanelDef;}getCategoryGroupTitle(isCategorySeriesSwitched){if(isCategorySeriesSwitched)return this.chartTranslation.translate(\"seriesLabels\");return this.chartTranslation.translate(this.chartController.isActiveXYChart()?\"labels\":\"categories\");}getCategoryGroupMultipleSelect(chartType,isCategorySeriesSwitched){if(isCategorySeriesSwitched)return false;return getMaxNumCategories(chartType)!==1;}getSeriesGroupTitle(isCategorySeriesSwitched){if(isCategorySeriesSwitched)return this.chartTranslation.translate(\"categoryValues\");return this.chartTranslation.translate(this.chartController.isActiveXYChart()?\"xyValues\":\"series\");}getSeriesGroupMultipleSelect(chartType,isCategorySeriesSwitched){return this.getSeriesGroupMaxSelection(chartType,isCategorySeriesSwitched)!==1;}getSeriesGroupMaxSelection(chartType,isCategorySeriesSwitched){if(isCategorySeriesSwitched)return void 0;return getMaxNumSeries(chartType);}createSwitchCategorySeriesToggle(){this.switchCategorySeriesToggle=this.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgToggleButton({label:this.chartTranslation.translate(\"switchCategorySeries\"),labelAlignment:\"left\",labelWidth:\"flex\",inputWidth:\"flex\",value:this.chartController.isCategorySeriesSwitched(),onValueChange:value=>{this.restoreSwitchCategorySeriesToggleFocus=true;this.chartController.switchCategorySeries(value);}}));}};// packages/ag-grid-enterprise/src/charts/chartComp/menu/format/formatPanel.ts\n// packages/ag-grid-enterprise/src/charts/chartComp/menu/format/axis/cartesianAxisPanel.ts\n// packages/ag-grid-enterprise/src/charts/widgets/agAngleSelect.ts\nvar AgAngleSelect=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgAbstractLabel{constructor(config){super(config,/* html */\"<div class=\\\"ag-angle-select\\\">\\n            <div data-ref=\\\"eLabel\\\"></div>\\n            <div class=\\\"ag-wrapper ag-angle-select-wrapper\\\">\\n                <div class=\\\"ag-angle-select-field\\\">\\n                    <div data-ref=\\\"eParentCircle\\\" class=\\\"ag-angle-select-parent-circle\\\">\\n                        <div data-ref=\\\"eChildCircle\\\" class=\\\"ag-angle-select-child-circle\\\"></div>\\n                    </div>\\n                </div>\\n                <ag-input-number-field data-ref=\\\"eAngleValue\\\"></ag-input-number-field>\\n            </div>\\n        </div>\",[ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgInputNumberFieldSelector]);this.eLabel=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.eParentCircle=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.eChildCircle=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.eAngleValue=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.radius=0;this.offsetX=0;this.offsetY=0;}wireBeans(beans){this.dragSvc=beans.dragSvc;}postConstruct(){var _this$dragSvc;super.postConstruct();var{value,onValueChange}=this.config;if(value!=null){this.setValue(value,void 0,true);}if(onValueChange!=null){this.onValueChange(onValueChange);}this.dragListener={eElement:this.eParentCircle,dragStartPixels:0,onDragStart:()=>{this.parentCircleRect=this.eParentCircle.getBoundingClientRect();},onDragging:e=>this.calculateAngleDrag(e),onDragStop:()=>{}};(_this$dragSvc=this.dragSvc)===null||_this$dragSvc===void 0||_this$dragSvc.addDragSource(this.dragListener);this.eAngleValue.setLabel(\"\").setLabelWidth(5).setInputWidth(45).setMin(0).setMax(360).setValue(\"\".concat(this.degrees)).onValueChange(value2=>{if(value2==null||value2===\"\"){value2=\"0\";}value2=this.eAngleValue.normalizeValue(value2);var floatValue=parseFloat(value2);if(floatValue>180){floatValue=floatValue-360;}this.setValue(floatValue);});this.updateNumberInput();if((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._exists)(this.getValue())){this.eAngleValue.setValue(this.normalizeNegativeValue(this.getValue()).toString());}this.addManagedListeners(this,{fieldValueChanged:()=>{if(this.eAngleValue.getInputElement().contains((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getActiveDomElement)(this.beans))){return;}this.updateNumberInput();}});}updateNumberInput(){var normalizedValue=this.normalizeNegativeValue(this.getValue());this.eAngleValue.setValue(normalizedValue.toString());}positionChildCircle(radians){var rect=this.parentCircleRect||{width:24,height:24};var eChildCircle=this.eChildCircle;var centerX=rect.width/2;var centerY=rect.height/2;eChildCircle.style.left=\"\".concat(centerX+Math.cos(radians)*8,\"px\");eChildCircle.style.top=\"\".concat(centerY+Math.sin(radians)*8,\"px\");}calculatePolar(){var x=this.offsetX;var y=this.offsetY;var radians=Math.atan2(y,x);this.degrees=this.toDegrees(radians);this.radius=Math.sqrt(x*x+y*y);this.positionChildCircle(radians);}calculateCartesian(){var radians=this.toRadians(this.getValue());var radius=this.getRadius();this.setOffsetX(Math.cos(radians)*radius).setOffsetY(Math.sin(radians)*radius);}setOffsetX(offset){if(this.offsetX!==offset){this.offsetX=offset;this.calculatePolar();}return this;}setOffsetY(offset){if(this.offsetY!==offset){this.offsetY=offset;this.calculatePolar();}return this;}calculateAngleDrag(e){var rect=this.parentCircleRect;var centerX=rect.width/2;var centerY=rect.height/2;var x=e.clientX-rect.left;var y=e.clientY-rect.top;var dx=x-centerX;var dy=y-centerY;var radians=Math.atan2(dy,dx);this.setValue(radians,true);}toDegrees(radians){return radians/Math.PI*180;}toRadians(degrees){return degrees/180*Math.PI;}normalizeNegativeValue(degrees){return degrees<0?360+degrees:degrees;}normalizeAngle180(radians){radians%=Math.PI*2;if(radians<-Math.PI){radians+=Math.PI*2;}else if(radians>=Math.PI){radians-=Math.PI*2;}return radians;}getRadius(){return this.radius;}setRadius(r){if(this.radius===r){return this;}this.radius=r;this.calculateCartesian();return this;}onValueChange(callbackFn){this.addManagedListeners(this,{fieldValueChanged:()=>{callbackFn(this.degrees);}});return this;}getValue(radians){return radians?this.toRadians(this.degrees):this.degrees;}setValue(degrees,radians,silent){var radiansValue;if(!radians){radiansValue=this.normalizeAngle180(this.toRadians(degrees));}else{radiansValue=degrees;}degrees=this.toDegrees(radiansValue);if(this.degrees!==degrees){this.degrees=Math.floor(degrees);this.calculateCartesian();this.positionChildCircle(radiansValue);if(!silent){this.dispatchLocalEvent({type:\"fieldValueChanged\"});}}return this;}setWidth(width){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setFixedWidth)(this.getGui(),width);return this;}setDisabled(disabled){super.setDisabled(disabled);this.eAngleValue.setDisabled(disabled);return this;}destroy(){var _this$dragSvc2;(_this$dragSvc2=this.dragSvc)===null||_this$dragSvc2===void 0||_this$dragSvc2.removeDragSource(this.dragListener);super.destroy();}};// packages/ag-grid-enterprise/src/charts/chartComp/menu/format/fontPanel.ts\nfunction _capitalise(str){return str[0].toUpperCase()+str.substring(1).toLowerCase();}var FontPanel=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(params){super();this.params=params;this.fontGroup=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.activeComps=[];this.chartOptions=params.chartMenuParamsFactory.getChartOptions();}wireBeans(beans){this.chartTranslation=beans.chartTranslation;}postConstruct(){var{cssIdentifier=\"charts-format-sub-level\",name:title,enabled,onEnableChange:_onEnableChange,suppressEnabledCheckbox,chartMenuParamsFactory,keyMapper}=this.params;var fontGroupParams={cssIdentifier,direction:\"vertical\",suppressOpenCloseIcons:true,title,enabled,suppressEnabledCheckbox:true,onEnableChange:enabled2=>{if(_onEnableChange){_onEnableChange(enabled2);}},useToggle:!suppressEnabledCheckbox};this.setTemplate(/* html */\"<div class=\\\"ag-font-panel\\\">\\n        <ag-group-component data-ref=\\\"fontGroup\\\">\\n            <ag-select data-ref=\\\"familySelect\\\"></ag-select>\\n            <ag-select data-ref=\\\"weightStyleSelect\\\"></ag-select>\\n            <div class=\\\"ag-charts-font-size-color\\\">\\n                <ag-select data-ref=\\\"sizeSelect\\\"></ag-select>\\n                <ag-color-picker data-ref=\\\"colorPicker\\\"></ag-color-picker>\\n            </div>\\n        </ag-group-component>\\n    </div>\",[AgGroupComponentSelector,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgSelectSelector,AgColorPickerSelector],{fontGroup:fontGroupParams,familySelect:this.getFamilySelectParams(),weightStyleSelect:this.getWeightStyleSelectParams(),sizeSelect:this.getSizeSelectParams(),colorPicker:chartMenuParamsFactory.getDefaultColorPickerParams(keyMapper(\"color\"))});this.toggleCss(\"ag-font-panel-no-header\",!title);}addItem(comp,prepend){if(prepend){this.fontGroup.prependItem(comp);}else{this.fontGroup.addItem(comp);}this.activeComps.push(comp);}setEnabled(enabled){this.fontGroup.setEnabled(enabled);}getFamilySelectParams(){var families=[\"Arial, sans-serif\",\"Aria Black, sans-serif\",\"Book Antiqua,  serif\",\"Charcoal, sans-serif\",\"Comic Sans MS, cursive\",\"Courier, monospace\",\"Courier New, monospace\",\"Gadget, sans-serif\",\"Geneva, sans-serif\",\"Helvetica, sans-serif\",\"Impact, sans-serif\",\"Lucida Console, monospace\",\"Lucida Grande, sans-serif\",\"Lucida Sans Unicode,  sans-serif\",\"Monaco, monospace\",\"Palatino Linotype, serif\",\"Palatino, serif\",\"Times New Roman, serif\",\"Times, serif\",\"Verdana, sans-serif\"];var family=this.getInitialFontValue(\"fontFamily\");var initialValue=families[0];if(family){var lowerCaseValues=families.map(f=>f.toLowerCase());var valueIndex=lowerCaseValues.indexOf(family.toLowerCase());if(valueIndex>=0){initialValue=families[valueIndex];}else{var capitalisedFontValue=_capitalise(family);families.push(capitalisedFontValue);initialValue=capitalisedFontValue;}}var options=families.sort().map(value=>({value,text:value}));return this.params.chartMenuParamsFactory.getDefaultSelectParamsWithoutValueParams(\"font\",options,\"\".concat(initialValue),newValue=>this.setFont({fontFamily:newValue}));}getSizeSelectParams(){var sizes=[8,10,12,14,16,18,20,22,24,26,28,30,32,34,36];var size=this.getInitialFontValue(\"fontSize\");if(!sizes.includes(size)){sizes.push(size);}var options=sizes.sort((a,b)=>a-b).map(value=>({value:\"\".concat(value),text:\"\".concat(value)}));return this.params.chartMenuParamsFactory.getDefaultSelectParamsWithoutValueParams(\"size\",options,\"\".concat(size),newValue=>this.setFont({fontSize:parseInt(newValue,10)}));}getWeightStyleSelectParams(){var _this$getInitialFontV,_this$getInitialFontV2;var weight=(_this$getInitialFontV=this.getInitialFontValue(\"fontWeight\"))!==null&&_this$getInitialFontV!==void 0?_this$getInitialFontV:\"normal\";var style=(_this$getInitialFontV2=this.getInitialFontValue(\"fontStyle\"))!==null&&_this$getInitialFontV2!==void 0?_this$getInitialFontV2:\"normal\";var weightStyles=[{name:\"normal\",weight:\"normal\",style:\"normal\"},{name:\"bold\",weight:\"bold\",style:\"normal\"},{name:\"italic\",weight:\"normal\",style:\"italic\"},{name:\"boldItalic\",weight:\"bold\",style:\"italic\"}];var selectedOption=weightStyles.find(x=>x.weight===weight&&x.style===style);if(!selectedOption){selectedOption={name:\"predefined\",weight,style};weightStyles.unshift(selectedOption);}var options=weightStyles.map(ws=>({value:ws.name,text:this.chartTranslation.translate(ws.name)}));return this.params.chartMenuParamsFactory.getDefaultSelectParamsWithoutValueParams(\"weight\",options,selectedOption.name,newValue=>{var selectedWeightStyle=weightStyles.find(x=>x.name===newValue);this.setFont({fontWeight:selectedWeightStyle.weight,fontStyle:selectedWeightStyle.style});});}destroyActiveComps(){this.activeComps.forEach(comp=>{(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._removeFromParent)(comp.getGui());this.destroyBean(comp);});}destroy(){this.destroyActiveComps();super.destroy();}setFont(font){var{keyMapper}=this.params;for(var fontKey of Object.keys(font)){var value=font[fontKey];if(value){this.chartOptions.setValue(keyMapper(fontKey),value);}}}getInitialFontValue(fontKey){var{keyMapper}=this.params;return this.chartOptions.getValue(keyMapper(fontKey));}};// packages/ag-grid-enterprise/src/charts/chartComp/menu/format/axis/axisTicksPanel.ts\nvar AxisTicksPanel=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(chartMenuUtils){super();this.chartMenuUtils=chartMenuUtils;this.axisTicksSizeSlider=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;}wireBeans(beans){this.chartTranslation=beans.chartTranslation;}postConstruct(){var{chartMenuUtils}=this;var axisTicksGroupParams=chartMenuUtils.addEnableParams(\"tick.enabled\",{cssIdentifier:\"charts-format-sub-level\",direction:\"vertical\",suppressOpenCloseIcons:true,title:this.chartTranslation.translate(\"ticks\"),suppressEnabledCheckbox:true,useToggle:true});var axisTicksColorPickerParams=chartMenuUtils.getDefaultColorPickerParams(\"tick.stroke\");var axisTicksWidthSliderParams=chartMenuUtils.getDefaultSliderParams(\"tick.width\",\"width\",10);var axisTicksSizeSliderParams=chartMenuUtils.getDefaultSliderParams(\"tick.size\",\"length\",30);this.setTemplate(/* html */\"<div>\\n            <ag-group-component data-ref=\\\"axisTicksGroup\\\">\\n                <ag-color-picker data-ref=\\\"axisTicksColorPicker\\\"></ag-color-picker>\\n                <ag-slider data-ref=\\\"axisTicksWidthSlider\\\"></ag-slider>\\n                <ag-slider data-ref=\\\"axisTicksSizeSlider\\\"></ag-slider>\\n            </ag-group-component>\\n        </div>\",[AgGroupComponentSelector,AgColorPickerSelector,AgSliderSelector],{axisTicksGroup:axisTicksGroupParams,axisTicksColorPicker:axisTicksColorPickerParams,axisTicksWidthSlider:axisTicksWidthSliderParams,axisTicksSizeSlider:axisTicksSizeSliderParams});}setTickSizeSliderDisplayed(displayed){this.axisTicksSizeSlider.setDisplayed(displayed);}};// packages/ag-grid-enterprise/src/charts/chartComp/menu/format/axis/gridLinePanel.ts\nvar GridLinePanel=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(chartMenuUtils){super();this.chartMenuUtils=chartMenuUtils;this.chartOptions=chartMenuUtils.getChartOptions();}wireBeans(beans){this.chartTranslation=beans.chartTranslation;}postConstruct(){var gridLineGroupParams=this.chartMenuUtils.addEnableParams(\"gridLine.enabled\",{cssIdentifier:\"charts-format-sub-level\",direction:\"vertical\",suppressOpenCloseIcons:true,title:this.chartTranslation.translate(\"gridLines\"),suppressEnabledCheckbox:true,useToggle:true});var gridLineColorPickerParams=this.getGridLineColorPickerParams(\"color\");var gridLineWidthSliderParams=this.getGridLineWidthSliderParams(\"thickness\");var gridLineLineDashSliderParams=this.getGridLineDashSliderParams(\"lineDash\");this.setTemplate(/* html */\"<div>\\n            <ag-group-component data-ref=\\\"gridLineGroup\\\">\\n                <ag-color-picker data-ref=\\\"gridLineColorPicker\\\"></ag-color-picker>\\n                <ag-slider data-ref=\\\"gridLineWidthSlider\\\"></ag-slider>\\n                <ag-slider data-ref=\\\"gridLineLineDashSlider\\\"></ag-slider>\\n            </ag-group-component>\\n        </div>\",[AgGroupComponentSelector,AgColorPickerSelector,AgSliderSelector],{gridLineGroup:gridLineGroupParams,gridLineColorPicker:gridLineColorPickerParams,gridLineWidthSlider:gridLineWidthSliderParams,gridLineLineDashSlider:gridLineLineDashSliderParams});}getGridLineColorPickerParams(labelKey){return this.chartMenuUtils.getDefaultColorPickerParams(\"gridLine.style\",labelKey,{formatInputValue:value=>{var _value$;return value===null||value===void 0||(_value$=value[0])===null||_value$===void 0?void 0:_value$.stroke;},parseInputValue:value=>{var _this$chartOptions$ge;var styles=(_this$chartOptions$ge=this.chartOptions.getValue(\"gridLine.style\"))!==null&&_this$chartOptions$ge!==void 0?_this$chartOptions$ge:[];if(styles.length===0)return[{stroke:value,lineDash:[]}];return[_objectSpread(_objectSpread({},styles[0]),{},{stroke:value})];}});}getGridLineWidthSliderParams(labelKey){return this.chartMenuUtils.getDefaultSliderParams(\"gridLine.width\",labelKey,10);}getGridLineDashSliderParams(labelKey){var _initialStyles$;var initialStyles=this.chartOptions.getValue(\"gridLine.style\");var initialValue=initialStyles===null||initialStyles===void 0||(_initialStyles$=initialStyles[0])===null||_initialStyles$===void 0||(_initialStyles$=_initialStyles$.lineDash)===null||_initialStyles$===void 0?void 0:_initialStyles$[0];var params=this.chartMenuUtils.getDefaultSliderParamsWithoutValueParams(initialValue!==null&&initialValue!==void 0?initialValue:0,labelKey,30);params.onValueChange=value=>{var stroke=this.chartOptions.getValue(\"gridLine.style.0.stroke\");this.chartOptions.setValue(\"gridLine.style\",[{lineDash:[value],stroke}]);};return params;}};// packages/ag-grid-enterprise/src/charts/chartComp/menu/format/axis/cartesianAxisPanel.ts\nvar DEFAULT_TIME_AXIS_FORMAT=\"%d %B %Y\";var CartesianAxisPanel=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(axisType,options){super();this.axisType=axisType;this.options=options;this.axisGroup=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.axisTypeSelect=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.axisPositionSelect=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.axisTimeFormatSelect=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.activePanels=[];this.updateFuncs=[];var{chartOptionsService,seriesType,chartController}=options;this.chartOptionsService=chartOptionsService;this.chartController=chartController;this.chartOptionsSeriesProxy=chartOptionsService.getSeriesOptionsProxy(()=>seriesType);}wireBeans(beans){this.chartTranslation=beans.chartTranslation;}postConstruct(){var _axisTypeSelectParams;var{isExpandedOnInit:expanded,chartOptionsService,registerGroupComponent}=this.options;var labelKey=this.axisType;var axisGroupParams={cssIdentifier:\"charts-format-top-level\",direction:\"vertical\",title:this.translate(labelKey),expanded,suppressEnabledCheckbox:true};var chartAxisOptionsProxy=chartOptionsService.getCartesianAxisOptionsProxy(this.axisType);var chartAxisOptions=this.createManagedBean(new ChartMenuParamsFactory(chartAxisOptionsProxy));var chartAxisThemeOverrides=this.createManagedBean(new ChartMenuParamsFactory(chartOptionsService.getCartesianAxisThemeOverridesProxy(this.axisType)));var axisTypeSelectParams=this.getAxisTypeSelectParams(chartAxisOptions,chartOptionsService.getCartesianAxisAppliedThemeOverridesProxy(this.axisType));var axisPositionSelectParams=this.getAxisPositionSelectParams(chartAxisOptions);var axisTimeFormatSelectParams=this.getAxisTimeFormatSelectParams(chartAxisOptions);var axisColorInputParams=this.getAxisColorInputParams(chartAxisThemeOverrides);var axisLineWidthSliderParams=this.getAxisLineWidthSliderParams(chartAxisThemeOverrides);this.setTemplate(/* html */\"<div>\\n            <ag-group-component data-ref=\\\"axisGroup\\\">\\n                <ag-select data-ref=\\\"axisTypeSelect\\\"></ag-select>\\n                <ag-select data-ref=\\\"axisTimeFormatSelect\\\"></ag-select>\\n                <ag-select data-ref=\\\"axisPositionSelect\\\"></ag-select>\\n                <ag-color-picker data-ref=\\\"axisColorInput\\\"></ag-color-picker>\\n                <ag-slider data-ref=\\\"axisLineWidthSlider\\\"></ag-slider>\\n            </ag-group-component>\\n        </div>\",[AgGroupComponentSelector,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgSelectSelector,AgColorPickerSelector,AgSliderSelector],{axisGroup:axisGroupParams,axisTypeSelect:axisTypeSelectParams!==null&&axisTypeSelectParams!==void 0?axisTypeSelectParams:void 0,axisPositionSelect:axisPositionSelectParams!==null&&axisPositionSelectParams!==void 0?axisPositionSelectParams:void 0,axisTimeFormatSelect:axisTimeFormatSelectParams!==null&&axisTimeFormatSelectParams!==void 0?axisTimeFormatSelectParams:void 0,axisColorInput:axisColorInputParams,axisLineWidthSlider:axisLineWidthSliderParams});registerGroupComponent(this.axisGroup);this.axisTypeSelect.setDisplayed(!!((_axisTypeSelectParams=axisTypeSelectParams.options)!==null&&_axisTypeSelectParams!==void 0&&_axisTypeSelectParams.length));if(!axisPositionSelectParams)this.removeTemplateComponent(this.axisPositionSelect);var updateTimeFormatVisibility=()=>{var isTimeAxis=chartAxisOptionsProxy.getValue(\"type\")===\"time\";(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setDisplayed)(this.axisTimeFormatSelect.getGui(),isTimeAxis);};if(!axisTimeFormatSelectParams){this.removeTemplateComponent(this.axisTimeFormatSelect);}else{updateTimeFormatVisibility();this.addManagedEventListeners({chartOptionsChanged:()=>{updateTimeFormatVisibility();}});}this.initGridLines(chartAxisThemeOverrides);this.initAxisTicks(chartAxisThemeOverrides);this.initAxisLabels(chartAxisThemeOverrides);var updateFns=()=>this.updateFuncs.forEach(func=>func());this.addManagedListeners(this.chartController,{chartUpdated:updateFns,chartModelUpdate:()=>setTimeout(()=>{if(!this.isAlive()){return;}this.refreshAxisTypeSelect(chartAxisOptions);updateTimeFormatVisibility();})});}getAxisTypeSelectParams(chartAxisOptions,chartAxisAppliedThemeOverrides){var chartOptions=chartAxisOptions.getChartOptions();var axisTypeSelectOptions=this.getAxisTypeSelectOptions();var params=chartAxisOptions.getDefaultSelectParams(\"type\",\"axisType\",axisTypeSelectOptions);params.onValueChange=value=>{var previousAxisType=chartOptions.getValue(\"type\");if(value===previousAxisType)return;var previousAxisThemeOverrides=chartAxisAppliedThemeOverrides.getValue(\"*\");var previousAxisIsTimeAxis=previousAxisType===\"time\";var updatedAxisIsTimeAxis=value===\"time\";var updatedLabelFormat=previousAxisIsTimeAxis!==updatedAxisIsTimeAxis?updatedAxisIsTimeAxis?DEFAULT_TIME_AXIS_FORMAT:void 0:null;this.chartOptionsService.setCartesianCategoryAxisType(this.axisType,value);if(updatedLabelFormat!==null){var _chartOptions$getValu;var existingLabel=(_chartOptions$getValu=chartOptions.getValue(\"label\"))!==null&&_chartOptions$getValu!==void 0?_chartOptions$getValu:{};chartOptions.setValue(\"label\",_objectSpread(_objectSpread({},existingLabel),{},{format:updatedLabelFormat}));}chartAxisAppliedThemeOverrides.setValue(\"*\",previousAxisThemeOverrides);};return params;}refreshAxisTypeSelect(chartAxisOptions){var options=this.getAxisTypeSelectOptions();var hasOptions=!!options.length;this.axisTypeSelect.setDisplayed(hasOptions);if(!hasOptions){return;}this.axisTypeSelect.clearOptions().addOptions(options).setValue(chartAxisOptions.getChartOptions().getValue(\"type\"));}getAxisTypeSelectOptions(){var controller=this.chartController;var chartType=controller.getChartType();var supportsNumericalAxis=()=>{var testDatum=controller.getChartData()[0];if(!testDatum){return false;}return controller.getSelectedDimensions().every(col=>!isNaN(parseFloat(testDatum[col.colId])));};if([\"heatmap\",\"histogram\",\"boxPlot\",\"rangeBar\",\"scatter\",\"bubble\"].includes(chartType)||controller.isGrouping()||!this.isCategoryAxis()||controller.isCategorySeriesSwitched()||!supportsNumericalAxis()){return[];}return[\"category\",\"number\",\"time\"].map(value=>({value,text:this.translate(value)}));}isCategoryAxis(){var isHorizontal=this.chartOptionsSeriesProxy.getValue(\"direction\")===\"horizontal\";return isHorizontal&&this.axisType===\"yAxis\"||!isHorizontal&&this.axisType===\"xAxis\";}getAxisPositionSelectParams(chartAxisOptions){var axisPositionSelectOptions=((chartType,axisType)=>{switch(chartType){case\"heatmap\":return null;default:switch(axisType){case\"xAxis\":return[{value:\"top\",text:this.translate(\"top\")},{value:\"bottom\",text:this.translate(\"bottom\")}];case\"yAxis\":return[{value:\"left\",text:this.translate(\"left\")},{value:\"right\",text:this.translate(\"right\")}];}}})(this.chartController.getChartType(),this.axisType);if(!axisPositionSelectOptions)return null;return chartAxisOptions.getDefaultSelectParams(\"position\",\"position\",axisPositionSelectOptions);}getAxisTimeFormatSelectParams(chartAxisOptions){if(!this.isCategoryAxis()){return null;}var axisTimeFormatSelectOptions=[{value:\"%d/%m/%Y\",text:this.translate(\"timeFormatSlashesDDMMYYYY\")},{value:\"%m/%d/%Y\",text:this.translate(\"timeFormatSlashesMMDDYYYY\")},{value:\"%d/%m/%y\",text:this.translate(\"timeFormatSlashesDDMMYY\")},{value:\"%m/%d/%y\",text:this.translate(\"timeFormatSlashesMMDDYY\")},{value:\"%d.%e.%y\",text:this.translate(\"timeFormatDotsDDMYY\")},{value:\"%e.%d.%y\",text:this.translate(\"timeFormatDotsMDDYY\")},{value:\"%Y-%m-%d\",text:this.translate(\"timeFormatDashesYYYYMMDD\")},{value:\"%d %B %Y\",text:this.translate(\"timeFormatSpacesDDMMMMYYYY\")},{value:\"%H:%M:%S\",text:this.translate(\"timeFormatHHMMSS\")},{value:\"%I:%M:%S %p\",text:this.translate(\"timeFormatHHMMSSAmPm\")}];return chartAxisOptions.getDefaultSelectParams(\"label.format\",\"timeFormat\",axisTimeFormatSelectOptions);}getAxisColorInputParams(chartAxisThemeOverrides){return chartAxisThemeOverrides.getDefaultColorPickerParams(\"line.stroke\");}getAxisLineWidthSliderParams(chartAxisThemeOverrides){var _getAxisLineWidth;var chartOptions=chartAxisThemeOverrides.getChartOptions();var getAxisLineWidth=()=>{var isAxisLineEnabled=chartOptions.getValue(\"line.enabled\");if(!isAxisLineEnabled)return null;return chartOptions.getValue(\"line.width\");};var setAxisLineWidth=value=>{chartOptions.setValues([{expression:\"line.enabled\",value:value!=null},{expression:\"line.width\",value:value!==null&&value!==void 0?value:0}]);};var axisLineWidthSliderParams=chartAxisThemeOverrides.getDefaultSliderParamsWithoutValueParams((_getAxisLineWidth=getAxisLineWidth())!==null&&_getAxisLineWidth!==void 0?_getAxisLineWidth:0,\"thickness\",10);axisLineWidthSliderParams.onValueChange=newValue=>{setAxisLineWidth(newValue===0?null:newValue);};return axisLineWidthSliderParams;}initGridLines(chartAxisThemeOverrides){var chartType=this.chartController.getChartType();if(chartType===\"heatmap\"){return;}var gridLineComp=this.createBean(new GridLinePanel(chartAxisThemeOverrides));this.axisGroup.addItem(gridLineComp);this.activePanels.push(gridLineComp);}initAxisTicks(chartAxisThemeOverrides){if(!this.hasConfigurableAxisTicks())return;var axisTicksComp=this.createBean(new AxisTicksPanel(chartAxisThemeOverrides));this.axisGroup.addItem(axisTicksComp);this.activePanels.push(axisTicksComp);var updateTickFn=()=>axisTicksComp.setTickSizeSliderDisplayed(this.isGroupedCategoryAxis());this.updateFuncs.push(updateTickFn);updateTickFn();}hasConfigurableAxisTicks(){var chartType=this.chartController.getChartType();switch(chartType){case\"radarLine\":case\"radarArea\":case\"rangeBar\":case\"boxPlot\":case\"waterfall\":return false;default:return true;}}initAxisLabels(chartAxisThemeOverrides){var params={name:this.translate(\"labels\"),enabled:true,suppressEnabledCheckbox:true,chartMenuParamsFactory:chartAxisThemeOverrides,keyMapper:key=>\"label.\".concat(key)};var labelPanelComp=this.createBean(new FontPanel(params));this.axisGroup.addItem(labelPanelComp);this.activePanels.push(labelPanelComp);this.addAdditionalLabelComps(labelPanelComp,chartAxisThemeOverrides);}addAdditionalLabelComps(labelPanelComp,chartAxisThemeOverrides){this.addLabelPadding(labelPanelComp,chartAxisThemeOverrides);var rotationComp=this.createRotationWidget(\"labelRotation\",chartAxisThemeOverrides);var autoRotateCb=this.initLabelRotation(rotationComp,chartAxisThemeOverrides);labelPanelComp.addItem(autoRotateCb);labelPanelComp.addItem(rotationComp);}initLabelRotation(rotationComp,chartAxisThemeOverrides){var chartOptions=chartAxisThemeOverrides.getChartOptions();var getLabelRotationValue=()=>{return chartOptions.getValue(\"label.rotation\");};var getLabelAutoRotateValue=()=>{return chartOptions.getValue(\"label.autoRotate\");};var updateAutoRotate=autoRotate2=>{if(autoRotate2)this.prevRotation=getLabelRotationValue();chartOptions.setValues([{expression:\"label.autoRotate\",value:autoRotate2},// Clear the rotation option when activating auto-rotate, reinstate the previous value when deactivating\n{expression:\"label.rotation\",value:autoRotate2?void 0:this.prevRotation}]);rotationComp.setDisplayed(!autoRotate2);};var rotation=getLabelRotationValue();var autoRotate=typeof rotation===\"number\"?false:getLabelAutoRotateValue();var autoRotateCheckbox=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgCheckbox({label:this.translate(\"autoRotate\"),value:autoRotate,onValueChange:updateAutoRotate}));rotationComp.setDisplayed(!autoRotate);var autoRotateUpdateFn=()=>autoRotateCheckbox.setDisplayed(this.isGroupedCategoryAxis());this.updateFuncs.push(autoRotateUpdateFn);autoRotateUpdateFn();return autoRotateCheckbox;}createRotationWidget(labelKey,chartAxisThemeOverrides){var _getLabelRotationValu;var chartOptions=chartAxisThemeOverrides.getChartOptions();var getLabelRotationValue=()=>{return chartOptions.getValue(\"label.rotation\");};var setLabelRotationValue=value=>{return chartOptions.setValue(\"label.rotation\",value);};var degreesSymbol=String.fromCharCode(176);var label=\"\".concat(this.chartTranslation.translate(labelKey),\" \").concat(degreesSymbol);var angleSelect=new AgAngleSelect({label,labelWidth:\"flex\",value:(_getLabelRotationValu=getLabelRotationValue())!==null&&_getLabelRotationValu!==void 0?_getLabelRotationValu:0,onValueChange:setLabelRotationValue});this.updateFuncs.push(()=>{var _getLabelRotationValu2;angleSelect.setValue((_getLabelRotationValu2=getLabelRotationValue())!==null&&_getLabelRotationValu2!==void 0?_getLabelRotationValu2:0);});return this.createBean(angleSelect);}isGroupedCategoryAxis(){var axisOptionsType=this.chartOptionsService.getCartesianAxisOptionsProxy(this.axisType).getValue(\"type\");if(axisOptionsType===\"grouped-category\"){return!this.isCategoryAxis();}return true;}addLabelPadding(labelPanelComp,chartAxisThemeOverrides){var labelPaddingSlider=this.createBean(new AgSlider(chartAxisThemeOverrides.getDefaultSliderParams(\"label.spacing\",\"padding\",30)));labelPanelComp.addItem(labelPaddingSlider);}translate(key){return this.chartTranslation.translate(key);}removeTemplateComponent(component){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._removeFromParent)(component.getGui());this.destroyBean(component);}destroyActivePanels(){this.activePanels.forEach(panel=>{(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._removeFromParent)(panel.getGui());this.destroyBean(panel);});}destroy(){this.destroyActivePanels();super.destroy();}};// packages/ag-grid-enterprise/src/charts/chartComp/menu/format/axis/polarAxisPanel.ts\nvar PolarAxisPanel=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(options){super();this.options=options;this.axisGroup=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;}wireBeans(beans){this.chartTranslation=beans.chartTranslation;}postConstruct(){var{isExpandedOnInit:expanded,chartAxisMenuParamsFactory,registerGroupComponent}=this.options;var axisGroupParams={cssIdentifier:\"charts-format-top-level\",direction:\"vertical\",title:this.translate(\"polarAxis\"),expanded,suppressEnabledCheckbox:true};var axisColorInputParams=chartAxisMenuParamsFactory.getDefaultColorPickerParams(\"line.stroke\");var axisLineWidthSliderParams=chartAxisMenuParamsFactory.getDefaultSliderParams(\"line.width\",\"thickness\",10);this.setTemplate(/* html */\"<div>\\n            <ag-group-component data-ref=\\\"axisGroup\\\">\\n                <ag-color-picker data-ref=\\\"axisColorInput\\\"></ag-color-picker>\\n                <ag-slider data-ref=\\\"axisLineWidthSlider\\\"></ag-slider>\\n            </ag-group-component>\\n        </div>\",[AgGroupComponentSelector,AgColorPickerSelector,AgSliderSelector],{axisGroup:axisGroupParams,axisColorInput:axisColorInputParams,axisLineWidthSlider:axisLineWidthSliderParams});registerGroupComponent(this.axisGroup);this.initAxis();this.initAxisLabels();this.initRadiusAxis();}initAxis(){var chartType=this.options.chartController.getChartType();var hasConfigurableAxisShape=[\"radarLine\",\"radarArea\"].includes(chartType);if(hasConfigurableAxisShape){var options=[{value:\"circle\",text:this.translate(\"circle\")},{value:\"polygon\",text:this.translate(\"polygon\")}];this.axisGroup.addItem(this.createSelect({labelKey:\"shape\",options,property:\"shape\"}));}if(chartType!==\"pie\"){this.axisGroup.addItem(this.createSlider({labelKey:\"innerRadius\",defaultMaxValue:1,property:\"innerRadiusRatio\"}));}}initAxisLabels(){var params={name:this.translate(\"labels\"),enabled:true,suppressEnabledCheckbox:true,chartMenuParamsFactory:this.options.chartAxisMenuParamsFactory,keyMapper:key=>\"label.\".concat(key)};var labelPanelComp=this.createManagedBean(new FontPanel(params));var labelOrientationComp=this.createOrientationWidget();labelPanelComp.addItem(labelOrientationComp);this.axisGroup.addItem(labelPanelComp);}createOrientationWidget(){var options=[{value:\"fixed\",text:this.translate(\"fixed\")},{value:\"parallel\",text:this.translate(\"parallel\")},{value:\"perpendicular\",text:this.translate(\"perpendicular\")}];return this.createSelect({labelKey:\"orientation\",options,property:\"label.orientation\"});}initRadiusAxis(){var chartSeriesType=getSeriesType(this.options.chartController.getChartType());if(!isRadial(chartSeriesType))return;var items=[this.createSlider({labelKey:\"groupPadding\",defaultMaxValue:1,property:\"paddingInner\"}),this.createSlider({labelKey:\"seriesPadding\",defaultMaxValue:1,property:\"groupPaddingInner\"})];var paddingPanelComp=this.createManagedBean(new AgGroupComponent({cssIdentifier:\"charts-format-sub-level\",direction:\"vertical\",suppressOpenCloseIcons:true,enabled:true,suppressEnabledCheckbox:true,title:this.translate(\"padding\"),items})).hideEnabledCheckbox(true).hideOpenCloseIcons(true);this.axisGroup.addItem(paddingPanelComp);}createSlider(config){var{labelKey,defaultMaxValue,step=0.05,property}=config;var params=this.options.chartAxisMenuParamsFactory.getDefaultSliderParams(property,labelKey,defaultMaxValue);params.step=step;return this.createManagedBean(new AgSlider(params));}createSelect(config){var{labelKey,options,property}=config;return this.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgSelect(this.options.chartAxisMenuParamsFactory.getDefaultSelectParams(property,labelKey,options)));}translate(key){return this.chartTranslation.translate(key);}};// packages/ag-grid-enterprise/src/charts/chartComp/menu/format/chart/chartPanel.ts\n// packages/ag-grid-enterprise/src/charts/chartComp/menu/format/chart/backgroundPanel.ts\nvar BackgroundPanel=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(chartMenuUtils){super();this.chartMenuUtils=chartMenuUtils;}wireBeans(beans){this.chartTranslation=beans.chartTranslation;}postConstruct(){var chartBackgroundGroupParams=this.chartMenuUtils.addEnableParams(\"background.visible\",{cssIdentifier:\"charts-format-sub-level\",direction:\"vertical\",suppressOpenCloseIcons:true,title:this.chartTranslation.translate(\"background\"),suppressEnabledCheckbox:true,useToggle:true});var colorPickerParams=this.chartMenuUtils.getDefaultColorPickerParams(\"background.fill\");this.setTemplate(/* html */\"<div>\\n            <ag-group-component data-ref=\\\"chartBackgroundGroup\\\">\\n                <ag-color-picker data-ref=\\\"colorPicker\\\"></ag-color-picker>\\n            </ag-group-component>\\n        <div>\",[AgGroupComponentSelector,AgColorPickerSelector],{chartBackgroundGroup:chartBackgroundGroupParams,colorPicker:colorPickerParams});}};// packages/ag-grid-enterprise/src/charts/chartComp/menu/format/chart/paddingPanel.ts\nvar PaddingPanel=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(chartMenuUtils,chartController){super();this.chartMenuUtils=chartMenuUtils;this.chartController=chartController;this.paddingTopSlider=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;}wireBeans(beans){this.chartTranslation=beans.chartTranslation;}postConstruct(){var chartPaddingGroupParams={cssIdentifier:\"charts-format-sub-level\",direction:\"vertical\",suppressOpenCloseIcons:true,title:this.chartTranslation.translate(\"padding\"),suppressEnabledCheckbox:true};var getSliderParams=property=>this.chartMenuUtils.getDefaultSliderParams(\"padding.\"+property,property,200);this.setTemplate(/* html */\"<div>\\n            <ag-group-component data-ref=\\\"chartPaddingGroup\\\">\\n                <ag-slider data-ref=\\\"paddingTopSlider\\\"></ag-slider>\\n                <ag-slider data-ref=\\\"paddingRightSlider\\\"></ag-slider>\\n                <ag-slider data-ref=\\\"paddingBottomSlider\\\"></ag-slider>\\n                <ag-slider data-ref=\\\"paddingLeftSlider\\\"></ag-slider>\\n            </ag-group-component>\\n        <div>\",[AgGroupComponentSelector,AgSliderSelector],{chartPaddingGroup:chartPaddingGroupParams,paddingTopSlider:getSliderParams(\"top\"),paddingRightSlider:getSliderParams(\"right\"),paddingBottomSlider:getSliderParams(\"bottom\"),paddingLeftSlider:getSliderParams(\"left\")});this.addManagedEventListeners({chartOptionsChanged:e=>{this.updateTopPadding(e.chartOptions);}});}updateTopPadding(chartOptions){var topPadding=[...this.chartController.getChartSeriesTypes(),\"common\"].map(seriesType=>{var _chartOptions$seriesT;return chartOptions===null||chartOptions===void 0||(_chartOptions$seriesT=chartOptions[seriesType])===null||_chartOptions$seriesT===void 0||(_chartOptions$seriesT=_chartOptions$seriesT.padding)===null||_chartOptions$seriesT===void 0?void 0:_chartOptions$seriesT.top;}).find(value=>value!=null);if(topPadding!=null){this.paddingTopSlider.setValue(\"\".concat(topPadding));}}};// packages/ag-grid-enterprise/src/charts/chartComp/menu/format/chart/chartPanel.ts\nvar ChartPanel=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(options){super();this.options=options;this.chartGroup=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;}wireBeans(beans){this.chartTranslation=beans.chartTranslation;}postConstruct(){var{chartController,chartMenuParamsFactory,isExpandedOnInit:expanded,registerGroupComponent}=this.options;var chartGroupParams={cssIdentifier:\"charts-format-top-level\",direction:\"vertical\",title:this.chartTranslation.translate(\"chartStyle\"),expanded,suppressEnabledCheckbox:true,items:[this.createManagedBean(new PaddingPanel(chartMenuParamsFactory,chartController)),this.createManagedBean(new BackgroundPanel(chartMenuParamsFactory))]};this.setTemplate(/* html */\"<div>\\n            <ag-group-component data-ref=\\\"chartGroup\\\"></ag-group-component>\\n        </div>\",[AgGroupComponentSelector],{chartGroup:chartGroupParams});registerGroupComponent(this.chartGroup);}};// packages/ag-grid-enterprise/src/charts/chartComp/menu/format/groupExpansionFeature.ts\nvar GroupExpansionFeature=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BeanStub{constructor(groupContainer){super();this.groupContainer=groupContainer;this.id=0;this.groupComponents=/* @__PURE__ */new Map();}addGroupComponent(groupComponent){var id=this.id++;this.groupComponents.set(id,groupComponent);if(groupComponent.isExpanded()){this.expandedGroupComponent=id;}groupComponent.onExpandedChange(expanded=>{if(expanded){var previouslyExpandedGroupComponent=this.expandedGroupComponent;this.expandedGroupComponent=id;if(previouslyExpandedGroupComponent!=null){var _this$groupComponents;var groupComponentGui=groupComponent.getGui();var groupPositionInViewport=groupComponentGui.offsetTop-this.groupContainer.parentElement.scrollTop;(_this$groupComponents=this.groupComponents.get(previouslyExpandedGroupComponent))===null||_this$groupComponents===void 0||_this$groupComponents.toggleGroupExpand(false,true);var newScrollTop=groupComponentGui.offsetTop-groupPositionInViewport;if(newScrollTop<0){newScrollTop=0;}if(newScrollTop!==this.groupContainer.parentElement.scrollTop){this.groupContainer.parentElement.scrollTop=newScrollTop;}}}else{this.expandedGroupComponent=void 0;}});}destroy(){this.groupComponents.clear();super.destroy();}};// packages/ag-grid-enterprise/src/charts/chartComp/menu/format/legend/legendPanel.ts\nvar LegendPanel=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(options,chartMenuContext){super();this.options=options;this.chartMenuContext=chartMenuContext;this.legendGroup=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.enabledGroup=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.isGradient=[\"treemap\",\"sunburst\",\"heatmap\"].includes(options.seriesType);this.key=this.isGradient?\"gradientLegend\":\"legend\";this.chartController=chartMenuContext.chartController;}wireBeans(beans){this.chartTranslation=beans.chartTranslation;}postConstruct(){var{chartMenuParamsFactory,isExpandedOnInit:expanded,registerGroupComponent}=this.options;var positionSelect=this.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgSelect(chartMenuParamsFactory.getDefaultSelectParams(\"\".concat(this.key,\".position\"),\"position\",[\"top\",\"right\",\"bottom\",\"left\"].map(position=>({value:position,text:this.chartTranslation.translate(position)})))));this.enabledGroup=this.createManagedBean(new AgGroupComponent(chartMenuParamsFactory.addEnableParams(\"\".concat(this.key,\".enabled\"),{cssIdentifier:\"charts-format-sub-level\",direction:\"vertical\",suppressOpenCloseIcons:true,title:this.chartTranslation.translate(\"legendEnabled\"),suppressEnabledCheckbox:true,useToggle:true,items:[this.createLabelPanel(chartMenuParamsFactory),positionSelect,...this.getItems(chartMenuParamsFactory)]})));var legendGroupParams={cssIdentifier:\"charts-format-top-level\",direction:\"vertical\",title:this.chartTranslation.translate(\"legend\"),suppressEnabledCheckbox:true,expanded,items:[this.enabledGroup]};this.setTemplate(/* html */\"<div>\\n            <ag-group-component data-ref=\\\"legendGroup\\\">\\n            </ag-group-component>\\n        </div>\",[AgGroupComponentSelector],{legendGroup:legendGroupParams});registerGroupComponent(this.legendGroup);var listener=this.updateLegendEnabledState.bind(this);this.addManagedListeners(this.chartController,{chartModelUpdate:listener,chartApiUpdate:listener});}updateLegendEnabledState(){var{valueCols}=this.chartController.getColStateForMenu();this.enabledGroup.setEnabled(valueCols.filter(vc=>vc.selected).length>1);}getItems(chartMenuParamsFactory){var createSlider=(expression,labelKey,defaultMaxValue)=>this.createManagedBean(new AgSlider(chartMenuParamsFactory.getDefaultSliderParams(\"\".concat(this.key,\".\").concat(expression),labelKey,defaultMaxValue)));if(this.isGradient){return[this.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgCheckbox(chartMenuParamsFactory.addValueParams(\"gradientLegend.reverseOrder\",{label:this.chartTranslation.translate(\"reverseDirection\"),labelWidth:\"flex\"}))),createSlider(\"gradient.thickness\",\"thickness\",40),createSlider(\"gradient.preferredLength\",\"preferredLength\",300),createSlider(\"spacing\",\"spacing\",200)];}return[createSlider(\"spacing\",\"spacing\",200),createSlider(\"item.marker.size\",\"markerSize\",40),createSlider(\"item.marker.strokeWidth\",\"markerStroke\",10),createSlider(\"item.marker.padding\",\"itemSpacing\",20),createSlider(\"item.paddingX\",\"layoutHorizontalSpacing\",50),createSlider(\"item.paddingY\",\"layoutVerticalSpacing\",50)];}createLabelPanel(chartMenuParamsFactory){var rootKey=this.isGradient?\"gradientLegend.scale.label\":\"legend.item.label\";var params={enabled:true,suppressEnabledCheckbox:true,chartMenuParamsFactory,keyMapper:key=>\"\".concat(rootKey,\".\").concat(key),cssIdentifier:\"charts-format-sub-level-no-header\"};return this.createManagedBean(new FontPanel(params));}};// packages/ag-grid-enterprise/src/charts/chartComp/menu/format/series/seriesPanel.ts\n// packages/ag-grid-enterprise/src/charts/chartComp/menu/format/toggleablePanel.ts\nvar ToggleablePanel=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(params){super();this.params=params;this.toggleableGroup=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.activeComps=[];this.chartOptions=params.chartMenuParamsFactory.getChartOptions();}postConstruct(){var{tag,cssIdentifier=\"charts-format-sub-level\",title,suppressEnabledCheckbox}=this.params;var groupParams=this.params.chartMenuParamsFactory.addEnableParams(\"\".concat(tag,\".enabled\"),{cssIdentifier,direction:\"vertical\",suppressOpenCloseIcons:true,title,suppressEnabledCheckbox:true,useToggle:!suppressEnabledCheckbox});this.setTemplate(/* html */\"<div class=\\\"ag-toggleable-group-panel\\\">\\n                <ag-group-component data-ref=\\\"toggleableGroup\\\">\\n                </ag-group-component>\\n            </div>\",[AgGroupComponentSelector],{toggleableGroup:groupParams});this.toggleCss(\"ag-toggleable-group-panel-no-header\",!title);}addItem(comp,prepend){if(prepend){this.toggleableGroup.prependItem(comp);}else{this.toggleableGroup.addItem(comp);}this.activeComps.push(comp);}setEnabled(enabled){this.toggleableGroup.setEnabled(enabled);}destroyActiveComps(){this.activeComps.forEach(comp=>{(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._removeFromParent)(comp.getGui());this.destroyBean(comp);});}destroy(){this.destroyActiveComps();super.destroy();}};// packages/ag-grid-enterprise/src/charts/chartComp/menu/format/series/calloutPanel.ts\nvar CalloutPanel=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(chartMenuUtils){super();this.chartMenuUtils=chartMenuUtils;}wireBeans(beans){this.chartTranslation=beans.chartTranslation;}postConstruct(){var calloutGroupParams={cssIdentifier:\"charts-format-sub-level\",direction:\"vertical\",title:this.chartTranslation.translate(\"callout\"),enabled:true,suppressOpenCloseIcons:true,suppressEnabledCheckbox:true};this.setTemplate(/* html */\"<div>\\n            <ag-group-component data-ref=\\\"calloutGroup\\\">\\n                <ag-slider data-ref=\\\"calloutLengthSlider\\\"></ag-slider>\\n                <ag-slider data-ref=\\\"calloutStrokeWidthSlider\\\"></ag-slider>\\n                <ag-slider data-ref=\\\"labelOffsetSlider\\\"></ag-slider>\\n            </ag-group-component>\\n        </div>\",[AgGroupComponentSelector,AgSliderSelector],{calloutGroup:calloutGroupParams,calloutLengthSlider:this.chartMenuUtils.getDefaultSliderParams(\"calloutLine.length\",\"length\",40),calloutStrokeWidthSlider:this.chartMenuUtils.getDefaultSliderParams(\"calloutLine.strokeWidth\",\"strokeWidth\",10),labelOffsetSlider:this.chartMenuUtils.getDefaultSliderParams(\"calloutLabel.offset\",\"offset\",30)});}};// packages/ag-grid-enterprise/src/charts/chartComp/menu/format/series/capsPanel.ts\nvar CapsPanel=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(chartMenuUtils){super();this.chartMenuUtils=chartMenuUtils;}wireBeans(beans){this.chartTranslation=beans.chartTranslation;}postConstruct(){var capsGroupParams={cssIdentifier:\"charts-format-sub-level\",direction:\"vertical\",title:this.chartTranslation.translate(\"cap\"),enabled:true,suppressOpenCloseIcons:true,suppressEnabledCheckbox:true};var capLengthRatioSliderParams=this.chartMenuUtils.getDefaultSliderParams(\"cap.lengthRatio\",\"capLengthRatio\",1);capLengthRatioSliderParams.step=0.05;this.setTemplate(/* html */\"<div>\\n            <ag-group-component data-ref=\\\"capsGroup\\\">\\n                <ag-slider data-ref=\\\"capLengthRatioSlider\\\"></ag-slider>\\n            </ag-group-component>\\n        </div>\",[AgGroupComponentSelector,AgSliderSelector],{capsGroup:capsGroupParams,capLengthRatioSlider:capLengthRatioSliderParams});}};// packages/ag-grid-enterprise/src/charts/chartComp/menu/format/series/connectorLinePanel.ts\nvar ConnectorLinePanel=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(chartMenuUtils){super();this.chartMenuUtils=chartMenuUtils;}wireBeans(beans){this.chartTranslation=beans.chartTranslation;}postConstruct(){var lineGroupParams={cssIdentifier:\"charts-format-sub-level\",direction:\"vertical\",title:this.chartTranslation.translate(\"connectorLine\"),enabled:true,suppressOpenCloseIcons:true,suppressEnabledCheckbox:true};this.setTemplate(/* html */\"<div>\\n            <ag-group-component data-ref=\\\"lineGroup\\\">\\n                <ag-color-picker data-ref=\\\"lineColorPicker\\\"></ag-color-picker>\\n                <ag-slider data-ref=\\\"lineStrokeWidthSlider\\\"></ag-slider>\\n                <ag-slider data-ref=\\\"lineOpacitySlider\\\"></ag-slider>\\n                <ag-slider data-ref=\\\"lineDashSlider\\\"></ag-slider>                \\n            </ag-group-component>\\n        </div>\",[AgGroupComponentSelector,AgColorPickerSelector,AgSliderSelector],{lineGroup:lineGroupParams,lineColorPicker:this.chartMenuUtils.getDefaultColorPickerParams(\"line.stroke\"),lineStrokeWidthSlider:this.getSliderParams(\"strokeWidth\",10,\"line.strokeWidth\"),lineDashSlider:this.getSliderParams(\"lineDash\",30,\"line.lineDash\",1,true),lineOpacitySlider:this.getSliderParams(\"strokeOpacity\",1,\"line.strokeOpacity\",0.05)});}getSliderParams(labelKey,maxValue,seriesOptionKey){var step=arguments.length>3&&arguments[3]!==undefined?arguments[3]:1;var isArray=arguments.length>4&&arguments[4]!==undefined?arguments[4]:false;var params=this.chartMenuUtils.getDefaultSliderParams(seriesOptionKey,labelKey,maxValue,isArray);params.step=step;return params;}};// packages/ag-grid-enterprise/src/charts/chartComp/menu/format/series/markersPanel.ts\n// packages/ag-grid-enterprise/src/charts/chartComp/menu/format/series/seriesUtils.ts\nfunction getShapeSelectOptions(chartTranslation){return[\"square\",\"circle\",\"cross\",\"diamond\",\"plus\",\"triangle\",\"heart\"].map(value=>({value,text:chartTranslation.translate(value)}));}// packages/ag-grid-enterprise/src/charts/chartComp/menu/format/series/markersPanel.ts\nvar MarkersPanel=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(chartMenuUtils){super();this.chartMenuUtils=chartMenuUtils;}wireBeans(beans){this.chartTranslation=beans.chartTranslation;}postConstruct(){var seriesMarkersGroupParams=this.chartMenuUtils.addEnableParams(\"marker.enabled\",{cssIdentifier:\"charts-format-sub-level\",direction:\"vertical\",title:this.chartTranslation.translate(\"markers\"),suppressEnabledCheckbox:true,useToggle:true,suppressOpenCloseIcons:true});this.setTemplate(/* html */\"<div>\\n            <ag-group-component data-ref=\\\"seriesMarkersGroup\\\">\\n                <ag-select data-ref=\\\"seriesMarkerShapeSelect\\\"></ag-select>\\n                <ag-slider data-ref=\\\"seriesMarkerSizeSlider\\\"></ag-slider>\\n                <ag-slider data-ref=\\\"seriesMarkerStrokeWidthSlider\\\"></ag-slider>\\n            </ag-group-component>\\n        </div>\",[AgGroupComponentSelector,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgSelectSelector,AgSliderSelector],{seriesMarkersGroup:seriesMarkersGroupParams,seriesMarkerShapeSelect:this.chartMenuUtils.getDefaultSelectParams(\"marker.shape\",\"shape\",getShapeSelectOptions(this.chartTranslation)),seriesMarkerSizeSlider:this.chartMenuUtils.getDefaultSliderParams(\"marker.size\",\"size\",60),seriesMarkerStrokeWidthSlider:this.chartMenuUtils.getDefaultSliderParams(\"marker.strokeWidth\",\"strokeWidth\",10)});}};// packages/ag-grid-enterprise/src/charts/chartComp/menu/format/series/seriesItemsPanel.ts\nvar SeriesItemsPanel=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(chartMenuUtils){super();this.chartMenuUtils=chartMenuUtils;this.seriesItemsGroup=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.activePanels=[];}wireBeans(beans){this.chartTranslation=beans.chartTranslation;}postConstruct(){var seriesItemsGroupParams={cssIdentifier:\"charts-format-sub-level\",direction:\"vertical\",title:this.chartTranslation.translate(\"seriesItems\"),enabled:true,suppressOpenCloseIcons:true,suppressEnabledCheckbox:true};this.setTemplate(/* html */\"<div>\\n            <ag-group-component data-ref=\\\"seriesItemsGroup\\\">\\n                <ag-select data-ref=\\\"seriesItemSelect\\\"></ag-select>\\n            </ag-group-component>\\n        </div>\",[AgGroupComponentSelector,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgSelectSelector],{seriesItemsGroup:seriesItemsGroupParams,seriesItemSelect:this.getSeriesItemsParams()});this.initSeriesControls();}getSeriesItemsParams(){var options=[{value:\"positive\",text:this.chartTranslation.translate(\"seriesItemPositive\")},{value:\"negative\",text:this.chartTranslation.translate(\"seriesItemNegative\")}];var seriesItemChangedCallback=newValue=>{this.destroyActivePanels();this.initSeriesControls(newValue);};return this.chartMenuUtils.getDefaultSelectParamsWithoutValueParams(\"seriesItemType\",options,\"positive\",seriesItemChangedCallback);}initSeriesControls(){var itemType=arguments.length>0&&arguments[0]!==undefined?arguments[0]:\"positive\";this.initSlider(\"strokeWidth\",10,\"item.\".concat(itemType,\".strokeWidth\"));this.initSlider(\"lineDash\",30,\"item.\".concat(itemType,\".lineDash\"),1,true);this.initSlider(\"strokeOpacity\",1,\"item.\".concat(itemType,\".strokeOpacity\"),0.05,false);this.initSlider(\"fillOpacity\",1,\"item.\".concat(itemType,\".fillOpacity\"),0.05,false);this.initItemLabels(itemType);}initSlider(labelKey,maxValue,seriesOptionKey){var step=arguments.length>3&&arguments[3]!==undefined?arguments[3]:1;var isArray=arguments.length>4&&arguments[4]!==undefined?arguments[4]:false;var params=this.chartMenuUtils.getDefaultSliderParams(seriesOptionKey,labelKey,maxValue,isArray);params.step=step;var itemSlider=this.seriesItemsGroup.createManagedBean(new AgSlider(params));this.seriesItemsGroup.addItem(itemSlider);this.activePanels.push(itemSlider);}initItemLabels(itemType){var sectorParams=this.chartMenuUtils.getDefaultFontPanelParams(\"item.\".concat(itemType,\".label\"),\"seriesItemLabels\");var labelPanelComp=this.createBean(new FontPanel(sectorParams));this.seriesItemsGroup.addItem(labelPanelComp);this.activePanels.push(labelPanelComp);}destroyActivePanels(){this.activePanels.forEach(panel=>{(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._removeFromParent)(panel.getGui());this.destroyBean(panel);});}destroy(){this.destroyActivePanels();super.destroy();}};// packages/ag-grid-enterprise/src/charts/chartComp/menu/format/series/shadowPanel.ts\nvar ShadowPanel=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(chartMenuUtils){var propertyKey=arguments.length>1&&arguments[1]!==undefined?arguments[1]:\"shadow\";super();this.chartMenuUtils=chartMenuUtils;this.propertyKey=propertyKey;}wireBeans(beans){this.chartTranslation=beans.chartTranslation;}postConstruct(){var propertyNamespace=this.propertyKey;var shadowGroupParams=this.chartMenuUtils.addEnableParams(\"\".concat(propertyNamespace,\".enabled\"),{cssIdentifier:\"charts-format-sub-level\",direction:\"vertical\",suppressOpenCloseIcons:true,title:this.chartTranslation.translate(\"shadow\"),suppressEnabledCheckbox:true,useToggle:true});var shadowColorPickerParams=this.chartMenuUtils.getDefaultColorPickerParams(\"\".concat(propertyNamespace,\".color\"));this.setTemplate(/* html */\"<div>\\n            <ag-group-component data-ref=\\\"shadowGroup\\\">\\n                <ag-color-picker data-ref=\\\"shadowColorPicker\\\"></ag-color-picker>\\n                <ag-slider data-ref=\\\"shadowBlurSlider\\\"></ag-slider>\\n                <ag-slider data-ref=\\\"shadowXOffsetSlider\\\"></ag-slider>\\n                <ag-slider data-ref=\\\"shadowYOffsetSlider\\\"></ag-slider>\\n            </ag-group-component>\\n        </div>\",[AgGroupComponentSelector,AgColorPickerSelector,AgSliderSelector],{shadowGroup:shadowGroupParams,shadowColorPicker:shadowColorPickerParams,shadowBlurSlider:this.getSliderParams(\"blur\",0,20),shadowXOffsetSlider:this.getSliderParams(\"xOffset\",-10,10),shadowYOffsetSlider:this.getSliderParams(\"yOffset\",-10,10)});}getSliderParams(property,minValue,defaultMaxValue){var expression=\"\".concat(this.propertyKey,\".\").concat(property);var params=this.chartMenuUtils.getDefaultSliderParams(expression,property,defaultMaxValue);params.minValue=minValue;return params;}};// packages/ag-grid-enterprise/src/charts/chartComp/menu/format/series/tileSpacingPanel.ts\nvar TileSpacingPanel=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(chartMenuUtils){super();this.chartMenuUtils=chartMenuUtils;}wireBeans(beans){this.chartTranslation=beans.chartTranslation;}postConstruct(){var groupParams={cssIdentifier:\"charts-format-sub-level\",direction:\"vertical\",enabled:true,suppressOpenCloseIcons:true,suppressEnabledCheckbox:true};this.setTemplate(/* html */\"<div>\\n            <ag-group-component data-ref=\\\"groupSpacing\\\">\\n                <ag-slider data-ref=\\\"groupPaddingSlider\\\"></ag-slider>\\n                <ag-slider data-ref=\\\"groupSpacingSlider\\\"></ag-slider>\\n            </ag-group-component>\\n            <ag-group-component data-ref=\\\"tileSpacing\\\">\\n                <ag-slider data-ref=\\\"tilePaddingSlider\\\"></ag-slider>\\n                <ag-slider data-ref=\\\"tileSpacingSlider\\\"></ag-slider>\\n            </ag-group-component>\\n        </div>\",[AgGroupComponentSelector,AgSliderSelector],{groupSpacing:_objectSpread(_objectSpread({},groupParams),{},{title:this.chartTranslation.translate(\"group\")}),tileSpacing:_objectSpread(_objectSpread({},groupParams),{},{title:this.chartTranslation.translate(\"tile\")}),groupPaddingSlider:this.getSliderParams(\"padding\",\"group.padding\"),groupSpacingSlider:this.getSliderParams(\"spacing\",\"group.gap\"),tilePaddingSlider:this.getSliderParams(\"padding\",\"tile.padding\"),tileSpacingSlider:this.getSliderParams(\"spacing\",\"tile.gap\")});}getSliderParams(labelKey,key){return this.chartMenuUtils.getDefaultSliderParams(key,labelKey,10);}};// packages/ag-grid-enterprise/src/charts/chartComp/menu/format/series/whiskersPanel.ts\nvar WhiskersPanel=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(chartMenuUtils){super();this.chartMenuUtils=chartMenuUtils;}wireBeans(beans){this.chartTranslation=beans.chartTranslation;}postConstruct(){var whiskersGroupParams={cssIdentifier:\"charts-format-sub-level\",direction:\"vertical\",title:this.chartTranslation.translate(\"whisker\"),enabled:true,suppressOpenCloseIcons:true,suppressEnabledCheckbox:true};this.setTemplate(/* html */\"<div>\\n            <ag-group-component data-ref=\\\"whiskersGroup\\\">\\n                <ag-color-picker data-ref=\\\"whiskerColorPicker\\\"></ag-color-picker>\\n                <ag-slider data-ref=\\\"whiskerThicknessSlider\\\"></ag-slider>\\n                <ag-slider data-ref=\\\"whiskerOpacitySlider\\\"></ag-slider>\\n                <ag-slider data-ref=\\\"whiskerLineDashSlider\\\"></ag-slider>\\n                <ag-slider data-ref=\\\"whiskerLineDashOffsetSlider\\\"></ag-slider>\\n            </ag-group-component>\\n        </div>\",[AgGroupComponentSelector,AgColorPickerSelector,AgSliderSelector],{whiskersGroup:whiskersGroupParams,whiskerColorPicker:this.chartMenuUtils.getDefaultColorPickerParams(\"whisker.stroke\"),whiskerThicknessSlider:this.chartMenuUtils.getDefaultSliderParams(\"whisker.strokeWidth\",\"strokeWidth\",10),whiskerOpacitySlider:this.chartMenuUtils.getDefaultSliderParams(\"whisker.strokeOpacity\",\"strokeOpacity\",1),whiskerLineDashSlider:this.chartMenuUtils.getDefaultSliderParams(\"whisker.lineDash\",\"lineDash\",30,true),whiskerLineDashOffsetSlider:this.chartMenuUtils.getDefaultSliderParams(\"whisker.lineDashOffset\",\"lineDashOffset\",30)});}};// packages/ag-grid-enterprise/src/charts/chartComp/menu/format/series/seriesPanel.ts\nvar tooltips=\"tooltips\";var strokeWidth=\"strokeWidth\";var _lineWidth=\"lineWidth\";var lineDash=\"lineDash\";var lineOpacity=\"lineOpacity\";var fillOpacity=\"fillOpacity\";var labels=\"labels\";var shadow=\"shadow\";var stageLabels=\"stageLabels\";var markers=\"markers\";var SeriesPanel=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(options){super();this.options=options;this.seriesGroup=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.activePanels=[];this.widgetFuncs={lineWidth:()=>this.initStrokeWidth(_lineWidth),[strokeWidth]:()=>this.initStrokeWidth(\"strokeWidth\"),lineColor:()=>this.initLineColor(),[lineDash]:()=>this.initLineDash(),[lineOpacity]:()=>this.initOpacity(\"strokeOpacity\"),[fillOpacity]:()=>this.initOpacity(\"fillOpacity\"),markers:()=>new MarkersPanel(this.chartMenuUtils),[labels]:()=>this.initLabels(),sectorLabels:()=>this.initSectorLabels(),[shadow]:()=>new ShadowPanel(this.chartMenuUtils),[tooltips]:()=>this.initTooltips(),bins:()=>this.initBins(),whiskers:()=>new WhiskersPanel(this.chartMenuUtils),caps:()=>new CapsPanel(this.chartMenuUtils),connectorLine:()=>new ConnectorLinePanel(this.chartMenuUtils),seriesItems:()=>new SeriesItemsPanel(this.chartMenuUtils),tileSpacing:()=>new TileSpacingPanel(this.chartMenuUtils),shape:()=>this.initShape(),size:()=>this.initSize(\"size\",\"size\"),minSize:()=>this.initSize(\"size\",\"minSize\"),maxSize:()=>this.initSize(\"maxSize\",\"maxSize\"),dropoff:()=>this.initDropOff(),stageLabels:()=>this.initStageLabels()};this.seriesWidgetMappings={bar:[tooltips,strokeWidth,lineDash,lineOpacity,fillOpacity,labels,shadow],pie:[tooltips,strokeWidth,lineOpacity,fillOpacity,labels,\"sectorLabels\",shadow],donut:[tooltips,strokeWidth,lineOpacity,fillOpacity,labels,\"sectorLabels\",shadow],line:[tooltips,_lineWidth,lineDash,lineOpacity,markers,labels],scatter:[tooltips,\"shape\",\"size\",strokeWidth,labels],bubble:[tooltips,\"shape\",\"minSize\",\"maxSize\",strokeWidth,labels],area:[tooltips,_lineWidth,lineDash,lineOpacity,fillOpacity,markers,labels,shadow],histogram:[tooltips,\"bins\",strokeWidth,lineDash,lineOpacity,fillOpacity,labels,shadow],\"radial-column\":[tooltips,strokeWidth,lineDash,lineOpacity,fillOpacity,labels],\"radial-bar\":[tooltips,strokeWidth,lineDash,lineOpacity,fillOpacity,labels],\"radar-line\":[tooltips,strokeWidth,lineDash,lineOpacity,markers,labels],\"radar-area\":[tooltips,strokeWidth,lineDash,lineOpacity,fillOpacity,markers,labels],nightingale:[tooltips,strokeWidth,lineDash,lineOpacity,fillOpacity,labels],\"box-plot\":[tooltips,strokeWidth,lineDash,lineOpacity,fillOpacity,\"whiskers\",\"caps\"],\"range-bar\":[tooltips,strokeWidth,lineDash,lineOpacity,fillOpacity,labels],\"range-area\":[tooltips,_lineWidth,lineDash,lineOpacity,fillOpacity,markers,labels,shadow],treemap:[tooltips,\"tileSpacing\"],sunburst:[tooltips],heatmap:[tooltips,labels,\"lineColor\",_lineWidth,lineOpacity],waterfall:[tooltips,\"connectorLine\",\"seriesItems\"],funnel:[tooltips,strokeWidth,lineDash,lineOpacity,fillOpacity,labels,\"dropoff\",stageLabels,shadow],\"cone-funnel\":[tooltips,strokeWidth,lineDash,lineOpacity,fillOpacity,labels,stageLabels],pyramid:[tooltips,strokeWidth,lineDash,lineOpacity,fillOpacity,labels,stageLabels,shadow]};this.seriesType=options.seriesType;}wireBeans(beans){this.chartTranslation=beans.chartTranslation;}postConstruct(){var{isExpandedOnInit:expanded,chartOptionsService,chartController,registerGroupComponent}=this.options;var seriesGroupParams={cssIdentifier:\"charts-format-top-level\",direction:\"vertical\",title:this.translate(\"series\"),expanded,suppressEnabledCheckbox:true};this.setTemplate(/* html */\"<div>\\n            <ag-group-component data-ref=\\\"seriesGroup\\\">\\n            </ag-group-component>\\n        </div>\",[AgGroupComponentSelector],{seriesGroup:seriesGroupParams});registerGroupComponent(this.seriesGroup);this.chartMenuUtils=this.createManagedBean(new ChartMenuParamsFactory(chartOptionsService.getSeriesOptionsProxy(()=>this.seriesType)));this.addManagedListeners(chartController,{chartSeriesChartTypeChanged:this.refreshWidgets.bind(this)});this.refreshWidgets();}refreshWidgets(){var{chartController}=this.options;this.destroyActivePanels();var chart=chartController.getChartProxy().getChart();chart.waitForUpdate().then(()=>{var _this$seriesWidgetMap;var componentWasRemoved=!this.isAlive();if(componentWasRemoved){return;}if(chartController.isComboChart()){this.updateSeriesType();this.initSeriesSelect();}((_this$seriesWidgetMap=this.seriesWidgetMappings[this.seriesType])!==null&&_this$seriesWidgetMap!==void 0?_this$seriesWidgetMap:[]).forEach(w=>{var widgetFuncResult=this.widgetFuncs[w]();var widget;if(Array.isArray(widgetFuncResult)){var comp=this.createBean(widgetFuncResult[0]);widget=comp;widgetFuncResult[1](comp);}else{widget=this.createBean(widgetFuncResult);}this.seriesGroup.addItem(widget);this.activePanels.push(widget);});}).catch(e=>(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._error)(105,{e}));}initSeriesSelect(){var seriesSelect=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgSelect(this.chartMenuUtils.getDefaultSelectParamsWithoutValueParams(\"seriesType\",this.getSeriesSelectOptions(),\"\".concat(this.seriesType),newValue=>{this.seriesType=newValue;this.refreshWidgets();})));this.seriesGroup.addItem(seriesSelect);this.activePanels.push(seriesSelect);}initTooltips(){return new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgToggleButton(this.chartMenuUtils.addValueParams(\"tooltip.enabled\",{label:this.translate(\"tooltips\"),labelAlignment:\"left\",labelWidth:\"flex\",inputWidth:\"flex\"}));}initLineColor(){return new AgColorPicker(this.chartMenuUtils.getDefaultColorPickerParams(\"stroke\",\"strokeColor\"));}initStrokeWidth(labelKey,expression){return new AgSlider(this.chartMenuUtils.getDefaultSliderParams(expression?\"\".concat(expression,\".\").concat(labelKey):\"strokeWidth\",labelKey,10));}initLineDash(expression){return new AgSlider(this.chartMenuUtils.getDefaultSliderParams(expression?\"\".concat(expression,\".lineDash\"):\"lineDash\",\"lineDash\",30,true));}initOpacity(type,expression){var params=this.chartMenuUtils.getDefaultSliderParams(expression?\"\".concat(expression,\".\").concat(type):type,type,1);params.step=0.05;return new AgSlider(params);}initDropOff(){var dropOffGroup=new ToggleablePanel({tag:\"dropOff\",cssIdentifier:\"charts-format-sub-level\",title:this.translate(\"dropOff\"),suppressEnabledCheckbox:false,chartMenuParamsFactory:this.chartMenuUtils});var addItems=groupComponent=>{[this.initStrokeWidth(\"strokeWidth\",\"dropOff\"),this.initLineDash(\"dropOff\"),this.initOpacity(\"strokeOpacity\",\"dropOff\"),this.initOpacity(\"fillOpacity\",\"dropOff\")].forEach(comp=>{var managed=groupComponent.createManagedBean(comp);groupComponent.addItem(managed);this.activePanels.push(managed);});};return[dropOffGroup,addItems];}initLabels(){var isPieChart=isPieChartSeries(this.seriesType);var seriesOptionLabelProperty=isPieChart?\"calloutLabel\":\"label\";var labelKey=isPieChart?\"calloutLabels\":\"labels\";var labelParams=this.chartMenuUtils.getDefaultFontPanelParams(seriesOptionLabelProperty,labelKey);var fontPanel=new FontPanel(labelParams);var addItems=labelPanelComp=>{if(isPieChart){var calloutPanelComp=labelPanelComp.createManagedBean(new CalloutPanel(this.chartMenuUtils));labelPanelComp.addItem(calloutPanelComp);this.activePanels.push(calloutPanelComp);}if(this.seriesType===\"range-bar\"){var options=[{value:\"inside\",text:this.translate(\"inside\")},{value:\"outside\",text:this.translate(\"outside\")}];var placementSelect=labelPanelComp.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgSelect(this.chartMenuUtils.getDefaultSelectParams(\"label.placement\",\"labelPlacement\",options)));labelPanelComp.addItem(placementSelect);this.activePanels.push(placementSelect);var paddingSlider=labelPanelComp.createManagedBean(new AgSlider(this.chartMenuUtils.getDefaultSliderParams(\"label.padding\",\"padding\",200)));labelPanelComp.addItem(paddingSlider);this.activePanels.push(paddingSlider);}};return[fontPanel,addItems];}initSectorLabels(){var sectorParams=this.chartMenuUtils.getDefaultFontPanelParams(\"sectorLabel\",\"sectorLabels\");var fontPanel=new FontPanel(sectorParams);var addItems=sectorPanelComp=>{var positionRatioParams=this.chartMenuUtils.getDefaultSliderParams(\"sectorLabel.positionRatio\",\"positionRatio\",1);positionRatioParams.step=0.05;var positionRatioComp=sectorPanelComp.createManagedBean(new AgSlider(positionRatioParams));sectorPanelComp.addItem(positionRatioComp);};return[fontPanel,addItems];}initStageLabels(){return new FontPanel(this.chartMenuUtils.getDefaultFontPanelParams(\"stageLabel\",stageLabels));}initBins(){var _chartOptions$getValu2;var params=this.chartMenuUtils.getDefaultSliderParams(\"binCount\",\"histogramBinCount\",20);var chartOptions=this.chartMenuUtils.getChartOptions();var value=((_chartOptions$getValu2=chartOptions.getValue(\"bins\"))!==null&&_chartOptions$getValu2!==void 0?_chartOptions$getValu2:chartOptions.getValue(\"calculatedBins\",true)).length;params.value=\"\".concat(value);params.maxValue=Math.max(value,20);return new AgSlider(params);}initShape(){return new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgSelect(this.chartMenuUtils.getDefaultSelectParams(\"shape\",\"shape\",getShapeSelectOptions(this.chartTranslation)));}initSize(expression,labelKey){return new AgSlider(this.chartMenuUtils.getDefaultSliderParams(expression,labelKey,60));}getSeriesSelectOptions(){var activeSeriesTypes=this.getActiveSeriesTypes();return[\"area\",\"bar\",\"line\"].filter(seriesType=>activeSeriesTypes.includes(seriesType)).map(value=>({value,text:this.translate(value)}));}updateSeriesType(){var activeSeriesTypes=this.getActiveSeriesTypes();var invalidSeriesType=!activeSeriesTypes.includes(this.seriesType);if(invalidSeriesType&&activeSeriesTypes.length>0){this.seriesType=activeSeriesTypes[0];}}getActiveSeriesTypes(){return this.options.chartController.getActiveSeriesChartTypes().map(s=>getSeriesType(s.chartType));}translate(key){return this.chartTranslation.translate(key);}destroyActivePanels(){this.activePanels.forEach(panel=>{(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._removeFromParent)(panel.getGui());this.destroyBean(panel);});}destroy(){this.destroyActivePanels();super.destroy();}};// packages/ag-grid-enterprise/src/charts/chartComp/menu/format/titles/titlesPanel.ts\n// packages/ag-grid-enterprise/src/charts/chartComp/menu/format/titles/titlePanel.ts\nvar TitlePanel=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(chartMenuUtils,name,key){super(/* html */\"<div></div>\");this.chartMenuUtils=chartMenuUtils;this.name=name;this.key=key;this.chartOptions=chartMenuUtils.getChartOptions();}wireBeans(beans){this.chartTranslation=beans.chartTranslation;}postConstruct(){this.initFontPanel();}hasTitle(){var title=this.chartOptions.getValue(this.key);return title&&title.enabled&&title.text&&title.text.length>0;}initFontPanel(){var hasTitle=this.hasTitle();var fontPanelParams={name:this.chartTranslation.translate(this.name),enabled:hasTitle,suppressEnabledCheckbox:false,chartMenuParamsFactory:this.chartMenuUtils,keyMapper:key=>\"\".concat(this.key,\".\").concat(key),onEnableChange:enabled=>this.onEnableChange(enabled)};this.fontPanel=this.createManagedBean(new FontPanel(fontPanelParams));this.fontPanel.addItem(this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgInputTextField(this.getTextInputParams())),true);this.fontPanel.addItem(this.createBean(new AgSlider(this.getSpacingSliderParams())));this.getGui().appendChild(this.fontPanel.getGui());}getTextInputParams(){return this.chartMenuUtils.addValueParams(\"\".concat(this.key,\".text\"),{label:this.chartTranslation.translate(\"title\"),labelAlignment:\"top\"});}getSpacingSliderParams(){return this.chartMenuUtils.getDefaultSliderParams(\"\".concat(this.key,\".spacing\"),\"spacing\",100);}onEnableChange(enabled){this.chartOptions.setValue(\"\".concat(this.key,\".enabled\"),enabled);}};// packages/ag-grid-enterprise/src/charts/chartComp/menu/format/titles/chartTitlePanel.ts\nvar ChartTitlePanel=class extends TitlePanel{wireBeans(beans){super.wireBeans(beans);this.chartMenuSvc=beans.chartMenuSvc;}postConstruct(){this.titlePlaceholder=this.chartTranslation.translate(\"titlePlaceholder\");super.postConstruct();this.addManagedEventListeners({chartTitleEdit:()=>{this.fontPanel.setEnabled(this.hasTitle());}});}getTextInputParams(){var params=super.getTextInputParams();if(this.shouldOverrideTextWithPlaceholder(params.value)){params.value=this.titlePlaceholder;}return params;}getSpacingSliderParams(){var params=super.getSpacingSliderParams();params.value=\"10\";return params;}onEnableChange(enabled){if(this.chartMenuSvc.doesChartToolbarExist()){var topPadding=this.chartOptions.getValue(\"padding.top\");this.chartOptions.setValue(\"padding.top\",enabled?topPadding-20:topPadding+20);}this.chartOptions.setValue(\"\".concat(this.key,\".enabled\"),enabled);var currentTitleText=this.chartOptions.getValue(\"\".concat(this.key,\".text\"));if(enabled&&this.shouldOverrideTextWithPlaceholder(currentTitleText)){this.chartOptions.setValue(\"\".concat(this.key,\".text\"),this.titlePlaceholder);}}shouldOverrideTextWithPlaceholder(currentTitleText){return currentTitleText===\"Title\"||(currentTitleText===null||currentTitleText===void 0?void 0:currentTitleText.trim().length)===0;}};// packages/ag-grid-enterprise/src/charts/chartComp/menu/format/titles/titlesPanel.ts\nvar TitlesPanel=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(options){super();this.options=options;this.titleGroup=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;}wireBeans(beans){this.chartTranslation=beans.chartTranslation;}postConstruct(){var{chartMenuParamsFactory,chartAxisMenuParamsFactory,chartOptionsService,seriesType,isExpandedOnInit:expanded=false,registerGroupComponent}=this.options;var axisTitlePanels=[];if(isCartesian(seriesType)&&seriesType!==\"pyramid\"){var createAxisParamsFactory=axisType=>this.createManagedBean(new ChartMenuParamsFactory(chartOptionsService.getCartesianAxisThemeOverridesProxy(axisType)));axisTitlePanels.push(this.createManagedBean(new TitlePanel(createAxisParamsFactory(\"xAxis\"),\"horizontalAxisTitle\",\"title\")));axisTitlePanels.push(this.createManagedBean(new TitlePanel(createAxisParamsFactory(\"yAxis\"),\"verticalAxisTitle\",\"title\")));}else if(isPolar(seriesType)){axisTitlePanels.push(this.createManagedBean(new TitlePanel(chartAxisMenuParamsFactory,\"polarAxisTitle\",\"title\")));}var titleGroupParams={cssIdentifier:\"charts-format-top-level\",direction:\"vertical\",title:this.chartTranslation.translate(\"chartTitles\"),expanded,suppressEnabledCheckbox:true,items:[this.createManagedBean(new ChartTitlePanel(chartMenuParamsFactory,\"chartTitle\",\"title\")),this.createManagedBean(new TitlePanel(chartMenuParamsFactory,\"chartSubtitle\",\"subtitle\")),...axisTitlePanels]};this.setTemplate(/* html */\"<div>\\n            <ag-group-component data-ref=\\\"titleGroup\\\"></ag-group-component>\\n        </div>\",[AgGroupComponentSelector],{titleGroup:titleGroupParams});registerGroupComponent(this.titleGroup);}};// packages/ag-grid-enterprise/src/charts/chartComp/menu/format/formatPanel.ts\nvar DefaultFormatPanelDef={groups:[{type:\"chart\"},{type:\"titles\"},{type:\"legend\"},{type:\"series\"},{type:\"axis\"}]};var AXIS_KEYS=[\"axis\",\"horizontalAxis\",\"verticalAxis\"];var FormatPanel=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(chartMenuContext){super(/* html */\"<div class=\\\"ag-chart-format-wrapper\\\"></div>\");this.chartMenuContext=chartMenuContext;}postConstruct(){this.groupExpansionFeature=this.createManagedBean(new GroupExpansionFeature(this.getGui()));this.chartPanelFeature=this.createManagedBean(new ChartPanelFeature(this.chartMenuContext.chartController,this.getGui(),\"ag-chart-format-section\",(_chartType,seriesType)=>this.createPanels(seriesType)));this.chartPanelFeature.refreshPanels();}createPanels(seriesType){var _this$getFormatPanelD;var panelExpandedOnInit=false;(_this$getFormatPanelD=this.getFormatPanelDef().groups)===null||_this$getFormatPanelD===void 0||_this$getFormatPanelD.forEach(_ref129=>{var{type:group,isOpen:isExpandedOnInit=false}=_ref129;if(!this.isGroupPanelShownInSeries(group,seriesType)){return;}if(isExpandedOnInit){if(panelExpandedOnInit){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(145,{group});}panelExpandedOnInit=true;}var registerGroupComponent=groupComponent=>this.groupExpansionFeature.addGroupComponent(groupComponent);var opts=_objectSpread(_objectSpread({},this.chartMenuContext),{},{isExpandedOnInit,seriesType,registerGroupComponent});switch(group){case\"chart\":this.chartPanelFeature.addComponent(new ChartPanel(opts));break;case\"titles\":this.chartPanelFeature.addComponent(new TitlesPanel(opts));break;case\"legend\":this.chartPanelFeature.addComponent(new LegendPanel(opts,this.chartMenuContext));break;case\"axis\":if(isPolar(seriesType)){this.chartPanelFeature.addComponent(new PolarAxisPanel(opts));}else if(isCartesian(seriesType)){this.chartPanelFeature.addComponent(new CartesianAxisPanel(\"xAxis\",opts));this.chartPanelFeature.addComponent(new CartesianAxisPanel(\"yAxis\",opts));}break;case\"horizontalAxis\":this.chartPanelFeature.addComponent(new CartesianAxisPanel(\"xAxis\",opts));break;case\"verticalAxis\":this.chartPanelFeature.addComponent(new CartesianAxisPanel(\"yAxis\",opts));break;case\"series\":this.chartPanelFeature.addComponent(new SeriesPanel(opts));break;default:(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(147,{group});}});}getFormatPanelDef(){var _this$gos$get1;var userProvidedFormatPanelDef=(_this$gos$get1=this.gos.get(\"chartToolPanelsDef\"))===null||_this$gos$get1===void 0?void 0:_this$gos$get1.formatPanel;return userProvidedFormatPanelDef?userProvidedFormatPanelDef:DefaultFormatPanelDef;}isGroupPanelShownInSeries(group,seriesType){var enable=[\"chart\",\"titles\",\"legend\",\"series\"].includes(group)||isCartesian(seriesType)&&AXIS_KEYS.includes(group)||isPolar(seriesType)&&group===\"axis\";var disable=isFunnel(seriesType)&&group===\"legend\"||isFunnel(seriesType)&&AXIS_KEYS.includes(group);return enable&&!disable;}};// packages/ag-grid-enterprise/src/charts/chartComp/menu/settings/chartSettingsPanel.ts\n// packages/ag-grid-enterprise/src/charts/chartComp/menu/settings/miniChartsContainer.ts\n// packages/ag-grid-enterprise/src/charts/chartComp/menu/settings/miniCharts/miniChart.ts\nvar CANVAS_CLASS=\"ag-chart-mini-thumbnail-canvas\";var MiniChart=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(container,agChartsExports,tooltipName){super();this.agChartsExports=agChartsExports;this.tooltipName=tooltipName;this.size=58;this.padding=5;var{_Scene}=agChartsExports;this.root=new _Scene.Group();var scene=new _Scene.Scene({width:this.size,height:this.size});scene.canvas.element.classList.add(CANVAS_CLASS);scene.setRoot(this.root);scene.setContainer(container);this.scene=scene;}wireBeans(beans){this.chartTranslation=beans.chartTranslation;}postConstruct(){this.scene.canvas.element.title=this.chartTranslation.translate(this.tooltipName);try{this.scene.render();}catch(e){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._error)(108,{e});}}};// packages/ag-grid-enterprise/src/charts/chartComp/menu/settings/miniCharts/miniChartHelpers.ts\nfunction createColumnRects(params){var{stacked,size,padding,xScalePadding,xScaleDomain,yScaleDomain,agChartsExports:{_Scene}}=params;var xScale=new _Scene.CategoryScale();xScale.domain=xScaleDomain;xScale.range=[padding,size-padding];xScale.paddingInner=xScalePadding;xScale.paddingOuter=xScalePadding;var yScale=new _Scene.LinearScale();yScale.domain=yScaleDomain;yScale.range=[size-padding,padding];var createBars=(series,xScale2,yScale2)=>{return series.map((datum,i)=>{var top=yScale2.convert(datum);var rect=new _Scene.Rect();rect.x=xScale2.convert(i);rect.y=top;rect.width=xScale2.bandwidth;rect.height=yScale2.convert(0)-top;rect.strokeWidth=0;rect.crisp=true;return rect;});};if(stacked){return params.data.map(d=>createBars(d,xScale,yScale));}return createBars(params.data,xScale,yScale);}function prepareXYScales(_Scene,data,size,padding){var xDomain=[];var yDomain=[];data.forEach(item=>{item.forEach(_ref130=>{var[x,y]=_ref130;xDomain.push(x);yDomain.push(y);});});var xScale=new _Scene.LinearScale();xScale.domain=[Math.min(...xDomain),Math.max(...xDomain)];xScale.range=[padding,size-padding];var yScale=new _Scene.LinearScale();yScale.domain=[Math.min(...yDomain),Math.max(...yDomain)];yScale.range=[size-padding,padding];return{xScale,yScale};}function prepareLinearScene(_Scene,data,size,padding){var xDomain=[0,data[0].length-1];var yDomain=data.reduce((acc,curr)=>{curr.forEach(datum=>{if(datum<acc[0]){acc[0]=datum;}if(datum>acc[1]){acc[1]=datum;}});return acc;},[Infinity,-Infinity]);yDomain[0]--;yDomain[yDomain.length-1]++;var xScale=new _Scene.LinearScale();xScale.domain=xDomain;xScale.range=[padding,size-padding];var yScale=new _Scene.LinearScale();yScale.domain=yDomain;yScale.range=[size-padding,padding];return{xScale,yScale};}function createXPathCommands(data,xScale,yScale){return data.map(series=>series.map((datum,i)=>[i>0?\"lineTo\":\"moveTo\",xScale.convert(i),yScale.convert(datum)]));}function createXYPathCommands(shape,xScale,yScale){return shape.map((_ref131,i)=>{var[x,y]=_ref131;return[i>0?\"lineTo\":\"moveTo\",xScale.convert(x),yScale.convert(y)];});}function closePath(commandSegments){var closingCommand=commandSegments[0];var first=commandSegments[1];var last=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._last)(commandSegments);if(first[1]!==last[1]||first[2]!==last[2]){commandSegments.push([closingCommand[0],first[1],first[2]]);}return commandSegments;}function createPath(_Scene,commands){var path=new _Scene.Path();commands.forEach(_ref132=>{var[command,x,y]=_ref132;return path.path[command](x,y);});return path;}function createAreaPathCommands(commands,yScale,stacked){return commands.map((pathCommands,index,all)=>{var closingPath=stacked?closePathViaPreviousSeries(all,index,yScale):closePathViaOrigin(pathCommands,yScale);var closingPathCommands=[...closingPath].reverse().map(_ref133=>{var[_,x,y]=_ref133;return[\"lineTo\",x,y];});var first=pathCommands[0];var last=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._last)(closingPathCommands);if(first[1]!==last[1]||first[2]!==last[2]){closingPathCommands.push([\"lineTo\",first[1],first[2]]);}return[...pathCommands,...closingPathCommands];});}function closePathViaPreviousSeries(all,index,yScale){if(index===0){return closePathViaOrigin(all[index],yScale);}return[...all[index-1]];}function closePathViaOrigin(pathCommands,yScale){return pathCommands.map(_ref134=>{var[c,x]=_ref134;return[c,x,yScale.convert(0)];});}function commandsToPath(_Scene,commands){var path=createPath(_Scene,commands);path.fill=void 0;path.lineCap=\"round\";path.strokeWidth=3;return path;}function createShapePaths(_ref135,root,shapes,size,padding){var{_Scene}=_ref135;var{xScale,yScale}=prepareXYScales(_Scene,shapes,size,padding);var openPathsCommands=shapes.map(shape=>createXYPathCommands(shape,xScale,yScale));var shapesCommands=openPathsCommands.map(path=>closePath(path));var shapePaths=shapesCommands.map(shapeCommands=>commandsToPath(_Scene,shapeCommands));var paths=shapePaths.reduce((acc,curr)=>acc.concat(curr),[]);var pathsGroup=new _Scene.Group();pathsGroup.setClipRect(new _Scene.BBox(padding,padding,size-padding*2,size-padding*2));pathsGroup.append(paths);root.append(pathsGroup);return paths;}function createLinePaths(_ref136,root,data,size,padding){var{_Scene}=_ref136;var{xScale,yScale}=prepareLinearScene(_Scene,data,size,padding);var pathCommands=createXPathCommands(data,xScale,yScale);var paths=pathCommands.map(commands=>commandsToPath(_Scene,commands));var pathsGroup=new _Scene.Group();pathsGroup.setClipRect(new _Scene.BBox(padding,padding,size-padding*2,size-padding*2));pathsGroup.append(paths);root.append(pathsGroup);return paths;}function createAreaPaths(_Scene,root,data,size,padding){var stacked=arguments.length>5&&arguments[5]!==undefined?arguments[5]:false;var{xScale,yScale}=prepareLinearScene(_Scene,data,size,padding);var pathCommands=createAreaPathCommands(createXPathCommands(data,xScale,yScale),yScale,stacked);var areasGroup=new _Scene.Group();areasGroup.setClipRect(new _Scene.BBox(padding,padding,size-padding*2,size-padding*2));var paths=pathCommands.map(commands=>createPath(_Scene,commands));areasGroup.append(paths);root.append(areasGroup);return paths;}function stackData(data){return data.map((stack,sindex,array)=>stack.map((_y,i)=>array.slice(0,sindex+1).reduce((p,c)=>p+c[i],0)));}function normalizeStackData(data){var colSum=data.map((_,index)=>data.reduce((acc,cur)=>Math.max(acc,cur[index]),0));return data.map(stack=>stack.map((y,index)=>y/colSum[index]*19));}function createPolarPaths(agChartsExports,root,data,size,radius,innerRadius){var markerSize=arguments.length>6&&arguments[6]!==undefined?arguments[6]:0;var{_Scene}=agChartsExports;var angleScale=new _Scene.LinearScale();angleScale.domain=[0,7];angleScale.range=[-Math.PI,Math.PI].map(angle=>angle+Math.PI/2);var radiusScale=new _Scene.LinearScale();radiusScale.domain=[0,10];radiusScale.range=[radius,innerRadius];var markers2=[];var center=size/2;var paths=data.map(series=>{var path=new _Scene.Path();path.strokeWidth=1;path.strokeOpacity=0.5;path.lineCap=\"round\";path.fill=void 0;path.fillOpacity=0.8;series.forEach((datum,i)=>{var angle=angleScale.convert(i);var r=radius+innerRadius-radiusScale.convert(datum);var x=r*Math.cos(angle)+center;var y=r*Math.sin(angle)+center;path.path[i>0?\"lineTo\":\"moveTo\"](x,y);if(markerSize>0){var marker=new _Scene.Marker({shape:\"circle\"});marker.x=x;marker.y=y;marker.size=markerSize;markers2.push(marker);}});path.path.closePath();return path;});var group=new _Scene.Group();group.append([...paths,...markers2]);root.append(group);return{paths,markers:markers2};}function accumulateData(data){var[min,max]=[Infinity,-Infinity];var processedData=data.reduce((acc,curr,currIndex)=>{var _acc$currIndex;var previous=currIndex>0?acc[currIndex-1]:void 0;(_acc$currIndex=acc[currIndex])!==null&&_acc$currIndex!==void 0?_acc$currIndex:acc[currIndex]=[];var current=acc[currIndex];curr.forEach((datum,datumIndex)=>{if(previous){datum+=previous[datumIndex];}current[datumIndex]=datum;if(current[datumIndex]<min){min=current[datumIndex];}if(current[datumIndex]>max){max=current[datumIndex];}});return acc;},[]);return{processedData,min,max};}// packages/ag-grid-enterprise/src/charts/chartComp/menu/settings/miniCharts/funnel/miniFunnel.ts\nvar FUNNEL_SHAPES=[[[13,16],[13,12],[3,12],[3,16]],[[12,11],[12,7],[4,7],[4,11]],[[10.125,6],[10.125,1.5],[5.875,1.5],[5.875,6]]];var MiniFunnelClass=class extends MiniChart{constructor(container,agChartsExports,fills,strokes,_isCustomTheme){var tooltipName=arguments.length>5&&arguments[5]!==undefined?arguments[5]:\"funnelTooltip\";var data=arguments.length>6&&arguments[6]!==undefined?arguments[6]:FUNNEL_SHAPES;super(container,agChartsExports,tooltipName);this.shapes=createShapePaths(agChartsExports,this.root,data,this.size,this.padding);this.updateColors(fills,strokes);}updateColors(fills,strokes){this.shapes.forEach(bar=>{bar.fill=fills[0];bar.stroke=strokes[0];bar.strokeWidth=0;});}};var MiniFunnel={chartType:\"funnel\",miniChart:MiniFunnelClass};// packages/ag-grid-enterprise/src/charts/chartComp/menu/settings/miniCharts/funnel/miniConeFunnel.ts\nvar CONE_FUNNEL_SHAPES=[[[13,16],[10.75,11.5],[5.25,11.5],[3,16]],[[10.75,11.5],[8.875,6],[7.125,6],[5.25,11.5]],[[8.875,6],[8.875,1.5],[7.125,1.5],[7.125,6]]];var MiniConeFunnelClass=class extends MiniFunnelClass{constructor(container,agChartsExports,fills,strokes,_isCustomTheme){var tooltipName=arguments.length>5&&arguments[5]!==undefined?arguments[5]:\"coneFunnelTooltip\";super(container,agChartsExports,fills,strokes,_isCustomTheme,tooltipName,CONE_FUNNEL_SHAPES);}updateColors(fills,strokes){this.shapes.forEach((bar,i)=>{bar.fill=fills[0];bar.fillOpacity=1-i*0.2;bar.stroke=strokes[0];bar.strokeWidth=0;});}};var MiniConeFunnel={chartType:\"coneFunnel\",miniChart:MiniConeFunnelClass};// packages/ag-grid-enterprise/src/charts/chartComp/menu/settings/miniCharts/funnel/miniPyramid.ts\nvar PYRAMID_SHAPES=[[[8,16],[10,12],[6,12]],[[10.5,11],[12.5,7],[3.5,7],[5.5,11]],[[13,6],[15.5,1.5],[0.5,1.5],[3,6]]];var MiniPyramidClass=class extends MiniFunnelClass{constructor(container,agChartsExports,fills,strokes,_isCustomTheme){var tooltipName=arguments.length>5&&arguments[5]!==undefined?arguments[5]:\"pyramidTooltip\";super(container,agChartsExports,fills,strokes,_isCustomTheme,tooltipName,PYRAMID_SHAPES);}updateColors(fills,strokes){this.shapes.forEach((bar,i)=>{bar.fill=fills[i];bar.stroke=strokes[i];bar.strokeWidth=0;});}};var MiniPyramid={chartType:\"pyramid\",miniChart:MiniPyramidClass};// packages/ag-grid-enterprise/src/charts/chartComp/menu/settings/miniCharts/miniChartWithAxes.ts\nvar MiniChartWithAxes=class extends MiniChart{constructor(container,agChartsExports,tooltipName){super(container,agChartsExports,tooltipName);this.stroke=\"gray\";this.axisOvershoot=3;}postConstruct(){var{_Scene}=this.agChartsExports;var size=this.size;var padding=this.padding;var leftAxis=new _Scene.Line();leftAxis.x1=padding;leftAxis.y1=padding;leftAxis.x2=padding;leftAxis.y2=size-padding+this.axisOvershoot;leftAxis.stroke=this.stroke;var bottomAxis=new _Scene.Line();bottomAxis.x1=padding-this.axisOvershoot+1;bottomAxis.y1=size-padding;bottomAxis.x2=size-padding+1;bottomAxis.y2=size-padding;bottomAxis.stroke=this.stroke;var root=this.root;root.append(leftAxis);root.append(bottomAxis);super.postConstruct();}};// packages/ag-grid-enterprise/src/charts/chartComp/menu/settings/miniCharts/column/miniColumn.ts\nvar MiniColumnClass=class extends MiniChartWithAxes{constructor(container,agChartsExports,fills,strokes){super(container,agChartsExports,\"groupedColumnTooltip\");this.columnData=[2,3,4];var{root,columnData,size,padding}=this;this.columns=createColumnRects({stacked:false,root,data:columnData,size,padding,xScaleDomain:[0,1,2],yScaleDomain:[0,4],xScalePadding:0.3,agChartsExports});root.append(this.columns);this.updateColors(fills,strokes);}updateColors(fills,strokes){this.columns.forEach((column,i)=>{column.fill=fills[i];column.stroke=strokes[i];});}};var MiniColumn={chartType:\"groupedColumn\",miniChart:MiniColumnClass};// packages/ag-grid-enterprise/src/charts/chartComp/menu/settings/miniCharts/column/miniStackedColumn.ts\nvar miniStackedColumnData=[[8,12,16],[6,9,12],[2,3,4]];var MiniStackedColumnClass=class extends MiniChartWithAxes{constructor(container,agChartsExports,fills,strokes,_isCustomTheme){var data=arguments.length>5&&arguments[5]!==undefined?arguments[5]:miniStackedColumnData;var yScaleDomain=arguments.length>6&&arguments[6]!==undefined?arguments[6]:[0,16];var tooltipName=arguments.length>7&&arguments[7]!==undefined?arguments[7]:\"stackedColumnTooltip\";super(container,agChartsExports,tooltipName);var{root,size,padding}=this;this.stackedColumns=createColumnRects({stacked:true,root,data,size,padding,xScaleDomain:[0,1,2],yScaleDomain,xScalePadding:0.3,agChartsExports});root.append((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._flatten)(this.stackedColumns));this.updateColors(fills,strokes);}updateColors(fills,strokes){this.stackedColumns.forEach((series,i)=>series.forEach(column=>{column.fill=fills[i];column.stroke=strokes[i];}));}};var MiniStackedColumn={chartType:\"stackedColumn\",miniChart:MiniStackedColumnClass};// packages/ag-grid-enterprise/src/charts/chartComp/menu/settings/miniCharts/column/miniNormalizedColumn.ts\nvar miniNormalizedColumnData=[[10,10,10],[6,7,8],[2,4,6]];var MiniNormalizedColumnClass=class extends MiniStackedColumnClass{constructor(container,agChartsExports,fills,strokes,isCustomTheme){super(container,agChartsExports,fills,strokes,isCustomTheme,miniNormalizedColumnData,[0,10],\"normalizedColumnTooltip\");}};var MiniNormalizedColumn={chartType:\"normalizedColumn\",miniChart:MiniNormalizedColumnClass};// packages/ag-grid-enterprise/src/charts/chartComp/menu/settings/miniCharts/bar/miniBar.ts\nvar MiniBarClass=class extends MiniChartWithAxes{constructor(container,agChartsExports,fills,strokes){super(container,agChartsExports,\"groupedBarTooltip\");var{_Scene}=agChartsExports;var padding=this.padding;var size=this.size;var data=[2,3,4];var yScale=new _Scene.CategoryScale();yScale.domain=[0,1,2];yScale.range=[padding,size-padding];yScale.paddingInner=0.3;yScale.paddingOuter=0.3;var xScale=new _Scene.LinearScale();xScale.domain=[0,4];xScale.range=[size-padding,padding];var bottom=xScale.convert(0);var height=yScale.bandwidth;this.bars=data.map((datum,i)=>{var rect=new _Scene.Rect();rect.x=padding;rect.y=yScale.convert(i);rect.width=bottom-xScale.convert(datum);rect.height=height;rect.strokeWidth=0;rect.crisp=true;return rect;});this.updateColors(fills,strokes);this.root.append(this.bars);}updateColors(fills,strokes){this.bars.forEach((bar,i)=>{bar.fill=fills[i];bar.stroke=strokes[i];});}};var MiniBar={chartType:\"groupedBar\",miniChart:MiniBarClass};// packages/ag-grid-enterprise/src/charts/chartComp/menu/settings/miniCharts/bar/miniStackedBar.ts\nvar miniStackedBarData=[[8,12,16],[6,9,12],[2,3,4]];var MiniStackedBarClass=class extends MiniChartWithAxes{constructor(container,agChartsExports,fills,strokes,_isCustomTheme){var data=arguments.length>5&&arguments[5]!==undefined?arguments[5]:miniStackedBarData;var xScaleDomain=arguments.length>6&&arguments[6]!==undefined?arguments[6]:[0,16];var tooltipName=arguments.length>7&&arguments[7]!==undefined?arguments[7]:\"stackedBarTooltip\";super(container,agChartsExports,tooltipName);var{_Scene}=agChartsExports;var size=this.size;var padding=this.padding;var yScale=new _Scene.CategoryScale();yScale.domain=[0,1,2];yScale.range=[padding,size-padding];yScale.paddingInner=0.3;yScale.paddingOuter=0.3;var xScale=new _Scene.LinearScale();xScale.domain=xScaleDomain;xScale.range=[size-padding,padding];var bottom=xScale.convert(0);var height=yScale.bandwidth;this.bars=data.map(series=>series.map((datum,i)=>{var rect=new _Scene.Rect();rect.x=padding;rect.y=yScale.convert(i);rect.width=bottom-xScale.convert(datum);rect.height=height;rect.strokeWidth=0;rect.crisp=true;return rect;}));this.updateColors(fills,strokes);this.root.append((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._flatten)(this.bars));}updateColors(fills,strokes){this.bars.forEach((series,i)=>series.forEach(bar=>{bar.fill=fills[i];bar.stroke=strokes[i];}));}};var MiniStackedBar={chartType:\"stackedBar\",miniChart:MiniStackedBarClass};// packages/ag-grid-enterprise/src/charts/chartComp/menu/settings/miniCharts/bar/miniNormalizedBar.ts\nvar miniNormalizedBarData=[[10,10,10],[6,7,8],[2,4,6]];var MiniNormalizedBarClass=class extends MiniStackedBarClass{constructor(container,agChartsExports,fills,strokes,isCustomTheme){super(container,agChartsExports,fills,strokes,isCustomTheme,miniNormalizedBarData,[0,10],\"normalizedBarTooltip\");}};var MiniNormalizedBar={chartType:\"normalizedBar\",miniChart:MiniNormalizedBarClass};// packages/ag-grid-enterprise/src/charts/chartComp/menu/settings/miniCharts/pie/miniDonut.ts\nvar MiniDonutClass=class extends MiniChart{constructor(container,agChartsExports,fills,strokes,_isCustomTheme){var centerRadiusScaler=arguments.length>5&&arguments[5]!==undefined?arguments[5]:0.6;var tooltipName=arguments.length>6&&arguments[6]!==undefined?arguments[6]:\"donutTooltip\";super(container,agChartsExports,tooltipName);var{size,padding,agChartsExports:{_Scene}}=this;var radius=(size-padding*2)/2;var center=radius+padding;var toRadians=_Scene.toRadians;var angles=[[toRadians(-90),toRadians(30)],[toRadians(30),toRadians(120)],[toRadians(120),toRadians(180)],[toRadians(180),toRadians(210)],[toRadians(210),toRadians(240)],[toRadians(240),toRadians(270)]];this.sectors=angles.map(_ref137=>{var[startAngle,endAngle]=_ref137;var sector=new _Scene.Sector();sector.centerX=center;sector.centerY=center;sector.innerRadius=radius*centerRadiusScaler;sector.outerRadius=radius;sector.startAngle=startAngle;sector.endAngle=endAngle;sector.stroke=void 0;sector.strokeWidth=0;sector.inset=0.75;return sector;});this.updateColors(fills,strokes);this.root.append(this.sectors);}updateColors(fills,strokes){this.sectors.forEach((sector,i)=>{sector.fill=fills[i%fills.length];sector.stroke=strokes[i%strokes.length];});}};var MiniDonut={chartType:\"donut\",miniChart:MiniDonutClass};// packages/ag-grid-enterprise/src/charts/chartComp/menu/settings/miniCharts/pie/miniPie.ts\nvar MiniPieClass=class extends MiniDonutClass{constructor(container,agChartsExports,fills,strokes,isCustomTheme){super(container,agChartsExports,fills,strokes,isCustomTheme,0,\"pieTooltip\");}};var MiniPie={chartType:\"pie\",miniChart:MiniPieClass};// packages/ag-grid-enterprise/src/charts/chartComp/menu/settings/miniCharts/line/miniLine.ts\nvar miniLineData=[[1,3,5],[2,6,4],[5,3,1]];var MiniLineClass=class extends MiniChartWithAxes{constructor(container,agChartsExports,fills,strokes,_isCustomTheme){var data=arguments.length>5&&arguments[5]!==undefined?arguments[5]:miniLineData;var tooltipName=arguments.length>6&&arguments[6]!==undefined?arguments[6]:\"lineTooltip\";super(container,agChartsExports,tooltipName);var{size,padding,root}=this;this.lines=createLinePaths(agChartsExports,root,data,size,padding);this.updateColors(fills,strokes);}updateColors(fills,_strokes){this.lines.forEach((line,i)=>{line.stroke=fills[i];});}};var MiniLine={chartType:\"line\",miniChart:MiniLineClass};// packages/ag-grid-enterprise/src/charts/chartComp/menu/settings/miniCharts/line/miniStackedLine.ts\nvar miniStackedLineData=stackData(miniLineData);var MiniStackedLineClass=class extends MiniLineClass{constructor(container,agChartsExports,fills,strokes,_isCustomTheme){var data=arguments.length>5&&arguments[5]!==undefined?arguments[5]:miniStackedLineData;var tooltipName=arguments.length>6&&arguments[6]!==undefined?arguments[6]:\"stackedLineTooltip\";super(container,agChartsExports,fills,strokes,_isCustomTheme,data,tooltipName);}};var MiniStackedLine={chartType:\"stackedLine\",miniChart:MiniStackedLineClass};// packages/ag-grid-enterprise/src/charts/chartComp/menu/settings/miniCharts/line/miniNormalizedLine.ts\nvar miniNormalizedLineData=normalizeStackData(miniStackedLineData);var MiniNormalizedLineClass=class extends MiniLineClass{constructor(container,agChartsExports,fills,strokes,isCustomTheme){var data=arguments.length>5&&arguments[5]!==undefined?arguments[5]:miniNormalizedLineData;var tooltipName=arguments.length>6&&arguments[6]!==undefined?arguments[6]:\"normalizedLineTooltip\";super(container,agChartsExports,fills,strokes,isCustomTheme,data,tooltipName);}};var MiniNormalizedLine={chartType:\"normalizedLine\",miniChart:MiniNormalizedLineClass};// packages/ag-grid-enterprise/src/charts/chartComp/menu/settings/miniCharts/scatter/miniScatter.ts\nvar MiniScatterClass=class extends MiniChartWithAxes{constructor(container,agChartsExports,fills,strokes){super(container,agChartsExports,\"scatterTooltip\");var{size,padding,agChartsExports:{_Scene}}=this;var data=[[[0.3,3],[1.1,0.9],[2,0.4],[3.4,2.4]],[[0,0.3],[1,2],[2.4,1.4],[3,0]]];var xScale=new _Scene.LinearScale();xScale.domain=[-0.5,4];xScale.range=[padding*2,size-padding];var yScale=new _Scene.LinearScale();yScale.domain=[-0.5,3.5];yScale.range=[size-padding,padding];var points=[];data.forEach(series=>{series.forEach(_ref138=>{var[x,y]=_ref138;var arc=new _Scene.Arc();arc.strokeWidth=0;arc.centerX=xScale.convert(x);arc.centerY=yScale.convert(y);arc.radius=2.5;points.push(arc);});});this.points=points;this.updateColors(fills,strokes);var pointsGroup=new _Scene.Group();pointsGroup.setClipRect(new _Scene.BBox(padding,padding,size-padding*2,size-padding*2));pointsGroup.append(this.points);this.root.append(pointsGroup);}updateColors(fills,strokes){this.points.forEach((line,i)=>{line.stroke=strokes[i%strokes.length];line.fill=fills[i%fills.length];});}};var MiniScatter={chartType:\"scatter\",miniChart:MiniScatterClass};// packages/ag-grid-enterprise/src/charts/chartComp/menu/settings/miniCharts/scatter/miniBubble.ts\nvar MiniBubbleClass=class extends MiniChartWithAxes{constructor(container,agChartsExports,fills,strokes){super(container,agChartsExports,\"bubbleTooltip\");var{size,padding,agChartsExports:{_Scene}}=this;var data=[[[0.1,0.3,5],[0.5,0.4,7],[0.2,0.8,7]],[[0.8,0.7,5],[0.7,0.3,9]]];var xScale=new _Scene.LinearScale();xScale.domain=[0,1];xScale.range=[padding*2,size-padding];var yScale=new _Scene.LinearScale();yScale.domain=[0,1];yScale.range=[size-padding,padding];var points=[];data.forEach(series=>{series.forEach(_ref139=>{var[x,y,radius]=_ref139;var arc=new _Scene.Arc();arc.strokeWidth=0;arc.centerX=xScale.convert(x);arc.centerY=yScale.convert(y);arc.radius=radius;arc.fillOpacity=0.7;points.push(arc);});});this.points=points;this.updateColors(fills,strokes);var pointsGroup=new _Scene.Group();pointsGroup.setClipRect(new _Scene.BBox(padding,padding,size-padding*2,size-padding*2));pointsGroup.append(this.points);this.root.append(pointsGroup);}updateColors(fills,strokes){this.points.forEach((line,i)=>{line.stroke=strokes[i%strokes.length];line.fill=fills[i%fills.length];});}};var MiniBubble={chartType:\"bubble\",miniChart:MiniBubbleClass};// packages/ag-grid-enterprise/src/charts/chartComp/menu/settings/miniCharts/area/miniArea.ts\nvar miniAreaData=miniLineData;var MiniAreaClass=class extends MiniChartWithAxes{constructor(container,agChartsExports,fills,strokes,_isCustomTheme){var data=arguments.length>5&&arguments[5]!==undefined?arguments[5]:miniAreaData;var tooltipName=arguments.length>6&&arguments[6]!==undefined?arguments[6]:\"groupedAreaTooltip\";var stacked=arguments.length>7&&arguments[7]!==undefined?arguments[7]:false;super(container,agChartsExports,tooltipName);this.areas=createAreaPaths(agChartsExports._Scene,this.root,data,this.size,this.padding,stacked);this.updateColors(fills,strokes);}updateColors(fills,strokes){this.areas.forEach((area,i)=>{area.fill=fills[i];area.stroke=strokes[i];area.strokeWidth=1;area.strokeOpacity=0.75;area.fillOpacity=0.7;});}};var MiniArea={chartType:\"area\",miniChart:MiniAreaClass};// packages/ag-grid-enterprise/src/charts/chartComp/menu/settings/miniCharts/area/miniStackedArea.ts\nvar miniStackedAreaData=stackData(miniAreaData);var MiniStackedAreaClass=class extends MiniAreaClass{constructor(container,agChartsExports,fills,strokes,_isCustomTheme){var data=arguments.length>5&&arguments[5]!==undefined?arguments[5]:miniStackedAreaData;var tooltipName=arguments.length>6&&arguments[6]!==undefined?arguments[6]:\"stackedAreaTooltip\";super(container,agChartsExports,fills,strokes,_isCustomTheme,data,tooltipName,true);}updateColors(fills,strokes){this.areas.forEach((area,i)=>{area.fill=fills[i];area.stroke=strokes[i];});}};var MiniStackedArea={chartType:\"stackedArea\",miniChart:MiniStackedAreaClass};// packages/ag-grid-enterprise/src/charts/chartComp/menu/settings/miniCharts/area/miniNormalizedArea.ts\nvar miniNormalizedAreaData=normalizeStackData(miniStackedAreaData);var MiniNormalizedAreaClass=class extends MiniStackedAreaClass{constructor(container,agChartsExports,fills,strokes,isCustomTheme){var data=arguments.length>5&&arguments[5]!==undefined?arguments[5]:miniNormalizedAreaData;var tooltipName=arguments.length>6&&arguments[6]!==undefined?arguments[6]:\"normalizedAreaTooltip\";super(container,agChartsExports,fills,strokes,isCustomTheme,data,tooltipName);}};var MiniNormalizedArea={chartType:\"normalizedArea\",miniChart:MiniNormalizedAreaClass};// packages/ag-grid-enterprise/src/charts/chartComp/menu/settings/miniCharts/histogram/miniHistogram.ts\nvar MiniHistogramClass=class extends MiniChartWithAxes{constructor(container,agChartsExports,fills,strokes){super(container,agChartsExports,\"histogramTooltip\");var{padding,size,agChartsExports:{_Scene}}=this;var data=[2,5,11,13,10,6,1];var xScale=new _Scene.LinearScale();xScale.domain=[0,data.length];xScale.range=[padding,size-padding];var yScale=new _Scene.LinearScale();yScale.domain=[0,data.reduce((a,b)=>Math.max(a,b),0)];yScale.range=[size-padding,padding];var bottom=yScale.convert(0);this.bars=data.map((datum,i)=>{var top=yScale.convert(datum);var left=xScale.convert(i);var right=xScale.convert(i+1);var rect=new _Scene.Rect();rect.x=left;rect.y=top;rect.width=right-left;rect.height=bottom-top;rect.strokeWidth=1;rect.strokeOpacity=0.75;rect.crisp=true;return rect;});this.updateColors(fills,strokes);this.root.append(this.bars);}updateColors(_ref140,_ref141){var[fill]=_ref140;var[stroke]=_ref141;this.bars.forEach(bar=>{bar.fill=fill;bar.stroke=stroke;});}};var MiniHistogram={chartType:\"histogram\",miniChart:MiniHistogramClass};// packages/ag-grid-enterprise/src/charts/chartComp/menu/settings/miniCharts/miniChartWithPolarAxes.ts\nvar MiniChartWithPolarAxes=class extends MiniChart{constructor(container,agChartsExports,tooltipName){super(container,agChartsExports,tooltipName);this.stroke=\"gray\";this.showRadiusAxisLine=true;this.showAngleAxisLines=true;}postConstruct(){var{_Scene}=this.agChartsExports;var size=this.size;var padding=this.padding;var combinedPadding=padding*2;var axisLineRadius=(size-combinedPadding)/2;var gridRadii=this.showAngleAxisLines?[axisLineRadius,axisLineRadius*0.8,axisLineRadius*0.6,axisLineRadius*0.4]:[];var radiusAxisLine=new _Scene.Line();radiusAxisLine.x1=size/2;radiusAxisLine.y1=padding;radiusAxisLine.x2=size/2;radiusAxisLine.y2=size-padding-axisLineRadius-gridRadii[gridRadii.length-1];radiusAxisLine.stroke=this.stroke;radiusAxisLine.strokeOpacity=0.5;radiusAxisLine.fill=void 0;radiusAxisLine.visible=this.showRadiusAxisLine;var x=padding+axisLineRadius;this.gridLines=gridRadii.map((radius,index)=>{var gridLine=new _Scene.Path();gridLine.path.arc(x,x,radius,0,2*Math.PI);gridLine.strokeWidth=1;gridLine.stroke=this.stroke;gridLine.strokeOpacity=index===0?0.5:0.2;gridLine.fill=void 0;return gridLine;});var root=this.root;root.append(radiusAxisLine);if(this.gridLines.length>0)root.append(this.gridLines);super.postConstruct();}};// packages/ag-grid-enterprise/src/charts/chartComp/menu/settings/miniCharts/polar/miniRadialColumn.ts\nvar MiniRadialColumnClass=class extends MiniChartWithPolarAxes{constructor(container,agChartsExports,fills,strokes){super(container,agChartsExports,\"radialColumnTooltip\");this.data=[[6,8,10,2,6,5],[4,4,3,6,4,4],[5,4,2,9,8,9]];this.showRadiusAxisLine=false;var{padding,size,data,agChartsExports:{_Scene}}=this;var radius=(size-padding*2)/2;var innerRadiusRatio=0.4;var axisInnerRadius=radius*innerRadiusRatio;var angleScale=new _Scene.CategoryScale();angleScale.domain=data[0].map((_,index)=>index);angleScale.range=[0,2*Math.PI];angleScale.paddingInner=0;angleScale.paddingOuter=0;var bandwidth=angleScale.bandwidth*0.7;var{processedData,max}=accumulateData(data);var radiusScale=new _Scene.LinearScale();radiusScale.domain=[0,max];radiusScale.range=[axisInnerRadius,radius];var center=this.size/2;this.series=processedData.map((series,seriesIndex)=>{var firstSeries=seriesIndex===0;var previousSeries=firstSeries?void 0:processedData[seriesIndex-1];var seriesGroup=new _Scene.TranslatableGroup({zIndex:1e6});var seriesColumns=series.map((datum,i)=>{var previousDatum=previousSeries===null||previousSeries===void 0?void 0:previousSeries[i];var outerRadius=radiusScale.convert(datum);var innerRadius=radiusScale.convert(previousDatum!==null&&previousDatum!==void 0?previousDatum:0);var startAngle=angleScale.convert(i);var endAngle=startAngle+bandwidth;var columnWidth=_Scene.getRadialColumnWidth(startAngle,endAngle,radius,0.5,0.5);var column=new _Scene.RadialColumnShape();column.columnWidth=columnWidth;column.innerRadius=innerRadius;column.outerRadius=outerRadius;column.startAngle=startAngle;column.endAngle=endAngle;column.isBeveled=true;column.axisInnerRadius=axisInnerRadius;column.axisOuterRadius=radius;column.stroke=void 0;column.strokeWidth=0;return column;});seriesGroup.append(seriesColumns);seriesGroup.translationX=center;seriesGroup.translationY=center;return seriesGroup;});this.root.append(this.series);this.updateColors(fills,strokes);}updateColors(fills,strokes){this.series.forEach((group,i)=>{for(var sector of group.children()){sector.fill=fills[i%fills.length];sector.stroke=strokes[i%strokes.length];}});}};var MiniRadialColumn={chartType:\"radialColumn\",miniChart:MiniRadialColumnClass};// packages/ag-grid-enterprise/src/charts/chartComp/menu/settings/miniCharts/polar/miniRadialBar.ts\nvar MiniRadialBarClass=class extends MiniChartWithPolarAxes{constructor(container,agChartsExports,fills,strokes){super(container,agChartsExports,\"radialBarTooltip\");this.data=[[6,8,10],[4,4,3],[5,4,2]];this.showRadiusAxisLine=false;var{size,padding,data,agChartsExports:{_Scene}}=this;var radius=(size-padding)/2;var innerRadiusRatio=0.4;var innerRadius=radius*innerRadiusRatio;var radiusScale=new _Scene.CategoryScale();radiusScale.domain=data[0].map((_,index)=>index);radiusScale.range=[innerRadius,radius];radiusScale.paddingInner=0.5;radiusScale.paddingOuter=0;var bandwidth=radiusScale.bandwidth;var{processedData,max}=accumulateData(data);var angleScale=new _Scene.LinearScale();angleScale.domain=[0,Math.ceil(max*1.5)];var start=3/2*Math.PI;var end=start+2*Math.PI;angleScale.range=[start,end];var center=size/2;this.series=processedData.map((series,index)=>{var previousSeries=index<0?void 0:processedData[index-1];var seriesGroup=new _Scene.Group({zIndex:1e6});var seriesSectors=series.map((datum,i)=>{var _previousSeries$i;var previousDatum=(_previousSeries$i=previousSeries===null||previousSeries===void 0?void 0:previousSeries[i])!==null&&_previousSeries$i!==void 0?_previousSeries$i:0;var outerRadius=radiusScale.convert(i);var innerRadius2=outerRadius-bandwidth;var startAngle=angleScale.convert(previousDatum);var endAngle=angleScale.convert(datum);var sector=new _Scene.Sector();sector.centerX=center;sector.centerY=center;sector.innerRadius=innerRadius2;sector.outerRadius=outerRadius;sector.startAngle=startAngle;sector.endAngle=endAngle;sector.stroke=void 0;sector.strokeWidth=0;return sector;});seriesGroup.append(seriesSectors);return seriesGroup;});this.root.append(this.series);this.updateColors(fills,strokes);}updateColors(fills,strokes){this.series.forEach((group,i)=>{for(var sector of group.children()){sector.fill=fills[i%fills.length];sector.stroke=strokes[i%strokes.length];}});}};var MiniRadialBar={chartType:\"radialBar\",miniChart:MiniRadialBarClass};// packages/ag-grid-enterprise/src/charts/chartComp/menu/settings/miniCharts/polar/miniRadarLine.ts\nvar MiniRadarLineClass=class extends MiniChartWithPolarAxes{constructor(container,agChartsExports,fills,strokes){super(container,agChartsExports,\"radarLineTooltip\");this.markerSize=4;this.data=[[8,7,8,7,8,8,7,8],[6,8,5,10,6,7,4,6],[0,3,3,5,4,4,2,0]];this.showRadiusAxisLine=false;var{size,padding,root,data}=this;var radius=(size-padding*2)/2;var innerRadius=0;var{paths,markers:markers2}=createPolarPaths(agChartsExports,root,data,size,radius,innerRadius,this.markerSize);this.lines=paths;this.markers=markers2;this.updateColors(fills,strokes);}updateColors(fills,strokes){this.lines.forEach((line,i)=>{var n=this.data[i].length;line.stroke=fills[i];var startIdx=i*n;var endIdx=startIdx+n;var markers2=this.markers.slice(startIdx,endIdx);markers2.forEach(marker=>{marker.stroke=strokes[i];marker.fill=fills[i];});});}};var MiniRadarLine={chartType:\"radarLine\",miniChart:MiniRadarLineClass};// packages/ag-grid-enterprise/src/charts/chartComp/menu/settings/miniCharts/polar/miniRadarArea.ts\nvar MiniRadarAreaClass=class extends MiniChartWithPolarAxes{constructor(container,agChartsExports,fills,strokes){super(container,agChartsExports,\"radarAreaTooltip\");this.data=[[8,10,5,7,4,1,5,8],[1,1,2,7,7,8,10,1],[4,5,9,9,4,2,3,4]];var{size,padding,root,data}=this;this.showRadiusAxisLine=false;var radius=(size-padding*2)/2;var innerRadius=radius-size*0.3;this.areas=createPolarPaths(agChartsExports,root,data,size,radius,innerRadius).paths;this.updateColors(fills,strokes);}updateColors(fills,strokes){this.areas.forEach((area,i)=>{area.fill=fills[i];area.stroke=strokes[i];});}};var MiniRadarArea={chartType:\"radarArea\",miniChart:MiniRadarAreaClass};// packages/ag-grid-enterprise/src/charts/chartComp/menu/settings/miniCharts/polar/miniNightingale.ts\nvar MiniNightingaleClass=class extends MiniChartWithPolarAxes{constructor(container,agChartsExports,fills,strokes){super(container,agChartsExports,\"nightingaleTooltip\");this.data=[[6,10,9,8,7,8],[4,6,5,4,5,5],[3,5,4,3,4,7]];this.showRadiusAxisLine=false;var{size,padding,data,agChartsExports:{_Scene}}=this;var radius=(size-padding*2)/2;var angleScale=new _Scene.CategoryScale();angleScale.domain=data[0].map((_,index)=>index);angleScale.range=[-Math.PI,Math.PI];angleScale.paddingInner=0;angleScale.paddingOuter=0;var bandwidth=angleScale.bandwidth*0.7;var{processedData,max}=accumulateData(data);var radiusScale=new _Scene.LinearScale();radiusScale.domain=[0,max];radiusScale.range=[0,radius];var center=size/2;this.series=processedData.map((series,index)=>{var previousSeries=index<0?void 0:processedData[index-1];var seriesGroup=new _Scene.Group({zIndex:1e6});var seriesSectors=series.map((datum,i)=>{var previousDatum=previousSeries===null||previousSeries===void 0?void 0:previousSeries[i];var outerRadius=radiusScale.convert(datum);var innerRadius=radiusScale.convert(previousDatum!==null&&previousDatum!==void 0?previousDatum:0);var startAngle=angleScale.convert(i);var endAngle=startAngle+bandwidth;var sector=new _Scene.Sector();sector.centerX=center;sector.centerY=center;sector.innerRadius=innerRadius;sector.outerRadius=outerRadius;sector.startAngle=startAngle;sector.endAngle=endAngle;sector.stroke=void 0;sector.strokeWidth=0;return sector;});seriesGroup.append(seriesSectors);return seriesGroup;});this.root.append(this.series);this.updateColors(fills,strokes);}updateColors(fills,strokes){this.series.forEach((group,i)=>{for(var sector of group.children()){sector.fill=fills[i%fills.length];sector.stroke=strokes[i%strokes.length];}});}};var MiniNightingale={chartType:\"nightingale\",miniChart:MiniNightingaleClass};// packages/ag-grid-enterprise/src/charts/chartComp/menu/settings/miniCharts/statistical/miniRangeBar.ts\nvar MiniRangeBarClass=class extends MiniChartWithAxes{constructor(container,agChartsExports,fills,strokes){super(container,agChartsExports,\"rangeBarTooltip\");var data=[3,3.5,3];this.bars=this.createRangeBar(this.root,data,this.size,this.padding,\"vertical\");this.updateColors(fills,strokes);}updateColors(fills,strokes){this.bars.forEach((bar,i)=>{bar.fill=fills[i];bar.stroke=strokes[i];});}createRangeBar(root,data,size,padding,direction){var barAlongX=direction===\"horizontal\";var scalePadding=2*padding;var{_Scene}=this.agChartsExports;var xScale=new _Scene.CategoryScale();xScale.domain=data.map((_,index)=>index);xScale.range=[padding,size-padding];xScale.paddingInner=0.3;xScale.paddingOuter=0.3;var lowRatio=0.7;var highRatio=1.3;var yScale=new _Scene.LinearScale();yScale.domain=[data.reduce((a,b)=>Math.min(a,b),Infinity)*lowRatio,data.reduce((a,b)=>Math.max(a,b),0)*highRatio];yScale.range=[scalePadding,size-scalePadding];var width=xScale.bandwidth;var bars=data.map((datum,i)=>{var[low,high]=[datum*lowRatio,datum*highRatio];var x=xScale.convert(i);var y=yScale.convert(low);var height=yScale.convert(high)-y;var rect=new _Scene.Rect();rect.x=barAlongX?y:x;rect.y=barAlongX?x:y;rect.width=barAlongX?height:width;rect.height=barAlongX?width:height;rect.strokeWidth=0;rect.crisp=true;return rect;});root.append(bars);return bars;}};var MiniRangeBar={chartType:\"rangeBar\",miniChart:MiniRangeBarClass};// packages/ag-grid-enterprise/src/charts/chartComp/menu/settings/miniCharts/statistical/miniRangeArea.ts\nvar MiniRangeAreaClass=class extends MiniChartWithAxes{constructor(container,agChartsExports,fills,strokes){super(container,agChartsExports,\"rangeAreaTooltip\");var period=4;var dataSeriesMidpoints=[zigzag({offset:0.375*period,length:period,pattern:{low:3,high:5,period}}),zigzag({offset:0.375*period,length:period,pattern:{low:2.25,high:4.25,period}}),zigzag({offset:0.75*period,length:period,pattern:{low:2.5,high:4.5,period}})];var dataSeriesWidth=1.75;var data=dataSeriesMidpoints.map(series=>series.map(_ref142=>{var[x,y]=_ref142;return{x,low:y-0.5*dataSeriesWidth,high:y+0.5*dataSeriesWidth};}));var{lines,areas}=this.createRangeArea(this.root,data,this.size,this.padding);this.lines=lines;this.areas=areas;this.updateColors(fills,strokes);}updateColors(fills,strokes){fills=swapArrayItems(fills,1,2);strokes=swapArrayItems(strokes,1,2);this.lines.forEach((_ref143,i)=>{var[highLine,lowLine]=_ref143;highLine.fill=void 0;highLine.stroke=strokes[i];lowLine.fill=void 0;lowLine.stroke=strokes[i];});this.areas.forEach((area,i)=>{area.fill=fills[i];});}createRangeArea(root,data,size,padding){var xMin=data.reduce((acc,series)=>series.reduce((acc2,_ref144)=>{var{x}=_ref144;return Math.min(acc2,x);},acc),Infinity);var xMax=data.reduce((acc,series)=>series.reduce((acc2,_ref145)=>{var{x}=_ref145;return Math.max(acc2,x);},acc),-Infinity);var yMin=data.reduce((acc,series)=>series.reduce((acc2,_ref146)=>{var{low}=_ref146;return Math.min(acc2,low);},acc),Infinity);var yMax=data.reduce((acc,series)=>series.reduce((acc2,_ref147)=>{var{high}=_ref147;return Math.max(acc2,high);},acc),-Infinity);var{_Scene}=this.agChartsExports;var xScale=new _Scene.LinearScale();xScale.domain=[xMin,xMax];xScale.range=[padding,size-padding];var scalePadding=2*padding;var yScale=new _Scene.LinearScale();yScale.domain=[yMin,yMax];yScale.range=[size-scalePadding,scalePadding];var lines=[];var areas=[];var lowPoints=data.map(series=>{var highLine=new _Scene.Path();var lowLine=new _Scene.Path();var area=new _Scene.Path();lines.push([highLine,lowLine]);areas.push(area);highLine.strokeWidth=0;lowLine.strokeWidth=0;area.strokeWidth=0;area.fillOpacity=0.8;highLine.path.clear();lowLine.path.clear();area.path.clear();return series.map((datum,datumIndex)=>{var{x,low,high}=datum;var scaledX=xScale.convert(x);var yLow=yScale.convert(low);var yHigh=yScale.convert(high);var command=datumIndex>0?\"lineTo\":\"moveTo\";highLine.path[command](scaledX,yHigh);lowLine.path[command](scaledX,yLow);area.path[command](scaledX,yHigh);return[scaledX,yLow];});});lowPoints.forEach((seriesLowPoints,seriesIndex)=>{var n=seriesLowPoints.length-1;var area=areas[seriesIndex];for(var datumIndex=n;datumIndex>=0;datumIndex--){var[x,y]=seriesLowPoints[datumIndex];area.path[\"lineTo\"](x,y);}});root.append(areas.concat(...lines));return{lines,areas};}};function zigzag(options){var{offset,length,pattern}=options;var points=getZigzagInflectionPoints(offset,length,pattern);var xMin=0;var xMax=length;if(points.length===0||points[0][0]!==xMin)points.unshift(getZigzagPoint(xMin,offset,pattern));if(points[points.length-1][0]!==xMax)points.push(getZigzagPoint(xMax,offset,pattern));return points;function getZigzagInflectionPoints(offset2,length2,pattern2){var{period}=pattern2;var scaledOffset=offset2/period;var patternInflectionPoints=[0,0.5];var inflectionPoints=patternInflectionPoints.map(x=>x-scaledOffset).map(getRemainderAbs).sort((a,b)=>a-b);var repeatedPoints=Array.from({length:Math.floor(inflectionPoints.length*(period/length2))},(_,i)=>inflectionPoints[i%inflectionPoints.length]+Math.floor(i/inflectionPoints.length));return repeatedPoints.map(x=>x*period).map(x=>getZigzagPoint(x,offset2,pattern2));}function getZigzagPoint(x,offset2,pattern2){return[x,getZigzagValue(offset2+x,pattern2)];}function getZigzagValue(x,pattern2){var{low,high,period}=pattern2;var scaledX=getRemainderAbs(x/period);var y=scaledX>0.5?1-2*(scaledX-0.5):2*scaledX;return low+(high-low)*y;}}function getRemainderAbs(value){var remainder=value%1;return remainder<0?remainder+1:remainder;}function swapArrayItems(items,leftIndex,rightIndex){var results=[...items];var temp=results[leftIndex];results[leftIndex]=results[rightIndex];results[rightIndex]=temp;return results;}var MiniRangeArea={chartType:\"rangeArea\",miniChart:MiniRangeAreaClass};// packages/ag-grid-enterprise/src/charts/chartComp/menu/settings/miniCharts/statistical/miniBoxPlot.ts\nvar MiniBoxPlotClass=class extends MiniChartWithAxes{constructor(container,agChartsExports,fills,strokes,isCustomTheme){super(container,agChartsExports,\"boxPlotTooltip\");var{size,padding,agChartsExports:{_Scene}}=this;var data=[11,11.5,10.5];var maxRatio=1.2;var q3Ratio=1.1;var q1Ratio=0.9;var minRatio=0.8;var yScale=new _Scene.LinearScale();yScale.domain=[data.reduce((a,b)=>Math.min(a,b),Infinity)*minRatio,data.reduce((a,b)=>Math.max(a,b),0)*maxRatio];yScale.range=[size-1.5*padding,padding];var xScale=new _Scene.CategoryScale();xScale.domain=data.map((_,index)=>index);xScale.range=[padding,size-padding];xScale.paddingInner=0.4;xScale.paddingOuter=0.2;var bandwidth=Math.round(xScale.bandwidth);var halfBandWidth=Math.round(xScale.bandwidth/2);this.boxPlotGroups=data.map((datum,i)=>{var[minValue,q1Value,q3Value,maxValue]=[datum*minRatio,datum*q1Ratio,datum*q3Ratio,datum*maxRatio];var top=Math.round(yScale.convert(q3Value));var left=Math.round(xScale.convert(i));var right=Math.round(left+bandwidth);var bottom=Math.round(yScale.convert(q1Value));var min=Math.round(yScale.convert(minValue));var mid=Math.round(yScale.convert(datum));var max=Math.round(yScale.convert(maxValue));var whiskerX=left+halfBandWidth;var boxPlotGroup=new _Scene.Group();var box=new _Scene.Rect();var median=new _Scene.Line();var topWhisker=new _Scene.Line();var bottomWhisker=new _Scene.Line();var topCap=new _Scene.Line();var bottomCap=new _Scene.Line();box.x=left;box.y=top;box.width=bandwidth;box.height=bottom-top;box.strokeWidth=1;box.strokeOpacity=0.75;box.crisp=true;this.setLineProperties(median,left,right,mid,mid);this.setLineProperties(topWhisker,whiskerX,whiskerX,max,top);this.setLineProperties(bottomWhisker,whiskerX,whiskerX,min,bottom);this.setLineProperties(topCap,left,right,max,max);this.setLineProperties(bottomCap,left,right,min,min);boxPlotGroup.append([box,median,topWhisker,bottomWhisker,topCap,bottomCap]);return boxPlotGroup;});this.updateColors(fills,strokes,isCustomTheme);this.root.append(this.boxPlotGroups);}updateColors(fills,strokes,isCustomTheme){var{_Theme}=this.agChartsExports;this.boxPlotGroups.forEach((group,i)=>{for(var node of group.children()){var fill=fills[i%fills.length];node.fill=isCustomTheme?fill:_Theme.resolveOperation({$mix:[fill,{$ref:\"backgroundColor\"},0.7]});node.stroke=strokes[i%strokes.length];}});}setLineProperties(line,x1,x2,y1,y2){line.x1=x1;line.x2=x2;line.y1=y1;line.y2=y2;line.strokeOpacity=0.75;}};var MiniBoxPlot={chartType:\"boxPlot\",miniChart:MiniBoxPlotClass};// packages/ag-grid-enterprise/src/charts/chartComp/menu/settings/miniCharts/hierarchical/miniTreemap.ts\nvar MiniTreemapClass=class extends MiniChart{constructor(container,agChartsExports,fills,strokes,isCustomTheme){super(container,agChartsExports,\"treemapTooltip\");var{size,padding,agChartsExports:{_Scene}}=this;var data=[[1,1],[3,2,1]];var treeSize=data.length;var treePadding=treeSize%2===0?0.3:0.2;var range=[padding,size-padding];var columns=data.length;var columnParts=columns*(columns+1)/2;var columnPadding=treePadding/(columns-1);var availableRange=range[1]-range[0];var availableWidth=availableRange-treePadding;var previousX=range[0];this.rects=data.reduce((rects,d,columnIndex)=>{rects!==null&&rects!==void 0?rects:rects=[];var widthRatio=(columns-columnIndex)/columnParts;var width=availableWidth*widthRatio;var rows=d.length;var rowParts=d.reduce((parts,ratio)=>parts+=ratio,0);var rowPadding=treePadding/(rows-1||1);var availableHeight=rows>1?availableRange-treePadding:availableRange;var previousY=range[0];var xRects=d.map(ratio=>{var rect=new _Scene.Rect();var height=availableHeight*ratio/rowParts;rect.x=previousX;rect.y=previousY;rect.width=width;rect.height=height;rect.strokeWidth=0.75;rect.crisp=true;previousY+=height+rowPadding;return rect;});previousX+=width+columnPadding;rects.push(...xRects);return rects;},[]);this.updateColors(fills,strokes,isCustomTheme);var rectGroup=new _Scene.Group();rectGroup.setClipRect(new _Scene.BBox(padding,padding,size-padding,size-padding));rectGroup.append(this.rects);this.root.append(rectGroup);}updateColors(fills,strokes,isCustomTheme){var{_Theme}=this.agChartsExports;this.rects.forEach((rect,i)=>{rect.fill=fills[i%strokes.length];rect.stroke=isCustomTheme?strokes[i%strokes.length]:_Theme.resolveOperation({$ref:\"backgroundColor\"});});}};var MiniTreemap={chartType:\"treemap\",miniChart:MiniTreemapClass};// packages/ag-grid-enterprise/src/charts/chartComp/menu/settings/miniCharts/hierarchical/miniSunburst.ts\nvar MiniSunburstClass=class extends MiniChartWithPolarAxes{constructor(container,agChartsExports,fills,strokes){super(container,agChartsExports,\"sunburstTooltip\");// Hierarchical data using multidimensional array\nthis.data=[[[],[]],[[],[]],[[],[]]];// Rotate the chart by the given angle (-90 degrees)\nthis.angleOffset=-Math.PI/2;this.innerRadiusRatio=0;this.showRadiusAxisLine=false;this.showAngleAxisLines=false;var{data,size,padding,angleOffset,innerRadiusRatio,agChartsExports:{_Scene}}=this;var radius=(size-padding*2)/2;var angleRange=[angleOffset+0,angleOffset+2*Math.PI];var angleExtent=Math.abs(angleRange[1]-angleRange[0]);var radiusRange=[radius*innerRadiusRatio,radius];var radiusExtent=Math.abs(radiusRange[1]-radiusRange[0]);var maxDepth=0;var findMaxDepth=(data2,parentDepth)=>{data2.forEach(child=>{var depth=parentDepth+1;maxDepth=Math.max(maxDepth,depth);findMaxDepth(child,depth);});};findMaxDepth(data,0);var radiusRatio=radiusExtent/maxDepth;var center=this.size/2;var startAngle=angleRange[0];this.series=[];var createSectors=(data2,depth,startAngle2,availableAngle,group)=>{var isArray=Array.isArray(data2);if(!isArray){return;}var childDepth=depth+1;var previousAngle=startAngle2;data2.forEach((child,childIndex,children)=>{var childGroup=group;if(!childGroup){childGroup=new _Scene.Group();this.series.push(childGroup);}var innerRadius=radiusRange[0]+depth*radiusRatio;var outerRadius=radiusRange[0]+childDepth*radiusRatio;var angleRatio=1/children.length;var start=previousAngle;var end=start+availableAngle*angleRatio;var sector=new _Scene.Sector();sector.centerX=center;sector.centerY=center;sector.innerRadius=innerRadius;sector.outerRadius=outerRadius;sector.startAngle=start;sector.endAngle=end;sector.stroke=void 0;sector.strokeWidth=0;sector.inset=0.75;previousAngle=end;childGroup.append(sector);createSectors(child,childDepth,start,Math.abs(end-start),childGroup);});};createSectors(data,0,startAngle,angleExtent);this.root.append(this.series);this.updateColors(fills,strokes);}updateColors(fills,strokes){this.series.forEach((group,i)=>{for(var sector of group.children()){sector.fill=fills[i%fills.length];sector.stroke=strokes[i%strokes.length];}});}};var MiniSunburst={chartType:\"sunburst\",miniChart:MiniSunburstClass};// packages/ag-grid-enterprise/src/charts/chartComp/menu/settings/miniCharts/specialized/miniHeatmap.ts\nvar MiniHeatmapClass=class extends MiniChart{constructor(container,agChartsExports,fills,strokes,isCustomTheme){var _xScale$bandwidth,_yScale$bandwidth;super(container,agChartsExports,\"heatmapTooltip\");var{size,padding,agChartsExports:{_Scene}}=this;var heatmapSize=3;var data=Array.from({length:heatmapSize},(_,__)=>Array.from({length:heatmapSize},(_2,yIndex)=>yIndex));var domain=data.map((_,index)=>index);var xScale=new _Scene.CategoryScale();xScale.domain=domain;xScale.range=[padding,size-padding];xScale.paddingInner=0.01;xScale.paddingOuter=0.1;var yScale=new _Scene.CategoryScale();yScale.domain=domain;yScale.range=[padding,size-padding];yScale.paddingInner=0.01;yScale.paddingOuter=0.1;var width=(_xScale$bandwidth=xScale.bandwidth)!==null&&_xScale$bandwidth!==void 0?_xScale$bandwidth:0;var height=(_yScale$bandwidth=yScale.bandwidth)!==null&&_yScale$bandwidth!==void 0?_yScale$bandwidth:0;this.rects=data.reduce((rects,d,index)=>{rects!==null&&rects!==void 0?rects:rects=[];var xRects=d.map((_,yIndex)=>{var rect=new _Scene.Rect();rect.x=xScale.convert(index);rect.y=yScale.convert(yIndex);rect.width=width;rect.height=height;rect.strokeWidth=0;rect.crisp=true;return rect;});rects.push(...xRects);return rects;},[]);this.updateColors(fills,strokes,isCustomTheme);var rectGroup=new _Scene.Group();rectGroup.setClipRect(new _Scene.BBox(padding,padding,size-padding,size-padding));rectGroup.append(this.rects);this.root.append(rectGroup);}updateColors(fills,strokes,isCustomTheme){var{_Theme,_Util}=this.agChartsExports;var colorRange=isCustomTheme?[fills[0],fills[1]]:_Theme.resolveOperation({$palette:\"divergingColors\"});var stroke=isCustomTheme?strokes[0]:_Theme.resolveOperation({$ref:\"backgroundColor\"});var fillFn=_Util.interpolateColor(colorRange[0],colorRange[1]);this.rects.forEach((rect,i)=>{rect.fill=fillFn(i*0.2);rect.stroke=stroke;});}};var MiniHeatmap={chartType:\"heatmap\",miniChart:MiniHeatmapClass};// packages/ag-grid-enterprise/src/charts/chartComp/menu/settings/miniCharts/specialized/miniWaterfall.ts\nvar MiniWaterfallClass=class extends MiniChartWithAxes{constructor(container,agChartsExports,fills,strokes,isCustomTheme){super(container,agChartsExports,\"waterfallTooltip\");this.data=[4,3,-3,6,-3];this.bars=this.createWaterfall(this.root,this.data,this.size,this.padding,\"vertical\").bars;this.updateColors(fills,strokes,isCustomTheme);}updateColors(fills,strokes,isCustomTheme){var{data,agChartsExports:{_Theme}}=this;var positive={fill:isCustomTheme?fills[0]:_Theme.resolveOperation({$palette:\"altUp.fill\"}),stroke:isCustomTheme?strokes[0]:_Theme.resolveOperation({$palette:\"altUp.stroke\"})};var negative={fill:isCustomTheme?fills[1]:_Theme.resolveOperation({$palette:\"altDown.fill\"}),stroke:isCustomTheme?strokes[1]:_Theme.resolveOperation({$palette:\"altDown.stroke\"})};this.bars.forEach((bar,i)=>{var isPositive=data[i]>=0;bar.fill=isPositive?positive.fill:negative.fill;bar.stroke=isPositive?positive.stroke:negative.stroke;});}createWaterfall(root,data,size,padding,direction){var scalePadding=2*padding;var{processedData,min,max}=accumulateData(data.map(d=>[d]));var flatData=processedData.reduce((flat,d)=>flat.concat(d),[]);var{_Scene}=this.agChartsExports;var yScale=new _Scene.LinearScale();yScale.domain=[Math.min(min,0),max];yScale.range=[size-scalePadding,scalePadding];var xScale=new _Scene.CategoryScale();xScale.domain=data.map((_,index)=>index);xScale.range=[padding,size-padding];xScale.paddingInner=0.2;xScale.paddingOuter=0.3;var width=xScale.bandwidth;var connectorLine=new _Scene.Path();connectorLine.stroke=\"#575757\";connectorLine.strokeWidth=0;var pixelAlignmentOffset=Math.floor(connectorLine.strokeWidth)%2/2;var connectorPath=connectorLine.path;connectorPath.clear();var barAlongX=direction===\"horizontal\";var bars=flatData.map((datum,i)=>{var previousDatum=i>0?flatData[i-1]:0;var rawValue=data[i];var isPositive=rawValue>0;var currY=Math.round(yScale.convert(datum));var trailY=Math.round(yScale.convert(previousDatum));var y=(isPositive?currY:trailY)-pixelAlignmentOffset;var bottomY=(isPositive?trailY:currY)+pixelAlignmentOffset;var height=Math.abs(bottomY-y);var x=xScale.convert(i);var rect=new _Scene.Rect();rect.x=barAlongX?y:x;rect.y=barAlongX?x:y;rect.width=barAlongX?height:width;rect.height=barAlongX?width:height;rect.strokeWidth=0;rect.crisp=true;var moveTo=currY+pixelAlignmentOffset;var lineTo=trailY+pixelAlignmentOffset;if(i>0){var lineToX=barAlongX?lineTo:rect.x;var lineToY=barAlongX?rect.y:lineTo;connectorPath.lineTo(lineToX,lineToY);}var moveToX=barAlongX?moveTo:rect.x;var moveToY=barAlongX?rect.y:moveTo;connectorPath.moveTo(moveToX,moveToY);return rect;});root.append([connectorLine,...bars]);return{bars};}};var MiniWaterfall={chartType:\"waterfall\",miniChart:MiniWaterfallClass};// packages/ag-grid-enterprise/src/charts/chartComp/menu/settings/miniCharts/combo/miniColumnLineCombo.ts\nvar MiniColumnLineComboClass=class extends MiniChartWithAxes{constructor(container,agChartsExports,fills,strokes){super(container,agChartsExports,\"columnLineComboTooltip\");this.columnData=[3,4];this.lineData=[[5,4,6,5,4]];var{root,columnData,lineData,size,padding}=this;this.columns=createColumnRects({stacked:false,root,data:columnData,size,padding,xScaleDomain:[0,1],yScaleDomain:[0,4],xScalePadding:0.5,agChartsExports});root.append(this.columns);this.lines=createLinePaths(agChartsExports,root,lineData,size,padding);this.updateColors(fills,strokes);}updateColors(fills,strokes){this.columns.forEach((bar,i)=>{bar.fill=fills[i];bar.stroke=strokes[i];});this.lines.forEach((line,i)=>{line.stroke=fills[i+2];});}};var MiniColumnLineCombo={chartType:\"columnLineCombo\",miniChart:MiniColumnLineComboClass};// packages/ag-grid-enterprise/src/charts/chartComp/menu/settings/miniCharts/combo/miniAreaColumnCombo.ts\nvar MiniAreaColumnComboClass=class extends MiniChartWithAxes{constructor(container,agChartsExports,fills,strokes){super(container,agChartsExports,\"areaColumnComboTooltip\");this.columnData=[3,4.5];this.areaData=[[5,4,6,5,4]];var{root,columnData,areaData,size,padding,agChartsExports:{_Scene}}=this;this.columns=createColumnRects({stacked:false,root,data:columnData,size,padding,xScaleDomain:[0,1],yScaleDomain:[0,6],xScalePadding:0.5,agChartsExports});var xScale=new _Scene.CategoryScale();xScale.range=[padding,size-padding];xScale.domain=[0,1,2,3,4];xScale.paddingInner=1;xScale.paddingOuter=0;var yScale=new _Scene.LinearScale();yScale.range=[size-padding,padding];yScale.domain=[0,6];var pathData=[];var yZero=yScale.convert(0);var firstX=xScale.convert(0);areaData.forEach((series,i)=>{var points=pathData[i]||(pathData[i]=[]);series.forEach((data,j)=>{var yDatum=data;var xDatum=j;var x=xScale.convert(xDatum);var y=yScale.convert(yDatum);points[j]={x,y};});var lastX=xScale.convert(series.length-1);pathData[i].push({x:lastX,y:yZero},{x:firstX,y:yZero});});this.areas=pathData.map(points=>{var area=new _Scene.Path();area.strokeWidth=0;area.fillOpacity=0.8;var path=area.path;points.forEach((point,i)=>path[i>0?\"lineTo\":\"moveTo\"](point.x,point.y));return area;});var areaGroup=new _Scene.Group();areaGroup.setClipRect(new _Scene.BBox(padding,padding,size-padding*2,size-padding*2));var columnGroup=new _Scene.Group();columnGroup.setClipRect(new _Scene.BBox(padding,padding,size-padding*2,size-padding*2));areaGroup.append(this.areas);columnGroup.append(this.columns);root.append(areaGroup);root.append(columnGroup);this.updateColors(fills,strokes);}updateColors(fills,strokes){this.areas.forEach((area,i)=>{area.fill=fills[i];area.stroke=strokes[i];});this.columns.forEach((bar,i)=>{bar.fill=fills[i+1];bar.stroke=strokes[i+1];});}};var MiniAreaColumnCombo={chartType:\"areaColumnCombo\",miniChart:MiniAreaColumnComboClass};// packages/ag-grid-enterprise/src/charts/chartComp/menu/settings/miniCharts/combo/miniCustomCombo.ts\nvar MiniCustomComboClass=class extends MiniChart{constructor(container,agChartsExports,fills,strokes){super(container,agChartsExports,\"customComboTooltip\");this.columnData=[3,4];this.lineData=[[5,4,6,5,4]];var{root,columnData,lineData,size,padding,agChartsExports:{_Scene}}=this;this.columns=createColumnRects({stacked:false,root,data:columnData,size,padding,xScaleDomain:[0,1],yScaleDomain:[0,4],xScalePadding:0.5,agChartsExports});root.append(this.columns);this.lines=createLinePaths(this.agChartsExports,root,lineData,size,padding);var axisStroke=\"grey\";var axisOvershoot=3;var leftAxis=new _Scene.Line();leftAxis.x1=padding;leftAxis.y1=padding;leftAxis.x2=padding;leftAxis.y2=size-padding+axisOvershoot;leftAxis.stroke=axisStroke;var bottomAxis=new _Scene.Line();bottomAxis.x1=padding-axisOvershoot+1;bottomAxis.y1=size-padding;bottomAxis.x2=size-padding+1;bottomAxis.y2=size-padding;bottomAxis.stroke=axisStroke;var penIcon=new _Scene.Path();this.buildPenIconPath(penIcon);penIcon.fill=\"whitesmoke\";penIcon.stroke=\"darkslategrey\";penIcon.strokeWidth=1;root.append([bottomAxis,leftAxis,penIcon]);this.updateColors(fills,strokes);}updateColors(fills,strokes){this.columns.forEach((bar,i)=>{bar.fill=fills[i];bar.stroke=strokes[i];});this.lines.forEach((line,i)=>{line.stroke=fills[i+2];});}buildPenIconPath(penIcon){var{path}=penIcon;path.moveTo(25.76,43.46);path.lineTo(31.27,48.53);path.moveTo(49.86,22);path.lineTo(49.86,22);path.cubicCurveTo(49.01994659053345,21.317514933510974,47.89593834348529,21.09645997825817,46.86,21.41);path.lineTo(46.86,21.41);path.cubicCurveTo(45.55460035985361,21.77260167850787,44.38777081121966,22.517979360321792,43.51,23.55);path.lineTo(25.51,43.8);path.lineTo(25.43,43.89);path.lineTo(23.01,51.89);path.lineTo(22.83,52.46);path.lineTo(31.02,48.86);path.lineTo(49.02,28.52);path.lineTo(49.02,28.52);path.cubicCurveTo(49.940716461596224,27.521914221246085,50.54302631059587,26.2720342455763,50.75,24.93);path.lineTo(50.75,24.93);path.cubicCurveTo(50.95363374988308,23.866379846512814,50.62080640232334,22.77066734274871,49.86,22);path.closePath();path.moveTo(41.76,25.5);path.lineTo(47.34,30.5);path.moveTo(40.74,26.65);path.lineTo(46.25,31.71);}};var MiniCustomCombo={chartType:\"customCombo\",miniChart:MiniCustomComboClass};// packages/ag-grid-enterprise/src/charts/chartComp/menu/settings/miniChartsContainer.ts\nvar miniChartMapping={columnGroup:{column:{range:true,pivot:true,enterprise:false,icon:MiniColumn},stackedColumn:{range:true,pivot:true,enterprise:false,icon:MiniStackedColumn},normalizedColumn:{range:true,pivot:true,enterprise:false,icon:MiniNormalizedColumn}},barGroup:{bar:{range:true,pivot:true,enterprise:false,icon:MiniBar},stackedBar:{range:true,pivot:true,enterprise:false,icon:MiniStackedBar},normalizedBar:{range:true,pivot:true,enterprise:false,icon:MiniNormalizedBar}},pieGroup:{pie:{range:true,pivot:true,enterprise:false,icon:MiniPie},donut:{range:true,pivot:true,enterprise:false,icon:MiniDonut},doughnut:{range:true,pivot:true,enterprise:false,icon:MiniDonut}},lineGroup:{line:{range:true,pivot:true,enterprise:false,icon:MiniLine},stackedLine:{range:true,pivot:true,enterprise:false,icon:MiniStackedLine},normalizedLine:{range:true,pivot:true,enterprise:false,icon:MiniNormalizedLine}},scatterGroup:{scatter:{range:true,pivot:true,enterprise:false,icon:MiniScatter},bubble:{range:true,pivot:true,enterprise:false,icon:MiniBubble}},areaGroup:{area:{range:true,pivot:true,enterprise:false,icon:MiniArea},stackedArea:{range:true,pivot:true,enterprise:false,icon:MiniStackedArea},normalizedArea:{range:true,pivot:true,enterprise:false,icon:MiniNormalizedArea}},polarGroup:{radarLine:{range:true,pivot:false,enterprise:true,icon:MiniRadarLine},radarArea:{range:true,pivot:false,enterprise:true,icon:MiniRadarArea},nightingale:{range:true,pivot:false,enterprise:true,icon:MiniNightingale},radialColumn:{range:true,pivot:false,enterprise:true,icon:MiniRadialColumn},radialBar:{range:true,pivot:false,enterprise:true,icon:MiniRadialBar}},statisticalGroup:{boxPlot:{range:true,pivot:false,enterprise:true,icon:MiniBoxPlot},histogram:{range:true,pivot:false,enterprise:false,icon:MiniHistogram},rangeBar:{range:true,pivot:false,enterprise:true,icon:MiniRangeBar},rangeArea:{range:true,pivot:false,enterprise:true,icon:MiniRangeArea}},hierarchicalGroup:{treemap:{range:true,pivot:true,enterprise:true,icon:MiniTreemap},sunburst:{range:true,pivot:true,enterprise:true,icon:MiniSunburst}},specializedGroup:{heatmap:{range:true,pivot:false,enterprise:true,icon:MiniHeatmap},waterfall:{range:true,pivot:false,enterprise:true,icon:MiniWaterfall}},combinationGroup:{columnLineCombo:{range:true,pivot:true,enterprise:false,icon:MiniColumnLineCombo},areaColumnCombo:{range:true,pivot:true,enterprise:false,icon:MiniAreaColumnCombo},customCombo:{range:true,pivot:true,enterprise:false,icon:MiniCustomCombo}},funnelGroup:{funnel:{range:true,pivot:false,enterprise:true,icon:MiniFunnel},coneFunnel:{range:true,pivot:false,enterprise:true,icon:MiniConeFunnel},pyramid:{range:true,pivot:false,enterprise:true,icon:MiniPyramid}}};var DEFAULT_CHART_GROUPS={columnGroup:[\"column\",\"stackedColumn\",\"normalizedColumn\"],barGroup:[\"bar\",\"stackedBar\",\"normalizedBar\"],pieGroup:[\"pie\",\"donut\"],lineGroup:[\"line\",\"stackedLine\",\"normalizedLine\"],areaGroup:[\"area\",\"stackedArea\",\"normalizedArea\"],scatterGroup:[\"scatter\",\"bubble\"],polarGroup:[\"radarLine\",\"radarArea\",\"nightingale\",\"radialColumn\",\"radialBar\"],statisticalGroup:[\"boxPlot\",\"histogram\",\"rangeBar\",\"rangeArea\"],hierarchicalGroup:[\"treemap\",\"sunburst\"],specializedGroup:[\"heatmap\",\"waterfall\"],funnelGroup:[\"funnel\",\"coneFunnel\",\"pyramid\"],combinationGroup:[\"columnLineCombo\",\"areaColumnCombo\",\"customCombo\"]};var MiniChartsContainer=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(chartController,fills,strokes,isCustomTheme){var chartGroups=arguments.length>4&&arguments[4]!==undefined?arguments[4]:DEFAULT_CHART_GROUPS;super(/* html */\"<div class=\\\"ag-chart-settings-mini-wrapper\\\"></div>\");this.wrappers=/* @__PURE__ */new Map();this.chartController=chartController;this.fills=fills;this.strokes=strokes;this.isCustomTheme=isCustomTheme;this.chartGroups=_objectSpread({},chartGroups);}wireBeans(beans){this.chartTranslation=beans.chartTranslation;}postConstruct(){var _this19=this;if(!this.chartController.customComboExists()&&this.chartGroups.combinationGroup){this.chartGroups.combinationGroup=this.chartGroups.combinationGroup.filter(chartType=>chartType!==\"customCombo\");}var eGui=this.getGui();var isEnterprise=this.chartController.isEnterprise();var isPivotChart=this.chartController.isPivotChart();var isRangeChart=!isPivotChart;var displayedMenuGroups=Object.keys(this.chartGroups).map(group=>{var _this$chartGroups$gro;var menuGroup=group in miniChartMapping?miniChartMapping[group]:void 0;if(!menuGroup){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(148,{group});return null;}var chartGroupValues=(_this$chartGroups$gro=this.chartGroups[group])!==null&&_this$chartGroups$gro!==void 0?_this$chartGroups$gro:[];var menuItems=chartGroupValues.map(chartType=>{var menuItem=chartType in menuGroup?menuGroup[chartType]:void 0;if(!menuItem){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(149,{group,chartType});return null;}if(!isEnterprise&&menuItem.enterprise){return null;}if(isRangeChart&&menuItem.range)return menuItem;if(isPivotChart&&menuItem.pivot)return menuItem;return null;}).filter(menuItem=>menuItem!=null);if(menuItems.length===0)return null;return{label:this.chartTranslation.translate(group),items:menuItems};}).filter(menuGroup=>menuGroup!=null);for(var{label,items}of displayedMenuGroups){var groupComponent=this.createBean(new AgGroupComponent({title:label,suppressEnabledCheckbox:true,enabled:true,suppressOpenCloseIcons:true,cssIdentifier:\"charts-settings\",direction:\"horizontal\",suppressKeyboardNavigation:true}));var _loop12=function _loop12(){var{miniChart:MiniClass,chartType}=menuItem.icon;var miniWrapper=document.createElement(\"div\");miniWrapper.classList.add(\"ag-chart-mini-thumbnail\");miniWrapper.setAttribute(\"tabindex\",\"0\");miniWrapper.setAttribute(\"role\",\"button\");var miniClassChartType=chartType;var listener=()=>{_this19.chartController.setChartType(miniClassChartType);_this19.updateSelectedMiniChart();};_this19.addManagedListeners(miniWrapper,{click:listener,keydown:event=>{if(event.key==ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.ENTER||event.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KeyCode.SPACE){event.preventDefault();listener();}}});_this19.wrappers.set(miniClassChartType,miniWrapper);_this19.createBean(new MiniClass(miniWrapper,_this19.beans.agChartsExports,_this19.fills,_this19.strokes,_this19.isCustomTheme));groupComponent.addItem(miniWrapper);};for(var menuItem of items){_loop12();}eGui.appendChild(groupComponent.getGui());}this.updateSelectedMiniChart();}updateSelectedMiniChart(){var selectedChartType=this.chartController.getChartType();this.wrappers.forEach((miniChart,miniChartType)=>{var selected=miniChartType===selectedChartType;miniChart.classList.toggle(\"ag-selected\",selected);var chartName=this.chartTranslation.translate(getFullChartNameTranslationKey(miniChartType));var ariaLabel=selected?\"\".concat(chartName,\". \").concat(this.chartTranslation.translate(\"ariaChartSelected\")):chartName;(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setAriaLabel)(miniChart,ariaLabel);});}destroy(){this.wrappers.clear();super.destroy();}};// packages/ag-grid-enterprise/src/charts/chartComp/menu/settings/chartSettingsPanel.ts\nvar ChartSettingsPanel=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(chartController){super(/* html */\"<div class=\\\"ag-chart-settings-wrapper\\\">\\n            <div data-ref=\\\"eMiniChartsContainer\\\" class=\\\"ag-chart-settings-mini-charts-container ag-scrollable-container\\\"></div>\\n            <div data-ref=\\\"eNavBar\\\" class=\\\"ag-chart-settings-nav-bar\\\">\\n                <div data-ref=\\\"ePrevBtn\\\" class=\\\"ag-chart-settings-prev\\\">\\n                    <button type=\\\"button\\\" class=\\\"ag-button ag-chart-settings-prev-button\\\"></button>\\n                </div>\\n                <div data-ref=\\\"eCardSelector\\\" class=\\\"ag-chart-settings-card-selector\\\"></div>\\n                <div data-ref=\\\"eNextBtn\\\" class=\\\"ag-chart-settings-next\\\">\\n                    <button type=\\\"button\\\" class=\\\"ag-button ag-chart-settings-next-button\\\"></button>\\n                </div>\\n            </div>\\n        </div>\");this.chartController=chartController;this.eMiniChartsContainer=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.eNavBar=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.eCardSelector=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.ePrevBtn=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.eNextBtn=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.miniChartsContainers=[];this.cardItems=[];this.activePaletteIndex=0;this.palettes=[];this.themes=[];}postConstruct(){this.resetPalettes();this.ePrevBtn.insertAdjacentElement(\"afterbegin\",(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createIconNoSpan)(\"chartsThemePrevious\",this.beans));this.eNextBtn.insertAdjacentElement(\"afterbegin\",(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createIconNoSpan)(\"chartsThemeNext\",this.beans));this.addManagedElementListeners(this.ePrevBtn,{click:()=>this.setActivePalette(this.getPrev(),\"left\")});this.addManagedElementListeners(this.eNextBtn,{click:()=>this.setActivePalette(this.getNext(),\"right\")});var reset=()=>this.resetPalettes(true);this.addManagedListeners(this.chartController,{chartTypeChanged:reset,chartApiUpdate:reset});this.scrollSelectedIntoView();}scrollSelectedIntoView(){setTimeout(()=>{var isMiniChartsContainerVisible=miniChartsContainers=>{return!miniChartsContainers.getGui().classList.contains(\"ag-hidden\");};var currentMiniChartContainer=this.miniChartsContainers.find(isMiniChartsContainerVisible);var currentChart=currentMiniChartContainer.getGui().querySelector(\".ag-selected\");if(currentChart){var parent=currentChart.offsetParent;if(parent){this.eMiniChartsContainer.scrollTo(0,parent.offsetTop);}}},250);}resetPalettes(forceReset){var _this$gos$get10;var palettes=this.chartController.getPalettes();var chartGroups=(_this$gos$get10=this.gos.get(\"chartToolPanelsDef\"))===null||_this$gos$get10===void 0||(_this$gos$get10=_this$gos$get10.settingsPanel)===null||_this$gos$get10===void 0?void 0:_this$gos$get10.chartGroupsDef;if((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._areEqual)(palettes,this.palettes)&&!forceReset||this.isAnimating){return;}this.palettes=palettes;this.themes=this.chartController.getThemeNames();this.activePaletteIndex=this.themes.findIndex(name=>name===this.chartController.getChartThemeName());this.cardItems=[];(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._clearElement)(this.eCardSelector);this.destroyMiniCharts();var{themes}=this;this.palettes.forEach((palette,index)=>{var isActivePalette=this.activePaletteIndex===index;var{fills=[],strokes=[]}=palette;var themeName=themes[index];var isCustomTheme=!isStockTheme(themeName,this.beans.agChartsExports._Theme);var miniChartsContainer=this.createBean(new MiniChartsContainer(this.chartController,fills,strokes,isCustomTheme,chartGroups));this.miniChartsContainers.push(miniChartsContainer);this.eMiniChartsContainer.appendChild(miniChartsContainer.getGui());this.addCardLink(index);if(isActivePalette){miniChartsContainer.updateSelectedMiniChart();}else{miniChartsContainer.setDisplayed(false);}});(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setDisplayed)(this.eNavBar,this.palettes.length>1);(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._radioCssClass)(this.cardItems[this.activePaletteIndex],\"ag-selected\",\"ag-not-selected\");}addCardLink(index){var link=document.createElement(\"div\");link.classList.add(\"ag-chart-settings-card-item\");this.addManagedElementListeners(link,{click:()=>{this.setActivePalette(index,index<this.activePaletteIndex?\"left\":\"right\");}});this.eCardSelector.appendChild(link);this.cardItems.push(link);}getPrev(){var prev=this.activePaletteIndex-1;if(prev<0){prev=this.palettes.length-1;}return prev;}getNext(){var next=this.activePaletteIndex+1;if(next>=this.palettes.length){next=0;}return next;}setActivePalette(index,animationDirection){if(this.isAnimating||this.activePaletteIndex===index){return;}(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._radioCssClass)(this.cardItems[index],\"ag-selected\",\"ag-not-selected\");var currentPalette=this.miniChartsContainers[this.activePaletteIndex];var currentGui=currentPalette.getGui();var futurePalette=this.miniChartsContainers[index];var nextGui=futurePalette.getGui();currentPalette.updateSelectedMiniChart();futurePalette.updateSelectedMiniChart();var multiplier=animationDirection===\"left\"?-1:1;var final=nextGui.style.left=\"\".concat((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getAbsoluteWidth)(this.getGui())*multiplier,\"px\");this.activePaletteIndex=index;this.isAnimating=true;var animatingClass=\"ag-animating\";futurePalette.setDisplayed(true);currentPalette.addCss(animatingClass);futurePalette.addCss(animatingClass);this.chartController.setChartThemeName(this.themes[index]);window.setTimeout(()=>{currentGui.style.left=\"\".concat(-parseFloat(final),\"px\");nextGui.style.left=\"0px\";},0);window.setTimeout(()=>{this.isAnimating=false;currentPalette.removeCss(animatingClass);futurePalette.removeCss(animatingClass);currentPalette.setDisplayed(false);},300);}destroyMiniCharts(){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._clearElement)(this.eMiniChartsContainer);this.miniChartsContainers=this.destroyBeans(this.miniChartsContainers);}destroy(){this.destroyMiniCharts();super.destroy();}};// packages/ag-grid-enterprise/src/charts/chartComp/menu/tabbedChartMenu.ts\nvar TAB_DATA=\"data\";var TAB_FORMAT=\"format\";var TabbedChartMenu=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(panels,chartMenuContext){super();this.panels=panels;this.chartMenuContext=chartMenuContext;this.tabs=[];}wireBeans(beans){this.chartTranslation=beans.chartTranslation;}postConstruct(){this.panels.forEach(panel=>{var panelType=panel.replace(\"chart\",\"\").toLowerCase();var panelComp=this.createPanel(panelType);var tabItem=this.createTab(panel,panelType,panelComp);this.tabs.push(tabItem);this.addDestroyFunc(()=>this.destroyBean(panelComp));});this.tabbedLayout=new TabbedLayout({items:this.tabs,cssClass:\"ag-chart-tabbed-menu\",keepScrollPosition:true,suppressFocusBodyOnOpen:true,suppressTrapFocus:true,enableCloseButton:true,closeButtonAriaLabel:this.chartTranslation.translate(\"ariaChartMenuClose\"),onCloseClicked:()=>{var _this$eventSource;(_this$eventSource=this.eventSource)===null||_this$eventSource===void 0||_this$eventSource.focus({preventScroll:true});this.dispatchLocalEvent({type:\"closed\"});}});this.createBean(this.tabbedLayout);}createTab(name,title,panelComp){var eWrapperDiv=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createElement)({tag:\"div\",cls:\"ag-chart-tab ag-chart-\".concat(title)});this.createBean(panelComp);eWrapperDiv.appendChild(panelComp.getGui());var translatedTitle=this.chartTranslation.translate(title);var titleEl=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._createElement)({tag:\"div\",children:translatedTitle});return{title:titleEl,titleLabel:translatedTitle,bodyPromise:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgPromise.resolve(eWrapperDiv),getScrollableContainer:()=>{var scrollableContainer=eWrapperDiv.querySelector(\".ag-scrollable-container\");return scrollableContainer||eWrapperDiv;},name};}showTab(tab){var tabItem=this.tabs[tab];this.tabbedLayout.showItem(tabItem);}getGui(){return this.tabbedLayout&&this.tabbedLayout.getGui();}showMenu(eventSource,suppressFocus){this.eventSource=eventSource;if(!suppressFocus){var _this$tabbedLayout;(_this$tabbedLayout=this.tabbedLayout)===null||_this$tabbedLayout===void 0||_this$tabbedLayout.focusHeader(true);}}destroy(){if(this.parentComponent&&this.parentComponent.isAlive()){this.destroyBean(this.parentComponent);}super.destroy();}createPanel(panelType){switch(panelType){case TAB_DATA:return new ChartDataPanel(this.chartMenuContext);case TAB_FORMAT:return new FormatPanel(this.chartMenuContext);default:return new ChartSettingsPanel(this.chartMenuContext.chartController);}}};// packages/ag-grid-enterprise/src/charts/chartComp/menu/chartMenu.ts\nvar ChartMenu=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(eChartContainer,eMenuPanelContainer,chartMenuContext){super(/* html */\"<div class=\\\"ag-chart-menu-wrapper\\\"></div>\");this.eChartContainer=eChartContainer;this.eMenuPanelContainer=eMenuPanelContainer;this.chartMenuContext=chartMenuContext;this.buttons={chartLink:{iconName:\"linked\",callback:()=>this.chartMenuSvc.toggleLinked(this.chartMenuContext)},chartUnlink:{iconName:\"unlinked\",callback:()=>this.chartMenuSvc.toggleLinked(this.chartMenuContext)},chartDownload:{iconName:\"chartsDownload\",callback:()=>this.chartMenuSvc.downloadChart(this.chartMenuContext)},chartMenu:{iconName:\"chartsMenu\",callback:eventSource=>this.showMenuList(eventSource)}};this.panels=[];this.menuVisible=false;this.chartController=chartMenuContext.chartController;}wireBeans(beans){this.chartMenuSvc=beans.chartMenuSvc;this.chartMenuListFactory=beans.chartMenuListFactory;this.environment=beans.environment;}postConstruct(){this.chartToolbar=this.createManagedBean(new ChartToolbar());this.getGui().appendChild(this.chartToolbar.getGui());this.refreshToolbarAndPanels();this.addManagedEventListeners({chartCreated:e=>{if(e.chartId===this.chartController.getChartId()){var _this$gos$get11;var showDefaultToolPanel=Boolean((_this$gos$get11=this.gos.get(\"chartToolPanelsDef\"))===null||_this$gos$get11===void 0?void 0:_this$gos$get11.defaultToolPanel);if(showDefaultToolPanel){this.showMenu({panel:this.defaultPanel,suppressFocus:true});}}}});this.addManagedListeners(this.chartController,{chartLinkedChanged:this.refreshToolbarAndPanels.bind(this)});this.refreshMenuClasses();this.addManagedListeners(this.chartController,{chartApiUpdate:this.refreshToolbarAndPanels.bind(this)});}isVisible(){return this.menuVisible;}getExtraPaddingDirections(){return[\"chartMenu\",\"chartLink\",\"chartUnlink\",\"chartDownload\"].some(v=>this.chartToolbarOptions.includes(v))?[\"top\"]:[];}refreshToolbarAndPanels(){this.initToolbarOptionsAndPanels();this.updateToolbar();}initToolbarOptionsAndPanels(){var{panels,defaultPanel}=this.chartMenuSvc.getChartToolPanels(this.chartController);this.panels=panels;this.defaultPanel=defaultPanel;this.chartToolbarOptions=this.chartMenuSvc.getChartToolbarOptions();}updateToolbar(){var buttons=this.chartToolbarOptions.map(buttonName=>{var{iconName,callback}=this.buttons[buttonName];return{buttonName,iconName,callback};});this.chartToolbar.updateParams({buttons});}createMenuPanel(defaultTab){var menuPanel=this.menuPanel=this.createBean(new AgPanel({height:\"100%\",closable:true,hideTitleBar:true,cssIdentifier:\"chart-menu\"}));menuPanel.setParentComponent(this);this.eMenuPanelContainer.appendChild(menuPanel.getGui());this.tabbedMenu=this.createBean(new TabbedChartMenu(this.panels,this.chartMenuContext));this.addManagedListeners(this.tabbedMenu,{closed:()=>{this.hideMenu();}});this.addManagedListeners(menuPanel,{destroyed:()=>this.destroyBean(this.tabbedMenu)});return new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AgPromise(res=>{window.setTimeout(()=>{menuPanel.setBodyComponent(this.tabbedMenu);this.tabbedMenu.showTab(defaultTab);res(menuPanel);},100);});}showContainer(eventSource,suppressFocus){if(!this.menuPanel){return;}this.menuVisible=true;this.refreshMenuClasses();this.tabbedMenu.showMenu(eventSource,suppressFocus);}showMenu(params){var{panel,eventSource,suppressFocus}=params!==null&&params!==void 0?params:{};if(this.menuPanel&&!panel){this.showContainer(eventSource,suppressFocus);}else{var menuPanel=panel||this.defaultPanel;var tab=this.panels.indexOf(menuPanel);if(tab<0){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(143,{panel});tab=this.panels.indexOf(this.defaultPanel);}if(this.menuPanel){this.tabbedMenu.showTab(tab);this.showContainer(eventSource,suppressFocus);}else{this.createMenuPanel(tab).then(()=>this.showContainer(eventSource,suppressFocus));}}}hideMenu(){this.menuVisible=false;this.refreshMenuClasses();}refreshMenuClasses(){this.eChartContainer.classList.toggle(\"ag-chart-menu-visible\",this.menuVisible);this.eChartContainer.classList.toggle(\"ag-chart-menu-hidden\",!this.menuVisible);}showMenuList(eventSource){this.chartMenuListFactory.showMenuList({eventSource,showMenu:()=>this.showMenu({eventSource}),chartMenuContext:this.chartMenuContext});}destroy(){super.destroy();if(this.menuPanel&&this.menuPanel.isAlive()){this.destroyBean(this.menuPanel);}if(this.tabbedMenu&&this.tabbedMenu.isAlive()){this.destroyBean(this.tabbedMenu);}}};// packages/ag-grid-enterprise/src/charts/chartComp/services/chartOptionsService.ts\nvar CARTESIAN_AXIS_TYPES=[\"number\",\"category\",\"time\",\"grouped-category\"];var POLAR_AXIS_TYPES=[\"angle-category\",\"angle-number\",\"radius-category\",\"radius-number\"];var VALID_AXIS_TYPES=[...CARTESIAN_AXIS_TYPES,...POLAR_AXIS_TYPES];var ChartOptionsService=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BeanStub{constructor(chartController){super();this.chartController=chartController;}getChartThemeOverridesProxy(){return{getValue:expression=>this.getChartOption(expression),setValue:(expression,value)=>this.setChartThemeOverrides([{expression,value}]),setValues:properties=>this.setChartThemeOverrides(properties)};}getAxisThemeOverridesProxy(){return{getValue:expression=>this.getAxisProperty(expression),setValue:(expression,value)=>this.setAxisThemeOverrides([{expression,value}]),setValues:properties=>this.setAxisThemeOverrides(properties)};}getCartesianAxisOptionsProxy(axisType){return{getValue:expression=>this.getCartesianAxisProperty(axisType,expression),setValue:(expression,value)=>this.setCartesianAxisOptions(axisType,[{expression,value}]),setValues:properties=>this.setCartesianAxisOptions(axisType,properties)};}getCartesianAxisThemeOverridesProxy(axisType){return{getValue:expression=>this.getCartesianAxisProperty(axisType,expression),setValue:(expression,value)=>this.setCartesianAxisThemeOverrides(axisType,[{expression,value}]),setValues:properties=>this.setCartesianAxisThemeOverrides(axisType,properties)};}getCartesianAxisAppliedThemeOverridesProxy(axisType){return{getValue:expression=>this.getCartesianAxisThemeOverride(axisType,// Allow the caller to specify a wildcard expression to retrieve the whole set of overrides\nexpression===\"*\"?null:expression),setValue:(expression,value)=>this.setCartesianAxisThemeOverrides(axisType,// Allow the caller to specify a wildcard expression to set the whole set of overrides\n[{expression:expression===\"*\"?null:expression,value}]),setValues:properties=>this.setCartesianAxisThemeOverrides(axisType,properties)};}getSeriesOptionsProxy(getSelectedSeries){return{getValue:(expression,calculated)=>this.getSeriesOption(getSelectedSeries(),expression,calculated),setValue:(expression,value)=>this.setSeriesOptions(getSelectedSeries(),[{expression,value}]),setValues:properties=>this.setSeriesOptions(getSelectedSeries(),properties)};}/**\n   * Determine the set of theme overrides that should be retained when transitioning from one chart type to another.\n   */getPersistedChartThemeOverrides(existingChartOptions,existingAxes,existingChartType,targetChartType){var retainedThemeOverrideKeys=this.getRetainedChartThemeOverrideKeys(existingChartType,targetChartType);var retainedChartAxisThemeOverrideKeys=this.getRetainedChartAxisThemeOverrideKeys(null,existingChartType,targetChartType);var targetChartOptions=this.createChartOptions();for(var expression of retainedThemeOverrideKeys){var value=this.retrieveChartOptionsThemeOverride(existingChartOptions,existingChartType,expression);if(value!==void 0){this.assignChartOptionsThemeOverride(targetChartOptions,targetChartType,expression,value);}}if(existingAxes){this.assignPersistedAxisOverrides({existingAxes,retainedChartAxisThemeOverrideKeys,existingChartOptions,targetChartOptions,existingChartType,targetChartType});}return targetChartOptions.theme.overrides;}assignPersistedAxisOverrides(params){var{existingAxes,retainedChartAxisThemeOverrideKeys,existingChartOptions,targetChartOptions,existingChartType,targetChartType}=params;for(var{expression,targetAxisTypes}of retainedChartAxisThemeOverrideKeys){for(var existingAxisType of existingAxes.map(axis=>axis.type)){var value=this.retrieveChartOptionsThemeOverride(existingChartOptions,existingChartType,[\"axes\",existingAxisType,expression].join(\".\"));if(value!==void 0){for(var targetAxisType of targetAxisTypes){this.assignChartOptionsThemeOverride(targetChartOptions,targetChartType,[\"axes\",targetAxisType,expression].join(\".\"),value);}}}}}getRetainedChartThemeOverrideKeys(existingChartType,targetChartType){var UNIVERSAL_PERSISTED_THEME_OVERRIDES=[\"animation\"];var PERSISTED_CARTESIAN_CHART_THEME_OVERRIDES=[\"zoom\",\"navigator\"];var chartSpecificThemeOverrideKeys=((previousChartType,updatedChartType)=>{var expressions=new Array();if(isCartesian(getSeriesType(previousChartType))&&isCartesian(getSeriesType(updatedChartType))){expressions.push(...PERSISTED_CARTESIAN_CHART_THEME_OVERRIDES);}return expressions;})(existingChartType,targetChartType);return[...UNIVERSAL_PERSISTED_THEME_OVERRIDES,...chartSpecificThemeOverrideKeys];}getRetainedChartAxisThemeOverrideKeys(axisType,existingChartType,targetChartType){if(isCartesian(getSeriesType(existingChartType))&&isCartesian(getSeriesType(targetChartType))){var retainedKeys=this.getRetainedCartesianAxisThemeOverrideKeys(axisType);return retainedKeys.map(expression=>({expression,targetAxisTypes:CARTESIAN_AXIS_TYPES}));}return[];}getRetainedCartesianAxisThemeOverrideKeys(axisType){var axisPositionSuffixes=axisType===\"xAxis\"?[\"\",\".top\",\".bottom\"]:axisType===\"yAxis\"?[\"\",\".left\",\".right\"]:[\"\",\".left\",\".right\",\".top\",\".bottom\"];var PERSISTED_CARTESIAN_AXIS_THEME_OVERRIDES=[\"crosshair\"];var expressions=new Array();for(var expression of PERSISTED_CARTESIAN_AXIS_THEME_OVERRIDES){for(var axisPositionSuffix of axisPositionSuffixes){expressions.push(\"\".concat(expression).concat(axisPositionSuffix));}}return expressions;}getChartOption(expression){return get(this.getChart(),expression,void 0);}setChartThemeOverrides(properties){var chartType=this.getChartType();var chartOptions=this.createChartOptions();for(var{expression,value}of properties){this.assignChartOptionsThemeOverride(chartOptions,chartType,expression,value);}this.applyChartOptions(chartOptions);}applyChartOptions(chartOptions,options){if(Object.keys(chartOptions).length===0)return;this.updateChart(chartOptions);var shouldRaiseEvent=!(options!==null&&options!==void 0&&options.silent);if(shouldRaiseEvent)this.raiseChartOptionsChangedEvent();}awaitChartOptionUpdate(func){var chart=this.chartController.getChartProxy().getChart();chart.waitForUpdate().then(()=>func()).catch(e=>(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._error)(108,{e}));}getAxisProperty(expression){var _this$getChart$axes;return get((_this$getChart$axes=this.getChart().axes)===null||_this$getChart$axes===void 0?void 0:_this$getChart$axes[0],expression,void 0);}setAxisThemeOverrides(properties){var _this20=this;var chart=this.getChart();var chartType=this.getChartType();var chartOptions=this.createChartOptions();var _loop13=function _loop13(expression){var _chart$axes;var relevantAxes=(_chart$axes=chart.axes)===null||_chart$axes===void 0?void 0:_chart$axes.filter(axis=>{var parts=expression.split(\".\");var current=axis;for(var part of parts){if(!(part in current)){return false;}current=current[part];}return true;});if(!relevantAxes)return 1;// continue\nfor(var axis of relevantAxes){if(!_this20.isValidAxisType(axis))continue;_this20.assignChartAxisThemeOverride(chartOptions,chartType,axis.type,null,expression,value);}};for(var{expression,value}of properties){if(_loop13(expression))continue;}this.applyChartOptions(chartOptions);}getCartesianAxisProperty(axisType,expression){var axes=this.getChartAxes();var axis=this.getCartesianAxis(axes,axisType);return get(axis,expression,void 0);}getCartesianAxisThemeOverride(axisType,expression){var axes=this.getChartAxes();var chartAxis=this.getCartesianAxis(axes,axisType);if(!chartAxis||!this.isValidAxisType(chartAxis))return void 0;var chartType=this.getChartType();var chartOptions=this.getChart().getOptions();return this.retrieveChartAxisThemeOverride(chartOptions,chartType,chartAxis.type,axisType===\"yAxis\"?[\"left\",\"right\"]:[\"bottom\",\"top\"],expression);}setCartesianAxisThemeOverrides(axisType,properties){var axes=this.getChartAxes();var chartAxis=this.getCartesianAxis(axes,axisType);if(!chartAxis||!this.isValidAxisType(chartAxis))return;var chartType=this.getChartType();var chartOptions=this.createChartOptions();for(var{expression,value}of properties){this.assignChartAxisThemeOverride(chartOptions,chartType,chartAxis.type,axisType===\"yAxis\"?[\"left\",\"right\"]:[\"bottom\",\"top\"],expression,value);}this.applyChartOptions(chartOptions);}setCartesianAxisOptions(axisType,properties){this.updateCartesianAxisOptions(axisType,(chartOptions,axes,chartAxis)=>{var axisIndex=axes.indexOf(chartAxis);for(var{expression,value}of properties){this.assignChartOption(chartOptions,\"axes.\".concat(axisIndex,\".\").concat(expression),value);}});}updateCartesianAxisOptions(axisType,updateFunc){var existingChartOptions=this.getChart().getOptions();var axisOptions=\"axes\"in existingChartOptions?existingChartOptions.axes:void 0;if(!existingChartOptions||!axisOptions)return;var axes=this.getChartAxes();var chartAxis=this.getCartesianAxis(axes,axisType);if(!chartAxis)return;var chartOptions=this.createChartOptions();chartOptions.axes=axisOptions;updateFunc(chartOptions,axes,chartAxis,existingChartOptions);this.applyChartOptions(chartOptions);}setCartesianCategoryAxisType(axisType,value){this.updateCartesianAxisOptions(axisType,(chartOptions,_axes,chartAxis,existingChartOptions)=>{var chartType=this.getChartType();this.assignPersistedAxisOverrides({existingAxes:[chartAxis],retainedChartAxisThemeOverrideKeys:this.getRetainedChartAxisThemeOverrideKeys(axisType,chartType,chartType),existingChartOptions,targetChartOptions:chartOptions,existingChartType:chartType,targetChartType:chartType});this.assignChartOption(chartOptions,\"axes.0.type\",value);this.chartController.setCategoryAxisType(value);});}getCartesianAxis(axes,axisType){if(axes.length<2){return void 0;}switch(axisType){case\"xAxis\":return axes[0].direction===\"x\"?axes[0]:axes[1];case\"yAxis\":return axes[1].direction===\"y\"?axes[1]:axes[0];}}getSeriesOption(seriesType,expression,calculated){var series=this.getChart().series.find(s=>isMatchingSeries(seriesType,s));return get(calculated?series:series===null||series===void 0?void 0:series.properties.toJson(),expression,void 0);}setSeriesOptions(seriesType,properties){var chartOptions=this.createChartOptions();for(var{expression,value}of properties){this.assignChartOptionsSeriesThemeOverride(chartOptions,seriesType,\"series.\".concat(expression),value);}this.applyChartOptions(chartOptions);}getPairedMode(){return this.chartController.getChartProxy().isPaired();}setPairedMode(paired){this.chartController.getChartProxy().setPaired(paired);}getChartAxes(){var _chart$axes2;var chart=this.getChart();return(_chart$axes2=chart.axes)!==null&&_chart$axes2!==void 0?_chart$axes2:[];}retrieveChartAxisThemeOverride(chartOptions,chartType,axisType,axisPositions,expression){if(axisPositions){for(var axisPosition of axisPositions){var value=this.retrieveChartOptionsThemeOverride(chartOptions,chartType,[\"axes\",axisType,axisPosition,...(expression?[expression]:[])].join(\".\"));if(value===void 0)continue;return value;}}else{return this.retrieveChartOptionsThemeOverride(chartOptions,chartType,[\"axes\",axisType,...(expression?[expression]:[])].join(\".\"));}}assignChartAxisThemeOverride(chartOptions,chartType,axisType,axisPositions,expression,value){if(axisPositions){for(var axisPosition of axisPositions){this.assignChartOptionsThemeOverride(chartOptions,chartType,[\"axes\",axisType,axisPosition,...(expression?[expression]:[])].join(\".\"),value);}}else{this.assignChartOptionsThemeOverride(chartOptions,chartType,[\"axes\",axisType,...(expression?[expression]:[])].join(\".\"),value);}}isValidAxisType(chartAxis){return VALID_AXIS_TYPES.includes(chartAxis.type);}getChartType(){return this.chartController.getChartType();}getChart(){return this.chartController.getChartProxy().getChart();}updateChart(chartOptions){var chartRef=this.chartController.getChartProxy().getChartRef();chartRef.skipAnimations();chartRef.updateDelta(chartOptions);}createChartOptions(){var chartOptions={theme:{overrides:{}}};return chartOptions;}retrieveChartOptionsThemeOverride(chartOptions,chartType,expression){var chartSeriesTypes=this.getChartThemeOverridesSeriesTypeKeys(chartType);for(var seriesType of chartSeriesTypes){var value=this.retrieveChartOptionsSeriesThemeOverride(chartOptions,seriesType,expression);if(value===void 0)continue;return value;}return void 0;}assignChartOptionsThemeOverride(chartOptions,chartType,expression,value){var chartSeriesTypes=this.getChartThemeOverridesSeriesTypeKeys(chartType);for(var seriesType of chartSeriesTypes){this.assignChartOptionsSeriesThemeOverride(chartOptions,seriesType,expression,value);}}retrieveChartOptionsSeriesThemeOverride(chartOptions,seriesType,expression){return this.retrieveChartOption(chartOptions,[\"theme\",\"overrides\",seriesType,...(expression?[expression]:[])].join(\".\"));}assignChartOptionsSeriesThemeOverride(chartOptions,seriesType,expression,value){this.assignChartOption(chartOptions,[\"theme\",\"overrides\",seriesType,...(expression?[expression]:[])].join(\".\"),value);}getChartThemeOverridesSeriesTypeKeys(chartType){var chartSeriesTypes=this.chartController.getChartSeriesTypes(chartType);if(this.chartController.isComboChart()){chartSeriesTypes.push(\"common\");}return chartSeriesTypes;}retrieveChartOption(chartOptions,expression){return get(chartOptions,expression,void 0);}assignChartOption(chartOptions,expression,value){set(chartOptions,expression,value);}raiseChartOptionsChangedEvent(){var chartModel=this.chartController.getChartModel();this.eventSvc.dispatchEvent({type:\"chartOptionsChanged\",chartId:chartModel.chartId,chartType:chartModel.chartType,chartThemeName:this.chartController.getChartThemeName(),chartOptions:chartModel.chartOptions});}};function isMatchingSeries(seriesType,series){return isSeriesType(seriesType)&&series.type===seriesType;}// packages/ag-grid-enterprise/src/charts/chartComp/gridChartComp.ts\nvar GridChartComp=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(params){super(/* html */\"\\n            <div style=\\\"height: 100%; width: 100%;\\\">\\n                <div class=\\\"ag-chart\\\" data-ref=\\\"eWrapper\\\">\\n                    <div data-ref=\\\"eChartContainer\\\" class=\\\"ag-chart-components-wrapper ag-chart-menu-hidden\\\">\\n                        <div data-ref=\\\"eChart\\\" class=\\\"ag-chart-canvas-wrapper\\\"></div>\\n                        <div data-ref=\\\"eEmpty\\\" class=\\\"ag-chart-empty-text ag-unselectable\\\"></div>\\n                    </div>\\n                    <div data-ref=\\\"eMenuContainer\\\" class=\\\"ag-chart-docked-container\\\"></div>\\n                </div>\\n            </div>\\n            \");this.eChart=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.eWrapper=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.eChartContainer=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.eMenuContainer=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.eEmpty=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RefPlaceholder;this.params=params;}wireBeans(beans){this.crossFilterService=beans.chartCrossFilterSvc;this.chartTranslation=beans.chartTranslation;this.chartMenuSvc=beans.chartMenuSvc;this.focusSvc=beans.focusSvc;this.popupSvc=beans.popupSvc;this.enterpriseChartProxyFactory=beans.enterpriseChartProxyFactory;this.environment=beans.environment;}postConstruct(){var modelParams=_objectSpread(_objectSpread({},this.params),{},{chartType:getCanonicalChartType(this.params.chartType),chartThemeName:this.getThemeName()});var isRtl=this.gos.get(\"enableRtl\");this.eWrapper.classList.add(isRtl?\"ag-rtl\":\"ag-ltr\");var model=this.createBean(new ChartDataModel(modelParams));this.chartController=this.createManagedBean(new ChartController(model));this.chartOptionsService=this.createManagedBean(new ChartOptionsService(this.chartController));this.validateCustomThemes();this.createChart();if(this.params.insideDialog){this.addDialog();}else{this.addManagedEventListeners({gridStylesChanged:this.updateTheme.bind(this)});this.updateTheme();}this.addMenu();this.addManagedElementListeners(this.getGui(),{focusin:this.setActiveChartCellRange.bind(this)});this.addManagedListeners(this.chartController,{chartModelUpdate:this.update.bind(this)});this.addManagedPropertyListeners([\"chartThemeOverrides\",\"chartThemes\"],this.reactivePropertyUpdate.bind(this));this.update();this.raiseChartCreatedEvent();}updateTheme(){this.environment.applyThemeClasses(this.getGui());}createChart(){var _this$params$crossFil;var chartInstance=void 0;if(this.chartProxy){chartInstance=this.chartProxy.destroy({keepChartInstance:true});}var crossFilterCallback=(event,reset)=>{var ctx=this.params.crossFilteringContext;ctx.lastSelectedChartId=reset?\"\":this.chartController.getChartId();if(reset){this.params.crossFilteringResetCallback();}this.crossFilterService.filter(event,reset);};var chartType=this.chartController.getChartType();var chartProxyParams={agChartsExports:this.beans.agChartsExports,chartType,chartInstance,getChartThemeName:this.getChartThemeName.bind(this),getChartThemes:this.getChartThemes.bind(this),customChartThemes:this.gos.get(\"customChartThemes\"),styleNonce:this.gos.get(\"styleNonce\"),getGridOptionsChartThemeOverrides:()=>this.getGridOptionsChartThemeOverrides(),getExtraPaddingDirections:()=>{var _this$chartMenu$getEx,_this$chartMenu;return(_this$chartMenu$getEx=(_this$chartMenu=this.chartMenu)===null||_this$chartMenu===void 0?void 0:_this$chartMenu.getExtraPaddingDirections())!==null&&_this$chartMenu$getEx!==void 0?_this$chartMenu$getEx:[];},apiChartThemeOverrides:this.params.chartThemeOverrides,crossFiltering:(_this$params$crossFil=this.params.crossFiltering)!==null&&_this$params$crossFil!==void 0?_this$params$crossFil:false,crossFilterCallback,parentElement:this.eChart,grouping:this.chartController.isGrouping(),chartThemeToRestore:this.params.chartThemeName,chartOptionsToRestore:this.params.chartOptionsToRestore,chartPaletteToRestore:this.params.chartPaletteToRestore,seriesChartTypes:this.chartController.getSeriesChartTypes(),suppressFieldDotNotation:this.gos.get(\"suppressFieldDotNotation\"),translate:toTranslate=>this.chartTranslation.translate(toTranslate)};this.params.chartOptionsToRestore=void 0;this.chartType=chartType;this.chartProxy=this.createChartProxy(chartProxyParams);if(!this.chartProxy){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(138,{chartType:chartProxyParams.chartType});return;}this.chartController.setChartProxy(this.chartProxy);this.createMenuContext();}createMenuContext(){if(this.chartMenuContext){return;}var chartMenuParamsFactory=this.createManagedBean(new ChartMenuParamsFactory(this.chartOptionsService.getChartThemeOverridesProxy()));var chartAxisMenuParamsFactory=this.createManagedBean(new ChartMenuParamsFactory(this.chartOptionsService.getAxisThemeOverridesProxy()));this.chartMenuContext={chartController:this.chartController,chartOptionsService:this.chartOptionsService,chartMenuParamsFactory,chartAxisMenuParamsFactory};}getChartThemeName(){return this.chartController.getChartThemeName();}getChartThemes(){return this.chartController.getThemeNames();}getGridOptionsChartThemeOverrides(){return this.gos.get(\"chartThemeOverrides\");}createChartProxy(chartProxyParams){var _this$enterpriseChart;var{chartType}=chartProxyParams;switch(chartType){case\"column\":case\"bar\":case\"groupedColumn\":case\"stackedColumn\":case\"normalizedColumn\":case\"groupedBar\":case\"stackedBar\":case\"normalizedBar\":return new BarChartProxy(chartProxyParams);case\"pie\":case\"donut\":case\"doughnut\":return new PieChartProxy(chartProxyParams);case\"area\":case\"stackedArea\":case\"normalizedArea\":return new AreaChartProxy(chartProxyParams);case\"line\":case\"stackedLine\":case\"normalizedLine\":return new LineChartProxy(chartProxyParams);case\"scatter\":case\"bubble\":return new ScatterChartProxy(chartProxyParams);case\"columnLineCombo\":case\"areaColumnCombo\":case\"customCombo\":return new ComboChartProxy(chartProxyParams);}var enterpriseChartProxy=(_this$enterpriseChart=this.enterpriseChartProxyFactory)===null||_this$enterpriseChart===void 0?void 0:_this$enterpriseChart.createChartProxy(chartProxyParams);if(!enterpriseChartProxy){throw (0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._errMsg)(251,{chartType});}return enterpriseChartProxy;}addDialog(){var title=this.chartTranslation.translate(this.params.pivotChart?\"pivotChartTitle\":\"rangeChartTitle\");var{width,height}=this.getBestDialogSize();var afterGuiAttached=this.params.focusDialogOnOpen?()=>setTimeout(()=>(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._focusInto)(this.getGui())):void 0;this.chartDialog=new AgDialog({resizable:true,movable:true,maximizable:true,title,width,height,component:this,centered:true,closable:true,afterGuiAttached,postProcessPopupParams:{type:\"chart\"}});this.createBean(this.chartDialog);this.chartDialog.addEventListener(\"destroyed\",()=>{this.destroy();this.chartMenuSvc.hideAdvancedSettings();var lastFocusedCell=this.focusSvc.getFocusedCell();setTimeout(()=>{if(this.focusSvc.isAlive()){if(lastFocusedCell){this.focusSvc.setFocusedCell(_objectSpread(_objectSpread({},lastFocusedCell),{},{forceBrowserFocus:true}));}else{(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._focusGridInnerElement)(this.beans);}}});});}getBestDialogSize(){var popupParent=this.popupSvc.getPopupParent();var maxWidth=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getAbsoluteWidth)(popupParent)*0.75;var maxHeight=(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._getAbsoluteHeight)(popupParent)*0.75;var ratio=0.553;var chart=this.chartProxy.getChart();var width=this.params.insideDialog?850:chart.width;var height=this.params.insideDialog?470:chart.height;if(width>maxWidth||height>maxHeight){width=Math.min(width,maxWidth);height=Math.round(width*ratio);if(height>maxHeight){height=maxHeight;width=Math.min(width,Math.round(height/ratio));}}return{width,height};}addMenu(){if(!this.params.crossFiltering){this.chartMenu=this.createBean(new ChartMenu(this.eChartContainer,this.eMenuContainer,this.chartMenuContext));this.eChartContainer.appendChild(this.chartMenu.getGui());}}update(params){if(params!==null&&params!==void 0&&params.chartId){var validUpdate=this.chartController.update(params);if(!validUpdate){return;}}var updatedChartType=this.chartTypeChanged(params);var persistedThemeOverrides=updatedChartType||this.chartEmpty?(updatedChartType2=>{var currentChartType=this.chartType;var targetChartType=updatedChartType2;var existingChartInstance=this.chartProxy.getChart();var existingChartOptions=existingChartInstance===null||existingChartInstance===void 0?void 0:existingChartInstance.getOptions();var existingAxes=existingChartInstance===null||existingChartInstance===void 0?void 0:existingChartInstance.axes;return this.chartOptionsService.getPersistedChartThemeOverrides(existingChartOptions,existingAxes,currentChartType,targetChartType!==null&&targetChartType!==void 0?targetChartType:currentChartType);})(updatedChartType):void 0;if(updatedChartType)this.createChart();if(persistedThemeOverrides&&params!==null&&params!==void 0&&params.chartThemeOverrides){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._mergeDeep)(persistedThemeOverrides,params.chartThemeOverrides);}var updatedThemeOverrides=persistedThemeOverrides!==null&&persistedThemeOverrides!==void 0?persistedThemeOverrides:params===null||params===void 0?void 0:params.chartThemeOverrides;this.updateChart(updatedThemeOverrides);if(params!==null&&params!==void 0&&params.chartId){this.chartProxy.getChart().waitForUpdate().then(()=>{this.chartController.raiseChartApiUpdateEvent();});}}updateChart(updatedOverrides){var{chartProxy}=this;var selectedCols=this.chartController.getSelectedValueColState();var data=this.chartController.getChartData();var chartEmpty=this.handleEmptyChart(data,selectedCols.length);this.chartEmpty=chartEmpty;if(chartEmpty){if(updatedOverrides)this.chartController.updateThemeOverrides(updatedOverrides);return;}var chartUpdateParams=this.chartController.getChartUpdateParams(updatedOverrides);chartProxy.update(chartUpdateParams);this.chartProxy.getChart().waitForUpdate().then(()=>{this.chartController.raiseChartUpdatedEvent();});}chartTypeChanged(updateParams){var[currentType,updatedChartType]=[this.chartController.getChartType(),updateParams===null||updateParams===void 0?void 0:updateParams.chartType];var targetChartType=updatedChartType?getCanonicalChartType(updatedChartType):void 0;if(this.chartType!==currentType)return targetChartType!==null&&targetChartType!==void 0?targetChartType:currentType;if(targetChartType&&currentType!==targetChartType)return targetChartType;return null;}getChartModel(){return this.chartController.getChartModel();}getChartImageDataURL(fileFormat){return this.chartProxy.getChartImageDataURL(fileFormat);}handleEmptyChart(data,numFields){var pivotModeDisabled=this.chartController.isPivotChart()&&!this.chartController.isPivotMode();var chartType=this.chartController.getChartType();var minFieldsRequired=1;if(this.chartController.isActiveXYChart()){minFieldsRequired=chartType===\"bubble\"?3:2;}else if(isHierarchical(getSeriesType(chartType))){minFieldsRequired=0;}var isEmptyChart=numFields<minFieldsRequired||data.length===0;if(this.eChart){var isEmpty=pivotModeDisabled||isEmptyChart;(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setDisplayed)(this.eChart,!isEmpty);(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._setDisplayed)(this.eEmpty,isEmpty);}if(pivotModeDisabled){this.eEmpty.textContent=this.chartTranslation.translate(\"pivotChartRequiresPivotMode\");return true;}if(isEmptyChart){this.eEmpty.textContent=this.chartTranslation.translate(\"noDataToChart\");return true;}return false;}downloadChart(dimensions,fileName,fileFormat){this.chartProxy.downloadChart(dimensions,fileName,fileFormat);}openChartToolPanel(panel){var menuPanel=panel?CHART_TOOL_PANEL_MENU_OPTIONS[panel]:panel;this.chartMenu.showMenu({panel:menuPanel});}closeChartToolPanel(){this.chartMenu.hideMenu();}getChartId(){return this.chartController.getChartId();}getUnderlyingChart(){return this.chartProxy.getChartRef();}crossFilteringReset(){this.chartProxy.crossFilteringReset();}setActiveChartCellRange(focusEvent){if(this.getGui().contains(focusEvent.relatedTarget)){return;}this.chartController.setChartRange(true);}getThemeName(){var availableChartThemes=this.gos.get(\"chartThemes\")||DEFAULT_THEMES;if(availableChartThemes.length===0){throw new Error((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._errMsg)(254));}var{chartThemeName}=this.params;return availableChartThemes.includes(chartThemeName)?chartThemeName:availableChartThemes[0];}getAllKeysInObjects(objects){var allValues={};objects.filter(obj=>obj!=null).forEach(obj=>{Object.keys(obj).forEach(key=>allValues[key]=null);});return Object.keys(allValues);}validateCustomThemes(){var suppliedThemes=this.getChartThemes();var customChartThemes=this.gos.get(\"customChartThemes\");if(customChartThemes){this.getAllKeysInObjects([customChartThemes]).forEach(customThemeName=>{if(!suppliedThemes.includes(customThemeName)){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(139,{customThemeName});}});}}reactivePropertyUpdate(){this.chartController.setChartThemeName(this.getThemeName(),true);var chartId=this.getChartId();var modelType=this.chartController.isCrossFilterChart()?\"crossFilter\":this.getChartModel().modelType;var chartThemeOverrides=this.gos.get(\"chartThemeOverrides\")||{};this.update({type:\"\".concat(modelType,\"ChartUpdate\"),chartId,chartThemeOverrides});}raiseChartCreatedEvent(){this.chartProxy.getChart().waitForUpdate().then(()=>{this.eventSvc.dispatchEvent({type:\"chartCreated\",chartId:this.chartController.getChartId()});});}raiseChartDestroyedEvent(){this.eventSvc.dispatchEvent({type:\"chartDestroyed\",chartId:this.chartController.getChartId()});}destroy(){var _this$onDestroyColorS;super.destroy();if(this.chartProxy){this.chartProxy.destroy();}this.destroyBean(this.chartMenu);if(this.chartDialog&&this.chartDialog.isAlive()){this.destroyBean(this.chartDialog);}(_this$onDestroyColorS=this.onDestroyColorSchemeChangeListener)===null||_this$onDestroyColorS===void 0||_this$onDestroyColorS.call(this);var eGui=this.getGui();(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._clearElement)(eGui);(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._removeFromParent)(eGui);this.raiseChartDestroyedEvent();}};// packages/ag-grid-enterprise/src/charts/chartModelMigration.ts\nvar DEBUG=false;function upgradeChartModel(model){var originalVersion=model.version;if(model.version==null){model.version=heuristicVersionDetection(model);}model=migrateIfBefore(\"23.0.0\",model,migrateV23);model=migrateIfBefore(\"24.0.0\",model,migrateV24);model=migrateIfBefore(\"25.1.0\",model,migrateV25_1);model=migrateIfBefore(\"26.0.0\",model,migrateV26);model=migrateIfBefore(\"26.1.0\",model,migrateV26_1);model=migrateIfBefore(\"26.2.0\",model,migrateV26_2);model=migrateIfBefore(\"28.0.0\",model,migrateV28);model=migrateIfBefore(\"28.2.0\",model,migrateV28_2);model=migrateIfBefore(\"29.0.0\",model,migrateV29);model=migrateIfBefore(\"29.1.0\",model,migrateV29_1);model=migrateIfBefore(\"29.2.0\",model,migrateV29_2);model=migrateIfBefore(\"30.0.0\",model,migrateV30);model=migrateIfBefore(\"31.0.0\",model,migrateV31);model=migrateIfBefore(\"32.0.0\",model,migrateV32);model=migrateIfBefore(\"33.0.0\",model,migrateV33);model=migrateIfBefore(\"34.0.0\",model,migrateV34);model=cleanup(model);model=migrateIfBefore(VERSION,model,m=>m);if(DEBUG&&originalVersion!==model.version){console.log(\"AG Grid: ChartModel migration complete\",{model});}return model;}function migrateV23(model){model=jsonRename(\"chartOptions.legend.item.marker.type\",\"shape\",model);model=jsonRename(\"chartOptions.seriesDefaults.marker.type\",\"shape\",model);model=jsonRename(\"chartOptions.legend.padding\",\"spacing\",model);return model;}function migrateV24(model){var _LEGACY_PALETTES$char;model=jsonDelete(\"chartOptions.seriesDefaults.marker.minSize\",model);var{chartType,chartPalette,// Migrate.\nchartOptions:{xAxis,yAxis}}=model,chartOptions=_objectWithoutProperties(model.chartOptions,_excluded2),chartModel=_objectWithoutProperties(model,_excluded3);var axesTypes=getLegacyAxisType(chartType);var axes=axesTypes===null||axesTypes===void 0?void 0:axesTypes.map((type,i)=>_objectSpread({type},i===0?xAxis:yAxis));var LEGACY_PALETTES={borneo:\"ag-default\",material:\"ag-material\",bright:\"ag-vivid\"};return _objectSpread({chartType,chartThemeName:(_LEGACY_PALETTES$char=LEGACY_PALETTES[chartPalette])!==null&&_LEGACY_PALETTES$char!==void 0?_LEGACY_PALETTES$char:\"ag-default\",chartOptions:_objectSpread(_objectSpread({},chartOptions),{},{axes,xAxis,yAxis})},chartModel);}function migrateV25_1(model){model=jsonRename(\"chartOptions.seriesDefaults.label.minRequiredAngle\",\"minAngle\",model);return model;}function migrateV26(model){var highlightOptUpdate=_ref148=>{var{dimOpacity}=_ref148,opts=_objectWithoutProperties(_ref148,_excluded4);return _objectSpread(_objectSpread({},opts),dimOpacity!=null?{series:{dimOpacity}}:{});};model=jsonMutate(\"chartOptions.seriesDefaults.highlightStyle\",model,highlightOptUpdate);model=jsonDelete(\"chart\",model);model=jsonDelete(\"chartOptions.seriesDefaults.tooltipClass\",model);model=jsonDelete(\"chartOptions.seriesDefaults.tooltipTracking\",model);model=jsonDeleteDefault(\"chartOptions.axes[].label.rotation\",0,model);model=jsonDeleteDefault(\"chartOptions.axes[].label.rotation\",335,model);return model;}function migrateV26_1(model){var highlightOptUpdate=_ref149=>{var{item,series}=_ref149,opts=_objectWithoutProperties(_ref149,_excluded5);return _objectSpread({item:_objectSpread(_objectSpread({},opts),item)},series?{series}:{});};model=jsonMutate(\"chartOptions.seriesDefaults.highlightStyle\",model,highlightOptUpdate);model=jsonMutate(\"chartOptions.series[].highlightStyle\",model,highlightOptUpdate);return model;}function migrateV26_2(model){model=jsonMove(\"chartOptions.seriesDefaults.fill.opacity\",\"chartOptions.seriesDefaults.fillOpacity\",model);model=jsonMove(\"chartOptions.seriesDefaults.stroke.opacity\",\"chartOptions.seriesDefaults.strokeOpacity\",model);model=jsonMove(\"chartOptions.seriesDefaults.stroke.width\",\"chartOptions.seriesDefaults.strokeWidth\",model);model=jsonDelete(\"chartOptions.seriesDefaults.fill\",model);model=jsonDelete(\"chartOptions.seriesDefaults.stroke\",model);model=jsonDelete(\"chartOptions.seriesDefaults.callout.colors\",model);model=jsonDelete(\"chartOptions.xAxis\",model);model=jsonDelete(\"chartOptions.yAxis\",model);var{chartType:providedChartType,// disable no-unused-vars because `series` is required here, even though\n// unused, because it serves to take the `series` key out of otherChartOptions\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nchartOptions:{axes,series,seriesDefaults}}=model,otherChartOptions=_objectWithoutProperties(model.chartOptions,_excluded6),otherModelProps=_objectWithoutProperties(model,_excluded7);var chartType=getCanonicalChartType(providedChartType);var seriesType=getSeriesType(chartType);var seriesTypes=[seriesType];var chartTypeMixin={};if(!isPieChartSeries(seriesType)){var minimalAxis={top:{},bottom:{},left:{},right:{}};var updatedAxes=axes.map(_ref150=>{var{type}=_ref150,axisProps=_objectWithoutProperties(_ref150,_excluded8);return{[type]:_objectSpread(_objectSpread({},minimalAxis),axisProps)};}).reduce(merge,{});ALL_AXIS_TYPES.filter(v=>updatedAxes[v]==null).forEach(v=>{updatedAxes[v]=_objectSpread({},minimalAxis);});chartTypeMixin.axes=updatedAxes;}var updatedChartOptions=seriesTypes.map(t=>({[t]:_objectSpread(_objectSpread({},chartTypeMixin),{},{series:seriesDefaults},otherChartOptions)})).reduce(merge,{});model=_objectSpread(_objectSpread({},otherModelProps),{},{chartType,chartOptions:updatedChartOptions});return model;}function migrateV28(model){model=jsonDelete(\"chartOptions.*.title.padding\",model);model=jsonDelete(\"chartOptions.*.subtitle.padding\",model);model=jsonDelete(\"chartOptions.*.axes.*.title.padding\",model);model=jsonBackfill(\"chartOptions.*.axes.*.title.enabled\",false,model);return model;}function migrateV28_2(model){model=jsonRename(\"chartOptions.pie.series.callout\",\"calloutLine\",model);model=jsonRename(\"chartOptions.pie.series.label\",\"calloutLabel\",model);model=jsonRename(\"chartOptions.pie.series.labelKey\",\"sectorLabelKey\",model);model=jsonRename(\"chartOptions.pie.series.labelName\",\"sectorLabelName\",model);model=jsonRename(\"chartOptions.donut.series.callout\",\"calloutLine\",model);model=jsonRename(\"chartOptions.donut.series.label\",\"calloutLabel\",model);model=jsonRename(\"chartOptions.donut.series.labelKey\",\"sectorLabelKey\",model);model=jsonRename(\"chartOptions.donut.series.labelName\",\"sectorLabelName\",model);return model;}function migrateV29(model){model=jsonMoveIfMissing(\"chartOptions.scatter.series.fill\",\"chartOptions.scatter.series.marker.fill\",model);model=jsonMoveIfMissing(\"chartOptions.scatter.series.fillOpacity\",\"chartOptions.scatter.series.marker.fillOpacity\",model);model=jsonMoveIfMissing(\"chartOptions.scatter.series.stroke\",\"chartOptions.scatter.series.marker.stroke\",model);model=jsonMoveIfMissing(\"chartOptions.scatter.series.strokeOpacity\",\"chartOptions.scatter.series.marker.strokeOpacity\",model);model=jsonMoveIfMissing(\"chartOptions.scatter.series.strokeWidth\",\"chartOptions.scatter.series.marker.strokeWidth\",model);model=jsonMove(\"chartOptions.scatter.series.paired\",\"chartOptions.scatter.paired\",model);return model;}function migrateV29_1(model){model=jsonDelete(\"chartOptions.axes[].tick.count\",model);return model;}function migrateV29_2(model){var tooltipOptUpdate=_ref151=>{var{tracking}=_ref151,opts=_objectWithoutProperties(_ref151,_excluded9);var output=_objectSpread({},opts);if(tracking===false){var _output$position,_output$range;(_output$position=output.position)!==null&&_output$position!==void 0?_output$position:output.position={type:\"pointer\"};(_output$range=output.range)!==null&&_output$range!==void 0?_output$range:output.range=\"nearest\";}else if(tracking===true){var _output$position2,_output$range2;(_output$position2=output.position)!==null&&_output$position2!==void 0?_output$position2:output.position={type:\"node\"};(_output$range2=output.range)!==null&&_output$range2!==void 0?_output$range2:output.range=\"nearest\";}return output;};model=jsonMutate(\"chartOptions.*.tooltip\",model,tooltipOptUpdate);return model;}function migrateV30(model){model=jsonRename(\"chartOptions.pie.series.labelKey\",\"sectorLabelKey\",model);model=jsonRename(\"chartOptions.pie.series.labelName\",\"sectorLabelName\",model);model=migrateV29_1(model);model=migrateV29_2(model);model=jsonDelete(\"chartOptions.*.series.flipXY\",model);model=jsonAdd(\"chartOptions.common.legend.enabled\",true,model);model=jsonBackfill(\"chartOptions.common.legend.position\",\"right\",model);return model;}function migrateV31(model){var V30_LEGACY_PALETTES={\"ag-pastel\":\"ag-sheets\",\"ag-solar\":\"ag-polychroma\"};var updatedModel=jsonRename(\"chartOptions.column\",\"bar\",model);var chartThemeName=V30_LEGACY_PALETTES[updatedModel.chartThemeName]||updatedModel.chartThemeName;return _objectSpread(_objectSpread({},updatedModel),{},{chartThemeName});}function migrateV32(model){model=jsonMutateProperty(\"chartOptions.*.autoSize\",true,model,(parent,targetProp)=>{if(parent[targetProp]===true){}else if(parent[targetProp]===false){parent[\"minHeight\"]=600;parent[\"minWidth\"]=300;}delete parent[targetProp];});return model;}function migrateV33(model){model=jsonDelete(\"chartOptions.*.axes.category.label.format\",model);model=jsonDelete(\"chartOptions.*.axes.category.crosshair.label.format\",model);model=jsonDelete(\"chartOptions.*.axes.angle-category.label.format\",model);model=jsonDelete(\"chartOptions.*.axes.radius-category.label.format\",model);model=jsonRename(\"chartOptions.*.axes.*.label.padding\",\"spacing\",model);model=jsonRename(\"chartOptions.*.navigator.miniChart.label.padding\",\"spacing\",model);model=jsonDelete(\"chartOptions.*.axes.*.crossLines.label.className\",model);model=jsonMutateProperty(\"chartOptions.*.axes.*.crossLines.label.position\",true,model,(parent,targetProp)=>{if(typeof parent[targetProp]===\"string\"){parent[targetProp]=parent[targetProp].replace(/([A-Z])/,\"-$1\").toLowerCase();}});model=jsonDelete(\"chartOptions.bullet\",model);model=jsonRenameEnumValues(\"chartOptions.bar.series.label.placement\",model,{inside:\"inside-center\",outside:\"inside-end\"});model=jsonRenameEnumValues(\"chartOptions.waterfall.series.item.*.label.placement\",model,{inside:\"inside-center\",start:\"outside-start\",end:\"outside-end\"});model=jsonDelete(\"chartOptions.*.navigator.min\",model);model=jsonDelete(\"chartOptions.*.navigator.max\",model);model=jsonDelete(\"chartOptions.*.zoom.ratioX\",model);model=jsonDelete(\"chartOptions.*.zoom.ratioY\",model);model=jsonDelete(\"chartOptions.*.zoom.rangeX\",model);model=jsonDelete(\"chartOptions.*.zoom.rangeY\",model);return model;}function migrateV34(model){var highlightUpdate=(parent,targetProp)=>{var highlightStyle=parent[targetProp];if(highlightStyle==null)return;var highlight={};if(highlightStyle.item){highlight.highlightedItem=highlightStyle.item;}if(highlightStyle.series){var _highlightStyle$serie=highlightStyle.series,{dimOpacity}=_highlightStyle$serie,seriesOpts=_objectWithoutProperties(_highlightStyle$serie,_excluded0);if(dimOpacity!=null){highlight.unhighlightedSeries={opacity:dimOpacity};}if(Object.keys(seriesOpts).length>0){highlight.highlightedSeries=seriesOpts;}}delete parent[targetProp];parent.highlight=highlight;};jsonMutateProperty(\"chartOptions.series[].highlightStyle\",true,model,highlightUpdate);return model;}function cleanup(model){model=jsonDelete(\"chartOptions.*.width\",model);model=jsonDelete(\"chartOptions.*.height\",model);model=jsonBackfill(\"chartOptions.*.axes.category.label.autoRotate\",true,model);return model;}function heuristicVersionDetection(model){var _chartOptions$legend;var modelAny=model;if(model.version!=null){return model.version;}var hasKey=function hasKey(obj){for(var _len7=arguments.length,keys=new Array(_len7>1?_len7-1:0),_key7=1;_key7<_len7;_key7++){keys[_key7-1]=arguments[_key7];}return Object.keys(obj||{}).some(k=>keys.includes(k));};var chartOptions=modelAny.chartOptions;var seriesOptions=hasKey(chartOptions,\"seriesDefaults\")?chartOptions===null||chartOptions===void 0?void 0:chartOptions.seriesDefaults:chartOptions===null||chartOptions===void 0?void 0:chartOptions[Object.keys(chartOptions)[0]];var hints={\"27.0.0\":hasKey(modelAny,\"seriesChartTypes\"),\"26.2.0\":!hasKey(chartOptions,\"seriesDefaults\"),\"26.1.0\":hasKey(seriesOptions===null||seriesOptions===void 0?void 0:seriesOptions.highlightStyle,\"item\"),\"26.0.0\":hasKey(seriesOptions===null||seriesOptions===void 0?void 0:seriesOptions.highlightStyle,\"series\"),// '26.0.0': modelAny.chart === undefined,\n\"25.1.0\":hasKey(seriesOptions===null||seriesOptions===void 0?void 0:seriesOptions.label,\"minAngle\"),\"25.0.0\":hasKey(modelAny,\"modelType\",\"aggFunc\",\"unlinkChart\",\"suppressChartRanges\")||hasKey(seriesOptions,\"lineDash\",\"lineDashOffset\"),\"24.0.0\":hasKey(modelAny,\"chartThemeName\",\"chart\")||hasKey(chartOptions,\"series\"),\"23.2.0\":hasKey(chartOptions,\"navigator\"),\"23.0.0\":hasKey(chartOptions===null||chartOptions===void 0||(_chartOptions$legend=chartOptions.legend)===null||_chartOptions$legend===void 0||(_chartOptions$legend=_chartOptions$legend.item)===null||_chartOptions$legend===void 0?void 0:_chartOptions$legend.marker,\"shape\"),\"22.1.0\":hasKey(modelAny,\"chartPalette\",\"chartType\")};var defaultVersion=\"27.1.0\";var matchingHints=Object.entries(hints).filter(_ref152=>{var[_,match]=_ref152;return match;});if(DEBUG)console.log(\"AG Grid: ChartModel migration\",{heuristicVersionCandidates:matchingHints});var[heuristicVersion=defaultVersion]=matchingHints[0];if(DEBUG)console.log(\"AG Grid: ChartModel migration\",{heuristicVersion});return heuristicVersion;}function migrateIfBefore(maxVersion,model,migration){if(versionNumber(maxVersion)>versionNumber(model.version)){if(DEBUG)console.log(\"AG Grid: ChartModel migration\",{migratingTo:maxVersion});var result=migration(model);result.version=maxVersion;if(DEBUG)console.log(\"AG Grid: ChartModel migration\",{migratedTo:maxVersion,result});return result;}return model;}function versionParts(versionRaw){var version=versionRaw.includes(\"-beta\")?versionRaw.replace(/-beta.*/,\"\"):versionRaw;var split=typeof version===\"string\"?version.split(\".\").map(v=>Number(v)):[];if(split.length!==3||split.some(v=>isNaN(v))){throw new Error((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._errMsg)(253,{version}));}return{major:split[0],minor:split[1],patch:split[2]};}function versionNumber(version){var{major,minor,patch}=versionParts(version);return major*1e4+minor*100+patch;}function jsonDeleteDefault(path,defaultValue,json){return jsonMutateProperty(path,true,json,(parent,prop)=>{if(parent[prop]===defaultValue){delete parent[prop];}});}function jsonBackfill(path,defaultValue,json){return jsonMutateProperty(path,false,json,(parent,prop)=>{if(parent[prop]==null){parent[prop]=defaultValue;}});}function jsonAdd(path,value,json){if(typeof path===\"string\"){path=path.split(\".\");}var nextPath=path[0];if(path.length>1){var _json$nextPath;json[nextPath]=jsonAdd(path.slice(1),value,(_json$nextPath=json[nextPath])!==null&&_json$nextPath!==void 0?_json$nextPath:{});}var hasProperty=Object.keys(json).includes(nextPath);if(!hasProperty){json[nextPath]=value;}return json;}function jsonMove(from,to,json){var valueToMove=void 0;var valueFound=false;json=jsonMutateProperty(from,true,json,(parent,prop)=>{valueFound=true;valueToMove=parent[prop];delete parent[prop];});if(!valueFound){return json;}return jsonMutateProperty(to,false,json,(parent,prop)=>{parent[prop]=valueToMove;});}function jsonMoveIfMissing(from,to,json){var valueToMove=void 0;var valueFound=false;json=jsonMutateProperty(from,true,json,(parent,prop)=>{valueFound=true;valueToMove=parent[prop];delete parent[prop];});if(!valueFound){return json;}return jsonMutateProperty(to,false,json,(parent,prop)=>{if(parent[prop]===void 0){parent[prop]=valueToMove;}});}function jsonRename(path,renameTo,json){return jsonMutateProperty(path,true,json,(parent,prop)=>{parent[renameTo]=parent[prop];delete parent[prop];});}function jsonDelete(path,json){return jsonMutateProperty(path,true,json,(parent,prop)=>delete parent[prop]);}function jsonMutateProperty(path,skipMissing,json,mutator){var pathElements=path instanceof Array?path:path.split(\".\");var parentPathElements=pathElements.slice(0,pathElements.length-1);var targetName=pathElements[pathElements.length-1];return jsonMutate(parentPathElements,json,parent=>{var hasProperty=Object.keys(parent).includes(targetName);if(skipMissing&&!hasProperty){return parent;}var result=_objectSpread({},parent);mutator(result,targetName);return result;});}function jsonMutate(path,json,mutator){var pathElements=path instanceof Array?path:path.split(\".\");json=_objectSpread({},json);if(pathElements.length===0){return mutator(json);}else if(pathElements[0].startsWith(\"{\")){var pathOptions=pathElements[0].substring(1,pathElements[0].lastIndexOf(\"}\")).split(\",\");for(var pathOption of pathOptions){if(json[pathOption]!=null){json[pathOption]=jsonMutate(pathElements.slice(1),json[pathOption],mutator);}}}else if(pathElements[0].endsWith(\"[]\")){var arrayName=pathElements[0].substring(0,path[0].indexOf(\"[\"));if(json[arrayName]instanceof Array){json[arrayName]=json[arrayName].map(v=>jsonMutate(pathElements.slice(1),v,mutator));}}else if(pathElements[0]===\"*\"){for(var jsonProp of Object.keys(json)){json[jsonProp]=jsonMutate(pathElements.slice(1),json[jsonProp],mutator);}}else if(json[pathElements[0]]!=null){json[pathElements[0]]=jsonMutate(pathElements.slice(1),json[pathElements[0]],mutator);}return json;}function jsonRenameEnumValues(path,json,values){return jsonMutateProperty(path,true,json,(parent,targetProp)=>{if(typeof parent[targetProp]===\"string\"){var _values$targetProp;parent[targetProp]=(_values$targetProp=values[targetProp])!==null&&_values$targetProp!==void 0?_values$targetProp:targetProp;}});}var merge=(r,n)=>_objectSpread(_objectSpread({},r),n);// packages/ag-grid-enterprise/src/charts/chartService.ts\nvar ChartService=class extends ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BeanStub{constructor(){super(...arguments);this.beanName=\"chartSvc\";// we destroy all charts bound to this grid when grid is destroyed. activeCharts contains all charts, including\n// those in developer provided containers.\nthis.activeCharts=/* @__PURE__ */new Set();this.activeChartComps=/* @__PURE__ */new Set();// this shared (singleton) context is used by cross filtering in line and area charts\nthis.crossFilteringContext={lastSelectedChartId:\"\"};this.isEnterprise=()=>this.agChartsExports.isEnterprise;}wireBeans(beans){this.visibleCols=beans.visibleCols;this.rangeSvc=beans.rangeSvc;this.agChartsExports=beans.agChartsExports;}updateChart(params){if(this.activeChartComps.size===0){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(124);return;}var chartComp=[...this.activeChartComps].find(chartComp2=>chartComp2.getChartId()===params.chartId);if(!chartComp){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(125,{chartId:params.chartId});return;}chartComp.update(params);}getChartModels(){var models=[];var versionedModel=c=>{return _objectSpread(_objectSpread({},c),{},{version:VERSION});};this.activeChartComps.forEach(c=>models.push(versionedModel(c.getChartModel())));return models;}getChartRef(chartId){var chartRef;this.activeCharts.forEach(cr=>{if(cr.chartId===chartId){chartRef=cr;}});return chartRef;}getChartComp(chartId){var chartComp;this.activeChartComps.forEach(comp=>{if(comp.getChartId()===chartId){chartComp=comp;}});return chartComp;}getChartImageDataURL(params){var url;this.activeChartComps.forEach(c=>{if(c.getChartId()===params.chartId){url=c.getChartImageDataURL(params.fileFormat);}});return url;}downloadChart(params){var chartComp=Array.from(this.activeChartComps).find(c=>c.getChartId()===params.chartId);chartComp===null||chartComp===void 0||chartComp.downloadChart(params.dimensions,params.fileName,params.fileFormat);}openChartToolPanel(params){var chartComp=Array.from(this.activeChartComps).find(c=>c.getChartId()===params.chartId);chartComp===null||chartComp===void 0||chartComp.openChartToolPanel(params.panel);}closeChartToolPanel(chartId){var chartComp=Array.from(this.activeChartComps).find(c=>c.getChartId()===chartId);chartComp===null||chartComp===void 0||chartComp.closeChartToolPanel();}createChartFromCurrentRange(){var chartType=arguments.length>0&&arguments[0]!==undefined?arguments[0]:\"groupedColumn\";var fromApi=arguments.length>1?arguments[1]:undefined;var cellRange=this.getSelectedRange();return this.createChart({cellRange,chartType,focusDialogOnOpen:!fromApi});}restoreChart(model,chartContainer){if(!model){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(126);return;}if(model.version!==VERSION){model=upgradeChartModel(model);}var cellRange;var pivotChart;var suppressChartRanges;var chartPaletteToRestore;if(model.modelType===\"pivot\"){this.gos.updateGridOptions({options:{pivotMode:true},source:\"pivotChart\"});cellRange=this.createCellRange(void 0,true);pivotChart=true;suppressChartRanges=true;}else{cellRange=this.createCellRange(model.cellRange);chartPaletteToRestore=model.chartPalette;suppressChartRanges=model.suppressChartRanges;}if(!cellRange){return;}return this.createChart(_objectSpread(_objectSpread({},model),{},{cellRange,pivotChart,suppressChartRanges,chartContainer,chartOptionsToRestore:model.chartOptions,chartPaletteToRestore}));}createRangeChart(params,fromApi){var cellRange=this.createCellRange(params.cellRange);if(!cellRange){return;}return this.createChart(_objectSpread(_objectSpread({},params),{},{cellRange,focusDialogOnOpen:!fromApi}));}createPivotChart(params,fromApi){this.gos.updateGridOptions({options:{pivotMode:true},source:\"pivotChart\"});var cellRange=this.createCellRange(void 0,true);if(!cellRange){return;}return this.createChart(_objectSpread(_objectSpread({},params),{},{cellRange,pivotChart:true,suppressChartRanges:true,focusDialogOnOpen:!fromApi}));}createCrossFilterChart(params,fromApi){var cellRange=this.createCellRange(params.cellRange);if(!cellRange){return;}var suppressChartRangesSupplied=typeof params.suppressChartRanges!==\"undefined\"&&params.suppressChartRanges!==null;var suppressChartRanges=suppressChartRangesSupplied?params.suppressChartRanges:true;return this.createChart(_objectSpread(_objectSpread({},params),{},{cellRange,suppressChartRanges,crossFiltering:true,focusDialogOnOpen:!fromApi}));}createChart(params){var validationResult=validateCreateParams(params,this.agChartsExports.isEnterprise);if(!validationResult){return void 0;}params=validationResult===true?params:validationResult;var{chartType,chartContainer}=params;var createChartContainerFunc=this.gos.getCallback(\"createChartContainer\");var gridChartParams=_objectSpread(_objectSpread({},params),{},{chartId:this.generateId(),chartType:getCanonicalChartType(chartType),insideDialog:!(chartContainer||createChartContainerFunc),crossFilteringContext:this.crossFilteringContext,crossFilteringResetCallback:()=>this.activeChartComps.forEach(c=>c.crossFilteringReset())});var chartComp=new GridChartComp(gridChartParams);this.createBean(chartComp);var chartRef=this.createChartRef(chartComp);if(chartContainer){chartContainer.appendChild(chartRef.chartElement);}else if(createChartContainerFunc){createChartContainerFunc(chartRef);}else{chartComp.addEventListener(\"destroyed\",()=>{this.activeChartComps.delete(chartComp);this.activeCharts.delete(chartRef);});}return chartRef;}createChartRef(chartComp){var chartRef={destroyChart:()=>{if(this.activeCharts.has(chartRef)){this.destroyBean(chartComp);this.activeChartComps.delete(chartComp);this.activeCharts.delete(chartRef);}},focusChart:()=>{(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._focusInto)(chartComp.getGui());},chartElement:chartComp.getGui(),chart:chartComp.getUnderlyingChart(),chartId:chartComp.getChartModel().chartId};this.activeCharts.add(chartRef);this.activeChartComps.add(chartComp);return chartRef;}getSelectedRange(){var _this$rangeSvc3;var ranges=(_this$rangeSvc3=this.rangeSvc)===null||_this$rangeSvc3===void 0?void 0:_this$rangeSvc3.getCellRanges();if(!ranges||ranges.length===0){return{columns:[]};}var uCols=/* @__PURE__ */new Set();var startRowIndex=Number.MAX_VALUE;var endRowIndex=-Number.MAX_VALUE;ranges.forEach(_ref153=>{var{startRow:sr,endRow:er,columns:cols}=_ref153;if(!(sr&&er)){return;}cols.forEach(col=>uCols.add(col));var{rowIndex:sRowIndex,rowPinned:startRowPinned}=sr;var{rowIndex:eRowIndex,rowPinned:endRowPinned}=er;if(startRowPinned===\"top\"){if(endRowPinned===\"top\"){return;}sRowIndex=0;}if(endRowPinned===\"bottom\"){if(startRowPinned===\"bottom\"){return;}eRowIndex=this.beans.pageBounds.getLastRow();}if(sRowIndex!==void 0){startRowIndex=Math.min(startRowIndex,sRowIndex);}if(eRowIndex!==void 0){endRowIndex=Math.max(endRowIndex,eRowIndex);}});if(startRowIndex===Number.MAX_VALUE||endRowIndex===-Number.MAX_VALUE){return{columns:[]};}var columns=Array.from(uCols);return{// Don't specify id here, as it should be chart-specific\n// but we don't have that context yet\ncolumns,startColumn:columns[0],startRow:{rowIndex:startRowIndex,rowPinned:void 0},endRow:{rowIndex:endRowIndex,rowPinned:void 0}};}generateId(){return\"id-\".concat(Math.random().toString(36).substring(2,18));}createCellRange(cellRangeParams,allRange){var _this$rangeSvc4;var rangeParams=allRange?{rowStartIndex:null,rowStartPinned:void 0,rowEndIndex:null,rowEndPinned:void 0,columns:this.visibleCols.allCols.map(col=>col.getColId())}:cellRangeParams;var cellRange=rangeParams&&((_this$rangeSvc4=this.rangeSvc)===null||_this$rangeSvc4===void 0?void 0:_this$rangeSvc4.createPartialCellRangeFromRangeParams(rangeParams,true));if(!cellRange){(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._warn)(127,{allRange});}return cellRange;}destroy(){this.activeCharts.forEach(chart=>chart.destroyChart());super.destroy();}};// packages/ag-grid-enterprise/src/charts/chartsApi.ts\nfunction getChartModels(beans){return beans.frameworkOverrides.wrapIncoming(()=>{var _beans$chartSvc;return(_beans$chartSvc=beans.chartSvc)===null||_beans$chartSvc===void 0?void 0:_beans$chartSvc.getChartModels();});}function getChartRef(beans,chartId){return beans.frameworkOverrides.wrapIncoming(()=>{var _beans$chartSvc2;return(_beans$chartSvc2=beans.chartSvc)===null||_beans$chartSvc2===void 0?void 0:_beans$chartSvc2.getChartRef(chartId);});}function getChartImageDataURL(beans,params){return beans.frameworkOverrides.wrapIncoming(()=>{var _beans$chartSvc3;return(_beans$chartSvc3=beans.chartSvc)===null||_beans$chartSvc3===void 0?void 0:_beans$chartSvc3.getChartImageDataURL(params);});}function downloadChart(beans,params){return beans.frameworkOverrides.wrapIncoming(()=>{var _beans$chartSvc4;return(_beans$chartSvc4=beans.chartSvc)===null||_beans$chartSvc4===void 0?void 0:_beans$chartSvc4.downloadChart(params);});}function openChartToolPanel(beans,params){return beans.frameworkOverrides.wrapIncoming(()=>{var _beans$chartSvc5;return(_beans$chartSvc5=beans.chartSvc)===null||_beans$chartSvc5===void 0?void 0:_beans$chartSvc5.openChartToolPanel(params);});}function closeChartToolPanel(beans,params){return beans.frameworkOverrides.wrapIncoming(()=>{var _beans$chartSvc6;return(_beans$chartSvc6=beans.chartSvc)===null||_beans$chartSvc6===void 0?void 0:_beans$chartSvc6.closeChartToolPanel(params.chartId);});}function createRangeChart(beans,params){return beans.frameworkOverrides.wrapIncoming(()=>{var _beans$chartSvc7;return(_beans$chartSvc7=beans.chartSvc)===null||_beans$chartSvc7===void 0?void 0:_beans$chartSvc7.createRangeChart(params,true);});}function createPivotChart(beans,params){return beans.frameworkOverrides.wrapIncoming(()=>{var _beans$chartSvc8;return(_beans$chartSvc8=beans.chartSvc)===null||_beans$chartSvc8===void 0?void 0:_beans$chartSvc8.createPivotChart(params,true);});}function createCrossFilterChart(beans,params){return beans.frameworkOverrides.wrapIncoming(()=>{var _beans$chartSvc9;return(_beans$chartSvc9=beans.chartSvc)===null||_beans$chartSvc9===void 0?void 0:_beans$chartSvc9.createCrossFilterChart(params,true);});}function updateChart(beans,params){return beans.frameworkOverrides.wrapIncoming(()=>{var _beans$chartSvc0;return(_beans$chartSvc0=beans.chartSvc)===null||_beans$chartSvc0===void 0?void 0:_beans$chartSvc0.updateChart(params);});}function restoreChart(beans,chartModel,chartContainer){return beans.frameworkOverrides.wrapIncoming(()=>{var _beans$chartSvc1;return(_beans$chartSvc1=beans.chartSvc)===null||_beans$chartSvc1===void 0?void 0:_beans$chartSvc1.restoreChart(chartModel,chartContainer);});}// packages/ag-grid-enterprise/src/charts/integratedChartsModule.css-GENERATED.ts\nvar integratedChartsModuleCSS=/*css*/\".ag-chart{display:flex;height:100%;position:relative;width:100%}.ag-chart-components-wrapper{display:flex}.ag-chart-canvas-wrapper,.ag-chart-components-wrapper{flex:1 1 auto;position:relative}.ag-chart-menu{background:var(--ag-background-color);background-color:color-mix(in srgb,transparent,var(--ag-background-color) 30%);border-radius:var(--ag-border-radius);display:flex;flex-direction:row;gap:20px;padding:4px 2px;position:absolute;top:8px;width:auto;--ag-icon-size:20px}:where(.ag-ltr) .ag-chart-menu{justify-content:right;right:calc(var(--ag-cell-horizontal-padding) + var(--ag-spacing) - 4px)}:where(.ag-rtl) .ag-chart-menu{justify-content:left;left:calc(var(--ag-cell-horizontal-padding) + var(--ag-spacing) - 4px)}.ag-chart-docked-container{min-width:var(--ag-chart-menu-panel-width);position:relative}:where(.ag-chart-menu-hidden)~.ag-chart-docked-container{display:none}.ag-chart-tabbed-menu{display:flex;flex-direction:column;height:100%;overflow:hidden;width:100%}.ag-chart-tabbed-menu-header{cursor:default;flex:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-chart-tabbed-menu-body{align-items:stretch;display:flex;flex:1 1 auto;overflow:hidden;position:relative;&:after{background:linear-gradient(var(--ag-background-color),transparent);content:\\\"\\\";display:block;height:16px;left:0;position:absolute;right:0;top:0}}.ag-chart-tab{overflow:hidden;overflow-y:auto;width:100%}.ag-chart-settings{overflow-x:hidden}.ag-chart-settings-wrapper{display:flex;flex-direction:column;height:100%;overflow:hidden;position:relative;width:100%}.ag-chart-settings-nav-bar{align-items:center;border-top:solid var(--ag-border-width) var(--ag-border-color);display:flex;height:30px;padding:0 10px;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:100%}.ag-chart-settings-card-selector{align-items:center;display:flex;flex:1 1 auto;height:100%;justify-content:space-around;padding:0 10px}.ag-chart-settings-card-item{background-color:var(--ag-foreground-color);border-radius:4px;cursor:pointer;height:8px;position:relative;width:8px;&.ag-not-selected{opacity:.2}&:before{background-color:transparent;content:\\\" \\\";display:block;height:20px;left:50%;margin-left:-10px;margin-top:-10px;position:absolute;top:50%;width:20px}&.ag-selected{background-color:var(--ag-accent-color)}}.ag-chart-settings-next,.ag-chart-settings-prev{flex:none;position:relative;&:focus-within{border-radius:1px;box-shadow:var(--ag-focus-shadow)}}.ag-chart-settings-next-button,.ag-chart-settings-prev-button{cursor:pointer;height:100%;left:0;opacity:0;position:absolute;top:0;width:100%}.ag-chart-settings-mini-charts-container{flex:1 1 auto;overflow:hidden auto;position:relative}.ag-chart-settings-mini-wrapper{display:flex;flex-direction:column;left:0;min-height:100%;overflow:hidden;padding-bottom:var(--ag-widget-container-vertical-padding);position:absolute;top:0;width:100%;&.ag-animating{transition:left .3s;transition-timing-function:ease-in-out}}.ag-chart-mini-thumbnail{border:solid var(--ag-border-width) var(--ag-border-color);border-radius:5px;cursor:pointer;padding:1px;&.ag-selected{border-color:var(--ag-accent-color);border-width:calc(var(--ag-border-width) + 1px);padding:unset}&:focus-visible{border-color:var(--ag-accent-color);box-shadow:var(--ag-focus-shadow)}}.ag-chart-mini-thumbnail-canvas{display:block}.ag-chart-advanced-settings-wrapper,.ag-chart-data-wrapper,.ag-chart-format-wrapper{display:flex;flex-direction:column;padding-bottom:16px;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-chart-advanced-settings-wrapper,.ag-chart-data-wrapper{height:100%;overflow-y:auto}.ag-chart-advanced-settings{background-color:var(--ag-chrome-background-color)}.ag-chart-advanced-settings,.ag-chart-advanced-settings-wrapper{width:100%}.ag-chart-advanced-settings-wrapper{padding-bottom:0}.ag-chart-advanced-settings-section{border-bottom:solid var(--ag-border-width) var(--ag-border-color);display:flex;margin:0;padding-bottom:var(--ag-widget-container-vertical-padding);padding-top:var(--ag-widget-container-vertical-padding)}.ag-chart-empty-text{align-items:center;background-color:var(--ag-background-color);display:flex;height:100%;justify-content:center;top:0;width:100%}.ag-charts-font-size-color{align-self:stretch;display:flex;justify-content:space-between}.ag-charts-data-group-item{padding-bottom:var(--ag-widget-container-vertical-padding);position:relative}.ag-charts-data-group-item:where(:not(:last-child)){margin-bottom:var(--ag-spacing)}.ag-chart-menu-icon{border-radius:var(--ag-border-radius);cursor:pointer;margin:2px 0;opacity:.8;&:hover{opacity:1}}.ag-chart-menu-toolbar-button{background-color:unset;border:0;border-radius:1px;padding:0 2px}.ag-chart-data-column-drag-handle{margin-left:var(--ag-spacing)}.ag-charts-advanced-settings-top-level-group-title-bar{background-color:unset;position:relative}.ag-charts-data-group-container{padding:calc(var(--ag-widget-container-vertical-padding)*.5) var(--ag-widget-container-horizontal-padding)}.ag-charts-data-group-item:where(:not(.ag-charts-format-sub-level-group,.ag-pill-select,.ag-select)){height:var(--ag-list-item-height)}.ag-charts-data-group-item:where(.ag-picker-field){margin-top:var(--ag-spacing)}.ag-charts-advanced-settings-top-level-group-container,.ag-charts-format-top-level-group-container{margin-left:calc(var(--ag-spacing)*2);padding:var(--ag-spacing)}.ag-charts-advanced-settings-top-level-group-item,.ag-charts-format-top-level-group-item{margin:var(--ag-spacing) 0}.ag-charts-format-sub-level-group-container{display:flex;flex-direction:column;padding:var(--ag-widget-vertical-spacing) 0}.ag-charts-settings-group-container{display:grid;grid-template-columns:60px 1fr 60px 1fr 60px;padding:var(--ag-spacing);row-gap:8px;:where(.ag-chart-mini-thumbnail:nth-child(3n+1)){grid-column:1}:where(.ag-chart-mini-thumbnail:nth-child(3n+2)){grid-column:3}:where(.ag-chart-mini-thumbnail:nth-child(3n+3)){grid-column:5}}.ag-chart-data-section,.ag-chart-format-section{display:flex;margin:0;:where(.ag-label:not(.ag-group-title-bar)){color:var(--ag-chart-menu-label-color)}:where(.ag-label-align-top .ag-label){margin-bottom:var(--ag-widget-vertical-spacing);margin-top:calc(var(--ag-widget-vertical-spacing)*.5)}:where(.ag-slider.ag-label-align-top .ag-label){margin-bottom:0}:where(label){display:inline-block}}.ag-chart-menu-panel{--ag-panel-background-color:var(--ag-chrome-background-color)}:where(.ag-ltr) .ag-chart-menu-panel{border-left:solid var(--ag-border-width) var(--ag-border-color)}:where(.ag-rtl) .ag-chart-menu-panel{border-right:solid var(--ag-border-width) var(--ag-border-color)}.ag-charts-data-group-title-bar,.ag-charts-format-top-level-group-title-bar,.ag-charts-settings-group-container,.ag-charts-settings-group-title-bar{border-top:none;font-weight:500;padding:0 calc(var(--ag-spacing)*1.5)}.ag-charts-format-sub-level-group-title-bar{background:none;font-weight:500;padding:var(--ag-widget-vertical-spacing) 0}.ag-chart-data-wrapper,.ag-chart-format-wrapper,.ag-charts-data-group-container,.ag-charts-data-group-title-bar,.ag-charts-format-sub-level-group,.ag-charts-format-sub-level-group-container>*,.ag-charts-format-sub-level-group-item:last-child,.ag-charts-format-top-level-group,.ag-charts-format-top-level-group-item,.ag-charts-format-top-level-group-title-bar,.ag-charts-settings-group-container,.ag-charts-settings-group-title-bar,:where(.ag-charts-format-top-level-group) .ag-charts-format-top-level-group-container{margin:0;padding:0}.ag-charts-data-group-title-bar,.ag-charts-format-top-level-group-title-bar,.ag-charts-settings-group-title-bar{padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);position:relative}.ag-charts-data-group,.ag-charts-format-top-level-group{border-top:solid var(--ag-border-width) var(--ag-border-color)}:where(.ag-charts-data-group) .ag-charts-data-group-container,:where(.ag-charts-format-top-level-group) .ag-charts-format-top-level-group-container,:where(.ag-charts-settings-group) .ag-charts-settings-group-container{padding:0 var(--ag-widget-container-horizontal-padding)}.ag-charts-format-sub-level-group-container>*,.ag-charts-format-sub-level-no-header-group-container>*,.ag-charts-format-top-level-group-container>*{margin-bottom:var(--ag-widget-vertical-spacing)}.ag-charts-advanced-settings-top-level-group-container{margin:0}:where(.ag-charts-advanced-settings-top-level-group){.ag-charts-advanced-settings-top-level-group-container,.ag-charts-advanced-settings-top-level-group-title-bar{padding:0 var(--ag-widget-container-horizontal-padding)}}.ag-charts-advanced-settings-top-level-group-item{margin-bottom:0;margin-top:calc(var(--ag-widget-vertical-spacing)*2)}.ag-chart-settings-card-item.ag-not-selected:hover{opacity:.35}.ag-angle-select{align-items:center;display:flex}.ag-angle-select-wrapper{display:flex}.ag-angle-select-parent-circle{background-color:var(--ag-background-color);border:solid var(--ag-border-width) var(--ag-border-color);border-radius:12px;display:block;height:24px;position:relative;width:24px}.ag-angle-select-child-circle{background-color:var(--ag-foreground-color);border-radius:3px;height:6px;left:12px;margin-left:-3px;margin-top:-4px;position:absolute;top:4px;width:6px}.ag-slider-wrapper{display:flex;:where(.ag-input-field){flex:1 1 auto}}.ag-color-panel{display:flex;flex-direction:column;padding:var(--ag-spacing);text-align:center;width:100%}.ag-spectrum-color{cursor:default;flex:1 1 auto;overflow:visible;position:relative}.ag-spectrum-fill{inset:0;position:absolute}.ag-spectrum-val{background-image:linear-gradient(0deg,#000,hsla(20,42%,65%,0));cursor:pointer}.ag-spectrum-dragger{background:#000;border:3px solid #fff;border-radius:18px;box-shadow:0 0 2px 0 rgba(0,0,0,.24);cursor:pointer;height:18px;pointer-events:none;position:absolute;width:18px}.ag-spectrum-alpha,.ag-spectrum-hue{cursor:default}.ag-spectrum-hue-background{background:linear-gradient(270deg,red 3%,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red);height:100%;width:100%}.ag-spectrum-alpha-background{background:linear-gradient(to right,var(--ag-internal-spectrum-alpha-color-from),var(--ag-internal-spectrum-alpha-color-to)),url('data:image/svg+xml;utf8,<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"4\\\" height=\\\"4\\\"><rect x=\\\"0\\\" y=\\\"0\\\" width=\\\"4\\\" height=\\\"4\\\" fill=\\\"%23fff\\\"/><path d=\\\"M0 0H2V4H4V2H0Z\\\" fill=\\\"%23b2b2b2\\\"/></svg>') 0 0 /4px 4px;height:100%;width:100%}.ag-spectrum-tool{border-radius:2px;cursor:pointer;height:11px;margin-bottom:10px;position:relative}.ag-spectrum-slider{border:2px solid #fff;border-radius:13px;box-shadow:0 1px 4px 0 rgba(0,0,0,.37);height:13px;margin-top:-12px;pointer-events:none;position:absolute;width:13px}:where(.ag-spectrum-alpha) .ag-spectrum-slider{background:linear-gradient(to bottom,var(--ag-internal-spectrum-alpha-color),var(--ag-internal-spectrum-alpha-color)) var(--ag-background-color)}.ag-recent-colors{display:flex;gap:6px;margin-bottom:2px;margin-left:var(--ag-spacing);margin-right:var(--ag-spacing)}.ag-recent-color{border:solid var(--ag-border-width) var(--ag-border-color);cursor:pointer}.ag-angle-select[disabled]{opacity:.5;pointer-events:none}:where(.ag-ltr) .ag-angle-select-field,:where(.ag-ltr) .ag-slider-field{margin-right:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-angle-select-field,:where(.ag-rtl) .ag-slider-field{margin-left:calc(var(--ag-spacing)*2)}.ag-color-dialog{border-radius:5px}:where(.ag-color-picker){.ag-picker-field-wrapper{padding-left:var(--ag-spacing);padding-right:var(--ag-spacing)}.ag-picker-field-display{align-items:center;display:flex;flex-direction:row;min-height:var(--ag-list-item-height)}}:where(.ag-ltr) .ag-color-picker-color,:where(.ag-ltr) .ag-color-picker-value{margin-right:var(--ag-spacing)}:where(.ag-rtl) .ag-color-picker-color,:where(.ag-rtl) .ag-color-picker-value{margin-left:var(--ag-spacing)}.ag-spectrum-tools{padding-bottom:0;padding-left:0;padding-right:0}.ag-spectrum-alpha-background,.ag-spectrum-hue-background{border-radius:2px}.ag-color-input-color,.ag-color-picker-color,.ag-recent-color{border-radius:4px}.ag-spectrum-sat{background-image:linear-gradient(90deg,#fff,hsla(20,42%,65%,0))}.ag-recent-color,.ag-spectrum-color,.ag-spectrum-slider{&:where(:not(:disabled,[readonly])):focus-visible{box-shadow:var(--ag-focus-shadow)}}.ag-color-input-color,.ag-color-picker-color{border:solid var(--ag-border-width) var(--ag-border-color);border-radius:2px;height:var(--ag-icon-size);width:var(--ag-icon-size)}:where(.ag-color-input){.ag-color-input-color{position:absolute}}:where(.ag-ltr) :where(.ag-color-input){.ag-input-field-input{padding-left:calc(var(--ag-icon-size) + var(--ag-spacing)*2)}.ag-color-input-color{margin-left:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-color-input){.ag-input-field-input{padding-right:calc(var(--ag-icon-size) + var(--ag-spacing)*2)}.ag-color-input-color{margin-right:var(--ag-spacing)}}.ag-range-field{align-items:center;display:flex;:where(.ag-input-wrapper){height:100%}}.ag-range-field-input{-webkit-appearance:none;-moz-appearance:none;appearance:none;background:none;height:100%;overflow:visible;padding:0;width:100%;&:disabled{opacity:.5}}.ag-range-field-input{&::-webkit-slider-runnable-track{background-color:var(--ag-border-color);border-radius:1.5px;height:3px;margin:0;padding:0;width:100%}&::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;background-color:var(--ag-background-color);border:solid var(--ag-border-width) var(--ag-border-color);border-radius:100%;height:var(--ag-icon-size);margin:0;padding:0;transform:translateY(calc(var(--ag-icon-size)*-.5 + 1.5px));width:var(--ag-icon-size)}&:focus::-webkit-slider-thumb{border-color:var(--ag-accent-color);box-shadow:var(--ag-focus-shadow)}&:active::-webkit-slider-runnable-track{background-color:var(--ag-accent-color)}}.ag-range-field-input{&::-moz-range-track{background-color:var(--ag-border-color);border-radius:1.5px;height:3px;margin:0;padding:0;width:100%}&::-moz-ag-range-thumb{-moz-appearance:none;appearance:none;background-color:var(--ag-background-color);border:solid var(--ag-border-width) var(--ag-border-color);border-radius:100%;height:var(--ag-icon-size);margin:0;padding:0;transform:translateY(calc(var(--ag-icon-size)*-.5 + 1.5px));width:var(--ag-icon-size)}&:focus::-moz-ag-range-thumb{border-color:var(--ag-accent-color);box-shadow:var(--ag-focus-shadow)}&:active::-moz-ag-range-track{background-color:var(--ag-accent-color)}}\";// packages/ag-grid-enterprise/src/charts/utils/validGridChartsVersion.ts\nvar VERSION_CHECKING_FIRST_GRID_MAJOR_VERSION=28;var VERSION_CHECKING_FIRST_CHARTS_MAJOR_VERSION=6;function isValidVersion(version){return version&&version.match(/\\d+\\.\\d+\\.\\d+/);}function isValidMajorVersion(_ref154){var{gridMajorVersion,chartsMajorVersion}=_ref154;var gridMajor=parseInt(gridMajorVersion,10);var chartsMajor=parseInt(chartsMajorVersion,10);var gridMajorDifference=gridMajor-VERSION_CHECKING_FIRST_GRID_MAJOR_VERSION;var chartsMajorDifference=chartsMajor-VERSION_CHECKING_FIRST_CHARTS_MAJOR_VERSION;var isFirstOrAfterVersion=gridMajorDifference>=0;return gridMajorDifference===chartsMajorDifference&&isFirstOrAfterVersion;}function gridChartVersion(gridVersion){if(!gridVersion||!isValidVersion(gridVersion)){return void 0;}var[gridMajor,gridMinor]=gridVersion.split(\".\")||[];var gridMajorMinor=\"\".concat(gridMajor,\".\").concat(gridMinor,\".x\");var gridMajorNumber=parseInt(gridMajor,10);var chartsMajor=gridMajorNumber-VERSION_CHECKING_FIRST_GRID_MAJOR_VERSION+VERSION_CHECKING_FIRST_CHARTS_MAJOR_VERSION;if(chartsMajor<0){return void 0;}var chartsMinor=gridMinor;var chartsMajorMinor=\"\".concat(chartsMajor,\".\").concat(chartsMinor,\".x\");return{gridMajorMinor,chartsMajorMinor};}function validGridChartsVersionErrorMessage(_ref155){var{type,gridVersion,chartsVersion}=_ref155;var invalidMessage=\"AG Grid: AG Grid version is incompatible. Please see https://www.ag-grid.com/javascript-data-grid/modules/ for more information.\";if(!gridVersion){return invalidMessage;}var version=gridChartVersion(gridVersion);if(!version){return invalidMessage;}var{gridMajorMinor,chartsMajorMinor}=version;if(type===\"incompatible\"){return\"AG Grid version \".concat(gridVersion,\" and AG Charts version \").concat(chartsVersion,\" is not supported. AG Grid version \").concat(gridMajorMinor,\" should be used with AG Chart \").concat(chartsMajorMinor,\". Please see https://www.ag-grid.com/javascript-data-grid/modules/ for more information.\");}else if(type===\"invalidCharts\"){return\"AG Grid version \".concat(gridMajorMinor,\" should be used with AG Chart \").concat(chartsMajorMinor,\" not \").concat(chartsVersion,\". Please see https://www.ag-grid.com/javascript-data-grid/modules/ for more information.\");}return invalidMessage;}function validGridChartsVersion(_ref156){var{gridVersion,chartsVersion}=_ref156;if(!isValidVersion(chartsVersion)){return{isValid:false,message:validGridChartsVersionErrorMessage({type:\"invalidCharts\",gridVersion,chartsVersion})};}if(!isValidVersion(gridVersion)){return{isValid:false,message:validGridChartsVersionErrorMessage({type:\"invalidGrid\",gridVersion,chartsVersion})};}var[gridMajor,gridMinor]=gridVersion.split(\".\")||[];var[chartsMajor,chartsMinor,chartsPatch]=chartsVersion.split(\".\")||[];var isValidMajor=isValidMajorVersion({gridMajorVersion:gridMajor,chartsMajorVersion:chartsMajor});if(isValidMajor&&gridMinor===chartsMinor||chartsPatch.includes(\"beta\")){return{isValid:true};}else if(!isValidMajor||gridMinor!==chartsMinor){return{isValid:false,message:validGridChartsVersionErrorMessage({type:\"incompatible\",gridVersion,chartsVersion})};}return{isValid:false,message:validGridChartsVersionErrorMessage({type:\"invalid\",gridVersion,chartsVersion})};}// packages/ag-grid-enterprise/src/charts/integratedChartsModule.ts\nvar icons={// shown on top right of chart when chart is linked to range data (click to unlink)\nlinked:\"linked\",// shown on top right of chart when chart is not linked to range data (click to link)\nunlinked:\"unlinked\",// icon to open charts menu\nchartsMenu:\"menu-alt\",// download chart\nchartsDownload:\"save\",// Edit Chart menu item shown in Integrated Charts menu\nchartsMenuEdit:\"chart\",// Advanced Settings menu item shown in Integrated Charts menu\nchartsMenuAdvancedSettings:\"settings\",// shown in Integrated Charts menu add fields\nchartsMenuAdd:\"plus\",// shown in Integrated Charts tool panel color picker\nchartsColorPicker:\"small-down\",// previous in Integrated Charts settings tool panel theme switcher\nchartsThemePrevious:\"previous\",// next in Integrated Charts settings tool panel theme switcher\nchartsThemeNext:\"next\"};var apiFunctions={getChartModels,getChartRef,getChartImageDataURL,downloadChart,openChartToolPanel,closeChartToolPanel,createRangeChart,createPivotChart,createCrossFilterChart,updateChart,restoreChart};var dependsOn=[CellSelectionModule,EnterpriseCoreModule,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._SharedDragAndDropModule,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._PopupModule,MenuItemModule];var moduleName2=\"IntegratedCharts\";var GridChartsModule={moduleName:\"GridCharts\",version:VERSION,dependsOn,// included to avoid other false positive warnings about missing modules\nvalidate:()=>{return{isValid:false,message:\"AG Grid: As of v33, the \\\"GridChartsModule\\\" has been deprecated. Please use \\\"IntegratedChartsModule.with(...)\\\" instead.\\n \".concat((0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._preInitErrMsg)(257))};}};var IntegratedChartsModule={moduleName:moduleName2,version:VERSION,dependsOn,// included to avoid other false positive warnings about missing modules\nvalidate:()=>{return{isValid:false,message:(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._preInitErrMsg)(257)};},with:params=>{var _params$setGridContex;params.setup();(_params$setGridContex=params.setGridContext)===null||_params$setGridContex===void 0||_params$setGridContex.call(params,true);if(params.isEnterprise&&params.setLicenseKey){var chartsManager={setLicenseKey:params.setLicenseKey};LicenseManager.setChartsLicenseManager(chartsManager);}return{moduleName:moduleName2,version:VERSION,icons,apiFunctions,dependsOn,css:[integratedChartsModuleCSS],validate:()=>{return validGridChartsVersion({gridVersion:VERSION,chartsVersion:params.VERSION});},beans:[// bind the params to the constructor to avoid the need for static properties\nAgChartsExports.bind(null,params),ChartService,ChartTranslationService,ChartCrossFilterService,ChartMenuListFactory,ChartMenuService,// Include enterprise beans for now for all users as tiny compared to charts bundle size\nEnterpriseChartProxyFactory,AdvancedSettingsMenuFactory]};}};// packages/ag-grid-enterprise/src/allEnterpriseModule.ts\nvar dependsOn2=[ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AllCommunityModule,ClipboardModule,ColumnsToolPanelModule,ExcelExportModule,FiltersToolPanelModule,NewFiltersToolPanelModule,MasterDetailModule,ColumnMenuModule,ContextMenuModule,CellSelectionModule,RichSelectModule,RowNumbersModule,RowGroupingModule,RowGroupingPanelModule,GroupFilterModule,ServerSideRowModelModule,ServerSideRowModelApiModule,SetFilterModule,MultiFilterModule,AdvancedFilterModule,SideBarModule,StatusBarModule,ViewportRowModelModule,PivotModule,TreeDataModule,FindModule,BatchEditModule];var moduleName3=\"AllEnterprise\";var AllEnterpriseModule={with:params=>({moduleName:moduleName3,version:VERSION,dependsOn:[...dependsOn2,IntegratedChartsModule.with(params),SparklinesModule.with(params)]}),moduleName:moduleName3,version:VERSION,dependsOn:dependsOn2};// packages/ag-grid-enterprise/src/main.ts\n\n\n//# sourceURL=webpack://pcf_tools_652ac3f36e1e4bca82eb3c1dc44e6fad/./node_modules/ag-grid-enterprise/dist/package/main.esm.mjs?\n}");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./FPExecutionKPI/index.ts");
/******/ 	pcf_tools_652ac3f36e1e4bca82eb3c1dc44e6fad = __webpack_exports__;
/******/ 	
/******/ })()
;
if (window.ComponentFramework && window.ComponentFramework.registerControl) {
	ComponentFramework.registerControl('aubia.FPExecutionKPI', pcf_tools_652ac3f36e1e4bca82eb3c1dc44e6fad.FPExecutionKPI);
} else {
	var aubia = aubia || {};
	aubia.FPExecutionKPI = pcf_tools_652ac3f36e1e4bca82eb3c1dc44e6fad.FPExecutionKPI;
	pcf_tools_652ac3f36e1e4bca82eb3c1dc44e6fad = undefined;
}